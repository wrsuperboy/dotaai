globals
    constant integer MAX_TEAM_PLAYERS = 8
    constant boolean MAX_TEAM_PLAYERS_GE_0 = true
    constant boolean MAX_TEAM_PLAYERS_GE_1 = true
    constant boolean MAX_TEAM_PLAYERS_GE_2 = true
    constant boolean MAX_TEAM_PLAYERS_GE_3 = true
    constant boolean MAX_TEAM_PLAYERS_GE_4 = true
    constant boolean MAX_TEAM_PLAYERS_GE_5 = true
    constant boolean MAX_TEAM_PLAYERS_GE_6 = true
    constant boolean MAX_TEAM_PLAYERS_GE_7 = true
    constant boolean MAX_TEAM_PLAYERS_GE_8 = true
    constant boolean MAX_TEAM_PLAYERS_GE_9 = false
    constant boolean MAX_TEAM_PLAYERS_GE_10 = false
    constant boolean MAX_TEAM_PLAYERS_GE_11 = false
    constant integer PLAYER_SENTINEL_ORIGIN = 0
    constant integer PLAYER_SCOURGE_ORIGIN = 6
    constant boolean bool_TestVersion = false
    boolean D = false
    integer M = 1
    integer N = 0
    region AMN
    integer array AS30
    integer AFH0
    boolean xp_is_hero
    integer ADQI
    integer array AXEI
    integer array AAYS
    real array AAJS
    integer array AMG0
    unit AMH0
    integer array AMI0
    unit ABMI
    real ABNI
    integer ABSI
    unit ABTI
    real AVQI
    unit AW0I
    unit AWII
    real AW1I
    real AWOI
    integer AZ6I
    integer AFE0 = 0
    integer array AFF0
    integer array AFG0
    sound AAIG = null
    sound AAOG = null
    sound AAAG = null
    sound AAUF = null
    sound AABG = null
    integer AFQI
    integer ANC0
    boolean AW3I = true
    group AGCI
    unit array AGFI
    unit array AGGI
    real AGHI
    real AGZI
    string AGXI = "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl"
    rect AQB = null
    rect AIC = null
    rect AOC = null
    rect AAC = null
    integer AZ40
    integer AJO0
    integer AJ10
    integer AJK0
    integer ALI0
    integer AL00
    integer AL10
    integer AL20
    integer AL30
    integer AL40
    integer AL50
    integer AL60
    integer AL70
    integer AL80
    integer ALO0
    integer AZXQ
    integer AKLW
    integer AZHM
    integer AZXG
    integer AZCZ
    integer AZCX
    integer AZLJ
    integer AZRM
    integer AZJT
    integer AZXD
    integer AZNJ
    integer AZMY
    integer AZBF
    integer AZYM
    integer AZXZ
    integer AZMM
    integer AZXH
    real ABLI
    unit AZII
    unit AZ1I
    real AZ2I
    unit AHGI
    integer array ADUI
    integer array AYTI
    integer array AYRI
    integer AYPI = 0
    boolean AAUI
    boolean AB0I
    boolean AXTI = false
    group AYBI
    boolean array O
    integer array P
    integer array Q
    integer array T
    boolean U = false
    boolean V = false
    string array W
    boolean array B
    timer array A
    integer array C
    timer array L
    integer array D4
    timer E4 = null
    integer array F
    integer O4 = 0
    integer P4 = 0
    integer array H
    integer array R4
    boolean T4 = false
    boolean V4 = false
    boolean W4 = false
    boolean X4 = false
    boolean Y4 = false
    multiboard A4 = null
    unit C4 = null
    boolean array D7
    integer E7 = 0
    boolean F7 = false
    boolean G7 = false
    boolean M7 = false
    location Z = null
    location vv = null
    location ev = null
    location ov = null
    location rv = null
    boolean av = false
    boolean Ev = false
    boolean Ov = false
    boolean Rv = false
    boolean Av = false
    boolean Nv = false
    boolean O7 = false
    boolean Bv = false
    boolean P7 = false
    boolean Cv = false
    boolean Dv = false
    boolean fv = false
    integer S7 = 0
    integer T7 = 0
    location Jv = null
    location lv = null
    location Lv = null
    location mv = null
    location pv = null
    location qv = null
    location Qv = null
    location sv = null
    location tv = null
    location Tv = null
    location Uv = null
    location U7 = null
    location W7 = null
    location X7 = null
    unit array Y7
    integer ae = 0
    integer ne = 0
    player array Z7
    player array A7
    integer array B7
    integer array C7
    integer array L7
    unit array D8
    integer array Be
    force E8 = null
    force F8 = null
    player array G8
    player array N8
    player O8 = null
    player P8 = null
    boolean ge = false
    integer Ge = 0
    integer he = 0
    integer array je
    hashtable R8 = null
    player V8 = null
    unit W8 = null
    integer X8 = 0
    real Y8 = 0
    item array se
    item array Se
    item array We
    item array ze
    item array Ze
    item array vx
    boolean Z8 = false
    integer A8 = 0
    location array B8
    unit ox = null
    group C8 = null
    boolean L8 = false
    boolean AJ = false
    boolean D9 = false
    boolean E9 = false
    boolean Ox = false
    boolean Rx = false
    boolean Nx = false
    boolean bx = false
    string cx = ""
    boolean F9 = false
    integer G9 = 0
    item jx = null
    player lx = null
    boolean O9 = false
    boolean array mx
    integer array P9
    integer S9 = 0
    force T9 = null
    boolean U9 = false
    real V9 = 0
    boolean W9 = false
    boolean X9 = false
    boolean Y9 = false
    boolean array Z9
    string vo = ""
    boolean array eo
    boolean array oo
    boolean A9 = false
    boolean B9 = false
    trigger C9
    integer array L9
    integer array ED
    integer array FD
    weathereffect bo = null
    weathereffect Bo = null
    boolean GD = false
    location HD = null
    real MD = 0
    string ND = ""
    string array OD
    rect go = null
    rect jo = null
    rect lo = null
    rect PD = null
    rect Qo = null
    rect to = null
    rect Uo = null
    rect wo = null
    rect zo = null
    rect er = null
    rect QD = null
    rect ar = null
    rect Er = null
    rect Xr = null
    rect TD = null
    rect WD = null
    rect XD = null
    rect YD = null
    rect Br = null
    rect cr = null
    rect Cr = null
    rect fr = null
    rect Fr = null
    rect Hr = null
    rect jr = null
    rect Jr = null
    rect lr = null
    rect mr = null
    rect ZD = null
    rect qr = null
    rect AD = null
    rect Sr = null
    rect Ur = null
    rect Wr = null
    rect zr = null
    rect Zr = null
    rect vi = null
    rect ei = null
    rect xi = null
    rect oi = null
    rect ai = null
    rect BD = null
    rect LD = null
    rect Ai = null
    rect Ni = null
    rect bi = null
    rect Bi = null
    rect rect_neutral_7_scrg_respawn
    rect rect_neutral_7_scrg
    rect rect_neutral_7_sent_respawn
    rect rect_neutral_7_sent
    rect KE = null
    rect RE = null
    rect di = null
    rect fi = null
    rect Fi = null
    rect Gi = null
    rect Ji = null
    rect li = null
    rect Li = null
    rect pi = null
    rect SE = null
    rect TE = null
    rect WE = null
    rect YE = null
    rect ZE = null
    rect EF = null
    rect FF = null
    rect GF = null
    rect HF = null
    rect JF = null
    rect KF = null
    rect MF = null
    rect NF = null
    rect OF = null
    rect PF = null
    rect QF = null
    rect RF = null
    rect SF = null
    rect TF = null
    rect UF = null
    rect WF = null
    rect XF = null
    rect YF = null
    rect ZF = null
    rect BF = null
    rect CF = null
    rect LF = null
    rect DG = null
    rect EG = null
    rect FG = null
    rect GG = null
    rect JG = null
    rect MG = null
    rect OG = null
    rect PG = null
    rect QG = null
    rect RG = null
    rect SG = null
    rect TG = null
    rect UG = null
    rect VG = null
    rect WG = null
    rect XG = null
    rect ZG = null
    rect AG = null
    rect BG = null
    rect CG = null
    rect LG = null
    rect DH = null
    rect EH = null
    rect FH = null
    rect GH = null
    rect HH = null
    rect JH = null
    rect MH = null
    rect NH = null
    rect OH = null
    rect PH = null
    rect QH = null
    rect RH = null
    rect TH = null
    rect UH = null
    rect WH = null
    rect XH = null
    rect YH = null
    rect ZH = null
    rect AH = null
    rect CH = null
    rect LH = null
    rect DI = null
    rect EI = null
    rect GI = null
    rect HI = null
    rect II = null
    rect JI = null
    rect NI = null
    rect PI = null
    rect SI = null
    rect TI = null
    rect UI = null
    rect WI = null
    rect XI = null
    rect YI = null
    rect BI = null
    rect CI = null
    rect LI = null
    rect TJ = null
    rect XJ = null
    rect MK = null
    rect UK = null
    rect YK = null
    rect SM = null
    rect TM = null
    rect UM = null
    rect WM = null
    rect YM = null
    rect JN = null
    rect MN = null
    rect TN = null
    rect UN = null
    rect WN = null
    rect eE = null
    rect oE = null
    rect aE = null
    rect nE = null
    rect VE = null
    rect EE = null
    rect XE = null
    rect OE = null
    rect IE = null
    rect AE = null
    rect bE = null
    rect BE = null
    rect cE = null
    rect CE = null
    rect dE = null
    rect APB = null
    rect fE = null
    rect FE = null
    rect gE = null
    rect GE = null
    rect JE = null
    rect lE = null
    rect LE = null
    rect ME = null
    rect pE = null
    rect PE = null
    rect qE = null
    rect QE = null
    rect YN = null
    rect ZN = null
    rect cz = null
    rect Cz = null
    rect He = null
    sound yE = null
    sound zE = null
    sound vX = null
    sound AN = null
    sound BN = null
    sound CN = null
    sound nX = null
    sound EX = null
    sound OX = null
    sound DO = null
    sound JO = null
    sound bX = null
    sound BX = null
    sound cX = null
    sound CX = null
    sound fX = null
    sound kX = null
    sound LX = null
    sound mX = null
    sound MX = null
    sound PX = null
    sound qX = null
    sound QX = null
    sound tX = null
    sound TX = null
    sound PO = null
    sound UX = null
    sound TO = null
    sound VO = null
    sound oO = null
    sound YO = null
    sound aO = null
    sound ZO = null
    sound EO = null
    sound XO = null
    sound OO = null
    sound AO = null
    sound NO = null
    sound bO = null
    sound BO = null
    sound cO = null
    sound CO = null
    sound fO = null
    sound FO = null
    sound gO = null
    sound hO = null
    sound HO = null
    sound kO = null
    sound lO = null
    sound mO = null
    sound pO = null
    sound qO = null
    sound QO = null
    sound tO = null
    sound UO = null
    sound wO = null
    sound WO = null
    sound zO = null
    sound vR = null
    sound eR = null
    sound oR = null
    sound rR = null
    sound aR = null
    sound RR = null
    sound bR = null
    sound BR = null
    sound LO = null
    sound CR = null
    sound DP = null
    sound EP = null
    sound hR = null
    sound GP = null
    sound JR = null
    sound lR = null
    sound LR = null
    sound mR = null
    sound pR = null
    sound PR = null
    sound qR = null
    sound QR = null
    sound sR = null
    sound SR = null
    sound UR = null
    sound WR = null
    sound zR = null
    sound IP = null
    sound JP = null
    sound eI = null
    sound oI = null
    sound KP = null
    sound OP = null
    sound RI = null
    sound PP = null
    string QP = "Sound\\Music\\mp3Music\\Undead1.mp3"
    string RP = "Sound\\Music\\mp3Music\\Undead2.mp3"
    string TP = "Sound\\Music\\mp3Music\\Undead3.mp3"
    string VP = "Sound\\Music\\mp3Music\\Orc1.mp3"
    string XP = "Sound\\Music\\mp3Music\\Orc2.mp3"
    string YP = "Sound\\Music\\mp3Music\\Orc3.mp3"
    string ZP = "Sound\\Music\\mp3Music\\NightElf1.mp3"
    string BP = "Sound\\Music\\mp3Music\\NightElf2.mp3"
    string GQ = "Sound\\Music\\mp3Music\\NightElf3.mp3"
    string IQ = "Sound\\Music\\mp3Music\\Human1.mp3"
    string JQ = "Sound\\Music\\mp3Music\\Human2.mp3"
    string YQ = "Sound\\Music\\mp3Music\\Human3.mp3"
    string GR = "Sound\\Music\\mp3Music\\BloodElfTheme.mp3"
    string HR = "Sound\\Music\\mp3Music\\DarkAgents.mp3"
    string IR = "Sound\\Music\\mp3Music\\TragicConfrontation.mp3"
    string OR = "Sound\\Music\\mp3Music\\SadMystery.mp3"
    string XR = "Sound\\Music\\mp3Music\\IllidansTheme.mp3"
    string YR = "Sound\\Music\\mp3Music\\PH1.mp3"
    trigger ZR = null
    trigger DS = null
    trigger ES = null
    trigger ZI = null
    trigger vA = null
    trigger eA = null
    trigger xA = null
    trigger FS = null
    trigger EA = null
    trigger OA = null
    trigger RA = null
    trigger GS = null
    trigger HS = null
    trigger JS = null
    trigger cA = null
    trigger CA = null
    trigger dA = null
    trigger DA = null
    trigger fA = null
    trigger FA = null
    trigger gA = null
    trigger GA = null
    trigger LA = null
    trigger mA = null
    trigger MA = null
    trigger PA = null
    trigger SA = null
    trigger TA = null
    trigger KS = null
    trigger wA = null
    trigger MS = null
    trigger OS = null
    real WS = 0
    integer array YS
    constant real VN = 1
    constant real EN = 4
    constant real XN = 4
    constant real ON = 150
    real ZS = 1.
    boolean bN = false
    boolean BS = false
    boolean CS = false
    boolean AJ40 = true
    integer array LS
    real dN
    unit DN
    unit fN
    integer FN
    group gN
    unit DT
    integer ET
    integer pN = 0
    real SN
    real tN
    unit FT
    unit IT
    real JT
    boolean array KT
    integer array vb
    boolean array MT
    boolean array ob
    boolean array ib
    boolean array ab
    real array nb
    boolean array PT
    boolean array Ob
    boolean array Ab
    boolean array Nb
    integer bb
    integer Bb
    integer cb
    string array Cb
    boolean array db
    boolean array fb
    integer Fb = 0
    boolean gb = true
    string array RT
    integer UT = 0
    string Lb
    real mb
    real array Mb
    integer array pb
    integer array Qb
    integer Tb = 1
    constant real wb = 15
    boolean VT = false
    boolean NormalGold = false
    boolean NoNecronomicon = false
    boolean SuperTower = false
    boolean SuperCreeps = false
    boolean HighExp = false
    boolean HighGold = false
    boolean NormalExp = false
    boolean DynamicExp = false
    boolean DynamicGold = false
    integer array IU
    player array JU
    integer array MU
    integer EB = 'h06J'
    real OB
    real AB
    unit BB
    unit cB
    integer PU
    unit QU
    unit gB
    real lB
    unit RU
    real SU
    unit MB
    real pB
    unit PB
    destructable SB = null
    unit TB = null
    real wB = 0
    constant real ZU = 23
    constant real yB = 600
    constant real zB = 550
    group ZB
    unit vc
    real ec
    integer xc
    integer ac
    integer array AU
    integer array BU
    integer array CU
    integer array LU
    string array DV
    integer array EV
    integer array FV
    integer JV = 0
    integer MV
    integer NV
    integer OV
    integer QV
    integer SV
    integer TV
    integer UV
    integer XV
    integer AV
    integer BV
    integer CV
    integer LV
    integer EW
    integer HW
    integer NW
    integer OW
    integer QW
    integer RW
    integer SW
    integer TW
    integer UW
    integer VW
    integer YW
    integer ZW
    integer GX
    integer NX
    integer RX
    integer SX
    integer WX
    integer YX
    integer ZX
    integer AX
    integer DY
    integer EY
    integer FY
    integer GY
    integer HY
    integer IY
    integer JY
    integer MY
    integer OY
    integer PY
    integer QY
    integer SY
    integer TY
    integer UY
    integer VY
    integer XY
    integer YY
    integer ZY
    integer AY
    integer BY
    integer CY
    integer DZ
    integer EZ
    integer AHJ0
    integer AASP
    integer HZ
    integer NZ
    integer OZ
    integer RZ
    integer UZ
    integer XZ
    integer YZ
    integer AZ
    integer BZ
    integer CZ
    integer IA
    integer JA
    integer NA
    integer QA
    integer VA
    integer WA
    integer YA
    integer ZA
    integer BA
    integer AZ90
    integer FB
    integer GB
    integer JB
    integer QB
    integer RB
    integer VB
    integer WB
    integer YB
    integer LB
    integer EC
    integer FC
    integer GC
    integer JC
    integer NC
    integer OC
    integer PC
    integer QC
    integer TC
    integer VC
    integer WC
    integer XC
    integer YC
    integer DFX
    integer ZC
    integer AC
    integer BC
    integer CC
    integer LC
    integer H3
    integer M3
    integer N3
    integer R3
    integer U3
    integer W3
    integer X3
    integer Y3
    integer Z3
    integer B3
    integer C3
    integer E6
    integer F6
    integer G6
    integer H6
    integer N6
    integer S6
    integer V6
    integer W6
    integer X6
    integer A6
    integer DL
    integer HL
    integer OL
    integer RL
    integer WL
    integer ZL
    integer AL
    integer LL
    integer D1
    integer E1
    integer F1
    integer H1
    integer J1
    integer O1
    integer P1
    integer Q1
    integer R1
    integer T1
    integer U1
    integer V1
    integer X1
    integer A1
    integer D0
    integer E0
    integer J0
    integer N0
    integer O0
    integer R0
    integer T0
    integer X0
    integer Y0
    integer B0
    integer C0
    integer F5
    integer G5
    integer J5
    integer M5
    integer N5
    integer R5
    integer S5
    integer T5
    integer W5
    integer A5
    integer B5
    integer C5
    integer L5
    integer E2
    integer F2
    integer H2
    integer P2
    integer R2
    integer S2
    integer T2
    integer W2
    integer X2
    integer Z2
    integer D44
    integer D74
    integer D84
    integer D94
    integer DD4
    integer DE4
    integer DF4
    integer DG4
    integer DH4
    integer DI4
    integer DJ4
    integer DK4
    integer DM4
    integer DN4
    integer DO4
    integer DP4
    integer DQ4
    integer DR4
    integer DS4
    integer DT4
    integer DU4
    integer DV4
    integer DW4
    integer DX4
    integer DY4
    integer DZ4
    integer DA4
    integer DB4
    integer DC4
    integer D34
    integer D64
    integer DL4
    integer D04
    integer D54
    integer D24
    integer D_4
    integer E44
    integer E74
    integer E84
    integer E94
    integer ED4
    integer EE4
    integer EF4
    integer EG4
    integer EH4
    integer EI4
    integer EJ4
    integer EK4
    integer EM4
    integer EN4
    integer EO4
    integer EP4
    integer EQ4
    integer ER4
    integer ES4
    integer ET4
    integer EU4
    integer EV4
    integer EW4
    integer EX4
    integer EY4
    integer EZ4
    integer EA4
    integer IEM
    integer IFF
    integer IGM
    integer IMM
    integer IBY
    integer IBM
    integer ISC
    integer ILM
    integer IOC
    integer ILO
    integer IDL
    integer IAL
    integer IIT
    integer ITS
    integer ALS
    integer EB4 =- 1
    integer array EC4
    integer array E34
    integer array E64
    integer array EL4
    integer array E14
    integer array E04
    integer E54 = 0
    integer E24
    integer E_4
    integer F44
    integer F74
    integer F84
    integer F94
    integer FD4
    integer FE4
    integer FF4
    integer FG4
    integer FH4
    integer FI4
    integer FJ4
    integer FK4
    integer FM4
    integer FN4
    integer FO4
    integer FP4
    integer FQ4
    integer FR4
    integer FS4
    integer FT4
    integer FU4
    integer FV4
    integer FW4
    integer FX4
    integer FY4
    integer FZ4
    integer FA4
    integer FB4
    integer FC4
    integer F34
    integer F64
    integer FL4
    integer F14
    integer F04
    integer F54
    integer F24
    integer F_4
    integer G44
    integer G74
    integer G84
    integer G94
    integer GD4
    integer GE4
    integer GG4
    integer GH4
    integer GI4
    integer GJ4
    integer GK4
    integer GM4
    integer GN4
    integer GO4
    integer GP4
    integer GQ4
    integer GR4
    player Sh
    boolean Th = false
    boolean Uh = false
    player GS4
    unit GT4
    unit zh
    integer array Zh
    integer array GU4
    unit eH
    boolean GV4 = true
    boolean oH = false
    trigger GW4
    integer GX4 = 0
    integer GZ4 = 0
    integer GA4 = 0
    integer G34 = 0
    boolean G64 = false
    boolexpr bH = null
    trigger BH
    trigger cH
    constant real GL4 = 40
    integer array G14
    integer array G04
    integer array G54
    integer array G24
    integer array G_4
    integer array H44
    constant real HJ4 = 5
    item HK4 = null
    integer HM4 = 0
    integer HN4 = 0
    string Dj = "|c00ff0303"
    string fj = "|c00ff0303"
    string gj = "|c000042ff"
    string Gj = "|c00646464"
    string Hj = "|c00ffffff"
    boolean jj = false
    boolean Jj = false
    boolean lj = false
    boolean HO4 = false
    integer array HP4
    integer array HQ4
    integer array HR4
    trigger HS4 = null
    trigger Tj = null
    trigger Uj = null
    trigger wj = null
    trigger zj = null
    trigger Zj = null
    trigger vJ = null
    trigger eJ = null
    trigger xJ = null
    trigger oJ = null
    trigger iJ = null
    trigger HT4 = null
    trigger HX4 = null
    unit BJ = null
    unit CJ = null
    unit dJ = null
    unit DJ = null
    unit fJ = null
    unit FJ = null
    unit GJ = null
    unit HJ = null
    unit JJ = null
    unit lJ = null
    unit LJ = null
    unit MJ = null
    unit PJ = null
    unit qJ = null
    unit QJ = null
    unit UJ = null
    unit wJ = null
    unit WJ = null
    unit yJ = null
    unit circle_of_power_sent_6_placeholder = null
    unit circle_of_power_sent_7_placeholder = null
    unit circle_of_power_sent_8_placeholder = null
    unit circle_of_power_sent_9_placeholder = null
    unit circle_of_power_sent_10_placeholder = null
    unit circle_of_power_sent_11_placeholder = null
    unit circle_of_power_scrg_6_placeholder = null
    unit circle_of_power_scrg_7_placeholder = null
    unit circle_of_power_scrg_8_placeholder = null
    unit circle_of_power_scrg_9_placeholder = null
    unit circle_of_power_scrg_10_placeholder = null
    unit circle_of_power_scrg_11_placeholder = null
    unit zJ = null
    unit ZJ = null
    unit vk = null
    unit ek = null
    unit xk = null
    unit ok = null
    unit ik = null
    unit ak = null
    unit nk = null
    unit Vk = null
    unit Ek = null
    unit Ok = null
    unit Rk = null
    unit Ak = null
    unit Nk = null
    unit bk = null
    unit Bk = null
    unit ck = null
    unit Ck = null
    unit dk = null
    unit fk = null
    unit Fk = null
    unit gk = null
    unit Gk = null
    unit jk = null
    unit Jk = null
    unit lk = null
    unit Lk = null
    unit pk = null
    unit Pk = null
    unit qk = null
    unit Qk = null
    unit Sk = null
    unit tk = null
    unit Uk = null
    unit wk = null
    unit Wk = null
    unit yk = null
    unit zk = null
    unit vK = null
    unit eK = null
    unit xK = null
    unit aK = null
    unit VK = null
    unit EK = null
    unit XK = null
    unit OK = null
    unit AK = null
    unit NK = null
    unit bK = null
    unit BK = null
    unit cK = null
    unit CK = null
    unit dK = null
    unit fK = null
    unit FK = null
    unit gK = null
    unit GK = null
    unit JK = null
    unit lK = null
    unit QK = null
    unit SK = null
    unit TK = null
    unit wK = null
    unit WK = null
    unit zK = null
    unit ZK = null
    unit vl = null
    unit el = null
    unit xl = null
    unit ol = null
    unit rl = null
    unit al = null
    unit Vl = null
    unit El = null
    unit Xl = null
    unit Ol = null
    unit Rl = null
    unit Al = null
    unit Nl = null
    unit bl = null
    unit Bl = null
    unit cl = null
    unit dl = null
    unit array fl
    integer Hl = 0
    trigger array Dx
    real array DX
    integer Dy = 0
    boolean array HA4
    real array Jl
    integer array ll
    integer array Ll
    integer Ml = 0
    string array Pl
    integer array ql
    integer Ql = 0
    integer sl = 0
    integer HB4
    integer HC4
    integer H34
    real H64
    real HL4
    real H14
    real Zl
    real vL
    real eL
    unit H04
    unit H54
    trigger eC
    group H24
    group H_4
    player I44
    boolean EL
    string I74
    unit IE4 = null
    region IF4
    integer array NL
    integer array bL
    integer array BL
    integer array cL
    integer CL = 0
    gamecache IG4
    boolean array IH4
    weathereffect fL
    weathereffect FL
    rect IJ4
    constant playercolor gL = ConvertPlayerColor(0)
    constant playercolor hL = ConvertPlayerColor(6)
    constant playercolor JL = ConvertPlayerColor(24)
    real IK4 =- 7360
    real IM4 =- 6688
    real ML =- 6592
    real PL =- 6464
    real QL =- 7392
    real SL =- 6240
    real tL =- 7392
    real TL =- 6432
    real UL =- 6592
    real wL =- 6720
    real zL =- 6816
    real vm =- 5984
    real em =- 6944
    real xm =- 5920
    real om =- 7072
    real rm =- 5920
    real im =- 7200
    real am =- 5920
    real Vm =- 7328
    real Em =- 5984
    real Xm =- 7328
    real Om =- 5984
    real Am =- 5632
    real Nm =- 5952
    real bm =- 6112
    real Bm = 1504
    real cm =- 1504
    real Cm =- 1824
    real dm = 4960
    real fm =- 6752
    real Fm =- 6112
    real hm =- 1248
    real Jm =- 3488
    real lm =- 3296
    real Mm =- 544
    real pm =- 6688
    real Pm =- 6496
    real Qm =- 4832
    real Tm =- 4576
    real Um =- 4832
    real wm =- 4512
    real Wm =- 6752
    real zm =- 5920
    real vM =- 5984
    real eM =- 5664
    real oM =- 6240
    real rM =- 6400
    real iM =- 4224
    real aM =- 4288
    real nM =- 4992
    real VM =- 3776
    real XM =- 6720
    real AM =- 5952
    real bM =- 4160
    real BM =- 4800
    real cM =- 4608
    real dM =- 3776
    real fM =- 6272
    real gM =- 7136
    real hM =- 4640
    real HM =- 6496
    real JM =- 5536
    real kM =- 5088
    real lM =- 5280
    real pM =- 5920
    real sM =- 4640
    real tM =- 4832
    real wM =- 4384
    real zM =- 4128
    real vp =- 5024
    real ep =- 5216
    real op =- 6816
    real rp =- 4192
    real ap =- 7456
    real Vp =- 4192
    real Ep =- 6176
    real Xp =- 5664
    real Rp =- 3872
    real Ap =- 5664
    real bp =- 3872
    real Bp =- 5440
    real cp =- 4800
    real Cp =- 3840
    real dp =- 5184
    real fp =- 5440
    real Fp =- 4800
    real gp =- 3840
    real Hp =- 5184
    unit H27
    integer HB7
    boolean HC7 = false
    unit H37
    integer H67
    boolean HL7 = false
    unit H17
    unit H07  
    unit IN4
    unit IO4
    unit IP4
    unit IQ4
    unit IR4
    unit IS4
    unit IT4
    unit IU4
    unit IV4
    unit IW4
    unit IX4
    unit JWH
    unit IY4
    unit IZ4
    unit I34
    unit IL4
    unit I04
    unit I24
    unit I_4
    unit J44
    unit J74
    unit J84
    unit J94
    unit JD4
    unit JE4
    unit JF4
    unit JG4
    unit JH4
    unit JI4
    unit JJ4
    unit fP
    unit FP
    unit lP
    unit LP
    unit MP
    unit pP
    unit JK4
    unit JM4
    unit JN4
    unit JO4
    unit JP4
    unit WP
    unit zP
    unit vq
    unit eq
    real JQ4 = 6272
    real JR4 = 5504
    real rq = 6464
    real iq = 5120
    real aq = 5952
    real Eq = 5568
    real Rq = 6080
    real Aq = 5568
    real Nq = 6464
    real bq = 4736
    real Bq = 5696
    real cq = 5120
    real Cq = 5568
    real Dq = 5248
    real fq = 5568
    real Fq = 5376
    real Hq = 5696
    real jq = 5504
    real Jq = 5568
    real Mq = 5696
    real qq = 5568
    real Qq = 5696
    real Sq = 4992
    real tq = 4544
    real Uq =- 4704
    real zq = 5920
    real Zq = 1056
    real vQ =- 160
    real eQ = 6048
    real xQ =- 2080
    real oQ = 32
    real iQ = 5856
    real aQ = 2400
    real EQ = 1696
    real OQ = 6112
    real RQ =- 96
    real AQ = 3168
    real NQ = 5920
    real bQ = 3616
    real BQ = 3296
    real cQ = 6048
    real CQ = 2784
    real fQ = 4640
    real FQ = 4576
    real hQ = 5088
    real HQ = 4192
    real lQ = 3776
    real LQ = 5888
    real mQ = 4096
    real MQ = 3392
    real PQ = 6208
    real QQ = 3264
    real SQ = 3520
    real UQ = 5376
    real WQ = 3776
    real zQ = 3840
    real ZQ = 5696
    real vs = 3264
    real es = 3168
    real os = 4000
    real rs = 4192
    real as = 5536
    real ns = 4128
    real Vs = 4512
    real Es = 4640
    real Xs = 3680
    real Rs = 4832
    real As = 3104
    real Ns = 5408
    real bs = 2592
    real Bs = 5408
    real cs = 3296
    real Cs = 6112
    real Ds = 4000
    real fs = 3040
    real Fs = 5088
    real Hs = 6304
    real js = 3744
    real Js = 6304
    real Ks = 3744
    real ls = 3520
    real Ls = 4608
    real ms = 4096
    real Ms = 2624
    real ps = 4096
    real Ps = 2624
    real Qs = 4096
    real Ss = 2624
    unit JS4
    unit JT4
    unit zs
    unit Zs
    unit JU4
    unit eS
    unit oS
    unit rS
    unit aS
    unit nS
    unit VS
    unit THS
    unit JV4
    unit JW4
    unit JX4
    unit JY4
    unit JZ4
    unit JA4
    unit JB4
    unit JC4
    unit J34
    unit J64
    unit JL4
    unit J14
    unit J04
    unit J54
    unit J24
    unit J_4
    unit K44
    unit K74
    unit PS
    unit QS
    unit SS
    unit tS
    unit TS
    unit US
    unit K84
    unit K94
    unit KD4
    unit KE4
    unit KF4
    unit ot
    unit rt
    unit at
    unit Vt
    unit KG4
    unit KH4
    unit KI4
    unit KJ4
    unit KK4
    unit circle_of_power_sent_6
    unit circle_of_power_sent_7
    unit circle_of_power_sent_8
    unit circle_of_power_sent_9
    unit circle_of_power_sent_10
    unit circle_of_power_sent_11
    unit KM4
    unit KN4
    unit KO4
    unit KP4
    unit KQ4
    unit circle_of_power_scrg_6
    unit circle_of_power_scrg_7
    unit circle_of_power_scrg_8
    unit circle_of_power_scrg_9
    unit circle_of_power_scrg_10
    unit circle_of_power_scrg_11
    unit array KR4
    real array KS4
    real array KT4
    player KU4
    player KV4
    string array KW4
    integer array KX4
    integer array KY4
    integer array KZ4
    integer array KA4
    integer array KB4
    integer KC4
    integer K34
    integer K64
    integer KL4
    integer array K14
    integer K04
    integer array K54
    integer K24
    integer array K_4
    integer M44
    integer array M74
    integer M84
    integer array M94
    integer MD4
    string array ME4
    integer array MF4
    unit MM4
    unit MN4
    unit MO4
    unit MP4
    unit MQ4
    unit MR4
    unit MS4
    unit MT4
    unit MU4
    unit MV4
    unit MW4
    unit MX4
    integer array MY4
    integer MZ4 = 0
    integer MB4 = 0
    trigger MC4
    boolean M34 = false
    trigger M64
    trigger ML4
    trigger M14
    real M04 = 0
    real M54 = 0
    hashtable M24
    timer array M_4
    integer array N44
    integer array N74
    multiboard N84
    integer array N94
    integer array ND4
    player array NE4
    integer NF4 = 0
    string Fx = "|c00FF6600"
    multiboard NG4
    trigger NH4
    unit array NI4
    real array NJ4
    boolean array NK4
    integer NM4 = 0
    unit array qu
    real array Qu
    boolean array Su
    integer array NN4
    integer array NO4
    integer array NP4
    integer array NQ4
    integer array NR4
    integer array NS4
    unit NT4 = null
    boolean NU4 = true
    integer NV4 = 1
    trigger NW4
    integer NX4 = 0
    integer NY4
    integer NZ4
    integer array NA4
    integer array NB4
    integer NC4
    integer N34
    integer array N64
    boolean NL4 = false
    unit N14 = null
    unit N04 = null
    group KU
    boolean N54 = true
    boolean N24 = false
    boolean N_4 = false
    integer O44
    player O74
    trigger O84 = null
    trigger O94 = null
    integer TU = 'A0HU'
    integer vw = 'A0HX'
    trigger OE4
    region ow
    integer array gD
    unit array rw
    unit OF4 = null
    unit OG4
    region Ew
    integer array Rw
    integer OH4 = 'A11F'
    integer OI4 = 'A11E'
    integer OJ4 = 'A0S3'
    integer OK4 = 'A11D'
    integer OM4 = 'A11G'
    integer ON4 = 'A11H'
    integer OO4 = 'A2LI'
    integer OP4 = 'A11B'
    integer OQ4 = 'A11A'
    integer OR4 = 'A0S2'
    integer OS4 = 'A119'
    integer OT4 = 'A11C'
    integer OU4 = 'A118'
    integer OV4 = 'A2LH'
    integer OW4 = 'A0FY'
    unit Mw
    group pw
    unit qw
    unit Qw
    boolean tw = false
    boolean Uw = false
    boolean zw = false
    boolean vW = false
    boolean eW = false
    boolean oW = false
    boolean rW = false
    boolean iW = false
    unit array OX4
    integer array FI
    boolean OY4 = false
    real array Fj
    integer gi = 0
    real array OZ4
    item array OA4
    integer OB4 = 0
    boolean array AW
    boolean array OC4
    leaderboard array gm
    boolean bW = true
    weathereffect BW
    boolean array cW
    boolean array CW
    integer dW = 0
    integer array O34
    integer array DW
    integer array fW
    integer array FW
    integer array hW
    integer array LW
    integer array mW
    integer array MW
    integer array pW
    integer array PW
    string O64 = "No Mode"
    unit gr
    boolean OL4 = false
    boolean O14 = false
    boolean Fz = false
    integer array O04
    constant real O54 =- 6950
    constant real O24 = 6750
    boolean O_4 = false
    boolean F0 = false
    boolean P44 = false
    boolean gH = false
    boolean P74 = false
    integer P84
    boolean P94 = false
    boolean oy = true
    boolean PD4 = false
    boolean PE4 = false
    boolean PF4 = false
    boolean PG4 = false
    boolean PH4 = false
    boolean Ny = false
    boolean PI4 = false
    boolean PJ4 = false
    unit array PK4
    real PM4
    real PN4
    unit PO4
    trigger PP4
    unit PR4
    boolean PS4 = false
    boolean uy = false
    boolean vY = true
    boolean Gs = false
    boolean PT4 = false
    boolean PU4 = false
    boolean GT = false
    boolean GU = false
    boolean Gv = true
    boolean Gw = true
    boolean PV4 = true
    boolean PW4 = true
    boolean PX4 = false
    boolean array g_aiStatBool
    boolean array g_aiPushBool
    integer G1 = 0
    integer G2 = 0
    integer G3 =- 1
    integer G4 =- 1
    boolean PY4 = true
    boolean PZ4 = true
    integer PA4 = 0
    integer PB4 = 0
    integer PC4 = 0
    integer P34 = 0
    integer P64 = 0
    integer PL4 = 0
    integer P14 = 0
    integer P04 = 0
    integer P54 = 4
    integer P24 = 5
    integer P_4 = 5
    integer hD = 0
    integer hE = 0
    integer hF = 0
    integer array hG
    integer array g_aiStatInt
    integer array g_aiPathInt
    integer xY = 0
    integer oY
    integer rY
    real Q44 = 0
    real Q74 = 0
    real Q84 = 0
    real Q94 = 0
    real QD4 = 0
    real QE4 = 0
    real QF4 = 0
    real QG4 = 0
    real QH4 = 0
    real QI4 = 0
    real QJ4 = 0
    real QK4 = 0
    real QM4 = 0
    real QN4 = 0
    real QO4 = 0
    real QP4 = 0
    real QQ4 = 0
    real QR4 = 0
    real QS4 = 0
    real QT4 = 0
    real QU4 = 0
    real QV4 = 0
    real QW4 = 0
    real QX4 = 0
    real QY4 = 0
    real QZ4 = 0
    real QA4 = 0
    real QB4 = 0
    real QC4 = 0
    real Q34 = 0
    constant real Q64 = 90
    boolean QL4 = false
    boolean Q14 = false
    boolean Q04 = false
    boolean Q54 = false
    boolean Q24 = false
    boolean Q_4 = false
    boolean R44 = false
    boolean R74 = false
    timer R84
    boolean R94 = false
    integer RD4 = 90
    boolean RE4 = false
    integer array S74
    integer array S84
    real Wz = .0
    real Yz = .0
    group Zz = null
    unit vZ
    integer S94
    unit SD4
    unit SE4
    unit SF4
    unit SG4
    group SH4
    real VZ
    unit SI4
    group SJ4
    constant real SK4 = 6
    integer array SM4
    integer array SN4
    integer array SO4
    integer array SP4
    integer array SQ4
    integer array SR4
    integer array SS4
    integer array ST4
    unit SU4
    real SV4
    unit FZ
    real gZ
    integer jZ
    integer JZ
    unit LZ
    real mZ
    integer MZ
    player QZ
    unit sZ
    integer tZ
    player TZ
    integer SW4
    unit array wZ
    unit array SX4
    unit array zZ
    integer ZZ
    unit array v0
    unit e0
    unit o0
    integer array SY4
    unit array SZ4
    integer n0
    boolean V0 = false
    unit SA4
    integer SB4
    boolean array A0
    boolean S34 = false
    integer S64
    unit SL4
    real S14
    integer S04
    unit S54
    real S24
    real j0
    real K0
    integer l0
    unit m0
    integer M0
    group p0
    unit Q0
    real S_4
    group t0
    integer T44
    unit U0
    real T74
    integer array W0
    integer array z0
    real Z0
    unit v1
    unit T84
    real T94
    integer TD4
    integer array n1
    boolean TE4 = false
    unit TF4
    unit N1
    integer TG4
    real B1
    real C1
    unit TH4
    integer TI4
    integer TJ4
    integer TK4
    group M1
    unit TM4
    real TN4
    integer TO4
    integer TP4
    integer TQ4
    unit array TR4
    boolean w1 = false
    boolean W1 = false
    unit Y1
    unit z1
    real Z1
    real v2
    real TS4
    real o2
    boolean a2 = false
    boolean TT4 = false
    force V2 = null
    real TU4
    unit TV4
    integer array TW4
    integer array TX4
    real A2
    real N2
    unit b2
    unit B2 = null
    unit C2 = null
    unit D2 = null
    unit TY4
    integer array TZ4
    unit array TA4
    integer l2 = 0
    integer TB4
    constant real M2 = 6
    unit TC4
    trigger T34
    boolean array U2
    real array T64
    real array TL4
    real array T14
    unit array T04
    integer array T54
    integer array T24
    constant real T_4 = 17
    integer V3
    unit E3
    unit A3
    region U44
    unit U74
    real U94
    real UD4
    unit array D3
    boolean f3 = false
    integer F3 = 0
    string array j3
    constant real L3 = 8
    unit UE4
    integer UF4
    boolean p3 = false
    player array UG4
    real array UH4
    real array UI4
    real array UJ4
    integer UK4 =- 1
    constant real e4 = 25
    constant real o4 = 575
    region UM4
    integer array UN4
    integer UO4 = 0
    integer array UP4
    integer array UQ4
    integer array UR4
    integer array N4
    integer array US4
    boolean B4 = false
    integer UT4
    integer array UU4
    boolean array UV4
    group array UW4
    integer UX4 = 0
    integer UY4 = 0
    boolean UZ4 = false
    unit UA4
    unit UB4
    real UC4
    real U34
    real U64
    real array UL4
    real array U14
    unit U54
    boolean U24 = false
    boolean V44 = false
    real array ga_rSkillCD
    string array V84
    boolean CoolName = false
    boolean AllDagon = false
    integer array VE4
    real array VF4
    real array VG4
    boolean array VH4
    item array VI4
    item array VJ4
    item array VK4
    item array VM4
    boolean array VN4
    integer VQ4
    integer VR4 = 10
    boolean array VT4
    unit VU4
    unit VV4
    unit VW4
    unit VX4
    unit VY4
    unit VZ4
    real VA4
    real VB4
    real VC4
    real V34
    constant real V64 = 325
    constant real VL4 = 20
    unit V14
    unit V04
    integer V54
    group V24
    real V_4
    real W44
    integer W74
    integer W84
    integer W94
    region WD4
    region WE4
    real WF4
    unit WG4
    boolean WH4 = false
    sound WI4 = null
    sound WJ4 = null
    sound WK4 = null
    sound WM4 = null
    sound WN4 = null
    unit WO4
    group WP4
    integer array AEK0
    integer array PlayerItemValue
    integer array WQ4
    boolean WR4 = false
    unit WS4
    sound WT4
    sound WU4 = null
    string WV4
    string WW4
    string WX4
    string WY4
    sound WZ4 = null
    sound WA4 = null
    constant integer WB4 = 'e01H'
    constant integer WC4 = 'n00I'
    constant integer W34 = 'n022'
    constant integer W64 = 'n021'
    constant integer WL4 = 'n0KY'
    constant integer W14 = 'n0KZ'
    constant integer W04 = 'n0LE'
    constant integer W54 = 'e01Z'
    constant integer W24 = 'n023'
    constant integer W_4 = 'n024'
    constant integer X44 = 'n025'
    constant integer X74 = 'n0L0'
    constant integer X84 = 'n0L1'
    constant integer X94 = 'n0M4'
    constant integer XD4 = 'e02T'
    constant integer XE4 = 'e02S'
    constant integer XF4 = 'e030'
    constant integer XG4 = 'n00M'
    constant integer XH4 = 'n0HV'
    constant integer XI4 = 'e02R'
    constant integer XJ4 = 'n0LS'
    unit XQ4
    unit XR4
    unit XS4
    real XT4
    real XU4
    real XV4
    unit XW4
    real XX4
    real XY4
    unit XZ4
    real XA4
    real XB4
    real XC4
    boolean X34 = false
    boolean array X64
    destructable XL4
    real X14
    real X04
    real X54
    real X24
    real X_4
    real Y44
    real Y74
    real Y84
    unit Y94
    integer YD4
    unit YE4
    integer array YG4
    integer array YH4
    integer array YI4
    integer array YJ4
    integer YM4
    player YN4
    region YO4
    region YP4
    region YQ4
    region YR4
    trigger YS4 = null
    trigger YT4 = null
    real YU4
    real YV4
    sound YZ4 = null
    sound YA4 = null
    sound YB4 = null
    group Y04
    integer Y54
    unit Y24
    constant real Z74 = 1300
    constant real Z84 = 20
    constant real Z94 = 20
    constant real ZD4 = 20
    integer ZF4
    unit ZG4
    group ZH4
    real ZI4
    real ZJ4
    unit ZM4
    integer ZN4
    unit ZO4
    constant integer ZR4 = 'A2L1'
    constant integer ZT4 = 'A2L8'
    unit ZU4
    unit ZX4
    integer ZY4
    group ZZ4
    group ZA4
    unit ZB4
    unit ZC4
    integer Z64
    real ZL4
    real Z14
    integer Z54
    integer A84 = 0
    unit A94
    integer AD4
    constant real AE4 = 6
    player AF4
    boolean AG4 = false
    trigger AH4 = null
    trigger AI4 = null
    boolean AJ4 = false
    group AK4 = null
    player AM4 = null
    integer AN4 = 0
    integer AO4 = 0
    trigger AP4 = null
    trigger AQ4 = null
    boolean AS4 = false
    player OneSentP = null
    player OneScrgP = null
    integer array g_aiStateInt
    constant integer AW4 = 0
    constant integer AX4 = 1
    constant integer AY4 = 3
    constant integer AZ4 = 5
    constant integer AA4 = 0
    constant integer AB4 = 1
    constant integer AC4 = 2
    constant integer A34 = 3
    constant integer A64 = 4
    constant integer AL4 = 5
    constant integer A14 = 6
    constant integer A04 = 7
    constant integer AA94 = 8
    unit A54
    real A24
    integer array A_4
    group B44
    group B74
    unit B84
    integer B94
    trigger BD4 = null
    string BE4 = ""
    boolean BF4 = false
    unit BG4 = null
    unit BH4
    unit BI4
    group BJ4
    group BK4
    group BM4
    unit BO4
    constant real BV4 = 3
    unit BW4
    unit BZ4
    unit BA4
    real BB4
    group BC4
    integer B34
    sound B64 = null
    sound BL4 = null
    sound B14 = null
    sound B04 = null
    sound B54 = null
    sound B24 = null
    sound B_4 = null
    sound CK4 = null
    unit CM4
    integer CN4
    unit CR4
    unit CS4
    unit CU4
    group CL4
    integer C_4
    unit L44
    unit L74
    unit L84
    group L94
    real LD4
    integer array LE4
    integer LF4 = 0
    integer LG4
    constant real LH4 = 20
    constant real LI4 = 7
    constant real LJ4 = 300
    unit LK4
    real LM4
    unit LN4
    unit LO4
    real LP4
    unit LQ4
    real LR4
    real LS4
    real LT4
    unit LU4
    real LV4
    real LW4
    group LX4
    unit LY4
    unit LZ4
    real LA4
    real LB4
    real LC4
    trigger L34
    integer L64 = 0
    boolean LL4 = false
    integer array L14
    boolean L04
    boolean L54 = false
    boolean L24 = false
    integer array L_4
    integer D47
    player D77
    integer D87
    integer D97
    player DD7
    player DE7
    integer DF7
    integer DG7
    integer array DH7
    integer array DI7
    integer DJ7 = 0
    integer DK7 = 0
    integer array DM7
    integer array DN7
    integer DO7 = 0
    integer DP7 = 0
    constant integer DQ7 = 110
    constant string DR7 = "|c006699CC"
    constant string DS7 = "|c00ff0303"
    constant string DT7 = "|c00555555"
    multiboard DU7
    image DV7
    image DW7
    image DX7
    image DY7
    boolean DZ7 = false
    image DA7 = null
    real DB7 =- 7030
    real DC7 = 6966
    real AQX0 =- 7000
    real AQY0 = 6875
    unit D37
    integer D67
    player DL7
    boolean D17 = false
    constant integer D07 = 852164
    constant integer D57 = 852526
    constant integer D27 = 852599
    unit D_7 = null
    unit E47 = null
    unit E77 = null
    unit E87 = null
    unit E37 = null
    unit E67 = null
    constant string EE7 = "Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl"
    constant real EF7 = 16
    constant real EG7 = 5
    constant real EH7 = 15
    constant real EI7 = 4
    integer EJ7
    integer EK7
    real EM7
    real EN7
    unit EO7
    integer array EP7
    constant real EQ7 = 7
    unit array EU7
    integer array EV7
    integer array EW7
    integer EX7 = 0
    integer EY7 = 0
    integer array EZ7
    integer array EA7
    constant integer EB7 = 20
    constant integer EC7 = 34
    unit array EL7
    integer E17 = 0
    boolean E07 = true
    boolean array SystemSwitch
    boolean E27 = false
    boolean E_7 = false
    boolean F47 = true
    unit F77 = null
    trigger AiPickTrigSent = null
    trigger AiPickTrigScrg = null
    trigger FD7 = null
    timer FE7 = null
    real array FF7
    real FI7 = .35
    real FJ7 = .66
    real FK7 = .25
    real FM7 = 2.
    real FN7 = .05
    integer FO7 = 5
    real FP7 = .66
    real FQ7 = .25
    integer FR7 = 72
    integer FS7 = 144
    real FT7 = FI7 / 2
    integer FU7 = 3
    integer FV7 = 300
    integer FW7 = 180
    boolean FX7 = false
    hashtable FY7
    boolean FZ7 = false
    real FA7 = 1
    real FB7 = 1
    string FC7 = ""
    real F37 = 0
    real F67 = 0
    widget FL7 = null
    boolean F17 = false
    player F07 = null
    force F57 = null
    item F27 = null
    item F_7 = null
    integer G47 = 0
    unit G77 = null
    real G87 = 0
    constant real G97 = 220
    trigger GD7 = null
    constant integer GE7 = 70
    constant integer GF7 = 75
    string GG7 = ""
    string GH7 = ""
    integer array GM7
    unit array GN7
    real array DefPointXY
    boolexpr GP7 = null
    integer array GQ7
    integer GR7 = 0
    integer GS7 = 1
    constant integer GT7 = 1
    constant integer GU7 = 2
    constant integer GV7 = 3
    constant integer GW7 = 4
    constant integer GX7 = 5
    constant integer GY7 = 6
    constant integer GZ7 = 7
    constant integer GA7 = 8
    constant integer GB7 = GA7 - 1
    constant integer GC7 = 2
    constant integer G37 = 4
    constant integer G67 = 6
    constant real GL7 = 60.
    constant integer G17 = 8
    boolean AutoDefSent = true
    boolean AutoDefScrg = true
    real G27 = .0
    constant integer G_7 = 425
    constant integer H47 = G_7 + 200
    constant real H77 = 800.
    constant real H87 = 10.
    constant real H97 = 15.
    constant real HD7 = 180.
    constant integer HE7 = 25
    unit HF7 = null
    constant real HG7 = 120.
    constant real HH7 = .05
    constant real HI7 = 60.
    constant real HJ7 = 10.
    constant real HK7 = 20.
    constant integer HM7 = 30
    constant real HN7 = 10.
    constant real HO7 = 15.
    constant real HP7 = 20.
    constant real HQ7 = .4
    constant real HR7 = .1
    constant real HZ7 = 8
    unit IG7
    integer IH7
    integer II7
    unit IJ7
    real IK7
    real IM7
    real IN7
    unit IO7
    integer array IP7
    boolean IQ7 = true
    unit IR7
    integer IS7
    unit IT7
    group IU7
    real IV7
    integer array IW7
    integer array IX7
    integer IY7
    integer IZ7
    integer IA7
    unit IB7
    integer IC7
    integer I37
    boolean I67 = false
    constant real IL7 = 300
    integer I17
    integer I07
    integer array I57
    constant real I27 = 200
    constant real I_7 = 200
    group J47
    unit J77
    integer J87
    unit J97
    integer JD7
    unit JE7
    integer JF7
    leaderboard array JG7
    integer JH7
    integer JJ7 = 0
    integer array JK7
    integer array PSilverEdgeNum
    integer array PQuellingBladeNum
    integer array PIronTalonNum
    integer array PBattleFurryNum
    integer array POrbOfVenomNum
    integer array POctarineNum
    integer array PAetherLensNum
    integer array JO7
    sound JP7 = null
    unit JQ7
    group JR7
    boolean array JS7
    integer JT7 = 600
    integer JU7 = 300
    integer JV7
    constant real JW7 = 5
    unit JX7
    real JY7
    unit JZ7
    unit JA7
    integer JB7
    boolean J37
    unit J67
    integer JL7
    group J17
    unit J07
    real J57
    integer J27
    unit J_7
    real K47
    real K77
    real K87
    unit K97
    integer KD7
    integer KE7
    boolean KF7 = false
    real KG7
    unit KH7
    constant real KI7 = .05
    constant real KJ7 = 1.
    constant real KK7 = 4
    constant integer KM7 = 'A2B4'
    group KN7
    constant real KO7 = 20
    integer KP7
    unit KQ7
    integer KR7
    unit KY7
    unit KZ7
    real KB7 = 500
    constant string K67 = "war3mapImported\\Cryofreeze5.mdx"
    group K17
    trigger K07
    unit K57
    unit K27 = null
    constant real MD7 = 6
    constant integer MF7 = 'A2NB'
    constant integer MG7 = 'A2NA'
    constant integer MH7 = 'A2N6'
    constant integer MI7 = 'A2N8'
    constant integer MJ7 = 'A2NC'
    constant integer MK7 = 'A2N7'
    constant integer MM7 = 'A2ND'
    constant integer MN7 = 'A2N9'
    constant integer MO7 = 'B0GA'
    constant real MP7 = 6
    constant integer MQ7 = 'A2LL'
    constant integer MR7 = 'h0EG'
    constant real MS7 = 50
    integer M37
    integer M67
    unit ML7
    unit M17
    integer M07
    trigger M57 = null
    trigger Kx
    constant real M27 = 600
    group M_7
    unit N47
    integer N77
    real N87
    real N97
    integer ND7
    constant real NE7 = 30
    constant real NF7 = 800
    unit NG7
    unit NH7
    group NI7
    integer NJ7
    integer array NK7
    boolean NM7
    real NN7
    integer NO7
    unit NP7
    constant real NQ7 = 1200
    group NR7
    unit NS7
    unit NT7
    integer NU7
    real NV7
    integer NW7
    integer NX7
    unit NY7
    unit NZ7
    unit NA7
    constant integer NB7 = 'A2M1'
    constant integer NC7 = 'A2LW'
    constant integer N37 = 'A2LY'
    constant integer N67 = 'B0G2'
    constant integer NL7 = 'B0G3'
    constant string N27 = "Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl"
    integer array LSP
    constant integer OD7 = 1
    constant integer OE7 = 2
    constant integer OF7 = 2
    constant integer OG7 = 3
    constant integer OH7 = 1
    player ON7 = null
    integer OO7 = 0    
    integer array PE7
    real SY7
    unit SZ7
    real T67 = .0
    boolean TL7 = false
    boolean mu_has_init_dummy_player = false
    boolexpr mu_sync_dummy_messenger = null
    constant real AQK0 = 210
    constant real AQL0 = 160
    boolean array AQP0
    integer array AQ80
    boolean array AQ90
    unit array AQA0
    trigger AU20
    unit array AU30
    unit array AU40
    unit array AQ70
    integer AUO0 = 0
    real AQQ0
    real AQU0
    unit array AU10
    real last_warned_time = 0.
    real Bz = .0
endglobals
function FbGetUnitAbilityManaCost takes unit whichUnit, integer abilId, integer level returns integer
    return BlzGetUnitAbilityManaCost(whichUnit, abilId, level - 1)
endfunction
function FbSetUnitAbilityManaCost takes unit whichUnit, integer abilId, integer level, integer manaCost returns nothing
    call BlzSetUnitAbilityManaCost(whichUnit, abilId, level - 1, manaCost)
endfunction
function FbGetAbilityCooldown takes integer abilId, integer level returns real
    return BlzGetAbilityCooldown(abilId, level - 1)
endfunction
function FbSetUnitAbilityCooldown takes unit whichUnit, integer abilId, integer level, real cooldown returns nothing
    call BlzSetUnitAbilityCooldown(whichUnit, abilId, level - 1, cooldown)
endfunction
function FbGetAbilityManaCost takes integer abilId, integer level returns integer
    return BlzGetAbilityManaCost(abilId, level - 1)
endfunction
function FbGetUnitAbilityCooldown takes unit whichUnit, integer abilId, integer level returns real
    return BlzGetUnitAbilityCooldown(whichUnit, abilId, level - 1)
endfunction
function FbGetAbilityRealLevelField takes ability whichAbility, abilityreallevelfield whichField, integer level returns real
    return BlzGetAbilityRealLevelField(whichAbility, whichField, level - 1)
endfunction
function FbSetAbilityRealLevelField takes ability whichAbility, abilityreallevelfield whichField, integer level, real value returns boolean
    return BlzSetAbilityRealLevelField(whichAbility, whichField, level - 1, value)
endfunction
function FbGetAbilityIntegerLevelField takes ability whichAbility, abilityintegerlevelfield whichField, integer level returns integer
    return BlzGetAbilityIntegerLevelField(whichAbility, whichField, level - 1)
endfunction
function FbSetAbilityIntegerLevelField takes ability whichAbility, abilityintegerlevelfield whichField, integer level, integer value returns boolean
    return BlzSetAbilityIntegerLevelField(whichAbility, whichField, level - 1, value)
endfunction
function FbSetAbilityStringLevelField takes ability whichAbility, abilitystringlevelfield whichField, integer level, string value returns boolean
    return BlzSetAbilityStringLevelField(whichAbility, whichField, level - 1, value)
endfunction
function FbGetAbilityTooltip takes integer abilCode, integer level returns string
    return BlzGetAbilityTooltip(abilCode, level - 1)
endfunction
function FbGetAbilityExtendedTooltip takes integer abilCode, integer level returns string
    return BlzGetAbilityExtendedTooltip(abilCode, level - 1)
endfunction
function MUTransformRelieve takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local unit hero = LoadUnitHandle(R8, GetHandleId(t), 0)
    local integer id = LoadInteger(R8, GetHandleId(t), 0)
    call UnitAddAbility(hero, id)
    call UnitRemoveAbility(hero, id)
    call FlushChildHashtable(R8, GetHandleId(t))
    call PauseTimer(t)
    call DestroyTimer(t)
    set t = null
    set hero = null
endfunction
function MUTransformDebug takes unit hero, integer id, real time returns nothing
    local timer t = CreateTimer()
    call SaveUnitHandle(R8, GetHandleId(t), 0, hero)
    call SaveInteger(R8, GetHandleId(t), 0, id)
    call TimerStart(t, time - 0.01, false, function MUTransformRelieve)
    set t = null
endfunction
function MUInitDummyPlayer takes integer id1, integer id2 returns nothing
    local integer i
    if mu_has_init_dummy_player then
        return
    endif
    set mu_has_init_dummy_player = true
    set W[id1] = W[0]
    set W[id2] = W[6]
    call SetPlayerColor(Player(id1), GetPlayerColor(G8[0]))
    call SetPlayerColor(Player(id2), GetPlayerColor(N8[0]))
    call SetPlayerName(Player(id1), GetPlayerName(G8[0]))
    call SetPlayerName(Player(id2), GetPlayerName(N8[0]))
    set KW4[id1] = GetPlayerName(Player(id1))
    set KW4[id2] = GetPlayerName(Player(id2))
    call SetPlayerTeam(Player(id1), 0)
    call SetPlayerTeam(Player(id2), 1)
    set i = 0
    loop
        call SetPlayerAlliance(Player(id1), G8[i], ALLIANCE_PASSIVE, true)
        call SetPlayerAlliance(Player(id1), G8[i], ALLIANCE_HELP_REQUEST, true)
        call SetPlayerAlliance(Player(id1), G8[i], ALLIANCE_HELP_RESPONSE, true)
        call SetPlayerAlliance(Player(id1), G8[i], ALLIANCE_SHARED_XP, true)
        call SetPlayerAlliance(Player(id1), G8[i], ALLIANCE_SHARED_SPELLS, true)
        call SetPlayerAlliance(G8[i], Player(id1), ALLIANCE_PASSIVE, true)
        call SetPlayerAlliance(G8[i], Player(id1), ALLIANCE_HELP_REQUEST, true)
        call SetPlayerAlliance(G8[i], Player(id1), ALLIANCE_HELP_RESPONSE, true)
        call SetPlayerAlliance(G8[i], Player(id1), ALLIANCE_SHARED_XP, true)
        call SetPlayerAlliance(G8[i], Player(id1), ALLIANCE_SHARED_SPELLS, true)
        call SetPlayerAlliance(Player(id1), N8[i], ALLIANCE_PASSIVE, false)
        call SetPlayerAlliance(Player(id1), N8[i], ALLIANCE_HELP_REQUEST, false)
        call SetPlayerAlliance(Player(id1), N8[i], ALLIANCE_HELP_RESPONSE, false)
        call SetPlayerAlliance(Player(id1), N8[i], ALLIANCE_SHARED_XP, false)
        call SetPlayerAlliance(Player(id1), N8[i], ALLIANCE_SHARED_SPELLS, false)
        call SetPlayerAlliance(N8[i], Player(id1), ALLIANCE_PASSIVE, false)
        call SetPlayerAlliance(N8[i], Player(id1), ALLIANCE_HELP_REQUEST, false)
        call SetPlayerAlliance(N8[i], Player(id1), ALLIANCE_HELP_RESPONSE, false)
        call SetPlayerAlliance(N8[i], Player(id1), ALLIANCE_SHARED_XP, false)
        call SetPlayerAlliance(N8[i], Player(id1), ALLIANCE_SHARED_SPELLS, false)
        set i = i + 1
        exitwhen i > MAX_TEAM_PLAYERS
    endloop
    set i = 0
    loop
        call SetPlayerAlliance(Player(id2), N8[i], ALLIANCE_PASSIVE, true)
        call SetPlayerAlliance(Player(id2), N8[i], ALLIANCE_HELP_REQUEST, true)
        call SetPlayerAlliance(Player(id2), N8[i], ALLIANCE_HELP_RESPONSE, true)
        call SetPlayerAlliance(Player(id2), N8[i], ALLIANCE_SHARED_XP, true)
        call SetPlayerAlliance(Player(id2), N8[i], ALLIANCE_SHARED_SPELLS, true)
        call SetPlayerAlliance(N8[i], Player(id2), ALLIANCE_PASSIVE, true)
        call SetPlayerAlliance(N8[i], Player(id2), ALLIANCE_HELP_REQUEST, true)
        call SetPlayerAlliance(N8[i], Player(id2), ALLIANCE_HELP_RESPONSE, true)
        call SetPlayerAlliance(N8[i], Player(id2), ALLIANCE_SHARED_XP, true)
        call SetPlayerAlliance(N8[i], Player(id2), ALLIANCE_SHARED_SPELLS, true)
        call SetPlayerAlliance(Player(id2), G8[i], ALLIANCE_PASSIVE, false)
        call SetPlayerAlliance(Player(id2), G8[i], ALLIANCE_HELP_REQUEST, false)
        call SetPlayerAlliance(Player(id2), G8[i], ALLIANCE_HELP_RESPONSE, false)
        call SetPlayerAlliance(Player(id2), G8[i], ALLIANCE_SHARED_XP, false)
        call SetPlayerAlliance(Player(id2), G8[i], ALLIANCE_SHARED_SPELLS, false)
        call SetPlayerAlliance(G8[i], Player(id2), ALLIANCE_PASSIVE, false)
        call SetPlayerAlliance(G8[i], Player(id2), ALLIANCE_HELP_REQUEST, false)
        call SetPlayerAlliance(G8[i], Player(id2), ALLIANCE_HELP_RESPONSE, false)
        call SetPlayerAlliance(G8[i], Player(id2), ALLIANCE_SHARED_XP, false)
        call SetPlayerAlliance(G8[i], Player(id2), ALLIANCE_SHARED_SPELLS, false)
        set i = i + 1
        exitwhen i > MAX_TEAM_PLAYERS
    endloop
    set i = 0
    loop
        call SetPlayerAlliance(Player(id1), Player(PLAYER_NEUTRAL_PASSIVE), ConvertAllianceType(i), true)
        call SetPlayerAlliance(Player(PLAYER_NEUTRAL_PASSIVE), Player(id1), ConvertAllianceType(i), true)
        call SetPlayerAlliance(Player(id2), Player(PLAYER_NEUTRAL_PASSIVE), ConvertAllianceType(i), true)
        call SetPlayerAlliance(Player(PLAYER_NEUTRAL_PASSIVE), Player(id2), ConvertAllianceType(i), true)
        set i = i + 1
        exitwhen i > MAX_TEAM_PLAYERS
    endloop
endfunction
function MUCreateDummyMessenger takes unit messenger, player owner, player origin_owner returns nothing
    local unit dummy = CreateUnit(owner, 'e00E', GetUnitX(messenger), GetUnitY(messenger), 0)
    local trigger trg = CreateTrigger()
    if owner != origin_owner then
        call UnitSetUsesAltIcon(dummy, true)
    endif
    call SetUnitFlyHeight(dummy, 10000, 0)
    call UnitAddAbility(dummy, 'Avul')
    call UnitAddAbility(dummy, 'AInv')
    call SaveUnitHandle(R8, GetHandleId(trg), 1, dummy)
    call SaveUnitHandle(R8, GetHandleId(trg), 2, messenger)
    call SavePlayerHandle(R8, GetHandleId(trg), 3, owner)
    call SavePlayerHandle(R8, GetHandleId(trg), 4, origin_owner)
    call TriggerRegisterTimerEvent(trg, 0.1, true)
    call TriggerRegisterUnitEvent(trg, messenger, EVENT_UNIT_PICKUP_ITEM)
    call TriggerRegisterUnitEvent(trg, messenger, EVENT_UNIT_DROP_ITEM)
    call TriggerRegisterUnitEvent(trg, messenger, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddCondition(trg, mu_sync_dummy_messenger)
    set dummy = null
    set trg = null
endfunction
function MUSyncDummyMessenger takes nothing returns nothing
    local trigger trg = GetTriggeringTrigger()
    local unit dummy = LoadUnitHandle(R8, GetHandleId(trg), 1)
    local unit messenger = LoadUnitHandle(R8, GetHandleId(trg), 2)
    local boolean need_sync_items = LoadBoolean(R8, GetHandleId(trg), 5)
    local integer i
    local item it
    if GetTriggerEventId() == EVENT_GAME_TIMER_EXPIRED then
        call UnitPauseTimedLife(dummy, true)
        if IsUnitType(messenger, UNIT_TYPE_DEAD) then
            call ShowUnit(dummy, false)
        else
            call ShowUnit(dummy, true)
            call SetUnitX(dummy, GetUnitX(messenger))
            call SetUnitY(dummy, GetUnitY(messenger))
        endif
        if IsUnitType(dummy, UNIT_TYPE_DEAD) then
            call MUCreateDummyMessenger(messenger, LoadPlayerHandle(R8, GetHandleId(trg), 3), LoadPlayerHandle(R8, GetHandleId(trg), 4))
            call FlushChildHashtable(R8, GetHandleId(trg))
            call DestroyTrigger(trg)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_CHANGE_OWNER then
        call DisableTrigger(GW4)
        set i = 0
        loop
            set it = UnitItemInSlot(dummy, i)
            if it != null then
                call RemoveItem(it)
            endif
            set i = i + 1
            exitwhen i >= bj_MAX_INVENTORY
        endloop
        set it = null
        call EnableTrigger(GW4)
        call RemoveUnit(dummy)
        call FlushChildHashtable(R8, GetHandleId(trg))
        call DestroyTrigger(trg)
    else
        call SaveBoolean(R8, GetHandleId(trg), 5, true)
    endif
    if need_sync_items and GetTriggerEventId() == EVENT_GAME_TIMER_EXPIRED then
        call SaveBoolean(R8, GetHandleId(trg), 5, false)
        call DisableTrigger(GW4)
        set i = 0
        loop
            set it = UnitItemInSlot(dummy, i)
            if it != null then
                call RemoveItem(it)
            endif
            set i = i + 1
            exitwhen i >= bj_MAX_INVENTORY
        endloop
        set i = 0
        loop
            set it = UnitItemInSlot(messenger, i)
            if it == null or (GetTriggerEventId() == EVENT_UNIT_DROP_ITEM and it == GetManipulatedItem()) then
                set it = CreateItem('I02M', 0, 0)
            else
                set it = CreateItem(GetItemTypeId(it), 0, 0)
            endif
            if not UnitAddItem(dummy, it) then
                call RemoveItem(it)
            endif
            set i = i + 1
            exitwhen i >= bj_MAX_INVENTORY
        endloop
        set i = 0
        loop
            set it = UnitItemInSlot(dummy, i)
            if GetItemTypeId(it) == 'I02M' then
                call RemoveItem(it)
            endif
            set i = i + 1
            exitwhen i >= bj_MAX_INVENTORY
        endloop
        set it = null
        call EnableTrigger(GW4)
    endif
    set trg = null
    set dummy = null
    set messenger = null
    set it = null
endfunction
function MUGetMessengerOwner takes unit messenger returns player
    return LoadPlayerHandle(R8, GetHandleId(messenger), StringHash("信使所有者"))
endfunction
function MUIsMessenger takes unit messenger returns boolean
    return MUGetMessengerOwner(messenger) != null
endfunction
function MUIsMessengerShared takes unit messenger returns boolean
    return GetOwningPlayer(messenger) != MUGetMessengerOwner(messenger)
endfunction
function MUIsPlayerMessengerShared takes player target returns boolean
    return LoadBoolean(R8, GetHandleId(target), StringHash("信使共享"))
endfunction
function MUSetMessengerNotShare takes unit messenger returns nothing
    local player owner = MUGetMessengerOwner(messenger)
    local integer i
    if owner == null then
        return
    endif
    call SetUnitOwner(messenger, owner, false)
    if GetPlayerTeam(owner) == 0 then
        set i = 1
        loop
            if G8[i] != owner then
                call DisplayTimedTextToPlayer(G8[i], 0, 0, 10, "|cffffff11你不再能控制" + W[GetPlayerId(owner)] + GetPlayerName(owner) + "|cffffff11的信使了|r")
            endif
            set i = i + 1
            exitwhen i > MAX_TEAM_PLAYERS
        endloop
    else
        set i = 1
        loop
            if N8[i] != owner then
                call DisplayTimedTextToPlayer(N8[i], 0, 0, 10, "|cffffff11你不再能控制" + W[GetPlayerId(owner)] + GetPlayerName(owner) + "|cffffff11的信使了|r")
            endif
            set i = i + 1
            exitwhen i > MAX_TEAM_PLAYERS
        endloop
    endif
    set owner = null
endfunction
function MUSetMessengerShare takes unit messenger returns nothing
    local player owner = MUGetMessengerOwner(messenger)
    local integer team = GetPlayerTeam(owner)
    local player target_player = null
    local string name
    local integer i
    if team == 0 then
        if G8[0] == Player(PLAYER_SENTINEL_ORIGIN) then
            set target_player = Player(PLAYER_NEUTRAL_AGGRESSIVE + 1)
            call MUInitDummyPlayer(PLAYER_NEUTRAL_AGGRESSIVE + 1, PLAYER_NEUTRAL_AGGRESSIVE + 2)
        elseif G8[0] == Player(PLAYER_NEUTRAL_AGGRESSIVE + 1) then
            set target_player = Player(PLAYER_SENTINEL_ORIGIN)
            call MUInitDummyPlayer(PLAYER_SENTINEL_ORIGIN, PLAYER_SCOURGE_ORIGIN)
        endif
    elseif team == 1 then
        if N8[0] == Player(PLAYER_SCOURGE_ORIGIN) then
            set target_player = Player(PLAYER_NEUTRAL_AGGRESSIVE + 2)
            call MUInitDummyPlayer(PLAYER_NEUTRAL_AGGRESSIVE + 1, PLAYER_NEUTRAL_AGGRESSIVE + 2)
        elseif N8[0] == Player(PLAYER_NEUTRAL_AGGRESSIVE + 2) then
            set target_player = Player(PLAYER_SCOURGE_ORIGIN)
            call MUInitDummyPlayer(PLAYER_SENTINEL_ORIGIN, PLAYER_SCOURGE_ORIGIN)
        endif
    endif
    if target_player == null then
        return
    endif
    call SavePlayerHandle(R8, GetHandleId(owner), StringHash("信使共享玩家"), target_player)
    call UnitSetUsesAltIcon(messenger, true)
    call SetUnitOwner(messenger, target_player, false)
    call SetPlayerAbilityAvailable(target_player, 'A1VV', false)
    call SetPlayerAbilityAvailable(target_player, 'A2XM', false)
    call SetPlayerAbilityAvailable(target_player, 'A29N', false)
    set name = GetPlayerName(target_player)
    call SetPlayerName(target_player, W[GetPlayerId(target_player)] + "动物信使|r")
    if team == 0 then
        set i = 1
        loop
            call SetPlayerAlliance(target_player, G8[i], ALLIANCE_SHARED_CONTROL, true)
            call UnitShareVision(messenger, G8[i], true)
            call MUCreateDummyMessenger(messenger, G8[i], owner)
            if G8[i] != owner then
                call DisplayTimedTextToPlayer(G8[i], 0, 0, 10, "|cffffff11你可以控制" + W[GetPlayerId(owner)] + GetPlayerName(owner) + "|cffffff11的信使了|r")
            endif
            set i = i + 1
            exitwhen i > MAX_TEAM_PLAYERS
        endloop
    elseif team == 1 then
        set i = 1
        loop
            call SetPlayerAlliance(target_player, N8[i], ALLIANCE_SHARED_CONTROL, true)
            call UnitShareVision(messenger, N8[i], true)
            call MUCreateDummyMessenger(messenger, N8[i], owner)
            if N8[i] != owner then
                call DisplayTimedTextToPlayer(N8[i], 0, 0, 10, "|cffffff11你可以控制" + W[GetPlayerId(owner)] + GetPlayerName(owner) + "|cffffff11的信使了|r")
            endif
            set i = i + 1
            exitwhen i > MAX_TEAM_PLAYERS
        endloop
    endif
    call SetPlayerName(target_player, name)
    set target_player = null
    set owner = null
endfunction
function MUChangeMessengerShare takes player target returns nothing
    local boolean flag = not MUIsPlayerMessengerShared(target)
    local group temp_group = CreateGroup()
    local unit enum_unit
    if flag then
        call DisplayTimedTextToPlayer(target, 0, 0, 10, "|cffffff11已开启信使共享|r")
        call GroupEnumUnitsOfPlayer(temp_group, target, null)
    else
        call DisplayTimedTextToPlayer(target, 0, 0, 10, "|cffffff11已关闭信使共享|r")
        call GroupEnumUnitsOfPlayer(temp_group, LoadPlayerHandle(R8, GetHandleId(target), StringHash("信使共享玩家")), null)
    endif
    call SaveBoolean(R8, GetHandleId(target), StringHash("信使共享"), flag)
    loop
        set enum_unit = FirstOfGroup(temp_group)
        exitwhen enum_unit == null
        call GroupRemoveUnit(temp_group, enum_unit)
        if MUIsMessenger(enum_unit) then
            if flag then
                if not MUIsMessengerShared(enum_unit) then
                    call MUSetMessengerShare(enum_unit)
                endif
            else
                if MUIsMessengerShared(enum_unit) then
                    call MUSetMessengerNotShare(enum_unit)
                endif
            endif
        endif
    endloop
    call DestroyGroup(temp_group)
    set temp_group = null
    set enum_unit = null
endfunction
function MUInitMessenger takes unit messenger returns nothing
    call SavePlayerHandle(R8, GetHandleId(messenger), StringHash("信使所有者"), GetOwningPlayer(messenger))
    if MUIsPlayerMessengerShared(GetOwningPlayer(messenger)) then
        call MUSetMessengerShare(messenger)
    endif
endfunction
function MUSpellEffect takes nothing returns nothing
    local integer skill_id = GetSpellAbilityId()
    if skill_id == 'AU02' then
        call MUChangeMessengerShare(GetTriggerPlayer())
    endif
endfunction
function UnitAddMaxLife takes unit target, integer delta returns nothing
    local real maxlife = GetUnitState(target, UNIT_STATE_MAX_LIFE)
    local real life = GetUnitState(target, UNIT_STATE_LIFE)
    local real ratio = life / maxlife
    call BlzSetUnitMaxHP(target, BlzGetUnitMaxHP(target) + delta)
    call SetUnitState(target, UNIT_STATE_LIFE, ratio * (maxlife + delta))
endfunction
function IncreaseUnitWeapon1RangeFixed takes unit u, real delta returns nothing
    call BlzSetUnitWeaponRealField(u, UNIT_WEAPON_RF_ATTACK_RANGE, 1, BlzGetUnitWeaponRealField(u, UNIT_WEAPON_RF_ATTACK_RANGE, 1) + delta)
endfunction
function DecreaseUnitWeapon1RangeFixed takes unit u, real delta returns nothing
    call BlzSetUnitWeaponRealField(u, UNIT_WEAPON_RF_ATTACK_RANGE, 1, BlzGetUnitWeaponRealField(u, UNIT_WEAPON_RF_ATTACK_RANGE, 1) - delta)
endfunction
function ALR takes unit u, real r returns real
    if GetUnitAbilityLevel(u, 'A3O3') > 0 then
        return r + 200.
    endif
    return r
endfunction
function YH7 takes unit a, unit b returns real
    return bj_RADTODEG * Atan2(GetUnitY(b) - GetUnitY(a), GetUnitX(b) - GetUnitX(a))
endfunction
function YI7 takes real x1, real y1, real x2, real y2 returns real
    return bj_RADTODEG * Atan2(y2 - y1, x2 - x1)
endfunction
function InitializeYD takes nothing returns nothing
    local trigger trg = null
    local integer i = 0
    set trg = CreateTrigger()
    set i = 0
    loop
        call TriggerRegisterPlayerUnitEvent(trg, Player(i), EVENT_PLAYER_UNIT_SPELL_EFFECT, null)
        set i = i + 1
        exitwhen i > 15
    endloop
    call TriggerAddCondition(trg, Condition(function MUSpellEffect))
    set trg = null
    set mu_sync_dummy_messenger = Condition(function MUSyncDummyMessenger)
endfunction
function Z47 takes widget Z77, widget target returns real
    local real t5 = GetWidgetX(Z77)
    local real w5 = GetWidgetY(Z77)
    local real Y5 = GetWidgetX(target)
    local real Z5 = GetWidgetY(target)
    if Z77 == null or target == null then
        return 9999999999.
    else
        return SquareRoot((t5 - Y5) * (t5 - Y5) + (w5 - Z5) * (w5 - Z5))
    endif
    return 1.0
endfunction
function Z87 takes real x1, real y1, real x2, real y2 returns real
    return SquareRoot(((x1 - x2) * (x1 - x2)) + ((y1 - y2) * (y1 - y2)))
endfunction
function ZF7 takes integer ZG7 returns integer
    local integer ZH7 = 0
    loop
        exitwhen ZH7 > KL4
        if MF4[ZH7] == ZG7 then
            return KA4[ZH7]
        endif
        set ZH7 = ZH7 + 1
    endloop
    return - 1
endfunction
function ZI7 takes unit ZJ7 returns integer
    local integer ZK7 = GetHeroLevel(ZJ7)
    if ZK7 == 1 then
        return 100
    elseif ZK7 == 2 then
        return 120
    elseif ZK7 == 3 then
        return 160
    elseif ZK7 == 4 then
        return 220
    else
        return - 200 + 100 * ZK7
    endif
    return 0
endfunction
function ZN7 takes unit ZO7 returns nothing
    call PauseUnit(ZO7, true)
    call IssueImmediateOrderById(ZO7, 851972)
    call PauseUnit(ZO7, false)
endfunction
function ZP7 takes location f4, real F4, real l4 returns location
    return Location(GetLocationX(f4) + F4 * Cos(l4 * bj_DEGTORAD), GetLocationY(f4) + F4 * Sin(l4 * bj_DEGTORAD))
endfunction
function L4 takes nothing returns boolean
    local real dx = GetDestructableX(GetFilterDestructable()) - Wz
    local real dy = GetDestructableY(GetFilterDestructable()) - Yz
    return(dx * dx + dy * dy <= bj_enumDestructableRadius)
endfunction
function M4 takes player p4 returns force
    set V2 = CreateForce()
    call ForceEnumEnemies(V2, p4, bH)
    return V2
endfunction
function ZQ7 takes unit Y47 returns boolean
    return GetUnitTypeId(Y47) == WC4
endfunction
function ZR7 takes unit Y47 returns boolean
    return GetUnitTypeId(Y47) == WB4
endfunction
function ZS7 takes unit Y47 returns boolean
    return ZQ7(Y47)or ZR7(Y47)
endfunction
function ZT7 takes item Z4 returns nothing
    call DisableTrigger(GW4)
    call RemoveItem(Z4)
    call EnableTrigger(GW4)
endfunction
function IsTheItem takes item ZV7, integer i returns boolean
    return GetItemTypeId(ZV7) == AU[i] or GetItemTypeId(ZV7) == BU[i] or GetItemTypeId(ZV7) == LU[i]
endfunction
function ZU7 takes item ZV7 returns integer
    local integer ZW7
    local integer i = 1
    if ZV7 == null then
        return - 2
    endif
    set ZW7 = GetItemTypeId(ZV7)
    loop
        exitwhen i > JV
        if AU[i] == ZW7 or BU[i] == ZW7 or LU[i] == ZW7 then
            return i
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function IsEnabledItem takes item ZV7, integer i returns boolean
    return GetItemTypeId(ZV7) == BU[i] or GetItemTypeId(ZV7) == AU[i]
endfunction
function ZX7 takes item ZV7 returns integer
    local integer ZW7
    local integer i = 1
    if ZV7 == null then
        return - 2
    endif
    set ZW7 = GetItemTypeId(ZV7)
    loop
        exitwhen i > JV
        if AU[i] == ZW7 or BU[i] == ZW7 then
            return i
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function ZY7 takes item ZV7 returns integer
    local integer ZW7
    local integer i = 1
    if ZV7 == null then
        return - 2
    endif
    set ZW7 = GetItemTypeId(ZV7)
    loop
        exitwhen i > JV
        if LU[i] == ZW7 then
            return i
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function V5 takes nothing returns nothing
    set G04[1] = 'A02A'
    set G54[1] = 'A17O'
    set G24[1] = 'ACac'
    set G_4[1] = 'A0IN'
    set G04[2] = 'A020'
    set G54[2] = 'A2WQ'
    set G24[2] = 'A0N5'
    set G_4[2] = 'A29G'
    set G04[3] = 'A0DW'
    set G54[3] = 'A0DX'
    set G24[3] = 'A01B'
    set G_4[3] = 'A0DY'
    set G04[4] = 'A0FN'
    set G54[4] = 'A0G6'
    set G24[4] = 'A0KX'
    set G_4[4] = 'A0G8'
    set G04[5] = 'A1E9'
    set G54[5] = 'A04C'
    set G24[5] = 'AHab'
    set G_4[5] = 'A03R'
    set G04[6] = 'A190'
    set G54[6] = 'A01K'
    set G24[6] = 'A2IS'
    set G_4[6] = 'A1WH'
    set G04[7] = 'A063'
    set G54[7] = 'A24D'
    set G24[7] = 'A2KU'
    set G_4[7] = 'A07U'
    set G04[8] = 'A0SK'
    set G54[8] = 'A0DL'
    set G24[8] = 'A0DJ'
    set G_4[8] = 'A0DH'
    set G04[9] = 'A0RG'
    set G54[9] = 'A0K9'
    set G24[9] = 'A0DZ'
    set G_4[9] = 'A00J'
    set G04[10] = 'A0A5'
    set G54[10] = 'A1EF'
    set G24[10] = 'A3QB'
    set G_4[10] = 'A0AG'
    set G04[11] = 'A01F'
    set G54[11] = 'A027'
    set G24[11] = 'A18X'
    set G_4[11] = 'A01P'
    set G04[12] = 'A05G'
    set G54[12] = 'A047'
    set G24[12] = 'A00K'
    set G_4[12] = 'A0M1'
    set G04[13] = 'A14L'
    set G54[13] = 'A0LZ'
    set G24[13] = 'A2NT'
    set G_4[13] = 'A0L3'
    set G04[14] = 'A01Z'
    set G54[14] = 'A26N'
    set G24[14] = 'A2ML'
    set G_4[14] = 'A07Z'
    set G04[15] = 'A1AA'
    set G54[15] = 'A1A8'
    set G24[15] = 'A1CD'
    set G_4[15] = 'A1A1'
    set G04[16] = 'A085'
    set G54[16] = 'A10X'
    set G24[16] = 'A112'
    set G_4[16] = 'A2XQ'
    set G04[17] = 'A03Y'
    set G54[17] = 'A1P9'
    set G24[17] = 'A2X2'
    set G_4[17] = 'A0LC'
    set G04[18] = 'A08D'
    set G54[18] = 'A00F'
    set G24[18] = 'A08I'
    set G_4[18] = 'A088'
    set G04[19] = 'A049'
    set G54[19] = 'A05E'
    set G24[19] = 'A0BQ'
    set G_4[19] = 'A065'
    set G04[20] = 'A21E'
    set G54[20] = 'A01O'
    set G24[20] = 'AEfn'
    set G_4[20] = 'A1W8'
    set G04[21] = 'A10D'
    set G54[21] = 'A30C'
    set G24[21] = 'A0DB'
    set G_4[21] = 'A0YK'
    set G04[22] = 'A0LL'
    set G54[22] = 'A0BZ'
    set G24[22] = 'A19Q'
    set G_4[22] = 'A0CY'
    set G04[23] = 'A05J'
    set G54[23] = 'A06H'
    set G24[23] = 'A06B'
    set G_4[23] = 'A0AK'
    set G04[24] = 'A0KM'
    set G54[24] = 'A0LV'
    set G24[24] = 'A28T'
    set G_4[24] = 'A0LT'
    set G04[25] = 'A042'
    set G54[25] = 'A041'
    set G24[25] = 'A062'
    set G_4[25] = 'A054'
    set G04[26] = 'A064'
    set G54[26] = 'A03S'
    set G24[26] = 'A03U'
    set G_4[26] = 'A04P'
    set G04[27] = 'A0BE'
    set G54[27] = 'A0BC'
    set G24[27] = 'A0O0'
    set G_4[27] = 'A1EJ'
    set G04[28] = 'A010'
    set G54[28] = 'A0RX'
    set G24[28] = 'A00P'
    set G_4[28] = 'A00H'
    set G04[29] = 'A0FW'
    set G54[29] = 'A0GP'
    set G24[29] = 'A0M3'
    set G_4[29] = 'A0FV'
    set G04[30] = 'A06M'
    set G54[30] = 'Acdh'
    set G24[30] = 'A0MX'
    set G_4[30] = 'A0MQ'
    set G04[31] = 'A00S'
    set G54[31] = 'A2ON'
    set G24[31] = 'A00V'
    set G_4[31] = 'A2O6'
    set G04[32] = 'A004'
    set G54[32] = 'A1IQ'
    set G24[32] = 'A07A'
    set G_4[32] = 'A0B4'
    set G04[33] = 'A03F'
    set G54[33] = 'A0AR'
    set G24[33] = 'A0CL'
    set G_4[33] = 'A03G'
    set G04[34] = 'A022'
    set G54[34] = 'AEbl'
    set G24[34] = 'A0KY'
    set G_4[34] = 'A2WE'
    set G04[35] = 'A026'
    set G54[35] = 'A2WF'
    set G24[35] = 'A2O2'
    set G_4[35] = 'A0VC'
    set G04[36] = 'A08N'
    set G54[36] = 'A08V'
    set G24[36] = 'A06A'
    set G_4[36] = 'A0ER'
    set G04[37] = 'A0O1'
    set G54[37] = 'A0OO'
    set G24[37] = 'A0BD'
    set G_4[37] = 'A0O2'
    set G04[38] = 'A0O7'
    set G54[38] = 'A0O6'
    set G24[38] = 'A2VO'
    set G_4[38] = 'A0O5'
    set G04[39] = 'A0IL'
    set G54[39] = 'A1NI'
    set G24[39] = 'A0O3'
    set G_4[39] = 'ANcr'
    set G04[40] = 'A0KV'
    set G54[40] = 'A0L8'
    set G24[40] = 'A0LN'
    set G_4[40] = 'A0KU'
    set G04[41] = 'A14P'
    set G54[41] = 'A14R'
    set G24[41] = 'A0QW'
    set G_4[41] = 'A14O'
    set G04[42] = 'A0QP'
    set G54[42] = 'A0QN'
    set G24[42] = 'A0QQ'
    set G_4[42] = 'A0QR'
    set G04[43] = 'A1EA'
    set G54[43] = 'A0RV'
    set G24[43] = 'A0RO'
    set G_4[43] = 'A0RP'
    set G04[44] = 'A0S9'
    set G54[44] = 'A0SC'
    set G24[44] = 'A0SB'
    set G_4[44] = 'A0S8'
    set G04[45] = 'A0Z4'
    set G54[45] = 'A0Z5'
    set G24[45] = 'A0Z6'
    set G_4[45] = 'A0Z8'
    set G04[46] = 'A136'
    set G54[46] = 'A13T'
    set G24[46] = 'A11N'
    set G_4[46] = 'A11K'
    set G04[47] = 'A12J'
    set G54[47] = 'A12K'
    set G24[47] = 'A14I'
    set G_4[47] = 'A12P'
    set G04[48] = 'A1SO'
    set G54[48] = 'A1SQ'
    set G24[48] = 'A1TW'
    set G_4[48] = 'A1T5'
    set G04[49] = 'A1TV'
    set G54[49] = 'A1SW'
    set G24[49] = 'A1SU'
    set G_4[49] = 'A1U6'
    set G04[50] = 'A1TA'
    set G54[50] = 'A1T8'
    set G24[50] = 'A28Q'
    set G_4[50] = 'A1TB'
    set G04[51] = 'A07F'
    set G54[51] = 'A08R'
    set G24[51] = 'A053'
    set G_4[51] = 'A05T'
    set G04[52] = 'A02M'
    set G54[52] = 'A0P6'
    set G24[52] = 'A02C'
    set G_4[52] = 'A073'
    set G04[53] = 'A0X5'
    set G54[53] = 'A0MN'
    set G24[53] = 'A02N'
    set G_4[53] = 'A095'
    set G04[54] = 'A173'
    set G54[54] = 'A0MY'
    set G24[54] = 'A0MS'
    set G_4[54] = 'A013'
    set G04[55] = 'A02S'
    set G54[55] = 'A037'
    set G24[55] = 'A1RD'
    set G_4[55] = 'A29L'
    set G04[56] = 'A08X'
    set G54[56] = 'A1NA'
    set G24[56] = 'A0VX'
    set G_4[56] = 'A07K'
    set G04[57] = 'A055'
    set G54[57] = 'A0RW'
    set G24[57] = 'A03N'
    set G_4[57] = 'A03O'
    set G04[58] = 'A2UU'
    set G54[58] = 'A2TJ'
    set G24[58] = 'A2QI'
    set G_4[58] = 'A2TI'
    set G04[59] = 'A2QT'
    set G54[59] = 'A2T5'
    set G24[59] = 'A2SG'
    set G_4[59] = 'A2TF'
    set G04[60] = 'A0YM'
    set G54[60] = 'A0PL'
    set G24[60] = 'A03P'
    set G_4[60] = 'A03Q'
    set G04[61] = 'A1C0'
    set G54[61] = 'A0G2'
    set G24[61] = 'A0MP'
    set G_4[61] = 'A1AT'
    set G04[62] = 'A02H'
    set G54[62] = 'A08E'
    set G24[62] = 'A086'
    set G_4[62] = 'A03K'
    set G04[63] = 'AHtb'
    set G54[63] = 'AUa2'
    set G24[63] = 'AOcr'
    set G_4[63] = 'A01Y'
    set G04[64] = 'A10R'
    set G54[64] = 'A1OP'
    set G24[64] = 'A3Q6'
    set G_4[64] = 'A0MU'
    set G04[65] = 'A0X7'
    set G54[65] = 'A1H5'
    set G24[65] = 'A2KO'
    set G_4[65] = 'A09U'
    set G04[66] = 'A05C'
    set G54[66] = 'A29K'
    set G24[66] = 'A0JJ'
    set G_4[66] = 'A034'
    set G04[67] = 'A0Q7'
    set G54[67] = 'A0ME'
    set G24[67] = 'A04A'
    set G_4[67] = 'A306'
    set G04[68] = 'A030'
    set G54[68] = 'A2UO'
    set G24[68] = 'A025'
    set G_4[68] = 'A04Q'
    set G04[69] = 'A0LK'
    set G54[69] = 'A0CZ'
    set G24[69] = 'A081'
    set G_4[69] = 'A0J1'
    set G04[70] = 'A09V'
    set G54[70] = 'A1A3'
    set G24[70] = 'A0MM'
    set G_4[70] = 'A080'
    set G04[71] = 'A1E7'
    set G54[71] = 'A1DP'
    set G24[71] = 'A1E6'
    set G_4[71] = 'A1AO'
    set G04[72] = 'A2TT'
    set G54[72] = 'A0SS'
    set G24[72] = 'A194'
    set G_4[72] = 'A0SW'
    set G04[73] = 'A0MT'
    set G54[73] = 'A2TD'
    set G24[73] = 'A09D'
    set G_4[73] = 'A0CC'
    set G04[74] = 'A046'
    set G54[74] = 'A04E'
    set G24[74] = 'A044'
    set G_4[74] = 'A29I'
    set G04[75] = 'A2OI'
    set G54[75] = 'A0GK'
    set G24[75] = 'A04Y'
    set G_4[75] = 'A02Q'
    set G04[76] = 'A05V'
    set G54[76] = 'A01N'
    set G24[76] = 'A060'
    set G_4[76] = 'A067'
    set G04[77] = 'A06I'
    set G54[77] = 'A06K'
    set G24[77] = 'A06D'
    set G_4[77] = 'A0FL'
    set G04[78] = 'A1P8'
    set G54[78] = 'A30F'
    set G24[78] = 'A0G5'
    set G_4[78] = 'A0G4'
    set G04[79] = 'A1QW'
    set G54[79] = 'A0CA'
    set G24[79] = 'A0CG'
    set G_4[79] = 'A0CT'
    set G04[80] = 'A0EY'
    set G54[80] = 'A0BR'
    set G24[80] = 'A0FU'
    set G_4[80] = 'A29J'
    set G04[81] = 'A06O'
    set G54[81] = 'A0H0'
    set G24[81] = 'A0FA'
    set G_4[81] = 'A06R'
    set G04[82] = 'A0I6'
    set G54[82] = 'A0S1'
    set G24[82] = 'A0C6'
    set G_4[82] = 'A0E2'
    set G04[83] = 'A311'
    set G54[83] = 'A2X9'
    set G24[83] = 'A0I8'
    set G_4[83] = 'A0LH'
    set G04[84] = 'A0I3'
    set G54[84] = 'A0MF'
    set G24[84] = 'A0MG'
    set G_4[84] = 'A0NS'
    set G04[85] = 'A0HW'
    set G54[85] = 'A0FX'
    set G24[85] = 'A0NA'
    set G_4[85] = 'A0H9'
    set G04[86] = 'A0NM'
    set G54[86] = 'A0NE'
    set G24[86] = 'A0NO'
    set G_4[86] = 'A0NT'
    set G04[87] = 'A0OI'
    set G54[87] = 'A0OJ'
    set G24[87] = 'A0IF'
    set G_4[87] = 'A0OK'
    set G04[88] = 'A0J5'
    set G54[88] = 'A0AS'
    set G24[88] = 'A06P'
    set G_4[88] = 'S008'
    set G04[89] = 'A0NB'
    set G54[89] = 'A0N8'
    set G24[89] = 'A0N7'
    set G_4[89] = 'A0MW'
    set G04[90] = 'A2X6'
    set G54[90] = 'A10L'
    set G24[90] = 'A0OR'
    set G_4[90] = 'A10Q'
    set G04[91] = 'A01I'
    set G54[91] = 'A0RA'
    set G24[91] = 'A288'
    set G_4[91] = 'A0R0'
    set G04[92] = 'A15S'
    set G54[92] = 'A0R5'
    set G24[92] = 'A15V'
    set G_4[92] = 'A15J'
    set G04[93] = 'A0QE'
    set G54[93] = 'A0QG'
    set G24[93] = 'A0R7'
    set G_4[93] = 'A0QK'
    set G04[94] = 'A21W'
    set G54[94] = 'A21X'
    set G24[94] = 'A21V'
    set G_4[94] = 'A21Y'
    set G04[95] = 'A0I7'
    set G54[95] = 'A180'
    set G24[95] = 'A0B1'
    set G_4[95] = 'A1BX'
    set G04[96] = 'A1EL'
    set G54[96] = 'A19V'
    set G24[96] = 'A19Z'
    set G_4[96] = 'A19O'
    set G04[97] = 'A1MG'
    set G54[97] = 'A1HS'
    set G24[97] = 'A1HQ'
    set G_4[97] = 'A1MI'
    set G04[98] = 'A1IM'
    set G54[98] = 'A1J7'
    set G24[98] = 'A1HR'
    set G_4[98] = 'A1IN'
    set G04[99] = 'A04L'
    set G54[99] = 'A0H4'
    set G24[99] = 'A1RI'
    set G_4[99] = 'A07Q'
    set G04[100] = 'A06W'
    set G54[100] = 'A20T'
    set G24[100] = 'A06V'
    set G_4[100] = 'A21F'
    set G04[101] = 'A1S8'
    set G54[101] = 'A1SB'
    set G24[101] = 'A1S4'
    set G_4[101] = 'A2XI'
    set G04[110] = 'A2M1'
    set G54[110] = 'A2LM'
    set G24[110] = 'A2LL'
    set G_4[110] = 'A2M0'
    set G04[111] = 'A03D'
    set G54[111] = 'A0ZF'
    set G24[111] = 'A03E'
    set G_4[111] = 'A093'
    set G04[112] = 'A0BH'
    set G54[112] = 'A0BG'
    set G24[112] = 'A0BK'
    set G_4[112] = 'A0WQ'
    set H44[1] = 'A1AW'
    set H44[2] = 'A29H'
    set H44[5] = 'A0AV'
    set H44[8] = 'A1OB'
    set H44[11] = 'A09Z'
    set H44[12] = 'A1AX'
    set H44[20] = 'A1W9'
    set H44[22] = 'A1VH'
    set H44[23] = 'A1FY'
    set H44[24] = 'A1CS'
    set H44[25] = 'A00U'
    set H44[28] = 'A0A1'
    set H44[30] = 'A1B6'
    set H44[38] = 'A1B1'
    set H44[42] = 'A1B3'
    set H44[44] = 'A1QP'
    set H44[45] = 'A1CV'
    set H44[47] = 'A1D6'
    set H44[50] = 'A21G'
    set H44[51] = 'A08H'
    set H44[53] = 'A09W'
    set H44[54] = 'A0A6'
    set H44[62] = 'A1B0'
    set H44[64] = 'A0A2'
    set H44[67] = 'A307'
    set H44[69] = 'A1D7'
    set H44[70] = 'A1UZ'
    set H44[71] = 'A1UV'
    set H44[73] = 'A02Z'
    set H44[75] = 'A1D9'
    set H44[76] = 'A08P'
    set H44[78] = 'A1D8'
    set H44[82] = 'A1MR'
    set H44[84] = 'A1DA'
    set H44[86] = 'A0NX'
    set H44[87] = 'A1VW'
    set H44[88] = 'S00U'
    set H44[90] = 'A1DB'
    set H44[94] = 'A1GU'
endfunction
function E5 takes nothing returns nothing
    set G14[0] = 0
    set G14[MV] = 400
    set G14[NV] = 500
    set G14[OV] = 450
    set G14[QV] = 165
    set G14[SV] = 450
    set G14[TV] = 1000
    set G14[UV] = 420
    set G14[XV] = 1200
    set G14[AV] = 550
    set G14[BV] = 1400
    set G14[CV] = 2400
    set G14[LV] = 3000
    set G14[EW] = 900
    set G14[HW] = 150
    set G14[NW] = 900
    set G14[OW] = 900
    set G14[QW] = 900
    set G14[RW] = 2000
    set G14[SW] = 50
    set G14[TW] = 2250
    set G14[UW] = 2250
    set G14[VW] = 150
    set G14[YW] = 900
    set G14[ZW] = 3000
    set G14[GX] = 1600
    set G14[NX] = 2700
    set G14[RX] = 1000
    set G14[SX] = 550
    set G14[WX] = 1400
    set G14[YX] = 1200
    set G14[ZX] = 875
    set G14[AX] = 850
    set G14[DY] = 200
    set G14[EY] = 350
    set G14[FY] = 450
    set G14[GY] = 3800
    set G14[HY] = 150
    set G14[IY] = 325
    set G14[JY] = 1000
    set G14[MY] = 200
    set G14[OY] = 200
    set G14[PY] = 2100
    set G14[QY] = 1100
    set G14[SY] = 875
    set G14[TY] = 1500
    set G14[UY] = 660
    set G14[VY] = 660
    set G14[XY] = 660
    set G14[YY] = 660
    set G14[ZY] = 660
    set G14[AY] = 660
    set G14[BY] = 660
    set G14[CY] = 660
    set G14[DZ] = 660
    set G14[EZ] = 660
    set G14[AASP] = 660
    set G14[HZ] = 200
    set G14[NZ] = 200
    set G14[RZ] = 1800
    set G14[NA] = 4000
    set G14[WA] = 50
    set G14[YA] = 200
    set G14[ZA] = 110
    set G14[BA] = 125
    set G14[FB] = 75
    set G14[GB] = 200
    set G14[JB] = 75
    set G14[QB] = 75
    set G14[RB] = 100
    set G14[VB] = 1000
    set G14[WB] = 0
    set G14[YB] = 180
    set G14[QC] = 1750
    set G14[TC] = 600
    set G14[VC] = 800
    set G14[WC] = 525
    set G14[XC] = 525
    set G14[YC] = 2450
    set G14[DFX] = 4450
    set G14[ZC] = 1350
    set G14[AC] = 1350
    set G14[BC] = 1350
    set G14[CC] = 2050
    set G14[H3] = 1650
    set G14[M3] = 525
    set G14[N3] = 485
    set G14[R3] = 470
    set G14[U3] = 2050
    set G14[W3] = 2050
    set G14[X3] = 2950
    set G14[Y3] = 2950
    set G14[Z3] = 2200
    set G14[B3] = 2800
    set G14[C3] = 3150
    set G14[E6] = 3850
    set G14[F6] = 3150
    set G14[G6] = 3850
    set G14[H6] = 1800
    set G14[N6] = 1850
    set G14[S6] = 1800
    set G14[V6] = 2825
    set G14[W6] = 3200
    set G14[X6] = 2300
    set G14[A6] = 4100
    set G14[DL] = 3500
    set G14[HL] = 4525
    set G14[OL] = 2120
    set G14[RL] = 3975
    set G14[WL] = 3975
    set G14[ZL] = 3975
    set G14[AL] = 3975
    set G14[LL] = 3975
    set G14[D1] = 3975
    set G14[E1] = 3975
    set G14[F1] = 0
    set G14[H1] = 4950
    set G14[J1] = 4950
    set G14[O1] = 2800
    set G14[P1] = 2720
    set G14[Q1] = 3970
    set G14[R1] = 5220
    set G14[T1] = 6470
    set G14[U1] = 7720
    set G14[V1] = 2650
    set G14[X1] = 3900
    set G14[A1] = 5150
    set G14[D0] = 5125
    set G14[E0] = 5125
    set G14[J0] = 7800
    set G14[O0] = 5520
    set G14[R0] = 5400
    set G14[T0] = 5400
    set G14[X0] = 5150
    set G14[Y0] = 5150
    set G14[B0] = 5500
    set G14[F5] = 5900
    set G14[G5] = 5675
    set G14[J5] = 5675
    set G14[M5] = 5675
    set G14[N5] = 5200
    set G14[R5] = 5650
    set G14[S5] = 2150
    set G14[T5] = 2150
    set G14[A5] = 5700
    set G14[B5] = 300
    set G14[C5] = 2075
    set G14[L5] = 5250
    set G14[E2] = 4900
    set G14[F2] = 2100
    set G14[H2] = 2320
    set G14[P2] = 2320
    set G14[R2] = 2320
    set G14[S2] = 2320
    set G14[T2] = 4700
    set G14[W2] = 4700
    set G14[X2] = 4075
    set G14[Z2] = 1240
    set G14[D44] = 465
    set G14[D74] = 2250
    set G14[D84] = 3500
    set G14[D94] = 550
    set G14[DD4] = 550
    set G14[DE4] = 875
    set G14[DF4] = 875
    set G14[DG4] = 1500
    set G14[DH4] = 200
    set G14[DI4] = 200
    set G14[DJ4] = 2000
    set G14[DK4] = 0
    set G14[DM4] = 1550
    set G14[DN4] = 150
    set G14[DO4] = 170
    set G14[DP4] = 155
    set G14[DQ4] = 600
    set G14[DR4] = 600
    set G14[DS4] = 1000
    set G14[DT4] = 700
    set G14[DU4] = 700
    set G14[DV4] = 900
    set G14[DW4] = 650
    set G14[DX4] = 900
    set G14[DY4] = 0
    set G14[DZ4] = 300
    set G14[DA4] = 500
    set G14[DB4] = 1375
    set G14[DC4] = 800
    set G14[DF4] = 875
    set G14[D34] = 0
    set G14[D64] = 1250
    set G14[DL4] = 1250
    set G14[D04] = 1325
    set G14[D54] = 1000
    set G14[D24] = 1350
    set G14[D_4] = 1400
    set G14[E44] = 1100
    set G14[E74] = 0
    set G14[E84] = 1800
    set G14[ED4] = 220
    set G14[EE4] = 300
    set G14[EF4] = 1300
    set G14[EG4] = 500
    set G14[EH4] = 600
    set G14[EI4] = 0
    set G14[EJ4] = 900
    set G14[EK4] = 800
    set G14[EM4] = 900
    set G14[EN4] = 250
    set G14[EP4] = 800
    set G14[EQ4] = 4700
    set G14[EW4] = 1100
    set G14[EX4] = 775
    set G14[ER4] = 275
    set G14[ES4] = 0
    set G14[ET4] = 1400
    set G14[UZ] = 775
    set G14[XZ] = 775
    set G14[YZ] = 1850
    set G14[AZ] = 1850
    set G14[EC] = 50
    set G14[FC] = 1200
    set G14[EV4] = 325
    set G14[EU4] = 875
    set G14[GC] = 2270
    set G14[JC] = 3850
    set G14[JA] = 3100
    set G14[CZ] = 925
    set G14[IA] = 925
    set G14[NC] = 6750
    set G14[QA] = 1010
    set G14[VA] = 1010
    set G14[OC] = 1400
    set G14[IEM] = 125
    set G14[IFF] = 75
    set G14[IGM] = 5250
    set G14[IMM] = 1650
    set G14[IBM] = 600
    set G14[IBY] = 5450
    set G14[ISC] = 3000
    set G14[ILM] = 900
    set G14[IOC] = 5900
    set G14[ILO] = 4000
    set G14[IDL] = 1875
    set G14[IAL] = 2300
    set G14[IIT] = 500
    set G14[ITS] = 125
    set G14[ALS] = 550
    set G14[E_4] = 4200
    set G14[F44] = 4200
    set G14[F74] = 4200
    set G14[F84] = 4200
    set G14[F94] = 4200
    set G14[FD4] = 4200
    set G14[FE4] = 4200
    set G14[FF4] = 4200
    set G14[FG4] = 4200
    set G14[FH4] = 4200
    set G14[FJ4] = 4200
    set G14[FK4] = 4200
    set G14[FM4] = 4200
    set G14[FN4] = 4200
    set G14[FO4] = 4200
    set G14[FP4] = 4200
    set G14[FQ4] = 4200
    set G14[FR4] = 4200
    set G14[FS4] = 4200
    set G14[FT4] = 4200
    set G14[FU4] = 4200
    set G14[FV4] = 4200
    set G14[FW4] = 4200
    set G14[FX4] = 4200
    set G14[FY4] = 4200
    set G14[FZ4] = 4200
    set G14[FA4] = 4200
    set G14[FB4] = 4200
    set G14[FC4] = 4200
    set G14[F34] = 4200
    set G14[F64] = 4200
    set G14[FL4] = 4200
    set G14[F14] = 4200
    set G14[F04] = 4200
    set G14[F54] = 4200
    set G14[F24] = 4200
    set G14[F_4] = 4200
    set G14[G44] = 4200
    set G14[FI4] = 4200
    set G14[G74] = 4200
    set G14[G84] = 4200
    set G14[G94] = 4200
    set G14[GD4] = 4200
    set G14[GE4] = 4200
    set G14[GG4] = 4200
    set G14[GH4] = 4200
    set G14[GI4] = 4200
    set G14[GJ4] = 4200
    set G14[GK4] = 4200
    set G14[GM4] = 4200
    set G14[GN4] = 4200
    set G14[GO4] = 4200
    set G14[AJ10] = 900
    set G14[AHJ0] = 700
    set G14[AASP] = 700
    set G14[AJO0] = 825
    set G14[AZ40] = 3550
    set G14[AJK0] = 4200
    set G14[ALI0] = 4200
    set G14[AL00] = 4200
    set G14[AL10] = 4200
    set G14[AL20] = 4200
    set G14[AL30] = 4200
    set G14[AL40] = 4200
    set G14[AL50] = 4200
    set G14[AL60] = 4200
    set G14[AL70] = 4200
    set G14[AL80] = 4200
    set G14[AZXQ] = 4200
    set G14[AKLW] = 4200
    set G14[AZHM] = 4200
    set G14[AZXG] = 4200
    set G14[AZCZ] = 4200
    set G14[AZCX] = 4200
    set G14[AZMM] = 4200
    set G14[AZXH] = 4200
    set G14[AZLJ] = 4200
    set G14[ALO0] = 4200
    set G14[AZRM] = 4200
    set G14[AZJT] = 4200
    set G14[AZXD] = 4200
    set G14[AZNJ] = 4200
    set G14[AZMY] = 4200
    set G14[AZBF] = 4200
    set G14[AZYM] = 4200
    set G14[AZXZ] = 4200
endfunction
function AR7 takes unit it, integer item_id returns boolean
    local integer i = 0
    local item ja
    set bj_lastCreatedItem = null
    loop
        set ja = UnitItemInSlot(it, i)
        if((ja != null)and(GetItemTypeId(ja) == item_id))then
            set bj_lastCreatedItem = ja
            set ja = null
            return true
        endif
        set i = i + 1
        exitwhen i >= bj_MAX_INVENTORY
    endloop
    set ja = null
    return false
endfunction
function AS7 takes unit it returns boolean
    local integer i = 0
    loop
        if(UnitItemInSlot(it, i) == null)then
            return false
        endif
        set i = i + 1
        exitwhen(i >= bj_MAX_INVENTORY)
    endloop
    return true
endfunction
function AT7 takes unit it returns boolean
    local integer i = 0
    loop
        if(UnitItemInSlot(it, i) != null)then
            return false
        endif
        set i = i + 1
        exitwhen(i >= bj_MAX_INVENTORY)
    endloop
    return true
endfunction
function AU7 takes unit S4, integer n5, item Z4 returns item
    local integer D5
    local item f5
    set D5 = 0
    loop
        exitwhen D5 >= bj_MAX_INVENTORY
        set f5 = UnitItemInSlot(S4, D5)
        if f5 != null and f5 != Z4 and GetItemTypeId(f5) == n5 then
            set f5 = null
            return UnitItemInSlot(S4, D5)
        endif
        set D5 = D5 + 1
    endloop
    set f5 = null
    return null
endfunction
function AV7 takes unit S4, integer n5 returns item
    local integer D5
    local item f5
    set D5 = 0
    loop
        exitwhen D5 >= bj_MAX_INVENTORY
        set f5 = UnitItemInSlot(S4, D5)
        if(f5 != null)and(GetItemTypeId(f5) == n5)then
            set f5 = null
            return UnitItemInSlot(S4, D5)
        endif
        set D5 = D5 + 1
    endloop
    set f5 = null
    return null
endfunction
function BI7 takes unit Z77, location X77 returns real
    local real BJ7 = GetUnitX(Z77)
    local real BK7 = GetUnitY(Z77)
    local real BM7 = GetLocationX(X77)
    local real BN7 = GetLocationY(X77)
    if Z77 == null then
        return I2R(9999999999)
    else
        return SquareRoot((BJ7 - BM7) * (BJ7 - BM7) + (BK7 - BN7) * (BK7 - BN7))
    endif
    return 1.0
endfunction
function BO7 takes unit u returns boolean
    return GetUnitTypeId(u) < 1 or IsUnitType(u, UNIT_TYPE_DEAD)
endfunction
function BP7 takes nothing returns nothing
    set GT = false
endfunction
function BS7 takes widget Z77, widget X77 returns real
    local real BJ7 = GetWidgetX(Z77)
    local real BK7 = GetWidgetY(Z77)
    local real BM7 = GetWidgetX(X77)
    local real BN7 = GetWidgetY(X77)
    if Z77 == null or X77 == null then
        return I2R(9999999999)
    else
        return SquareRoot((BJ7 - BM7) * (BJ7 - BM7) + (BK7 - BN7) * (BK7 - BN7))
    endif
    return 1.0
endfunction
function BT7 takes unit Z77, unit X77 returns real
    local real BJ7 = GetUnitX(Z77)
    local real BK7 = GetUnitY(Z77)
    local real BM7 = GetUnitX(X77)
    local real BN7 = GetUnitY(X77)
    if Z77 == null or X77 == null then
        return I2R(9999999999)
    else
        return SquareRoot((BJ7 - BM7) * (BJ7 - BM7) + (BK7 - BN7) * (BK7 - BN7))
    endif
    return 1.0
endfunction
function CI7 takes unit Y47 returns boolean
    return GetUnitAbilityLevel(Y47, 'B01T') > 0 or GetUnitAbilityLevel(Y47, 'BNsi') > 0 or GetUnitAbilityLevel(Y47, 'B01X') > 0 or GetUnitAbilityLevel(Y47, 'BNdo') > 0 or GetUnitAbilityLevel(Y47, 'B02M') > 0 or GetUnitAbilityLevel(Y47, 'Bhea') > 0 or GetUnitAbilityLevel(Y47, 'B07V') > 0 or GetUnitAbilityLevel(Y47, 'B0BY') > 0 or GetUnitAbilityLevel(Y47, 'B08O') > 0 or GetUnitAbilityLevel(Y47, 'B07U') > 0 or GetUnitAbilityLevel(Y47, 'B0DL') > 0 or GetUnitAbilityLevel(Y47, 'B08V') > 0 or GetUnitAbilityLevel(Y47, 'B031') > 0 or GetUnitAbilityLevel(Y47, 'B0FT') > 0 or GetUnitAbilityLevel(Y47, 'B0FG') > 0
endfunction
function Z17 takes integer player_id returns player
    if((player_id > 0)and(player_id <= MAX_TEAM_PLAYERS))then
        return G8[player_id]
    elseif((player_id > MAX_TEAM_PLAYERS)and(player_id <= MAX_TEAM_PLAYERS * 2))then
        return N8[player_id - MAX_TEAM_PLAYERS]
    endif
    return null
endfunction
function Z07 takes string player_id_string returns player
    local integer player_id
    if player_id_string == "0" then
        set player_id = 10
    else
        set player_id = S2I(player_id_string)
    endif
    if((player_id > 0)and(player_id <= MAX_TEAM_PLAYERS))then
        return G8[player_id]
    elseif((player_id > MAX_TEAM_PLAYERS)and(player_id <= MAX_TEAM_PLAYERS * 2))then
        return N8[player_id - MAX_TEAM_PLAYERS]
    endif
    return null
endfunction
function GetPlayerRank takes player pl returns integer
    local integer player_id = 1
    loop
        exitwhen player_id > MAX_TEAM_PLAYERS
        if(pl == G8[player_id])then
            return player_id
        elseif(pl == N8[player_id])then
            return player_id
        endif
        set player_id = player_id + 1
    endloop
    return 0
endfunction
function GetPlayerIndex takes player pl returns integer
    local integer player_id = 1
    loop
        exitwhen player_id > MAX_TEAM_PLAYERS
        if(pl == G8[player_id])then
            return player_id
        elseif(pl == N8[player_id])then
            return player_id + MAX_TEAM_PLAYERS
        endif
        set player_id = player_id + 1
    endloop
    return 0
endfunction
function ErrTrigger takes nothing returns nothing
    local integer i = 0
    if U9 == false and PS4 == false then
        loop
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303TRIGGER ERROR|r")
            set i = i + 1
            exitwhen i == 12
        endloop
    endif
endfunction
function ErrGetTriggeringTrigger takes nothing returns nothing
    local integer i = 0
    if U9 == false and PS4 == false and Bz > last_warned_time + 15. then
        set last_warned_time = Bz
        loop
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303GetTriggeringTrigger() returns null!!! FIX IT Microsoft!|r")
            set i = i + 1
            exitwhen i == 12
        endloop
    endif
endfunction
function l5 takes nothing returns nothing
    local integer i = 0
    if U9 == false and PS4 == false then
        loop
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303An internal checksum has failed|r")
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")
            set i = i + 1
            exitwhen i == 12
        endloop
    endif
endfunction
function EA8 takes trigger t returns nothing
    if t == null then
        call ErrGetTriggeringTrigger()
        call TriggerSleepAction(600)
        return
    endif
    call DisableTrigger(t)
    set Dy = Dy + 1
    set Dx[Dy] = t
    set DX[Dy] = TimerGetElapsed(E4) + 30.
    if Dy > 8000 then
        call l5()
    endif
endfunction
function ASBI takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveInteger(R8, (GetHandleId(LoadUnitHandle(R8, (EC8), (14)))), (LoadInteger(R8, (EC8), (33))), (2))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function ASCI takes unit ASDI, integer AS7I, real Hk returns nothing
    local trigger t = CreateTrigger()
    call SaveInteger(R8, (GetHandleId(ASDI)), (AS7I), (1))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (ASDI))
    call SaveInteger(R8, (GetHandleId(t)), (33), (AS7I))
    call TriggerAddCondition(t, Condition(function ASBI))
    call TriggerRegisterTimerEvent(t, Hk, false)
    set t = null
endfunction
function GU8 takes unit u returns boolean
    return GetUnitAbilityLevel(u, 'A0S6') > 0 or GetUnitAbilityLevel(u, 'A179') > 0 or GetUnitAbilityLevel(u, 'ACmi') > 0 or GetUnitAbilityLevel(u, 'A0SU') > 0 or GetUnitAbilityLevel(u, 'B014') > 0 or GetUnitAbilityLevel(u, 'A0H3') > 0 or((LoadInteger(R8, (GetHandleId(((u)))), ((4252)))) == 1)
endfunction
function B6 takes trigger kW, playerunitevent kx returns nothing
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerUnitEvent(kW, G8[i], kx, null)
        set i = i + 1
    endloop
endfunction
function c6 takes trigger kW, playerunitevent kx returns nothing
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerUnitEvent(kW, N8[i], kx, null)
        set i = i + 1
    endloop
endfunction
function ky takes trigger kW, playerunitevent kx returns nothing
    call B6(kW, kx)
    call c6(kW, kx)
endfunction
function KF8 takes nothing returns boolean
    return true
endfunction
function l6 takes multiboard L6, integer c, integer r, string M6 returns nothing
    local multiboarditem p6 = MultiboardGetItem(L6, r - 1, c - 1)
    call MultiboardSetItemValue(p6, M6)
    call MultiboardReleaseItem(p6)
    set p6 = null
endfunction
function P6 takes multiboard L6, integer c, integer r, string q6 returns nothing
    local multiboarditem p6 = MultiboardGetItem(L6, r - 1, c - 1)
    call MultiboardSetItemIcon(p6, q6)
    call MultiboardReleaseItem(p6)
    set p6 = null
endfunction
function s6 takes multiboard L6, integer c, integer r, boolean t6, boolean T6 returns nothing
    local multiboarditem p6 = MultiboardGetItem(L6, r - 1, c - 1)
    call MultiboardSetItemStyle(p6, t6, T6)
    call MultiboardReleaseItem(p6)
    set p6 = null
endfunction
function U6 takes multiboard L6, integer c, integer r, real w6, real Y6, real Z6, real e7 returns nothing
    local multiboarditem p6 = MultiboardGetItem(L6, r - 1, c - 1)
    call MultiboardSetItemValueColor(p6, PercentTo255(w6), PercentTo255(Y6), PercentTo255(Z6), PercentTo255(100. - e7))
    call MultiboardReleaseItem(p6)
    set p6 = null
endfunction
function x7 takes multiboard L6, integer c, integer r, real r7 returns nothing
    local multiboarditem p6 = MultiboardGetItem(L6, r - 1, c - 1)
    call MultiboardSetItemWidth(p6, r7 / 100)
    call MultiboardReleaseItem(p6)
    set p6 = null
endfunction
function KG8 takes integer i returns nothing
    set fl[i] = null
endfunction
function KH8 takes integer i returns unit
    return fl[i]
endfunction
function KJ8 takes unit u returns integer
    set Hl = Hl + 1
    set fl[Hl] = u
    return Hl
endfunction
function KN8 takes player hd returns boolean
    //! textmacro KN8Mac takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            if hd == G8[$PLAYER_RANK$] then
                return true
            endif
        endif
    //! endtextmacro
    //! runtextmacro KN8Mac("0")
    //! runtextmacro KN8Mac("1")
    //! runtextmacro KN8Mac("2")
    //! runtextmacro KN8Mac("3")
    //! runtextmacro KN8Mac("4")
    //! runtextmacro KN8Mac("5")
    //! runtextmacro KN8Mac("6")
    //! runtextmacro KN8Mac("7")
    //! runtextmacro KN8Mac("8")
    //! runtextmacro KN8Mac("9")
    //! runtextmacro KN8Mac("10")
    //! runtextmacro KN8Mac("11")
    return false
endfunction
function KO8 takes player hd returns boolean
    //! textmacro KO8Mac takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            if hd == N8[$PLAYER_RANK$] then
                return true
            endif
        endif
    //! endtextmacro
    //! runtextmacro KO8Mac("0")
    //! runtextmacro KO8Mac("1")
    //! runtextmacro KO8Mac("2")
    //! runtextmacro KO8Mac("3")
    //! runtextmacro KO8Mac("4")
    //! runtextmacro KO8Mac("5")
    //! runtextmacro KO8Mac("6")
    //! runtextmacro KO8Mac("7")
    //! runtextmacro KO8Mac("8")
    //! runtextmacro KO8Mac("9")
    //! runtextmacro KO8Mac("10")
    //! runtextmacro KO8Mac("11")
    return false
endfunction
function KP8 takes player p returns boolean
    //! textmacro KP8Mac takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            if p == N8[$PLAYER_RANK$] then
                return true
            endif
            if p == G8[$PLAYER_RANK$] then
                return true
            endif
        endif
    //! endtextmacro
    //! runtextmacro KP8Mac("1")
    //! runtextmacro KP8Mac("2")
    //! runtextmacro KP8Mac("3")
    //! runtextmacro KP8Mac("4")
    //! runtextmacro KP8Mac("5")
    //! runtextmacro KP8Mac("6")
    //! runtextmacro KP8Mac("7")
    //! runtextmacro KP8Mac("8")
    //! runtextmacro KP8Mac("9")
    //! runtextmacro KP8Mac("10")
    //! runtextmacro KP8Mac("11")
    return false
endfunction
function KQ8 takes player j8 returns boolean
    return((GetPlayerSlotState(j8) == PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8) == MAP_CONTROL_USER))
endfunction
function IsComputer takes player j8 returns boolean
    return((GetPlayerSlotState(j8) == PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8) == MAP_CONTROL_COMPUTER))
endfunction
function KS8 takes player j8 returns boolean
    return((GetPlayerSlotState(j8) == PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8) == MAP_CONTROL_USER)or(GetPlayerController(j8) == MAP_CONTROL_COMPUTER)))
endfunction
function KT8 takes player j8 returns boolean
    return((GetPlayerSlotState(j8) == PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8) == MAP_CONTROL_USER)))
endfunction
function KU8 takes integer WS7, unit KV8 returns integer
    local integer x = 1
    local integer YC7 = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        if KS8(G8[x])then
            if(GetUnitTypeId(Y7[x]) == WS7 and IsUnitEnemy(Y7[x], GetOwningPlayer(KV8)))then
                return GetPlayerId(G8[x])
            endif
        endif
        if KS8(N8[x])then
            if(GetUnitTypeId(Y7[6 + x]) == WS7 and IsUnitEnemy(Y7[6 + x], GetOwningPlayer(KV8)))then
                return GetPlayerId(N8[x])
            endif
        endif
        set x = x + 1
    endloop
    return YC7
endfunction
function M8 takes player j8 returns boolean
    if(GetPlayerSlotState(j8) == PLAYER_SLOT_STATE_PLAYING or GetPlayerSlotState(j8) == PLAYER_SLOT_STATE_LEFT)then
        if(GetPlayerController(j8) == MAP_CONTROL_USER or GetPlayerController(j8) == MAP_CONTROL_COMPUTER)then
            return true
        endif
    endif
    return false
endfunction
function p8 takes nothing returns nothing
    if(KS8(GetEnumPlayer()))then
        set bj_forceCountPlayers = bj_forceCountPlayers + 1
    endif
endfunction
function MI8 takes force f returns integer
    set bj_forceCountPlayers = 0
    call ForForce(f, function p8)
    return bj_forceCountPlayers
endfunction
function hh takes nothing returns nothing
    if GetPlayerSlotState(GetEnumPlayer()) == PLAYER_SLOT_STATE_PLAYING then
        if GetEnumPlayer() != Player(PLAYER_NEUTRAL_AGGRESSIVE + 1)and GetEnumPlayer() != Player(PLAYER_NEUTRAL_AGGRESSIVE + 2)then
            set bj_forceCountPlayers = bj_forceCountPlayers + 1
        endif
    endif
endfunction
function q8 takes force f returns integer
    set bj_forceCountPlayers = 0
    call ForForce(f, function hh)
    return bj_forceCountPlayers
endfunction
function hi takes integer hI, player j8 returns nothing
    if GV4 then
        call SetPlayerTechMaxAllowed(j8, hI, 0)
        set O[GetUnitPointValueByType(hI)] = true
    endif
endfunction
function MJ8 takes integer hI returns nothing
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call hi(hI, G8[i])
        call hi(hI, N8[i])
        set i = i + 1
    endloop
endfunction
function S8 takes integer V07 returns nothing
    local integer i
    if GV4 then
        set i = 1
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            call SetPlayerTechMaxAllowed(G8[i], V07, 0)
            call SetPlayerTechMaxAllowed(N8[i], V07, 0)
            set i = i + 1
        endloop
    endif
endfunction
function MK8 takes integer V07 returns nothing
    local integer i
    if GV4 then
        set i = 1
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            if Y7[GetPlayerId(G8[i])] == null then
                call SetPlayerTechMaxAllowed(G8[i], V07, 1)
            endif
            if Y7[GetPlayerId(N8[i])] == null then
                call SetPlayerTechMaxAllowed(N8[i], V07, 1)
            endif
            set i = i + 1
        endloop
    endif
endfunction
function MM8 takes player j8 returns nothing
    local integer T8 = KC4
    local integer U8 = K34
    if GV4 then
        loop
            exitwhen T8 > U8
            call SetPlayerTechMaxAllowed(j8, KA4[T8], 0)
            set T8 = T8 + 1
        endloop
        set T8 = K64
        set U8 = KL4
        loop
            exitwhen T8 > U8
            call SetPlayerTechMaxAllowed(j8, KA4[T8], 0)
            set T8 = T8 + 1
        endloop
    endif
endfunction
function MN8 takes nothing returns nothing
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call MM8(G8[i])
        call MM8(N8[i])
        set i = i + 1
    endloop
endfunction
function MO8 takes player p returns nothing
    local integer i
    if GV4 then
        set i = KC4
        loop
            exitwhen i > KL4
            if O[i] == false then
                call SetPlayerTechMaxAllowed(p, KA4[i], 1)
            endif
            set i = i + 1
        endloop
        if KN8(p)then
            set i = KC4
            loop
                exitwhen i > K34
                call SetPlayerTechMaxAllowed(p, KA4[i], 0)
                set i = i + 1
            endloop
        else
            set i = K64
            loop
                exitwhen i > KL4
                call SetPlayerTechMaxAllowed(p, KA4[i], 0)
                set i = i + 1
            endloop
        endif
    endif
endfunction
function MP8 takes player p returns nothing
    local integer i
    if GV4 then
        set i = KC4
        loop
            exitwhen i > KL4
            if O[i] == false then
                call SetPlayerTechMaxAllowed(p, KA4[i], 1)
            endif
            set i = i + 1
        endloop
        if KN8(p)then
            set i = K64
            loop
                exitwhen i > KL4
                call SetPlayerTechMaxAllowed(p, KA4[i], 0)
                set i = i + 1
            endloop
        else
            set i = KC4
            loop
                exitwhen i > K34
                call SetPlayerTechMaxAllowed(p, KA4[i], 0)
                set i = i + 1
            endloop
        endif
    endif
endfunction
function MQ8 takes nothing returns nothing
    local integer i
    local integer j
    if GV4 then
        set i = K64
        loop
            exitwhen i > KL4
            set j = 1
            loop
                exitwhen j > MAX_TEAM_PLAYERS
                call SetPlayerTechMaxAllowed(G8[j], KA4[i], 0)
                set j = j + 1
            endloop
            set i = i + 1
        endloop
        set i = KC4
        loop
            exitwhen i > K34
            set j = 1
            loop
                exitwhen j > MAX_TEAM_PLAYERS
                call SetPlayerTechMaxAllowed(N8[j], KA4[i], 0)
                set j = j + 1
            endloop
            set i = i + 1
        endloop
    endif
endfunction
function MR8 takes nothing returns nothing
    local integer T8
    local integer U8
    local integer MS8 = 0
    set Ge = KC4
    set T8 = KC4
    set U8 = K34
    loop
        exitwhen T8 > U8
        set MS8 = MS8 + 1
        set je[MS8] = T8
        set T8 = T8 + 1
    endloop
    set T8 = K64
    set U8 = KL4
    loop
        exitwhen T8 > U8
        set MS8 = MS8 + 1
        set je[MS8] = T8
        set T8 = T8 + 1
    endloop
    set he = MS8
endfunction
function MT8 takes nothing returns integer
    return je[GetRandomInt(Ge, he)]
endfunction
function MU8 takes nothing returns integer
    local integer MV8 = GetRandomInt(Ge, he)
    local integer hs = je[MV8]
    set hs = je[MV8]
    if(Ge == he)then
        set je[MV8] = 0
        return hs
    endif
    if(MV8 == he)then
        set he = he - 1
        return hs
    endif
    set je[MV8] = je[he]
    set he = he - 1
    return hs
endfunction
function MW8 takes string hT returns integer
    if hT == "a"then
        return 10
    elseif hT == "b"then
        return 11
    elseif hT == "c"then
        return 12
    elseif hT == "d"then
        return 13
    elseif hT == "e"then
        return 14
    elseif hT == "f"then
        return 15
    else
        return S2I(hT)
    endif
endfunction
function MX8 takes string hU returns integer
    return MW8(SubString(hU, 0, 1)) * 16 + MW8(SubString(hU, 1, 2))
endfunction
function MY8 takes integer hX returns boolean
    local integer i = 1
    loop
        exitwhen i > S9
        if hX == P9[i]then
            return false
        endif
        set i = i + 1
    endloop
    return true
endfunction
function MZ8 takes unit MA8 returns integer
    local integer MB8 = GetUnitTypeId(MA8)
    if MB8 == 'e00R' or MB8 == 'u00M' then
        return 1
    elseif MB8 == 'e011' or MB8 == 'u00D' then
        return 2
    elseif MB8 == 'e00S' or MB8 == 'u00N' then
        return 3
    elseif MB8 == 'e019' or MB8 == 'u00T' then
        return 4
    endif
    return 0
endfunction
function QO9 takes player QP9, integer QQ9, unit PQ9, boolean permenant, boolean showEffect returns nothing
    local texttag t = CreateTextTag()
    local string s
    local integer playerId = GetPlayerId(QP9)
    if permenant then
        if AAJS[playerId] > (TimerGetElapsed(E4))then
            set QQ9 = QQ9 * 3 / 5
        endif
        set WQ4[playerId] = WQ4[playerId] + QQ9
        set AEK0[playerId] = AEK0[playerId] + QQ9
    endif
    call SetPlayerState(QP9, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(QP9, PLAYER_STATE_RESOURCE_GOLD) + QQ9)
    call SetTextTagText(t, "+" + I2S(QQ9), .025)
    call SetTextTagPosUnit(t, PQ9, 0)
    call SetTextTagColor(t, 255, 220, 0, 255)
    call SetTextTagVelocity(t, 0, .03)
    if GetLocalPlayer() == QP9 then
        call SetTextTagVisibility(t, true)
        set s = "UI\\Feedback\\GoldCredit\\GoldCredit.mdl"
    else
        call SetTextTagVisibility(t, false)
        set s = ""
    endif
    if showEffect and GetUnitState(PQ9, UNIT_STATE_LIFE) > .5 then
        call DestroyEffect(AddSpecialEffectTarget(s, PQ9, "overhead"))
    endif
    call SetTextTagFadepoint(t, 2)
    call SetTextTagLifespan(t, 3)
    call SetTextTagPermanent(t, false)
    set t = null
endfunction
function MC8 takes player VR7, integer M38 returns nothing
    if M38 > 0 then
        call QO9(VR7, M38, Y7[GetPlayerId(VR7)], true, false)
    endif
endfunction
function M68 takes unit Y47, integer ML8 returns nothing
    local integer M18
    local player p = GetOwningPlayer(Y47)
    if ML8 == 1 then
        set M18 = 160
    elseif ML8 == 2 then
        set M18 = 200
    elseif ML8 == 3 then
        set M18 = 240
    elseif ML8 == 4 then
        set M18 = 280
    endif
    if IsUnitAlly(GetDyingUnit(), p)then
        if ML8 == 1 then
            set M18 = 80
        elseif ML8 == 2 then
            set M18 = 100
        elseif ML8 == 3 then
            set M18 = 120
        elseif ML8 == 4 then
            set M18 = 140
        endif
    endif
    //! textmacro M68Mac1 takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call MC8(G8[$PLAYER_RANK$], M18)
        endif
    //! endtextmacro
    //! textmacro M68Mac2 takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call MC8(N8[$PLAYER_RANK$], M18)
        endif
    //! endtextmacro
    if GetOwningPlayer(GetDyingUnit()) == N8[0]then
        //! runtextmacro M68Mac1("1")
        //! runtextmacro M68Mac1("2")
        //! runtextmacro M68Mac1("3")
        //! runtextmacro M68Mac1("4")
        //! runtextmacro M68Mac1("5")
        //! runtextmacro M68Mac1("6")
        //! runtextmacro M68Mac1("7")
        //! runtextmacro M68Mac1("8")
        //! runtextmacro M68Mac1("9")
        //! runtextmacro M68Mac1("10")
        //! runtextmacro M68Mac1("11")
    else
        //! runtextmacro M68Mac2("1")
        //! runtextmacro M68Mac2("2")
        //! runtextmacro M68Mac2("3")
        //! runtextmacro M68Mac2("4")
        //! runtextmacro M68Mac2("5")
        //! runtextmacro M68Mac2("6")
        //! runtextmacro M68Mac2("7")
        //! runtextmacro M68Mac2("8")
        //! runtextmacro M68Mac2("9")
        //! runtextmacro M68Mac2("10")
        //! runtextmacro M68Mac2("11")
    endif
endfunction
function AR6I takes unit Y47, integer ML8 returns nothing
    local integer M18
    local player p = GetOwningPlayer(Y47)
    if ML8 == 1 then
        set M18 = 225
    elseif ML8 == 2 then
        set M18 = 275
    endif
    //! textmacro AR6IMac1 takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call MC8(G8[$PLAYER_RANK$], M18)
        endif
    //! endtextmacro
    //! textmacro AR6IMac2 takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call MC8(N8[$PLAYER_RANK$], M18)
        endif
    //! endtextmacro
    if GetOwningPlayer(GetDyingUnit()) == N8[0]then
        //! runtextmacro AR6IMac1("1")
        //! runtextmacro AR6IMac1("2")
        //! runtextmacro AR6IMac1("3")
        //! runtextmacro AR6IMac1("4")
        //! runtextmacro AR6IMac1("5")
        //! runtextmacro AR6IMac1("6")
        //! runtextmacro AR6IMac1("7")
        //! runtextmacro AR6IMac1("8")
        //! runtextmacro AR6IMac1("9")
        //! runtextmacro AR6IMac1("10")
        //! runtextmacro AR6IMac1("11")
    else
        //! runtextmacro AR6IMac2("1")
        //! runtextmacro AR6IMac2("2")
        //! runtextmacro AR6IMac2("3")
        //! runtextmacro AR6IMac2("4")
        //! runtextmacro AR6IMac2("5")
        //! runtextmacro AR6IMac2("6")
        //! runtextmacro AR6IMac2("7")
        //! runtextmacro AR6IMac2("8")
        //! runtextmacro AR6IMac2("9")
        //! runtextmacro AR6IMac2("10")
        //! runtextmacro AR6IMac2("11")
    endif
    set p = null
endfunction
function M08 takes integer M58 returns boolean
    local integer i = 1
    loop
        exitwhen i > M44
        if K_4[i] == M58 then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction
function M28 takes integer M58 returns boolean
    local integer i = 1
    loop
        exitwhen i > K04
        if K14[i] == M58 then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction
function M_8 takes integer M58 returns boolean
    local integer i = 1
    loop
        exitwhen i > K24
        if K54[i] == M58 then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction
function N48 takes player j8 returns nothing
    local integer N78
    local integer N88
    local location N98
    local integer MV8
    set D7[GetPlayerId(j8)] = true
    if KN8(j8) then
        set N78 = KC4
        set N88 = K34
        set N98 = GetRectCenter(QD)
    else
        set N78 = K64
        set N88 = KL4
        set N98 = GetRectCenter(PD)
    endif
    if X4 then
        if(GetRandomInt(1, 2) == 1)then
            set N78 = KC4
            set N88 = K34
        else
            set N78 = K64
            set N88 = KL4
        endif
    endif
    loop
        set MV8 = GetRandomInt(N78, N88)
        exitwhen O[MV8] == false and M08(KA4[MV8])and KA4[MV8] != 'H00K'
    endloop
    if E9 == false then
        call S8(KA4[MV8])
        set O[MV8] = true
    endif
    call CreateUnitAtLoc(j8, KA4[MV8], N98, 0)
    call RemoveLocation(N98)
    set N98 = null
endfunction
function ND8 takes player j8 returns nothing
    local integer N78
    local integer N88
    local location N98
    local integer MV8
    set D7[GetPlayerId(j8)] = true
    if KN8(j8) then
        set N78 = KC4
        set N88 = K34
        set N98 = GetRectCenter(QD)
    else
        set N78 = K64
        set N88 = KL4
        set N98 = GetRectCenter(PD)
    endif
    if X4 then
        if(GetRandomInt(1, 2) == 1)then
            set N78 = KC4
            set N88 = K34
        else
            set N78 = K64
            set N88 = KL4
        endif
    endif
    loop
        set MV8 = GetRandomInt(N78, N88)
        exitwhen O[MV8] == false and M_8(KA4[MV8])
    endloop
    if E9 == false then
        call S8(KA4[MV8])
        set O[MV8] = true
    endif
    call CreateUnitAtLoc(j8, KA4[MV8], N98, 0)
    call RemoveLocation(N98)
    set N98 = null
endfunction
function NE8 takes player j8 returns nothing
    local integer N78
    local integer N88
    local location N98
    local integer MV8
    set D7[GetPlayerId(j8)] = true
    if KN8(j8) then
        set N78 = KC4
        set N88 = K34
        set N98 = GetRectCenter(QD)
    else
        set N78 = K64
        set N88 = KL4
        set N98 = GetRectCenter(PD)
    endif
    if X4 then
        if(GetRandomInt(1, 2) == 1)then
            set N78 = KC4
            set N88 = K34
        else
            set N78 = K64
            set N88 = KL4
        endif
    endif
    loop
        set MV8 = GetRandomInt(N78, N88)
        exitwhen O[MV8] == false and M28(KA4[MV8])
    endloop
    if E9 == false then
        call S8(KA4[MV8])
        set O[MV8] = true
    endif
    call CreateUnitAtLoc(j8, KA4[MV8], N98, 0)
    call RemoveLocation(N98)
    set N98 = null
endfunction
function NF8 takes player j8 returns nothing
    local integer N78
    local integer N88
    local location N98
    local integer MV8
    set D7[GetPlayerId(j8)] = true
    if KN8(j8) then
        set N78 = KC4
        set N88 = K34
        set N98 = GetRectCenter(QD)
    else
        set N78 = K64
        set N88 = KL4
        set N98 = GetRectCenter(PD)
    endif
    if X4 then
        if(GetRandomInt(1, 2) == 1)then
            set N78 = KC4
            set N88 = K34
        else
            set N78 = K64
            set N88 = KL4
        endif
    endif
    loop
        set MV8 = GetRandomInt(N78, N88)
        exitwhen O[MV8] == false
    endloop
    if E9 == false then
        call S8(KA4[MV8])
        set O[MV8] = true
    endif
    call CreateUnitAtLoc(j8, KA4[MV8], N98, 0)
    call RemoveLocation(N98)
    set N98 = null
endfunction
function ARHI takes boolean ARZI, boolean ARVI returns integer
    local integer N78
    local integer N88
    if ARZI and ARVI then
        if(GetRandomInt(1, 2) == 1)then
            set N78 = KC4
            set N88 = K34
        else
            set N78 = K64
            set N88 = KL4
        endif
    elseif ARZI then
        set N78 = KC4
        set N88 = K34
    else
        set N78 = K64
        set N88 = KL4
    endif
    return GetRandomInt(N78, N88)
endfunction
function NG8 takes destructable d returns boolean
    return GetDestructableTypeId(d) == 'NTtc'or GetDestructableTypeId(d) == 'NTtw'or GetDestructableTypeId(d) == 'ATtr'or GetDestructableTypeId(d) == 'BTtc' or GetDestructableTypeId(d) == 'B002' or GetDestructableTypeId(d) == 'B003' or GetDestructableTypeId(d) == 'B005'
endfunction
function NH8 takes unit u returns boolean
    return GetUnitAbilityLevel(u, 'Bcyc') > 0 or GetUnitAbilityLevel(u, 'Bcy2') > 0
endfunction
function NI8 takes integer id returns boolean
    return id == 'u014' or id == 'u015' or id == 'u016' or id == 'u01D' or id == 'u01E' or id == 'u01F'
endfunction
function NJ8 takes unit u returns boolean
    return GetUnitAbilityLevel(u, 'BOhx') > 0 or GetUnitAbilityLevel(u, 'B00H') > 0
endfunction
function NK8 takes integer MB8 returns boolean
    return(MB8 == 'npn3' or MB8 == 'npn6' or MB8 == 'n010' or MB8 == 'n0GZ')or(MB8 == 'npn2' or MB8 == 'npn5' or MB8 == 'n012' or MB8 == 'n0H1')or(MB8 == 'npn1' or MB8 == 'npn4' or MB8 == 'n011' or MB8 == 'n0H0')
endfunction
function NM8 takes player p returns string
    return KW4[GetPlayerId(p)]
endfunction
function NN8 takes force ir, real Hk, string iR returns nothing
    if(IsPlayerInForce(GetLocalPlayer(), ir))then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, V9, Hk, iR)
    endif
endfunction
function l7 takes integer i returns nothing
    if i != Dy then
        set Dx[i] = Dx[Dy]
        set DX[i] = DX[Dy]
    endif
    set Dx[Dy] = null
    set DX[Dy] = 0
    set Dy = Dy - 1
endfunction
function l8 takes nothing returns boolean
    local real NO8 = (TimerGetElapsed(E4))
    local integer i
    set i = 1
    loop
        exitwhen i > Dy
        if DX[i] < NO8 then
            if Dx[i] == null or IsTriggerEnabled(Dx[i])then
                call ErrTrigger()
            else
                call DestroyTrigger(Dx[i])
            endif
            call l7(i)
        else
            set i = i + 1
        endif
    endloop
    return false
endfunction
function NB8 takes integer id returns boolean
    return id == EZ or id == CY or id == BY or id == DZ or id == AY or id == AHJ0 or id == AASP
endfunction
function NC8 takes unit u returns string
    if u == null then
        return(GetObjectName('n09T'))
    endif
    return(GetObjectName(KB4[GetUnitPointValue(u)]))
endfunction
function N68 takes integer i returns string
    if i == 0 then
        return(GetObjectName(('n09T')))
    endif
    return(GetObjectName((KB4[i])))
endfunction
function NL8 takes unit S4 returns integer
    local integer z8
    local integer i = 0
    if S4 == null then
        return - 2
    endif
    set z8 = GetUnitTypeId(S4)
    loop
        exitwhen i > JV
        if CU[i] == z8 then
            return i
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function N18 takes unit u returns string
    if u == null then
        return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
    endif
    return ME4[GetUnitPointValue(u)]
endfunction
function N08 takes player p returns boolean
    return L8 and(KU4 == p or KV4 == p)
endfunction
function N58 takes unit N28 returns integer
    local integer x
    local integer id = GetUnitTypeId(N28)
    set x = 1
    loop
        exitwhen x > K04
        if id == K14[x]then
            return OF7
        endif
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > K24
        if id == K54[x]then
            return OG7
        endif
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > M44
        if id == K_4[x]then
            return OH7
        endif
        set x = x + 1
    endloop
    if id == 'Eevm' or id == 'E02V' or id == 'E02W' or id == 'E02U' or id == 'N02B' or id == 'N017' or id == 'H08D' or id == 'H08C' or id == 'H084' or id == 'H08B' or id == 'N013' or id == 'N014' or id == 'N015' or id == 'E02O' or id == 'N0MM' or id == 'Hvil' then
        return OF7
    endif
    if id == 'N01H' or id == 'N01T' or id == 'N01J' or id == 'H00E' or id == 'H00G' or id == 'H00F' or id == 'H07I' or id == 'E015' or id == 'H0CQ' or id == 'H0E3' or id == 'H0E4' or id == 'H0E5' or id == 'U01X' or id == 'N0MW' then
        return OG7
    endif
    if id == 'H06X' or id == 'H06Y' or id == 'H06W' or id == 'H0BC' or id == 'O017' or id == 'N0MB' or id == 'N0MC' or id == 'N0MO' or id == 'N0MA' then
        return OH7
    endif
    return 0
endfunction
function N_8 takes unit N28 returns integer
    local integer Hm = N58(N28)
    if Hm == 1 then
        return GetHeroInt(N28, true)
    endif
    if Hm == 2 then
        return GetHeroAgi(N28, true)
    endif
    if Hm == 3 then
        return GetHeroStr(N28, true)
    endif
    return 0
endfunction
function O48 takes unit u returns boolean
    return GetUnitState(u, UNIT_STATE_LIFE) < 1 or HA4[GetPlayerId(GetOwningPlayer(u))]
endfunction
function O78 takes integer z8, integer r, integer g, integer b returns nothing
    set CL = CL + 1
    set NL[CL] = r
    set bL[CL] = g
    set BL[CL] = b
    set cL[CL] = z8
endfunction
function AFV1 takes unit u returns nothing
    local integer id = GetUnitTypeId(u)
    local integer i = 1
    local integer a = 255
    local boolean LKG = false
    if id == 'Ewar' then
        set a = R2I(2.55 * (100 - 18 + 20 * GetUnitAbilityLevel(u, 'A03P')))
    endif
    loop
        exitwhen i > CL or LKG
        if cL[i] == id then
            set LKG = true
            call SetUnitVertexColor(u, NL[i], bL[i], BL[i], a)
        endif
        set i = i + 1
    endloop
    if LKG == false then
        call SetUnitVertexColor(u, 255, 255, 255, 255)
    endif
endfunction
function AFY1 takes unit u returns nothing
    local integer id = GetUnitTypeId(u)
    local integer i = 1
    local boolean LKG = false
    loop
        exitwhen i > CL or LKG
        if cL[i] == id then
            set LKG = true
            call SetUnitVertexColor(u, NL[i], bL[i], BL[i], 0)
        endif
        set i = i + 1
    endloop
    if LKG == false then
        call SetUnitVertexColor(u, 255, 255, 255, 0)
    endif
endfunction
function O88 takes nothing returns nothing
    call PauseUnit(GetEnumUnit(), true)
endfunction
function O98 takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, V9, mb, Lb)
endfunction
function OD8 takes force ir, real Hk, string iR returns nothing
    set Lb = iR
    set mb = Hk
    call ForForce(ir, function O98)
endfunction
function OE8 takes unit u returns boolean
    return GetUnitAbilityLevel(u, 'B0BI') > 0 or GetUnitAbilityLevel(u, 'BNss') > 0 or GetUnitAbilityLevel(u, 'B0EV') > 0
endfunction
function OF8 takes group g returns nothing
    local integer i = GetHandleId(g) - UX4
    if i < 0 or i > 150 then
        set UZ4 = true
        call DestroyGroup(g)
    else
        call GroupClear(g)
        set UV4[i] = false
        set UY4 = i
    endif
endfunction
function OG8 takes nothing returns group
    local integer i = UY4
    loop
        exitwhen i == UY4 - 1
        if UV4[i] == false then
            set UY4 = i + 1
            if UY4 == 150 then
                set UY4 = 0
            endif
            set UV4[i] = true
            return UW4[i]
        endif
        set i = i + 1
        if i == 150 then
            set i = 0
        endif
    endloop
    call OD8(T9, 5., "|c00ff0303CRITICAL ERROR: FOUND NO AVAILABLE GROUPS|r")
    call OD8(T9, 5., "|c00ff0303Send this replay to IceFrog@gmail.com|r")
    return CreateGroup()
endfunction
function OZ8 takes nothing returns boolean
    local integer OA8 = 0
    local integer i = 0
    loop
        exitwhen i == 150
        if UV4[i] then
            set OA8 = OA8 + 1
        endif
        set i = i + 1
    endloop
    if OA8 > 100 or UZ4 then
        call OD8(T9, 5., "|c00ff0303Please send me this replay (" + I2S(OA8) + ")")
    endif
    return false
endfunction
function OB8 takes nothing returns nothing
    local integer i = 0
    set UY4 = 0
    set UW4[i] = CreateGroup()
    set UV4[i] = false
    set i = i + 1
    set UX4 = GetHandleId(UW4[0])
    loop
        exitwhen i == 150
        set UW4[i] = CreateGroup()
        set UV4[i] = false
        set i = i + 1
    endloop
endfunction
function OC8 takes nothing returns boolean
    local group g = OG8()
    call GroupEnumUnitsInRange(g, 0, 0, 16000, Condition(function KF8))
    call ForGroup(g, function O88)
    call OF8(g)
    set g = null
    return false
endfunction
function O38 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function OC8))
    call TriggerEvaluate(t)
    set t = null
endfunction
function O68 takes unit AM7, integer OL8 returns nothing
    call UnitAddAbility(AM7, OL8)
    call UnitMakeAbilityPermanent(AM7, true, OL8)
endfunction
function O18 takes unit u returns boolean
    return GetUnitTypeId(u) < 1 or IsUnitType(u, UNIT_TYPE_DEAD)
endfunction
function O08 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call FlushChildHashtable(R8, GetHandleId(LoadUnitHandle(R8, (EC8), (26))))
    call ShowUnit(LoadUnitHandle(R8, (EC8), (26)), false)
    call RemoveUnit(LoadUnitHandle(R8, (EC8), (26)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function O58 takes unit u, real d returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, d, false)
    call TriggerAddCondition(t, Condition(function O08))
    call SaveUnitHandle(R8, (EC8), (26), (u))
    set t = null
endfunction
function O28 takes integer O_8 returns nothing
    local unit u = CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), O_8, 0, 0, 0)
    call RemoveUnit(u)
    set u = null
endfunction
function P48 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit u = (LoadUnitHandle(R8, (EC8), (53)))
    local real P78 = (LoadReal(R8, (EC8), (57)))
    local integer P88 = (LoadInteger(R8, (EC8), (58)))
    if GetTriggerEvalCount(t) / 10 > R2I(P78)then
        call SetUnitVertexColor(u, 255, 100, 255, 255)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif O18(u) == false then
        call SetUnitVertexColor(u, 255, 100, 255, P88)
    endif
    set t = null
    set u = null
    return false
endfunction
function P98 takes unit u, real P78, integer P88 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function P48))
    call SaveUnitHandle(R8, (EC8), (53), (u))
    call SaveReal(R8, (EC8), (57), (P78))
    call SaveInteger(R8, (EC8), (58), (P88))
    set t = null
endfunction
function PD8 takes integer z8, real PE8, integer PF8 returns nothing
    set Ml = Ml + 1
    set Jl[Ml] = PE8
    set ll[Ml] = z8
    set Ll[Ml] = PF8
endfunction
function PG8 takes unit u returns real
    local integer z8 = GetUnitTypeId(u)
    local integer i = 1
    loop
        exitwhen i > Ml
        if ll[i] == z8 then
            return Jl[i]
        endif
        set i = i + 1
    endloop
    return 1.
endfunction
function PH8 takes integer z8, string PI8 returns nothing
    set Ql = Ql + 1
    set Pl[Ql] = PI8
    set ql[Ql] = z8
endfunction
function PJ8 takes unit u returns string
    local integer z8 = GetUnitTypeId(u)
    local integer i = 1
    loop
        exitwhen i > Ql
        if ql[i] == z8 then
            return Pl[i]
        endif
        set i = i + 1
    endloop
    return"stand"
endfunction
function PK8 takes unit u returns nothing
    if GetUnitTypeId(u) == 'N01I' then
        call SetUnitAnimationByIndex(u, 6)
    else
        call SetUnitAnimation(u, PJ8(u))
    endif
endfunction
function DCH takes integer ML8 returns integer
    if ML8 == 1 then
        return 25
    elseif ML8 == 2 then
        return 41
    elseif ML8 == 3 then
        return 62
    elseif ML8 == 4 then
        return 88
    elseif ML8 == 5 then
        return 119
    elseif ML8 == 6 then
        return 155
    elseif ML8 <= 25 then
        return MathRound(2.5 * ML8 * ML8 + 8.5 * ML8 + 14)
    endif
    return MathRound(2.5 * 25 * 25 + 8.5 * 25 + 14)
endfunction
function PM8 takes player hV, string Ht returns nothing
    local sound HT = CreateSound(Ht, false, false, false, 10, 10, "DefaultEAXON")
    if(GetLocalPlayer() == hV)then
        call StartSound(HT)
    endif
    call KillSoundWhenDone(HT)
    set HT = null
endfunction
function PN8 takes player HU, string Hv returns nothing
    local sound HV = CreateSoundFromLabel("InterfaceError", false, false, false, 10, 10)
    if(GetLocalPlayer() == HU)then
        if(Hv != "")and(Hv != null)then
            call ClearTextMessages()
            call DisplayTimedTextToPlayer(HU, .5, - 1., 2., "|cffffcc00" + Hv + "|r")
        endif
        call StartSound(HV)
    endif
    call KillSoundWhenDone(HV)
    set HV = null
endfunction
function PO8 takes nothing returns boolean
    if(GetTimeOfDay() > 6. and GetTimeOfDay() < 18.)then
        return true
    else
        return false
    endif
endfunction
function PP8 takes string H4, boolean H5 returns nothing
    if H5 then
        call ExecuteFunc(H4)
    endif
endfunction
function PQ8 takes real x returns real
    local real H7 = GetRectMinX(bj_mapInitialPlayableArea) + 50
    if(x < H7)then
        return H7
    endif
    set H7 = GetRectMaxX(bj_mapInitialPlayableArea) - 50
    if(x > H7)then
        return H7
    endif
    return x
endfunction
function PR8 takes real x returns real
    local real HU8 = GetRectMinX(bj_mapInitialPlayableArea) + 75
    if(x < HU8)then
        return HU8
    endif
    set HU8 = GetRectMaxX(bj_mapInitialPlayableArea) - 75
    if(x > HU8)then
        return HU8
    endif
    return x
endfunction
function PS8 takes real y returns real
    local real H7 = GetRectMinY(bj_mapInitialPlayableArea) + 50
    if(y < H7)then
        return H7
    endif
    set H7 = GetRectMaxY(bj_mapInitialPlayableArea) - 50
    if(y > H7)then
        return H7
    endif
    return y
endfunction
function PT8 takes real y returns real
    local real HU8 = GetRectMinY(bj_mapInitialPlayableArea) + 75
    if(y < HU8)then
        return HU8
    endif
    set HU8 = GetRectMaxY(bj_mapInitialPlayableArea) - 75
    if(y > HU8)then
        return HU8
    endif
    return y
endfunction
function PU8 takes integer PV8 returns nothing
    local unit u = CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'H00Y', 0, 0, 270)
    call UnitAddAbility(u, PV8)
    call UnitRemoveAbility(u, PV8)
    call RemoveUnit(u)
    set u = null
endfunction
function PX8 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer ia = (LoadInteger(R8, (EC8), (37)))
    call PU8(ia)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function PY8 takes integer ia, real PZ8 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveInteger(R8, (EC8), (37), (ia))
    call TriggerRegisterTimerEvent(t, PZ8, false)
    call TriggerAddCondition(t, Condition(function PX8))
    set t = null
endfunction
function PA8 takes unit N28 returns nothing
    call FlushChildHashtable(R8, GetHandleId(N28))
    call RemoveUnit(N28)
endfunction
function PB8 takes unit hn, integer iB, integer ic returns nothing
    if GetUnitAbilityLevel(hn, iB) == 0 then
        call UnitAddAbility(hn, iB)
    endif
    call SetUnitAbilityLevel(hn, iB, ic)
endfunction
function P68 takes integer ih, integer a, integer b returns integer
    return IMaxBJ(IMinBJ(ih, b), a)
endfunction
function AH11 takes unit p5, real AHO1 returns real
    loop
        if AHO1 > 25 then
            set AHO1 = AHO1 - 25
        else
            set AHO1 = AHO1 - 5
        endif
        call SetUnitMoveSpeed(p5, AHO1)
        exitwhen GetUnitMoveSpeed(p5) < 522
    endloop
    return AHO1
endfunction
function AH21 takes unit p5 returns real
    local real AHO1
    local integer AE01 = (LoadInteger(R8, (GetHandleId(p5)), (814)))
    local integer TA8
    local real b1
    local real r1
    local real b2
    local real r2
    local real AH31
    local real AH41
    if GetUnitMoveSpeed(p5) == 522 and AE01 > 0 then
        set AHO1 = GetUnitDefaultMoveSpeed(p5)
        set TA8 = GetUnitAbilityLevel(p5, 'A0I8')
        set b1 = AH11(p5, AHO1)
        set r1 = GetUnitMoveSpeed(p5)
        set b2 = AH11(p5, b1)
        set r2 = GetUnitMoveSpeed(p5)
        set AH31 = (r1 - r2) / (b1 - b2) - 1
        set AH41 = r1 / (1 + AH31) - b1
        set AH31 = RMinBJ(AH31, 0.05 * AE01 + 1)
        call SetUnitMoveSpeed(p5, AHO1)
        return(AHO1 + AH41) * (1 + AH31)
    else
        return GetUnitMoveSpeed(p5)
    endif
endfunction
function AH51 takes unit p5 returns real
    local real Ams = GetUnitMoveSpeed(p5)
    if(LoadInteger(R8, (GetHandleId(p5)), (814))) > 0 then
        set Ams = AH21(p5)
    endif
    if((LoadInteger(R8, (GetHandleId((p5))), ((4423)))) == 1) == true then
        set Ams = 1000.
    endif
    if((LoadInteger(R8, (GetHandleId((p5))), ((4424)))) == 1) == true then
        set Ams = 650
    endif
    return Ams
endfunction
function ABM1 takes unit u returns boolean
    return((LoadInteger(R8, (GetHandleId((u))), ((4420)))) == 1)or((LoadInteger(R8, (GetHandleId((u))), ((4421)))) == 1)
endfunction
function AP4I takes unit u returns real
    if KN8(GetOwningPlayer(u))then
        return GetRectCenterX(QD)
    else
        return GetRectCenterX(PD)
    endif
endfunction
function AP5I takes unit u returns real
    if KN8(GetOwningPlayer(u))then
        return GetRectCenterY(QD)
    else
        return GetRectCenterY(PD)
    endif
endfunction
function AP1I takes integer EC8 returns boolean
    return((LoadInteger(R8, (EC8), ((4400)))) == 1)or((LoadInteger(R8, (EC8), ((4401)))) == 1)or((LoadInteger(R8, (EC8), ((4402)))) == 1)or((LoadInteger(R8, (EC8), ((4403)))) == 1)or((LoadInteger(R8, (EC8), ((4404)))) == 1)or((LoadInteger(R8, (EC8), ((4405)))) == 1)or((LoadInteger(R8, (EC8), ((4406)))) == 1)or((LoadInteger(R8, (EC8), ((4407)))) == 1)or((LoadInteger(R8, (EC8), ((4408)))) == 1)or((LoadInteger(R8, (EC8), ((4409)))) == 1)or((LoadInteger(R8, (EC8), ((4410)))) == 1)or((LoadInteger(R8, (EC8), ((4411)))) == 1)or((LoadInteger(R8, (EC8), ((4412)))) == 1)or((LoadInteger(R8, (EC8), ((4413)))) == 1)or((LoadInteger(R8, (EC8), ((4414)))) == 1)or((LoadInteger(R8, (EC8), ((4415)))) == 1)
endfunction
function AH61 takes unit p5, real AH71, real AH81, real AH91 returns nothing
    local real x = GetUnitX(p5)
    local real y = GetUnitY(p5)
    local real a = Atan2(y - AH81, x - AH71)
    local real d = Z87(x, y, AH71, AH81)
    local real Ams = GetUnitMoveSpeed(p5)
    if AP1I(GetHandleId(p5)) == false and AH91 > Ams and d > 10 * .005 then
        set x = PQ8(x + (AH91 - Ams) * .005 * Cos(a))
        set y = PS8(y + (AH91 - Ams) * .005 * Sin(a))
        call SetUnitX(p5, x)
        call SetUnitY(p5, y)
    endif
endfunction
function iI takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Y47 = (LoadUnitHandle(R8, (W57), (26)))
    call SetUnitState(Y47, UNIT_STATE_LIFE, GetUnitState(Y47, UNIT_STATE_LIFE) + (LoadReal(R8, (W57), (20))))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set Y47 = null
    set t = null
endfunction
function m6 takes unit Y47, real P08 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveReal(R8, (W57), (20), (P08))
    call SaveUnitHandle(R8, (W57), (26), (Y47))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddAction(t, function iI)
    set t = null
endfunction
function P58 takes unit Y47, real P08 returns nothing
    local real iK = GetUnitState(Y47, UNIT_STATE_MAX_LIFE)
    local real il = GetUnitState(Y47, UNIT_STATE_LIFE)
    if(GetUnitState(Y47, UNIT_STATE_LIFE) > 1)then
        if P08 > (iK - il)then
            if P08 >= il then
                call SetUnitState(Y47, UNIT_STATE_LIFE, iK)
                call m6(Y47, P08 - (iK - il))
            else
                call m6(Y47, P08)
            endif
        else
            call SetUnitState(Y47, UNIT_STATE_LIFE, GetUnitState(Y47, UNIT_STATE_LIFE) + P08)
        endif
    endif
endfunction
function QF8 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (32)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function QG8 takes string iv, unit hn, string iV, real Hk returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget(iv, hn, iV)))
    call TriggerAddCondition(t, Condition(function QF8))
    call TriggerRegisterUnitEvent(t, hn, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, Hk, false)
    set t = null
endfunction
function iw takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function QH8 takes string iv, real x, real y, real Hk returns nothing
    local effect fx = AddSpecialEffect(iv, x, y)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveEffectHandle(R8, (W57), (32), (fx))
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function iw))
    set fx = null
    set t = null
endfunction
function QI8 takes timer t returns nothing
    call PauseTimer(t)
    call FlushChildHashtable(R8, GetHandleId(t))
    call DestroyTimer(t)
endfunction
function i4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    call DestroyLightning(LoadLightningHandle(R8, GetHandleId(t), (41)))
    call FlushChildHashtable(R8, GetHandleId(t))
    call EA8(t)
    set t = null
    return false
endfunction
function QK8 takes string i6, real x1, real y1, real x2, real y2, real r, real g, real b, real a, real Hk returns nothing
    local trigger t = CreateTrigger()
    local lightning i7 = AddLightning(i6, true, x1, y1, x2, y2)
    call SetLightningColor(i7, r, g, b, a)
    call SaveLightningHandle(R8, (GetHandleId(t)), (41), (i7))
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function i4))
    set i7 = null
    set t = null
endfunction
function QM8 takes string Hx, real Hk, unit HX, real Ia, integer r, integer g, integer b, integer a returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, Hx, Ia)
    call SetTextTagPosUnit(tt, HX, 64)
    call SetTextTagColor(tt, r, g, b, a)
    call SetTextTagVelocity(tt, 0, .035)
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, Hk)
    if IsUnitVisible(HX, GetLocalPlayer())or N08(GetLocalPlayer())then
        call SetTextTagVisibility(tt, true)
    else
        call SetTextTagVisibility(tt, false)
    endif
    set tt = null
endfunction
function QN8 takes player p, string QO8, real VN7, unit W17, real QP8, integer r, integer g, integer b, integer a returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, QO8, QP8)
    call SetTextTagPosUnit(tt, W17, 64)
    call SetTextTagColor(tt, r, g, b, a)
    call SetTextTagVelocity(tt, 0, .0355)
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, VN7)
    if IsPlayerAlly(GetLocalPlayer(), p) or N08(GetLocalPlayer())then
        call SetTextTagVisibility(tt, true)
    else
        call SetTextTagVisibility(tt, false)
    endif
    set tt = null
endfunction
function AUSI takes trigger t, playerunitevent Ib returns nothing
    local integer i = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerUnitEvent(t, G8[i], Ib, Condition(function KF8))
        call TriggerRegisterPlayerUnitEvent(t, N8[i], Ib, Condition(function KF8))
        set i = i + 1
    endloop
endfunction
function QQ8 takes trigger t, playerunitevent Ib returns nothing
    local integer i = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerUnitEvent(t, G8[i], Ib, Condition(function KF8))
        call TriggerRegisterPlayerUnitEvent(t, N8[i], Ib, Condition(function KF8))
        set i = i + 1
    endloop
    call TriggerRegisterPlayerUnitEvent(t, Player(PLAYER_NEUTRAL_PASSIVE), Ib, Condition(function KF8))
    call TriggerRegisterPlayerUnitEvent(t, Player(PLAYER_NEUTRAL_AGGRESSIVE), Ib, Condition(function KF8))
endfunction
function SB8 takes nothing returns nothing
    if NG8(GetEnumDestructable())and IsDestructableAliveBJ(GetEnumDestructable())then
        set sl = sl + 1
        call KillDestructable(GetEnumDestructable())
    endif
endfunction
function SC8 takes real x, real y, real d returns integer
    local rect r = Rect(x - d, y - d, x + d, y + d)
    set sl = 0
    call EnumDestructablesInRect(r, Condition(function KF8), function SB8)
    call RemoveRect(r)
    set r = null
    return sl
endfunction
function S38 takes real x, real y returns boolean
    return( not(IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY)))
endfunction
function S68 takes sound SL8, real x, real y returns nothing
    call SetSoundPosition(SL8, x, y, 0)
    call SetSoundVolume(SL8, 127)
    set bj_lastPlayedSound = SL8
    if(SL8 != null)then
        call StartSound(SL8)
    endif
endfunction
function If takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local fogmodifier IF = (LoadFogModifierHandle(R8, (EC8), (42)))
    call FogModifierStop(IF)
    call DestroyFogModifier(IF)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set IF = null
    return false
endfunction
function S18 takes player p, real Hk, real x, real y, real r returns nothing
    local trigger t = CreateTrigger()
    local fogmodifier IF = CreateFogModifierRadius(p, FOG_OF_WAR_VISIBLE, x, y, r, true, true)
    call FogModifierStart(IF)
    call SaveFogModifierHandle(R8, (GetHandleId(t)), (42), (IF))
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function If))
    set IF = null
    set t = null
endfunction
function Ih takes nothing returns nothing
    if(NG8(GetEnumDestructable())or GetDestructableTypeId(GetEnumDestructable()) == 'B005') and GetDestructableLife(GetEnumDestructable()) > 0 then
        set EL = true
    endif
endfunction
function nA takes real x, real y, real d returns boolean
    local rect r = Rect(x - d, y - d, x + d, y + d)
    set EL = false
    call EnumDestructablesInRect(r, null, function Ih)
    call RemoveRect(r)
    set r = null
    return EL
endfunction
function Ii takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit X77 = KH8(V_8)
    local integer AIE1 = (LoadInteger(R8, (EC8), (43)))
    local unit p5 = KH8(AIE1)
    local real Ij = (LoadReal(R8, (EC8), (44)))
    local unit S08 = (LoadUnitHandle(R8, (EC8), (45)))
    local real x = GetUnitX(S08)
    local real y = GetUnitY(S08)
    local real BM7 = GetUnitX(X77)
    local real BN7 = GetUnitY(X77)
    local real S58 = Ij * .03
    local real S28 = YI7(x, y, BM7, BN7)
    local real S_8 = x + S58 * Cos(S28 * bj_DEGTORAD)
    local real T48 = y + S58 * Sin(S28 * bj_DEGTORAD)
    local boolean T78 = (LoadBoolean(R8, (EC8), (698)))
    local boolean AIY1 = (LoadBoolean(R8, (EC8), (818)))
    call SetUnitX(S08, S_8)
    call SetUnitY(S08, T48)
    call SetUnitFacing(S08, S28)
    if O18(X77)and T78 == false or((LoadInteger(R8, (GetHandleId(X77)), (4422)) == 1) == true and AIY1 == true)then
        call KillUnit(S08)
        call KG8(V_8)
        call KG8(AIE1)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif Z87(BM7, BN7, S_8, T48) <= S58 then
        call KillUnit(S08)
        set H04 = p5
        set H54 = X77
        call ExecuteFunc((LoadStr(R8, (EC8), (46))))
        call KG8(V_8)
        call KG8(AIE1)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set X77 = null
    set p5 = null
    set S08 = null
    return false
endfunction
function T88 takes unit Z77, unit m5, integer IM, string In, real Ij, boolean AIM1 returns trigger
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real iN = GetUnitX(Z77)
    local real io = GetUnitY(Z77)
    local real IN = GetUnitFacing(Z77)
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function Ii))
    call SaveReal(R8, (EC8), (44), (Ij))
    call SaveInteger(R8, (EC8), (30), (KJ8(m5)))
    call SaveStr(R8, (EC8), (46), (In))
    call SaveInteger(R8, (EC8), (43), (KJ8(Z77)))
    call SaveUnitHandle(R8, (EC8), (45), (CreateUnit(GetOwningPlayer(Z77), IM, iN, io, IN)))
    call SaveBoolean(R8, (EC8), (698), (false))
    call SaveBoolean(R8, (EC8), (818), (AIM1))
    set eC = t
    set t = null
    return eC
endfunction
function IO takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer iX = GetTriggerEvalCount(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real Ip = (LoadReal(R8, (EC8), (49)))
    local real PE8 = Ip - (Ip - PG8(N28)) * iX / 40
    if iX > 40 or O18(N28)then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SetUnitScale(N28, PE8, PE8, PE8)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function ng takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real Iq = (LoadReal(R8, (EC8), (50)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .025, true)
    call TriggerAddCondition(t, Condition(function IO))
    set EC8 = GetHandleId(t)
    call SaveReal(R8, (EC8), (49), (Iq))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    set t = null
    set N28 = null
    return false
endfunction
function nI takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer iX = GetTriggerEvalCount(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real Ir = ((LoadReal(R8, (EC8), (51))) - PG8(N28)) * iX / 40
    local real PE8 = PG8(N28) + Ir
    if iX > 40 or O18(N28)then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SetUnitScale(N28, PE8, PE8, PE8)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function T98 takes unit N28, real Hk, real PE8 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real Is = PE8 * PG8(N28)
    local real Iq = Is
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveReal(R8, (EC8), (50), ((Iq)))
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function ng))
    if Hk > 3 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, .025, true)
        call TriggerAddCondition(t, Condition(function nI))
        set EC8 = GetHandleId(t)
        call SaveReal(R8, (EC8), (51), ((Is)))
        call SaveUnitHandle(R8, (EC8), (14), (N28))
    else
        call SetUnitScale(N28, Iq, Iq, Iq)
    endif
    set t = null
endfunction
function AO11 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer It = (LoadInteger(R8, (EC8), (52)))
    if N28 != null and GetUnitAbilityLevel(N28, It) > 0 then
        call UnitRemoveAbility(N28, It)
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function AO21 takes unit u, integer It, real Hk returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call O68(u, It)
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function AO11))
    call SaveUnitHandle(R8, (EC8), (14), (u))
    call SaveInteger(R8, (EC8), (52), (It))
    set t = null
endfunction
function IS takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer It = (LoadInteger(R8, (EC8), (52)))
    if N28 != null and GetUnitAbilityLevel(N28, It) > 0 then
        call UnitRemoveAbility(N28, It)
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function TD8 takes unit u, integer It, real Hk returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function IS))
    call SaveUnitHandle(R8, (EC8), (14), (u))
    call SaveInteger(R8, (EC8), (52), (It))
    set t = null
endfunction
function Iv takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local fogmodifier IF = (LoadFogModifierHandle(R8, (EC8), (42)))
    call FogModifierStop(IF)
    call DestroyFogModifier(IF)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set IF = null
    return false
endfunction
function TF8 takes fogmodifier IF, real Hk returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call FogModifierStart(IF)
    call SaveFogModifierHandle(R8, (EC8), (42), (IF))
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function Iv))
    set t = null
endfunction
function Iw takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer TG8 = GetHandleId(t)
    local destructable d = LoadDestructableHandle(R8, (TG8), (55))
    if d != null then
        call RemoveDestructable(d)
    endif
    call FlushChildHashtable(R8, TG8)
    call EA8(t)
    set d = null
    set t = null
    return false
endfunction
function TI8 takes destructable d, real TJ8 returns nothing
    local trigger t = CreateTrigger()
    local integer TG8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, TJ8, false)
    call TriggerAddCondition(t, Condition(function Iw))
    call SaveDestructableHandle(R8, (TG8), (55), (d))
    set t = null
endfunction
function Iy takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call SetUnitAnimation((LoadUnitHandle(R8, (EC8), (53))), "stand")
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function TK8 takes unit u, real Hk returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (53), (u))
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function Iy))
    set t = null
endfunction
function nm takes real Hk, boolean IZ, real x, real y, real I0, real I1, real I2, real I3, real I4 returns nothing
    local real I5
    local real I6
    local real I7
    if(I1 <= 0 or I4 <= 0 or I3 <= 0)then
        return
    endif
    set I6 = 2. * Hk / I3
    set I5 = 2. * I1 / I4
    set I7 = I0 / I1
    call TerrainDeformRipple(x, y, I1, I2, R2I(Hk * 1000), 1, I5, I6, I7, IZ)
endfunction
function TM8 takes player hV, unit hn, integer M38, boolean permenant returns nothing
    local texttag t = CreateTextTag()
    call SetPlayerState(hV, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(hV, PLAYER_STATE_RESOURCE_GOLD) + M38)
    call SetTextTagText(t, "+" + I2S(M38), .025)
    call SetTextTagPosUnit(t, hn, 0)
    call SetTextTagColor(t, 255, 220, 0, 255)
    call SetTextTagVelocity(t, 0, .03)
    if GetLocalPlayer() == hV then
        call SetTextTagVisibility(t, true)
    else
        call SetTextTagVisibility(t, false)
    endif
    call SetTextTagFadepoint(t, 2)
    call SetTextTagLifespan(t, 3)
    call SetTextTagPermanent(t, false)
    set t = null
endfunction
function jA takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call RemoveUnit((LoadUnitHandle(R8, (EC8), (26))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function jb takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call KillUnit((LoadUnitHandle(R8, (EC8), (26))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function TN8 takes unit u, real d returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, d, false)
    call TriggerAddCondition(t, Condition(function jb))
    call SaveUnitHandle(R8, (EC8), (26), (u))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, d + .01, false)
    call TriggerAddCondition(t, Condition(function jA))
    call SaveUnitHandle(R8, (EC8), (26), (u))
    set t = null
endfunction
function TO8 takes sound SL8 returns nothing
    if SL8 != null and CW[GetPlayerId(GetLocalPlayer())] == false then
        call StartSound(SL8)
    endif
endfunction
function TP8 takes sound SL8, player HU returns nothing
    if GetLocalPlayer() == HU and CW[GetPlayerId(HU)] == false then
        call StartSound(SL8)
    endif
endfunction
function TQ8 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false
endfunction
function TR8 takes nothing returns nothing
    call TP8(WT4, GetOwningPlayer(GetEnumUnit()))
endfunction
function TS8 takes unit Z77, sound TT8, real x, real y, real r returns nothing
    local group g = OG8()
    set H04 = Z77
    set WT4 = TT8
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function TQ8))
    call GroupRemoveUnit(g, Z77)
    call ForGroup(g, function TR8)
    call OF8(g)
    set g = null
endfunction
function TU8 takes player p returns nothing
    if GetLocalPlayer() == p then
        call ClearTextMessages()
    endif
endfunction
function TW8 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TX8 = (LoadInteger(R8, (EC8), (59)))
    if UnitRemoveAbility(target, TX8) or GetUnitAbilityLevel(target, TX8) == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set target = null
    return false
endfunction
function TY8 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TX8 = (LoadInteger(R8, (EC8), (59)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    if UnitRemoveAbility(target, TX8) == false then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function TW8))
        call TriggerRegisterTimerEvent(t, 1., true)
        call SaveUnitHandle(R8, (EC8), (17), (target))
        call SaveInteger(R8, (EC8), (59), (TX8))
    endif
    set t = null
    set target = null
    return false
endfunction
function TZ8 takes unit target, integer TX8, integer TA8, real Hk returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call O68(target, TX8)
    call SetUnitAbilityLevel(target, TX8, TA8)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function TY8))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveInteger(R8, (EC8), (59), (TX8))
    set t = null
endfunction
function TB8 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer abl_id = (LoadInteger(R8, (EC8), (59)))
    local integer TC8 = (LoadInteger(R8, (EC8), (60)))
    call UnitRemoveAbility(target, TC8)
    if UnitRemoveAbility(target, abl_id) or GetUnitAbilityLevel(target, abl_id) == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set target = null
    return false
endfunction
function T38 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer abl_id = (LoadInteger(R8, (EC8), (59)))
    local integer TC8 = (LoadInteger(R8, (EC8), (60)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call UnitRemoveAbility(target, TC8)
    if UnitRemoveAbility(target, abl_id) == false then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
        call TriggerRegisterTimerEvent(t, 1., true)
        call TriggerAddCondition(t, Condition(function TB8))
        call SaveUnitHandle(R8, (EC8), (17), (target))
        call SaveInteger(R8, (EC8), (59), (abl_id))
        call SaveInteger(R8, (EC8), (60), (TC8))
    endif
    set t = null
    set target = null
    return false
endfunction
function T68 takes unit X77, integer abl_id, integer ML8, real TL8, integer TC8 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call O68(X77, abl_id)
    call SetUnitAbilityLevel(X77, abl_id, ML8)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, TL8, false)
    call TriggerAddCondition(t, Condition(function T38))
    call SaveUnitHandle(R8, (EC8), (17), (X77))
    call SaveInteger(R8, (EC8), (59), (abl_id))
    call SaveInteger(R8, (EC8), (60), (TC8))
    set t = null
endfunction
function AB81 takes integer id returns boolean
    return id == 'N00M' or id == 'H07G' or id == 'H00Y' or id == 'H0B8'
endfunction
function T18 takes unit S4 returns boolean
    local integer z8 = GetUnitTypeId(S4)
    return z8 == 'n004' or z8 == 'n01G' or z8 == 'n01C' or z8 == 'n018' or z8 == 'e00K' or z8 == 'e00I' or z8 == 'e00L' or z8 == 'e01J'
endfunction
function T08 takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false
endfunction
function GenericCondition_Structure takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false
endfunction
function T58 takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExNoImmuneNoInvisAndStructureWithAncient takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)
endfunction
function GenericCondition_EnemyUnitsExNoInvisAndStructureWithAncient takes nothing returns boolean
    return IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)
endfunction
function T_8 takes nothing returns boolean
    return IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function GenericCondition_AllyUnitsExHeroes takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)and(AB81(GetUnitTypeId(GetFilterUnit())) == false)
endfunction
function GenericCondition_AllyUnitsExWithAncient takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function U48 takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function U78 takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function U88 takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and KP8(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function U98 takes unit u returns boolean
    return GetUnitAbilityLevel(u, 'Aetl') > 0 or GetUnitAbilityLevel(u, 'Bcyc') > 0 or GetUnitAbilityLevel(u, 'Bcy2') > 0 or GetUnitAbilityLevel(u, 'B01N') > 0
endfunction
function UD8 takes unit u returns boolean
    return(GetUnitAbilityLevel((u), ('B0C1')) > 0)or(GetUnitAbilityLevel((u), ('BEer')) > 0)or(GetUnitAbilityLevel((u), ('Beng')) > 0)or(GetUnitAbilityLevel((u), ('Bena')) > 0)or(GetUnitAbilityLevel((u), ('B017')) > 0)or(GetUnitAbilityLevel((u), ('B078')) > 0)or(GetUnitAbilityLevel((u), ('B08F')) > 0)or(GetUnitAbilityLevel((u), ('B08E')) > 0)or(GetUnitAbilityLevel((u), ('B0ER')) > 0)or(GetUnitAbilityLevel((u), ('B0FN')) > 0)
endfunction
function UE8 takes unit u returns nothing
    call UnitRemoveAbility(u, 'B0C1')
    call UnitRemoveAbility(u, 'BEer')
    call UnitRemoveAbility(u, 'Beng')
    call UnitRemoveAbility(u, 'Bena')
    call UnitRemoveAbility(u, 'B017')
    call UnitRemoveAbility(u, 'B078')
    call UnitRemoveAbility(u, 'B08F')
    call UnitRemoveAbility(u, 'B08E')
    call UnitRemoveAbility(u, 'B0ER')
    call UnitRemoveAbility(u, 'B0FN')
endfunction
function DIE takes integer id returns boolean
    return id == 'A0DY' or id == 'A1WB' or id == 'A026' or id == 'A09V' or id == 'A2UO' or id == 'A0LZ' or id == 'A0QN' or id == 'A0OI' or id == 'A2UM' or id == 'A3Q6'
endfunction
function ABV1 takes unit u returns boolean
    return (GetUnitAbilityLevel(u, 'BEer') > 0)or(GetUnitAbilityLevel(u, 'B017') > 0)or(GetUnitAbilityLevel(u, 'B0ER') > 0)or(GetUnitAbilityLevel((u), ('B01N')) > 0)or GetUnitAbilityLevel(u, 'Aetl') > 0 or GetUnitAbilityLevel(u, 'Abun') > 0 or(GetUnitAbilityLevel((u), ('B033')) > 0)or(GetUnitAbilityLevel((u), ('B0GD')) > 0)
endfunction
function UF8 takes unit u returns nothing
    call UnitRemoveAbility(u, 'Abun')
    call SaveInteger(R8, (GetHandleId(u)), (790), (0))
endfunction
function UG8 takes unit u returns nothing
    local integer V37 = GetHandleId(u)
    local integer UH8 = (LoadInteger(R8, (V37), (790)))
    call O68(u, 'Abun')
    set UH8 = UH8 + 1
    call SaveInteger(R8, (V37), (790), (UH8))
endfunction
function UI8 takes unit u returns nothing
    local integer V37 = GetHandleId(u)
    local integer UH8 = (LoadInteger(R8, (V37), (790)))
    set UH8 = IMaxBJ(UH8 - 1, 0)
    call SaveInteger(R8, (V37), (790), (UH8))
    if UH8 == 0 then
        call UF8(u)
    endif
endfunction
function UJ8 takes unit u returns boolean
    return(u == JW4)or(u == JX4)or(u == JY4)or(u == JZ4)or(u == JA4)or(u == JB4)or(u == JC4)or(u == J34)or(u == J64)or(u == JL4)or(u == J14)or(u == J04)or(u == J54)or(u == J24)or(u == J_4)or(u == K44)or(u == K74)or(u == IZ4)or(u == I34)or(u == IL4)or(u == I04)or(u == I24)or(u == I_4)or(u == J44)or(u == J74)or(u == J84)or(u == J94)or(u == JD4)or(u == JE4)or(u == JF4)or(u == JG4)or(u == JH4)or(u == JI4)or(u == JJ4)
endfunction
function UK8 takes nothing returns boolean
    return UJ8(GetFilterUnit())and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetEnumUnit()))and GetUnitLifePercent(GetFilterUnit()) <= 90.
endfunction
function GenericCondition_EnemyUnitsEx takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExHeroesVision takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))
endfunction
function GenericCondition_EnemyUnitsExVisionWithAncient takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))
endfunction
function GenericCondition_EnemyUnitsExHeroes takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)
endfunction
function UN8 takes unit u returns boolean
    return GetUnitAbilityLevel(u, 'B068') > 0 or GetUnitAbilityLevel(u, 'B07T') > 0 or GetUnitAbilityLevel(u, 'B076') > 0 or GetUnitAbilityLevel(u, 'BOwk') > 0 or GetUnitAbilityLevel(u, 'B04R') > 0 or GetUnitAbilityLevel(u, 'B0A5') > 0 or GetUnitAbilityLevel(u, 'B01Q') > 0 or GetUnitAbilityLevel(u, 'B006') > 0 or GetUnitAbilityLevel(u, 'Binv') > 0 or GetUnitAbilityLevel(u, 'Apiv') > 0 or GetUnitAbilityLevel(u, 'A021') > 0 or GetUnitAbilityLevel(u, 'A0K4') > 0 or GetUnitAbilityLevel(u, 'A0XB') > 0 or GetUnitAbilityLevel(u, 'A0Z2') > 0 or GetUnitAbilityLevel(u, 'A1GA') > 0 or GetUnitAbilityLevel(u, 'A1HW') > 0 or GetUnitAbilityLevel(u, 'A1HX') > 0 or GetUnitAbilityLevel(u, 'A00J') > 0 or GetUnitAbilityLevel(u, 'B08K') > 0 or GetUnitAbilityLevel(u, 'B08X') > 0 or GetUnitAbilityLevel(u, 'B039') > 0 or GetUnitAbilityLevel(u, 'B00K') > 0 or GetUnitAbilityLevel(u, 'BHfs') > 0 or GetUnitAbilityLevel(u, 'A140') > 0 or GetUnitAbilityLevel(u, 'B021') > 0 or GetUnitAbilityLevel(u, 'A0ZD') > 0 or GetUnitAbilityLevel(u, 'A0KT') > 0 or GetUnitAbilityLevel(u, 'B0G8') > 0
endfunction
function UO8 takes unit XE7 returns boolean
    return GetUnitAbilityLevel(XE7, 'A1HW') > 0 or GetUnitAbilityLevel(XE7, 'A1HX') > 0 or GetUnitAbilityLevel(XE7, 'B00K') > 0 or GetUnitAbilityLevel(XE7, 'B076') > 0 or GetUnitAbilityLevel(XE7, 'B07T') > 0 or GetUnitAbilityLevel(XE7, 'A021') > 0 or GetUnitAbilityLevel(XE7, 'A29C') > 0 or GetUnitAbilityLevel(XE7, 'BHfs') > 0 or GetUnitAbilityLevel(XE7, 'B08K') > 0 or GetUnitAbilityLevel(XE7, 'B068') > 0 or GetUnitAbilityLevel(XE7, 'A00J') > 0 or GetUnitAbilityLevel(XE7, 'A0KT') > 0
endfunction
function UP8 takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'oeye' or AR7(GetFilterUnit(), BU[GB])or GetUnitAbilityLevel(GetFilterUnit(), 'A14K') > 0 or GetUnitAbilityLevel(GetFilterUnit(), 'AItb') > 0
endfunction
function UQ8 takes unit u returns boolean
    return GetUnitAbilityLevel(u, 'B00T') == 0 and GetUnitAbilityLevel(u, 'B00L') == 0
endfunction
function UR8 takes unit u, player p returns boolean
    return UN8(u) == false or IsUnitVisible(GetFilterUnit(), p)
endfunction
function GenericCondition_EnemyUnitsExHeroesNoDotaInvis takes nothing returns boolean
    return((IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO))and UN8(GetFilterUnit()) == false
endfunction
function UT8 takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(), 'A1RB') == 0
endfunction
function GenericCondition_EnemyUnitsExVisibleAttackable takes nothing returns boolean
    return((IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)))and U98(GetFilterUnit()) == false
endfunction
function GenericCondition_EnemyHeroesExVisibleAttackable takes nothing returns boolean
    return((IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)))and U98(GetFilterUnit()) == false
endfunction
function UU8 takes nothing returns boolean
    return((IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)))and U98(GetFilterUnit()) == false)and GetUnitTypeId(GetFilterUnit()) != 'n0F5'
endfunction
function GenericCondition_EnemyUnitsExWithAncient takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function GenericCondition_EnemyUnitsExNoImmune takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExNoImmuneWithAncient takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function UX8 takes unit ZB7 returns boolean
    return GetUnitTypeId(ZB7) == 'n004' or GetUnitTypeId(ZB7) == 'n018' or GetUnitTypeId(ZB7) == 'n01C' or GetUnitTypeId(ZB7) == 'n01G'
endfunction
function UY8 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit()) == 'ebal' or GetUnitTypeId(GetFilterUnit()) == 'umtw')
endfunction
function UZ8 takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and NH8(GetFilterUnit()) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A1RB') == 0
endfunction
function GenericCondition_EnemyUnits takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsWithAncient takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function GenericCondition_EnemyUnitsVisible takes nothing returns boolean
    return(IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function GenericCondition_EnemyUnitsAndVisibleOrWW takes nothing returns boolean
    return(IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))or UN8(GetFilterUnit()))
endfunction
function UC8 takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit()))and UZ8()
endfunction
function U38 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and UZ8()and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))
endfunction
function U68 takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and(GetUnitAbilityLevel((GetFilterUnit()), 'Bcyc') > 0) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function UL8 takes nothing returns boolean
    return(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)))and GU8(GetFilterUnit()) == false and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and(GetUnitAbilityLevel((GetFilterUnit()), 'Bcyc') > 0) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function U18 takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))
endfunction
function U08 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function U58 takes nothing returns boolean
    return(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit()) == false
endfunction
function GenericCondition_EnemyHeroesExNoImmune takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))
endfunction
function U_8 takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false
endfunction
function V48 takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and UZ8()and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExNoImmuneVisible takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_EnemyUnitsExNoImmuneVisibleWithAncient takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function V88 takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function ji takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and UZ8()and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function jI takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and UZ8()and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function V98 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VD8 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit()))and UZ8()and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function GenericCondition_EnemyHeroesEx_OLD takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and UZ8()and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_EnemyHeroesExNoDotAInvis takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)or UN8(GetEnumUnit())
endfunction
function VF8 takes nothing returns boolean
    return UZ8()and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VG8 takes nothing returns boolean
    return(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function VH8 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VI8 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_MyUnits takes nothing returns boolean
    return GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit())and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VJ8 takes nothing returns boolean
    return UZ8()and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function jL takes nothing returns boolean
    return UZ8()and(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)or IsUnitIllusion(GetFilterUnit()))and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function jm takes nothing returns boolean
    return(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) != null)
endfunction
function GenericCondition_EnemyUnitsExVisible takes nothing returns boolean
    return GenericCondition_EnemyUnitsEx()and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))
endfunction
function GenericCondition_EnemyUnitsExNoWW takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))or(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)) == false and UN8(GetFilterUnit())) == false)
endfunction
function jn takes nothing returns boolean
    return UZ8()and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function ny takes nothing returns boolean
    return jn()and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)) and GetUnitTypeId(GetFilterUnit()) != 'n0F5'
endfunction
function VK8 takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false and GetUnitTypeId(GetFilterUnit()) != 'n0F5'
endfunction
function VM8 takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(H04)) and MZ8(GetFilterUnit()) > 0
endfunction
function VN8 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and(GetUnitAbilityLevel((GetFilterUnit()), 'Bcyc') > 0) == false)
endfunction
function VO8 takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == true and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))
endfunction
function VP8 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VQ8 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VR8 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and(IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function GenericCondition_AlliedHeroesAndCreeps takes nothing returns boolean
    return(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) or GetOwningPlayer(GetFilterUnit()) == G8[0]or GetOwningPlayer(GetFilterUnit()) == N8[0])and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VS8 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and KP8(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function GenericCondition_AlliedHeroesAndCreepsUncycloned takes nothing returns boolean
    return(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) or GetOwningPlayer(GetFilterUnit()) == G8[0]or GetOwningPlayer(GetFilterUnit()) == N8[0])and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and(GetUnitAbilityLevel((GetFilterUnit()), 'Bcyc') > 0) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VU8 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit()) == false and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and(GetUnitAbilityLevel((GetFilterUnit()), 'Bcyc') > 0) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VV8 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and(GetUnitAbilityLevel((GetFilterUnit()), 'Bcyc') > 0) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function VX8 takes nothing returns nothing
    local destructable target = GetEnumDestructable()
    local real a = Atan2(GetDestructableY(target) - GetUnitY(H04), GetDestructableX(target) - GetUnitX(H04))
    local real VY8 = RAbsBJ((H64 - a) * bj_RADTODEG)
    if(NG8(target)or GetDestructableTypeId(target) == 'B005')and GetDestructableLife(target) > 1 and VY8 < wB and VY8 < (ZU - 5)then
        set wB = VY8
        set SB = target
    endif
    set target = null
endfunction
function VZ8 takes unit VA8, unit Z77, real l4 returns destructable
    local real x = GetUnitX(VA8)
    local real y = GetUnitY(VA8)
    local rect r = Rect(x - zB, y - zB, x + zB, y + zB)
    set wB = 9999
    set H04 = VA8
    set SB = null
    call EnumDestructablesInRect(r, Condition(function KF8), function VX8)
    call RemoveRect(r)
    set r = null
    return SB
endfunction
function VB8 takes nothing returns nothing
    local unit target = GetEnumUnit()
    local real a = Atan2(GetUnitY(target) - GetUnitY(H04), GetUnitX(target) - GetUnitX(H04))
    local real VY8 = RAbsBJ((H64 - a) * bj_RADTODEG)
    if VY8 < wB and VY8 < ZU and target != H54 then
        set wB = VY8
        set TB = target
    endif
    set target = null
endfunction
function VC8 takes unit VA8, unit Z77, real l4 returns unit
    local group g = OG8()
    set TB = null
    set wB = 9999
    set H04 = VA8
    set H64 = Atan2(GetUnitY(Z77) - YV4, GetUnitX(Z77) - YU4)
    set H54 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), yB, Condition(function U68))
    call ForGroup(g, function VB8)
    call OF8(g)
    set g = null
    return TB
endfunction
function V38 takes unit VA8, unit Z77, real l4 returns unit
    local group g = OG8()
    set TB = null
    set wB = 9999
    set H04 = VA8
    set H64 = l4
    set H54 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), yB, Condition(function UL8))
    call ForGroup(g, function VB8)
    call OF8(g)
    set g = null
    return TB
endfunction
function V18 takes unit Z77, unit target, real TL8 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(target), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    local ability a
    if TL8 >= .01 then
        call UnitAddAbility(AC7, 'A0X6')
        set a = BlzGetUnitAbility(AC7, 'A0X6')
        call FbSetAbilityRealLevelField(a, ABILITY_RLF_DURATION_NORMAL, 1, TL8)
        call FbSetAbilityRealLevelField(a, ABILITY_RLF_DURATION_HERO, 1, TL8)
        call IssueTargetOrderById(AC7, 852095, target)
    endif
    set a = null
    set AC7 = null
endfunction
function IsBroken takes unit N28 returns boolean
    return GetUnitAbilityLevel(N28, 'B36D') > 0 or GetUnitAbilityLevel(N28, 'BNdo') > 0
endfunction
function Break takes unit Z77, unit X77, real TL8 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    local ability a
    call UnitAddAbility(AC7, 'A36D')
    set a = BlzGetUnitAbility(AC7, 'A36D')
    call FbSetAbilityRealLevelField(a, ABILITY_RLF_DURATION_NORMAL, 1, TL8)
    call FbSetAbilityRealLevelField(a, ABILITY_RLF_DURATION_HERO, 1, TL8)
    call IssueTargetOrderById(AC7, 852075, X77)
    set a = null
    set AC7 = null
endfunction
function V08 takes unit Z77, unit X77, integer V58, real P08 returns nothing
    if V58 == AA4 then
        return
    endif
    if V58 == AB4 then
        call UnitDamageTarget(Z77, X77, P08, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE, WEAPON_TYPE_WHOKNOWS)
    elseif V58 == AC4 then
        call UnitDamageTarget(Z77, X77, P08, true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_METAL_MEDIUM_BASH)
    elseif V58 == A34 then
        call UnitDamageTarget(Z77, X77, P08, true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    elseif V58 == A64 then
        call UnitDamageTarget(Z77, X77, P08, true, true, ATTACK_TYPE_PIERCE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    elseif V58 == AL4 then
        call UnitDamageTarget(Z77, X77, P08, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    elseif V58 == A14 then
        call SetUnitState(X77, UNIT_STATE_LIFE, RMaxBJ(GetUnitState(X77, UNIT_STATE_LIFE) - P08, 1))
        if GetUnitState(X77, UNIT_STATE_LIFE) < 2 then
            call UnitRemoveBuffs(X77, true, true)
            call UnitRemoveAbility(X77, 'Aetl')
            call UnitDamageTarget(CreateUnit(GetOwningPlayer(Z77), 'e00E', 0, 0, 0), X77, 100000000., true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        endif
    elseif V58 == A04 then
        if GetUnitAbilityLevel(X77, 'Aetl') > 0 or GetUnitAbilityLevel(X77, 'B01N') > 0 then
            call UnitDamageTarget(Z77, X77, P08, true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        else
            call UnitDamageTarget(Z77, X77, P08, true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
        endif
    elseif V58 == AA94 then
        call UnitDamageTarget(Z77, X77, P08, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS)
    endif
endfunction
function V28 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer V_8 = (LoadInteger(R8, (W57), (30)))
    local unit X77 = KH8(V_8)
    local integer V58 = (LoadInteger(R8, (W57), (36)))
    local real P08 = (LoadReal(R8, (W57), (20)))
    call V08(Z77, X77, V58, P08)
    call KG8(V_8)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function W48 takes unit Z77, unit X77, integer V58, real P08, real TL8 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (30), (KJ8(X77)))
    call SaveInteger(R8, (W57), (36), (V58))
    call SaveReal(R8, (W57), (20), ((P08)))
    call TriggerRegisterTimerEvent(t, TL8, false)
    call TriggerAddCondition(t, Condition(function V28))
    set t = null
endfunction
function W78 takes unit u, integer d returns nothing
    local integer a = d
    local integer i = 0
    local integer W88 = 8
    if d < 1 then
        call UnitRemoveAbility(u, HP4[0])
        call UnitRemoveAbility(u, HP4[1])
        call UnitRemoveAbility(u, HP4[2])
        call UnitRemoveAbility(u, HP4[3])
        call UnitRemoveAbility(u, HP4[4])
        call UnitRemoveAbility(u, HP4[5])
        call UnitRemoveAbility(u, HP4[6])
        call UnitRemoveAbility(u, HP4[7])
        call UnitRemoveAbility(u, HP4[8])
        return
    endif
    loop
        exitwhen i > W88
        if BlzBitAnd(a, LSP[i]) != 0 then
            call UnitAddAbility(u, HP4[i])
        else
            call UnitRemoveAbility(u, HP4[i])
        endif
        set i = i + 1
    endloop
endfunction
function W98 takes unit u, integer d returns nothing
    local integer a = d
    local integer i = 0
    local integer WD8 = 10
    if d < 1 then
        call UnitRemoveAbility(u, UU4[0])
        call UnitRemoveAbility(u, UU4[1])
        call UnitRemoveAbility(u, UU4[2])
        call UnitRemoveAbility(u, UU4[3])
        call UnitRemoveAbility(u, UU4[4])
        call UnitRemoveAbility(u, UU4[5])
        call UnitRemoveAbility(u, UU4[6])
        call UnitRemoveAbility(u, UU4[7])
        call UnitRemoveAbility(u, UU4[8])
        call UnitRemoveAbility(u, UU4[9])
        call UnitRemoveAbility(u, UU4[10])
        return
    endif
    loop
        exitwhen i > WD8
        if BlzBitAnd(a, LSP[i]) != 0 then
            call UnitAddAbility(u, UU4[i])
        else
            call UnitRemoveAbility(u, UU4[i])
        endif
        set i = i + 1
    endloop
endfunction
function WE8 takes unit u, integer d returns nothing
    local integer a = d
    local integer i = 0
    local integer W88 = 8
    if d < 1 then
        call UnitRemoveAbility(u, HQ4[0])
        call UnitRemoveAbility(u, HQ4[1])
        call UnitRemoveAbility(u, HQ4[2])
        call UnitRemoveAbility(u, HQ4[3])
        call UnitRemoveAbility(u, HQ4[4])
        call UnitRemoveAbility(u, HQ4[5])
        call UnitRemoveAbility(u, HQ4[6])
        call UnitRemoveAbility(u, HQ4[7])
        call UnitRemoveAbility(u, HQ4[8])
        return
    endif
    loop
        exitwhen i > W88
        if BlzBitAnd(a, LSP[i]) != 0 then
            call UnitAddAbility(u, HQ4[i])
        else
            call UnitRemoveAbility(u, HQ4[i])
        endif
        set i = i + 1
    endloop
endfunction
function WF8 takes unit u, integer d returns nothing
    local integer a = d
    local integer i = 0
    local integer WG8 = 5
    if d < 1 then
        call UnitRemoveAbility(u, HR4[0])
        call UnitRemoveAbility(u, HR4[1])
        call UnitRemoveAbility(u, HR4[2])
        call UnitRemoveAbility(u, HR4[3])
        call UnitRemoveAbility(u, HR4[4])
        call UnitRemoveAbility(u, HR4[5])
        return
    endif
    loop
        exitwhen i > WG8
        if BlzBitAnd(a, LSP[i]) != 0 then
            call UnitAddAbility(u, HR4[i])
        else
            call UnitRemoveAbility(u, HR4[i])
        endif
        set i = i + 1
    endloop
endfunction
function WJ8 takes unit Z77 returns integer
    local integer MB8 = GetUnitTypeId(Z77)
    local integer WK8 = 'o01P'
    if MB8 == 'Udre' then
        set WK8 = 'o01N'
    elseif MB8 == 'Emoo' or MB8 == 'H00I' or MB8 == 'H071' or MB8 == 'E005' then
        set WK8 = 'o01O'
    endif
    return WK8
endfunction
function WM8 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call KillUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call SetUnitX(AC7, GetUnitX(Z77))
        call SetUnitY(AC7, GetUnitY(Z77))
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function WN8 takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), WJ8(Z77), GetUnitX(Z77), GetUnitY(Z77), 0)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function WM8))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    set AC7 = null
    set t = null
endfunction
function WO8 takes integer WP8 returns boolean
    local integer i = 0
    loop
        exitwhen i > 59
        if WP8 == L9[i]then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction
function WQ8 takes integer TA8 returns integer
    local real WR8 = TimerGetElapsed(E4) - M04
    local real WS8 = (R2I(WR8) / 60) - (1 / 2)
    local real WT8 = 100 + TA8 * TA8 * 1.5 + WS8 * 15
    local integer WU8
    set WU8 = R2I(WT8 / 50)
    set WU8 = IMinBJ(WU8, 59)
    set WU8 = IMaxBJ(WU8, 0)
    return WU8
endfunction
function WV8 takes player p returns nothing
    local integer id = GetPlayerId(p)
    local unit WW8 = KR4[id]
    local unit WX8 = Y7[id]
    local integer WY8 = GetHeroLevel(WX8)
    local integer i = 0
    if T4 then
        return
    endif
    if AG4 == false then
        return
    endif
    if ED[id] == 'h0D4' then
        return
    endif
    if ED[id] != 0 then
        call RemoveUnitFromStock(WW8, ED[id])
    endif
    call AddUnitToStock(WW8, L9[WQ8(WY8)], 1, 1)
    set ED[id] = L9[WQ8(WY8)]
    set WX8 = null
    set WW8 = null
endfunction
function WZ8 takes nothing returns boolean
    if T4 then
        return false
    endif
    //! textmacro WZ8Mac takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call WV8(G8[$PLAYER_RANK$])
            call WV8(N8[$PLAYER_RANK$])
        endif
    //! endtextmacro
    //! runtextmacro WZ8Mac("1")
    //! runtextmacro WZ8Mac("2")
    //! runtextmacro WZ8Mac("3")
    //! runtextmacro WZ8Mac("4")
    //! runtextmacro WZ8Mac("5")
    //! runtextmacro WZ8Mac("6")
    //! runtextmacro WZ8Mac("7")
    //! runtextmacro WZ8Mac("8")
    //! runtextmacro WZ8Mac("9")
    //! runtextmacro WZ8Mac("10")
    //! runtextmacro WZ8Mac("11")
    return false
endfunction
function WA8 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer id = (LoadInteger(R8, (W57), (34)))
    local unit WB8 = KR4[id]
    local unit AM7 = Y7[id]
    local integer ML8 = GetHeroLevel(AM7)
    local integer i = 0
    call RemoveUnitFromStock(WB8, 'h0D4')
    call AddUnitToStock(WB8, L9[WQ8(ML8)], 1, 1)
    set ED[id] = L9[WQ8(ML8)]
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set AM7 = null
    set WB8 = null
    return false
endfunction
function WC8 takes player p returns nothing
    local integer id = GetPlayerId(p)
    local unit WB8 = KR4[id]
    local unit AM7 = Y7[id]
    local integer ML8 = GetHeroLevel(AM7)
    local integer i = 0
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call WN8(AM7)
    loop
        exitwhen i > 59
        call RemoveUnitFromStock(WB8, L9[i])
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function WA8))
    call TriggerRegisterTimerEvent(t, 360, false)
    call SaveInteger(R8, (W57), (34), (id))
    set ED[id] = 'h0D4'
    call RemoveUnitFromStock(WB8, 'h0D4')
    call AddUnitToStock(WB8, 'h0D4', 0, 1)
    set AM7 = null
    set WB8 = null
    set t = null
endfunction
function W38 takes nothing returns nothing
    static if MAX_TEAM_PLAYERS_GE_1 then
        set KX4[GetPlayerId(G8[1])] = 0
        set KY4[GetPlayerId(G8[1])] = 66
        set KZ4[GetPlayerId(G8[1])] = 255
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set KX4[GetPlayerId(G8[2])] = 27
        set KY4[GetPlayerId(G8[2])] = 230
        set KZ4[GetPlayerId(G8[2])] = 186
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set KX4[GetPlayerId(G8[3])] = 85
        set KY4[GetPlayerId(G8[3])] = 0
        set KZ4[GetPlayerId(G8[3])] = 129
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set KX4[GetPlayerId(G8[4])] = 255
        set KY4[GetPlayerId(G8[4])] = 252
        set KZ4[GetPlayerId(G8[4])] = 0
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set KX4[GetPlayerId(G8[5])] = 255
        set KY4[GetPlayerId(G8[5])] = 138
        set KZ4[GetPlayerId(G8[5])] = 13
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        set KX4[GetPlayerId(G8[6])] = 156
        set KY4[GetPlayerId(G8[6])] = 0
        set KZ4[GetPlayerId(G8[6])] = 0
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        set KX4[GetPlayerId(G8[7])] = 0
        set KY4[GetPlayerId(G8[7])] = 0
        set KZ4[GetPlayerId(G8[7])] = 194
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        set KX4[GetPlayerId(G8[8])] = 0
        set KY4[GetPlayerId(G8[8])] = 235
        set KZ4[GetPlayerId(G8[8])] = 255
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        set KX4[GetPlayerId(G8[9])] = 189
        set KY4[GetPlayerId(G8[9])] = 0
        set KZ4[GetPlayerId(G8[9])] = 255
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        set KX4[GetPlayerId(G8[10])] = 256
        set KY4[GetPlayerId(G8[10])] = 204
        set KZ4[GetPlayerId(G8[10])] = 134
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        set KX4[GetPlayerId(G8[11])] = 247
        set KY4[GetPlayerId(G8[11])] = 164
        set KZ4[GetPlayerId(G8[11])] = 139
    endif
    static if MAX_TEAM_PLAYERS_GE_1 then
        set KX4[GetPlayerId(N8[1])] = 227
        set KY4[GetPlayerId(N8[1])] = 91
        set KZ4[GetPlayerId(N8[1])] = 175
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set KX4[GetPlayerId(N8[2])] = 148
        set KY4[GetPlayerId(N8[2])] = 150
        set KZ4[GetPlayerId(N8[2])] = 151
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set KX4[GetPlayerId(N8[3])] = 126
        set KY4[GetPlayerId(N8[3])] = 191
        set KZ4[GetPlayerId(N8[3])] = 241
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set KX4[GetPlayerId(N8[4])] = 16
        set KY4[GetPlayerId(N8[4])] = 98
        set KZ4[GetPlayerId(N8[4])] = 71
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set KX4[GetPlayerId(N8[5])] = 79
        set KY4[GetPlayerId(N8[5])] = 43
        set KZ4[GetPlayerId(N8[5])] = 5
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        set KX4[GetPlayerId(N8[6])] = 191
        set KY4[GetPlayerId(N8[6])] = 255
        set KZ4[GetPlayerId(N8[6])] = 128
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        set KX4[GetPlayerId(N8[7])] = 219
        set KY4[GetPlayerId(N8[7])] = 184
        set KZ4[GetPlayerId(N8[7])] = 236
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        set KX4[GetPlayerId(N8[8])] = 79
        set KY4[GetPlayerId(N8[8])] = 79
        set KZ4[GetPlayerId(N8[8])] = 85
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        set KX4[GetPlayerId(N8[9])] = 236
        set KY4[GetPlayerId(N8[9])] = 240
        set KZ4[GetPlayerId(N8[9])] = 255
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        set KX4[GetPlayerId(N8[10])] = 0
        set KY4[GetPlayerId(N8[10])] = 120
        set KZ4[GetPlayerId(N8[10])] = 30
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        set KX4[GetPlayerId(N8[11])] = 164
        set KY4[GetPlayerId(N8[11])] = 111
        set KZ4[GetPlayerId(N8[11])] = 52
    endif
endfunction
function W68 takes nothing returns nothing
    local integer T8
    local integer U8
    set W[GetPlayerId(G8[0])] = "|c00ff0303"
    call SetPlayerColor(G8[0], PLAYER_COLOR_RED)
    static if MAX_TEAM_PLAYERS_GE_1 then
        set W[GetPlayerId(G8[1])] = "|c000042ff"
        call SetPlayerColor(G8[1], PLAYER_COLOR_BLUE)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set W[GetPlayerId(G8[2])] = "|c001ce6b9"
        call SetPlayerColor(G8[2], PLAYER_COLOR_CYAN)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set W[GetPlayerId(G8[3])] = "|c00540081"
        call SetPlayerColor(G8[3], PLAYER_COLOR_PURPLE)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set W[GetPlayerId(G8[4])] = "|c00fffc01"
        call SetPlayerColor(G8[4], PLAYER_COLOR_YELLOW)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set W[GetPlayerId(G8[5])] = "|c00ff8000"
        call SetPlayerColor(G8[5], PLAYER_COLOR_ORANGE)
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        set W[GetPlayerId(G8[6])] = "|c009c0000"
        call SetPlayerColor(G8[6], PLAYER_COLOR_MAROON)
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        set W[GetPlayerId(G8[7])] = "|c000000c2"
        call SetPlayerColor(G8[7], PLAYER_COLOR_NAVY)
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        set W[GetPlayerId(G8[8])] = "|c0000ebff"
        call SetPlayerColor(G8[8], PLAYER_COLOR_TURQUOISE)
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        set W[GetPlayerId(G8[9])] = "|c00bd00ff"
        call SetPlayerColor(G8[9], PLAYER_COLOR_VIOLET)
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        set W[GetPlayerId(G8[10])] = "|c00eccc86"
        call SetPlayerColor(G8[10], PLAYER_COLOR_WHEAT)
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        set W[GetPlayerId(G8[11])] = "|c00f7a48b"
        call SetPlayerColor(G8[11], PLAYER_COLOR_PEACH)
    endif
    set W[GetPlayerId(N8[0])] = "|c0020c000"
    call SetPlayerColor(N8[0], PLAYER_COLOR_GREEN)
    static if MAX_TEAM_PLAYERS_GE_1 then
        set W[GetPlayerId(N8[1])] = "|c00e55bb0"
        call SetPlayerColor(N8[1], PLAYER_COLOR_PINK)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set W[GetPlayerId(N8[2])] = "|c00959697"
        call SetPlayerColor(N8[2], PLAYER_COLOR_LIGHT_GRAY)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set W[GetPlayerId(N8[3])] = "|c007ebff1"
        call SetPlayerColor(N8[3], PLAYER_COLOR_LIGHT_BLUE)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set W[GetPlayerId(N8[4])] = "|c00106246"
        call SetPlayerColor(N8[4], PLAYER_COLOR_AQUA)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set W[GetPlayerId(N8[5])] = "|c004e2a04"
        call SetPlayerColor(N8[5], PLAYER_COLOR_BROWN)
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        set W[GetPlayerId(N8[6])] = "|c00bfff80"
        call SetPlayerColor(N8[6], PLAYER_COLOR_MINT)
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        set W[GetPlayerId(N8[7])] = "|c00dbb8ec"
        call SetPlayerColor(N8[7], PLAYER_COLOR_LAVENDER)
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        set W[GetPlayerId(N8[8])] = "|c004f4f55"
        call SetPlayerColor(N8[8], PLAYER_COLOR_COAL)
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        set W[GetPlayerId(N8[9])] = "|c00ecf0ff"
        call SetPlayerColor(N8[9], PLAYER_COLOR_SNOW)
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        set W[GetPlayerId(N8[10])] = "|c0000781e"
        call SetPlayerColor(N8[10], PLAYER_COLOR_EMERALD)
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        set W[GetPlayerId(N8[11])] = "|c00a46f34"
        call SetPlayerColor(N8[11], PLAYER_COLOR_PEANUT)
    endif
    // set T8 = 1
    // set U8 = 5
    // loop
    //     call YK7(G8[T8])
    //     if(IsComputer(G8[T8]))then
    //         call SetPlayerName(G8[T8], I2S(T8) + YJ7(G8[T8]) + "Computer")
    //     endif
    //     call YK7(N8[T8])
    //     if(IsComputer(N8[T8]))then
    //         call SetPlayerName(N8[T8], I2S(5 + T8) + YJ7(N8[T8]) + "Computer")
    //     endif
    //     set T8 = T8 + 1
    //     exitwhen T8 > U8
    // endloop
endfunction
function WL8 takes unit L07 returns boolean
    return GetUnitAbilityLevel(L07, 'A04R') > 0 and KP8(GetOwningPlayer(L07))
endfunction
function W18 takes real d returns boolean
    return 2 < d and d < 3000
endfunction
function W08 takes nothing returns nothing
    local integer T8 = 1
    set V8 = G8[1]
    if bool_TestVersion then
        set T8 = 0
        set V8 = G8[0]
    endif
    loop
        exitwhen KQ8(V8)or T8 > MAX_TEAM_PLAYERS
        set T8 = T8 + 1
        set V8 = G8[T8]
    endloop
    if not KQ8(V8)then
        set V8 = N8[1]
        set T8 = 1
        if bool_TestVersion then
            set T8 = 0
            set V8 = N8[0]
        endif
        loop
            exitwhen KQ8(V8)or T8 > MAX_TEAM_PLAYERS
            set T8 = T8 + 1
            set V8 = N8[T8]
        endloop
    endif
endfunction
function CH9 takes unit AM7 returns boolean
    return(IsUnitType(AM7, UNIT_TYPE_HERO))and(not IsUnitIllusion(AM7))and GetUnitTypeId(AM7) != 'H00M' and GetUnitTypeId(AM7) != 'N0MM' and GetUnitTypeId(AM7) != 'Hvil' and GetUnitTypeId(AM7) != 'H00Y' and GetUnitTypeId(AM7) != 'H07G' and GetUnitTypeId(AM7) != 'H0B8' and(not D17)
endfunction
function W58 takes player p, string W28, integer W_8 returns nothing
    local string id = I2S(GetPlayerId(p))
    call StoreInteger(IG4, id, W28, W_8)
    if KS8(V8) == false then
        call W08()
    endif
    if GetLocalPlayer() == V8 then
        call SyncStoredInteger(IG4, id, W28)
    endif
endfunction
function X48 takes string W28, integer W_8 returns nothing
    call StoreInteger(IG4, "Data", W28, W_8)
    if KS8(V8) == false then
        call W08()
    endif
    if GetLocalPlayer() == V8 then
        call SyncStoredInteger(IG4, "Data", W28)
    endif
endfunction
function XD8 takes string s, string XE8, string XF8 returns string
    local string XG8 = ""
    local integer i = 0
    local integer XH8 = StringLength(s)
    local string XI8
    local integer XJ8 = StringLength(XE8)
    local boolean XK8 = false
    loop
        exitwhen i + 1 > XH8
        set XI8 = SubString(s, i, i + XJ8)
        if XI8 != XE8 or XK8 then
            set XG8 = XG8 + SubString(s, i, i + 1)
            set i = i + 1
        else
            set XG8 = XG8 + XF8
            set i = i + XJ8
            set XK8 = true
        endif
    endloop
    return XG8
endfunction
function XM8 takes player XN8, player XO8 returns string
    local string s = (GetObjectName(('n0C8')))
    set s = XD8(s, "$dead", W[GetPlayerId(XN8)] + (KW4[GetPlayerId((XN8))]) + "|r")
    set s = XD8(s, "$killer", W[GetPlayerId(XO8)] + (KW4[GetPlayerId((XO8))]) + "|r")
    return s
endfunction
function SetPlayerCircleOfPower takes player p, unit u returns nothing
    call SetUnitOwner(u, p, false)
    set KR4[GetPlayerId(p)] = u
endfunction
function XP8 takes nothing returns nothing
    local integer i
    local integer XQ8 = 125
    static if MAX_TEAM_PLAYERS_GE_1 then
        call SetPlayerCircleOfPower(G8[1], KG4)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        call SetPlayerCircleOfPower(G8[2], KH4)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        call SetPlayerCircleOfPower(G8[3], KI4)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        call SetPlayerCircleOfPower(G8[4], KJ4)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        call SetPlayerCircleOfPower(G8[5], KK4)
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        call SetPlayerCircleOfPower(G8[6], circle_of_power_sent_6)
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        call SetPlayerCircleOfPower(G8[7], circle_of_power_sent_7)
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        call SetPlayerCircleOfPower(G8[8], circle_of_power_sent_8)
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        call SetPlayerCircleOfPower(G8[9], circle_of_power_sent_9)
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        call SetPlayerCircleOfPower(G8[10], circle_of_power_sent_10)
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        call SetPlayerCircleOfPower(G8[11], circle_of_power_sent_11)
    endif
    static if MAX_TEAM_PLAYERS_GE_1 then
        call SetPlayerCircleOfPower(N8[1], KM4)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        call SetPlayerCircleOfPower(N8[2], KN4)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        call SetPlayerCircleOfPower(N8[3], KO4)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        call SetPlayerCircleOfPower(N8[4], KP4)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        call SetPlayerCircleOfPower(N8[5], KQ4)
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        call SetPlayerCircleOfPower(N8[6], circle_of_power_scrg_6)
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        call SetPlayerCircleOfPower(N8[7], circle_of_power_scrg_7)
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        call SetPlayerCircleOfPower(N8[8], circle_of_power_scrg_8)
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        call SetPlayerCircleOfPower(N8[9], circle_of_power_scrg_9)
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        call SetPlayerCircleOfPower(N8[10], circle_of_power_scrg_10)
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        call SetPlayerCircleOfPower(N8[5], circle_of_power_scrg_11)
    endif
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if GetLocalPlayer() == G8[i] then
            call SetUnitVertexColor(KR4[GetPlayerId(Player(i))], 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KR4[GetPlayerId(Player(i))], 255, 255, 255, XQ8)
        endif
        if GetLocalPlayer() == N8[i] then
            call SetUnitVertexColor(KR4[GetPlayerId(Player(i))], 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KR4[GetPlayerId(Player(i))], 255, 255, 255, XQ8)
        endif
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set KS4[GetPlayerId(G8[i])] = GetUnitX(KR4[GetPlayerId(G8[i])])
        set KT4[GetPlayerId(G8[i])] = GetUnitY(KR4[GetPlayerId(G8[i])])
        set KS4[GetPlayerId(N8[i])] = GetUnitX(KR4[GetPlayerId(N8[i])])
        set KT4[GetPlayerId(N8[i])] = GetUnitY(KR4[GetPlayerId(N8[i])])
        set i = i + 1
    endloop
endfunction
function XR8 takes unit N28 returns boolean
    local integer ID = GetUnitTypeId(N28)
    return ID == 'n00V'or ID == 'n00W'or ID == 'n002'or ID == 'n001'or ID == 'n00X'or ID == 'nC38'or ID == 'n01K'or ID == 'n009'
endfunction
function jw takes nothing returns nothing
    if(GetOwningPlayer(GetEnumUnit()) == Player(PLAYER_SENTINEL_ORIGIN))then
        call SetUnitOwner(GetEnumUnit(), G8[0], false)
        if XR8(GetEnumUnit()) == false then
            call SetUnitColor(GetEnumUnit(), ConvertPlayerColor(PLAYER_SENTINEL_ORIGIN))
        endif
    else
        call SetUnitOwner(GetEnumUnit(), N8[0], false)
        if XR8(GetEnumUnit()) == false then
            call SetUnitColor(GetEnumUnit(), ConvertPlayerColor(PLAYER_SCOURGE_ORIGIN))
        endif
    endif
endfunction
function Np takes nothing returns nothing
    local group XS8 = OG8()
    call GroupEnumUnitsOfPlayer(XS8, Player(PLAYER_SENTINEL_ORIGIN), Condition(function KF8))
    call ForGroup(XS8, function jw)
    call GroupClear(XS8)
    call GroupEnumUnitsOfPlayer(XS8, Player(PLAYER_SCOURGE_ORIGIN), Condition(function KF8))
    call ForGroup(XS8, function jw)
    call OF8(XS8)
    set XS8 = null
endfunction
function XT8 takes player p returns nothing
    local integer i = 0
    local string jX = GetPlayerName(p)
    local integer XH8 = StringLength(jX)
    local integer jY = XH8
    loop
        exitwhen i == XH8
        if SubString(jX, i, i + 1) == "("and SubString(jX, i - 1, i) == " "then
            set jY = i - 1
            call SetPlayerName(p, SubString(jX, 0, jY))
            set i = XH8
        else
            set i = i + 1
        endif
    endloop
endfunction
function XU8 takes nothing returns nothing
    local integer XV8
    local integer XW8
    local integer T8
    local integer U8
    local integer x = 0
    local integer y = 0
    local integer i
    local location XX8 = GetRectCenter(ZD)
    local location XY8 = GetRectCenter(qr)
    if GetPlayerState(G8[0], PLAYER_STATE_OBSERVER) != 0 or GetPlayerState(N8[0], PLAYER_STATE_OBSERVER) != 0 then
        set L8 = true
        set G8[0] = Player(PLAYER_NEUTRAL_AGGRESSIVE + 1)
        set N8[0] = Player(PLAYER_NEUTRAL_AGGRESSIVE + 2)
        set KU4 = Player(PLAYER_SENTINEL_ORIGIN)
        set KV4 = Player(PLAYER_SCOURGE_ORIGIN)
        call SetAllyColorFilterState(0)
        loop
            exitwhen x > MAX_TEAM_PLAYERS
            call SetPlayerAlliance(Player(0), G8[x], ALLIANCE_PASSIVE, true)
            call SetPlayerAlliance(Player(0), G8[x], ALLIANCE_SHARED_SPELLS, true)
            call SetPlayerAlliance(Player(0), N8[x], ALLIANCE_PASSIVE, false)
            call SetPlayerAlliance(Player(0), N8[x], ALLIANCE_SHARED_SPELLS, false)
            set x = x + 1
        endloop
    endif
    set T8 = 1
    set U8 = MAX_TEAM_PLAYERS
    loop
        exitwhen T8 > U8
        call ForceAddPlayer(E8, G8[T8])
        call ForceAddPlayer(F8, N8[T8])
        call ForceAddPlayer(T9, G8[T8])
        call ForceAddPlayer(T9, N8[T8])
        set T8 = T8 + 1
    endloop
    if L8 then
        call ForceAddPlayer(T9, Player(PLAYER_SENTINEL_ORIGIN))
        call ForceAddPlayer(T9, Player(PLAYER_SCOURGE_ORIGIN))
    endif
    set x = 0
    set y = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        loop
            exitwhen y > MAX_TEAM_PLAYERS
            if(x != y)then
                call SetPlayerAlliance(G8[x], G8[y], ALLIANCE_PASSIVE, true)
                call SetPlayerAlliance(G8[x], G8[y], ALLIANCE_HELP_REQUEST, true)
                call SetPlayerAlliance(G8[x], G8[y], ALLIANCE_HELP_RESPONSE, true)
                call SetPlayerAlliance(G8[x], G8[y], ALLIANCE_SHARED_XP, true)
                call SetPlayerAlliance(G8[x], G8[y], ALLIANCE_SHARED_SPELLS, true)
                call SetPlayerAlliance(G8[x], G8[y], ALLIANCE_SHARED_VISION, true)
                call SetPlayerAlliance(G8[x], G8[y], ALLIANCE_SHARED_CONTROL, false)
                call SetPlayerAlliance(G8[x], G8[y], ALLIANCE_SHARED_ADVANCED_CONTROL, false)
                call SetPlayerAlliance(N8[x], N8[y], ALLIANCE_PASSIVE, true)
                call SetPlayerAlliance(N8[x], N8[y], ALLIANCE_HELP_REQUEST, true)
                call SetPlayerAlliance(N8[x], N8[y], ALLIANCE_HELP_RESPONSE, true)
                call SetPlayerAlliance(N8[x], N8[y], ALLIANCE_SHARED_XP, true)
                call SetPlayerAlliance(N8[x], N8[y], ALLIANCE_SHARED_SPELLS, true)
                call SetPlayerAlliance(N8[x], N8[y], ALLIANCE_SHARED_VISION, true)
                call SetPlayerAlliance(N8[x], N8[y], ALLIANCE_SHARED_CONTROL, false)
                call SetPlayerAlliance(N8[x], N8[y], ALLIANCE_SHARED_ADVANCED_CONTROL, false)
                call SetPlayerAlliance(G8[x], N8[y], ALLIANCE_PASSIVE, false)
                call SetPlayerAlliance(G8[x], N8[y], ALLIANCE_HELP_REQUEST, false)
                call SetPlayerAlliance(G8[x], N8[y], ALLIANCE_HELP_RESPONSE, false)
                call SetPlayerAlliance(G8[x], N8[y], ALLIANCE_SHARED_XP, false)
                call SetPlayerAlliance(G8[x], N8[y], ALLIANCE_SHARED_SPELLS, false)
                call SetPlayerAlliance(G8[x], N8[y], ALLIANCE_SHARED_VISION, false)
                call SetPlayerAlliance(G8[x], N8[y], ALLIANCE_SHARED_CONTROL, false)
                call SetPlayerAlliance(G8[x], N8[y], ALLIANCE_SHARED_ADVANCED_CONTROL, false)
                call SetPlayerAlliance(N8[x], G8[y], ALLIANCE_PASSIVE, false)
                call SetPlayerAlliance(N8[x], G8[y], ALLIANCE_HELP_REQUEST, false)
                call SetPlayerAlliance(N8[x], G8[y], ALLIANCE_HELP_RESPONSE, false)
                call SetPlayerAlliance(N8[x], G8[y], ALLIANCE_SHARED_XP, false)
                call SetPlayerAlliance(N8[x], G8[y], ALLIANCE_SHARED_SPELLS, false)
                call SetPlayerAlliance(N8[x], G8[y], ALLIANCE_SHARED_VISION, false)
                call SetPlayerAlliance(N8[x], G8[y], ALLIANCE_SHARED_CONTROL, false)
                call SetPlayerAlliance(N8[x], G8[y], ALLIANCE_SHARED_ADVANCED_CONTROL, false)
            endif
            set y = y + 1
        endloop
        set y = 0
        set x = x + 1
    endloop
    set x = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call SetPlayerTeam(G8[x], 0)
        call SetPlayerTeam(N8[x], 1)
        set x = x + 1
    endloop
    call SetPlayerName(G8[0], (GetObjectName('n03N')))
    call SetPlayerName(N8[0], (GetObjectName('n03O')))
    call SetPlayerName(O8, (GetObjectName('n0E8')))
    call XP8()
    if(G8[0] != Player(PLAYER_SENTINEL_ORIGIN)or N8[0] != Player(PLAYER_SCOURGE_ORIGIN))then
        call Np()
    endif
    call W68()
    set XW8 = q8(E8)
    set XV8 = q8(F8)
    set T8 = 1
    set U8 = MAX_TEAM_PLAYERS
    loop
        exitwhen T8 > U8
        if(KS8(G8[T8]))then
            call SetPlayerState(G8[T8], PLAYER_STATE_RESOURCE_GOLD, (4375 / XW8))
            call SetPlayerState(G8[T8], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        if(KS8(N8[T8]))then
            call SetPlayerState(N8[T8], PLAYER_STATE_RESOURCE_GOLD, (4375 / XV8))
            call SetPlayerState(N8[T8], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        set T8 = T8 + 1
    endloop
    set T8 = 0
    set U8 = MAX_TEAM_PLAYERS
    loop
        exitwhen T8 > U8
        call SetPlayerHandicapXP(G8[T8], 1)
        call SetPlayerHandicapXP(N8[T8], 1)
        call SetPlayerState(G8[T8], PLAYER_STATE_GIVES_BOUNTY, 1)
        call SetPlayerState(N8[T8], PLAYER_STATE_GIVES_BOUNTY, 1)
        set T8 = T8 + 1
    endloop
    call W08()
    call W38()
    set T8 = 1
    set U8 = MAX_TEAM_PLAYERS
    loop
        exitwhen T8 > U8
        call XT8(G8[T8])
        call XT8(N8[T8])
        set T8 = T8 + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        if KS8(G8[x])then
            call CreateUnitAtLoc(G8[x], 'n00C', XX8, bj_UNIT_FACING)
        endif
        if KS8(N8[x])then
            call CreateUnitAtLoc(N8[x], 'n00C', XY8, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(XX8)
    call RemoveLocation(XY8)
    set i = 0
    loop
        set KW4[i] = GetPlayerName(Player(i))
        set i = i + 1
        exitwhen i == bj_MAX_PLAYER_SLOTS
    endloop
    set XX8 = null
    set XY8 = null
endfunction
function XZ8 takes nothing returns nothing
    local integer i = 1
    set KC4 = 1
    set KA4[1] = 'Hvwd'
    set MF4[1] = 'h03Z'
    set KB4[1] = 'n09U'
    set ME4[1] = "ReplaceableTextures\\CommandButtons\\BTNAvengingWatcher.blp"
    call PH8(KA4[1], "stand 4")
    call PD8(KA4[1], 1.35, MF4[1])
    set i = i + 1
    set KA4[2] = 'Hmbr'
    set MF4[2] = 'h040'
    set KB4[2] = 'n09A'
    set ME4[2] = "ReplaceableTextures\\CommandButtons\\BTNAvatar.blp"
    call PH8(KA4[2], "attack slam alternate")
    call PD8(KA4[2], 1.3, MF4[2])
    set i = i + 1
    set KA4[3] = 'Emoo'
    set MF4[3] = 'h041'
    set KB4[3] = 'n099'
    set ME4[3] = "ReplaceableTextures\\CommandButtons\\BTNDryad.blp"
    call PH8(KA4[3], "stand 4")
    call PD8(KA4[3], 1, MF4[3])
    set i = i + 1
    set KA4[4] = 'O00P'
    set MF4[4] = 'h042'
    set KB4[4] = 'n098'
    set ME4[4] = "ReplaceableTextures\\CommandButtons\\BTNSeaElemental.blp"
    call PH8(KA4[4], "stand 2")
    call PD8(KA4[4], 1, MF4[4])
    set i = i + 1
    set KA4[5] = 'Hjai'
    set MF4[5] = 'h043'
    set KB4[5] = 'n09W'
    set ME4[5] = "ReplaceableTextures\\CommandButtons\\BTNJaina.blp"
    call PH8(KA4[5], "stand victory")
    call PD8(KA4[5], 1, MF4[5])
    set i = i + 1
    set KA4[6] = 'H001'
    set MF4[6] = 'h044'
    set KB4[6] = 'n096'
    set ME4[6] = "ReplaceableTextures\\CommandButtons\\BTNFelGuardBlue.tga"
    call PH8(KA4[6], "spell")
    call PD8(KA4[6], 1, MF4[6])
    set i = i + 1
    set KA4[7] = 'HC49'
    set MF4[7] = 'h045'
    set KB4[7] = 'n09P'
    set ME4[7] = "ReplaceableTextures\\CommandButtons\\BTNSeaWitch.blp"
    call PH8(KA4[7], "spell")
    call PD8(KA4[7], 1, MF4[7])
    set i = i + 1
    set KA4[8] = 'Otch'
    set MF4[8] = 'h046'
    set KB4[8] = 'n09D'
    set ME4[8] = "ReplaceableTextures\\CommandButtons\\BTNTauren.blp"
    call PH8(KA4[8], "attack slam")
    call PD8(KA4[8], 1.1, MF4[8])
    set i = i + 1
    set KA4[9] = 'HC92'
    set MF4[9] = 'h047'
    set KB4[9] = 'n09X'
    set ME4[9] = "ReplaceableTextures\\CommandButtons\\BTNSatyrTrickster.blp"
    call PH8(KA4[9], "stand 4")
    call PD8(KA4[9], 1, MF4[9])
    set i = i + 1
    set KA4[10] = 'N01O'
    set MF4[10] = 'h048'
    set KB4[10] = 'n09Y'
    set ME4[10] = "ReplaceableTextures\\CommandButtons\\BTNDruidOfTheClaw.blp"
    call PH8(KA4[10], "spell slam")
    call PD8(KA4[10], 1, MF4[10])
    call PD8('n013', 1.1, MF4[10])
    call PD8('n014', 1.2, MF4[10])
    call PD8('n015', 1.3, MF4[10])
    call PD8('n004', 1, MF4[10])
    call PD8('n018', 1.1, MF4[10])
    call PD8('n01C', 1.2, MF4[10])
    call PD8('n01G', 1.3, MF4[10])
    set i = i + 1
    set KA4[11] = 'H004'
    set MF4[11] = 'h049'
    set KB4[11] = 'n09Z'
    set ME4[11] = "ReplaceableTextures\\CommandButtons\\BTNSorceress.blp"
    call PH8(KA4[11], "stand victory")
    call PD8(KA4[11], 1.2, MF4[11])
    set i = i + 1
    set KA4[12] = 'Nbbc'
    set MF4[12] = 'h04A'
    set KB4[12] = 'n0A5'
    set ME4[12] = "ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"
    call PH8(KA4[12], "stand victory")
    call PD8(KA4[12], 1, MF4[12])
    set i = i + 1
    set KA4[13] = 'N01A'
    set MF4[13] = 'h04B'
    set KB4[13] = 'n097'
    set ME4[13] = "ReplaceableTextures\\CommandButtons\\BTNSpellBreaker.blp"
    call PH8(KA4[13], "stand ready")
    call PD8(KA4[13], 1, MF4[13])
    set i = i + 1
    set KA4[14] = 'Hamg'
    set MF4[14] = 'h04C'
    set KB4[14] = 'n09F'
    set ME4[14] = "ReplaceableTextures\\CommandButtons\\BTNTreant.blp"
    call PH8(KA4[14], "stand 3")
    call PD8(KA4[14], .72, MF4[14])
    set i = i + 1
    set KA4[15] = 'O015'
    set MF4[15] = 'h07P'
    set KB4[15] = 'n0GC'
    set ME4[15] = "ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"
    call PH8(KA4[15], "stand victory")
    call PD8(KA4[15], 1.1, MF4[15])
    set i = i + 1
    set KA4[16] = 'Hblm'
    set MF4[16] = 'h04E'
    set KB4[16] = 'n09G'
    set ME4[16] = "ReplaceableTextures\\CommandButtons\\BTNHeroArchMage.blp"
    call PH8(KA4[16], "stand victory")
    call PD8(KA4[16], 1.2, MF4[16])
    call PD8('H06X', 1.5, MF4[16])
    call PD8('H06Y', 1.5, MF4[16])
    call PD8('H06W', 1.5, MF4[16])
    set i = i + 1
    set KA4[17] = 'Huth'
    set MF4[17] = 'h04F'
    set KB4[17] = 'n09V'
    set ME4[17] = "ReplaceableTextures\\CommandButtons\\BTNFurbolgTracker.blp"
    call PH8(KA4[17], "attack spell")
    call PD8(KA4[17], 1.2, MF4[17])
    set i = i + 1
    set KA4[18] = 'Hmkg'
    set MF4[18] = 'h04G'
    set KB4[18] = 'n0A1'
    set ME4[18] = "ReplaceableTextures\\CommandButtons\\BTNOgreMagi.blp"
    call PH8(KA4[18], "sleep")
    call PD8(KA4[18], 1.4, MF4[18])
    set i = i + 1
    set KA4[19] = 'Ntin'
    set MF4[19] = 'h04H'
    set KB4[19] = 'n0AA'
    set ME4[19] = "ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp"
    call PH8(KA4[19], "stand 2")
    call PD8(KA4[19], 1, MF4[19])
    set i = i + 1
    set KA4[20] = 'Emns'
    set MF4[20] = 'h04I'
    set KB4[20] = 'n0A4'
    set ME4[20] = "ReplaceableTextures\\CommandButtons\\BTNFurion.blp"
    call PH8(KA4[20], "spell")
    call PD8(KA4[20], 1.2, MF4[20])
    set i = i + 1
    set KA4[21] = 'Ogrh'
    set MF4[21] = 'h04J'
    set KB4[21] = 'n0A3'
    set ME4[21] = "ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"
    call PH8(KA4[21], "stand victory")
    call PD8(KA4[21], 1, MF4[21])
    set i = i + 1
    set KA4[22] = 'Ucrl'
    set MF4[22] = 'h04K'
    set KB4[22] = 'n0A7'
    set ME4[22] = "ReplaceableTextures\\CommandButtons\\BTNMountainGiant.blp"
    call PH8(KA4[22], "spell")
    call PD8(KA4[22], .5, MF4[22])
    set i = i + 1
    set KA4[23] = 'H00K'
    set MF4[23] = 'h04L'
    set KB4[23] = 'n0A9'
    set ME4[23] = "ReplaceableTextures\\CommandButtons\\BTNGoblinSapper.blp"
    call PH8(KA4[23], "stand 2")
    call PD8(KA4[23], 1, MF4[23])
    set i = i + 1
    set KA4[24] = 'H00A'
    set MF4[24] = 'h04M'
    set KB4[24] = 'n0AB'
    set ME4[24] = "ReplaceableTextures\\CommandButtons\\BTNHeroFarseer.blp"
    call PH8(KA4[24], "spell chain lightning")
    call PD8(KA4[24], 1, MF4[24])
    set i = i + 1
    set KA4[25] = 'E005'
    set MF4[25] = 'h04N'
    set KB4[25] = 'n0BE'
    set ME4[25] = "ReplaceableTextures\\CommandButtons\\BTNHuntress.blp"
    call PH8(KA4[25], "spell")
    call PD8(KA4[25], 1, MF4[25])
    set i = i + 1
    set KA4[26] = 'Usyl'
    set MF4[26] = 'h04O'
    set KB4[26] = 'n0BD'
    set ME4[26] = "ReplaceableTextures\\CommandButtons\\BTNRifleman.blp"
    call PH8(KA4[26], "spell")
    call PD8(KA4[26], 1.1, MF4[26])
    set i = i + 1
    set KA4[27] = 'N016'
    set MF4[27] = 'h04P'
    set KB4[27] = 'n0A8'
    set ME4[27] = "ReplaceableTextures\\CommandButtons\\BTNForestTroll.blp"
    call PH8(KA4[27], "stand 3")
    call PD8(KA4[27], 1.25, MF4[27])
    call PD8('N02B', 1.25, MF4[27])
    call PD8('N017', 1.25, MF4[27])
    set i = i + 1
    set KA4[28] = 'Orkn'
    set MF4[28] = 'h057'
    set KB4[28] = 'n094'
    set ME4[28] = "ReplaceableTextures\\CommandButtons\\BTNShadowHunter.blp"
    call PH8(KA4[28], "stand victory")
    call PD8(KA4[28], 1, MF4[28])
    set i = i + 1
    set KA4[29] = 'O01F'
    set MF4[29] = 'h0CI'
    set KB4[29] = 'n0KS'
    set ME4[29] = "ReplaceableTextures\\CommandButtons\\BTNSpell_Frost_Wisp.blp"
    call PH8(KA4[29], "stand 3")
    call PD8(KA4[29], 1.3, MF4[29])
    set i = i + 1
    set KA4[30] = 'Npbm'
    set MF4[30] = 'h053'
    set KB4[30] = 'n0AO'
    set ME4[30] = "ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"
    call PH8(KA4[30], "stand ready")
    call PD8(KA4[30], 1, MF4[30])
    set i = i + 1
    set KA4[31] = 'H000'
    set MF4[31] = 'h04X'
    set KB4[31] = 'n0AN'
    set ME4[31] = "ReplaceableTextures\\CommandButtons\\BTNCentaurKhan.blp"
    call PH8(KA4[31], "stand 3")
    call PD8(KA4[31], 1.75, MF4[31])
    set i = i + 1
    set KA4[32] = 'Naka'
    set MF4[32] = 'h052'
    set KB4[32] = 'n0AM'
    set ME4[32] = "ReplaceableTextures\\CommandButtons\\BTNakama.blp"
    call PH8(KA4[32], "stand var4")
    call PD8(KA4[32], 1.2, MF4[32])
    set i = i + 1
    set KA4[33] = 'Hlgr'
    set MF4[33] = 'h04V'
    set KB4[33] = 'n0AQ'
    set ME4[33] = "ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp"
    call PH8(KA4[33], "stand victory")
    call PD8(KA4[33], 1.35, MF4[33])
    call PD8('H00F', 1, MF4[33])
    call PD8('H00G', 1, MF4[33])
    call PD8('H00E', 1, MF4[33])
    call O78('H00G', 255, 255, 200)
    call O78('H00F', 255, 255, 200)
    call O78('H00G', 255, 200, 200)
    set i = i + 1
    set KA4[34] = 'Edem'
    set MF4[34] = 'h04T'
    set KB4[34] = 'n0AR'
    set ME4[34] = "ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp"
    call PH8(KA4[34], "stand channel")
    call PD8(KA4[34], 1, MF4[34])
    set i = i + 1
    set KA4[35] = 'Nbrn'
    set MF4[35] = 'h055'
    set KB4[35] = 'n0AL'
    set ME4[35] = "ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.tga"
    call PH8(KA4[35], "spell")
    call PD8(KA4[35], 1, MF4[35])
    set i = i + 1
    set KA4[36] = 'Harf'
    set MF4[36] = 'h04Z'
    set KB4[36] = 'n0AS'
    set ME4[36] = "ReplaceableTextures\\CommandButtons\\BTNArthas.blp"
    call PH8(KA4[36], "stand victory")
    call PD8(KA4[36], 1.1, MF4[36])
    set i = i + 1
    set KA4[37] = 'H00D'
    set MF4[37] = 'h04S'
    set KB4[37] = 'n0AK'
    set ME4[37] = "ReplaceableTextures\\CommandButtons\\BTNBeastMaster.blp"
    call PH8(KA4[37], "spell slam")
    call PD8(KA4[37], 1, MF4[37])
    set i = i + 1
    set KA4[38] = 'E00P'
    set MF4[38] = 'h04R'
    set KB4[38] = 'n0AJ'
    set ME4[38] = "ReplaceableTextures\\CommandButtons\\BTNChimaera.blp"
    call PH8(KA4[38], "stand 3")
    call PD8(KA4[38], 1, MF4[38])
    set i = i + 1
    set KA4[39] = 'N01I'
    set MF4[39] = 'h054'
    set KB4[39] = 'n0AI'
    set ME4[39] = "ReplaceableTextures\\CommandButtons\\BTNHeroAlchemist.blp"
    call PH8(KA4[39], "stand 2")
    call PD8(KA4[39], 1, MF4[39])
    call PD8('N01J', 1, MF4[39])
    call PD8('N01H', 1, MF4[39])
    call PD8('N01T', 1, MF4[39])
    set i = i + 1
    set KA4[40] = 'N01V'
    set MF4[40] = 'h04W'
    set KB4[40] = 'n0AH'
    set ME4[40] = "ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp"
    call PH8(KA4[40], "stand ready")
    call PD8(KA4[40], 1, MF4[40])
    set i = i + 1
    set KA4[41] = 'H00S'
    set MF4[41] = 'h04Q'
    set KB4[41] = 'n0AT'
    set ME4[41] = "ReplaceableTextures\\CommandButtons\\BTNStorm.blp"
    call PH8(KA4[41], "spell")
    call PD8(KA4[41], 1, MF4[41])
    set i = i + 1
    set KA4[42] = 'H00Q'
    set MF4[42] = 'h04Y'
    set KB4[42] = 'n0AG'
    set ME4[42] = "ReplaceableTextures\\CommandButtons\\BTNHeadHunterBerserker.blp"
    call PH8(KA4[42], "stand alternate 3")
    call PD8(KA4[42], 1.15, MF4[42])
    set i = i + 1
    set KA4[43] = 'E01Y'
    set MF4[43] = 'h058'
    set KB4[43] = 'n0AF'
    set ME4[43] = "ReplaceableTextures\\CommandButtons\\BTNAssassin.blp"
    call PH8(KA4[43], "stand victory")
    call PD8(KA4[43], 1.2, MF4[43])
    set i = i + 1
    set KA4[44] = 'N00B'
    set MF4[44] = 'h050'
    set KB4[44] = 'n0AE'
    set ME4[44] = "ReplaceableTextures\\CommandButtons\\BTNFaerieDragon.blp"
    call PH8(KA4[44], "attack spell")
    call PD8(KA4[44], 1.1, MF4[44])
    set i = i + 1
    set KA4[45] = 'H00T'
    set MF4[45] = 'h051'
    set KB4[45] = 'n0AU'
    set ME4[45] = "ReplaceableTextures\\CommandButtons\\BTNClockWerkGoblin.blp"
    call PH8(KA4[45], "Birth")
    call PD8(KA4[45], 1.5, MF4[45])
    set i = i + 1
    set KA4[46] = 'H06S'
    set MF4[46] = 'h06T'
    set KB4[46] = 'n0EE'
    set ME4[46] = "ReplaceableTextures\\CommandButtons\\BTNProudmoore.blp"
    call PH8(KA4[46], "stand victory")
    call PD8(KA4[46], 1.1, MF4[46])
    set i = i + 1
    set KA4[47] = 'N0EG'
    set MF4[47] = 'h07A'
    set KB4[47] = 'n0EH'
    set ME4[47] = "ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp"
    call PH8(KA4[47], "stand victory")
    call PD8(KA4[47], 1.2, MF4[47])
    set i = i + 1
    set KA4[48] = 'E02N'
    set MF4[48] = 'h0CC'
    set KB4[48] = 'n0KN'
    set ME4[48] = "ReplaceableTextures\\CommandButtons\\BTNFlyingMachine.blp"
    call PH8(KA4[48], "stand 3")
    call PD8(KA4[48], 1.1, MF4[48])
    call PD8('E02O', 1.1, MF4[48])
    set i = i + 1
    set KA4[49] = 'E02J'
    set MF4[49] = 'h0CD'
    set KB4[49] = 'n0KR'
    set ME4[49] = "ReplaceableTextures\\CommandButtons\\BTNThrall.blp"
    call PH8(KA4[49], "stand 3")
    call PD8(KA4[49], 1.1, MF4[49])
    set i = i + 1
    set KA4[50] = 'E02I'
    set MF4[50] = 'h0C9'
    set KB4[50] = 'n0KK'
    set ME4[50] = "ReplaceableTextures\\CommandButtons\\BTNTuskaarBrown.blp"
    call PH8(KA4[50], "stand 3")
    call PD8(KA4[50], 1., MF4[50])
    set i = i + 1
    set KA4[51] = 'E02F'
    set MF4[51] = 'h0C8'
    set KB4[51] = 'n0KM'
    set ME4[51] = "ReplaceableTextures\\CommandButtons\\BTNPhoenix.blp"
    call PH8(KA4[51], "stand 3")
    call PD8(KA4[51], 1.05, MF4[51])
    set i = i + 1
    set KA4[52] = 'H008'
    set MF4[52] = 'h04U'
    set KB4[52] = 'n0AC'
    set ME4[52] = "ReplaceableTextures\\CommandButtons\\BTNRazorback.blp"
    call PH8(KA4[52], "stand")
    call PD8(KA4[52], 1.65, MF4[52])
    set i = i + 1
    set KA4[53] = 'E02X'
    set MF4[53] = 'h0CT'
    set KB4[53] = 'n0LK'
    set ME4[53] = "ReplaceableTextures\\CommandButtons\\BTNMedivh.blp"
    call PH8(KA4[53], "stand 3")
    call PD8(KA4[53], 1.15, MF4[53])
    set i = i + 1
    set KA4[54] = 'N0M0'
    set MF4[54] = 'h0DG'
    set KB4[54] = 'n0M1'
    set ME4[54] = "ReplaceableTextures\\CommandButtons\\BTNFireBrewmaster.blp"
    call PH8(KA4[54], "stand 3")
    call PD8(KA4[54], 1, MF4[54])
    set i = i + 1
    set KA4[55] = 'E02K'
    set MF4[55] = 'h0CA'
    set KB4[55] = 'n0KJ'
    set ME4[55] = "ReplaceableTextures\\CommandButtons\\BTNGarithos.blp"
    call PH8(KA4[55], "stand 3")
    call PD8(KA4[55], 1.3, MF4[55])
    set i = i + 1
    set KA4[56] = 'H0DO'
    set MF4[56] = 'h0DH'
    set KB4[56] = 'n0M6'
    set ME4[56] = "ReplaceableTextures\\CommandButtons\\BTNDragonHawk.blp"
    call PH8(KA4[56], "stand 3")
    call PD8(KA4[56], 1.1, MF4[56])
    set i = i + 1
    set KA4[57] = 'E032'
    set MF4[57] = 'h0EB'
    set KB4[57] = 'n0ME'
    set ME4[57] = "ReplaceableTextures\\CommandButtons\\BTNJunkGolem.blp"
    call PH8(KA4[57], "stand 3")
    call PD8(KA4[57], 1, MF4[57])
    set i = i + 1
    set KA4[58] = 'N0MU'
    set MF4[58] = 'h0EK'
    set KB4[58] = 'n0MV'
    set ME4[58] = "ReplaceableTextures\\CommandButtons\\BTNEarthBrewmaster.blp"
    call PH8(KA4[58], "stand 3")
    call PD8(KA4[58], 1, MF4[58])
    set i = i + 1
    set KA4[59] = 'N0MD'
    set MF4[59] = 'h0EP'
    set KB4[59] = 'n0MG'
    set ME4[59] = "ReplaceableTextures\\CommandButtons\\BTNPriest.blp"
    call PH8(KA4[59], "stand victory")
    call PD8(KA4[59], 1.25, MF4[59])
    set i = i + 1
    set K34 = 59
    set i = 60
    set K64 = 60
    set KA4[60] = 'Ewar'
    set MF4[60] = 'h05J'
    set KB4[60] = 'n0B5'
    set ME4[60] = "ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp"
    call PH8(KA4[60], "spell slam")
    call PD8(KA4[60], 1, MF4[60])
    set i = i + 1
    set KA4[61] = 'H00V'
    set MF4[61] = 'h05K'
    set KB4[61] = 'n0B6'
    set ME4[61] = "ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"
    call PH8(KA4[61], "stand ready")
    call PD8(KA4[61], 1, MF4[61])
    call PD8('H08D', 1, MF4[61])
    call PD8('H08C', 1, MF4[61])
    call PD8('H084', 1, MF4[61])
    call PD8('H08B', 1, MF4[61])
    set i = i + 1
    set KA4[62] = 'Udre'
    set MF4[62] = 'h05L'
    set KB4[62] = 'n0B7'
    set ME4[62] = "ReplaceableTextures\\CommandButtons\\BTNTichondrius.blp"
    call PH8(KA4[62], "spell slam")
    call PD8(KA4[62], 1, MF4[62])
    set i = i + 1
    set KA4[63] = 'NC00'
    set MF4[63] = 'h05M'
    set KB4[63] = 'n0C0'
    set ME4[63] = "ReplaceableTextures\\CommandButtons\\BTNSkeletonArcher.tga"
    call PH8(KA4[63], "stand victory")
    call PD8(KA4[63], 1.8, MF4[63])
    call O78(KA4[63], 100, 125, 100)
    set i = i + 1
    set KA4[64] = 'UC42'
    set MF4[64] = 'h05N'
    set KB4[64] = 'n0BV'
    set ME4[64] = "ReplaceableTextures\\CommandButtons\\BTNDoomGuard.blp"
    call PH8(KA4[64], "stand victory")
    call PD8(KA4[64], 1.1, MF4[64])
    set i = i + 1
    set KA4[65] = 'U000'
    set MF4[65] = 'h05O'
    set KB4[65] = 'n0BU'
    set ME4[65] = "ReplaceableTextures\\CommandButtons\\BTNHeroCryptLord.tga"
    call PH8(KA4[65], "spell throw")
    call PD8(KA4[65], .8, MF4[65])
    set i = i + 1
    set KA4[66] = 'UC91'
    set MF4[66] = 'h05P'
    set KB4[66] = 'n0C1'
    set ME4[66] = "ReplaceableTextures\\CommandButtons\\BTNNagaMyrmidon.tga"
    call PH8(KA4[66], "spell")
    call PD8(KA4[66], 1, MF4[66])
    call O78(KA4[66], 175, 75, 200)
    set i = i + 1
    set KA4[67] = 'UC01'
    set MF4[67] = 'h05Q'
    set KB4[67] = 'n0C2'
    set ME4[67] = "ReplaceableTextures\\CommandButtons\\BTNBlueDemoness.tga"
    call PH8(KA4[67], "spell slam")
    call PD8(KA4[67], 1.3, MF4[67])
    set i = i + 1
    set KA4[68] = 'E004'
    set MF4[68] = 'h05R'
    set KB4[68] = 'n0BW'
    set ME4[68] = "ReplaceableTextures\\CommandButtons\\BTNSkeletonMage.blp"
    call PH8(KA4[68], "stand victory")
    call PD8(KA4[68], 1, MF4[68])
    set i = i + 1
    set KA4[69] = 'EC45'
    set MF4[69] = 'h05S'
    set KB4[69] = 'n0BS'
    set ME4[69] = "ReplaceableTextures\\CommandButtons\\BTNFacelessOne.blp"
    call PH8(KA4[69], "spell slam")
    call PD8(KA4[69], 1.3, MF4[69])
    call O78(KA4[69], 0, 255, 150)
    set i = i + 1
    set KA4[70] = 'EC77'
    set MF4[70] = 'h05T'
    set KB4[70] = 'n0BR'
    set ME4[70] = "ReplaceableTextures\\CommandButtons\\BTNNetherDragon.blp"
    call PH8(KA4[70], "spell slam")
    call PD8(KA4[70], 1.2, MF4[70])
    call O78(KA4[70], 75, 255, 25)
    set i = i + 1
    set KA4[71] = 'E002'
    set MF4[71] = 'h05U'
    set KB4[71] = 'n0BY'
    set ME4[71] = "ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
    call PH8(KA4[71], "spell")
    call PD8(KA4[71], 1, MF4[71])
    set i = i + 1
    set KA4[72] = 'U00C'
    set MF4[72] = 'h05V'
    set KB4[72] = 'n0BQ'
    set ME4[72] = "ReplaceableTextures\\CommandButtons\\BTNGhoul.blp"
    call PH8(KA4[72], "victory")
    call PD8(KA4[72], 1.5, MF4[72])
    call O78(KA4[72], 100, 100, 100)
    set i = i + 1
    set KA4[73] = 'H00H'
    set MF4[73] = 'h05W'
    set KB4[73] = 'n0BT'
    set ME4[73] = "ReplaceableTextures\\CommandButtons\\BTNPugna.BLP"
    call PH8(KA4[73], "stand ready")
    call PD8(KA4[73], 1, MF4[73])
    set i = i + 1
    set KA4[74] = 'Ofar'
    set MF4[74] = 'h05X'
    set KB4[74] = 'n0BP'
    set ME4[74] = "ReplaceableTextures\\CommandButtons\\BTNSeaGiantGreen.blp"
    call PH8(KA4[74], "attack slam")
    call PD8(KA4[74], 1, MF4[74])
    set i = i + 1
    set KA4[75] = 'Oshd'
    set MF4[75] = 'h05Y'
    set KB4[75] = 'n0BO'
    set ME4[75] = "ReplaceableTextures\\CommandButtons\\BTNVoidWalker.blp"
    call PH8(KA4[75], "spell")
    call PD8(KA4[75], 1.5, MF4[75])
    call O78(KA4[75], 150, 0, 150)
    set i = i + 1
    set KA4[76] = 'U00E'
    set MF4[76] = 'h05Z'
    set KB4[76] = 'n0B8'
    set ME4[76] = "ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp"
    call PH8(KA4[76], "stand victory")
    call PD8(KA4[76], 1.3, MF4[76])
    set i = i + 1
    set KA4[77] = 'U00F'
    set MF4[77] = 'h060'
    set KB4[77] = 'n0C5'
    set ME4[77] = "ReplaceableTextures\\CommandButtons\\BTNAbomination.blp"
    call PH8(KA4[77], "stand 3")
    call PD8(KA4[77], 1., MF4[77])
    set i = i + 1
    set KA4[78] = 'O00J'
    set MF4[78] = 'h061'
    set KB4[78] = 'n0C3'
    set ME4[78] = "ReplaceableTextures\\CommandButtons\\BTNSpiritWalker.blp"
    call PH8(KA4[78], "stand ready")
    call PD8(KA4[78], 1.2, MF4[78])
    set i = i + 1
    set KA4[79] = 'Ubal'
    set MF4[79] = 'h062'
    set KB4[79] = 'n0BX'
    set ME4[79] = "ReplaceableTextures\\CommandButtons\\BTNNerubianQueen.blp"
    call PH8(KA4[79], "attack")
    call PD8(KA4[79], 1., MF4[79])
    call O78(KA4[79], 255, 200, 200)
    set i = i + 1
    set KA4[80] = 'Nfir'
    set MF4[80] = 'h063'
    set KB4[80] = 'n0BN'
    set ME4[80] = "ReplaceableTextures\\CommandButtons\\BTNShade.blp"
    call PH8(KA4[80], "stand channel")
    call PD8(KA4[80], 1.15, MF4[80])
    call O78(KA4[80], 0, 0, 0)
    set i = i + 1
    set KA4[81] = 'U00K'
    set MF4[81] = 'h064'
    set KB4[81] = 'n0C4'
    set ME4[81] = "ReplaceableTextures\\CommandButtons\\BTNArachnathidGreen.blp"
    call PH8(KA4[81], "attack 3")
    call PD8(KA4[81], 1, MF4[81])
    set i = i + 1
    set KA4[82] = 'Opgh'
    set MF4[82] = 'h065'
    set KB4[82] = 'n0BM'
    set ME4[82] = "ReplaceableTextures\\CommandButtons\\BTNChaosGrom.blp"
    call PH8(KA4[82], "stand victory")
    call PD8(KA4[82], 1, MF4[82])
    set i = i + 1
    set KA4[83] = 'Hvsh'
    set MF4[83] = 'h066'
    set KB4[83] = 'n0BZ'
    set ME4[83] = "ReplaceableTextures\\CommandButtons\\BTNShaman.blp"
    call PH8(KA4[83], "stand victory")
    call PD8(KA4[83], 1.25, MF4[83])
    call O78(KA4[83], 250, 150, 150)
    set i = i + 1
    set KA4[84] = 'Udea'
    set MF4[84] = 'h067'
    set KB4[84] = 'n0BL'
    set ME4[84] = "ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp"
    call PH8(KA4[84], "stand ready")
    call PD8(KA4[84], 1, MF4[84])
    set i = i + 1
    set KA4[85] = 'E01B'
    set MF4[85] = 'h068'
    set KB4[85] = 'n0B9'
    set ME4[85] = "ReplaceableTextures\\CommandButtons\\BTNvengeanceincarnate.blp"
    call PH8(KA4[85], "stand ready")
    call PD8(KA4[85], .8, MF4[85])
    set i = i + 1
    set KA4[86] = 'E01A'
    set MF4[86] = 'h069'
    set KB4[86] = 'n0BK'
    set ME4[86] = "ReplaceableTextures\\CommandButtons\\BTNWitchDoctor.blp"
    call PH8(KA4[86], "stand victory")
    call PD8(KA4[86], 1.25, MF4[86])
    set i = i + 1
    set KA4[87] = 'U00P'
    set MF4[87] = 'h06A'
    set KB4[87] = 'n0BA'
    set ME4[87] = "ReplaceableTextures\\CommandButtons\\BTNDestroyer.blp"
    call PH8(KA4[87], "stand alternate 2")
    call PD8(KA4[87], .85, MF4[87])
    set i = i + 1
    set KA4[88] = 'E01C'
    set MF4[88] = 'h06C'
    set KB4[88] = 'n0BB'
    set ME4[88] = "ReplaceableTextures\\CommandButtons\\BTNGuldan.blp"
    call PH8(KA4[88], "spell")
    call PD8(KA4[88], 1.5, MF4[88])
    set i = i + 1
    set KA4[89] = 'H00I'
    set MF4[89] = 'h06D'
    set KB4[89] = 'n0BJ'
    set ME4[89] = "ReplaceableTextures\\CommandButtons\\BTNKoboldGeomancer.blp"
    call PH8(KA4[89], "spell")
    call PD8(KA4[89], 1.4, MF4[89])
    call PD8('H00J', 1.4, MF4[89])
    set i = i + 1
    set KA4[90] = 'N01W'
    set MF4[90] = 'h06E'
    set KB4[90] = 'n0BI'
    set ME4[90] = "ReplaceableTextures\\CommandButtons\\BTNDarkTrollShadowPriest.blp"
    call PH8(KA4[90], "spell")
    call PD8(KA4[90], 1.2, MF4[90])
    set i = i + 1
    set KA4[91] = 'N00R'
    set MF4[91] = 'h06F'
    set KB4[91] = 'n0BC'
    set ME4[91] = "ReplaceableTextures\\CommandButtons\\BTNPitLord.blp"
    call PH8(KA4[91], "stand channel")
    call PD8(KA4[91], .95, MF4[91])
    set i = i + 1
    set KA4[92] = 'H00R'
    set MF4[92] = 'h06G'
    set KB4[92] = 'n0BH'
    set ME4[92] = "ReplaceableTextures\\CommandButtons\\BTNZombie.blp"
    call PH8(KA4[92], "stand")
    call PD8(KA4[92], 2, MF4[92])
    call PD8('H07I', 1.3, MF4[92])
    set i = i + 1
    set KA4[93] = 'H00N'
    set MF4[93] = 'h06H'
    set KB4[93] = 'n0BG'
    set ME4[93] = "ReplaceableTextures\\CommandButtons\\BTNDranaiMage.blp"
    call PH8(KA4[93], "spell")
    call PD8(KA4[93], 1.15, MF4[93])
    set i = i + 1
    set KA4[94] = 'H00U'
    set MF4[94] = 'h06B'
    set KB4[94] = 'n0BF'
    set ME4[94] = "ReplaceableTextures\\CommandButtons\\BTNHeroBloodElfPrince.blp"
    call PH8(KA4[94], "spell")
    call PD8(KA4[94], 1.25, MF4[94])
    set i = i + 1
    set KA4[95] = 'Uktl'
    set MF4[95] = 'h04D'
    set KB4[95] = 'n0A6'
    set ME4[95] = "ReplaceableTextures\\CommandButtons\\BTNSpell_Shadow_SummonVoidWalker.blp"
    call PH8(KA4[95], "stand")
    call PD8(KA4[95], 1.5, MF4[95])
    set i = i + 1
    set KA4[96] = 'O016'
    set MF4[96] = 'h07R'
    set KB4[96] = 'n0G9'
    set ME4[96] = "ReplaceableTextures\\CommandButtons\\BTNTrollBatRider.blp"
    call PH8(KA4[96], "stand")
    call PD8(KA4[96], 1.2, MF4[96])
    call PD8('O017', 1.2, MF4[96])
    set i = i + 1
    set KA4[97] = 'N0HP'
    set MF4[97] = 'h0B0'
    set KB4[97] = 'n0HR'
    set ME4[97] = "ReplaceableTextures\\CommandButtons\\BTNIcyGhost.blp"
    call PH8(KA4[97], "stand")
    call PD8(KA4[97], 1.17, MF4[97])
    call PD8('N0HP', 1.2, MF4[97])
    set i = i + 1
    set KA4[98] = 'H071'
    set MF4[98] = 'h072'
    set KB4[98] = 'n0EF'
    set ME4[98] = "ReplaceableTextures\\CommandButtons\\BTNMurgulShadowCaster.blp"
    call PH8(KA4[98], "stand 3")
    call PD8(KA4[98], 1.25, MF4[98])
    set i = i + 1
    set KA4[99] = 'Eevi'
    set MF4[99] = 'h056'
    set KB4[99] = 'n0AV'
    set ME4[99] = "ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"
    call PH8(KA4[99], "spell channel")
    call PD8(KA4[99], 1, MF4[99])
    call PD8('Eevm', 1, MF4[99])
    call PD8('E02V', 1, MF4[99])
    call PD8('E02W', 1, MF4[99])
    call PD8('E02U', 1, MF4[99])
    set i = i + 1
    set KA4[100] = 'Ekee'
    set MF4[100] = 'h059'
    set KB4[100] = 'n0AW'
    set ME4[100] = "ReplaceableTextures\\CommandButtons\\BTNKeeperGhostBlue.blp"
    call PH8(KA4[100], "stand victory")
    call PD8(KA4[100], 1, MF4[100])
    set i = i + 1
    set KA4[101] = 'E02H'
    set MF4[101] = 'h0CB'
    set KB4[101] = 'n0KL'
    set ME4[101] = "ReplaceableTextures\\CommandButtons\\BTNArchimonde.blp"
    call PH8(KA4[101], "stand 3")
    call PD8(KA4[101], 1.25, MF4[101])
    set i = i + 1
    set KA4[102] = 'Ulic'
    set MF4[102] = 'h05A'
    set KB4[102] = 'n0AX'
    set ME4[102] = "ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp"
    call PH8(KA4[102], "stand channel")
    call PD8(KA4[102], 1.3, MF4[51])
    set i = i + 1
    set KA4[103] = 'UC76'
    set MF4[103] = 'h05B'
    set KB4[103] = 'n0AY'
    set ME4[103] = "ReplaceableTextures\\CommandButtons\\BTNBanshee.blp"
    call PH8(KA4[103], "spell wail")
    call PD8(KA4[103], 1.35, MF4[103])
    set i = i + 1
    set KA4[104] = 'UC18'
    set MF4[104] = 'h05C'
    set KB4[104] = 'n0AZ'
    set ME4[104] = "ReplaceableTextures\\CommandButtons\\BTNLion.BLP"
    call PH8(KA4[104], "spell callstorm")
    call PD8(KA4[104], 1.3, MF4[104])
    call O78(KA4[104], 50, 100, 255)
    set i = i + 1
    set KA4[105] = 'EC57'
    set MF4[105] = 'h05D'
    set KB4[105] = 'n0B0'
    set ME4[105] = "ReplaceableTextures\\CommandButtons\\BTNHydralisk.blp"
    call PH8(KA4[105], "attack")
    call PD8(KA4[105], 1., MF4[105])
    call O78(KA4[105], 150, 200, 255)
    set i = i + 1
    set KA4[106] = 'UC11'
    set MF4[106] = 'h05E'
    set KB4[106] = 'n0A2'
    set ME4[106] = "ReplaceableTextures\\CommandButtons\\BTNBlueMagnataur.tga"
    call PH8(KA4[106], "stand channel")
    call PD8(KA4[106], 1, MF4[106])
    call O78(KA4[106], 150, 150, 100)
    set i = i + 1
    set KA4[107] = 'UC60'
    set MF4[107] = 'h05F'
    set KB4[107] = 'n0B1'
    set ME4[107] = "ReplaceableTextures\\CommandButtons\\BTNSpiritWyvern.blp"
    call PH8(KA4[107], "stand victory")
    call PD8(KA4[107], 1, MF4[107])
    call O78(KA4[107], 150, 150, 150)
    set i = i + 1
    set KA4[108] = 'U00A'
    set MF4[108] = 'h05G'
    set KB4[108] = 'n0B2'
    set ME4[108] = "ReplaceableTextures\\CommandButtons\\BTNChaosWarlord.blp"
    call PH8(KA4[108], "stand victory")
    call PD8(KA4[108], 1.05, MF4[108])
    set i = i + 1
    set KA4[109] = 'N0M7'
    set MF4[109] = 'h0DW'
    set KB4[109] = 'n0M8'
    set ME4[109] = "ReplaceableTextures\\CommandButtons\\BTNFrostWyrm.blp"
    call PH8(KA4[109], "stand victory")
    call PD8(KA4[109], .9, MF4[109])
    set i = i + 1
    set KA4[110] = 'N0MK'
    set MF4[110] = 'h0EF'
    set KB4[110] = 'n0ML'
    set ME4[110] = "ReplaceableTextures\\CommandButtons\\BTNGnollWarden.blp"
    call PH8(KA4[110], "stand victory")
    call PD8(KA4[110], 1.1, MF4[110])
    set i = i + 1
    set KA4[111] = 'U008'
    set MF4[111] = 'h05H'
    set KB4[111] = 'n0B3'
    set ME4[111] = "ReplaceableTextures\\CommandButtons\\BTNKiljaedin.blp"
    call PH8(KA4[111], "spell")
    call PD8(KA4[111], 1.2, MF4[111])
    call PD8('E015', 1, MF4[111])
    call O78(KA4[111], 255, 75, 255)
    set i = i + 1
    set KA4[112] = 'U006'
    set MF4[112] = 'h05I'
    set KB4[112] = 'n0B4'
    set ME4[112] = "ReplaceableTextures\\CommandButtons\\BTNSpiderBlack.blp"
    call PH8(KA4[112], "walk")
    call PD8(KA4[112], 1.36, MF4[112])
    set i = i + 1
    set KL4 = 112
    set K14[1] = 'Nbrn'
    set K14[2] = 'Edem'
    set K14[3] = 'N016'
    set K14[4] = 'Nbbc'
    set K14[5] = 'Naka'
    set K14[6] = 'O00P'
    set K14[7] = 'Usyl'
    set K14[8] = 'E005'
    set K14[9] = 'N01O'
    set K14[10] = 'HC92'
    set K14[11] = 'Hvwd'
    set K14[12] = 'HC49'
    set K14[13] = 'Huth'
    set K14[14] = 'Ogrh'
    set K14[15] = 'U006'
    set K14[16] = 'EC57'
    set K14[17] = 'Eevi'
    set K14[18] = 'Ubal'
    set K14[19] = 'E004'
    set K14[20] = 'EC77'
    set K14[21] = 'Hvsh'
    set K14[22] = 'Nfir'
    set K14[23] = 'E002'
    set K14[24] = 'EC45'
    set K14[25] = 'Ewar'
    set K14[26] = 'U000'
    set K14[27] = 'H00V'
    set K14[28] = 'E01B'
    set K14[29] = 'N01V'
    set K14[30] = 'H00I'
    set K14[31] = 'E01Y'
    set K14[32] = 'H071'
    set K14[33] = 'E02N'
    set K14[34] = 'N0M0'
    set K14[35] = 'N0MK'
    set K04 = 35
    set K54[1] = 'Npbm'
    set K54[2] = 'Hlgr'
    set K54[3] = 'Harf'
    set K54[4] = 'H000'
    set K54[5] = 'H001'
    set K54[6] = 'Hamg'
    set K54[7] = 'H008'
    set K54[8] = 'Ucrl'
    set K54[9] = 'Otch'
    set K54[10] = 'NC00'
    set K54[11] = 'Udre'
    set K54[12] = 'UC11'
    set K54[13] = 'Ofar'
    set K54[14] = 'U00F'
    set K54[15] = 'U00K'
    set K54[16] = 'O00J'
    set K54[17] = 'Udea'
    set K54[18] = 'Opgh'
    set K54[19] = 'U00A'
    set K54[20] = 'U00C'
    set K54[21] = 'UC91'
    set K54[22] = 'UC42'
    set K54[23] = 'U008'
    set K54[24] = 'H00D'
    set K54[25] = 'N01I'
    set K54[26] = 'H00Q'
    set K54[27] = 'N00R'
    set K54[28] = 'H00T'
    set K54[29] = 'H06S'
    set K54[30] = 'H00R'
    set K54[31] = 'O015'
    set K54[32] = 'E02I'
    set K54[33] = 'E02F'
    set K54[34] = 'O01F'
    set K54[35] = 'E032'
    set K54[36] = 'E02K'
    set K54[37] = 'N0MU'
    set K24 = 37
    set K_4[1] = 'Orkn'
    set K_4[2] = 'Emoo'
    set K_4[3] = 'Emns'
    set K_4[4] = 'H004'
    set K_4[5] = 'Hjai'
    set K_4[6] = 'Uktl'
    set K_4[7] = 'Hmbr'
    set K_4[8] = 'H00K'
    set K_4[9] = 'Ntin'
    set K_4[10] = 'Hmkg'
    set K_4[11] = 'Hblm'
    set K_4[12] = 'N01A'
    set K_4[13] = 'H00A'
    set K_4[14] = 'Ulic'
    set K_4[15] = 'Ekee'
    set K_4[16] = 'UC76'
    set K_4[17] = 'UC18'
    set K_4[18] = 'UC01'
    set K_4[19] = 'UC60'
    set K_4[20] = 'H00H'
    set K_4[21] = 'Oshd'
    set K_4[22] = 'U00E'
    set K_4[23] = 'E01A'
    set K_4[24] = 'U00P'
    set K_4[25] = 'E00P'
    set K_4[26] = 'E01C'
    set K_4[27] = 'N01W'
    set K_4[28] = 'H00N'
    set K_4[29] = 'N0EG'
    set K_4[30] = 'H00S'
    set K_4[31] = 'N00B'
    set K_4[32] = 'H00U'
    set K_4[33] = 'O016'
    set K_4[34] = 'N0HP'
    set K_4[35] = 'E02H'
    set K_4[36] = 'E02J'
    set K_4[37] = 'E02X'
    set K_4[38] = 'H0DO'
    set K_4[39] = 'N0M7'
    set K_4[40] = 'N0MD'
    set M44 = 40
    set M74[1] = 'Orkn'
    set M74[2] = 'Emoo'
    set M74[3] = 'Emns'
    set M74[4] = 'H004'
    set M74[5] = 'Hjai'
    set M74[6] = 'Uktl'
    set M74[7] = 'Hmbr'
    set M74[8] = 'H00K'
    set M74[9] = 'Ntin'
    set M74[10] = 'Nbrn'
    set M74[11] = 'Hblm'
    set M74[12] = 'N01A'
    set M74[13] = 'H00A'
    set M74[14] = 'Ulic'
    set M74[15] = 'Ekee'
    set M74[16] = 'UC76'
    set M74[17] = 'UC18'
    set M74[18] = 'UC01'
    set M74[19] = 'UC60'
    set M74[20] = 'H00H'
    set M74[21] = 'Oshd'
    set M74[22] = 'U00E'
    set M74[23] = 'E01A'
    set M74[24] = 'U00P'
    set M74[25] = 'E00P'
    set M74[26] = 'E01C'
    set M74[27] = 'N01W'
    set M74[28] = 'N0EG'
    set M74[29] = 'H00S'
    set M74[30] = 'N00B'
    set M74[31] = 'H00U'
    set M74[32] = 'N016'
    set M74[33] = 'O00P'
    set M74[34] = 'Usyl'
    set M74[35] = 'E005'
    set M74[36] = 'N01O'
    set M74[37] = 'E01Y'
    set M74[38] = 'Hvwd'
    set M74[39] = 'EC57'
    set M74[40] = 'Ubal'
    set M74[41] = 'E004'
    set M74[42] = 'EC77'
    set M74[43] = 'Nfir'
    set M74[44] = 'E002'
    set M74[45] = 'H00V'
    set M74[46] = 'N01V'
    set M74[47] = 'H00Q'
    set M74[48] = 'O016'
    set M74[49] = 'N0HP'
    set M74[50] = 'O01F'
    set M74[51] = 'E02H'
    set M74[52] = 'E02N'
    set M74[53] = 'E02J'
    set M74[54] = 'E02F'
    set M74[55] = 'E02X'
    set M74[56] = 'H0DO'
    set M74[57] = 'N0MK'
    set M74[58] = 'N0M7'
    set M74[59] = 'N0MD'
    set M84 = 59
    set M94[1] = 'Hmkg'
    set M94[2] = 'H00N'
    set M94[3] = 'Edem'
    set M94[4] = 'Nbbc'
    set M94[5] = 'Naka'
    set M94[6] = 'HC49'
    set M94[7] = 'Huth'
    set M94[8] = 'Ogrh'
    set M94[9] = 'U006'
    set M94[10] = 'Eevi'
    set M94[11] = 'Hvsh'
    set M94[12] = 'EC45'
    set M94[13] = 'Ewar'
    set M94[14] = 'U000'
    set M94[15] = 'E01B'
    set M94[16] = 'H00I'
    set M94[17] = 'HC92'
    set M94[18] = 'Npbm'
    set M94[19] = 'Hlgr'
    set M94[20] = 'Harf'
    set M94[21] = 'H000'
    set M94[22] = 'H001'
    set M94[23] = 'Hamg'
    set M94[24] = 'H008'
    set M94[25] = 'Ucrl'
    set M94[26] = 'Otch'
    set M94[27] = 'NC00'
    set M94[28] = 'Udre'
    set M94[29] = 'UC11'
    set M94[30] = 'Ofar'
    set M94[31] = 'U00F'
    set M94[32] = 'U00K'
    set M94[33] = 'O00J'
    set M94[34] = 'Udea'
    set M94[35] = 'Opgh'
    set M94[36] = 'U00A'
    set M94[37] = 'U00C'
    set M94[38] = 'UC91'
    set M94[39] = 'UC42'
    set M94[40] = 'U008'
    set M94[41] = 'H00D'
    set M94[42] = 'N01I'
    set M94[43] = 'N00R'
    set M94[44] = 'H00T'
    set M94[45] = 'H06S'
    set M94[46] = 'H00R'
    set M94[47] = 'O015'
    set M94[48] = 'H071'
    set M94[49] = 'E02I'
    set M94[50] = 'N0M0'
    set M94[51] = 'E032'
    set M94[52] = 'E02K'
    set M94[53] = 'N0MU'
    set MD4 = 53
    call MR8()
endfunction
function XA8 takes item Z4 returns string
    if Z4 == null then
        return "UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
    endif
    return DV[ZU7(Z4)]
endfunction
function XC8 takes integer id returns boolean
    return id == 'H00J' or id == 'N0MM' or id == 'Hvil'
endfunction
function X38 takes unit u, integer id returns boolean
    return BlzGetAbilityBooleanField(BlzGetUnitAbility(u, id), ABILITY_BF_ITEM_ABILITY)
endfunction
function XL8 takes integer id returns boolean
    return id == 'A21F' or id == 'A21G' or id == 'A21H' or id == 'A1S9' or id == 'A24A' or id == 'A24B' or id == 'A1S9' or id == 'A06K' or id == 'A1VG' or id == 'A28Q' or id == 'A1WF' or id == 'A0T8' or id == 'A0T7' or id == 'A20N' or id == 'A1Z2' or id == 'A1Z3' or id == 'A205' or id == 'A14A' or id == 'A269' or id == 'A2KG' or id == 'A2NI' or id == 'A27X' or id == 'A28Y' or id == 'A24E' or id == 'A1ZH' or id == 'A1WO' or id == 'A1FQ' or id == 'A0TE' or id == 'A2JO' or id == 'A2FX' or id == 'A0MP' or id == 'A2KE' or id == 'A2KH' or id == 'A2K9' or id == 'A2JL' or id == 'A2N1' or id == 'A2MB' or id == 'A2O2' or id == 'A2O9' or id == 'A2TH' or id == 'A2TK' or id == 'A2LI' or id == 'A1C0' or id == 'A2XK'
endfunction
function X18 takes nothing returns nothing
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0H6'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A012'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A06K'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0I9'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0HA'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0K5'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0PY'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A1FO'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0RT'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0SA'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0T7'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0T8'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A14A'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A0BE'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A21X'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A21W'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A21V'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'Anh1'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A1OZ'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A13D'
    set MZ4 = MZ4 + 1
    set MY4[MZ4] = 'A026'
endfunction
function X08 takes nothing returns nothing
    set P9[1] = 'AImt'
    set P9[2] = 'AIda'
    set P9[3] = 'ANtm'
    set P9[4] = 'A2V4'
    set P9[5] = 'AIxk'
    set P9[6] = 'A0CK'
    set P9[7] = 'A017'
    set P9[8] = 'A0B8'
    set P9[9] = 'A0HB'
    set P9[10] = 'A0D3'
    set P9[11] = 'A0DF'
    set P9[12] = 'A02W'
    set P9[13] = 'AIpr'
    set P9[14] = 'AIpl'
    set P9[15] = 'A0FO'
    set P9[16] = 'A0H7'
    set P9[17] = 'A0H6'
    set P9[18] = 'A02X'
    set P9[19] = 'AIsw'
    set P9[20] = 'A0CX'
    set P9[21] = 'A0B6'
    set P9[22] = 'Aeat'
    set P9[23] = 'A08L'
    set P9[24] = 'A1T7'
    set P9[25] = 'A05Z'
    set P9[26] = 'AIbk'
    set P9[27] = 'A0DY'
    set P9[28] = 'A0LZ'
    set P9[29] = 'A0OI'
    set P9[30] = 'A0KX'
    set P9[31] = 'A0KW'
    set P9[32] = 'A026'
    set P9[33] = 'A0C4'
    set P9[34] = 'A012'
    set P9[35] = 'A06K'
    set P9[36] = 'A02T'
    set P9[37] = 'A2UO'
    set P9[38] = 'A09V'
    set P9[39] = 'A05Y'
    set P9[40] = 'A0I9'
    set P9[41] = 'A0HA'
    set P9[42] = 'A0K5'
    set P9[43] = 'A0PY'
    set P9[44] = 'A0QN'
    set P9[45] = 'A0RT'
    set P9[46] = 'A0RP'
    set P9[47] = 'A12W'
    set P9[48] = 'A0SA'
    set P9[49] = 'A0T7'
    set P9[50] = 'A0T8'
    set P9[51] = 'A14A'
    set P9[52] = 'A0BE'
    set P9[53] = 'A21X'
    set P9[54] = 'A21W'
    set P9[55] = 'A21V'
    set P9[56] = 'A0MP'
    set P9[57] = 'A13D'
    set P9[58] = 'A0JY'
    set P9[59] = 'A15W'
    set P9[60] = 'A1FO'
    set P9[61] = 'A1FD'
    set P9[62] = 'A1OZ'
    set P9[63] = 'A1MO'
    set P9[64] = 'A1IO'
    set P9[65] = 'A1Q8'
    set P9[66] = 'A1RA'
    set P9[67] = 'A1QV'
    set P9[68] = 'A1WE'
    set P9[69] = 'A1WB'
    set P9[70] = 'A2KG'
    set P9[71] = 'A2N3'
    set P9[72] = 'A2UM'
    set P9[73] = 'A2VE'
    set S9 = 73
endfunction
function X58 takes nothing returns boolean
    call X08()
    call X18()
    return false
endfunction
function X_8 takes nothing returns nothing
    call CreateQuestBJ(0, GetObjectName('Y103'), "TRIGSTR_49999", "ReplaceableTextures\\CommandButtons\\BTNForgottenOne.blp")
    call CreateQuestBJ(0, GetObjectName('Y104'), "TRIGSTR_49998", "ReplaceableTextures\\CommandButtons\\BTNPriestMaster.blp")
    call CreateQuestBJ(0, "TRIGSTR_50004", "TRIGSTR_50005", "ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
    call CreateQuestBJ(0, "TRIGSTR_50006", "TRIGSTR_50007", "ReplaceableTextures\\CommandButtons\\BTNTome.blp")
    call CreateQuestBJ(0, "TRIGSTR_50008", "TRIGSTR_50009", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
    call CreateQuestBJ(2, "TRIGSTR_50010", "TRIGSTR_50011", "ReplaceableTextures\\CommandButtons\\BTNScrollOfHaste.blp")
    call CreateQuestBJ(2, "TRIGSTR_50012", "TRIGSTR_50013", "ReplaceableTextures\\CommandButtons\\BTNBansheeMaster.blp")
    call CreateQuestBJ(2, "TRIGSTR_50014", "TRIGSTR_50015", "ReplaceableTextures\\CommandButtons\\BTNCarrionScarabs.blp")
endfunction
function Y48 takes nothing returns boolean
    local string s
    if IsUnitIllusion(GetTriggerUnit()) == false and XC8(GetUnitTypeId(GetTriggerUnit())) == false then
        set s = GetUnitName(GetTriggerUnit()) + " " + (GetObjectName('n0HB')) + " " + GetObjectName(GetLearnedSkill()) + " (" + (GetObjectName(('n0HC'))) + " " + I2S(GetUnitAbilityLevel(GetTriggerUnit(), GetLearnedSkill())) + ")"
        call DisplayTimedTextToPlayer(KU4, 0, 0, 3, s)
        call DisplayTimedTextToPlayer(KV4, 0, 0, 3, s)
    endif
    return false
endfunction
function Y78 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function Y48))
    set t = null
endfunction
function Y88 takes player p returns nothing
    local unit AM7 = Y7[GetPlayerId(p)]
    local integer i = 0
    local item Y98
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set Y98 = UnitItemInSlot(AM7, i)
        call SetItemDroppable(Y98, false)
        set i = i + 1
    endloop
    set AM7 = null
    set Y98 = null
endfunction
function YD8 takes nothing returns nothing
    call NN8(bj_FORCE_ALL_PLAYERS, 25., (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|c00ff0303 " + (GetObjectName('n02D')) + "|r")
endfunction
function Jf takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local player YE8 = (LoadPlayerHandle(R8, (EC8), (78)))
    local integer T8 = 1
    local integer Jg
    local integer M38 = GetPlayerState(YE8, PLAYER_STATE_RESOURCE_GOLD)
    if M38 > 20 then
        call SetPlayerState(YE8, PLAYER_STATE_RESOURCE_GOLD, 0)
        set WQ4[GetPlayerId(YE8)] = 0
        if KN8(YE8)then
            set Jg = MI8(E8)
        else
            set Jg = MI8(F8)
        endif
        if KN8(YE8)then
            loop
                exitwhen T8 > MAX_TEAM_PLAYERS
                if KS8(G8[T8])then
                    call SetPlayerState(G8[T8], PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(G8[T8], PLAYER_STATE_RESOURCE_GOLD) + M38 / Jg)
                endif
                set T8 = T8 + 1
            endloop
        else
            loop
                exitwhen T8 > MAX_TEAM_PLAYERS
                if KS8(N8[T8])then
                    call SetPlayerState(N8[T8], PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(N8[T8], PLAYER_STATE_RESOURCE_GOLD) + M38 / Jg)
                endif
                set T8 = T8 + 1
            endloop
        endif
    endif
    set t = null
    return false
endfunction
function YF8 takes player YE8 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SavePlayerHandle(R8, (EC8), (78), (YE8))
    call TriggerRegisterTimerEvent(t, 2., true)
    call TriggerAddCondition(t, Condition(function Jf))
    set t = null
endfunction
function YG8 takes player p returns nothing
    local multiboarditem YH8 = MultiboardGetItem(A4, N74[GetPlayerId(p)], N44[GetPlayerId(p)])
    call MultiboardSetItemValue(YH8, "|c00333333" + NM8(p) + "|r")
    call MultiboardReleaseItem(YH8)
    set YH8 = null
endfunction
function YI8 takes nothing returns nothing
    local player p = O74
    local string id = I2S(GetPlayerId(p))
    call StoreInteger(IG4, id, "8_0", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (0)))))
    call StoreInteger(IG4, id, "8_1", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (1)))))
    call StoreInteger(IG4, id, "8_2", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (2)))))
    call StoreInteger(IG4, id, "8_3", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (3)))))
    call StoreInteger(IG4, id, "8_4", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (4)))))
    call StoreInteger(IG4, id, "8_5", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (5)))))
    if GetLocalPlayer() == V8 then
        call SyncStoredInteger(IG4, I2S(GetPlayerId(p)), "8_0")
        call SyncStoredInteger(IG4, I2S(GetPlayerId(p)), "8_1")
        call SyncStoredInteger(IG4, I2S(GetPlayerId(p)), "8_2")
        call SyncStoredInteger(IG4, I2S(GetPlayerId(p)), "8_3")
        call SyncStoredInteger(IG4, I2S(GetPlayerId(p)), "8_4")
        call SyncStoredInteger(IG4, I2S(GetPlayerId(p)), "8_5")
    endif
endfunction
function YJ8 takes nothing returns nothing
    local integer XW8 = MI8(E8)
    local integer XV8 = MI8(F8)
    local integer T8
    local integer U8
    local string YK8
    local string YM8
    local unit N28 = Y7[GetPlayerId(GetTriggerPlayer())]
    if N28 == null then
        set YM8 = (GetObjectName(('n0EW')))
    else
        set YM8 = GetUnitName(N28)
    endif
    if(P4 < 10)then
        set YK8 = I2S(O4) + ":0" + I2S(P4)
    else
        set YK8 = I2S(O4) + ":" + I2S(P4)
    endif
    if U9 == false then
        set OD[GetPlayerId(GetTriggerPlayer())] = "|c00555555" + YK8 + "|r"
        call NN8(bj_FORCE_ALL_PLAYERS, 25., W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + " (" + YM8 + ")|r|c00ff0303 " + (GetObjectName(('n02D'))) + "|r")
        if(KN8(GetTriggerPlayer()))then
            set T8 = 1
            set U8 = MAX_TEAM_PLAYERS
            loop
                exitwhen T8 > U8
                if(G8[T8] != GetTriggerPlayer())then
                    if(KS8(G8[T8]))then
                        call SetPlayerAllianceStateBJ(GetTriggerPlayer(), G8[T8], 4)
                    endif
                endif
                set T8 = T8 + 1
            endloop
        else
            set T8 = 1
            set U8 = MAX_TEAM_PLAYERS
            loop
                exitwhen T8 > U8
                if(N8[T8] != GetTriggerPlayer())then
                    if(KS8(N8[T8]))then
                        call SetPlayerAllianceStateBJ(GetTriggerPlayer(), N8[T8], 4)
                    endif
                endif
                set T8 = T8 + 1
            endloop
        endif
        if KN8(GetTriggerPlayer())or KO8(GetTriggerPlayer())then
            set MB4 = MB4 + 1
        endif
        call X48("C" + "K" + I2S(C7[GetPlayerId(GetTriggerPlayer())]) + "D" + I2S(L7[GetPlayerId(GetTriggerPlayer())]) + "N" + I2S((LoadInteger(R8, (400 + GetPlayerId(GetTriggerPlayer())), (79)))), GetPlayerId(GetTriggerPlayer()))
        set O74 = GetTriggerPlayer()
        call ExecuteFunc("YI8")
        set U2[GetPlayerId(GetTriggerPlayer())] = true
        call YG8(GetTriggerPlayer())
        call YF8(GetTriggerPlayer())
        if MB4 == 2 and L8 == false and Ny then
            call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, " ")
            call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, " ")
            call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, "|c006699CC" + (GetObjectName(('n0FW'))) + "|r")
        endif
        if MB4 == 3 then
            set N_4 = true
            call ExecuteFunc("YN8")
            set N_4 = false
        endif
    else
        set OD[GetPlayerId(GetTriggerPlayer())] = "|c00555555End|r"
        call ExecuteFunc("YO8")
    endif
    set N28 = null
endfunction
function YP8 takes unit AM7 returns nothing
    if GetUnitTypeId(AM7) != 'H00J' and GetUnitTypeId(AM7) != 'H00I' then
        if GetOwningPlayer(AM7) == GetLocalPlayer()then
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 1, " ")
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 1, "|c006699CC" + (GetObjectName(('n0GR'))))
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 1, " ")
        endif
        call TP8(WR, GetOwningPlayer(AM7))
    endif
    call SetUnitInvulnerable(AM7, false)
    call UnitRemoveAbility(AM7, 'A0AZ')
    call UnitRemoveAbility(AM7, 'A0KT')
    call UnitRemoveAbility(AM7, 'A0NW')
    call UnitRemoveAbility(AM7, 'A0NU')
    call UnitRemoveAbility(AM7, 'A0OW')
    call UnitRemoveAbility(AM7, 'A0OV')
    call UnitRemoveAbility(AM7, 'A0OX')
    call UnitRemoveAbility(AM7, 'A0OY')
    call UnitRemoveAbility(AM7, 'A0P0')
    call UnitRemoveAbility(AM7, 'A17K')
    call UnitRemoveAbility(AM7, 'A0PV')
    call UnitRemoveAbility(AM7, 'A0QO')
    call UnitRemoveAbility(AM7, 'A0RC')
    call UnitRemoveAbility(AM7, 'A0RF')
    call UnitRemoveAbility(AM7, 'A10N')
    call UnitRemoveAbility(AM7, 'A0S0')
    call UnitRemoveAbility(AM7, 'A10O')
    call UnitRemoveAbility(AM7, 'A10P')
    call UnitRemoveAbility(AM7, 'A0FY')
    call UnitRemoveAbility(AM7, 'A0I5')
    call UnitRemoveAbility(AM7, 'A0C9')
    call UnitRemoveAbility(AM7, 'A0IH')
    call UnitRemoveAbility(AM7, 'B067')
    call UnitRemoveAbility(AM7, 'B08L')
    call UnitRemoveAbility(AM7, 'A0SR')
    call UnitRemoveAbility(AM7, 'A0WO')
    call UnitRemoveAbility(AM7, 'A0WR')
    call UnitRemoveAbility(AM7, 'A1CN')
    call UnitRemoveAbility(AM7, 'A0VH')
    call UnitRemoveAbility(AM7, 'A0VJ')
    call UnitRemoveAbility(AM7, 'A109')
    call UnitRemoveAbility(AM7, 'A0VW')
    call UnitRemoveAbility(AM7, 'A0XM')
    call UnitRemoveAbility(AM7, 'A11O')
    call UnitRemoveAbility(AM7, 'A11R')
    call UnitRemoveAbility(AM7, 'A147')
    call UnitRemoveAbility(AM7, 'A148')
    call UnitRemoveAbility(AM7, 'A11U')
    call UnitRemoveAbility(AM7, 'A149')
    call UnitRemoveAbility(AM7, 'A121')
    call UnitRemoveAbility(AM7, 'A126')
    call UnitRemoveAbility(AM7, 'A179')
    call UnitRemoveAbility(AM7, 'Aetl')
    call UnitRemoveAbility(AM7, n1[0])
    call UnitRemoveAbility(AM7, n1[1])
    call UnitRemoveAbility(AM7, n1[2])
    call UnitRemoveAbility(AM7, n1[3])
    call UnitRemoveAbility(AM7, n1[4])
    call UnitRemoveAbility(AM7, n1[5])
    call UnitRemoveAbility(AM7, 'A1G5')
    call UnitRemoveAbility(AM7, 'A1G3')
    call UnitRemoveAbility(AM7, 'A1G6')
    call UnitRemoveAbility(AM7, 'A1G4')
    call SaveBoolean(R8, (GetHandleId(AM7)), (80), (false))
    call SetUnitPathing(AM7, true)
    call PauseUnit(AM7, false)
    call SetUnitFlyHeight(AM7, GetUnitDefaultFlyHeight(AM7), 0)
    call SetUnitScale(AM7, PG8(AM7) * ZS, PG8(AM7) * ZS, PG8(AM7) * ZS)
    call UnitRemoveAbility(AM7, 'A1CA')
    call UnitRemoveAbility(AM7, 'A1C9')
    call UnitRemoveAbility(AM7, 'A1CB')
    call UnitRemoveAbility(AM7, 'A1CC')
    call UnitRemoveAbility(AM7, 'A1GA')
    call UnitRemoveAbility(AM7, 'A1W3')
    call UnitRemoveAbility(AM7, 'B0DO')
    call UnitRemoveAbility(AM7, 'A1UH')
    call UnitRemoveAbility(AM7, 'A1UI')
    call UnitRemoveAbility(AM7, 'A1Z4')
    call UnitRemoveAbility(AM7, 'A1ZA')
    call UnitRemoveAbility(AM7, 'A1ZB')
    call UnitRemoveAbility(AM7, 'A1Z9')
    call UnitRemoveAbility(AM7, 'B0DV')
    call UnitRemoveAbility(AM7, 'A266')
    call UnitRemoveAbility(AM7, 'A265')
    call UnitRemoveAbility(AM7, 'A24L')
    call UnitRemoveAbility(AM7, 'B0ED')
    call UnitRemoveAbility(AM7, 'A23O')
    call UnitRemoveAbility(AM7, 'B0E9')
    call WF8(AM7, 0)
    if GetUnitTypeId(AM7) == 'E02N' or GetUnitTypeId(AM7) == 'E02O' then
        call UnitRemoveAbility(AM7, 'A237')
        call UnitAddAbility(AM7, 'A22B')
        call UnitRemoveAbility(AM7, 'A22B')
        if AV7(AM7, BU[GK4]) != null then
            call UnitAddAbility(AM7, 'A237')
        endif
    endif
    if GetUnitTypeId(AM7) == 'N0MU' or GetUnitTypeId(AM7) == 'N0MW' then
        call UnitAddAbility(AM7, 'A2QR')
        call UnitRemoveAbility(AM7, 'A2QR')
    endif
    if GetUnitTypeId(AM7) == 'H0EL' or GetUnitTypeId(AM7) == 'H0EO' then
        call UnitAddAbility(AM7, 'A2SX')
        call UnitRemoveAbility(AM7, 'A2SX')
    endif
    if GetUnitTypeId(AM7) == 'H0ER' then
        call UnitAddAbility(AM7, 'A2VV')
        call UnitRemoveAbility(AM7, 'A2VV')
    endif
    call UnitRemoveAbility(AM7, 'A2S1')
    call UF8(AM7)
    set H04 = AM7
    call ExecuteFunc("YQ8")
endfunction
function YR8 takes nothing returns boolean
    if GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()), QZ, ALLIANCE_SHARED_CONTROL) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
        set MZ = MZ + 1
    endif
    return false
endfunction
function YS8 takes unit u, player p, real x, real y, boolean YT8 returns nothing
    local group g = OG8()
    set MZ = 0
    set QZ = p
    call GroupEnumUnitsSelected(g, p, Condition(function YR8))
    if MZ == 0 and GetLocalPlayer() == p then
        if YT8 == false then
            call ClearSelection()
            call SelectUnit(u, true)
        endif
        call PanCameraToTimed(x, y, 0)
    endif
    set MZ = 0
    call OF8(g)
    set g = null
endfunction
function YU8 takes unit S4 returns boolean
    return GetUnitTypeId(S4) == 'H00I' or GetUnitTypeId(S4) == 'H00J'
endfunction
function YV8 takes unit YW8 returns nothing
    local integer YX8
    if AV7(YW8, BU[E2]) != null and GetUnitTypeId(YW8) != 'H00J' then
        set YX8 = R2I(GetItemCharges(AV7(YW8, BU[E2])) * .67)
        if GetItemCharges(AV7(YW8, BU[E2])) == 1 then
            set YX8 = 0
        endif
        call SetItemCharges(AV7(YW8, BU[E2]), YX8)
        call AddHeroXP(YW8, GetHeroXP(OX4[GetPlayerId(GetOwningPlayer(YW8))]), true)
        call RemoveUnit(OX4[GetPlayerId(GetOwningPlayer(YW8))])
    endif
endfunction
function YY8 takes unit u returns nothing
    local integer EC8 = GetHandleId(GetOwningPlayer(u))
    local unit YZ8 = (LoadUnitHandle(R8, (EC8), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (EC8), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (EC8), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (EC8), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (EC8), (703)))
    local unit Y68
    set Y68 = YZ8
    if Y68 != null then
        call RemoveUnit(Y68)
    endif
    set Y68 = YA8
    if Y68 != null then
        call RemoveUnit(Y68)
    endif
    set Y68 = YB8
    if Y68 != null then
        call RemoveUnit(Y68)
    endif
    set Y68 = YC8
    if Y68 != null then
        call RemoveUnit(Y68)
    endif
    set Y68 = Y38
    if Y68 != null then
        call RemoveUnit(Y68)
    endif
    set Y68 = null
    set Y38 = null
    set YC8 = null
    set YB8 = null
    set YA8 = null
    set YZ8 = null
endfunction
function YL8 takes nothing returns boolean
    call EA8(GetTriggeringTrigger())
    set OY4 = false
    return false
endfunction
function Y18 takes unit Y08 returns nothing
    local integer EC8 = GetHandleId(GetOwningPlayer(Y08))
    local unit YZ8 = (LoadUnitHandle(R8, (EC8), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (EC8), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (EC8), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (EC8), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (EC8), (703)))
    local unit Y68
    local real x = GetUnitX(YZ8)
    local real y = GetUnitY(YZ8)
    local trigger t
    if OY4 == false then
        if KN8(GetOwningPlayer(YZ8))then
            set x = GetRectCenterX(QD)
            set y = GetRectCenterY(QD)
        else
            set x = GetRectCenterX(PD)
            set y = GetRectCenterY(PD)
        endif
    else
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 2., false)
        call TriggerAddCondition(t, Condition(function YL8))
    endif
    set Y68 = YZ8
    if Y68 != null and Y08 != Y68 then
        call ReviveHero(Y68, x, y, false)
        call SetUnitX(Y68, x)
        call SetUnitY(Y68, y)
        call YP8(Y68)
        call SetUnitPathing(Y68, true)
        call SetUnitState(Y68, UNIT_STATE_MANA, 10000)
    endif
    set Y68 = YA8
    if Y68 != null and Y08 != Y68 then
        call ReviveHero(Y68, x, y, false)
        call SetUnitX(Y68, x)
        call SetUnitY(Y68, y)
        call YP8(Y68)
        call SetUnitPathing(Y68, true)
        call SetUnitState(Y68, UNIT_STATE_MANA, 10000)
    endif
    set Y68 = YB8
    if Y68 != null and Y08 != Y68 then
        call ReviveHero(Y68, x, y, false)
        call SetUnitX(Y68, x)
        call SetUnitY(Y68, y)
        call YP8(Y68)
        call SetUnitPathing(Y68, true)
        call SetUnitState(Y68, UNIT_STATE_MANA, 10000)
    endif
    set Y68 = YC8
    if Y68 != null and Y08 != Y68 then
        call ReviveHero(Y68, x, y, false)
        call SetUnitX(Y68, x)
        call SetUnitY(Y68, y)
        call YP8(Y68)
        call SetUnitPathing(Y68, true)
        call SetUnitState(Y68, UNIT_STATE_MANA, 10000)
    endif
    set Y68 = Y38
    if Y68 != null and Y08 != Y68 then
        call ReviveHero(Y68, x, y, false)
        call SetUnitX(Y68, x)
        call SetUnitY(Y68, y)
        call YP8(Y68)
        call SetUnitPathing(Y68, true)
        call SetUnitState(Y68, UNIT_STATE_MANA, 10000)
    endif
    set t = null
    set Y38 = null
    set Y68 = null
    set YC8 = null
    set YB8 = null
    set YA8 = null
    set YZ8 = null
endfunction
function Y58 takes unit AM7 returns nothing
    local integer Y28 = GetUnitPointValue(AM7)
    local unit Y_8
    if(Y28 == 34)then
        call ExecuteFunc("Z48")
        call ExecuteFunc("Z78")
        call ExecuteFunc("Z88")
    elseif(Y28 == 37)then
        call ExecuteFunc("Z98")
        call ExecuteFunc("ZD8")
        call ExecuteFunc("ZE8")
        call ExecuteFunc("ZF8")
    elseif(Y28 == 38)then
        call ExecuteFunc("ZG8")
        call ExecuteFunc("ZH8")
        call ExecuteFunc("ZI8")
        call ExecuteFunc("ZJ8")
    elseif(Y28 == 32)then
        call ExecuteFunc("ZK8")
        call ExecuteFunc("ZM8")
        call ExecuteFunc("AWP1")
        call ExecuteFunc("ZN8")
    elseif(Y28 == 52)then
        call ExecuteFunc("ZO8")
        call ExecuteFunc("ZP8")
        call ExecuteFunc("ZQ8")
        call ExecuteFunc("ZR8")
    elseif(Y28 == 31)then
        call ExecuteFunc("ZS8")
        call ExecuteFunc("ZT8")
        call ExecuteFunc("ZU8")
    elseif(Y28 == 24)then
        call ExecuteFunc("ZV8")
        call ExecuteFunc("ZW8")
        call ExecuteFunc("ZX8")
        call ExecuteFunc("ZY8")
    elseif(Y28 == 5)then
        call ExecuteFunc("ZZ8")
        call ExecuteFunc("ZA8")
        call ExecuteFunc("AXA1")
        call ExecuteFunc("ZB8")
    elseif(Y28 == 8)then
        call ExecuteFunc("ZC8")
        call ExecuteFunc("Z38")
        call ExecuteFunc("Z68")
        call ExecuteFunc("ZL8")
        call ExecuteFunc("Z18")
    elseif(Y28 == 3)then
        call ExecuteFunc("Z08")
        call ExecuteFunc("Z58")
        call ExecuteFunc("Z28")
        call ExecuteFunc("Z_8")
    elseif(Y28 == 95)then
        call ExecuteFunc("A48")
        call ExecuteFunc("A78")
        call ExecuteFunc("A88")
        call ExecuteFunc("A98")
        call ExecuteFunc("AD8")
    elseif(Y28 == 20)then
        call ExecuteFunc("AE8")
        call ExecuteFunc("AF8")
        call ExecuteFunc("AiFurioTp")
        call ExecuteFunc("AG8")
    elseif(Y28 == 12)then
        call ExecuteFunc("AH8")
        call ExecuteFunc("AI8")
        call ExecuteFunc("AJ8")
    elseif(Y28 == 16)then
        call ExecuteFunc("AK8")
        call ExecuteFunc("AM8")
        call ExecuteFunc("AN8")
        call ExecuteFunc("AO8")
        call ExecuteFunc("AP8")
        call ExecuteFunc("AY21")
    elseif(Y28 == 25)then
        call ExecuteFunc("AQ8")
        call ExecuteFunc("AR8")
    elseif(Y28 == 4)then
        call ExecuteFunc("AS8")
        call ExecuteFunc("AT8")
        call ExecuteFunc("pZ")
        call ExecuteFunc("AU8")
        call ExecuteFunc("AV8")
        call ExecuteFunc("AW8")
        call SetUnitPathing(AM7, false)
        call DisableTrigger(GW4)
        set N24 = true
        set Y_8 = CreateUnit(GetOwningPlayer(AM7), GetUnitTypeId(AM7), GetUnitX(AM7), GetUnitY(AM7), GetUnitFacing(AM7))
        call SaveBoolean(R8, (GetHandleId(Y_8)), (85), (true))
        set Y7[GetPlayerId(GetOwningPlayer(AM7))] = Y_8
        call SetUnitPathing(Y_8, false)
        call SetUnitPosition(Y_8, GetUnitX(AM7), GetUnitY(AM7))
        if T4 then
            call SetHeroXP(Y_8, GetHeroXP(AM7), false)
            call UnitAddItem(Y_8, UnitItemInSlot(AM7, 0))
            call UnitAddItem(Y_8, UnitItemInSlot(AM7, 1))
            call UnitAddItem(Y_8, UnitItemInSlot(AM7, 2))
            call UnitAddItem(Y_8, UnitItemInSlot(AM7, 3))
            call UnitAddItem(Y_8, UnitItemInSlot(AM7, 4))
            call UnitAddItem(Y_8, UnitItemInSlot(AM7, 5))
        endif
        call PA8(AM7)
        call EnableTrigger(GW4)
        call SetUnitPathing(Y_8, true)
        call ClearSelectionForPlayer(GetOwningPlayer(Y_8))
        call SelectUnitAddForPlayer(Y_8, GetOwningPlayer(Y_8))
    elseif(Y28 == 7)then
        call ExecuteFunc("AX8")
        call ExecuteFunc("AY8")
        call ExecuteFunc("AZ8")
    elseif(Y28 == 18)then
        call ExecuteFunc("AA8")
        call ExecuteFunc("AB8")
    elseif(Y28 == 36)then
        call ExecuteFunc("PN")
    elseif(Y28 == 21)then
        call ExecuteFunc("Po")
        call ExecuteFunc("AC8")
        call ExecuteFunc("A38")
        call ExecuteFunc("A68")
    elseif(Y28 == 14)then
        call ExecuteFunc("AL8")
        call ExecuteFunc("A18")
        call ExecuteFunc("A08")
        call ExecuteFunc("A58")
        call ExecuteFunc("AiDashuT")
        call ExecuteFunc("A28")
        call ExecuteFunc("AYL1")
    elseif(Y28 == 13)then
        call ExecuteFunc("A_8")
        call ExecuteFunc("B48")
        call ExecuteFunc("B78")
        call ExecuteFunc("B88")
    elseif(Y28 == 26)then
        call ExecuteFunc("B98")
        call ExecuteFunc("Pv")
        call ExecuteFunc("PV")
        call ExecuteFunc("AYP1")
        call ExecuteFunc("BD8")
    elseif(Y28 == 9)then
        call ExecuteFunc("Pw")
        call ExecuteFunc("Register_TricksOfTheTrade")
        call ExecuteFunc("BF8")
        call ExecuteFunc("BG8")
    elseif(Y28 == 10)then
        call ExecuteFunc("BH8")
        call ExecuteFunc("BI8")
        call ExecuteFunc("BJ8")
        call ExecuteFunc("BK8")
        call ExecuteFunc("BM8")
        call ExecuteFunc("Register_SavageRoar")
        call ExecuteFunc("qB")
        call ExecuteFunc("qc")
    elseif(Y28 == 23)then
        call ExecuteFunc("qC")
        call ExecuteFunc("qD")
        call ExecuteFunc("qe")
        call ExecuteFunc("qg")
        call ExecuteFunc("AJC1")
        call ExecuteFunc("AJD1")
        call ExecuteFunc("Register_MinesSign")
    elseif(Y28 == 19)then
        call ExecuteFunc("AJE1")
        call ExecuteFunc("BN8")
        call ExecuteFunc("BO8")
        call ExecuteFunc("BP8")
    elseif(Y28 == 22)then
        call ExecuteFunc("BQ8")
        call ExecuteFunc("BR8")
        call ExecuteFunc("BS8")
        call ExecuteFunc("BT8")
    elseif(Y28 == 17)then
        call ExecuteFunc("BU8")
        call ExecuteFunc("BV8")
        call ExecuteFunc("FurySwipe_Register")
    elseif(Y28 == 1)then
        call ExecuteFunc("BW8")
        call ExecuteFunc("BX8")
        call ExecuteFunc("BY8")
        call ExecuteFunc("VengeanceDeath_Register")
    elseif(Y28 == 2)then
        call ExecuteFunc("BZ8")
        call ExecuteFunc("BA8")
        call ExecuteFunc("BB8")
        call ExecuteFunc("BC8")
    elseif(Y28 == 27)then
        call ExecuteFunc("B38")
        call ExecuteFunc("B68")
        call ExecuteFunc("BL8")
        call ExecuteFunc("B18")
        call ExecuteFunc("B08")
    elseif(Y28 == 82)then
        call ExecuteFunc("B58")
        call ExecuteFunc("B28")
        call ExecuteFunc("B_8")
        call ExecuteFunc("C48")
    elseif(Y28 == 75)then
        call ExecuteFunc("C78")
        call ExecuteFunc("C88")
        call ExecuteFunc("C98")
        call ExecuteFunc("CD8")
        call ExecuteFunc("AKG1")
    elseif(Y28 == 83)then
        call ExecuteFunc("CE8")
        call ExecuteFunc("CF8")
        call ExecuteFunc("CG8")
        call ExecuteFunc("CH8")
    elseif(Y28 == 112)then
        call ExecuteFunc("CI8")
        call ExecuteFunc("CJ8")
        call ExecuteFunc("CK8")
        call ExecuteFunc("CM8")
    elseif(Y28 == 108)then
        call ExecuteFunc("CN8")
        call ExecuteFunc("AKH1")
        call ExecuteFunc("CO8")
        call ExecuteFunc("Register_CriticalStrike")
    elseif(Y28 == 69)then
        call ExecuteFunc("CP8")
        call ExecuteFunc("CQ8")
        call ExecuteFunc("CR8")
        call ExecuteFunc("CS8")
        call ExecuteFunc("CT8")
    elseif(Y28 == 100)then
        call ExecuteFunc("CU8")
        call ExecuteFunc("CV8")
        call ExecuteFunc("CW8")
        call ExecuteFunc("AKM1")
    elseif(Y28 == 102)then
        call ExecuteFunc("CX8")
        call ExecuteFunc("AKS1")
        call ExecuteFunc("AKR1")
    elseif(Y28 == 64)then
        call ExecuteFunc("Register_InfernalBlade")
        call ExecuteFunc("CZ8")
        call ExecuteFunc("CA8")
        call ExecuteFunc("CB8")
    elseif(Y28 == 106)then
        call ExecuteFunc("CC8")
        call ExecuteFunc("C38")
        call ExecuteFunc("C68")
    elseif(Y28 == 61)then
        call ExecuteFunc("CL8")
        call ExecuteFunc("C18")
        call ExecuteFunc("C08")
    elseif(Y28 == 76)then
        call ExecuteFunc("C58")
        call ExecuteFunc("C28")
        call ExecuteFunc("C_8")
        call ExecuteFunc("L48")
    elseif(Y28 == 80)then
        call ExecuteFunc("L78")
        call ExecuteFunc("L88")
        call ExecuteFunc("L98")
        call ExecuteFunc("LD8")
        call ExecuteFunc("RM")
    elseif(Y28 == 62)then
        call ExecuteFunc("LE8")
        call ExecuteFunc("LF8")
        call ExecuteFunc("LG8")
        call ExecuteFunc("ALG1")
    elseif(Y28 == 60)then
        call ExecuteFunc("LH8")
        call ExecuteFunc("LI8")
        call ExecuteFunc("LJ8")
    elseif(Y28 == 77)then
        call ExecuteFunc("LK8")
        call ExecuteFunc("LM8")
        call ExecuteFunc("LN8")
        call ExecuteFunc("LO8")
        call ExecuteFunc("LP8")
    elseif(Y28 == 73)then
        call ExecuteFunc("LQ8")
        call ExecuteFunc("LR8")
        call ExecuteFunc("ALL1")
    elseif(Y28 == 81)then
        call ExecuteFunc("LS8")
        call ExecuteFunc("LT8")
        call ExecuteFunc("LU8")
        call ExecuteFunc("Register_CausticFinale")
    elseif(Y28 == 66)then
        call ExecuteFunc("LV8")
        call ExecuteFunc("LW8")
    elseif(Y28 == 78)then
        call ExecuteFunc("LX8")
        call ExecuteFunc("LY8")
        call ExecuteFunc("LZ8")
        call ExecuteFunc("LA8")
    elseif(Y28 == 99)then
        call ExecuteFunc("LB8")
        call ExecuteFunc("LC8")
        call ExecuteFunc("L38")
        call ExecuteFunc("L68")
        call ExecuteFunc("LL8")
        call ExecuteFunc("L18")
    elseif(Y28 == 74)then
        call ExecuteFunc("L08")
        call ExecuteFunc("L58")
        call ExecuteFunc("L28")
        call ExecuteFunc("L_8")
    elseif(Y28 == 105)then
        call ExecuteFunc("D49")
        call ExecuteFunc("AMB1")
        call ExecuteFunc("D79")
    elseif(Y28 == 70)then
        call ExecuteFunc("D89")
        call ExecuteFunc("D99")
        call ExecuteFunc("DD9")
    elseif(Y28 == 107)then
        call ExecuteFunc("DE9")
        call ExecuteFunc("DF9")
        call ExecuteFunc("DG9")
        call ExecuteFunc("DH9")
    elseif(Y28 == 79)then
        call ExecuteFunc("DI9")
        call ExecuteFunc("DJ9")
        call ExecuteFunc("DK9")
        call ExecuteFunc("DM9")
    elseif(Y28 == 68)then
        call ExecuteFunc("DN9")
        call ExecuteFunc("DO9")
    elseif(Y28 == 84)then
        call ExecuteFunc("DP9")
        call ExecuteFunc("DQ9")
        call ExecuteFunc("s7")
        call ExecuteFunc("DR9")
    elseif(Y28 == 85)then
        call ExecuteFunc("DS9")
        call ExecuteFunc("DT9")
        call ExecuteFunc("DU9")
        call ExecuteFunc("DV9")
        call ExecuteFunc("DW9")
    elseif(Y28 == 86)then
        call ExecuteFunc("DX9")
        call ExecuteFunc("DY9")
        call ExecuteFunc("DZ9")
        call ExecuteFunc("DA9")
    elseif(Y28 == 87)then
        call ExecuteFunc("DB9")
        call ExecuteFunc("DC9")
        call ExecuteFunc("D39")
        call ExecuteFunc("D69")
    elseif(Y28 == 33)then
        call ExecuteFunc("Register_BreatheFire")
        call ExecuteFunc("DL9")
        call ExecuteFunc("D19")
        call ExecuteFunc("D09")
    elseif(Y28 == 39)then
        call ExecuteFunc("D59")
        call ExecuteFunc("D29")
        call ExecuteFunc("D_9")
    elseif(Y28 == 88)then
        call ExecuteFunc("E49")
        call ExecuteFunc("E79")
        call ExecuteFunc("E89")
        call ExecuteFunc("E99")
    elseif(Y28 == 40)then
        call ExecuteFunc("ED9")
        call ExecuteFunc("EE9")
        call ExecuteFunc("EF9")
        call ExecuteFunc("EG9")
    elseif Y28 == 89 then
        call ExecuteFunc("EH9")
        call ExecuteFunc("EI9")
    elseif Y28 == 90 then
        call ExecuteFunc("EJ9")
        call ExecuteFunc("EK9")
        call ExecuteFunc("EM9")
        call ExecuteFunc("EN9")
    elseif Y28 == 71 then
        call ExecuteFunc("EO9")
        call ExecuteFunc("EP9")
        call ExecuteFunc("EQ9")
        call ExecuteFunc("ER9")
    elseif Y28 == 93 then
        call ExecuteFunc("ES9")
        call ExecuteFunc("ET9")
        call ExecuteFunc("EU9")
        call ExecuteFunc("EV9")
    elseif Y28 == 42 then
        call ExecuteFunc("EW9")
        call ExecuteFunc("EX9")
        call ExecuteFunc("EY9")
        call ExecuteFunc("EZ9")
    elseif Y28 == 91 then
        call ExecuteFunc("EA9")
        call ExecuteFunc("EB9")
        call ExecuteFunc("EC9")
        call ExecuteFunc("E39")
        call ExecuteFunc("E69")
        call ExecuteFunc("EL9")
        call ExecuteFunc("E19")
        call ExecuteFunc("E09")
    elseif Y28 == 92 then
        call ExecuteFunc("E59")
        call ExecuteFunc("E29")
        call ExecuteFunc("E_9")
        call ExecuteFunc("F49")
    elseif Y28 == 41 then
        call ExecuteFunc("F79")
        call ExecuteFunc("F89")
        call ExecuteFunc("F99")
        call ExecuteFunc("FD9")
        call ExecuteFunc("FE9")
    elseif Y28 == 43 then
        call ExecuteFunc("FF9")
        call ExecuteFunc("FG9")
        call ExecuteFunc("FH9")
        call ExecuteFunc("FI9")
        call ExecuteFunc("FJ9")
        call ExecuteFunc("FK9")
    elseif Y28 == 44 then
        call ExecuteFunc("FM9")
        call ExecuteFunc("FN9")
        call ExecuteFunc("FO9")
        call ExecuteFunc("FP9")
    elseif Y28 == 72 then
        call ExecuteFunc("FQ9")
        call ExecuteFunc("FR9")
        call ExecuteFunc("FS9")
        call ExecuteFunc("FT9")
    elseif Y28 == 94 then
        call ExecuteFunc("FU9")
    elseif Y28 == 6 then
        call ExecuteFunc("FV9")
        call ExecuteFunc("FW9")
        call ExecuteFunc("FX9")
    elseif Y28 == 104 then
        call ExecuteFunc("FY9")
        call ExecuteFunc("FZ9")
    elseif Y28 == 65 then
        call ExecuteFunc("FA9")
        call ExecuteFunc("FB9")
        call ExecuteFunc("FC9")
        call ExecuteFunc("F39")
        call ExecuteFunc("Register_Burrow")
    elseif Y28 == 111 then
        call ExecuteFunc("F69")
        call ExecuteFunc("FL9")
        call ExecuteFunc("F19")
        call ExecuteFunc("Register_WolfCripple")
    elseif Y28 == 63 then
        call ExecuteFunc("F09")
        call ExecuteFunc("F59")
        call ExecuteFunc("F29")
        call ExecuteFunc("ATB1")
    elseif Y28 == 45 then
        call ExecuteFunc("F_9")
        call ExecuteFunc("G49")
        call ExecuteFunc("G79")
        call ExecuteFunc("G89")
    elseif Y28 == 46 then
        call ExecuteFunc("G99")
        call ExecuteFunc("GD9")
        call ExecuteFunc("GE9")
        call ExecuteFunc("GF9")
    elseif Y28 == 47 then
        call ExecuteFunc("GG9")
        call ExecuteFunc("GH9")
        call ExecuteFunc("GI9")
        call ExecuteFunc("GJ9")
    elseif Y28 == 11 then
        call ExecuteFunc("GK9")
        call ExecuteFunc("GM9")
    elseif Y28 == 96 then
        call ExecuteFunc("GN9")
        call ExecuteFunc("GO9")
        call ExecuteFunc("GP9")
        call ExecuteFunc("GQ9")
    elseif Y28 == 15 then
        call ExecuteFunc("GR9")
        call ExecuteFunc("GS9")
        call ExecuteFunc("GT9")
        call ExecuteFunc("GU9")
    elseif Y28 == 97 then
        call ExecuteFunc("GV9")
        call ExecuteFunc("GW9")
        call ExecuteFunc("GX9")
        call ExecuteFunc("GY9")
        call ExecuteFunc("GZ9")
    elseif Y28 == 98 then
        call ExecuteFunc("GA9")
        call ExecuteFunc("GB9")
        call ExecuteFunc("GC9")
        call ExecuteFunc("G39")
        call ExecuteFunc("G69")
    elseif Y28 == 67 then
        call ExecuteFunc("GL9")
        call ExecuteFunc("AR91")
    elseif Y28 == 28 then
        call ExecuteFunc("G09")
        call ExecuteFunc("ARB1")
    elseif Y28 == 51 then
        call ExecuteFunc("G59")
        call ExecuteFunc("G29")
        call ExecuteFunc("G_9")
        call ExecuteFunc("H49")
        call ExecuteFunc("H79")
        call ExecuteFunc("H89")
        call ExecuteFunc("H99")
        call ExecuteFunc("ARV1")
    elseif Y28 == 100 then
    elseif Y28 == 101 then
        call ExecuteFunc("HD9")
        call ExecuteFunc("HE9")
        call ExecuteFunc("HF9")
        call ExecuteFunc("HG9")
    elseif Y28 == 48 then
        call ExecuteFunc("HH9")
        call ExecuteFunc("HI9")
        call ExecuteFunc("HJ9")
        call ExecuteFunc("HK9")
    elseif Y28 == 49 then
        call ExecuteFunc("HM9")
        call ExecuteFunc("HN9")
        call ExecuteFunc("HO9")
        call ExecuteFunc("HP9")
    elseif Y28 == 29 then
        call ExecuteFunc("HQ9")
        call ExecuteFunc("HR9")
        call ExecuteFunc("HS9")
        call ExecuteFunc("HT9")
    elseif Y28 == 50 then
        call ExecuteFunc("HU9")
        call ExecuteFunc("HV9")
        call ExecuteFunc("HW9")
        call ExecuteFunc("HX9")
        call ExecuteFunc("Register_WalrusKick")
    elseif Y28 == 30 then
        call ExecuteFunc("HY9")
        call ExecuteFunc("AP41")
        call ExecuteFunc("HZ9")
    elseif Y28 == 53 then
        call ExecuteFunc("HA9")
        call ExecuteFunc("HB9")
        call ExecuteFunc("HC9")
        call ExecuteFunc("H39")
    elseif Y28 == 103 then
        call ExecuteFunc("H69")
        call ExecuteFunc("Register_SpiritSiphon")
    elseif Y28 == 54 then
        call ExecuteFunc("HL9")
        call ExecuteFunc("H19")
        call ExecuteFunc("H09")
        call ExecuteFunc("H59")
        call ExecuteFunc("H29")
    elseif Y28 == 55 then
        call ExecuteFunc("H_9")
        call ExecuteFunc("I49")
        call ExecuteFunc("I79")
        call ExecuteFunc("I89")
    elseif Y28 == 56 then
        call ExecuteFunc("I99")
        call ExecuteFunc("ID9")
        call ExecuteFunc("IE9")
        call ExecuteFunc("IF9")
    elseif Y28 == 57 then
        call ExecuteFunc("IG9")
        call ExecuteFunc("IH9")
        call ExecuteFunc("II9")
        call ExecuteFunc("IJ9")
        call ExecuteFunc("APS1")
    elseif Y28 == 109 then
        call ExecuteFunc("IK9")
        call ExecuteFunc("IM9")
        call ExecuteFunc("IN9")
        call ExecuteFunc("IO9")
        call ExecuteFunc("IP9")
        call ExecuteFunc("IQ9")
    elseif Y28 == 110 then
        call ExecuteFunc("IR9")
        call ExecuteFunc("IS9")
        call ExecuteFunc("IT9")
        call ExecuteFunc("IU9")
        call ExecuteFunc("IV9")
    elseif Y28 == 35 then
        call ExecuteFunc("IW9")
        call ExecuteFunc("IX9")
        call ExecuteFunc("AQ61")
    elseif Y28 == 58 then
        call ExecuteFunc("IY9")
        call ExecuteFunc("IZ9")
        call ExecuteFunc("IA9")
        call ExecuteFunc("IB9")
        call ExecuteFunc("IC9")
        call ExecuteFunc("AQC1")
        set H04 = AM7
        call ExecuteFunc("I39")
    elseif Y28 == 59 then
        call ExecuteFunc("I69")
        call ExecuteFunc("IL9")
        call ExecuteFunc("I19")
        call ExecuteFunc("I09")
    endif
    set Y_8 = null
endfunction
function I29 takes player VR7, string I_9 returns nothing
    if IsPlayerInForce(GetLocalPlayer(), M4(VR7))then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, V9, 40, W[GetPlayerId(VR7)] + (KW4[GetPlayerId((VR7))]) + "|r " + I_9)
    endif
endfunction
function J49 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    set M34 = true
    call EA8(t)
    call DestroyFogModifier(CreateFogModifierRadius(G8[0], FOG_OF_WAR_MASKED, O54, O24, 700, false, false))
    call DestroyFogModifier(CreateFogModifierRadius(N8[0], FOG_OF_WAR_MASKED, O54, O24, 700, false, false))
    set t = null
    return false
endfunction
function J79 takes unit u returns boolean
    return GetUnitTypeId(u) != 'H00M' and GetUnitTypeId(u) != 'N0MM' and GetUnitTypeId(u) != 'H07G' and GetUnitTypeId(u) != 'H00Y' and GetUnitTypeId(u) != 'H00J' and GetUnitTypeId(u) != 'H0B8' and GetUnitTypeId(u) != 'Hvil'
endfunction
function J89 takes nothing returns boolean
    return IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and IsUnitIllusion(GetTriggerUnit()) == false and HaveSavedBoolean(R8, GetHandleId(GetTriggerUnit()), (85)) == false and J79(GetTriggerUnit())
endfunction
function J99 takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'n00C'
endfunction
function JD9 takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function JE9 takes player j8 returns nothing
    local group XS8 = OG8()
    local boolexpr hP = Condition(function J99)
    call GroupEnumUnitsOfPlayer(XS8, j8, hP)
    call ForGroup(XS8, function JD9)
    call DestroyBoolExpr(hP)
    call OF8(XS8)
    set hP = null
    set XS8 = null
endfunction
function JF9 takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'ncop'
endfunction
function JG9 takes nothing returns nothing
    if VT then
        call UnitRemoveAbility(KR4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))], 'A14E')
        call UnitRemoveAbility(KR4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))], 'A14H')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A0I4') == 0 then
        call UnitAddAbility(GetEnumUnit(), 'A0I4')
    endif
endfunction
function JH9 takes player p returns nothing
    local group g = OG8()
    call GroupEnumUnitsOfPlayer(g, p, Condition(function JF9))
    call ForGroup(g, function JG9)
    call OF8(g)
    set g = null
endfunction
function JI9 takes unit N28, player p returns string
    local string s = (GetObjectName(('n0DB')))
    set s = XD8(s, "$hero", GetUnitName(N28))
    set s = XD8(s, "$p", (KW4[GetPlayerId((p))]))
    return s
endfunction
function JJ9 takes unit JK9 returns nothing
    local item JM9 = UnitItemInSlot(JK9, 0)
    local item JN9 = UnitItemInSlot(JK9, 1)
    local item JO9 = UnitItemInSlot(JK9, 2)
    local item JP9 = UnitItemInSlot(JK9, 3)
    local item JQ9 = UnitItemInSlot(JK9, 4)
    local item JR9 = UnitItemInSlot(JK9, 5)
    local integer JS9 = ZX7(JM9)
    local integer JT9 = ZX7(JN9)
    local integer JU9 = ZX7(JO9)
    local integer JV9 = ZX7(JP9)
    local integer JW9 = ZX7(JQ9)
    local integer JX9 = ZX7(JR9)
    local integer JY9 = 0
    call DisableTrigger(GW4)
    call UnitRemoveItem(JK9, JM9)
    call UnitRemoveItem(JK9, JN9)
    call UnitRemoveItem(JK9, JO9)
    call UnitRemoveItem(JK9, JP9)
    call UnitRemoveItem(JK9, JQ9)
    call UnitRemoveItem(JK9, JR9)
    call RemoveItem(JM9)
    call RemoveItem(JN9)
    call RemoveItem(JO9)
    call RemoveItem(JP9)
    call RemoveItem(JQ9)
    call RemoveItem(JR9)
    call EnableTrigger(GW4)
    if JS9 >- 1 then
        set JY9 = JY9 + G14[JS9]
    endif
    if JT9 >- 1 then
        set JY9 = JY9 + G14[JT9]
    endif
    if JU9 >- 1 then
        set JY9 = JY9 + G14[JU9]
    endif
    if JV9 >- 1 then
        set JY9 = JY9 + G14[JV9]
    endif
    if JW9 >- 1 then
        set JY9 = JY9 + G14[JW9]
    endif
    if JX9 >- 1 then
        set JY9 = JY9 + G14[JX9]
    endif
    call SetPlayerState(GetOwningPlayer(JK9), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetOwningPlayer(JK9), PLAYER_STATE_RESOURCE_GOLD) + JY9)
    set JR9 = null
    set JQ9 = null
    set JP9 = null
    set JO9 = null
    set JN9 = null
    set JM9 = null
endfunction
function JZ9 takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local player j8 = GetOwningPlayer(AM7)
    local real x
    local real y
    local region r = CreateRegion()
    local player JA9 = j8
    local item JB9
    local trigger t
    local player p
    local string s
    local boolean heroAllPicked
    local integer i
    // if((AiHeroPickTrig != null)and(IsTriggerEnabled(AiHeroPickTrig)))then
    //     if((GetOwningPlayer(GetTriggerUnit()) == CaptainSent)and(RV4 != null))then
    //         call SetUnitOwner(GetTriggerUnit(), RV4, true)
    //         call SetUnitOwner(GetPlayerCircleOfPower(CaptainSent), CaptainSent, false)
    //         call SetUnitOwner(GetPlayerCircleOfPower(RV4), RV4, false)
    //         if(not oo[GetPlayerId(RV4)])then
    //             call AdjustPlayerStateBJ(250, CaptainSent, PLAYER_STATE_RESOURCE_GOLD)
    //             call AdjustPlayerStateBJ(- 250, RV4, PLAYER_STATE_RESOURCE_GOLD)
    //         endif
    //         call ExecuteFunc("AiRegSth")
    //         set RV4 = GetNextUnpick(RV4)
    //         if(RV4 != null)then
    //             if(not X4)then
    //                 call SetUnitOwner(GetPlayerCircleOfPower(CaptainSent), RV4, false)
    //                 call SetUnitOwner(GetPlayerCircleOfPower(RV4), CaptainSent, false)
    //             endif
    //             set s = "为" + W[GetPlayerId(RV4)] + GetPlayerName(RV4) + "|r选择一名英雄，输入 " + "|c00dd8dff" + "-px|r 取消"
    //             set p = CaptainSent
    //         else
    //             call RemoveUnit(Indicator0)
    //             call RemoveUnit(Indicator1)
    //             set Indicator0 = null
    //             set Indicator1 = null
    //             set s = "选择结束"
    //             set p = CaptainSent
    //             if not X4 then
    //                 call MP8(CaptainSent)
    //             endif
    //         endif
    //         call DisplayTimedTextToPlayer(p, 0, 0, 10., s)
    //         set p = null
    //     elseif((GetOwningPlayer(GetTriggerUnit()) == CaptainScrg)and(RW4 != null))then
    //         call SetUnitOwner(GetTriggerUnit(), RW4, true)
    //         call SetUnitOwner(GetPlayerCircleOfPower(CaptainScrg), CaptainScrg, false)
    //         call SetUnitOwner(GetPlayerCircleOfPower(RW4), RW4, false)
    //         if(not oo[GetPlayerId(RW4)])then
    //             call AdjustPlayerStateBJ(250, CaptainScrg, PLAYER_STATE_RESOURCE_GOLD)
    //             call AdjustPlayerStateBJ(- 250, RW4, PLAYER_STATE_RESOURCE_GOLD)
    //         endif
    //         call ExecuteFunc("AiRegSth")
    //         set RW4 = GetNextUnpick(RW4)
    //         if(RW4 != null)then
    //             if(not X4)then
    //                 call SetUnitOwner(GetPlayerCircleOfPower(CaptainScrg), RW4, false)
    //                 call SetUnitOwner(GetPlayerCircleOfPower(RW4), CaptainScrg, false)
    //             endif
    //             set s = "为" + W[GetPlayerId(RW4)] + GetPlayerName(RW4) + "|r选择一名英雄，输入 " + "|c00dd8dff" + "-px|r 取消"
    //             set p = CaptainScrg
    //         else
    //             call RemoveUnit(Indicator0)
    //             call RemoveUnit(Indicator1)
    //             set Indicator0 = null
    //             set Indicator1 = null
    //             set s = "选择结束"
    //             set p = CaptainScrg
    //             if not X4 then
    //                 call MP8(CaptainScrg)
    //             endif
    //         endif
    //         call DisplayTimedTextToPlayer(p, 0, 0, 10., s)
    //         set p = null
    //     endif
    // endif
    set j8 = GetOwningPlayer(AM7)
    set JA9 = j8
    if T4 == false then
        call WV8(GetOwningPlayer(AM7))
    endif
    if M34 == false then
        set i = 1
        set heroAllPicked = true
        loop
            exitwhen i > MAX_TEAM_PLAYERS or not heroAllPicked
            set heroAllPicked = (Y7[GetPlayerId(G8[i])] != null) and (Y7[GetPlayerId(N8[i])] != null)
            set i = i + 1
        endloop
        if heroAllPicked then
            set t = CreateTrigger()
            call TriggerRegisterTimerEvent(t, 7., false)
            call TriggerAddCondition(t, Condition(function J49))
            set t = null
        endif
    endif
    set HA4[GetPlayerId(GetOwningPlayer((AM7)))] = false
    call RegionAddRect(r, cE)
    if Y9 and A9 == false then
        set eo[GetPlayerId(j8)] = true
        set j8 = (LoadPlayerHandle(R8, (2000), (550 + GetPlayerId(j8))))
        call SetUnitOwner(AM7, j8, true)
        // if(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)and not T4 then
        //     call DU8(S44,"AIHSwap|U",AM7)
        //     call ExecuteFunc("AiRegSthSwap")
        // endif
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A2TS', false)
    if KN8(GetOwningPlayer(AM7))then
        if IsUnitInRegion(r, AM7)then
            set x = GetRandomReal(GetRectMinX(QD), GetRectMaxX(QD))
            set y = GetRandomReal(GetRectMinY(QD), GetRectMaxY(QD))
        else
            set x = GetUnitX(AM7)
            set y = GetUnitY(AM7)
        endif
    else
        if IsUnitInRegion(r, AM7)then
            set x = GetRandomReal(GetRectMinX(PD), GetRectMaxX(PD))
            set y = GetRandomReal(GetRectMinY(PD), GetRectMaxY(PD))
        else
            set x = GetUnitX(AM7)
            set y = GetUnitY(AM7)
        endif
    endif
    set Z9[GetPlayerId(j8)] = true
    if(not Y9 or A9)then
        if OL4 == false and O14 == false then
            call PanCameraToTimedForPlayer(j8, x, y, 0)
        endif
        if GetUnitTypeId(AM7) != 'N0MM' then
            call ClearSelectionForPlayer(j8)
        endif
        call SelectUnitAddForPlayer(AM7, j8)
    endif
    call SetUnitX(AM7, x)
    call SetUnitY(AM7, y)
    if GetUnitTypeId(AM7) != 'N0MM' then
        set Y7[GetPlayerId(j8)] = AM7
    endif
    call W58(j8, "9", GetUnitTypeId(AM7))
    if Y9 and A9 == false then
        call MM8(JA9)
    else
        call MM8(j8)
    endif
    call SaveBoolean(R8, (GetHandleId(AM7)), (85), (true))
    if not E9 then
        set O[GetUnitPointValue(AM7)] = true
        call MJ8(GetUnitTypeId(AM7))
    endif
    if T4 then
        if KN8(j8)then
            set B7[0] = B7[0] + 1
        else
            set B7[1] = B7[1] + 1
        endif
    endif
    if T4 then
        set Be[GetPlayerId(j8)] = Be[GetPlayerId(j8)] + 1
        if Be[GetPlayerId(GetOwningPlayer(AM7))] > 1 and AM7 != D8[GetPlayerId(GetOwningPlayer(AM7))]then
            call YV8(D8[GetPlayerId(GetOwningPlayer(AM7))])
            call SetHeroXP(AM7, GetHeroXP(D8[GetPlayerId(GetOwningPlayer(AM7))]), false)
            if GetPlayerController(GetOwningPlayer(AM7)) == MAP_CONTROL_USER then
                call DisableTrigger(GW4)
                call UnitAddItem(AM7, UnitItemInSlot(D8[GetPlayerId(GetOwningPlayer(AM7))], 0))
                call UnitAddItem(AM7, UnitItemInSlot(D8[GetPlayerId(GetOwningPlayer(AM7))], 1))
                call UnitAddItem(AM7, UnitItemInSlot(D8[GetPlayerId(GetOwningPlayer(AM7))], 2))
                call UnitAddItem(AM7, UnitItemInSlot(D8[GetPlayerId(GetOwningPlayer(AM7))], 3))
                call UnitAddItem(AM7, UnitItemInSlot(D8[GetPlayerId(GetOwningPlayer(AM7))], 4))
                call UnitAddItem(AM7, UnitItemInSlot(D8[GetPlayerId(GetOwningPlayer(AM7))], 5))
                call EnableTrigger(GW4)
            else
                call JJ9(D8[GetPlayerId(GetOwningPlayer(AM7))])
            endif
            if YU8(D8[GetPlayerId(GetOwningPlayer(AM7))])then
                call YY8(D8[GetPlayerId(GetOwningPlayer(AM7))])
            else
                call PA8(D8[GetPlayerId(GetOwningPlayer(AM7))])
            endif
        endif
    endif
    if j8 != G8[0]and j8 != N8[0]then
        if Y9 then
            if TimerGetElapsed(E4) > 60 then
                call I29(j8, GetObjectName('n02E') + " " + GetUnitName(AM7))
            elseif D7[GetPlayerId(JA9)] then
                call I29(j8, JI9(AM7, JA9))
            else
                call SetPlayerState(JA9, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(JA9, PLAYER_STATE_RESOURCE_GOLD) + 250)
                call I29(j8, GetObjectName('n0D1') + " " + GetUnitName(AM7) + " " + GetObjectName('n0D0') + " " + (KW4[GetPlayerId((JA9))]))
            endif
        elseif HO4 == false or j8 == V8 then
            if(B[GetPlayerId(GetOwningPlayer(AM7))] and HO4 == false)then
                call I29(j8, GetObjectName('n0D5') + " " + GetUnitName(AM7) + ".")
            elseif((D7[GetPlayerId(j8)] and T4 == false)or V4 or W4 or O9)then
                call I29(j8, GetObjectName('n0D3') + " " + GetUnitName(AM7) + ".")
            else
                call I29(j8, GetObjectName('n0D2') + " " + GetUnitName(AM7) + ".")
            endif
        endif
    endif
    if GV4 then
        if Y9 then
            call JE9(JA9)
        else
            call JE9(j8)
        endif
    endif
    if(OL4 or O14)and GV4 then
        call JE9(j8)
    endif
    call JH9(j8)
    if(GetUnitTypeId(AM7) == 'E005')then
        call DisplayTimedTextToPlayer(j8, 0, V9, 60., " ")
        call DisplayTimedTextToPlayer(j8, 0, V9, 60., "|c00ff0303" + (GetObjectName('n06H')) + (GetObjectName('n0CB')) + " " + (GetObjectName('n06E')) + "|r")
    elseif GetUnitTypeId(AM7) == 'O00J' or GetUnitTypeId(AM7) == 'N016' or GetUnitTypeId(AM7) == 'UC91' or GetUnitTypeId(AM7) == 'EC45' then
        call DisplayTimedTextToPlayer(j8, 0, V9, 10., " ")
        call DisplayTimedTextToPlayer(j8, 0, V9, 10., "|c00ff0303" + (GetObjectName('n0G3')) + "|r")
    endif
    if(GetUnitTypeId(AM7) == 'E01B')then
        call DisplayTimedTextToPlayer(j8, 0, V9, 30., " ")
        call DisplayTimedTextToPlayer(j8, 0, V9, 30., "|c00ff0303" + (GetObjectName('n06P')) + " " + (GetObjectName('n06U')) + "|r")
    endif
    if(D7[GetPlayerId(j8)] == false)then
        if(F9)then
            call SetPlayerState(j8, PLAYER_STATE_RESOURCE_GOLD, 175 + GetPlayerState(j8, PLAYER_STATE_RESOURCE_GOLD))
        endif
    endif
    if HaveSavedBoolean(R8, 600 + GetUnitPointValue(AM7), 87) == false then
        call SaveBoolean(R8, (600 + GetUnitPointValue(AM7)), (87), (true))
        call Y58(AM7)
    endif
    set H04 = AM7
    call ExecuteFunc("J39")
    if ib[GetPlayerId(GetLocalPlayer())] == false then
        call SetPlayerName(j8, (KW4[GetPlayerId((j8))]) + " (" + NC8(Y7[GetPlayerId(j8)]) + ")")
    endif
    call RemoveRegion(r)
    set r = null
    set AM7 = null
    set JB9 = null
endfunction
function J69 takes nothing returns boolean
    return(IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) != null)
endfunction
function JL9 takes nothing returns nothing
    // if((AiHeroPickTrig != null)and(IsTriggerEnabled(AiHeroPickTrig)))then
    //     if((GetOwningPlayer(GetSoldUnit()) == CaptainSent)and(RV4 != null))then
    //         return
    //     elseif((GetOwningPlayer(GetSoldUnit()) == CaptainScrg)and(RW4 != null))then
    //         return
    //     endif
    // endif
    call MM8(GetOwningPlayer(GetSoldUnit()))
endfunction
function U31 takes player p, integer J09 returns nothing
    local integer player_id = GetPlayerId(p)
    // if(IsPlayerInForce(p, AiForce))then
    //     set FF7[player_id] = FF7[player_id] + (I2R(g_aiStateInt[48 + player_id]) / 8) + I2R(J09)
    //     set J09 = R2I(FF7[player_id])
    //     set FF7[player_id] = FF7[player_id] - I2R(J09)
    // endif
    set AEK0[player_id] = AEK0[player_id] + J09
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) + J09)
endfunction
function J19 takes nothing returns boolean
    local integer J09 = 1
    if F7 then
        set J09 = 2
    endif
    //! textmacro J19Mac takes PLAYER_RANK
        if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call U31(G8[$PLAYER_RANK$], J09)
            call U31(N8[$PLAYER_RANK$], J09)
        endif
    //! endtextmacro
    //! runtextmacro J19Mac("1")
    //! runtextmacro J19Mac("2")
    //! runtextmacro J19Mac("3")
    //! runtextmacro J19Mac("4")
    //! runtextmacro J19Mac("5")
    //! runtextmacro J19Mac("6")
    //! runtextmacro J19Mac("7")
    //! runtextmacro J19Mac("8")
    //! runtextmacro J19Mac("9")
    //! runtextmacro J19Mac("10")
    //! runtextmacro J19Mac("11")
    return false
endfunction
function GetHeroCooldownReduced takes unit AM7, integer TX8, boolean isSpellEffect returns real
    local real factor = 1.
    local real cd = FbGetAbilityCooldown(TX8, GetUnitAbilityLevel(AM7, TX8))
    if cd > 0. then
        if AV7(AM7, BU[IOC]) != null then
            set factor = factor * .75
        endif
        if GetUnitAbilityLevel(AM7, 'B3R4') > 0 then
            set factor = factor * .7
        endif
        if isSpellEffect and GetUnitAbilityLevel(AM7, 'A3DU') > 0 and X38(AM7, TX8) == false then
            set cd = RMaxBJ(cd - (2. + 1. * GetUnitAbilityLevel(AM7, 'A3DU')), 0.01)
        endif
        return cd * factor
    else
        return 0.
    endif
endfunction
function StartHeroCooldownReduced takes unit AM7, integer TX8 returns nothing
    local real cd = GetHeroCooldownReduced(AM7, TX8, true)
    if cd > 0. then
        call BlzStartUnitAbilityCooldown(AM7, TX8, GetHeroCooldownReduced(AM7, TX8, true))
    endif
    if GetUnitAbilityLevel(AM7, 'A3DU') > 0 and X38(AM7, TX8) == false then
        call UnitRemoveAbility(AM7, 'A3DU')
        call UnitRemoveAbility(AM7, 'B3DU')
    endif
endfunction
function J59 takes nothing returns boolean
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and(LoadInteger(M24, (GetSpellAbilityId()), (GetUnitAbilityLevel(GetTriggerUnit(), GetSpellAbilityId())))) > 0 then
        call TimerStart(M_4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], GetHeroCooldownReduced(GetTriggerUnit(), GetSpellAbilityId(), true), false, null)
    endif
    if GetSpellAbilityId() == 'A02W' then
        call TimerStart(M_4[GetPlayerId((GetOwningPlayer(GetTriggerUnit())))], 0, false, null)
    endif
    return false
endfunction
function J29 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J59))
    set i = 0
    loop
        exitwhen(i > 13)
        set M_4[i] = CreateTimer()
        set i = i + 1
    endloop
    set M24 = InitHashtable()
    call SaveInteger(M24, ('A11K'), (1), (60))
    call SaveInteger(M24, ('A11K'), (2), (50))
    call SaveInteger(M24, ('A11K'), (3), (40))
    call SaveInteger(M24, ('A3OF'), (1), (60))
    call SaveInteger(M24, ('A3OF'), (2), (50))
    call SaveInteger(M24, ('A3OF'), (3), (40))
    call SaveInteger(M24, ('A0O2'), (1), (80))
    call SaveInteger(M24, ('A0O2'), (2), (75))
    call SaveInteger(M24, ('A0O2'), (3), (70))
    call SaveInteger(M24, ('A289'), (1), (45))
    call SaveInteger(M24, ('A289'), (2), (45))
    call SaveInteger(M24, ('A289'), (3), (45))
    call SaveInteger(M24, ('A0DH'), (1), (150))
    call SaveInteger(M24, ('A0DH'), (2), (130))
    call SaveInteger(M24, ('A0DH'), (3), (110))
    call SaveInteger(M24, ('A1OB'), (1), (150))
    call SaveInteger(M24, ('A1OB'), (2), (130))
    call SaveInteger(M24, ('A1OB'), (3), (110))
    call SaveInteger(M24, ('A0ER'), (1), (150))
    call SaveInteger(M24, ('A0ER'), (2), (150))
    call SaveInteger(M24, ('A0ER'), (3), (150))
    call SaveInteger(M24, ('A2S8'), (1), (150))
    call SaveInteger(M24, ('A2S8'), (2), (150))
    call SaveInteger(M24, ('A2S8'), (3), (150))
    call SaveInteger(M24, ('A0MQ'), (1), (140))
    call SaveInteger(M24, ('A0MQ'), (2), (120))
    call SaveInteger(M24, ('A0MQ'), (3), (100))
    call SaveInteger(M24, ('A1B6'), (1), (140))
    call SaveInteger(M24, ('A1B6'), (2), (120))
    call SaveInteger(M24, ('A1B6'), (3), (100))
    call SaveInteger(M24, ('A1WH'), (1), (80))
    call SaveInteger(M24, ('A1WH'), (2), (80))
    call SaveInteger(M24, ('A1WH'), (3), (80))
    call SaveInteger(M24, ('A1A1'), (1), (100))
    call SaveInteger(M24, ('A1A1'), (2), (100))
    call SaveInteger(M24, ('A1A1'), (3), (100))
    call SaveInteger(M24, ('A07Z'), (1), (70))
    call SaveInteger(M24, ('A07Z'), (2), (70))
    call SaveInteger(M24, ('A07Z'), (3), (70))
    call SaveInteger(M24, ('ANcr'), (1), (45))
    call SaveInteger(M24, ('ANcr'), (2), (45))
    call SaveInteger(M24, ('ANcr'), (3), (45))
    call SaveInteger(M24, ('A0Z8'), (1), (70))
    call SaveInteger(M24, ('A0Z8'), (2), (55))
    call SaveInteger(M24, ('A0Z8'), (3), (40))
    call SaveInteger(M24, ('A1CV'), (1), (12))
    call SaveInteger(M24, ('A1CV'), (2), (12))
    call SaveInteger(M24, ('A1CV'), (3), (12))
    call SaveInteger(M24, ('A03G'), (1), (115))
    call SaveInteger(M24, ('A03G'), (2), (115))
    call SaveInteger(M24, ('A03G'), (3), (115))
    call SaveInteger(M24, ('A29L'), (1), (120))
    call SaveInteger(M24, ('A29L'), (2), (110))
    call SaveInteger(M24, ('A29L'), (3), (100))
    call SaveInteger(M24, ('A0QR'), (1), (45))
    call SaveInteger(M24, ('A0QR'), (2), (30))
    call SaveInteger(M24, ('A0QR'), (3), (15))
    call SaveInteger(M24, ('A1B3'), (1), (4))
    call SaveInteger(M24, ('A1B3'), (2), (4))
    call SaveInteger(M24, ('A1B3'), (3), (4))
    call SaveInteger(M24, ('A06R'), (1), (140))
    call SaveInteger(M24, ('A06R'), (2), (120))
    call SaveInteger(M24, ('A06R'), (3), (100))
    call SaveInteger(M24, ('A0G4'), (1), (80))
    call SaveInteger(M24, ('A0G4'), (2), (70))
    call SaveInteger(M24, ('A0G4'), (3), (60))
    call SaveInteger(M24, ('A1D8'), (1), (20))
    call SaveInteger(M24, ('A1D8'), (2), (20))
    call SaveInteger(M24, ('A1D8'), (3), (20))
    call SaveInteger(M24, ('A29I'), (1), (150))
    call SaveInteger(M24, ('A29I'), (2), (150))
    call SaveInteger(M24, ('A29I'), (3), (150))
    call SaveInteger(M24, ('A0E2'), (1), (75))
    call SaveInteger(M24, ('A0E2'), (2), (65))
    call SaveInteger(M24, ('A0E2'), (3), (55))
    call SaveInteger(M24, ('A1MR'), (1), (6))
    call SaveInteger(M24, ('A1MR'), (2), (6))
    call SaveInteger(M24, ('A1MR'), (3), (6))
    call SaveInteger(M24, ('A03O'), (1), (140))
    call SaveInteger(M24, ('A03O'), (2), (140))
    call SaveInteger(M24, ('A03O'), (3), (140))
    call SaveInteger(M24, ('A0MU'), (1), (100))
    call SaveInteger(M24, ('A0MU'), (2), (100))
    call SaveInteger(M24, ('A0MU'), (3), (100))
    call SaveInteger(M24, ('A0A2'), (1), (100))
    call SaveInteger(M24, ('A0A2'), (2), (100))
    call SaveInteger(M24, ('A0A2'), (3), (100))
    call SaveInteger(M24, ('A0SW'), (1), (100))
    call SaveInteger(M24, ('A0SW'), (2), (100))
    call SaveInteger(M24, ('A0SW'), (3), (100))
    call SaveInteger(M24, ('A093'), (1), (120))
    call SaveInteger(M24, ('A093'), (2), (90))
    call SaveInteger(M24, ('A093'), (3), (60))
    call SaveInteger(M24, ('A03K'), (1), (180))
    call SaveInteger(M24, ('A03K'), (2), (150))
    call SaveInteger(M24, ('A03K'), (3), (120))
    call SaveInteger(M24, ('A1B0'), (1), (180))
    call SaveInteger(M24, ('A1B0'), (2), (150))
    call SaveInteger(M24, ('A1B0'), (3), (120))
    call SaveInteger(M24, ('A0R0'), (1), (130))
    call SaveInteger(M24, ('A0R0'), (2), (130))
    call SaveInteger(M24, ('A0R0'), (3), (130))
    call SaveInteger(M24, ('A0FL'), (1), (30))
    call SaveInteger(M24, ('A0FL'), (2), (30))
    call SaveInteger(M24, ('A0FL'), (3), (30))
    call SaveInteger(M24, ('A034'), (1), (5))
    call SaveInteger(M24, ('A034'), (2), (5))
    call SaveInteger(M24, ('A034'), (3), (5))
    call SaveInteger(M24, ('A15J'), (1), (75))
    call SaveInteger(M24, ('A15J'), (2), (75))
    call SaveInteger(M24, ('A15J'), (3), (75))
    call SaveInteger(M24, ('A2WE'), (1), (70))
    call SaveInteger(M24, ('A2WE'), (2), (70))
    call SaveInteger(M24, ('A2WE'), (3), (70))
    call SaveInteger(M24, ('A04P'), (1), (20))
    call SaveInteger(M24, ('A04P'), (2), (15))
    call SaveInteger(M24, ('A04P'), (3), (10))
    call SaveInteger(M24, ('A0M1'), (1), (130))
    call SaveInteger(M24, ('A0M1'), (2), (120))
    call SaveInteger(M24, ('A0M1'), (3), (110))
    call SaveInteger(M24, ('A1AX'), (1), (70))
    call SaveInteger(M24, ('A1AX'), (2), (70))
    call SaveInteger(M24, ('A1AX'), (3), (70))
    call SaveInteger(M24, ('A054'), (1), (160))
    call SaveInteger(M24, ('A054'), (2), (150))
    call SaveInteger(M24, ('A054'), (3), (140))
    call SaveInteger(M24, ('A00U'), (1), (160))
    call SaveInteger(M24, ('A00U'), (2), (150))
    call SaveInteger(M24, ('A00U'), (3), (140))
    call SaveInteger(M24, ('A0G8'), (1), (80))
    call SaveInteger(M24, ('A0G8'), (2), (80))
    call SaveInteger(M24, ('A0G8'), (3), (80))
    call SaveInteger(M24, ('A07U'), (1), (180))
    call SaveInteger(M24, ('A07U'), (2), (120))
    call SaveInteger(M24, ('A07U'), (3), (60))
    call SaveInteger(M24, ('A38E'), (1), (180))
    call SaveInteger(M24, ('A38E'), (2), (120))
    call SaveInteger(M24, ('A38E'), (3), (60))
    call SaveInteger(M24, ('A0KU'), (1), (140))
    call SaveInteger(M24, ('A0KU'), (2), (120))
    call SaveInteger(M24, ('A0KU'), (3), (100))
    call SaveInteger(M24, ('A1EJ'), (1), (30))
    call SaveInteger(M24, ('A1EJ'), (2), (30))
    call SaveInteger(M24, ('A1EJ'), (3), (30))
    call SaveInteger(M24, ('A0B4'), (1), (4))
    call SaveInteger(M24, ('A0B4'), (2), (4))
    call SaveInteger(M24, ('A0B4'), (3), (4))
    call SaveInteger(M24, ('A1IN'), (1), (60))
    call SaveInteger(M24, ('A1IN'), (2), (60))
    call SaveInteger(M24, ('A1IN'), (3), (60))
    call SaveInteger(M24, ('A0J1'), (1), (130))
    call SaveInteger(M24, ('A0J1'), (2), (115))
    call SaveInteger(M24, ('A0J1'), (3), (100))
    call SaveInteger(M24, ('A1D7'), (1), (60))
    call SaveInteger(M24, ('A1D7'), (2), (60))
    call SaveInteger(M24, ('A1D7'), (3), (60))
    call SaveInteger(M24, ('A1MI'), (1), (40))
    call SaveInteger(M24, ('A1MI'), (2), (40))
    call SaveInteger(M24, ('A1MI'), (3), (40))
    call SaveInteger(M24, ('A2QE'), (1), (40))
    call SaveInteger(M24, ('A2QE'), (2), (40))
    call SaveInteger(M24, ('A2QE'), (3), (40))
    call SaveInteger(M24, ('A1AO'), (1), (80))
    call SaveInteger(M24, ('A1AO'), (2), (70))
    call SaveInteger(M24, ('A1AO'), (3), (60))
    call SaveInteger(M24, ('A1UV'), (1), (80))
    call SaveInteger(M24, ('A1UV'), (2), (70))
    call SaveInteger(M24, ('A1UV'), (3), (60))
    call SaveInteger(M24, ('A1NE'), (1), (180))
    call SaveInteger(M24, ('A1NE'), (2), (160))
    call SaveInteger(M24, ('A1NE'), (3), (140))
    call SaveInteger(M24, ('A2IG'), (1), (180))
    call SaveInteger(M24, ('A2IG'), (2), (160))
    call SaveInteger(M24, ('A2IG'), (3), (140))
    call SaveInteger(M24, ('A1AT'), (1), (90))
    call SaveInteger(M24, ('A1AT'), (2), (90))
    call SaveInteger(M24, ('A1AT'), (3), (90))
    call SaveInteger(M24, ('A0RP'), (1), (11))
    call SaveInteger(M24, ('A0RP'), (2), (9))
    call SaveInteger(M24, ('A0RP'), (3), (7))
    call SaveInteger(M24, ('A0LC'), (1), (50))
    call SaveInteger(M24, ('A0LC'), (2), (40))
    call SaveInteger(M24, ('A0LC'), (3), (30))
    call SaveInteger(M24, ('A3NY'), (1), (30))
    call SaveInteger(M24, ('A3NY'), (2), (24))
    call SaveInteger(M24, ('A3NY'), (3), (18))
    call SaveInteger(M24, ('A0IN'), (1), (45))
    call SaveInteger(M24, ('A0IN'), (2), (45))
    call SaveInteger(M24, ('A0IN'), (3), (45))
    call SaveInteger(M24, ('A1AW'), (1), (10))
    call SaveInteger(M24, ('A1AW'), (2), (10))
    call SaveInteger(M24, ('A1AW'), (3), (10))
    call SaveInteger(M24, ('A0LH'), (1), (70))
    call SaveInteger(M24, ('A0LH'), (2), (60))
    call SaveInteger(M24, ('A0LH'), (3), (50))
    call SaveInteger(M24, ('A04Q'), (1), (45))
    call SaveInteger(M24, ('A04Q'), (2), (40))
    call SaveInteger(M24, ('A04Q'), (3), (35))
    call SaveInteger(M24, ('A0WQ'), (1), (45))
    call SaveInteger(M24, ('A0WQ'), (2), (45))
    call SaveInteger(M24, ('A0WQ'), (3), (45))
    call SaveInteger(M24, ('A09U'), (1), (70))
    call SaveInteger(M24, ('A09U'), (2), (60))
    call SaveInteger(M24, ('A09U'), (3), (50))
    call SaveInteger(M24, ('A0CT'), (1), (60))
    call SaveInteger(M24, ('A0CT'), (2), (50))
    call SaveInteger(M24, ('A0CT'), (3), (40))
    call SaveInteger(M24, ('A3DM'), (1), (20))
    call SaveInteger(M24, ('A3DM'), (2), (20))
    call SaveInteger(M24, ('A3DM'), (3), (20))
    call SaveInteger(M24, ('A29J'), (1), (120))
    call SaveInteger(M24, ('A29J'), (2), (110))
    call SaveInteger(M24, ('A29J'), (3), (100))
    call SaveInteger(M24, ('A07Q'), (1), (120))
    call SaveInteger(M24, ('A07Q'), (2), (80))
    call SaveInteger(M24, ('A07Q'), (3), (40))
    call SaveInteger(M24, ('A0H9'), (1), (120))
    call SaveInteger(M24, ('A0H9'), (2), (120))
    call SaveInteger(M24, ('A0H9'), (3), (120))
    call SaveInteger(M24, ('A013'), (1), (140))
    call SaveInteger(M24, ('A013'), (2), (120))
    call SaveInteger(M24, ('A013'), (3), (100))
    call SaveInteger(M24, ('A0A6'), (1), (140))
    call SaveInteger(M24, ('A0A6'), (2), (120))
    call SaveInteger(M24, ('A0A6'), (3), (60))
    call SaveInteger(M24, ('A080'), (1), (80))
    call SaveInteger(M24, ('A080'), (2), (50))
    call SaveInteger(M24, ('A080'), (3), (30))
    call SaveInteger(M24, ('A03R'), (1), (150))
    call SaveInteger(M24, ('A03R'), (2), (120))
    call SaveInteger(M24, ('A03R'), (3), (90))
    call SaveInteger(M24, ('A0AV'), (1), (150))
    call SaveInteger(M24, ('A0AV'), (2), (120))
    call SaveInteger(M24, ('A0AV'), (3), (90))
    call SaveInteger(M24, ('A0S8'), (1), (85))
    call SaveInteger(M24, ('A0S8'), (2), (85))
    call SaveInteger(M24, ('A0S8'), (3), (85))
    call SaveInteger(M24, ('A1QP'), (1), (85))
    call SaveInteger(M24, ('A1QP'), (2), (85))
    call SaveInteger(M24, ('A1QP'), (3), (85))
    call SaveInteger(M24, ('A0LT'), (1), (160))
    call SaveInteger(M24, ('A0LT'), (2), (140))
    call SaveInteger(M24, ('A0LT'), (3), (120))
    call SaveInteger(M24, ('A1CS'), (1), (30))
    call SaveInteger(M24, ('A1CS'), (2), (30))
    call SaveInteger(M24, ('A1CS'), (3), (30))
    call SaveInteger(M24, ('A11T'), (1), (80))
    call SaveInteger(M24, ('A11T'), (2), (70))
    call SaveInteger(M24, ('A11T'), (3), (60))
    call SaveInteger(M24, ('A1W8'), (1), (90))
    call SaveInteger(M24, ('A1W8'), (2), (75))
    call SaveInteger(M24, ('A1W8'), (3), (60))
    call SaveInteger(M24, ('A1W9'), (1), (90))
    call SaveInteger(M24, ('A1W9'), (2), (75))
    call SaveInteger(M24, ('A1W9'), (3), (60))
    call SaveInteger(M24, ('A29G'), (1), (90))
    call SaveInteger(M24, ('A29G'), (2), (90))
    call SaveInteger(M24, ('A29G'), (3), (90))
    call SaveInteger(M24, ('A29H'), (1), (90))
    call SaveInteger(M24, ('A29H'), (2), (90))
    call SaveInteger(M24, ('A29H'), (3), (90))
    call SaveInteger(M24, ('A0L3'), (1), (130))
    call SaveInteger(M24, ('A0L3'), (2), (130))
    call SaveInteger(M24, ('A0L3'), (3), (130))
    call SaveInteger(M24, ('A2QC'), (1), (130))
    call SaveInteger(M24, ('A2QC'), (2), (130))
    call SaveInteger(M24, ('A2QC'), (3), (130))
    call SaveInteger(M24, ('A01P'), (1), (70))
    call SaveInteger(M24, ('A01P'), (2), (60))
    call SaveInteger(M24, ('A01P'), (3), (50))
    call SaveInteger(M24, ('A09Z'), (1), (70))
    call SaveInteger(M24, ('A09Z'), (2), (60))
    call SaveInteger(M24, ('A09Z'), (3), (50))
    call SaveInteger(M24, ('A12P'), (1), (60))
    call SaveInteger(M24, ('A12P'), (2), (60))
    call SaveInteger(M24, ('A12P'), (3), (60))
    call SaveInteger(M24, ('A1D6'), (1), (15))
    call SaveInteger(M24, ('A1D6'), (2), (15))
    call SaveInteger(M24, ('A1D6'), (3), (15))
    call SaveInteger(M24, ('A19O'), (1), (90))
    call SaveInteger(M24, ('A19O'), (2), (75))
    call SaveInteger(M24, ('A19O'), (3), (60))
    call SaveInteger(M24, ('A1MV'), (1), (90))
    call SaveInteger(M24, ('A1MV'), (2), (75))
    call SaveInteger(M24, ('A1MV'), (3), (60))
    call SaveInteger(M24, ('A0AK'), (1), (10))
    call SaveInteger(M24, ('A0AK'), (2), (10))
    call SaveInteger(M24, ('A0AK'), (3), (10))
    call SaveInteger(M24, ('A1FY'), (1), (10))
    call SaveInteger(M24, ('A1FY'), (2), (10))
    call SaveInteger(M24, ('A1FY'), (3), (10))
    call SaveInteger(M24, ('A0VF'), (1), (22))
    call SaveInteger(M24, ('A0VF'), (2), (17))
    call SaveInteger(M24, ('A0VF'), (3), (12))
    call SaveInteger(M24, ('A0VF'), (4), (5))
    call SaveInteger(M24, ('A1B5'), (1), (16))
    call SaveInteger(M24, ('A1B5'), (2), (8))
    call SaveInteger(M24, ('A1B5'), (3), (4))
    call SaveInteger(M24, ('A1B5'), (4), (2))
    call SaveInteger(M24, ('A07K'), (1), (6))
    call SaveInteger(M24, ('A07K'), (2), (6))
    call SaveInteger(M24, ('A07K'), (3), (6))
    call SaveInteger(M24, ('A10Q'), (1), (40))
    call SaveInteger(M24, ('A10Q'), (2), (40))
    call SaveInteger(M24, ('A10Q'), (3), (40))
    call SaveInteger(M24, ('A1DB'), (1), (40))
    call SaveInteger(M24, ('A1DB'), (2), (40))
    call SaveInteger(M24, ('A1DB'), (3), (40))
    call SaveInteger(M24, ('A00H'), (1), (120))
    call SaveInteger(M24, ('A00H'), (2), (120))
    call SaveInteger(M24, ('A00H'), (3), (120))
    call SaveInteger(M24, ('A0A1'), (1), (120))
    call SaveInteger(M24, ('A0A1'), (2), (120))
    call SaveInteger(M24, ('A0A1'), (3), (120))
    call SaveInteger(M24, ('A0O5'), (1), (60))
    call SaveInteger(M24, ('A0O5'), (2), (60))
    call SaveInteger(M24, ('A0O5'), (3), (60))
    call SaveInteger(M24, ('A1B1'), (1), (60))
    call SaveInteger(M24, ('A1B1'), (2), (60))
    call SaveInteger(M24, ('A1B1'), (3), (60))
    call SaveInteger(M24, ('A0NT'), (1), (80))
    call SaveInteger(M24, ('A0NT'), (2), (80))
    call SaveInteger(M24, ('A0NT'), (3), (80))
    call SaveInteger(M24, ('A0NX'), (1), (80))
    call SaveInteger(M24, ('A0NX'), (2), (80))
    call SaveInteger(M24, ('A0NX'), (3), (80))
    call SaveInteger(M24, ('A02Q'), (1), (100))
    call SaveInteger(M24, ('A02Q'), (2), (100))
    call SaveInteger(M24, ('A02Q'), (3), (100))
    call SaveInteger(M24, ('A1D9'), (1), (100))
    call SaveInteger(M24, ('A1D9'), (2), (100))
    call SaveInteger(M24, ('A1D9'), (3), (100))
    call SaveInteger(M24, ('A0QK'), (1), (100))
    call SaveInteger(M24, ('A0QK'), (2), (100))
    call SaveInteger(M24, ('A0QK'), (3), (100))
    call SaveInteger(M24, ('A073'), (1), (135))
    call SaveInteger(M24, ('A073'), (2), (135))
    call SaveInteger(M24, ('A073'), (3), (135))
    call SaveInteger(M24, ('A095'), (1), (160))
    call SaveInteger(M24, ('A095'), (2), (100))
    call SaveInteger(M24, ('A095'), (3), (40))
    call SaveInteger(M24, ('A09W'), (1), (100))
    call SaveInteger(M24, ('A09W'), (2), (60))
    call SaveInteger(M24, ('A09W'), (3), (20))
    call SaveInteger(M24, ('A1BX'), (1), (200))
    call SaveInteger(M24, ('A1BX'), (2), (190))
    call SaveInteger(M24, ('A1BX'), (3), (180))
    call SaveInteger(M24, ('A2TX'), (1), (200))
    call SaveInteger(M24, ('A2TX'), (2), (190))
    call SaveInteger(M24, ('A2TX'), (3), (180))
    call SaveInteger(M24, ('A05T'), (1), (120))
    call SaveInteger(M24, ('A05T'), (2), (90))
    call SaveInteger(M24, ('A05T'), (3), (60))
    call SaveInteger(M24, ('A08H'), (1), (120))
    call SaveInteger(M24, ('A08H'), (2), (90))
    call SaveInteger(M24, ('A08H'), (3), (60))
    call SaveInteger(M24, ('A067'), (1), (100))
    call SaveInteger(M24, ('A067'), (2), (85))
    call SaveInteger(M24, ('A067'), (3), (70))
    call SaveInteger(M24, ('A08P'), (1), (70))
    call SaveInteger(M24, ('A08P'), (2), (70))
    call SaveInteger(M24, ('A08P'), (3), (70))
    call SaveInteger(M24, ('A0CC'), (1), (22))
    call SaveInteger(M24, ('A0CC'), (2), (22))
    call SaveInteger(M24, ('A0CC'), (3), (22))
    call SaveInteger(M24, ('A0OK'), (1), (160))
    call SaveInteger(M24, ('A0OK'), (2), (160))
    call SaveInteger(M24, ('A0OK'), (3), (160))
    call SaveInteger(M24, ('A1VW'), (1), (160))
    call SaveInteger(M24, ('A1VW'), (2), (160))
    call SaveInteger(M24, ('A1VW'), (3), (160))
    call SaveInteger(M24, ('A306'), (1), (135))
    call SaveInteger(M24, ('A306'), (2), (135))
    call SaveInteger(M24, ('A306'), (3), (135))
    call SaveInteger(M24, ('A307'), (1), (40))
    call SaveInteger(M24, ('A307'), (2), (40))
    call SaveInteger(M24, ('A307'), (3), (40))
    call SaveInteger(M24, ('S008'), (1), (165))
    call SaveInteger(M24, ('S008'), (2), (165))
    call SaveInteger(M24, ('S008'), (3), (165))
    call SaveInteger(M24, ('S00U'), (1), (165))
    call SaveInteger(M24, ('S00U'), (2), (165))
    call SaveInteger(M24, ('S00U'), (3), (165))
    call SaveInteger(M24, ('A1TB'), (1), (90))
    call SaveInteger(M24, ('A1TB'), (2), (75))
    call SaveInteger(M24, ('A1TB'), (3), (60))
    call SaveInteger(M24, ('A1U6'), (1), (90))
    call SaveInteger(M24, ('A1U6'), (2), (80))
    call SaveInteger(M24, ('A1U6'), (3), (70))
    call SaveInteger(M24, ('A2V8'), (1), (90))
    call SaveInteger(M24, ('A2V8'), (2), (80))
    call SaveInteger(M24, ('A2V8'), (3), (70))
    call SaveInteger(M24, ('A1T5'), (1), (55))
    call SaveInteger(M24, ('A1T5'), (2), (50))
    call SaveInteger(M24, ('A1T5'), (3), (45))
    call SaveInteger(M24, ('A235'), (1), (55))
    call SaveInteger(M24, ('A235'), (2), (50))
    call SaveInteger(M24, ('A235'), (3), (45))
    call SaveInteger(M24, ('A1SA'), (1), (50))
    call SaveInteger(M24, ('A1SA'), (2), (50))
    call SaveInteger(M24, ('A1SA'), (3), (50))
    call SaveInteger(M24, ('A1RK'), (1), (110))
    call SaveInteger(M24, ('A1RK'), (2), (110))
    call SaveInteger(M24, ('A1RK'), (3), (110))
    call SaveInteger(M24, ('A1YQ'), (1), (25))
    call SaveInteger(M24, ('A1YQ'), (2), (20))
    call SaveInteger(M24, ('A1YQ'), (3), (15))
    call SaveInteger(M24, ('A27H'), (1), (20))
    call SaveInteger(M24, ('A27H'), (2), (18))
    call SaveInteger(M24, ('A27H'), (3), (16))
    call SaveInteger(M24, ('A2V9'), (1), (2))
    call SaveInteger(M24, ('A2V9'), (2), (2))
    call SaveInteger(M24, ('A2V9'), (3), (2))
    call SaveInteger(M24, ('A2BG'), (1), (60))
    call SaveInteger(M24, ('A2BG'), (2), (40))
    call SaveInteger(M24, ('A2BG'), (3), (20))
    call SaveInteger(M24, ('A2CI'), (1), (50))
    call SaveInteger(M24, ('A2CI'), (2), (50))
    call SaveInteger(M24, ('A2CI'), (3), (50))
    call SaveInteger(M24, ('A38C'), (1), (50))
    call SaveInteger(M24, ('A38C'), (2), (50))
    call SaveInteger(M24, ('A38C'), (3), (50))
    call SaveInteger(M24, ('A2E5'), (1), (8))
    call SaveInteger(M24, ('A2E5'), (2), (8))
    call SaveInteger(M24, ('A2E5'), (3), (8))
    call SaveInteger(M24, ('A2M0'), (1), (65))
    call SaveInteger(M24, ('A2M0'), (2), (60))
    call SaveInteger(M24, ('A2M0'), (3), (55))
    call SaveInteger(M24, ('A0Z0'), (1), (90))
    call SaveInteger(M24, ('A0Z0'), (2), (80))
    call SaveInteger(M24, ('A0Z0'), (3), (70))
    call SaveInteger(M24, ('A2O6'), (1), (90))
    call SaveInteger(M24, ('A2O6'), (2), (75))
    call SaveInteger(M24, ('A2O6'), (3), (60))
    call SaveInteger(M24, ('A384'), (1), (90))
    call SaveInteger(M24, ('A384'), (2), (75))
    call SaveInteger(M24, ('A384'), (3), (60))
    call SaveInteger(M24, ('A2TI'), (1), (80))
    call SaveInteger(M24, ('A2TI'), (2), (80))
    call SaveInteger(M24, ('A2TI'), (3), (80))
    call SaveInteger(M24, ('A2TF'), (1), (80))
    call SaveInteger(M24, ('A2TF'), (2), (60))
    call SaveInteger(M24, ('A2TF'), (3), (40))
    set t = null
endfunction
function U91 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer S5I = GetHandleId(t)
    local integer id = (LoadInteger(R8, (S5I), (758)))
    set AEK0[id] = GetPlayerState(Player(id), PLAYER_STATE_RESOURCE_GOLD)
    call FlushChildHashtable(R8, (S5I))
    call EA8(t)
    set t = null
    return false
endfunction
function UA1 takes nothing returns boolean
    local trigger t = CreateTrigger()
    local integer S5I = GetHandleId(t)
    local integer id = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function U91))
    call SaveInteger(R8, (S5I), (758), (id))
    set t = null
    return false
endfunction
function UB1 takes nothing returns boolean
    local player p
    local integer i
    local integer id
    local integer UC1
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        set id = GetPlayerId(p)
        set UC1 = GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD)
        if AAJS[id] < (TimerGetElapsed(E4))then
            set AEK0[id] = UC1
        elseif UC1 > AEK0[id]then
            set AEK0[id] = AEK0[id] + (UC1 - AEK0[id]) * 3 / 5
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, AEK0[id])
        else
            set AEK0[id] = UC1
        endif
        set p = N8[i]
        set id = GetPlayerId(p)
        set UC1 = GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD)
        if AAJS[id] < (TimerGetElapsed(E4))then
            set AEK0[id] = UC1
        elseif UC1 > AEK0[id]then
            set AEK0[id] = AEK0[id] + (UC1 - AEK0[id]) * 3 / 5
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, AEK0[id])
        else
            set AEK0[id] = UC1
        endif
        set i = i + 1
    endloop
    set p = null
    return false
endfunction
function J_9 takes nothing returns boolean
    local player p
    local integer i
    local integer id
    local integer K49
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        set id = GetPlayerId(p)
        set K49 = GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD)
        if K49 < WQ4[id]then
            set WQ4[id] = K49
        endif
        set p = N8[i]
        set id = GetPlayerId(p)
        set K49 = GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD)
        if K49 < WQ4[id]then
            set WQ4[id] = K49
        endif
        set i = i + 1
    endloop
    return false
endfunction
function K79 takes nothing returns nothing
endfunction
function K89 takes nothing returns nothing
    local integer id = GetUnitTypeId(GetTriggerUnit())
    if GetOwningPlayer(GetTriggerUnit()) == O8 then
        set MU[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = MU[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
    elseif(id == 'ugho')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'unec')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'esen')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'edry')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'u001')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'u002')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'e00V')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'e00W')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'ebal')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'e026')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'umtw')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif(id == 'u00R')then
        if(IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())))then
            set L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = L7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else
            set C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    endif
    call K79()
endfunction
function K99 takes integer i returns nothing
    local integer x = 1
    local integer y = 1
    set NI4[i] = null
    set NJ4[i] = 0
    set NK4[i] = false
    loop
        exitwhen y > NM4
        if NJ4[y] != 0 then
            set qu[x] = NI4[y]
            set Qu[x] = NJ4[y]
            set Su[x] = NK4[y]
            set NI4[y] = null
            set NJ4[y] = 0
            set NK4[y] = false
            set x = x + 1
        endif
        set y = y + 1
    endloop
    set NM4 = x - 1
    set x = 1
    loop
        exitwhen x > NM4
        set NI4[x] = qu[x]
        set NJ4[x] = Qu[x]
        set NK4[x] = Su[x]
        set x = x + 1
    endloop
endfunction
function KD9 takes nothing returns nothing
    local integer T8
    local integer U8
    local integer KE9
    local integer KF9
    local integer i
    local player p
    set xY = xY + 1
    set HM4 = 0
    set HN4 = 0
    set i = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        if M8(p)then
            set HM4 = HM4 + 1
        endif
        set p = N8[i]
        if M8(p)then
            set HN4 = HN4 + 1
        endif
        set i = i + 1
    endloop
    if a2 == false then
        set ae = HM4
        set ne = HN4
    endif
    set T8 = 1
    set U8 = MAX_TEAM_PLAYERS
    set KE9 = 1
    loop
        exitwhen T8 > U8
        set p = G8[T8]
        if M8(p)then
            set Z7[KE9] = p
            set KE9 = KE9 + 1
        endif
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = MAX_TEAM_PLAYERS
    set KE9 = 1
    loop
        exitwhen T8 > U8
        set p = N8[T8]
        if M8(p)then
            set A7[KE9] = p
            set KE9 = KE9 + 1
        endif
        set T8 = T8 + 1
    endloop
    if xY == 1 then
        set A4 = CreateMultiboardBJ(7 + 6 + 2, 3 + HN4 + HM4, " ")
        call MultiboardMinimize(A4, true)
    endif
    call l6(A4, 2, 1, "CD")
    call l6(A4, 3, 1, "|c00838B8BL|r")
    call l6(A4, 4, 1, Dj + "K|r")
    call l6(A4, 5, 1, gj + "D|r")
    call l6(A4, 6, 1, Gj + "A|r")
    call l6(A4, 1, 2, GetObjectName('n0DK'))
    call l6(A4, 4, 2, Dj + "0|r")
    call l6(A4, 5, 2, gj + "0|r")
    call l6(A4, 1, 3 + HM4, GetObjectName('n0DO'))
    call l6(A4, 4, 3 + HM4, Dj + "0|r")
    call l6(A4, 5, 3 + HM4, gj + "0|r")
    call U6(A4, 1, 2, (MX8(SubString(W[GetPlayerId((G8[0]))], 4, 6))) / 255. * 100, (MX8(SubString(W[GetPlayerId((G8[0]))], 6, 8))) / 255. * 100, (MX8(SubString(W[GetPlayerId((G8[0]))], 8, 10))) / 255. * 100, 0)
    call U6(A4, 1, 3 + HM4, (MX8(SubString(W[GetPlayerId((N8[0]))], 4, 6))) / 255. * 100, (MX8(SubString(W[GetPlayerId((N8[0]))], 6, 8))) / 255. * 100, (MX8(SubString(W[GetPlayerId((N8[0]))], 8, 10))) / 255. * 100, 0)
    set T8 = 1
    set U8 = 3 + HN4 + HM4
    loop
        exitwhen T8 > U8
        call x7(A4, 1, T8, 10.8)
        call x7(A4, 2, T8, 2)
        call x7(A4, 3, T8, 2)
        call x7(A4, 4, T8, 1.3)
        call x7(A4, 5, T8, 1.3)
        call x7(A4, 6, T8, 1.3)
        call x7(A4, 7, T8, 2.5)
        call x7(A4, 8, T8, .01)
        call x7(A4, 9, T8, .01)
        call x7(A4, 10, T8, .01)
        call x7(A4, 11, T8, .01)
        call x7(A4, 12, T8, .01)
        call x7(A4, 13, T8, .01)
        call x7(A4, 14, T8, .01)
        call x7(A4, 15, T8, .01)
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = 7 + 6 + 2
    loop
        exitwhen T8 > U8
        set KE9 = 1
        set KF9 = 3 + HN4 + HM4
        loop
            exitwhen KE9 > KF9
            call s6(A4, T8, KE9, true, false)
            set KE9 = KE9 + 1
        endloop
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = HM4
    loop
        exitwhen T8 > U8
        call s6(A4, 1, T8 + 2, true, true)
        call U6(A4, 7, T8 + 2, 255, 204, 0, 0)
        set N44[GetPlayerId(Z7[T8])] = 1 - 1
        set N74[GetPlayerId(Z7[T8])] = T8 + 2 - 1
        call l6(A4, 1, T8 + 2, (KW4[GetPlayerId((Z7[T8]))]))
        if KS8(Z7[T8])then
            call U6(A4, 1, T8 + 2, (MX8(SubString(W[GetPlayerId((Z7[T8]))], 4, 6))) / 255. * 100, (MX8(SubString(W[GetPlayerId((Z7[T8]))], 6, 8))) / 255. * 100, (MX8(SubString(W[GetPlayerId((Z7[T8]))], 8, 10))) / 255. * 100, 0)
            call U6(A4, 2, T8 + 2, (MX8(SubString(W[GetPlayerId((Z7[T8]))], 4, 6))) / 255. * 100, (MX8(SubString(W[GetPlayerId((Z7[T8]))], 6, 8))) / 255. * 100, (MX8(SubString(W[GetPlayerId((Z7[T8]))], 8, 10))) / 255. * 100, 0)
        else
            call l6(A4, 1, T8 + 2, "|c00333333" + (KW4[GetPlayerId((Z7[T8]))]) + "|r")
        endif
        call l6(A4, 4, (T8 + 2), Dj + "0|r")
        call l6(A4, 5, (T8 + 2), gj + "0|r")
        call l6(A4, 6, (T8 + 2), Gj + "0|r")
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = HN4
    loop
        exitwhen T8 > U8
        call s6(A4, 1, T8 + 3 + HM4, true, true)
        call U6(A4, 7, T8 + 3 + HM4, 255, 204, 0, 0)
        set N44[GetPlayerId(A7[T8])] = 1 - 1
        set N74[GetPlayerId(A7[T8])] = T8 + 3 + HM4 - 1
        call l6(A4, 1, T8 + 3 + HM4, (KW4[GetPlayerId((A7[T8]))]))
        if KS8(A7[T8])then
            call U6(A4, 1, T8 + 3 + HM4, (MX8(SubString(W[GetPlayerId((A7[T8]))], 4, 6))) / 255. * 100, (MX8(SubString(W[GetPlayerId((A7[T8]))], 6, 8))) / 255. * 100, (MX8(SubString(W[GetPlayerId((A7[T8]))], 8, 10))) / 255. * 100, 0)
            call U6(A4, 2, T8 + 3 + HM4, (MX8(SubString(W[GetPlayerId((A7[T8]))], 4, 6))) / 255. * 100, (MX8(SubString(W[GetPlayerId((A7[T8]))], 6, 8))) / 255. * 100, (MX8(SubString(W[GetPlayerId((A7[T8]))], 8, 10))) / 255. * 100, 0)
        else
            call l6(A4, 1, T8 + 3 + HM4, "|c00333333" + (KW4[GetPlayerId((A7[T8]))]) + "|r")
        endif
        call l6(A4, 4, (T8 + 3 + HM4), Dj + "0|r")
        call l6(A4, 5, (T8 + 3 + HM4), gj + "0|r")
        call l6(A4, 6, (T8 + 3 + HM4), Gj + "0|r")
        set T8 = T8 + 1
    endloop
    set oY = 1
    set rY = 3 + HN4 + HM4 - 2
    if L8 and(GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4)and xY == 1 then
        call MultiboardDisplay(A4, false)
    endif
    call s6(A4, 7, 1, false, true)
    call P6(A4, 7, 1, "UI\\Feedback\\Resources\\ResourceGold.blp")
    call K79()
    if xY > 1 then
        call TriggerExecute(vA)
    endif
endfunction
function KI9 takes nothing returns nothing
    local integer T8
    local integer U8
    local string board_string
    call l6(A4, 4, 2, Dj + I2S(C[GetPlayerId(G8[0])]) + "|r")
    call l6(A4, 5, 2, gj + I2S(D4[GetPlayerId(G8[0])]) + "|r")
    call l6(A4, 4, 3 + HM4, Dj + I2S(C[GetPlayerId(N8[0])]) + "|r")
    call l6(A4, 5, 3 + HM4, gj + I2S(D4[GetPlayerId(N8[0])]) + "|r")
    set T8 = 1
    set U8 = HM4
    loop
        exitwhen T8 > U8
        call l6(A4, 4, (T8 + 2), Dj + I2S(C[GetPlayerId(Z7[T8])]) + "|r")
        call l6(A4, 5, (T8 + 2), gj + I2S(D4[GetPlayerId(Z7[T8])]) + "|r")
        call l6(A4, 6, (T8 + 2), Gj + I2S(IU[GetPlayerId(Z7[T8])]) + "|r")
        // set board_string = GetState(GetPlayerId(Z7[T8]), false)
        // if Z7[T8] == CaptainSent and(not D)then
        //     set board_string = GetObjectName('Y123')
        // endif
        // if(not SystemSwitch[32 + GetPlayerId(GetLocalPlayer())])then
        //     set board_string = " "
        // elseif(not(IsPlayerAlly(GetLocalPlayer(), G8[0])or D))then
        //     set board_string = " "
        // endif
        // call l6(A4, 15, T8 + 2, board_string)
        // set board_string = " "
        // if SystemSwitch[80 + GetPlayerId(GetLocalPlayer())]and IsComputer(Z7[T8])then
        //     if DynamicExp then
        //         set board_string = "|c0020c060" + "+" + I2S(R2I(GetPlayerHandicapXPBJ(Z7[T8]) - 100.)) + "%|r"
        //     endif
        //     if DynamicExp and DynamicGold then
        //         set board_string = board_string + " - "
        //     endif
        //     if DynamicGold then
        //         set board_string = board_string + "|c00ffcc60" + "+" + I2S(g_aiStateInt[48 + GetPlayerId(Z7[T8])]) + "|r"
        //     endif
        // endif
        // call l6(A4, 14, (T8 + 2), board_string)
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = HN4
    loop
        exitwhen T8 > U8
        call l6(A4, 4, (T8 + 3 + HM4), Dj + I2S(C[GetPlayerId(A7[T8])]) + "|r")
        call l6(A4, 5, (T8 + 3 + HM4), gj + I2S(D4[GetPlayerId(A7[T8])]) + "|r")
        call l6(A4, 6, (T8 + 3 + HM4), Gj + I2S(IU[GetPlayerId(A7[T8])]) + "|r")
        // set board_string = GetState(GetPlayerId(A7[T8]), false)
        // if A7[T8] == CaptainScrg and(not D)then
        //     set board_string = GetObjectName('Y123')
        // endif
        // if(not SystemSwitch[32 + GetPlayerId(GetLocalPlayer())])then
        //     set board_string = " "
        // elseif(not(IsPlayerAlly(GetLocalPlayer(), N8[0])or D))then
        //     set board_string = " "
        // endif
        // call l6(A4, 15, (T8 + 3 + HM4), board_string)
        // set board_string = " "
        // if SystemSwitch[80 + GetPlayerId(GetLocalPlayer())]and IsComputer(A7[T8])then
        //     if DynamicExp then
        //         set board_string = "|c0020c060" + "+" + I2S(R2I(GetPlayerHandicapXPBJ(A7[T8]) - 100.)) + "%|r"
        //     endif
        //     if DynamicExp and DynamicGold then
        //         set board_string = board_string + " - "
        //     endif
        //     if DynamicGold then
        //         set board_string = board_string + "|c00ffcc60" + "+" + I2S(g_aiStateInt[48 + GetPlayerId(A7[T8])]) + "|r"
        //     endif
        // endif
        // call l6(A4, 14, (T8 + 3 + HM4), board_string)
        set T8 = T8 + 1
    endloop
endfunction
function KK9 takes nothing returns boolean
    return(GetUnitTypeId(GetTriggerUnit()) == 'e00R')or(GetUnitTypeId(GetTriggerUnit()) == 'e011')or(GetUnitTypeId(GetTriggerUnit()) == 'e00S')or(GetUnitTypeId(GetTriggerUnit()) == 'e019')
endfunction
function KM9 takes nothing returns nothing
    set F[1] = (F[1] + 1)
endfunction
function KN9 takes nothing returns boolean
    return(GetUnitTypeId(GetTriggerUnit()) == 'u00M')or(GetUnitTypeId(GetTriggerUnit()) == 'u00D')or(GetUnitTypeId(GetTriggerUnit()) == 'u00N')or(GetUnitTypeId(GetTriggerUnit()) == 'u00T')
endfunction
function KO9 takes nothing returns nothing
    set F[2] = (F[2] + 1)
endfunction
function KP9 takes integer a returns integer
    local integer i = 0
    local integer x = 0
    local string s = I2S(a)
    loop
        exitwhen i > StringLength(s)
        if SubString(s, i, i + 1) == "1" then
            set x = x + 1
        endif
        set i = i + 1
    endloop
    return x
endfunction
function KQ9 takes player KR9, integer KS9 returns string
    if IsPlayerAlly(GetLocalPlayer(), KR9) then
        return XA8(UnitItemInSlot(Y7[GetPlayerId(KR9)], KS9 - 1))
    else
        return "UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
    endif
endfunction
function KT9 takes nothing returns nothing
    local integer T8
    local integer U8
    local string WR8
    local real KU9
    local integer r
    local integer i
    local integer x = 0
    local integer id
    local string KV9
    local string KW9
    local string KX9
    local string KY9
    local string KZ9
    local string s2 = " "
    local string s
    local real KA9
    local integer KB9 = 0
    local string KC9 = ""
    local string K39 = ""
    local integer K69 = 0
    local integer KL9 = 0
    local string K19 = ""
    local string board_string
    if A4 == null then
        return
    endif
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set r = R2I(TimerGetRemaining(L[GetPlayerId(G8[i])]))
        if r > 0 then
            set KB9 = KB9 + KP9(r)
            if K69 == 0 then
                if r < 10 then
                    set KC9 = W[GetPlayerId(G8[i])] + "0" + I2S(r) + " |r"
                else
                    set KC9 = W[GetPlayerId(G8[i])] + I2S(r) + " |r"
                endif
            else
                if r < 10 then
                    set KC9 = KC9 + Hj + "| |r" + W[GetPlayerId(G8[i])] + "0" + I2S(r) + " |r"
                else
                    set KC9 = KC9 + Hj + "| |r" + W[GetPlayerId(G8[i])] + I2S(r) + " |r"
                endif
            endif
            set K69 = K69 + 1
        endif
        set i = i + 1
    endloop
    if K69 > 0 then
        if IsPlayerAlly(GetLocalPlayer(), G8[0]) then
            set KC9 = Hj + "[" + GetObjectName('n0JS') + " |r" + KC9 + Hj + "]|r"
        else
            set KC9 = fj + "[" + GetObjectName('n0JR') + " |r" + KC9 + fj + "]|r"
        endif
    endif
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set r = R2I(TimerGetRemaining(L[GetPlayerId(N8[i])]))
        if r > 0 then
            set KB9 = KB9 + KP9(r)
            if KL9 == 0 then
                if r < 10 then
                    set K39 = W[GetPlayerId(N8[i])] + "0" + I2S(r) + " |r"
                else
                    set K39 = W[GetPlayerId(N8[i])] + I2S(r) + " |r"
                endif
            else
                if r < 10 then
                    set K39 = K39 + Hj + "| |r" + W[GetPlayerId(N8[i])] + "0" + I2S(r) + " |r"
                else
                    set K39 = K39 + Hj + "| |r" + W[GetPlayerId(N8[i])] + I2S(r) + " |r"
                endif
            endif
            set KL9 = KL9 + 1
        endif
        set i = i + 1
    endloop
    if KL9 > 0 then
        if IsPlayerAlly(GetLocalPlayer(), N8[0]) then
            set K39 = Hj + "[" + GetObjectName('n0JS') + " |r" + K39 + Hj + "]|r"
        else
            set K39 = fj + "[" + GetObjectName('n0JR') + " |r" + K39 + fj + "]|r"
        endif
    endif
    if A4 != null then
        set id = GetPlayerId(GetLocalPlayer())
        if id >= 0 and id < 16 then
            if AW[x]then
                set KV9 = I2S(C[id])
                set KW9 = I2S(D4[id])
                set KX9 = I2S(IU[id])
                set KY9 = I2S(C7[id])
                set KZ9 = I2S(L7[id])
                set s2 = " |c00838B8B(" + KV9 + "/" + KW9 + "/" + KX9 + " - " + KY9 + "/" + KZ9 + " - |r|c00FFDC00" + I2S(WQ4[id]) + "|r |c00838B8B)|r"
            endif
        endif
    endif
    if KL9 == 0 and K69 == 0 then
        call MultiboardSetTitleText(A4, s2)
    else
        if IsPlayerAlly(GetLocalPlayer(), G8[0]) then
            call MultiboardSetTitleText(A4, K39 + " " + KC9 + " " + s2)
        else
            call MultiboardSetTitleText(A4, KC9 + " " + K39 + " " + s2)
        endif
    endif
    if(L8 and(GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4)) == false then
        call MultiboardDisplay(A4, true)
    endif
    if Nb[GetPlayerId(GetLocalPlayer())] == false then
        call SetWaterBaseColor(0, 0, 255, 255)
    endif
    set board_string = " "
    if SystemSwitch[32 + GetPlayerId(GetLocalPlayer())]then
        set board_string = "|c00dd8dff" + GetObjectName('Y124')
    endif
    call l6(A4, 15, 1, board_string)
    set board_string = " "
    if SystemSwitch[80 + GetPlayerId(GetLocalPlayer())]then
        set board_string = "   "
        if DynamicExp then
            set board_string = board_string + "|c0020c060" + GetObjectName('Y125')
        endif
        if DynamicExp and DynamicGold then
            set board_string = board_string + " - "
        endif
        if DynamicGold then
            set board_string = board_string + "|c00ffcc60" + GetObjectName('Y126')
        endif
    endif
    call l6(A4, 14, 1, board_string)
    set T8 = 1
    set U8 = HM4
    loop
        exitwhen T8 > U8
        call P6(A4, 1, T8 + 2, N18(Y7[GetPlayerId(Z7[T8])]))
        call l6(A4, 3, T8 + 2, "|c00838B8B" + I2S(GetHeroLevel(Y7[GetPlayerId(Z7[T8])])) + "|r")
        if ab[GetPlayerId(GetLocalPlayer())]then
            call x7(A4, 7, 1, 3)
            call x7(A4, 8, 1, 2.8)
            call x7(A4, 9, 1, .8)
            call x7(A4, 10, 1, .8)
            call x7(A4, 11, 1, .8)
            call x7(A4, 12, 1, .8)
            // call x7(A4, 13, 1, TertiaryRealOp(SystemSwitch[32 + GetPlayerId(GetLocalPlayer())], 1.5, .1))
            call x7(A4, 7, T8 + 2, 3)
            call x7(A4, 8, T8 + 2, 1.1)
            call x7(A4, 9, T8 + 2, 1.1)
            call x7(A4, 10, T8 + 2, 1.1)
            call x7(A4, 11, T8 + 2, 1.1)
            call x7(A4, 12, T8 + 2, 1.1)
            // call x7(A4, 13, T8 + 2, TertiaryRealOp(SystemSwitch[32 + GetPlayerId(GetLocalPlayer())], 1.5, .1))
            call s6(A4, 8, T8 + 2, false, true)
            call s6(A4, 9, T8 + 2, false, true)
            call s6(A4, 10, T8 + 2, false, true)
            call s6(A4, 11, T8 + 2, false, true)
            call s6(A4, 12, T8 + 2, false, true)
            call s6(A4, 13, T8 + 2, false, true)
            call l6(A4, 8, 1, "Items")
        else
            call x7(A4, 7, 1, 2)
            call x7(A4, 8, 1, .1)
            call x7(A4, 9, 1, .1)
            call x7(A4, 10, 1, .1)
            call x7(A4, 11, 1, .1)
            call x7(A4, 12, 1, .1)
            call x7(A4, 13, 1, .1)
            call x7(A4, 7, T8 + 2, 2.5)
            call x7(A4, 8, T8 + 2, .1)
            call x7(A4, 9, T8 + 2, .1)
            call x7(A4, 10, T8 + 2, .1)
            call x7(A4, 11, T8 + 2, .1)
            call x7(A4, 12, T8 + 2, .1)
            call x7(A4, 13, T8 + 2, .1)
            call s6(A4, 8, T8 + 2, false, false)
            call s6(A4, 9, T8 + 2, false, false)
            call s6(A4, 10, T8 + 2, false, false)
            call s6(A4, 11, T8 + 2, false, false)
            call s6(A4, 12, T8 + 2, false, false)
            call s6(A4, 13, T8 + 2, false, false)
            call l6(A4, 8, 1, " ")
        endif
        call P6(A4, 8, T8 + 2, KQ9(Z7[T8], 1))
        call P6(A4, 9, T8 + 2, KQ9(Z7[T8], 2))
        call P6(A4, 10, T8 + 2, KQ9(Z7[T8], 3))
        call P6(A4, 11, T8 + 2, KQ9(Z7[T8], 4))
        call P6(A4, 12, T8 + 2, KQ9(Z7[T8], 5))
        call P6(A4, 13, T8 + 2, KQ9(Z7[T8], 6))
        if(O48(Y7[GetPlayerId(Z7[T8])])and Y7[GetPlayerId(Z7[T8])] != null and TimerGetRemaining(L[GetPlayerId(Z7[T8])]) > 0)then
            if IsPlayerAlly(GetLocalPlayer(), Z7[T8])then
                set K19 = Hj + " (" + (I2S(R2I(TimerGetRemaining(L[GetPlayerId(Z7[T8])])))) + ")|r"
            else
                set K19 = fj + " (" + (I2S(R2I(TimerGetRemaining(L[GetPlayerId(Z7[T8])])))) + ")|r"
            endif
        else
            set K19 = "  "
        endif
        if U2[GetPlayerId(Z7[T8])]then
            call l6(A4, 1, T8 + 2, "|c00333333" + (KW4[GetPlayerId((Z7[T8]))]) + "|r" + K19)
        else
            call l6(A4, 1, T8 + 2, (KW4[GetPlayerId((Z7[T8]))]) + K19)
        endif
        set KA9 = (TimerGetRemaining(M_4[GetPlayerId((Z7[T8]))]))
        if KA9 > 0 then
            set s = I2S(R2I(KA9))
        else
            set s = " "
        endif
        if IsPlayerAlly(GetLocalPlayer(), Z7[T8]) == false then
            call l6(A4, 7, T8 + 2, " ")
            set s = " "
        else
            call l6(A4, 7, T8 + 2, "|cffffcc00" + I2S(R2I(GetPlayerState(Z7[T8], PLAYER_STATE_RESOURCE_GOLD))) + "|r")
        endif
        call l6(A4, 2, T8 + 2, s)
        // set board_string = GetState(GetPlayerId(Z7[T8]), false)
        // if Z7[T8] == CaptainSent and(not D)then
        //     set board_string = GetObjectName('Y123')
        // endif
        // if(not SystemSwitch[32 + GetPlayerId(GetLocalPlayer())])then
        //     set board_string = " "
        // elseif(not(IsPlayerAlly(GetLocalPlayer(), G8[0])or D))then
        //     set board_string = " "
        // endif
        // call l6(A4, 15, T8 + 2, board_string)
        // set board_string = " "
        // if SystemSwitch[80 + GetPlayerId(GetLocalPlayer())]and IsComputer(Z7[T8])then
        //     if DynamicExp then
        //         set board_string = "|c0020c060" + "+" + I2S(R2I(GetPlayerHandicapXPBJ(Z7[T8]) - 100.)) + "%|r"
        //     endif
        //     if DynamicExp and DynamicGold then
        //         set board_string = board_string + " - "
        //     endif
        //     if DynamicGold then
        //         set board_string = board_string + "|c00ffcc60" + "+" + I2S(g_aiStateInt[48 + GetPlayerId(Z7[T8])]) + "|r"
        //     endif
        // endif
        // call l6(A4, 14, T8 + 2, board_string)
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = HN4
    loop
        exitwhen T8 > U8
        call P6(A4, 1, T8 + 3 + HM4, N18(Y7[GetPlayerId(A7[T8])]))
        call l6(A4, 3, T8 + 3 + HM4, "|c00838B8B" + I2S(GetHeroLevel(Y7[GetPlayerId(A7[T8])])) + "|r")
        if ab[GetPlayerId(GetLocalPlayer())]then
            call x7(A4, 7, 1, 3)
            call x7(A4, 8, 1, 2.8)
            call x7(A4, 9, 1, .8)
            call x7(A4, 10, 1, .8)
            call x7(A4, 11, 1, .8)
            call x7(A4, 12, 1, .8)
            // call x7(A4, 13, 1, TertiaryRealOp(SystemSwitch[32 + GetPlayerId(GetLocalPlayer())], 1.5, .1))
            call x7(A4, 7, T8 + 3 + HM4, 3)
            call x7(A4, 8, T8 + 3 + HM4, 1.1)
            call x7(A4, 9, T8 + 3 + HM4, 1.1)
            call x7(A4, 10, T8 + 3 + HM4, 1.1)
            call x7(A4, 11, T8 + 3 + HM4, 1.1)
            call x7(A4, 12, T8 + 3 + HM4, 1.1)
            // call x7(A4, 13, T8 + 3 + HM4, TertiaryRealOp(SystemSwitch[32 + GetPlayerId(GetLocalPlayer())], 1.5, .1))
            call s6(A4, 8, T8 + 3 + HM4, false, true)
            call s6(A4, 9, T8 + 3 + HM4, false, true)
            call s6(A4, 10, T8 + 3 + HM4, false, true)
            call s6(A4, 11, T8 + 3 + HM4, false, true)
            call s6(A4, 12, T8 + 3 + HM4, false, true)
            call s6(A4, 13, T8 + 3 + HM4, false, true)
            call l6(A4, 8, 1, "Items")
        else
            call x7(A4, 7, 1, 2)
            call x7(A4, 8, 1, .1)
            call x7(A4, 9, 1, .1)
            call x7(A4, 10, 1, .1)
            call x7(A4, 11, 1, .1)
            call x7(A4, 12, 1, .1)
            call x7(A4, 13, 1, .1)
            call x7(A4, 7, T8 + 3 + HM4, 2.5)
            call x7(A4, 8, T8 + 3 + HM4, .1)
            call x7(A4, 9, T8 + 3 + HM4, .1)
            call x7(A4, 10, T8 + 3 + HM4, .1)
            call x7(A4, 11, T8 + 3 + HM4, .1)
            call x7(A4, 12, T8 + 3 + HM4, .1)
            call x7(A4, 13, T8 + 3 + HM4, .1)
            call s6(A4, 8, T8 + 3 + HM4, false, false)
            call s6(A4, 9, T8 + 3 + HM4, false, false)
            call s6(A4, 10, T8 + 3 + HM4, false, false)
            call s6(A4, 11, T8 + 3 + HM4, false, false)
            call s6(A4, 12, T8 + 3 + HM4, false, false)
            call s6(A4, 13, T8 + 3 + HM4, false, false)
            call l6(A4, 8, 1, " ")
        endif
        call P6(A4, 8, T8 + 3 + HM4, KQ9(A7[T8], 1))
        call P6(A4, 9, T8 + 3 + HM4, KQ9(A7[T8], 2))
        call P6(A4, 10, T8 + 3 + HM4, KQ9(A7[T8], 3))
        call P6(A4, 11, T8 + 3 + HM4, KQ9(A7[T8], 4))
        call P6(A4, 12, T8 + 3 + HM4, KQ9(A7[T8], 5))
        call P6(A4, 13, T8 + 3 + HM4, KQ9(A7[T8], 6))
        if(O48(Y7[GetPlayerId(A7[T8])])and Y7[GetPlayerId(A7[T8])] != null and TimerGetRemaining(L[GetPlayerId(A7[T8])]) > 0)then
            if IsPlayerAlly(GetLocalPlayer(), A7[T8])then
                set K19 = Hj + " (" + (I2S(R2I(TimerGetRemaining(L[GetPlayerId(A7[T8])])))) + ")|r"
            else
                set K19 = fj + " (" + (I2S(R2I(TimerGetRemaining(L[GetPlayerId(A7[T8])])))) + ")|r"
            endif
        else
            set K19 = "  "
        endif
        if U2[GetPlayerId(A7[T8])]then
            call l6(A4, 1, T8 + 3 + HM4, "|c00333333" + (KW4[GetPlayerId((A7[T8]))]) + "|r" + K19)
        else
            call l6(A4, 1, T8 + 3 + HM4, (KW4[GetPlayerId((A7[T8]))]) + K19)
        endif
        set KA9 = (TimerGetRemaining(M_4[GetPlayerId((A7[T8]))]))
        if KA9 > 0 then
            set s = I2S(R2I(KA9))
        else
            set s = " "
        endif
        if IsPlayerAlly(GetLocalPlayer(), A7[T8]) == false then
            call l6(A4, 7, T8 + 3 + HM4, " ")
            set s = " "
        else
            call l6(A4, 7, T8 + 3 + HM4, "|cffffcc00" + I2S(R2I(GetPlayerState(A7[T8], PLAYER_STATE_RESOURCE_GOLD))) + "|r")
        endif
        call l6(A4, 2, T8 + 3 + HM4, s)
        // set board_string = GetState(GetPlayerId(A7[T8]), false)
        // if A7[T8] == CaptainScrg and(not D)then
        //     set board_string = GetObjectName('Y123')
        // endif
        // if(not SystemSwitch[32 + GetPlayerId(GetLocalPlayer())])then
        //     set board_string = " "
        // elseif(not(IsPlayerAlly(GetLocalPlayer(), N8[0])or D))then
        //     set board_string = " "
        // endif
        // call l6(A4, 15, T8 + 3 + HM4, board_string)
        // set board_string = " "
        // if SystemSwitch[80 + GetPlayerId(GetLocalPlayer())]and IsComputer(A7[T8])then
        //     if DynamicExp then
        //         set board_string = "|c0020c060" + "+" + I2S(R2I(GetPlayerHandicapXPBJ(A7[T8]) - 100.)) + "%|r"
        //     endif
        //     if DynamicExp and DynamicGold then
        //         set board_string = board_string + " - "
        //     endif
        //     if DynamicGold then
        //         set board_string = board_string + "|c00ffcc60" + "+" + I2S(g_aiStateInt[48 + GetPlayerId(A7[T8])]) + "|r"
        //     endif
        // endif
        // call l6(A4, 14, T8 + 3 + HM4, board_string)
        set T8 = T8 + 1
    endloop
endfunction
function K09 takes nothing returns boolean
    local real K59
    local real K29
    local unit u
    if Q_4 == false then
        set u = I04
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - Q44)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
    endif
    if R44 == false then
        set u = I24
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - Q74)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
    endif
    if R74 == false then
        set u = I_4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - Q84)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
    endif
    if Q24 == false then
        set u = J44
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - Q94)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J74
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QD4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J84
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QE4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J94
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QF4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JD4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QG4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JE4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QH4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JF4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QI4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JG4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QJ4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JH4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QK4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JI4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QM4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JJ4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QN4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = IY4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QO4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
    endif
    if Q14 == false then
        set u = JZ4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QP4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
    endif
    if Q04 == false then
        set u = JA4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QQ4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
    endif
    if Q54 == false then
        set u = JB4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QR4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
    endif
    if QL4 == false then
        set u = JC4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QS4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J34
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QT4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J64
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QU4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JL4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QV4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J14
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QW4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J04
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QX4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J54
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QY4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J24
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QZ4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = J_4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QA4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = K44
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QB4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = K74
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - QC4)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
        set u = JV4
        if u != null then
            set K59 = GetUnitState(u, UNIT_STATE_LIFE)
            set K29 = K59 + Q64
            if K29 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - Q34)then
                call SetUnitState(u, UNIT_STATE_LIFE, K29)
            endif
        endif
    endif
    set u = null
    return false
endfunction
function K_9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q14 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QP4 = QP4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function M49 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q04 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QQ4 = QQ4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function M79 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q54 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QR4 = QR4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function M89 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QS4 = QS4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function M99 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QT4 = QT4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MD9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QU4 = QU4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function ME9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QV4 = QV4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MF9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QW4 = QW4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MG9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QX4 = QX4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MH9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QY4 = QY4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MI9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QZ4 = QZ4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MJ9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QA4 = QA4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MK9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QB4 = QB4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MM9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QC4 = QC4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MN9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if QL4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set Q34 = Q34 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MO9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q_4 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set Q44 = Q44 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MP9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if R44 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set Q74 = Q74 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MQ9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if R74 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set Q84 = Q84 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MR9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set Q94 = Q94 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MS9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QD4 = QD4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MT9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QE4 = QE4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MU9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QF4 = QF4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MV9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QG4 = QG4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MW9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QH4 = QH4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MX9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QI4 = QI4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MY9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QJ4 = QJ4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MZ9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QK4 = QK4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MA9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QM4 = QM4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MB9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QN4 = QN4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function MC9 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(GetEventDamage() * .75)
        endif
        if Q24 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) then
            set QO4 = QO4 + GetEventDamage()
        else
            if IsUnitIllusion(GetEventDamageSource()) then
                call BlzSetEventDamage(GetEventDamage() * .25)
            else
                call BlzSetEventDamage(GetEventDamage() * .75)
            endif
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function M39 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == N8[0]then
        set Q24 = true
    endif
    return false
endfunction
function M69 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == N8[0]then
        set Q_4 = true
    endif
    return false
endfunction
function ML9 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == N8[0]then
        set R44 = true
    endif
    return false
endfunction
function M19 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == N8[0]then
        set R74 = true
    endif
    return false
endfunction
function M09 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == G8[0]then
        set QL4 = true
    endif
    return false
endfunction
function M59 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == G8[0]then
        set Q14 = true
    endif
    return false
endfunction
function M29 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == G8[0]then
        set Q04 = true
    endif
    return false
endfunction
function M_9 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == G8[0]then
        set Q54 = true
    endif
    return false
endfunction
function N49 takes nothing returns boolean
    local group g = OG8()
    set QL4 = false
    set Q14 = false
    set Q04 = false
    set Q54 = false
    set Q24 = false
    set Q_4 = false
    set R44 = false
    set R74 = false
    call GroupEnumUnitsInRect(g, SE, Condition(function M39))
    call GroupEnumUnitsInRect(g, TE, Condition(function M39))
    call GroupEnumUnitsInRect(g, WE, Condition(function M39))
    call GroupEnumUnitsInRect(g, lE, Condition(function M39))
    call GroupEnumUnitsInRect(g, LE, Condition(function M39))
    call GroupEnumUnitsInRect(g, ME, Condition(function M39))
    call GroupEnumUnitsInRect(g, GE, Condition(function M69))
    call GroupEnumUnitsInRect(g, QE, Condition(function ML9))
    call GroupEnumUnitsInRect(g, JE, Condition(function M19))
    call GroupEnumUnitsInRect(g, YE, Condition(function M09))
    call GroupEnumUnitsInRect(g, ZE, Condition(function M09))
    call GroupEnumUnitsInRect(g, EF, Condition(function M09))
    call GroupEnumUnitsInRect(g, qE, Condition(function M09))
    call GroupEnumUnitsInRect(g, pE, Condition(function M09))
    call GroupEnumUnitsInRect(g, PE, Condition(function M09))
    call GroupEnumUnitsInRect(g, fE, Condition(function M59))
    call GroupEnumUnitsInRect(g, FE, Condition(function M29))
    call GroupEnumUnitsInRect(g, gE, Condition(function M_9))
    call OF8(g)
    set g = null
    return false
endfunction
function N79 takes nothing returns boolean
    if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker()))and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetAttacker()))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1 and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false and GetOwningPlayer(GetFilterUnit()) != O8 then
        if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) then
            set N14 = GetFilterUnit()
        else
            set N04 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function N89 takes nothing returns nothing
    local unit N99 = GetAttacker()
    local unit target = GetTriggerUnit()
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(N99), GetUnitY(N99), 900, Condition(function N79))
    call OF8(g)
    call DisableTrigger(GetTriggeringTrigger())
    if N14 != null then
        call IssueTargetOrderById(N99, 851983, N14)
        call GroupAddUnit(KU, N99)
    elseif IsUnitType(target, UNIT_TYPE_HERO) and N04 != null then
        call IssueTargetOrderById(N99, 851983, N04)
        call GroupAddUnit(KU, N99)
    endif
    call EnableTrigger(GetTriggeringTrigger())
    set N14 = null
    set N04 = null
    set N99 = null
    set target = null
    set g = null
endfunction
function ND9 takes nothing returns nothing
    if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) < 1 then
        call GroupRemoveUnit(KU, GetEnumUnit())
    endif
    if GetUnitCurrentOrder(GetEnumUnit()) != 851983 then
        call GroupRemoveUnit(KU, GetEnumUnit())
        call IssuePointOrderByIdLoc(GetEnumUnit(), 851983, B8[GetUnitAbilityLevel(GetEnumUnit(), A8)])
    endif
endfunction
function NE9 takes nothing returns boolean
    call ForGroup(KU, function ND9)
    return false
endfunction
function NF9 takes string s returns nothing
    set F3 = F3 + 1
    set j3[F3] = s
endfunction
function NG9 takes nothing returns boolean
    local integer i = 1
    loop
        exitwhen i > F3
        call ExecuteFunc(j3[i])
        set i = i + 1
    endloop
    call ExecuteFunc("NH9")
    call ExecuteFunc("NI9")
    return false
endfunction
function NJ9 takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function NG9))
    set t = null
endfunction
function NK9 takes nothing returns boolean
    if GetUnitTypeId(GetTriggerUnit()) != 'H00M' and GetUnitTypeId(GetTriggerUnit()) != 'H07G' and GetUnitTypeId(GetTriggerUnit()) != 'H00Y' and GetUnitTypeId(GetTriggerUnit()) != 'H0B8' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and IsUnitIllusion(GetTriggerUnit()) == false and HaveSavedBoolean(R8, GetHandleId(GetTriggerUnit()), 38) == false then
        if N54 and(GetUnitTypeId(GetTriggerUnit()) != 'O00P' or(GetUnitTypeId(GetTriggerUnit()) == 'O00P' and N24))then
            call NJ9(GetTriggerUnit())
        endif
    endif
    return false
endfunction
function NP9 takes player j8 returns string
    return W[GetPlayerId(j8)] + NM8(j8) + "|r"
endfunction
function NQ9 takes player NR9 returns string
    local string NS9 = I2S(NB4[GetPlayerId(NR9)])
    local string NT9 = NS9
    if NR9 == GetLocalPlayer()then
        set NT9 = Fx + NS9 + "|r"
    endif
    return NT9
endfunction
function NU9 takes player NR9 returns string
    local string NS9 = I2S(NA4[GetPlayerId(NR9)])
    local string NT9 = NS9
    if NR9 == GetLocalPlayer()then
        set NT9 = Fx + NS9 + "|r"
    endif
    return NT9
endfunction
function Lq takes player j8 returns string
    return OD[GetPlayerId(j8)]
endfunction
function YO8 takes nothing returns nothing
    local integer i = 1
    local multiboarditem YH8
    loop
        exitwhen i > NF4
        if Lq(NE4[i]) != "Here"then
            set YH8 = MultiboardGetItem(N84, N94[i], ND4[i])
            call MultiboardSetItemStyle(YH8, true, false)
            call MultiboardSetItemValue(YH8, "|c00555555" + Lq(NE4[i]) + "|r")
            call MultiboardSetItemWidth(YH8, .07)
            call MultiboardReleaseItem(YH8)
        endif
        set i = i + 1
    endloop
    set YH8 = null
endfunction
function NV9 takes player j8 returns string
    local string GV = I2S(GetPlayerState(j8, PLAYER_STATE_RESOURCE_GOLD))
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function NW9 takes player j8 returns string
    local string GV = I2S(Zh[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function NX9 takes player j8 returns string
    local string GV = I2S(GetUnitLevel(Y7[GetPlayerId(j8)]))
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function NY9 takes player j8 returns string
    local string GV = I2S(GU4[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function NZ9 takes player j8 returns string
    local string GV = I2S(NS4[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function NA9 takes player j8 returns string
    local string GV = I2S(NN4[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function NB9 takes player j8 returns string
    local string GV = I2S(IU[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function NC9 takes player j8 returns string
    local string GV = I2S(C[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function N39 takes player j8 returns string
    local string GV = I2S(D4[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function N69 takes player j8 returns string
    local string GV = I2S(C7[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function NL9 takes player j8 returns string
    local string GV = I2S(L7[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function N19 takes player j8 returns string
    local string GV = I2S((LoadInteger(R8, (400 + GetPlayerId(j8)), (79))))
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function N09 takes player j8 returns string
    local string GV = I2S(NP4[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function N59 takes player j8 returns string
    local string GV = I2S(NQ4[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function N29 takes player j8 returns string
    local string GV = I2S(NO4[GetPlayerId(j8)])
    local string Lr = GV
    if j8 == GetLocalPlayer()then
        set Lr = Fx + GV + "|r"
    endif
    return Lr
endfunction
function N_9 takes player j8 returns string
    local string LY
    local string Lz
    local string Lr
    local integer k = gD[GetPlayerId(j8)]
    local integer d = N64[GetPlayerId(j8)]
    if k < 1 then
        set k = 0
    endif
    if d < 1 then
        set d = 0
    endif
    set LY = I2S(k)
    set Lz = I2S(d)
    set Lr = LY + "/" + Lz
    if j8 == GetLocalPlayer()then
        set Lr = Fx + LY + "|r/" + Fx + Lz + "|r"
    endif
    return Lr
endfunction
function O49 takes player j8 returns string
    local integer L0 = NR4[GetPlayerId(j8)]
    local string YK8
    local integer L1
    local integer L2
    set L1 = (L0 / 60) - (1 / 2)
    set L2 = ModuloInteger(L0, 60)
    if(L2 < 10)then
        set YK8 = I2S(L1) + ":0" + I2S(L2)
    else
        set YK8 = I2S(L1) + ":" + I2S(L2)
    endif
    if j8 == GetLocalPlayer()then
        set YK8 = Fx + YK8 + "|r"
    endif
    return YK8
endfunction
function O79 takes player Z77, player target returns string
    local string LY
    local string Lz
    local string Lr
    local integer k = (LoadInteger(R8, (400 + GetPlayerId(Z77)), (450 + GetPlayerId(target))))
    local integer d = (LoadInteger(R8, (400 + GetPlayerId(Z77)), (500 + GetPlayerId(target))))
    if k < 1 then
        set k = 0
    endif
    if d < 1 then
        set d = 0
    endif
    set LY = I2S(k)
    set Lz = I2S(d)
    set Lr = LY + "/" + Lz
    if Z77 == GetLocalPlayer()then
        set Lr = Fx + LY + "|r/" + Fx + Lz + "|r"
    endif
    return Lr
endfunction
function O89 takes boolean YV7 returns nothing
    local integer player_id = 1
    local integer i = 0
    local integer j = 1
    local item ZV7 = null
    loop
        exitwhen j > MAX_TEAM_PLAYERS
        if YV7 then
            set player_id = GetPlayerId(G8[j])
        else
            set player_id = GetPlayerId(N8[j])
        endif
        if Y7[player_id] != null then
            set i = 0
            loop
                exitwhen i > MAX_TEAM_PLAYERS
                set ZV7 = UnitItemInSlot(Y7[player_id], i)
                if ZV7 != null then
                    set PE7[player_id * 6 + i] = ZU7(ZV7)
                else
                    set PE7[player_id * 6 + i] =- 1
                endif
                set i = i + 1
            endloop
        else
            set i = 0
            loop
                exitwhen i > MAX_TEAM_PLAYERS
                set PE7[player_id * 6 + i] =- 1
                set i = i + 1
            endloop
        endif
        set j = j + 1
    endloop
    set ZV7 = null
endfunction
function O99 takes nothing returns nothing
    call O89(true)
endfunction
function OD9 takes nothing returns nothing
    call O89(false)
endfunction
function OE9 takes integer player_id, integer i returns string
    if PE7[player_id * 6 + i] < 0 then
        return"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
    endif
    return DV[PE7[player_id * 6 + i]]
endfunction
function OF9 takes nothing returns nothing
    local integer OG9 = HM4
    local integer OH9 = HN4
    local player array OI9
    local player array OJ9
    local integer OK9
    local integer OM9
    local integer ON9 = 21 + IMaxBJ(OG9, OH9) + 1
    local integer OO9 = 1 + (OG9 + OH9) * 2
    local multiboarditem OP9
    local integer i
    local integer x
    local integer curRow1
    local integer curRow2
    local string e = "|r"
    local string c0 = "|cff99ccff"
    local integer OQ9
    local integer OR9
    // call XK7("FinalScoreboardFunc " + GG7)
    call ExecuteFunc("O99")
    call ExecuteFunc("OD9")
    call DisableTrigger(FS)
    call DestroyMultiboard(A4)
    if OG9 > 0 and OH9 > 0 then
        set ON9 = ON9 + 2
    endif
    set N84 = CreateMultiboard()
    call MultiboardSetItemsWidth(N84, 0)
    call MultiboardSetRowCount(N84, ON9)
    call MultiboardSetColumnCount(N84, OO9)
    call MultiboardSetTitleText(N84, (GetObjectName(('n0E3'))) + " " + " - " + (O64))
    call MultiboardMinimize(N84, true)
    call MultiboardSetItemsStyle(N84, false, false)
    call MultiboardDisplay(N84, true)
    call MultiboardMinimize(N84, false)
    call MultiboardSetTitleText(N84, (GetObjectName(('n0E3'))) + " " + " - " + (O64) + " - " + ("|c00ff0303" + I2S(C[GetPlayerId(G8[0])]) + "|r/|c0020c000" + I2S(D4[GetPlayerId(G8[0])]) + "|r"))
    set x = 1
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KT8(G8[i])or GetPlayerSlotState(G8[i]) == PLAYER_SLOT_STATE_LEFT then
            set OI9[x] = G8[i]
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set x = 1
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KT8(N8[i])or GetPlayerSlotState(N8[i]) == PLAYER_SLOT_STATE_LEFT then
            set OJ9[x] = N8[i]
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set i = 0
    set OM9 = 0
    loop
        exitwhen i > ON9
        set OP9 = MultiboardGetItem(N84, i, OM9)
        call MultiboardSetItemWidth(OP9, .075)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OK9 = 0
    set OM9 = 0
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, " ")
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, false, false)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NP9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NP9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OK9 = OK9 + 1
    set OM9 = 0
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, false, false)
    call MultiboardReleaseItem(OP9)
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, true)
        call MultiboardSetItemValue(OP9, NX9(OI9[i]))
        call MultiboardSetItemIcon(OP9, (N18(Y7[GetPlayerId((OI9[i]))])))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, true)
        call MultiboardSetItemValue(OP9, NX9(OJ9[i]))
        call MultiboardSetItemIcon(OP9, (N18(Y7[GetPlayerId((OJ9[i]))])))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OK9 = OK9 + 1
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0EB'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OI9[i])), (1) - 1)))
        call MultiboardSetItemWidth(OP9, .015)
        call MultiboardReleaseItem(OP9)
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OI9[i])), (2) - 1)))
        call MultiboardSetItemWidth(OP9, .054)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OJ9[i])), (1) - 1)))
        call MultiboardSetItemWidth(OP9, .015)
        call MultiboardReleaseItem(OP9)
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OJ9[i])), (2) - 1)))
        call MultiboardSetItemWidth(OP9, .054)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OK9 = OK9 + 1
    set OM9 = 0
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + " " + e)
    call MultiboardReleaseItem(OP9)
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OI9[i])), (3) - 1)))
        call MultiboardSetItemWidth(OP9, .015)
        call MultiboardReleaseItem(OP9)
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OI9[i])), (4) - 1)))
        call MultiboardSetItemWidth(OP9, .054)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OJ9[i])), (3) - 1)))
        call MultiboardSetItemWidth(OP9, .015)
        call MultiboardReleaseItem(OP9)
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OJ9[i])), (4) - 1)))
        call MultiboardSetItemWidth(OP9, .054)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OK9 = OK9 + 1
    set OM9 = 0
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + " " + e)
    call MultiboardReleaseItem(OP9)
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OI9[i])), (5) - 1)))
        call MultiboardSetItemWidth(OP9, .015)
        call MultiboardReleaseItem(OP9)
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OI9[i])), (6) - 1)))
        call MultiboardSetItemWidth(OP9, .054)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OJ9[i])), (5) - 1)))
        call MultiboardSetItemWidth(OP9, .015)
        call MultiboardReleaseItem(OP9)
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, false, true)
        call MultiboardSetItemIcon(OP9, (OE9(GetPlayerId((OJ9[i])), (6) - 1)))
        call MultiboardSetItemWidth(OP9, .054)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0E2'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NV9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NV9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0E1'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NC9(OI9[i]) + "/" + N39(OI9[i]) + "/" + NB9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NC9(OJ9[i]) + "/" + N39(OJ9[i]) + "/" + NB9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + GetObjectName('n0JU') + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NQ9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NQ9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + GetObjectName('n0KF') + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NU9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NU9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0E0'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NY9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NY9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DT'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N_9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N_9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DZ'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N69(OI9[i]) + "/" + NL9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N69(OJ9[i]) + "/" + NL9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DY'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N19(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N19(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DU'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NZ9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NZ9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DV'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, O49(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, O49(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DW'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NA9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NA9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DN'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NW9(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, NW9(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0D8'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N09(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N09(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DI'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N59(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N59(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DM'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N29(OI9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, N29(OJ9[i]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set i = i + 1
    endloop
    if OG9 > 0 and OH9 > 0 then
        set OM9 = 0
        set OQ9 = OK9
        set OR9 = OM9
        set OK9 = OK9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0DL'))) + e)
        call MultiboardReleaseItem(OP9)
        set OK9 = OQ9
        set x = 1
        loop
            exitwhen x > OG9
            set OM9 = 0
            set OK9 = OQ9
            set i = 1
            loop
                exitwhen i > OH9
                set OM9 = x + (x - 1)
                set OK9 = OK9 + 1
                set OP9 = MultiboardGetItem(N84, OK9, OM9)
                call MultiboardSetItemStyle(OP9, false, true)
                call MultiboardSetItemIcon(OP9, (N18(Y7[GetPlayerId((OI9[x]))])))
                call MultiboardSetItemWidth(OP9, .01)
                call MultiboardReleaseItem(OP9)
                set OM9 = OM9 + 1
                set OP9 = MultiboardGetItem(N84, OK9, OM9)
                call MultiboardSetItemStyle(OP9, true, true)
                call MultiboardSetItemIcon(OP9, (N18(Y7[GetPlayerId((OJ9[i]))])))
                call MultiboardSetItemValue(OP9, " " + O79(OI9[x], OJ9[i]))
                call MultiboardSetItemWidth(OP9, .059)
                call MultiboardReleaseItem(OP9)
                set i = i + 1
            endloop
            set x = x + 1
        endloop
        set x = OG9 + 1
        loop
            exitwhen x > (OH9 + OG9)
            set OM9 = 0
            set OK9 = OQ9
            set i = 1
            loop
                exitwhen i > OG9
                set OM9 = x + (x - 1)
                set OK9 = OK9 + 1
                set OP9 = MultiboardGetItem(N84, OK9, OM9)
                call MultiboardSetItemStyle(OP9, false, true)
                call MultiboardSetItemIcon(OP9, (N18(Y7[GetPlayerId((OJ9[x - OG9]))])))
                call MultiboardSetItemWidth(OP9, .01)
                call MultiboardReleaseItem(OP9)
                set OM9 = OM9 + 1
                set OP9 = MultiboardGetItem(N84, OK9, OM9)
                call MultiboardSetItemStyle(OP9, true, true)
                call MultiboardSetItemIcon(OP9, (N18(Y7[GetPlayerId((OI9[i]))])))
                call MultiboardSetItemValue(OP9, " " + O79(OJ9[x - OG9], OI9[i]))
                call MultiboardSetItemWidth(OP9, .059)
                call MultiboardReleaseItem(OP9)
                set i = i + 1
            endloop
            set x = x + 1
        endloop
    endif
    set OK9 = OK9 + 1
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0CZ'))) + e)
    call MultiboardReleaseItem(OP9)
    set OM9 = 0
    set i = 1
    loop
        exitwhen i > OG9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, (OD[GetPlayerId((OI9[i]))]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set NF4 = NF4 + 1
        set N94[NF4] = OK9
        set ND4[NF4] = OM9
        set NE4[NF4] = OI9[i]
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > OH9
        set OM9 = OM9 + 1
        set OP9 = MultiboardGetItem(N84, OK9, OM9)
        call MultiboardSetItemStyle(OP9, true, false)
        call MultiboardSetItemValue(OP9, (OD[GetPlayerId((OJ9[i]))]))
        call MultiboardSetItemWidth(OP9, .07)
        call MultiboardReleaseItem(OP9)
        set NF4 = NF4 + 1
        set N94[NF4] = OK9
        set ND4[NF4] = OM9
        set NE4[NF4] = OJ9[i]
        set i = i + 1
    endloop
    set OM9 = 0
    set OK9 = OK9 + 1
    set OP9 = MultiboardGetItem(N84, OK9, OM9)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, c0 + (GetObjectName(('n0D9'))) + e)
    call MultiboardReleaseItem(OP9)
    set OP9 = MultiboardGetItem(N84, OK9, OM9 + 1)
    call MultiboardSetItemStyle(OP9, true, false)
    call MultiboardSetItemValue(OP9, (ND))
    call MultiboardSetItemWidth(OP9, .07)
    call MultiboardReleaseItem(OP9)
    call MultiboardMinimize(N84, true)
    call MultiboardMinimize(N84, false)
    set OP9 = null
endfunction
function OS9 takes nothing returns string
    return O64
endfunction
function mD takes player j8 returns string
    return N18(Y7[GetPlayerId(j8)])
endfunction
function me takes player j8, integer Lp returns string
    return XA8(UnitItemInSlot(Y7[GetPlayerId(j8)], Lp - 1))
endfunction
function mE takes player j8 returns string
    return W[GetPlayerId(j8)] + NM8(j8) + "|r"
endfunction
function mf takes player j8 returns string
    return I2S(GetPlayerState(j8, PLAYER_STATE_RESOURCE_GOLD))
endfunction
function mg takes player p returns string
    return I2S(GetUnitLevel(Y7[GetPlayerId(p)]))
endfunction
function mh takes player j8 returns string
    return I2S(NS4[GetPlayerId(j8)])
endfunction
function mH takes player j8 returns string
    return I2S(NN4[GetPlayerId(j8)])
endfunction
function mi takes player j8 returns string
    return I2S(C[GetPlayerId(j8)])
endfunction
function mI takes player j8 returns string
    return I2S(D4[GetPlayerId(j8)])
endfunction
function mj takes player j8 returns string
    return I2S(C7[GetPlayerId(j8)])
endfunction
function mJ takes player j8 returns string
    return I2S(L7[GetPlayerId(j8)])
endfunction
function mk takes player p returns string
    return I2S((LoadInteger(R8, (400 + GetPlayerId(p)), (79))))
endfunction
function mK takes player j8 returns string
    return I2S(NP4[GetPlayerId(j8)])
endfunction
function ml takes player j8 returns string
    return I2S(NQ4[GetPlayerId(j8)])
endfunction
function mL takes player j8 returns string
    return I2S(NO4[GetPlayerId(j8)])
endfunction
function mm takes player j8 returns string
    local integer k = gD[GetPlayerId(j8)]
    local integer d = N64[GetPlayerId(j8)]
    if k < 1 then
        set k = 0
    endif
    if d < 1 then
        set d = 0
    endif
    return I2S(k) + "/" + I2S(d)
endfunction
function mM takes player j8 returns string
    local integer L0 = NR4[GetPlayerId(j8)]
    local string YK8
    local integer L1
    local integer L2
    set L1 = (L0 / 60) - (1 / 2)
    set L2 = ModuloInteger(L0, 60)
    if(L2 < 10)then
        set YK8 = I2S(L1) + ":0" + I2S(L2)
    else
        set YK8 = I2S(L1) + ":" + I2S(L2)
    endif
    return YK8
endfunction
function mn takes player Z77, player target returns string
    local integer k = (LoadInteger(R8, (400 + GetPlayerId(Z77)), (450 + GetPlayerId(target))))
    local integer d = (LoadInteger(R8, (400 + GetPlayerId(Z77)), (500 + GetPlayerId(target))))
    if k < 1 then
        set k = 0
    endif
    if d < 1 then
        set d = 0
    endif
    return I2S(k) + "/" + I2S(d)
endfunction
function mN takes player Z77 returns string
    local string mo
    if O18(Y7[GetPlayerId(Z77)])then
        set mo = I2S(R2I(TimerGetRemaining(L[GetPlayerId(Z77)])))
    else
        set mo = " "
    endif
    return mo
endfunction
function OT9 takes player Z77 returns string
    local real r = (TimerGetRemaining(M_4[GetPlayerId((Z77))]))
    local string OU9
    if r > 0 then
        set OU9 = I2S(R2I(r))
    else
        set OU9 = " "
    endif
    return OU9
endfunction
function OV9 takes integer mp, integer mP returns nothing
    set NG4 = CreateMultiboard()
    call MultiboardSetItemsWidth(NG4, 0)
    call MultiboardSetRowCount(NG4, mp)
    call MultiboardSetColumnCount(NG4, mP)
    call MultiboardSetTitleText(NG4, (GetObjectName(('n0E3'))) + " " + " - " + OS9())
    call MultiboardMinimize(NG4, true)
    call MultiboardSetItemsStyle(NG4, false, false)
    if GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4 then
        call MultiboardDisplay(NG4, true)
    endif
endfunction
function mq takes nothing returns string
    return"|c00ff0303" + I2S(C[GetPlayerId(G8[0])]) + "|r/|c0020c000" + I2S(D4[GetPlayerId(G8[0])]) + "|r"
endfunction
function OW9 takes player OX9 returns string
    return I2S(IU[GetPlayerId(OX9)])
endfunction
function OY9 takes nothing returns nothing
    local integer XW8 = HM4
    local integer XV8 = HN4
    local player array OZ9
    local player array OA9
    local integer OB9
    local integer OC9
    local integer O39 = 1 + 19 + IMaxBJ(XW8, XV8) + 2
    local integer O69 = 1 + (XW8 + XV8) * 2
    local multiboarditem YH8
    local integer i
    local integer x
    local integer curRow1
    local integer curRow2
    local string e = "|r"
    local string c0 = "|cff99ccff"
    local integer OL9
    local integer O19
    local integer O09 = 131
    local integer O59 = 139
    local integer O29 = 139
    local integer O_9 = 255
    local integer KB9 = 0
    local string KC9 = ""
    local string K39 = ""
    local integer K69 = 0
    local integer KL9 = 0
    local integer r
    local string board_string
    if XW8 > 0 and XV8 > 0 then
        set O39 = O39 + 2
    endif
    if GetTriggerExecCount(GetTriggeringTrigger()) == 1 then
        call OV9(O39, O69)
    endif
    if GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4 then
        call MultiboardDisplay(NG4, true)
    endif
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set r = R2I(TimerGetRemaining(L[GetPlayerId(G8[i])]))
        if r > 0 then
            set KB9 = KB9 + KP9(r)
            if K69 == 0 then
                if r < 10 then
                    set KC9 = W[GetPlayerId(G8[i])] + "0" + I2S(r) + " |r"
                else
                    set KC9 = W[GetPlayerId(G8[i])] + I2S(r) + " |r"
                endif
            else
                if r < 10 then
                    set KC9 = KC9 + Hj + "| |r" + W[GetPlayerId(G8[i])] + "0" + I2S(r) + " |r"
                else
                    set KC9 = KC9 + Hj + "| |r" + W[GetPlayerId(G8[i])] + I2S(r) + " |r"
                endif
            endif
            set K69 = K69 + 1
        endif
        set i = i + 1
    endloop
    if K69 > 0 then
        set KC9 = Hj + "[" + GetObjectName('n03N') + ": |r" + KC9 + Hj + "]|r"
    endif
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set r = R2I(TimerGetRemaining(L[GetPlayerId(N8[i])]))
        if r > 0 then
            set KB9 = KB9 + KP9(r)
            if KL9 == 0 then
                if r < 10 then
                    set K39 = W[GetPlayerId(N8[i])] + "0" + I2S(r) + " |r"
                else
                    set K39 = W[GetPlayerId(N8[i])] + I2S(r) + " |r"
                endif
            else
                if r < 10 then
                    set K39 = K39 + Hj + "| |r" + W[GetPlayerId(N8[i])] + "0" + I2S(r) + " |r"
                else
                    set K39 = K39 + Hj + "| |r" + W[GetPlayerId(N8[i])] + I2S(r) + " |r"
                endif
            endif
            set KL9 = KL9 + 1
        endif
        set i = i + 1
    endloop
    if KL9 > 0 then
        set K39 = Hj + "[" + GetObjectName('n03O') + ": |r" + K39 + Hj + "]|r"
    endif
    call MultiboardSetTitleText(NG4, KC9 + " " + K39 + " " + GetObjectName('n0E3') + " " + " - " + (O64) + " - " + ("|c00ff0303" + I2S(C[GetPlayerId(G8[0])]) + "|r/|c0020c000" + I2S(D4[GetPlayerId(G8[0])]) + "|r"))
    set x = 1
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KT8(G8[i])or GetPlayerSlotState(G8[i]) == PLAYER_SLOT_STATE_LEFT then
            set OZ9[x] = G8[i]
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set x = 1
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KT8(N8[i])or GetPlayerSlotState(N8[i]) == PLAYER_SLOT_STATE_LEFT then
            set OA9[x] = N8[i]
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set i = 0
    set OC9 = 0
    loop
        exitwhen i > O39
        set YH8 = MultiboardGetItem(NG4, i, OC9)
        call MultiboardSetItemWidth(YH8, .075)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OB9 = 0
    set OC9 = 0
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, " ")
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, false, false)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mE(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mE(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OB9 = OB9 + 1
    set OC9 = 0
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, false, false)
    call MultiboardReleaseItem(YH8)
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, true)
        call MultiboardSetItemValue(YH8, "(" + mg(OZ9[i]) + ")")
        call MultiboardSetItemIcon(YH8, mD(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, true)
        call MultiboardSetItemValue(YH8, "(" + mg(OA9[i]) + ")")
        call MultiboardSetItemIcon(YH8, mD(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OB9 = OB9 + 1
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0EB') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OZ9[i], 1))
        call MultiboardSetItemWidth(YH8, .015)
        call MultiboardReleaseItem(YH8)
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OZ9[i], 2))
        call MultiboardSetItemWidth(YH8, .054)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OA9[i], 1))
        call MultiboardSetItemWidth(YH8, .015)
        call MultiboardReleaseItem(YH8)
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OA9[i], 2))
        call MultiboardSetItemWidth(YH8, .054)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OB9 = OB9 + 1
    set OC9 = 0
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + " " + e)
    call MultiboardReleaseItem(YH8)
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OZ9[i], 3))
        call MultiboardSetItemWidth(YH8, .015)
        call MultiboardReleaseItem(YH8)
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OZ9[i], 4))
        call MultiboardSetItemWidth(YH8, .054)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OA9[i], 3))
        call MultiboardSetItemWidth(YH8, .015)
        call MultiboardReleaseItem(YH8)
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OA9[i], 4))
        call MultiboardSetItemWidth(YH8, .054)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OB9 = OB9 + 1
    set OC9 = 0
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + " " + e)
    call MultiboardReleaseItem(YH8)
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OZ9[i], 5))
        call MultiboardSetItemWidth(YH8, .015)
        call MultiboardReleaseItem(YH8)
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OZ9[i], 6))
        call MultiboardSetItemWidth(YH8, .054)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OA9[i], 5))
        call MultiboardSetItemWidth(YH8, .015)
        call MultiboardReleaseItem(YH8)
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, false, true)
        call MultiboardSetItemIcon(YH8, me(OA9[i], 6))
        call MultiboardSetItemWidth(YH8, .054)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0E2') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mf(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mf(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0LT') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mi(OZ9[i]) + "/" + mI(OZ9[i]) + "/" + OW9(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mi(OA9[i]) + "/" + mI(OA9[i]) + "/" + OW9(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0E0') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, (I2S(GU4[GetPlayerId((OZ9[i]))])))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, (I2S(GU4[GetPlayerId((OA9[i]))])))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DT') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mm(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mm(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DZ') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mj(OZ9[i]) + "/" + mJ(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mj(OA9[i]) + "/" + mJ(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DY') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mk(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mk(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DU') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mh(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mh(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DV') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mM(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mM(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DW') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mH(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mH(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DN') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, (I2S(Zh[GetPlayerId((OZ9[i]))])))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, (I2S(Zh[GetPlayerId((OA9[i]))])))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0D8') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mK(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mK(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DI') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, ml(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, ml(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DM') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mL(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, mL(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    if XW8 > 0 and XV8 > 0 then
        set OC9 = 0
        set OL9 = OB9
        set O19 = OC9
        set OB9 = OB9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0DL') + e)
        call MultiboardReleaseItem(YH8)
        set OB9 = OL9
        set x = 1
        loop
            exitwhen x > XW8
            set OC9 = 0
            set OB9 = OL9
            set i = 1
            loop
                exitwhen i > XV8
                set OC9 = x + (x - 1)
                set OB9 = OB9 + 1
                set YH8 = MultiboardGetItem(NG4, OB9, OC9)
                call MultiboardSetItemStyle(YH8, false, true)
                call MultiboardSetItemIcon(YH8, mD(OZ9[x]))
                call MultiboardSetItemWidth(YH8, .01)
                call MultiboardReleaseItem(YH8)
                set OC9 = OC9 + 1
                set YH8 = MultiboardGetItem(NG4, OB9, OC9)
                call MultiboardSetItemStyle(YH8, true, true)
                call MultiboardSetItemIcon(YH8, mD(OA9[i]))
                call MultiboardSetItemValue(YH8, " " + mn(OZ9[x], OA9[i]))
                call MultiboardSetItemWidth(YH8, .059)
                call MultiboardReleaseItem(YH8)
                set i = i + 1
            endloop
            set x = x + 1
        endloop
        set x = XW8 + 1
        loop
            exitwhen x > (XV8 + XW8)
            set OC9 = 0
            set OB9 = OL9
            set i = 1
            loop
                exitwhen i > XW8
                set OC9 = x + (x - 1)
                set OB9 = OB9 + 1
                set YH8 = MultiboardGetItem(NG4, OB9, OC9)
                call MultiboardSetItemStyle(YH8, false, true)
                call MultiboardSetItemIcon(YH8, mD(OA9[x - XW8]))
                call MultiboardSetItemWidth(YH8, .01)
                call MultiboardReleaseItem(YH8)
                set OC9 = OC9 + 1
                set YH8 = MultiboardGetItem(NG4, OB9, OC9)
                call MultiboardSetItemStyle(YH8, true, true)
                call MultiboardSetItemIcon(YH8, mD(OZ9[i]))
                call MultiboardSetItemValue(YH8, " " + mn(OA9[x - XW8], OZ9[i]))
                call MultiboardSetItemWidth(YH8, .059)
                call MultiboardReleaseItem(YH8)
                set i = i + 1
            endloop
            set x = x + 1
        endloop
    endif
    set OB9 = OB9 + 1
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0HS') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemValueColor(YH8, O09, O59, O29, O_9)
        if mN(OZ9[i]) == " " then
            call MultiboardSetItemStyle(YH8, true, false)
        else
            call MultiboardSetItemStyle(YH8, true, false)
            call MultiboardSetItemIcon(YH8, (N18(Y7[GetPlayerId((OZ9[i]))])))
        endif
        call MultiboardSetItemValue(YH8, OT9(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        call MultiboardSetItemValueColor(YH8, O09, O59, O29, O_9)
        if mN(OA9[i]) == " " then
            call MultiboardSetItemStyle(YH8, true, false)
        else
            call MultiboardSetItemStyle(YH8, true, false)
            call MultiboardSetItemIcon(YH8, (N18(Y7[GetPlayerId((OA9[i]))])))
        endif
        call MultiboardSetItemValue(YH8, OT9(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, c0 + GetObjectName('n0E4') + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        if mN(OZ9[i]) == " "then
            call MultiboardSetItemStyle(YH8, true, false)
        else
            call MultiboardSetItemStyle(YH8, true, true)
            call MultiboardSetItemIcon(YH8, mD(OZ9[i]))
        endif
        call MultiboardSetItemValue(YH8, mN(OZ9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        if mN(OA9[i]) == " "then
            call MultiboardSetItemStyle(YH8, true, false)
        else
            call MultiboardSetItemStyle(YH8, true, true)
            call MultiboardSetItemIcon(YH8, mD(OA9[i]))
        endif
        call MultiboardSetItemValue(YH8, mN(OA9[i]))
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, "|c00dd8dff" + "AI Actions" + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    // set i = 1
    // loop
    //     exitwhen i > XW8
    //     set OC9 = OC9 + 1
    //     set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    //     set board_string = GetState(GetPlayerId(OZ9[i]), true)
    //     if OZ9[i] == CaptainSent then
    //         set board_string = GetObjectName('Y123')
    //     endif
    //     call MultiboardSetItemStyle(YH8, true, false)
    //     call MultiboardSetItemValue(YH8, board_string)
    //     call MultiboardSetItemWidth(YH8, .07)
    //     call MultiboardReleaseItem(YH8)
    //     set i = i + 1
    // endloop
    // set i = 1
    // loop
    //     exitwhen i > XV8
    //     set OC9 = OC9 + 1
    //     set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    //     set board_string = GetState(GetPlayerId(OA9[i]), true)
    //     if OA9[i] == CaptainScrg then
    //         set board_string = GetObjectName('Y123')
    //     endif
    //     call MultiboardSetItemStyle(YH8, true, false)
    //     call MultiboardSetItemValue(YH8, board_string)
    //     call MultiboardSetItemWidth(YH8, .07)
    //     call MultiboardReleaseItem(YH8)
    //     set i = i + 1
    // endloop
    set OC9 = 0
    set OB9 = OB9 + 1
    set YH8 = MultiboardGetItem(NG4, OB9, OC9)
    call MultiboardSetItemStyle(YH8, true, false)
    call MultiboardSetItemValue(YH8, "|c0020c060" + "Exp.|r - " + "|c00ffcc60" + "Gold|r" + e)
    call MultiboardReleaseItem(YH8)
    set OC9 = 0
    set i = 1
    loop
        exitwhen i > XW8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        set board_string = "|c0020c060" + "+" + I2S(R2I(GetPlayerHandicapXPBJ(OZ9[i]) - 100.)) + "%|r - " + "|c00ffcc60" + "+" + I2S(g_aiStateInt[48 + GetPlayerId(OZ9[i])]) + "|r"
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, board_string)
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XV8
        set OC9 = OC9 + 1
        set YH8 = MultiboardGetItem(NG4, OB9, OC9)
        set board_string = "|c0020c060" + "+" + I2S(R2I(GetPlayerHandicapXPBJ(OA9[i]) - 100.)) + "%|r - " + "|c00ffcc60" + "+" + I2S(g_aiStateInt[48 + GetPlayerId(OA9[i])]) + "|r"
        call MultiboardSetItemStyle(YH8, true, false)
        call MultiboardSetItemValue(YH8, board_string)
        call MultiboardSetItemWidth(YH8, .07)
        call MultiboardReleaseItem(YH8)
        set i = i + 1
    endloop
    set YH8 = null
endfunction
function P49 takes integer Z77, integer target returns boolean
    local integer i = Tb - 1
    local real P79 = 0
    local real NO8 = (TimerGetElapsed(E4))
    local integer P89 = 0
    loop
        exitwhen i == Tb or P79 > wb or P89 > 200
        if i == 0 then
            set i = 8000 - 1
        endif
        set P89 = P89 + 1
        set P79 = NO8 - Mb[i]
        if pb[i] == Z77 and Qb[i] == target and P79 < wb then
            set pb[i] = 0
            set Qb[i] = 0
            return true
        endif
        set i = i - 1
    endloop
    return false
endfunction
function NH9 takes nothing returns nothing
    local integer Z77 = GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
    local integer target = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    set Mb[Tb] = (TimerGetElapsed(E4))
    set pb[Tb] = Z77
    set Qb[Tb] = target
    set Tb = Tb + 1
    if Tb == 8000 then
        set Tb = 1
    endif
endfunction
function PD9 takes unit S4, unit PE9 returns string
    local integer i = 1
    local integer PF9 = GetPlayerId(GetOwningPlayer(S4))
    local integer PG9 = GetPlayerId(GetOwningPlayer(PE9))
    local integer PH9
    local string PI9 = " " + GetObjectName('n0JY') + " "
    local boolean PJ9 = false
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KN8(GetOwningPlayer(PE9))then
            set PH9 = GetPlayerId(G8[i])
        else
            set PH9 = GetPlayerId(N8[i])
        endif
        if PG9 != PH9 and P49(PH9, PF9)then
            set IU[PH9] = IU[PH9] + 1
            call X48("Assist" + I2S(PH9), PF9)
            if PJ9 then
                set PI9 = PI9 + "/" + W[PH9] + (KW4[GetPlayerId((Player(PH9)))]) + "|r"
            else
                set PI9 = PI9 + W[PH9] + (KW4[GetPlayerId((Player(PH9)))]) + "|r"
            endif
            set PJ9 = true
        endif
        set i = i + 1
    endloop
    if PJ9 then
        return PI9
    endif
    return" "
endfunction
function PK9 takes integer Z77, integer target returns boolean
    local integer i = Tb - 1
    local real P79 = 0
    local real NO8 = (TimerGetElapsed(E4))
    local integer P89 = 0
    loop
        exitwhen i == Tb or P79 > wb or P89 > 200
        if i == 0 then
            set i = 8000 - 1
        endif
        set P89 = P89 + 1
        set P79 = NO8 - Mb[i]
        if pb[i] == Z77 and Qb[i] == target and P79 < wb then
            return true
        endif
        set i = i - 1
    endloop
    return false
endfunction
function PM9 takes unit S4, unit PE9 returns boolean
    local integer i = 1
    local integer PF9 = GetPlayerId(GetOwningPlayer(S4))
    local integer PG9 = GetPlayerId(GetOwningPlayer(PE9))
    local integer PH9
    local string PI9 = " Assists: "
    local boolean PJ9 = false
    local integer x = 1
    set JU[1] = null
    set JU[2] = null
    set JU[3] = null
    set JU[4] = null
    set JU[5] = null
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KN8(GetOwningPlayer(PE9))then
            set PH9 = GetPlayerId(G8[i])
        else
            set PH9 = GetPlayerId(N8[i])
        endif
        if PG9 != PH9 and PK9(PH9, PF9)then
            set JU[x] = Player(PH9)
            set x = x + 1
            set PJ9 = true
        endif
        set i = i + 1
    endloop
    return PJ9
endfunction
function PN9 takes unit S4, unit PE9 returns string
    local integer i = 1
    local integer PF9 = GetPlayerId(GetOwningPlayer(S4))
    local integer PG9 = GetPlayerId(GetOwningPlayer(PE9))
    local integer PH9
    local string PI9 = ""
    local boolean PJ9 = false
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KN8(GetOwningPlayer(PE9))then
            set PH9 = GetPlayerId(G8[i])
        else
            set PH9 = GetPlayerId(N8[i])
        endif
        if PG9 != PH9 and PK9(PH9, PF9)then
            if PJ9 then
                set PI9 = PI9 + "/" + W[PH9] + (KW4[GetPlayerId((Player(PH9)))]) + "|r"
            else
                set PI9 = PI9 + W[PH9] + (KW4[GetPlayerId((Player(PH9)))]) + "|r"
            endif
            set PJ9 = true
        endif
        set i = i + 1
    endloop
    if PJ9 then
        return PI9
    endif
    return" "
endfunction
function PO9 takes unit S4, unit PE9 returns integer
    local integer i = 1
    local integer PF9 = GetPlayerId(GetOwningPlayer(S4))
    local integer PG9 = GetPlayerId(GetOwningPlayer(PE9))
    local integer PH9
    local integer P89 = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KN8(GetOwningPlayer(PE9))then
            set PH9 = GetPlayerId(G8[i])
        else
            set PH9 = GetPlayerId(N8[i])
        endif
        if PG9 != PH9 and PK9(PH9, PF9)then
            set P89 = P89 + 1
        endif
        set i = i + 1
    endloop
    return P89
endfunction
function PP9 takes unit PQ9 returns boolean
    return GetUnitTypeId(PQ9) == 'H00I' or GetUnitTypeId(PQ9) == 'H00J'
endfunction
function PR9 takes unit PQ9 returns boolean
    local integer EC8 = GetHandleId(GetOwningPlayer(PQ9))
    local unit YZ8 = (LoadUnitHandle(R8, (EC8), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (EC8), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (EC8), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (EC8), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (EC8), (703)))
    if GetUnitAbilityLevel(YZ8, 'A0OV') != 0 or GetUnitAbilityLevel(YA8, 'A0OV') != 0 or GetUnitAbilityLevel(YB8, 'A0OV') != 0 or GetUnitAbilityLevel(YC8, 'A0OV') != 0 or GetUnitAbilityLevel(Y38, 'A0OV') != 0 then
        return true
    endif
    set YZ8 = null
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
    return false
endfunction
function PS9 takes unit PQ9 returns boolean
    local integer i = 0
    local integer EC8 = GetHandleId(GetOwningPlayer(PQ9))
    local unit PT9 = (LoadUnitHandle(R8, (EC8), (699)))
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if(GetItemTypeId(UnitItemInSlot(PT9, i)) == BU[F1] and GetItemCharges(UnitItemInSlot(PT9, i)) > 0) then
            set PT9 = null
            return true
        endif
        set i = i + 1
    endloop
    set PT9 = null
    return false
endfunction
function PU9 takes unit PQ9, location PV9 returns nothing
    local integer EC8 = GetHandleId(GetOwningPlayer(PQ9))
    local unit YZ8 = (LoadUnitHandle(R8, (EC8), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (EC8), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (EC8), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (EC8), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (EC8), (703)))
    if YZ8 != null then
        call ReviveHeroLoc(YZ8, PV9, true)
        call YP8(YZ8)
    endif
    if YA8 != null then
        call ReviveHeroLoc(YA8, PV9, true)
        call YP8(YA8)
    endif
    if YB8 != null then
        call ReviveHeroLoc(YB8, PV9, true)
        call YP8(YB8)
    endif
    if YC8 != null then
        call ReviveHeroLoc(YC8, PV9, true)
        call YP8(YC8)
    endif
    if Y38 != null then
        call ReviveHeroLoc(Y38, PV9, true)
        call YP8(Y38)
    endif
    set Y38 = null
    set YC8 = null
    set YB8 = null
    set YA8 = null
    set YZ8 = null
endfunction
function PW9 takes unit AM7, real PX9, boolean PY9 returns nothing
    set NM4 = NM4 + 1
    set NI4[NM4] = AM7
    set NJ4[NM4] = TimerGetElapsed(E4) + PX9
    set NK4[NM4] = PY9
endfunction
function PZ9 takes integer i returns nothing
    local unit PQ9 = NI4[i]
    local player p4 = GetOwningPlayer(PQ9)
    local location PV9
    if KO8(p4)then
        set PV9 = GetRectCenter(PD)
    else
        set PV9 = GetRectCenter(QD)
    endif
    if U9 == false and O18(PQ9)then
        call YS8(PQ9, p4, GetLocationX(PV9), GetLocationY(PV9), true)
        if YU8(PQ9) == false or GetUnitAbilityLevel(PQ9, 'A0MW') == 0 then
            call ReviveHeroLoc(PQ9, PV9, true)
        else
            call PU9(PQ9, PV9)
        endif
        call SetUnitState(PQ9, UNIT_STATE_MANA, GetUnitState(PQ9, UNIT_STATE_MAX_MANA))
    endif
    call RemoveLocation(PV9)
    call K99(i)
    set PQ9 = null
    set p4 = null
    set PV9 = null
endfunction
function PA9 takes nothing returns boolean
    local real NO8 = (TimerGetElapsed(E4))
    local integer i
    set i = 1
    loop
        exitwhen i > NM4
        if NJ4[i] < NO8 and NJ4[i] != 0 then
            call PZ9(i)
        endif
        if NJ4[i] != 0 and O18(NI4[i]) == false then
            set NI4[i] = null
            set NJ4[i] = 0
            set NK4[i] = false
        endif
        set i = i + 1
    endloop
    return false
endfunction
function PB9 takes unit u returns string
    local string s = GetObjectName('n0FO')
    set s = XD8(s, "$hero", W[GetPlayerId(GetOwningPlayer(u))] + GetUnitName(u) + "|r")
    return s
endfunction
function PC9 takes unit Z77 returns boolean
    if GetOwningPlayer(Z77) != GetLocalPlayer()then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 15, PB9(Y7[GetPlayerId(GetOwningPlayer(Z77))]))
    endif
    return false
endfunction
function P39 takes unit P69, unit PL9 returns nothing
    if BS7(P69, PL9) > 1300 + 25 or(O18(P69)and GetUnitTypeId(P69) == 'H00K')then
        if IsPlayerAlly(GetOwningPlayer(P69), GetOwningPlayer(PL9)) == false then
            call AddHeroXP(P69, ZI7(PL9), true)
        endif
    endif
endfunction
function P19 takes nothing returns nothing
    if AV7(GetEnumUnit(), BU[E2]) != null then
        call SetItemCharges(AV7(GetEnumUnit(), BU[E2]), GetItemCharges(AV7(GetEnumUnit(), BU[E2])) + 1)
    endif
endfunction
function P09 takes nothing returns boolean
    if(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit()) == false then
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(TY4))and AV7(GetFilterUnit(), BU[E2]) != null then
            return true
        endif
    endif
    return false
endfunction
function P59 takes nothing returns boolean
    local item i
    local integer P29
    if UF4 == 0 and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit()) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(UE4))then
        if AV7(GetFilterUnit(), BU[DE4]) != null then
            set UF4 = UF4 + 1
            set P29 = GetItemCharges(AV7(GetFilterUnit(), BU[DE4]))
            if P29 == 0 then
                set P29 = 2
            else
                set P29 = P29 + 1
            endif
            call SetItemCharges(AV7(GetFilterUnit(), BU[DE4]), P29)
        endif
    endif
    set i = null
    return false
endfunction
function P_9 takes unit u, unit Q49 returns nothing
    local group g = OG8()
    set TY4 = u
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 1625, Condition(function P09))
    if IsUnitAlly(u, GetOwningPlayer(Q49)) == false then
        call GroupAddUnit(g, Q49)
    endif
    call ForGroup(g, function P19)
    call OF8(g)
    set g = null
endfunction
function Q79 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Q89 = (LoadUnitHandle(R8, (W57), (335)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real x
    local real y
    local real a
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if GetTriggerUnit() != Q89 then
            call KillUnit(Q89)
        endif
    else
        set a = GetUnitFacing(X77) * bj_RADTODEG
        set x = GetUnitX(X77) + 75
        set y = GetUnitY(X77) + 75
        call SetUnitX(Q89, x)
        call SetUnitY(Q89, y)
        call IssueTargetOrderById(Q89, 851983, X77)
    endif
    set t = null
    set Q89 = null
    set X77 = null
    return false
endfunction
function Q99 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local unit Q89
    if GetSummoningUnit() == AC7 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        set Q89 = GetSummonedUnit()
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterDeathEvent(t, Q89)
        call TriggerRegisterDeathEvent(t, X77)
        call TriggerRegisterTimerEvent(t, .05, true)
        call TriggerAddCondition(t, Condition(function Q79))
        call SaveUnitHandle(R8, (W57), (335), (Q89))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call UnitAddAbility(Q89, 'Aloc')
        call SetUnitPosition(Q89, GetUnitX(X77) + 100, GetUnitY(X77) + 100)
        call IssueTargetOrderById(Q89, 851983, X77)
        call SetUnitMoveSpeed(Q89, 522)
        set Q89 = null
    endif
    set t = null
    set X77 = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function QD9 takes unit Z77, unit Q49 returns nothing
    local unit X77 = Q49
    local unit AC7
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    if WL8(X77)then
        set X77 = (Y7[GetPlayerId(GetOwningPlayer((X77)))])
    endif
    set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function Q99))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call O68(AC7, 'A2E7')
    call IssueTargetOrderById(AC7, 852274, X77)
    set t = null
    set X77 = null
    set AC7 = null
endfunction
function QE9 takes nothing returns boolean
    if(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit()) == false then
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(TY4)) == false and AV7(GetFilterUnit(), BU[BZ]) != null then
        endif
    endif
    return false
endfunction
function QF9 takes unit u returns nothing
    local group g = OG8()
    set TY4 = u
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 1625, Condition(function QE9))
    call OF8(g)
    set g = null
endfunction
function QG9 takes unit u returns nothing
    local group g = OG8()
    set UF4 = 0
    set UE4 = u
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 1425, Condition(function P59))
    call OF8(g)
    set UF4 = 0
    set g = null
endfunction
function QH9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer QI9 = (LoadInteger(R8, (EC8), (88)))
    local integer i = 1
    local player p
    local string M6
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if QI9 == 0 then
            set p = G8[i]
            set M6 = W[GetPlayerId(G8[0])] + (GetObjectName(('n03N'))) + "|r " + (GetObjectName(('n03P'))) + " " + W[GetPlayerId(G8[0])] + (GetObjectName(('n03Q'))) + "|r"
        else
            set p = N8[i]
            set M6 = W[GetPlayerId(N8[0])] + (GetObjectName(('n03O'))) + "|r " + (GetObjectName(('n03P'))) + " " + W[GetPlayerId(N8[0])] + (GetObjectName(('n03Q'))) + "|r"
        endif
        call DisplayTimedTextToPlayer(p, 0, 0, 10, M6)
        call TP8(XO, p)
        set i = i + 1
    endloop
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function QJ9 takes integer QI9 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1.5, false)
    call TriggerAddCondition(t, Condition(function QH9))
    call SaveInteger(R8, (EC8), (88), (QI9))
    set t = null
endfunction
function QK9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer QM9 = (LoadInteger(R8, (EC8), (89)))
    local string M6 = (LoadStr(R8, (EC8), (90)))
    if QM9 == 1 then
        call TO8(nX)
    elseif QM9 == 2 then
        call TO8(CR)
    elseif QM9 == 3 then
        call TO8(IP)
    elseif QM9 == 4 then
        call TO8(JP)
    endif
    call NN8(T9, 10., M6)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function QN9 takes string M6, integer QM9 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1.5, false)
    call TriggerAddCondition(t, Condition(function QK9))
    call SaveStr(R8, (EC8), (90), (M6))
    call SaveInteger(R8, (EC8), (89), (QM9))
    set t = null
endfunction
function QR9 takes unit PQ9, unit QS9, real M38 returns nothing
    local integer i = 1
    local integer C77 = 0
    call PM9(PQ9, QS9)
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if JU[i] != null then
            set C77 = C77 + 1
        endif
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if JU[i] != null then
            call QO9(JU[i], R2I(M38 / C77), Y7[GetPlayerId(JU[i])], true, true)
        endif
        set i = i + 1
    endloop
endfunction
function QT9 takes player QU9, integer QQ9 returns nothing
    local integer T8 = 1
    local integer Jg
    if KN8(QU9)then
        set Jg = MI8(E8)
    else
        set Jg = MI8(F8)
    endif
    if KN8(QU9)then
        loop
            exitwhen T8 > MAX_TEAM_PLAYERS
            if KS8(G8[T8])then
                call QO9(G8[T8], QQ9 / Jg, Y7[GetPlayerId(G8[T8])], true, true)
            endif
            set T8 = T8 + 1
        endloop
    else
        loop
            exitwhen T8 > MAX_TEAM_PLAYERS
            if KS8(N8[T8])then
                call QO9(N8[T8], QQ9 / Jg, Y7[GetPlayerId(N8[T8])], true, true)
            endif
            set T8 = T8 + 1
        endloop
    endif
endfunction
function QV9 takes unit PQ9, integer QW9 returns nothing
    local player p4 = GetOwningPlayer(PQ9)
    call SetPlayerState(p4, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p4, PLAYER_STATE_RESOURCE_GOLD) - QW9)
endfunction
function QX9 takes nothing returns boolean
    if GetUnitTypeId(GetFilterUnit()) == 'o003'then
        call KillUnit(GetFilterUnit())
        return true
    endif
    return false
endfunction
function QY9 takes nothing returns nothing
    local boolexpr QZ9 = Condition(function QX9)
    local group QA9 = OG8()
    call GroupEnumUnitsInRect(QA9, bj_mapInitialPlayableArea, QZ9)
    call OF8(QA9)
    call DestroyBoolExpr(QZ9)
    set QZ9 = null
    set QA9 = null
endfunction
function QB9 takes player QC9 returns boolean
    return(QC9 == O8)
endfunction
function Q39 takes nothing returns boolean
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and GetUnitTypeId(GetTriggerUnit()) != 'N0MM' and GetUnitTypeId(GetTriggerUnit()) != 'Hvil' then
        if GetUnitTypeId(GetTriggerUnit()) == 'H00J' and PS9(GetTriggerUnit())then
            return false
        endif
        return true
    endif
    return false
endfunction
function Q69 takes player QL9, player QP9, unit QS9 returns boolean
    return QS9 == null or GetKillingUnit() == null or(KN8(QL9)and KN8(QP9))or(KO8(QL9)and KO8(QP9))
endfunction
function Q19 takes nothing returns nothing
    if XC8(GetUnitTypeId(GetEnumUnit())) == false then
        set NC4 = NC4 + 1
        set N34 = N34 + 1
    endif
endfunction
function GetPlayerEconomy takes player p returns integer
    return GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) + PlayerItemValue[GetPlayerId(p)]
endfunction
function GetPlayerTeamEconomy takes player p returns integer
    static if MAX_TEAM_PLAYERS_GE_1 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3]) + GetPlayerEconomy(G8[4])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3]) + GetPlayerEconomy(N8[4])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3]) + GetPlayerEconomy(G8[4]) + GetPlayerEconomy(G8[5])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3]) + GetPlayerEconomy(N8[4]) + GetPlayerEconomy(N8[5])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3]) + GetPlayerEconomy(G8[4]) + GetPlayerEconomy(G8[5]) + GetPlayerEconomy(G8[6])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3]) + GetPlayerEconomy(N8[4]) + GetPlayerEconomy(N8[5]) + GetPlayerEconomy(N8[6])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3]) + GetPlayerEconomy(G8[4]) + GetPlayerEconomy(G8[5]) + GetPlayerEconomy(G8[6]) + GetPlayerEconomy(G8[7])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3]) + GetPlayerEconomy(N8[4]) + GetPlayerEconomy(N8[5]) + GetPlayerEconomy(N8[6]) + GetPlayerEconomy(N8[7])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3]) + GetPlayerEconomy(G8[4]) + GetPlayerEconomy(G8[5]) + GetPlayerEconomy(G8[6]) + GetPlayerEconomy(G8[7]) + GetPlayerEconomy(G8[8])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3]) + GetPlayerEconomy(N8[4]) + GetPlayerEconomy(N8[5]) + GetPlayerEconomy(N8[6]) + GetPlayerEconomy(N8[7]) + GetPlayerEconomy(N8[8])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3]) + GetPlayerEconomy(G8[4]) + GetPlayerEconomy(G8[5]) + GetPlayerEconomy(G8[6]) + GetPlayerEconomy(G8[7]) + GetPlayerEconomy(G8[8]) + GetPlayerEconomy(G8[9])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3]) + GetPlayerEconomy(N8[4]) + GetPlayerEconomy(N8[5]) + GetPlayerEconomy(N8[6]) + GetPlayerEconomy(N8[7]) + GetPlayerEconomy(N8[8]) + GetPlayerEconomy(N8[9])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3]) + GetPlayerEconomy(G8[4]) + GetPlayerEconomy(G8[5]) + GetPlayerEconomy(G8[6]) + GetPlayerEconomy(G8[7]) + GetPlayerEconomy(G8[8]) + GetPlayerEconomy(G8[9]) + GetPlayerEconomy(G8[10])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3]) + GetPlayerEconomy(N8[4]) + GetPlayerEconomy(N8[5]) + GetPlayerEconomy(N8[6]) + GetPlayerEconomy(N8[7]) + GetPlayerEconomy(N8[8]) + GetPlayerEconomy(N8[9]) + GetPlayerEconomy(N8[10])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        if IsPlayerAlly(p, G8[0])then
            return GetPlayerEconomy(G8[1]) + GetPlayerEconomy(G8[2]) + GetPlayerEconomy(G8[3]) + GetPlayerEconomy(G8[4]) + GetPlayerEconomy(G8[5]) + GetPlayerEconomy(G8[6]) + GetPlayerEconomy(G8[7]) + GetPlayerEconomy(G8[8]) + GetPlayerEconomy(G8[9]) + GetPlayerEconomy(G8[10]) + GetPlayerEconomy(G8[11])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetPlayerEconomy(N8[1]) + GetPlayerEconomy(N8[2]) + GetPlayerEconomy(N8[3]) + GetPlayerEconomy(N8[4]) + GetPlayerEconomy(N8[5]) + GetPlayerEconomy(N8[6]) + GetPlayerEconomy(N8[7]) + GetPlayerEconomy(N8[8]) + GetPlayerEconomy(N8[9]) + GetPlayerEconomy(N8[10]) + GetPlayerEconomy(N8[11])
        endif
    endif
    return 0
endfunction
function GetPlayerEconomyTeamRanking takes player p returns integer
    local integer lowerCount = 0
    local integer higherCount = 0
    local integer i = 0
    local integer economy = GetPlayerEconomy(p)
    local integer currentEconomy
    if IsPlayerAlly(p, G8[0])then
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            if KT8(G8[i])or GetPlayerSlotState(G8[i]) == PLAYER_SLOT_STATE_LEFT then
                set currentEconomy = GetPlayerEconomy(G8[i])
                if currentEconomy < economy then
                    set lowerCount = lowerCount + 1
                elseif currentEconomy > economy then
                    set higherCount = higherCount + 1
                endif
            endif
            set i = i + 1
        endloop
    elseif IsPlayerAlly(p, N8[0])then
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            if KT8(N8[i])or GetPlayerSlotState(N8[i]) == PLAYER_SLOT_STATE_LEFT then
                set currentEconomy = GetPlayerEconomy(N8[i])
                if currentEconomy < economy then
                    set lowerCount = lowerCount + 1
                elseif currentEconomy > economy then
                    set higherCount = higherCount + 1
                endif
            endif
            set i = i + 1
        endloop
    endif
    return lowerCount - higherCount
endfunction
function Q09 takes nothing returns nothing
    local integer playerId = GetPlayerId(GetOwningPlayer(GetEnumUnit()))
    local real factor = 1.
    local integer rankingResult
    local integer adjustedBonus
    if(GetUnitTypeId((GetEnumUnit())) == 'H00J') == false and XC8(GetUnitTypeId(GetFilterUnit())) == false then
        call AddHeroXP(GetEnumUnit(), NZ4, true)
        set NA4[playerId] = NA4[playerId] + NZ4
        set rankingResult = GetPlayerEconomyTeamRanking(GetOwningPlayer(GetEnumUnit()))
        if rankingResult > 0 then
            set factor = factor * .75
        elseif rankingResult < 0 then
            set factor = factor * 1.25
        endif
        set adjustedBonus = MathRound(NY4 * factor)
        set NB4[playerId] = NB4[playerId] + adjustedBonus
        call QO9(GetOwningPlayer(GetEnumUnit()), adjustedBonus, GetEnumUnit(), true, true)
    endif
endfunction
function GetPlayerTeamXP takes player p returns integer
    static if MAX_TEAM_PLAYERS_GE_1 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])]) + GetHeroXP(Y7[GetPlayerId(G8[4])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])]) + GetHeroXP(Y7[GetPlayerId(N8[4])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])]) + GetHeroXP(Y7[GetPlayerId(G8[4])]) + GetHeroXP(Y7[GetPlayerId(G8[5])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])]) + GetHeroXP(Y7[GetPlayerId(N8[4])]) + GetHeroXP(Y7[GetPlayerId(N8[5])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])]) + GetHeroXP(Y7[GetPlayerId(G8[4])]) + GetHeroXP(Y7[GetPlayerId(G8[5])]) + GetHeroXP(Y7[GetPlayerId(G8[6])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])]) + GetHeroXP(Y7[GetPlayerId(N8[4])]) + GetHeroXP(Y7[GetPlayerId(N8[5])]) + GetHeroXP(Y7[GetPlayerId(N8[6])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])]) + GetHeroXP(Y7[GetPlayerId(G8[4])]) + GetHeroXP(Y7[GetPlayerId(G8[5])]) + GetHeroXP(Y7[GetPlayerId(G8[6])]) + GetHeroXP(Y7[GetPlayerId(G8[7])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])]) + GetHeroXP(Y7[GetPlayerId(N8[4])]) + GetHeroXP(Y7[GetPlayerId(N8[5])]) + GetHeroXP(Y7[GetPlayerId(N8[6])]) + GetHeroXP(Y7[GetPlayerId(N8[7])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])]) + GetHeroXP(Y7[GetPlayerId(G8[4])]) + GetHeroXP(Y7[GetPlayerId(G8[5])]) + GetHeroXP(Y7[GetPlayerId(G8[6])]) + GetHeroXP(Y7[GetPlayerId(G8[7])]) + GetHeroXP(Y7[GetPlayerId(G8[8])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])]) + GetHeroXP(Y7[GetPlayerId(N8[4])]) + GetHeroXP(Y7[GetPlayerId(N8[5])]) + GetHeroXP(Y7[GetPlayerId(N8[6])]) + GetHeroXP(Y7[GetPlayerId(N8[7])]) + GetHeroXP(Y7[GetPlayerId(N8[8])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])]) + GetHeroXP(Y7[GetPlayerId(G8[4])]) + GetHeroXP(Y7[GetPlayerId(G8[5])]) + GetHeroXP(Y7[GetPlayerId(G8[6])]) + GetHeroXP(Y7[GetPlayerId(G8[7])]) + GetHeroXP(Y7[GetPlayerId(G8[8])]) + GetHeroXP(Y7[GetPlayerId(G8[9])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])]) + GetHeroXP(Y7[GetPlayerId(N8[4])]) + GetHeroXP(Y7[GetPlayerId(N8[5])]) + GetHeroXP(Y7[GetPlayerId(N8[6])]) + GetHeroXP(Y7[GetPlayerId(N8[7])]) + GetHeroXP(Y7[GetPlayerId(N8[8])]) + GetHeroXP(Y7[GetPlayerId(N8[9])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])]) + GetHeroXP(Y7[GetPlayerId(G8[4])]) + GetHeroXP(Y7[GetPlayerId(G8[5])]) + GetHeroXP(Y7[GetPlayerId(G8[6])]) + GetHeroXP(Y7[GetPlayerId(G8[7])]) + GetHeroXP(Y7[GetPlayerId(G8[8])]) + GetHeroXP(Y7[GetPlayerId(G8[9])]) + GetHeroXP(Y7[GetPlayerId(G8[10])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])]) + GetHeroXP(Y7[GetPlayerId(N8[4])]) + GetHeroXP(Y7[GetPlayerId(N8[5])]) + GetHeroXP(Y7[GetPlayerId(N8[6])]) + GetHeroXP(Y7[GetPlayerId(N8[7])]) + GetHeroXP(Y7[GetPlayerId(N8[8])]) + GetHeroXP(Y7[GetPlayerId(N8[9])]) + GetHeroXP(Y7[GetPlayerId(N8[10])])
        endif
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        if IsPlayerAlly(p, G8[0])then
            return GetHeroXP(Y7[GetPlayerId(G8[1])]) + GetHeroXP(Y7[GetPlayerId(G8[2])]) + GetHeroXP(Y7[GetPlayerId(G8[3])]) + GetHeroXP(Y7[GetPlayerId(G8[4])]) + GetHeroXP(Y7[GetPlayerId(G8[5])]) + GetHeroXP(Y7[GetPlayerId(G8[6])]) + GetHeroXP(Y7[GetPlayerId(G8[7])]) + GetHeroXP(Y7[GetPlayerId(G8[8])]) + GetHeroXP(Y7[GetPlayerId(G8[9])]) + GetHeroXP(Y7[GetPlayerId(G8[10])]) + GetHeroXP(Y7[GetPlayerId(G8[11])])
        endif
        if IsPlayerAlly(p, N8[0])then
            return GetHeroXP(Y7[GetPlayerId(N8[1])]) + GetHeroXP(Y7[GetPlayerId(N8[2])]) + GetHeroXP(Y7[GetPlayerId(N8[3])]) + GetHeroXP(Y7[GetPlayerId(N8[4])]) + GetHeroXP(Y7[GetPlayerId(N8[5])]) + GetHeroXP(Y7[GetPlayerId(N8[6])]) + GetHeroXP(Y7[GetPlayerId(N8[7])]) + GetHeroXP(Y7[GetPlayerId(N8[8])]) + GetHeroXP(Y7[GetPlayerId(N8[9])]) + GetHeroXP(Y7[GetPlayerId(N8[10])]) + GetHeroXP(Y7[GetPlayerId(N8[11])])
        endif
    endif
    return 0
endfunction
function AO9O takes nothing returns boolean
    return(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true or T18(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit()) == false
endfunction
function AOEO takes nothing returns boolean
    local unit AORO = GetTriggerUnit()
    local integer ML8 = GetHeroLevel(AORO)
    local real Q29 = 0
    local real Q_9 = 0
    local group g
    local player AOHO
    local player AOZO
    local real AOXO
    local real AOYO
    local real AOKO
    local real AOMO
    local real AONO
    local real AOTO
    local integer rankingResult
    if IsUnitType(AORO, UNIT_TYPE_HERO) == true and IsUnitIllusion(AORO) == false and(GetUnitTypeId((AORO)) == 'H00J') == false and XC8(GetUnitTypeId(AORO)) == false then
        set NZ4 = 0
        set NY4 = 0
        set g = OG8()
        set NC4 = 0
        set N34 = 0
        set H04 = AORO
        call GroupEnumUnitsInRange(g, GetUnitX(AORO), GetUnitY(AORO), 1300 + 25, Condition(function V98))
        call ForGroup(g, function Q19)
        if IsPlayerAlly(GetOwningPlayer(AORO), G8[0])then
            set AOHO = G8[0]
            set AOZO = N8[0]
        else
            set AOHO = N8[0]
            set AOZO = G8[0]
        endif
        set AOXO = GetPlayerTeamXP(AOHO)
        set AOYO = GetPlayerTeamXP(AOZO) + 1
        set AOKO = RMaxBJ((AOXO - AOYO) / (AOXO + AOYO), 0) * GetHeroXP(AORO)
        set AOMO = GetPlayerTeamEconomy(AOHO)
        set AONO = GetPlayerTeamEconomy(AOZO) + 1
        set AOTO = RMaxBJ(RMinBJ(AOMO / AONO - 1, 1), 0) * GetPlayerEconomy(GetOwningPlayer(AORO))
        if NC4 == 1 then
            set Q29 = 20 * ML8 + AOKO * 0.138
        elseif NC4 == 2 then
            set Q29 = 15 * ML8 + AOKO * 0.138
        elseif NC4 == 3 then
            set Q29 = 10 * ML8 + AOKO * 0.09
        elseif NC4 == 4 then
            set Q29 = 7 * ML8 + AOKO * 0.09
        elseif NC4 == 5 then
            set Q29 = 5 * ML8 + AOKO * 0.072
        endif
        if N34 == 1 then
            set Q_9 = 140 + 7 * ML8 + 0.0375 * AOTO
        elseif N34 == 2 then
            set Q_9 = 105 + 6 * ML8 + 0.0375 * AOTO
        elseif N34 == 3 then
            set Q_9 = 60 + 5 * ML8 + 0.0375 * AOTO
        elseif N34 == 4 then
            set Q_9 = 35 + 4 * ML8 + 0.03 * AOTO
        elseif N34 == 5 then
            set Q_9 = 30 + 4 * ML8 + 0.0225 * AOTO
        endif
        set rankingResult = GetPlayerEconomyTeamRanking(GetOwningPlayer(AORO))
        if rankingResult > 0 then
            set Q_9 = Q_9 * 1.2
        elseif rankingResult < 0 then
            set Q_9 = Q_9 * .8
        endif
        set NZ4 = MathRound(Q29)
        set NY4 = MathRound(Q_9)
        call ForGroup(g, function Q09)
        call OF8(g)
        set g = null
    endif
    set AOHO = null
    set AOZO = null
    set AORO = null
    return false
endfunction
function R49 takes nothing returns nothing
    local boolean R79 = false
    local unit PQ9 = GetDyingUnit()
    local unit QS9 = GetKillingUnit()
    local player QP9 = GetOwningPlayer(QS9)
    local player QL9 = GetOwningPlayer(PQ9)
    local integer QQ9 = 0
    local integer R89 = 0
    local boolean R99 = false
    local string RD9 = ""
    local string RE9 = ""
    local string RF9 = ""
    local string MidText
    local integer x
    local string RG9
    local string RH9
    local string RI9
    local string RJ9
    local boolean PY9 = false
    local real RK9 = 1
    local real RM9 = 1
    local real RN9 = 1
    local real RO9 = 1
    local real RP9 = 0
    local trigger t
    local integer RQ9
    local integer RR9
    local item RS9
    local integer RT9 = GetPlayerState(QL9, PLAYER_STATE_RESOURCE_GOLD)
    local integer RU9 = RT9 - WQ4[GetPlayerId(QL9)]
    local unit RV9
    local unit RW9
    local boolean RX9 = ((LoadInteger(R8, (GetHandleId((PQ9))), ((4418)))) == 1)
    if IsPlayerAlly(QP9, QL9) == false and QB9(QP9) == false then
        call AOEO()
    endif
    if RX9 then
        set IH4[GetPlayerId((QL9))] = true
    endif
    if QS9 == null and GetUnitTypeId(PQ9) == 'Npbm' then
        set QS9 = BG4
        set QP9 = GetOwningPlayer(QS9)
    endif
    if IsPlayerAlly(QP9, QL9) and LoadInteger(R8, (GetHandleId(QS9)), (4328)) == 1 and K27 != null then
        set QS9 = K27
        set QP9 = GetOwningPlayer(QS9)
    endif
    if LoadInteger(R8, (GetHandleId((PQ9))), (4333)) == 1 then
        set QS9 = PR4
        set QP9 = GetOwningPlayer(QS9)
    endif
    set RR9 = PO9(PQ9, QS9)
    if QS9 != null then
        call P39(Y7[GetPlayerId(GetOwningPlayer(QS9))], PQ9)
    endif
    if Q69(QL9, QP9, QS9) == false and RR9 == 1 and KP8(QP9) == false and QP9 != O8 then
        call PM9(PQ9, QS9)
        set QP9 = JU[1]
        set QS9 = Y7[GetPlayerId(QP9)]
    endif
    set HA4[GetPlayerId(GetOwningPlayer((PQ9)))] = true
    if GetUnitAbilityLevel(PQ9, 'A0OV') != 0 or(PP9(PQ9)and PR9(PQ9))then
        set PY9 = true
        call UnitRemoveAbility(PQ9, 'A0OV')
        set W8 = PQ9
        set ox = QS9
    endif
    if QP9 == null then
        set QP9 = QL9
    endif
    if Y4 and GetUnitTypeId(PQ9) != 'H00J'then
        if(GetPlayerController(GetOwningPlayer(GetDyingUnit())) == MAP_CONTROL_USER)then
            set jx = UnitRemoveItemFromSlot(PQ9, GetRandomInt(0, 5))
            if GetItemTypeId(jx) == 'I00K' then
                call CreateItem('I00G', GetItemX(jx), GetItemY(jx))
                call RemoveItem(jx)
            endif
            // elseif(IsUnitInForce(GetDyingUnit(), AiForce))then
            //     set jx = UnitItemInSlot(GetDyingUnit(), GetRandomInt(0, 5))
            //     if(jx == null)then
            //     elseif(GetItemType(jx) == ITEM_TYPE_PURCHASABLE)then
            //         call UnitRemoveItem(GetDyingUnit(), jx)
            //     else
            //         set RS9 = CreateItem(GetItemTypeId(jx), GetUnitX(GetDyingUnit()), GetUnitY(GetDyingUnit()))
            //         call SetItemPlayer(RS9, GetOwningPlayer(GetDyingUnit()), false)
            //         set hG[GetPlayerId(GetOwningPlayer(GetDyingUnit()))] = hG[GetPlayerId(GetOwningPlayer(GetDyingUnit()))] + GP8(GetItemTypeId(jx))
            //         if((GetItemTypeId(jx) == BU[V6])or(GetItemTypeId(jx) == BU[C3]))then
            //             call SetItemCharges(RS9, GetItemCharges(jx))
            //         endif
            //     endif
        endif
    endif
    if KN8(QL9)then
        if KN8(QP9)then
            set R79 = true
            if(QP9 == QL9)then
                call NN8(T9, 10., (W[GetPlayerId(QL9)] + (KW4[GetPlayerId((QL9))]) + "|r " + (GetObjectName(('n03R')))))
            else
                call NN8(T9, 10., XM8(QL9, QP9))
            endif
        elseif KO8(QP9)then
            set R99 = true
            set D4[GetPlayerId(G8[0])] = D4[GetPlayerId(G8[0])] + 1
            set C[GetPlayerId(N8[0])] = C[GetPlayerId(N8[0])] + 1
            set T[2] = T[2] + 1
            set T[1] = 0
            if QP9 != N8[0]then
                set C[GetPlayerId(QP9)] = C[GetPlayerId(QP9)] + 1
                set P[GetPlayerId(QP9)] = P[GetPlayerId(QP9)] + 1
            endif
        endif
    endif
    if KO8(QL9)then
        if KO8(QP9)then
            set R79 = true
            if(QP9 == QL9)then
                call NN8(T9, 10., (W[GetPlayerId(QL9)] + (KW4[GetPlayerId((QL9))]) + "|r " + (GetObjectName(('n03R')))))
            else
                call NN8(T9, 10., XM8(QL9, QP9))
            endif
        elseif KN8(QP9)then
            set R99 = true
            set D4[GetPlayerId(N8[0])] = D4[GetPlayerId(N8[0])] + 1
            set C[GetPlayerId(G8[0])] = C[GetPlayerId(G8[0])] + 1
            set T[1] = T[1] + 1
            set T[2] = 0
            if QP9 != G8[0]then
                set C[GetPlayerId(QP9)] = C[GetPlayerId(QP9)] + 1
                set P[GetPlayerId(QP9)] = P[GetPlayerId(QP9)] + 1
            endif
        endif
    endif
    if QP9 == O8 then
        set R99 = false
        if GetUnitTypeId(QS9) == 'n00L' then
            call NN8(T9, 10., (W[GetPlayerId(QL9)] + (KW4[GetPlayerId((QL9))]) + "|r " + (GetObjectName(('n03T')))))
        else
            call NN8(T9, 10., (W[GetPlayerId(QL9)] + (KW4[GetPlayerId((QL9))]) + "|r " + (GetObjectName(('n03U')))))
        endif
        set R79 = true
    endif
    if S34 then
        call S68(DO, GetUnitX(PQ9), GetUnitY(PQ9))
    endif
    call X48("Hero" + I2S(GetPlayerId(QL9)), GetPlayerId(QP9))
    set x = P[GetPlayerId(QL9)]
    if x > 2 and R79 == false then
        if x == 3 then
            set QQ9 = 60
            set RD9 = "|c0000ff40" + (GetObjectName(('n04L'))) + "|r"
        elseif x == 4 then
            set QQ9 = 120
            set RD9 = "|c00400080" + (GetObjectName(('n04N'))) + "|r"
        elseif x == 5 then
            set QQ9 = 180
            set RD9 = "|c00ff0080" + (GetObjectName(('n04M'))) + "|r"
        elseif x == 6 then
            set QQ9 = 240
            set RD9 = "|c00ff8000" + (GetObjectName(('n04J'))) + "|r"
        elseif x == 7 then
            set QQ9 = 300
            set RD9 = "|c00808000" + (GetObjectName(('n04I'))) + "|r"
        elseif x == 8 then
            set QQ9 = 360
            set RD9 = "|c00ff80ff" + (GetObjectName(('n03V'))) + "|r"
        elseif x == 9 then
            set QQ9 = 420
            set RD9 = "|c00ff0000" + (GetObjectName(('n03W'))) + "|r"
        else
            set QQ9 = 480
            set RD9 = "|c00ff8000" + (GetObjectName(('n03X'))) + "|r"
        endif
    endif
    set x = P[GetPlayerId(QP9)]
    if x > NO4[GetPlayerId(QP9)]then
        set NO4[GetPlayerId(QP9)] = x
    endif
    set RV9 = QS9
    if IsUnitType(RV9, UNIT_TYPE_HERO) == false then
        set RV9 = Y7[GetPlayerId(GetOwningPlayer(RV9))]
    endif
    if x > 2 and GetUnitTypeId(RV9) != 'U00F' and O04[GetPlayerId(GetOwningPlayer(RV9))] == 0 then
    endif
    set RW9 = PQ9
    if IsUnitType(RW9, UNIT_TYPE_HERO) == false then
        set RW9 = Y7[GetPlayerId(GetOwningPlayer(RW9))]
    endif
    if R79 == false and R99 then
    endif
    if x > 2 and R79 == false then
        if x == 3 then
            call TO8(VO)
            set RE9 = " " + GetObjectName('n04K') + " |c0000ff40" + (GetObjectName(('n04L'))) + "|r" + (GetObjectName(('n049')))
        elseif x == 4 then
            call TO8(CN)
            set RE9 = " " + GetObjectName('n04H') + " |c00400080" + (GetObjectName(('n04N'))) + "|r" + (GetObjectName(('n049')))
        elseif x == 5 then
            call TO8(YO)
            set RE9 = " " + GetObjectName('n04G') + " |c00ff0080" + (GetObjectName(('n04M'))) + "|r" + (GetObjectName(('n049')))
        elseif x == 6 then
            call TO8(DP)
            set RE9 = " " + GetObjectName('n04H') + " |c00ff8000" + (GetObjectName(('n04J'))) + "|r" + (GetObjectName(('n04A')))
        elseif x == 7 then
            call TO8(GP)
            set RE9 = " " + GetObjectName('n04H') + " |c00808000" + (GetObjectName(('n04I'))) + "|r" + (GetObjectName(('n04A')))
        elseif x == 8 then
            call TO8(ZO)
            set RE9 = " " + GetObjectName('n04G') + " |c00ff80ff" + (GetObjectName(('n03V'))) + "|r" + (GetObjectName(('n04A')))
        elseif x == 9 then
            call TO8(JO)
            set RE9 = " " + GetObjectName('n04H') + " |c00ff0000" + (GetObjectName(('n03W'))) + "|r" + (GetObjectName(('n04B')))
        else
            call TO8(PO)
            set RE9 = " " + GetObjectName('n04H') + " |c00ff8000" + (GetObjectName(('n03X'))) + "|r. " + (GetObjectName(('n04F'))) + (GetObjectName(('n04B')))
        endif
    endif
    if R79 == false then
        set QQ9 = QQ9 + GetHeroLevel(PQ9) * 9 + 100
        set RG9 = W[GetPlayerId(QL9)] + (KW4[GetPlayerId((QL9))]) + "|r"
        set RH9 = W[GetPlayerId(QP9)] + (KW4[GetPlayerId((QP9))]) + "|r"
        set RJ9 = "|c00FFDC00" + I2S(QQ9) + "|r"
        if QP9 == G8[0]or QP9 == N8[0]then
            if RR9 == 0 then
                if QP9 == G8[0]then
                    set RI9 = RH9 + " " + (GetObjectName(('n042'))) + " " + RG9 + (GetObjectName(('n043'))) + (GetObjectName(('n049'))) + " " + RJ9 + " " + (GetObjectName(('n044'))) + "."
                    call QT9(QP9, QQ9)
                elseif QP9 == N8[0]then
                    set RI9 = RH9 + " " + (GetObjectName(('n042'))) + " " + RG9 + (GetObjectName(('n043'))) + (GetObjectName(('n049'))) + " " + RJ9 + " " + (GetObjectName(('n044'))) + "."
                    call QT9(QP9, QQ9)
                endif
            elseif RR9 > 1 then
                set RI9 = RH9 + " " + (GetObjectName(('n042'))) + " " + RG9 + (GetObjectName(('n043'))) + (GetObjectName(('n049'))) + " " + RJ9 + " " + (GetObjectName(('n044'))) + "."
                call QR9(PQ9, QS9, QQ9)
            endif
        elseif RD9 == "" and RE9 == "" then
            set RI9 = RH9 + " " + (GetObjectName(('n042'))) + " " + RG9 + (GetObjectName(('n043'))) + " " + (GetObjectName(('n04C'))) + " " + RJ9 + " " + (GetObjectName(('n045'))) + (GetObjectName(('n049')))
        elseif RD9 == "" and RE9 != "" then
            set RI9 = RH9 + " " + (GetObjectName(('n042'))) + " " + RG9 + (GetObjectName(('n043'))) + " " + (GetObjectName(('n04C'))) + " " + RJ9 + " " + (GetObjectName(('n045'))) + (GetObjectName(('n049')))
        elseif RD9 != "" and RE9 == "" then
            set RI9 = RH9 + " " + (GetObjectName(('n048'))) + " " + RG9 + (GetObjectName(('n047'))) + " " + RD9 + " " + (GetObjectName(('n046'))) + " " + RJ9 + " " + (GetObjectName(('n045'))) + (GetObjectName(('n049')))
        elseif RD9 != "" and RE9 != "" then
            set RI9 = RH9 + " " + (GetObjectName(('n048'))) + " " + RG9 + (GetObjectName(('n047'))) + " " + RD9 + " " + (GetObjectName(('n046'))) + " " + RJ9 + " " + (GetObjectName(('n045'))) + (GetObjectName(('n049')))
        endif
        if R99 then
            set RF9 = PD9(PQ9, QS9)
        endif
        call NN8(T9, 10, RI9 + RF9)
        if RE9 != "" then
            call NN8(T9, 10, RH9 + RE9)
        endif
        call QO9(QP9, QQ9, PQ9, true, true)
        set NS4[GetPlayerId(QP9)] = NS4[GetPlayerId(QP9)] + QQ9
        if T[1] > 4 then
            call QJ9(0)
        endif
        if T[2] > 4 then
            call QJ9(1)
        endif
    endif
    set R89 = GetHeroLevel(PQ9) * 30
    if AV7(PQ9, BU[E2]) != null then
        if GetItemCharges(AV7(PQ9, BU[E2])) > 0 then
            set RP9 =- 1 * (3 * GetItemCharges(AV7(PQ9, BU[E2])))
        endif
    endif
    if R89 > RU9 then
        set R89 = RU9
    endif
    call P_9(PQ9, RV9)
    call QG9(PQ9)
    call QF9(PQ9)
    if PY9 == false then
        set NN4[GetPlayerId(QL9)] = NN4[GetPlayerId(QL9)] + R89
        call QV9(PQ9, R89)
    endif
    call SaveInteger(R8, (400 + GetPlayerId(QP9)), (450 + GetPlayerId(QL9)), ((LoadInteger(R8, (400 + GetPlayerId(QP9)), (450 + GetPlayerId(QL9)))) + 1))
    call SaveInteger(R8, (400 + GetPlayerId(QL9)), (500 + GetPlayerId(QP9)), ((LoadInteger(R8, (400 + GetPlayerId(QL9)), (500 + GetPlayerId(QP9)))) + 1))
    call TimerStart(A[GetPlayerId(QP9)], 18, false, null)
    if R79 == false and QP9 != G8[0]and QP9 != N8[0]and QP9 != O8 then
        set Q[GetPlayerId(QP9)] = Q[GetPlayerId(QP9)] + 1
        if Q[GetPlayerId(QP9)] == 2 then
            set NP4[GetPlayerId(QP9)] = NP4[GetPlayerId(QP9)] + 1
            call QN9(W[GetPlayerId(QP9)] + (KW4[GetPlayerId((QP9))]) + "|r " + (GetObjectName('n04D')) + " |c000000ff" + (GetObjectName('n04S')) + "|r" + (GetObjectName('n049')), 1)
        endif
        if Q[GetPlayerId(QP9)] == 3 then
            set NQ4[GetPlayerId(QP9)] = NQ4[GetPlayerId(QP9)] + 1
            call QN9(W[GetPlayerId(QP9)] + (KW4[GetPlayerId((QP9))]) + "|r " + (GetObjectName('n04D')) + " |c0000ff40" + (GetObjectName('n04E')) + "|r" + (GetObjectName('n04B')), 2)
        endif
        if Q[GetPlayerId(QP9)] == 4 then
            set NQ4[GetPlayerId(QP9)] = NQ4[GetPlayerId(QP9)] + 1
            call QN9(W[GetPlayerId(QP9)] + (KW4[GetPlayerId((QP9))]) + "|r " + (GetObjectName('n04D')) + " |c0000FFFF" + (GetObjectName('n0HJ')) + "|r" + (GetObjectName('n04B')), 3)
        endif
        if Q[GetPlayerId(QP9)] > 4 then
            set NQ4[GetPlayerId(QP9)] = NQ4[GetPlayerId(QP9)] + 1
            call QN9(W[GetPlayerId(QP9)] + (KW4[GetPlayerId((QP9))]) + "|r " + (GetObjectName('n04K')) + " |c0000AAFF" + (GetObjectName('n0HK')) + "|r" + (GetObjectName('n04B')), 4)
        endif
    endif
    if(R79 == false)then
        set P[GetPlayerId(QL9)] = 0
    endif
    set P[0] = 0
    set P[6] = 0
    set D4[GetPlayerId(QL9)] = D4[GetPlayerId(QL9)] + 1
    if PY9 then
        set RK9 = .4
    endif
    if R79 and GetUnitTypeId(PQ9) == 'H00K' then
        set RO9 = .5
    endif
    set RQ9 = MathRound((GetHeroLevel(PQ9) * 3.8 + 5) * RK9 * RM9 * RN9 * RO9 + RP9)
    if BS then
        set RQ9 = MathRound(RQ9 * .5)
    endif
    set RQ9 = RQ9 + AAYS[GetPlayerId(QL9)]
    if(LoadInteger(R8, (GetHandleId(PQ9)), (4333)) == 1)then
        set RQ9 = MathRound(RQ9 + 30)
    endif
    if P74 then
        set NR4[GetPlayerId(QL9)] = 0
        call TimerStart(L[GetPlayerId(QL9)], 1., false, null)
    else
        set NR4[GetPlayerId(QL9)] = NR4[GetPlayerId(QL9)] + RQ9
        call TimerStart(L[GetPlayerId(QL9)], RQ9, false, null)
    endif
    call TriggerExecute(vA)
    if T4 == false then
        call PW9(PQ9, RQ9, PY9)
    else
        if(KN8(QL9))then
            set R4[0] = R4[0] + 1
        endif
        if KO8(QL9)then
            set R4[1] = R4[1] + 1
        endif
        set D8[GetPlayerId(QL9)] = PQ9
        if GetUnitTypeId(PQ9) == 'H00J' then
            set D8[GetPlayerId(QL9)] = (LoadUnitHandle(R8, (GetHandleId(GetOwningPlayer(PQ9))), (699)))
        endif
        if R4[0] == P84 then
            call TriggerExecute(O94)
        endif
        if R4[1] == P84 then
            call TriggerExecute(O84)
        endif
        if(GetUnitTypeId(PQ9) == 'U006')then
            call ExecuteFunc("QY9")
        elseif GetUnitTypeId(PQ9) == 'U008' or GetUnitTypeId(PQ9) == 'E015' then
            set IE4 = PQ9
            call ExecuteFunc("RY9")
        elseif GetUnitTypeId(PQ9) == 'Ucrl' then
            set IE4 = PQ9
            call ExecuteFunc("RZ9")
        endif
    endif
    set RS9 = null
    set RV9 = null
    set RW9 = null
    set t = null
    set QS9 = null
    set PQ9 = null
endfunction
function AAXO takes integer AMSI, integer AAYO returns nothing
    set AFF0[AFE0] = AMSI
    set AFG0[AFE0] = AAYO
    set AFE0 = AFE0 + 1
endfunction
function AAKO takes unit p5 returns integer
    local integer i = 0
    local integer AMSI = GetUnitTypeId(p5)
    loop
        exitwhen i >= AFE0
        if AFF0[i] == AMSI then
            return AFG0[i]
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function AALO takes unit p5 returns integer
    local integer AAMO = AAKO(p5)
    if AAMO ==- 1 then
        if IsUnitType(p5, UNIT_TYPE_HERO) == true then
            set AAMO = ZI7(p5)
        elseif IsUnitType(p5, UNIT_TYPE_STRUCTURE) == false then
            set AAMO = DCH(GetUnitLevel(p5))
        endif
    endif
    if IsUnitType(p5, UNIT_TYPE_SUMMONED) == true then
        set AAMO = AAMO / 2
    endif
    return AAMO
endfunction
function AANO takes nothing returns nothing
    if xp_is_hero == false then
        set AFH0 = R2I(GetPlayerHandicapXP(GetOwningPlayer(GetEnumUnit())) * AFH0)
    endif
    call AddHeroXP(GetEnumUnit(), AFH0, true)
endfunction
function AASO takes nothing returns boolean
    local unit X77 = GetFilterUnit()
    local unit AATO = GetDyingUnit()
    local integer AMSI = GetUnitTypeId(X77)
    if(GetOwningPlayer(AATO) == O8) == false then
        if IsUnitEnemy(X77, GetOwningPlayer(AATO)) == false then
            set X77 = null
            set AATO = null
            return false
        endif
    endif
    if IsUnitType(X77, UNIT_TYPE_HERO) == false or O18(X77)then
        set X77 = null
        set AATO = null
        return false
    endif
    if AB81(AMSI)then
        set X77 = null
        set AATO = null
        return false
    endif
    if Z87(GetUnitX(AATO), GetUnitY(AATO), GetUnitX(X77), GetUnitY(X77)) > 1300 then
        set X77 = null
        set AATO = null
        return false
    endif
    set X77 = null
    set AATO = null
    return true
endfunction
function AARO takes nothing returns boolean
    local unit AAPO = GetKillingUnit()
    local unit AATO = GetDyingUnit()
    local integer AAMO = AALO(AATO)
    local integer ANPI
    local group g
    local group g2
    if IsUnitIllusion(AATO)or GetUnitAbilityLevel(AATO, 'Aloc') > 0 or AAMO == 0 then
        set AAPO = null
        set AATO = null
        return false
    endif
    if AAPO == null or IsPlayerAlly(GetOwningPlayer(AAPO), GetOwningPlayer(AATO)) == true or(GetOwningPlayer((AAPO)) == O8)then
        set AAPO = null
        set AATO = null
        return false
    endif
    set g = OG8()
    set g2 = OG8()
    //! textmacro AAROMac takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call GroupEnumUnitsOfPlayer(g, G8[$PLAYER_RANK$], Condition(function AASO))
            call BlzGroupAddGroupFast(g, g2)
            call GroupEnumUnitsOfPlayer(g, N8[$PLAYER_RANK$], Condition(function AASO))
            call BlzGroupAddGroupFast(g, g2)
        endif
    //! endtextmacro
    //! runtextmacro AAROMac("1")
    //! runtextmacro AAROMac("2")
    //! runtextmacro AAROMac("3")
    //! runtextmacro AAROMac("4")
    //! runtextmacro AAROMac("5")
    //! runtextmacro AAROMac("6")
    //! runtextmacro AAROMac("7")
    //! runtextmacro AAROMac("8")
    //! runtextmacro AAROMac("9")
    //! runtextmacro AAROMac("10")
    //! runtextmacro AAROMac("11")
    set ANPI = BlzGroupGetSize(g2)
    if ANPI > 0 then
        set xp_is_hero = IsUnitType(AATO, UNIT_TYPE_HERO)
        set AFH0 = AAMO / ANPI
        call ForGroup(g2, function AANO)
    endif
    call OF8(g)
    call OF8(g2)
    set g = null
    set g2 = null
    set AAPO = null
    set AATO = null
    return false
endfunction
function RA9 takes nothing returns boolean
    local unit Q89 = GetSummonedUnit()
    local integer x
    if IsUnitIllusion(Q89) then
        set x = P[GetPlayerId(GetOwningPlayer(Q89))]
        if x > 2 and O04[GetPlayerId(GetOwningPlayer(Q89))] == 0 then
            call O68(Q89, 'A2KJ')
        else
            call UnitRemoveAbility(Q89, 'A2KJ')
        endif
    endif
    set Q89 = null
    return false
endfunction
function RB9 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local player QP9 = GetOwningPlayer(GetKillingUnit())
    local player QL9 = GetOwningPlayer(GetTriggerUnit())
    local string RC9
    local integer RR9 = PO9(GetTriggerUnit(), GetKillingUnit())
    if QP9 == G8[0] or QP9 == N8[0]then
        call QR9(GetTriggerUnit(), GetKillingUnit(), 150)
        set RC9 = PN9(GetTriggerUnit(), GetKillingUnit()) + " " + (GetObjectName(('n04W'))) + " |c00ff0303" + (GetObjectName(('n04Y'))) + (GetObjectName(('n049'))) + "|r "
        if RR9 > 1 then
            set RC9 = RC9 + "(+150 " + (GetObjectName(('n044'))) + ")"
        else
            set RC9 = RC9 + "(+150 " + (GetObjectName(('n045'))) + ")"
        endif
    else
        set RC9 = W[GetPlayerId(QP9)] + (KW4[GetPlayerId((QP9))]) + "|r " + (GetObjectName(('n04W'))) + " |c00ff0303" + (GetObjectName(('n04Y'))) + (GetObjectName(('n049'))) + "|r "
        set RC9 = RC9 + "(+150 " + (GetObjectName(('n045'))) + ")"
        call QO9(QP9, 150, Y7[GetPlayerId(QP9)], true, true)
    endif
    call NN8(T9, 10, RC9)
    call TO8(EX)
    call EA8(t)
    set QP9 = null
    set QL9 = null
    set t = null
endfunction
function R39 takes nothing returns boolean
    if GetOwningPlayer(GetKillingUnit()) != O8 and GetKillingUnit() != null and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()), GetOwningPlayer(GetKillingUnit())) then
        if GetOwningPlayer(GetKillingUnit()) == G8[0]or GetOwningPlayer(GetKillingUnit()) == N8[0]then
            if PO9(GetTriggerUnit(), GetKillingUnit()) > 0 then
                call RB9()
            endif
        else
            call RB9()
        endif
    endif
    return false
endfunction
function R69 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit u
    local region r
    local integer TA8 = 1 + R2I((TimerGetElapsed(E4)) / 240)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set u = (LoadUnitHandle(R8, (EC8), (53)))
        call SetUnitAbilityLevel(u, 'ACtc', TA8)
        set r = CreateRegion()
        call RegionAddRect(r, CE)
        call RegionAddRect(r, dE)
        call RegionAddRect(r, APB)
        if IsUnitInRegion(r, u) == false then
            if(LoadBoolean(R8, (EC8), (91))) == true then
                call SaveBoolean(R8, (EC8), (91), (false))
            else
                call SetUnitX(u, GetRectCenterX(AD))
                call SetUnitY(u, GetRectCenterY(AD))
                call SaveBoolean(R8, (EC8), (91), (true))
            endif
        endif
        call RemoveRegion(r)
        set u = null
        set r = null
    endif
    set t = null
    return false
endfunction
function RL9 takes unit u returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 10., true)
    call TriggerAddCondition(t, Condition(function R69))
    call SaveUnitHandle(R8, (EC8), (53), (u))
    call SaveBoolean(R8, (EC8), (91), (true))
    set t = null
endfunction
function R19 takes nothing returns boolean
    local item JB9
    local integer C77 = GetTriggerEvalCount(GetTriggeringTrigger())
    if C77 == JU7 then
        call EA8(GetTriggeringTrigger())
    endif
    if C77 == JU7 - 180 or C77 == JU7 - 60 then
        if NT4 != null then
            set JB9 = AV7(NT4, BU[F1])
            if JB9 != null then
                if C77 == JU7 - 180 then
                    if KN8(GetOwningPlayer(NT4))then
                        call NN8(E8, 15, GetObjectName('n0E9') + " |c00ff0303" + (GetObjectName(('n0E7'))) + "|r")
                    else
                        call NN8(F8, 15, GetObjectName('n0E9') + " |c00ff0303" + (GetObjectName(('n0E7'))) + "|r")
                    endif
                else
                    if KN8(GetOwningPlayer(NT4))then
                        call NN8(E8, 15, GetObjectName('n0E9') + " |c00ff0303" + (GetObjectName(('n0DX'))) + "|r")
                    else
                        call NN8(F8, 15, GetObjectName('n0E9') + " |c00ff0303" + (GetObjectName(('n0DX'))) + "|r")
                    endif
                endif
            endif
        endif
    endif
    set JB9 = null
    return false
endfunction
function R09 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function R19))
    call TriggerEvaluate(t)
    set t = null
endfunction
function R59 takes nothing returns boolean
    set NV4 = GetTriggerEvalCount(GetTriggeringTrigger())
    if C4 != null and GetUnitState(C4, UNIT_STATE_LIFE) > 1 then
        call SetPlayerTechResearched(GetOwningPlayer(C4), 'R00F', NV4)
        call UnitAddMaxLife(C4, 600)
        if GetUnitAbilityLevel(C4, 'A142') == 0 then
            call UnitAddAbility(C4, 'A142')
        endif
        call SetUnitAbilityLevel(C4, 'A142', NV4 + 1)
    endif
    return false
endfunction
function AB2O takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        set C77 = C77 + 1
        call SaveInteger(R8, (EC8), (34), (C77))
    endif
    if C77 > 4 or(GetTriggerEventId() == EVENT_UNIT_DAMAGED and GetEventDamage() > 0)then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    call SetUnitState(p5, UNIT_STATE_LIFE, GetUnitState(p5, UNIT_STATE_LIFE) + 0.2 * GetUnitState(p5, UNIT_STATE_MAX_LIFE))
    call SetUnitState(p5, UNIT_STATE_MANA, GetUnitState(p5, UNIT_STATE_MANA) + 0.2 * GetUnitState(p5, UNIT_STATE_MAX_MANA))
    set t = null
    set p5 = null
    return false
endfunction
function AB3O takes unit p5 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function AB2O))
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DAMAGED)
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = null
endfunction
function R29 takes nothing returns nothing
    local integer i = 1
    local unit N28
    set NT4 = null
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set N28 = Y7[GetPlayerId(G8[i])]
        if N28 != null and AV7(N28, BU[F1]) != null then
            call DisableTrigger(GW4)
            call X48("AegisOff", GetPlayerId(GetOwningPlayer(N28)))
            call RemoveItem(AV7(N28, BU[F1]))
            call AB3O(N28)
            call EnableTrigger(GW4)
        endif
        set N28 = Y7[GetPlayerId(N8[i])]
        if N28 != null and AV7(N28, BU[F1]) != null then
            call DisableTrigger(GW4)
            call X48("AegisOff", GetPlayerId(GetOwningPlayer(N28)))
            call RemoveItem(AV7(N28, BU[F1]))
            call AB3O(N28)
            call EnableTrigger(GW4)
        endif
        set i = i + 1
    endloop
    set N28 = null
endfunction
function R_9 takes string S49, string S79 returns string
    local string s = (GetObjectName(('n0CA')))
    set s = XD8(s, "$team", S49)
    set s = XD8(s, "$team", S79)
    return s
endfunction
function S89 takes nothing returns boolean
    return GetUnitTypeId(GetDyingUnit()) == 'n00L'
endfunction
function S99 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local location SD9
    local real PE8
    if GetTriggerEvalCount(t) == JT7 or AS4 then
        set AS4 = false
        set SD9 = GetRectCenter(AD)
        call R29()
        set NX4 = NX4 + 1
        set C4 = CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE), 'n00L', SD9, bj_UNIT_FACING)
        call SetUnitAcquireRange(C4, 150)
        call RL9(C4)
        call UnitAddAbility(C4, 'A142')
        call SetPlayerTechResearched(GetOwningPlayer(C4), 'R00F', NV4)
        call UnitAddMaxLife(C4, NV4 * 600)
        call SetUnitAbilityLevel(C4, 'A142', NV4 + 1)
        call RemoveLocation(SD9)
        if NX4 > 1 then
            call UnitRemoveAbility(C4, 'A0K2')
            call UnitAddAbility(C4, 'A0Q6')
            call UnitAddItem(C4, CreateItem(BU[VB], 0, 0))
        endif
        call UnitAddItem(C4, CreateItem(BU[F1], 0, 0))
        call EA8(t)
        // set IE7 = 99999999.
    elseif GetTriggerEvalCount(t) == JU7 then
        call R29()
        // set IE7 = 99999999.
    endif
    set t = null
    set SD9 = null
    return false
endfunction
function SE9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function S99))
    set AS4 = false
    set JT7 = GetRandomInt(480, 660)
    call R09()
    set NU4 = false
    //! textmacro SE9Mac1 takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call AdjustPlayerStateBJ(200, G8[$PLAYER_RANK$], PLAYER_STATE_RESOURCE_GOLD)
        endif
    //! endtextmacro
    if(KN8(GetOwningPlayer(GetKillingUnit())))then
        call X48("Roshan", 0)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., R_9("|c00ff0000" + (GetObjectName(('n065'))) + "|r", (GetObjectName(('n065')))))
        //! runtextmacro SE9Mac1("1")
        //! runtextmacro SE9Mac1("2")
        //! runtextmacro SE9Mac1("3")
        //! runtextmacro SE9Mac1("4")
        //! runtextmacro SE9Mac1("5")
        //! runtextmacro SE9Mac1("6")
        //! runtextmacro SE9Mac1("7")
        //! runtextmacro SE9Mac1("8")
        //! runtextmacro SE9Mac1("9")
        //! runtextmacro SE9Mac1("10")
        //! runtextmacro SE9Mac1("11")
    endif
    //! textmacro SE9Mac2 takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call AdjustPlayerStateBJ(200, N8[$PLAYER_RANK$], PLAYER_STATE_RESOURCE_GOLD)
        endif
    //! endtextmacro
    if(KO8(GetOwningPlayer(GetKillingUnit())))then
        call X48("Roshan", 1)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., R_9("|c00004000" + (GetObjectName(('n06C'))) + "|r", (GetObjectName(('n06C')))))
        //! runtextmacro SE9Mac2("1")
        //! runtextmacro SE9Mac2("2")
        //! runtextmacro SE9Mac2("3")
        //! runtextmacro SE9Mac2("4")
        //! runtextmacro SE9Mac2("5")
        //! runtextmacro SE9Mac2("6")
        //! runtextmacro SE9Mac2("7")
        //! runtextmacro SE9Mac2("8")
        //! runtextmacro SE9Mac2("9")
        //! runtextmacro SE9Mac2("10")
        //! runtextmacro SE9Mac2("11")
    endif
    set t = null
endfunction
function SF9 takes nothing returns nothing
    local texttag t = CreateTextTag()
    local unit u = GetTriggerUnit()
    local player p = GetOwningPlayer(GetKillingUnit())
    call SetTextTagText(t, "$", .027)
    call SetTextTagPosUnit(t, u, 0)
    call SetTextTagColorBJ(t, KX4[GetPlayerId(p)], KY4[GetPlayerId(p)], KZ4[GetPlayerId(p)], 15)
    call SetTextTagVelocity(t, 0, .035)
    call SetTextTagFadepoint(t, 3)
    call SetTextTagLifespan(t, 1.5)
    call SetTextTagPermanent(t, false)
    call SetTextTagVisibility(t, false)
    if GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4 then
        call SetTextTagVisibility(t, true)
    endif
    set t = null
    set u = null
    set p = null
endfunction
function SG9 takes unit u, player p returns nothing
    local texttag t = CreateTextTag()
    call SetTextTagText(t, "!", .03)
    call SetTextTagPosUnit(t, u, 0)
    call SetTextTagColorBJ(t, KX4[GetPlayerId(p)], KY4[GetPlayerId(p)], KZ4[GetPlayerId(p)], 15)
    call SetTextTagVelocity(t, 0, .035)
    call SetTextTagFadepoint(t, 3)
    call SetTextTagLifespan(t, 1.5)
    call SetTextTagPermanent(t, false)
    call SetTextTagVisibility(t, false)
    if ob[GetPlayerId(GetLocalPlayer())] or(L8 and(GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4))then
        call SetTextTagVisibility(t, true)
    endif
    set t = null
endfunction
function SH9 takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_MELEE_ATTACKER) then
        call AddHeroXP(GetEnumUnit(), H34 / HB4, true)
    else
        call AddHeroXP(GetEnumUnit(), HC4 / HB4, true)
    endif
endfunction
function SI9 takes nothing returns nothing
    local group g = OG8()
    local integer SJ9
    local integer SK9 = 20
    local integer SM9 = 31
    call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 1300 + 25, Condition(function V98))
    set SJ9 = BlzGroupGetSize(g)
    set HB4 = SJ9
    set HC4 = SK9
    set H34 = SM9
    call ForGroup(g, function SH9)
    call OF8(g)
    call SG9(GetDyingUnit(), GetOwningPlayer(GetKillingUnit()))
    set g = null
endfunction
function SN9 takes nothing returns boolean
    if IsUnitAlly(GetKillingUnit(), GetOwningPlayer(GetTriggerUnit())) then
        call SI9()
    else
        if L8 and KP8(GetOwningPlayer(GetKillingUnit()))then
            call SF9()
        endif
    endif
    return false
endfunction
function SO9 takes player XN8, player XO8 returns string
    local string s = (GetObjectName(('n0AP')))
    set s = XD8(s, "$dead", (KW4[GetPlayerId((XN8))]))
    return s
endfunction
function SP9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    call SetTerrainPathable(x, y, PATHING_TYPE_WALKABILITY, false)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    return false
endfunction
function SQ9 takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    call SetTerrainPathable(x, y, PATHING_TYPE_WALKABILITY, true)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function SP9))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    set Z77 = null
    set t = null
endfunction
function SR9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit SS9 = (LoadUnitHandle(R8, (W57), (2)))
    local integer C77 = GetTriggerEvalCount(t)
    local integer ST9
    local integer i = 1
    local integer id
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local integer ABUO = 140
    if ZR7(SS9)then
        set ABUO = 180
    endif
    set ST9 = ABUO - C77
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if IsPlayerAlly(GetOwningPlayer(SS9), G8[0])then
            set id = GetPlayerId(G8[i])
        else
            set id = GetPlayerId(N8[i])
        endif
        set i = i + 1
        if ST9 == 0 then
            call LeaderboardDisplay(JG7[id], false)
            if IsPlayerAlly(G8[0], Player(id))then
                set JS7[GetPlayerId(G8[0])] = false
            endif
            if IsPlayerAlly(N8[0], Player(id))then
                set JS7[GetPlayerId(N8[0])] = false
            endif
        else
            if O18(Y7[id]) == false then
                call PlayerSetLeaderboard(Player(id), JG7[id])
                call LeaderboardDisplay(JG7[id], true)
                call LeaderboardSetLabel(JG7[id], "    " + GetObjectName('n0LZ') + " " + I2S(ST9))
            endif
        endif
    endloop
    if ST9 == 2 then
        call SetUnitPosition(SS9, x, y)
    endif
    if ST9 == 0 then
        // call DT8(GetHandleId(SS9), "aiCrow|Alive", true)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set SS9 = null
    return false
endfunction
function SU9 takes player VR7, integer M38 returns nothing
    local texttag t
    if M38 > 0 then
        set t = CreateTextTag()
        call SetPlayerState(VR7, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(VR7, PLAYER_STATE_RESOURCE_GOLD) + M38)
        call SetTextTagText(t, "+" + I2S(M38), .025)
        call SetTextTagPosUnit(t, Y7[GetPlayerId(VR7)], 0)
        call SetTextTagColor(t, 255, 220, 0, 255)
        call SetTextTagVelocity(t, 0, .03)
        if GetLocalPlayer() == VR7 then
            call SetTextTagVisibility(t, true)
        else
            call SetTextTagVisibility(t, false)
        endif
        call SetTextTagFadepoint(t, 2)
        call SetTextTagLifespan(t, 3)
        call SetTextTagPermanent(t, false)
        set t = null
    endif
endfunction
function SV9 takes nothing returns boolean
    local real x
    local real y
    local unit SS9 = GetTriggerUnit()
    local integer i = 1
    local integer M18 = 175
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    // call DT8(GetHandleId(SS9), "aiCrow|Alive", false)
    if ZR7(SS9) == false then
        set M18 = 150
    endif
    call X48("Courier" + I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call NN8(T9, 10., SO9(GetOwningPlayer(GetTriggerUnit()), GetOwningPlayer(GetKillingUnit())))
    call PingMinimapEx(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 6, 255, 0, 0, false)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function SR9))
    call SaveUnitHandle(R8, (W57), (2), (SS9))
    if IsPlayerAlly(GetOwningPlayer(SS9), G8[0])and JS7[GetPlayerId(G8[0])] == false then
        set JS7[GetPlayerId(G8[0])] = true
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            call SU9(N8[i], M18)
            set i = i + 1
        endloop
    endif
    set i = 1
    if IsPlayerAlly(GetOwningPlayer(SS9), N8[0])and JS7[GetPlayerId(N8[0])] == false then
        set JS7[GetPlayerId(N8[0])] = true
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            call SU9(G8[i], M18)
            set i = i + 1
        endloop
    endif
    if GetPlayerTeam(GetOwningPlayer(SS9)) == 0 then
        set x = GetRectCenterX(QD)
        set y = GetRectCenterY(QD)
    else
        set x = GetRectCenterX(PD)
        set y = GetRectCenterY(PD)
    endif
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    if IsTerrainPathable(GetUnitX(SS9), GetUnitY(SS9), PATHING_TYPE_WALKABILITY)then
        call SQ9(SS9)
    endif
    set SS9 = null
    set t = null
    return false
endfunction
function SW9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = IK4
    local real y = IM4
    if KO8(GetOwningPlayer(Z77))then
        set x = JQ4
        set y = JR4
    endif
    if O18(Z77) == false then
        if Z87(GetUnitX(Z77), GetUnitY(Z77), x, y) < 800 then
            call O68(Z77, 'Avul')
        else
            call UnitRemoveAbility(Z77, 'Avul')
        endif
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function SX9 takes unit SS9 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call MUInitMessenger(SS9)
    call SetPlayerAbilityAvailable(GetOwningPlayer(SS9), 'A29N', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(SS9), 'A2XM', false)
    call UnitMakeAbilityPermanent(SS9, true, 'A29M')
    call TriggerRegisterDeathEvent(t, SS9)
    call TriggerAddCondition(t, Condition(function SV9))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function SW9))
    call SaveUnitHandle(R8, (W57), (2), (SS9))
    set t = null
endfunction
function SY9 takes nothing returns nothing
    if ZS7(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit()) == false then
        call X48("Courier" + I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call NN8(T9, 10., SO9(GetOwningPlayer(GetTriggerUnit()), GetOwningPlayer(GetKillingUnit())))
        call PingMinimapEx(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 6, 255, 0, 0, false)
    endif
endfunction
function SZ9 takes nothing returns boolean
    local integer i
    call EA8(GetTriggeringTrigger())
    set JS7[GetPlayerId(G8[0])] = false
    set JS7[GetPlayerId(N8[0])] = false
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set JG7[GetPlayerId(G8[i])] = CreateLeaderboard()
        set JG7[GetPlayerId(N8[i])] = CreateLeaderboard()
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call PlayerSetLeaderboard(G8[i], JG7[GetPlayerId(G8[i])])
        call PlayerSetLeaderboard(N8[i], JG7[GetPlayerId(N8[i])])
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call LeaderboardDisplay(JG7[GetPlayerId(G8[i])], false)
        call LeaderboardDisplay(JG7[GetPlayerId(N8[i])], false)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call LeaderboardSetLabelBJ(JG7[GetPlayerId(G8[i])], " ")
        call LeaderboardSetLabelBJ(JG7[GetPlayerId(N8[i])], " ")
        set i = i + 1
    endloop
    return false
endfunction
function SA9 takes nothing returns nothing
    local integer id = GetUnitTypeId(GetTriggerUnit())
    if id == 'e00R' or id == 'e011' or id == 'e00S' or id == 'e019' or id == 'u00M' or id == 'u00D' or id == 'u00N' or id == 'u00T' then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit()))then
            set N64[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = N64[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
            call NN8(T9, 10, W[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetKillingUnit())))]) + "|r " + GetObjectName('n04P') + ".")
        else
            call NN8(T9, 10, W[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetKillingUnit())))]) + "|r " + GetObjectName('n0EN') + ".")
        endif
    endif
endfunction
function SB9 takes nothing returns nothing
    if ZS7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(), G8[0]) == false and GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > .5 then
        call UnitRemoveAbility(GetEnumUnit(), 'B08H')
        call V08(IN4, GetEnumUnit(), AC4, 500)
    endif
endfunction
function SC9 takes nothing returns nothing
    if ZS7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(), N8[0]) == false and GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > .5 then
        call UnitRemoveAbility(GetEnumUnit(), 'B08H')
        call V08(JS4, GetEnumUnit(), AC4, 500)
    endif
endfunction
function S39 takes nothing returns boolean
    local group g = OG8()
    call GroupEnumUnitsInRect(g, BD, Condition(function KF8))
    call ForGroup(g, function SB9)
    call OF8(g)
    set g = OG8()
    call GroupEnumUnitsInRect(g, LD, Condition(function KF8))
    call ForGroup(g, function SC9)
    call OF8(g)
    set g = null
    return false
endfunction
function S69 takes unit u returns boolean
    return(GetUnitAbilityLevel((u), ('B00H')) > 0)or(GetUnitAbilityLevel((u), ('BOhx')) > 0)or(GetUnitAbilityLevel((u), ('BPSE')) > 0)or(GetUnitAbilityLevel((u), ('B099')) > 0)or(GetUnitAbilityLevel((u), ('BSTN')) > 0)or(GetUnitAbilityLevel((u), ('B0CF')) > 0)or(GetUnitAbilityLevel((u), ('B0BM')) > 0)or(GetUnitAbilityLevel((u), ('B06M')) > 0)or(GetUnitAbilityLevel((u), ('B07N')) > 0)or(GetUnitAbilityLevel((u), ('B08S')) > 0)or(GetUnitAbilityLevel((u), ('B00Q')) > 0)or(GetUnitAbilityLevel((u), ('B04V')) > 0)or(GetUnitAbilityLevel((u), ('B072')) > 0)or(GetUnitAbilityLevel((u), ('BUan')) > 0)or(GetUnitAbilityLevel((u), ('B095')) > 0)or(GetUnitAbilityLevel((u), ('B03I')) > 0)or(GetUnitAbilityLevel((u), ('B0AD')) > 0)or(GetUnitAbilityLevel((u), ('B0AE')) > 0)or(GetUnitAbilityLevel((u), ('B0BE')) > 0)or(GetUnitAbilityLevel((u), ('B0BF')) > 0)or(GetUnitAbilityLevel((u), ('B008')) > 0)or(GetUnitAbilityLevel((u), ('B04B')) > 0)or(GetUnitAbilityLevel((u), ('B02F')) > 0)or(GetUnitAbilityLevel((u), ('BUsp')) > 0)or(GetUnitAbilityLevel((u), ('BUst')) > 0)or(GetUnitAbilityLevel((u), ('B0DD')) > 0)or((LoadInteger(R8, (GetHandleId((u))), ((4293)))) == 1) == true or((LoadInteger(R8, (GetHandleId((u))), ((4303)))) == 1)or(GetUnitAbilityLevel((u), ('B0C2')) > 0)or(GetUnitAbilityLevel((u), ('B06S')) > 0)or(GetUnitAbilityLevel((u), ('B02S')) > 0)or(GetUnitAbilityLevel((u), ('B07E')) > 0)
endfunction
function SL9 takes unit u returns boolean
    return S69(u)or UD8(u)or IsUnitPaused(u)or NH8(u)
endfunction
function S19 takes unit Y47 returns boolean
    return(IsUnitType(Y47, UNIT_TYPE_STUNNED)or IsUnitType(Y47, UNIT_TYPE_SNARED)or IsUnitType(Y47, UNIT_TYPE_POLYMORPHED)or GetUnitMoveSpeed(Y47) < 290 or IsUnitPaused(Y47))or S69(Y47)or UD8(Y47)
endfunction
function S09 takes integer S59, integer S29, boolean extraColor returns nothing
    local integer x = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS * 2 + 5
        call SetPlayerState(Player(x), PLAYER_STATE_RESOURCE_LUMBER, S59)
        call SetPlayerState(Player(x), PLAYER_STATE_RESOURCE_FOOD_USED, S29)
        set x = x + 1
    endloop
endfunction
function S_9 takes unit u returns boolean
    local integer id = GetUnitTypeId(u)
    return id == 'n027' or id == 'u014' or id == 'u015' or id == 'u016' or id == 'u01D' or id == 'u01E' or id == 'u01F' or id == 'u017' or id == 'u019' or id == 'u018' or id == 'u01A' or id == 'u01B' or id == 'u01C'
endfunction
function T49 takes unit u, boolean b returns nothing
    call SetUnitInvulnerable(u, b)
    call SaveBoolean(R8, (GetHandleId(u)), (509), (b))
endfunction
function T79 takes unit u returns boolean
    return(LoadBoolean(R8, (GetHandleId(u)), (509)))or GetUnitAbilityLevel(u, 'Avul') > 0
endfunction
function T89 takes real x, real y returns location
    local real S_8
    local real T48
    local integer i = 0
    loop
        exitwhen i > 40
        set S_8 = x + i * 20
        set T48 = y + i * 20
        if IsPointInRegion(IF4, S_8, T48) == false then
            return Location(S_8, T48)
        endif
        set S_8 = x + i * 20
        set T48 = y - i * 20
        if IsPointInRegion(IF4, S_8, T48) == false then
            return Location(S_8, T48)
        endif
        set S_8 = x - i * 20
        set T48 = y + i * 20
        if IsPointInRegion(IF4, S_8, T48) == false then
            return Location(S_8, T48)
        endif
        set S_8 = x - i * 20
        set T48 = y - i * 20
        if IsPointInRegion(IF4, S_8, T48) == false then
            return Location(S_8, T48)
        endif
        set i = i + 1
    endloop
    return Location(x, y)
endfunction
function T99 takes unit Z77, integer ML8, integer TD9 returns nothing
    local integer i
    if YG4[1] == 0 then
        return
    endif
    set i = 1
    loop
        exitwhen i > 10
        call UnitRemoveAbility(Z77, YG4[i])
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > 10
        call UnitRemoveAbility(Z77, YH4[i])
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > 10
        call UnitRemoveAbility(Z77, YI4[i])
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > 10
        call UnitRemoveAbility(Z77, YJ4[i])
        set i = i + 1
    endloop
    call UnitRemoveAbility(Z77, 'B0BS')
    if ML8 == 1 then
        call UnitAddAbility(Z77, YG4[TD9])
    elseif ML8 == 2 then
        call UnitAddAbility(Z77, YH4[TD9])
    elseif ML8 == 3 then
        call UnitAddAbility(Z77, YI4[TD9])
    elseif ML8 == 4 then
        call UnitAddAbility(Z77, YJ4[TD9])
    endif
endfunction
function TE9 takes integer TC8 returns nothing
    set UO4 = UO4 + 1
    set UN4[UO4] = TC8
endfunction
function TF9 takes unit u returns nothing
    local integer i = 1
    loop
        exitwhen i > UO4
        call UnitRemoveAbility(u, UN4[i])
        set i = i + 1
    endloop
endfunction
function TG9 takes integer OL8 returns boolean
    return OL8 == 'AIpg' or OL8 == 'A02V' or OL8 == 'ACpu' or OL8 == 'A18D' or OL8 == 'A1OU' or OL8 == 'A1T7' or OL8 == 'A1SA' or OL8 == 'A2T2'
endfunction
function TH9 takes unit X77 returns nothing
    call UnitRemoveAbility(X77, 'Aetl')
    call UnitRemoveAbility(X77, 'BHtc')
    call UnitRemoveAbility(X77, 'A1W3')
    call UnitRemoveAbility(X77, 'B0DO')
    call UnitRemoveAbility(X77, 'B02U')
    call UnitRemoveAbility(X77, 'A3N4')
    call UnitRemoveAbility(X77, 'B3N4')
    call UnitRemoveAbility(X77, 'A1PS')
    call UnitRemoveAbility(X77, 'B0CQ')
    call T99(X77, 0, 0)
endfunction
function TI9 takes nothing returns boolean
    if TG9(GetSpellAbilityId())then
        call TH9(GetSpellTargetUnit())
    endif
    return false
endfunction
function TJ9 takes integer TK9 returns integer
    if FV[TK9] == 0 then
        return TK9
    else
        return FV[TK9]
    endif
endfunction
function TM9 takes nothing returns nothing
    local integer TN9 = R2I(TimerGetElapsed(E4) - M04)
    local integer S59 = TN9 / 60 - 1 / 2
    local integer S29 = ModuloInteger(TN9, 60)
    if AG4 then
        call S09(S59, S29, false)
    elseif R94 == false then
        set TN9 = R2I(16 - TimerGetElapsed(E4))
        set S59 = TN9 / 60 - 1 / 2
        set S29 = ModuloInteger(TN9, 60)
        call S09(S59, S29, true)
    endif
    set Bz = R2I(TimerGetElapsed(E4) - M54)
    set O4 = S59
    set P4 = S29
    // if bool_TestVersion then
    //     set TN9 = 0
    //     loop
    //         exitwhen TN9 > 11
    //         set OY7[16 + TN9] = 0
    //         set TN9 = TN9 + 1
    //     endloop
    // endif
endfunction
function TR9 takes item ZV7 returns boolean
    local integer TS9 = ZU7(ZV7)
    return TS9 == E24 or TS9 >= E_4 and TS9 <= AZXH
endfunction
function TT9 takes integer TS9 returns boolean
    return TS9 == B5 or TS9 == VB or TS9 == WA or TS9 == ZA or TS9 == BA or TS9 == FB or TS9 == GB or TS9 == JB or TS9 == QB or TS9 == YA or TS9 == LB or TS9 == EC or TS9 == YB
endfunction
function TU9 takes integer TS9 returns boolean
    return TS9 == DE4 or TS9 == YZ or TS9 == C3 or TS9 == E6 or TS9 == E2 or TS9 == F1 or TS9 == HZ or TS9 == D44 or TS9 == BZ
endfunction
function TV9 takes integer TS9 returns integer
    if BA == TS9 then
        return 4
    endif
    if GB == TS9 or WB == TS9 or YA == TS9 or LB == TS9 or YB == TS9 then
        return 2
    endif
    return 1
endfunction
function TW9 takes string winner returns nothing
    local integer i
    local player p
    local string id
    local integer D5 = R2I(TimerGetElapsed(E4) - M04)
    local integer TX9 = D5 / 60 - 1 / 2
    local integer S29 = ModuloInteger(D5, 60)
    call W08()
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        set id = I2S(GetPlayerId(p))
        call StoreInteger(IG4, id, "1", (C[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "2", (D4[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "3", (C7[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "4", (L7[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "5", (IU[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "6", (GetPlayerState((p), PLAYER_STATE_RESOURCE_GOLD)))
        call StoreInteger(IG4, id, "7", (LoadInteger(R8, (400 + GetPlayerId((p))), (79))))
        call StoreInteger(IG4, id, "8_0", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (0)))))
        call StoreInteger(IG4, id, "8_1", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (1)))))
        call StoreInteger(IG4, id, "8_2", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (2)))))
        call StoreInteger(IG4, id, "8_3", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (3)))))
        call StoreInteger(IG4, id, "8_4", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (4)))))
        call StoreInteger(IG4, id, "8_5", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (5)))))
        call StoreInteger(IG4, id, "9", (GetUnitTypeId(Y7[GetPlayerId((p))])))
        call StoreInteger(IG4, id, "id", i)
        set p = N8[i]
        set id = I2S(GetPlayerId(p))
        call StoreInteger(IG4, id, "1", (C[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "2", (D4[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "3", (C7[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "4", (L7[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "5", (IU[GetPlayerId((p))]))
        call StoreInteger(IG4, id, "6", (GetPlayerState((p), PLAYER_STATE_RESOURCE_GOLD)))
        call StoreInteger(IG4, id, "7", (LoadInteger(R8, (400 + GetPlayerId((p))), (79))))
        call StoreInteger(IG4, id, "8_0", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (0)))))
        call StoreInteger(IG4, id, "8_1", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (1)))))
        call StoreInteger(IG4, id, "8_2", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (2)))))
        call StoreInteger(IG4, id, "8_3", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (3)))))
        call StoreInteger(IG4, id, "8_4", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (4)))))
        call StoreInteger(IG4, id, "8_5", (GetItemTypeId(UnitItemInSlot(Y7[GetPlayerId((p))], (5)))))
        call StoreInteger(IG4, id, "9", (GetUnitTypeId(Y7[GetPlayerId((p))])))
        call StoreInteger(IG4, id, "id", i + 5)
        if GetLocalPlayer() == V8 then
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "1")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "2")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "3")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "4")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "5")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "6")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "7")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "8_0")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "8_1")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "8_2")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "8_3")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "8_4")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "8_5")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "9")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "id")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "1")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "2")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "3")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "4")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "5")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "6")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "7")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "8_0")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "8_1")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "8_2")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "8_3")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "8_4")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "8_5")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "9")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "id")
        endif
        set i = i + 1
    endloop
    if N_4 == false then
        call StoreInteger(IG4, "Global", "Winner", O44)
        call StoreInteger(IG4, "Global", "m", TX9)
        call StoreInteger(IG4, "Global", "s", S29)
        if GetLocalPlayer() == V8 then
            call SyncStoredInteger(IG4, "Global", "Winner")
            call SyncStoredInteger(IG4, "Global", "m")
            call SyncStoredInteger(IG4, "Global", "s")
        endif
    endif
endfunction
function YN8 takes nothing returns nothing
    call TW9("1")
endfunction
function TY9 takes nothing returns boolean
    call ExecuteFunc("OF9")
    return false
endfunction
function TZ9 takes nothing returns nothing
    call PK8(GetEnumUnit())
endfunction
function TA9 takes nothing returns nothing
    local group g = OG8()
    call GroupEnumUnitsInRange(g, 0, 0, 12000, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function TZ9)
    call OF8(g)
    set g = null
endfunction
function TC9 takes nothing returns nothing
    set bj_changeLevelShowScores = true
    call DisableTrigger(O84)
    call DisableTrigger(O94)
    call ExecuteFunc("T39")
    if L8 then
        call DisableTrigger(NH4)
    endif
    call DisableTrigger(M14)
    call ClearTextMessages()
    call NN8(bj_FORCE_ALL_PLAYERS, 60, ND + " " + (GetObjectName(('n054'))) + " www.getdota.com.")
    set U9 = true
    call O38()
    call DisableTrigger(JS)
    call DisableTrigger(FS)
    call DisableTrigger(ML4)
    call OZ8()
    // call TB9()
endfunction
function T69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call PanCameraToTimed(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
    call TriggerRegisterTimerEvent(t, 2.5, false)
    call TriggerAddCondition(t, Condition(function TY9))
    set O44 = 2
    set ND = "|c0020c000" + (GetObjectName(('n03O'))) + "|r"
    call TC9()
    call TA9()
    call TW9("2")
    set t = null
endfunction
function TL9 takes nothing returns boolean
    call SetUnitVertexColorBJ(JV4, 100, 100, 100, GetTriggerEvalCount(GetTriggeringTrigger()))
    if GetTriggerEvalCount(GetTriggeringTrigger()) == 100 then
        call ShowUnit(JV4, false)
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function T19 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call PanCameraToTimed(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
    call TriggerRegisterTimerEvent(t, 1.5, false)
    call TriggerAddCondition(t, Condition(function TY9))
    set O44 = 1
    set ND = "|c00ff0303" + (GetObjectName(('n03N'))) + "|r"
    call TC9()
    call TA9()
    call TW9("1")
    call AddSpecialEffect("war3mapImported\\FrozenThronesDeath2.mdx", GetUnitX(JV4) + 150, GetUnitY(JV4) + 100)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function TL9))
    set t = null
endfunction
function VJ9 takes nothing returns nothing
    local integer W57 = GetHandleId(GetEventDamageSource())
    call SaveReal(R8, (W57), (730), (TimerGetElapsed(E4)))
endfunction
function BattleFurryMinionDamage takes nothing returns nothing
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == false and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitTypeId(GetTriggerUnit()) != 'n00L' then
        if IsUnitType(GetEventDamageSource(), UNIT_TYPE_MELEE_ATTACKER) then
            call BlzSetEventDamage(GetEventDamage() * 1.6)
        else
            call BlzSetEventDamage(GetEventDamage() * 1.25)
        endif
    endif
endfunction
function QuellingBladeMinionDamage takes nothing returns nothing
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == false and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitTypeId(GetTriggerUnit()) != 'n00L' then
        if IsUnitType(GetEventDamageSource(), UNIT_TYPE_MELEE_ATTACKER) then
            call BlzSetEventDamage(GetEventDamage() * 1.32)
        else
            call BlzSetEventDamage(GetEventDamage() * 1.12)
        endif
    endif
endfunction
function T_9 takes nothing returns nothing
    local unit N99 = GetEventDamageSource()
    local integer U49 = UnitInventorySize(N99)
    local integer x = 0
    local item i
    loop
        exitwhen x > U49
        set i = UnitItemInSlot(N99, x)
        if IsEnabledItem(i, TY) then
            if GetRandomReal(0, 1) <= .25 and UN8(N99) == false then
                call BlzSetEventDamage(GetEventDamage() + 80.)
            endif
        endif
        set x = x + 1
    endloop
    set i = null
    set N99 = null
endfunction
function VladmirVampire takes nothing returns nothing
    local unit N28 = GetEventDamageSource()
    call SetUnitState(N28, UNIT_STATE_LIFE, GetUnitState(N28, UNIT_STATE_LIFE) + GetEventDamage() * .1)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", N28, "origin"))
    set N28 = null
endfunction
function NeutralMagicResistCountFilter takes nothing returns boolean
    return IsUnitAlly(H04, GetOwningPlayer(GetFilterUnit())) and GetUnitAbilityLevel(GetFilterUnit(), 'A3MB') > 0
endfunction
function NeutralMagicResist takes nothing returns nothing
    local unit X77 = GetTriggerUnit()
    local real factor = .8
    local group g = OG8()
    if IsUnitType(X77, UNIT_TYPE_HERO) then
        set factor = .95
    endif
    set H04 = X77
    call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 925, Condition(function NeutralMagicResistCountFilter))
    set factor = Pow(factor, BlzGroupGetSize(g))
    call OF8(g)
    call BlzSetEventDamage(GetEventDamage() * factor)
    set g = null
    set X77 = null
endfunction
function ItemVampire takes nothing returns nothing
    local unit N28 = GetEventDamageSource()
    local integer V37
    local item S8G
    local real VL8 = 0.
    local integer ZW7
    if IsUnitIllusion(N28) == false then
        set V37 = 0
        loop
            exitwhen V37 >= bj_MAX_INVENTORY
            set S8G = UnitItemInSlot(N28, V37)
            if S8G != null then
                set ZW7 = GetItemTypeId(S8G)
                if ZW7 == BU[YW] then
                    set VL8 = RMaxBJ(VL8, .15)
                elseif ZW7 == BU[S6] then
                    set VL8 = RMaxBJ(VL8, .2)
                elseif ZW7 == BU[H6] then
                    set VL8 = RMaxBJ(VL8, .15)
                elseif ZW7 == BU[F5]then
                    set VL8 = RMaxBJ(VL8, .25)
                endif
            endif
            set V37 = V37 + 1
        endloop
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", N28, "origin"))
    call SetUnitState(N28, UNIT_STATE_LIFE, GetUnitState(N28, UNIT_STATE_LIFE) + GetEventDamage() * VL8)
    set S8G = null
    set N28 = null
endfunction
function OctarineVampire takes nothing returns nothing
    local unit N28 = GetEventDamageSource()
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) then
        call SetUnitState(N28, UNIT_STATE_LIFE, GetUnitState(N28, UNIT_STATE_LIFE) + GetEventDamage() * .25)
    else
        call SetUnitState(N28, UNIT_STATE_LIFE, GetUnitState(N28, UNIT_STATE_LIFE) + GetEventDamage() * .05)
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", N28, "origin"))
    set N28 = null
endfunction
function AetherLensSkillDamage takes nothing returns nothing
    local unit N99 = GetEventDamageSource()
    local integer U49 = UnitInventorySize(N99)
    local integer x = 0
    local item i
    loop
        exitwhen x > U49
        set i = UnitItemInSlot(N99, x)
        if IsEnabledItem(i, IAL) then
            call BlzSetEventDamage(GetEventDamage() * 1.08)
        endif
        set x = x + 1
    endloop
    set i = null
    set N99 = null
endfunction
function U79 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real U89 = (LoadReal(R8, (GetHandleId(Z77)), (692)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or U89 < (TimerGetElapsed(E4))then
        call UnitRemoveAbility(Z77, 'A265')
        call UnitRemoveAbility(Z77, 'B08N')
        call UnitRemoveAbility(Z77, 'A26C')
        call SaveReal(R8, (GetHandleId(Z77)), (692), (0.))
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function U99 takes unit Z77 returns nothing
    local trigger t
    local integer W57
    local real U89 = (LoadReal(R8, (GetHandleId(Z77)), (692)))
    call SaveReal(R8, (GetHandleId(Z77)), (692), (TimerGetElapsed(E4) + EG7))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, EG7 + .01, false)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function U79))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call O68(Z77, 'A265')
    call O68(Z77, 'A26C')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A265', false)
    set t = null
endfunction
function UE9 takes nothing returns nothing
    local unit X77 = GetTriggerUnit()
    if GetRandomReal(0, 100) < EF7 then
        if S_9(X77) == false then
            call U99(X77)
        endif
    endif
    set X77 = null
endfunction
function UF9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real U89 = (LoadReal(R8, (GetHandleId(Z77)), (693)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or U89 < (TimerGetElapsed(E4))then
        call UnitRemoveAbility(Z77, 'A266')
        call UnitRemoveAbility(Z77, 'B02I')
        call UnitRemoveAbility(Z77, 'A26C')
        call SaveReal(R8, (GetHandleId(Z77)), (693), (0.))
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function UG9 takes unit Z77 returns nothing
    local trigger t
    local integer W57
    local real U89 = (LoadReal(R8, (GetHandleId(Z77)), (693)))
    call SaveReal(R8, (GetHandleId(Z77)), (693), ((TimerGetElapsed(E4)) + EI7))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, EI7 + .01, false)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function UF9))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call O68(Z77, 'A266')
    call O68(Z77, 'A26C')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A266', false)
    set t = null
endfunction
function UI9 takes nothing returns nothing
    local unit X77 = GetTriggerUnit()
    if GetRandomReal(0, 100) < EH7 then
        if S_9(X77) == false then
            call UG9(X77)
        endif
    endif
    set X77 = null
endfunction
function AZDO takes nothing returns nothing
    local unit p5 = GetEventDamageSource()
    local unit target = GetTriggerUnit()
    local real AZCO
    if GetUnitState(target, UNIT_STATE_MANA) > 0 then
        if GetUnitAbilityLevel(p5, 'A022') == 0 and (IsUnitIllusion(p5) == false or IsUnitType(p5, UNIT_TYPE_MELEE_ATTACKER) == true) then
            set AZCO = RMinBJ(25, GetUnitState(target, UNIT_STATE_MANA))
            call SetUnitState(target, UNIT_STATE_MANA, GetUnitState(target, UNIT_STATE_MANA) - AZCO)
            call BlzSetEventDamage(GetEventDamage() + AZCO)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl", target, "origin"))
        endif
    endif
    set p5 = null
    set target = null
endfunction
function UJ9 takes nothing returns nothing
    local unit N99 = GetEventDamageSource()
    local integer UK9 = 25
    local integer id = GetPlayerId(GetOwningPlayer(N99))
    local integer EC8 = GetHandleId(N99)
    local real NO8 = TimerGetElapsed(E4)
    local real UM9 = (LoadReal(R8, (EC8), (101)))
    local boolean UN9 = (LoadBoolean(R8, (EC8), (99)))
    local boolean UO9 = (LoadBoolean(R8, (EC8), (100)))
    local boolean UP9 = NO8 < UM9
    local boolean UQ9 = false
    if IsUnitType(N99, UNIT_TYPE_MELEE_ATTACKER) == false then
        set UK9 = 10
    endif
    if GetRandomInt(0, 100) < UK9 then
        set UQ9 = true
    endif
    if GetUnitAbilityLevel(N99, 'A0JJ') > 0 or GetUnitAbilityLevel(N99, 'A081') > 0 or GetUnitAbilityLevel(N99, 'A0G5') > 0 or GetUnitAbilityLevel(N99, 'A09E') > 0 then
        call UnitRemoveAbility(N99, 'A174')
        set N99 = null
        return
    endif
    if UN9 and UP9 == false and UO9 == false then
        call SaveReal(R8, (EC8), (101), ((NO8 + 2.3)))
        if UQ9 == false then
            call SaveBoolean(R8, (EC8), (100), (true))
        endif
    endif
    if UN9 then
        call UnitRemoveAbility(N99, 'A174')
        call SaveBoolean(R8, (EC8), (99), (false))
        call SaveBoolean(R8, (EC8), (100), (false))
    elseif UQ9 and UP9 == false and UO9 == false then
        call O68(N99, 'A174')
        call UnitMakeAbilityPermanent(N99, true, 'A175')
        call SaveBoolean(R8, (EC8), (99), (true))
    endif
    set N99 = null
endfunction
function UR9 takes real W_8 returns boolean
    return(100 * GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) / GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE)) < W_8
endfunction
function AntiTK_Building takes nothing returns boolean
    return UR9(10)and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) and GetUnitTypeId(GetTriggerUnit()) != 'etol' and GetUnitTypeId(GetTriggerUnit()) != 'unpl'
endfunction
function AntiTK_Hero takes nothing returns boolean
    return UR9(25)and(GetUnitAbilityLevel(GetTriggerUnit(), 'BNdo') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'BEsh') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B001') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B0AQ') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B0AP') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05D') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05M') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05N') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05O') > 0)
endfunction
function AntiTK_Creep takes nothing returns boolean
    return UR9(50)and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == false and(IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false or GetUnitTypeId(GetTriggerUnit()) == 'ebal' or GetUnitTypeId(GetTriggerUnit()) == 'e026' or GetUnitTypeId(GetTriggerUnit()) == 'umtw' or GetUnitTypeId(GetTriggerUnit()) == 'u00R')
endfunction
function AntiTK_Exception takes nothing returns boolean
    return GetUnitTypeId(GetTriggerUnit()) == 'u00S' or GetUnitTypeId(GetTriggerUnit()) == 'o01V' or ((LoadInteger(R8, (GetHandleId((GetAttacker()))), ((4328)))) == 1) == true
endfunction
function US9 takes nothing returns nothing
    if not((UR9(10)and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) and GetUnitTypeId(GetTriggerUnit()) != 'etol' and GetUnitTypeId(GetTriggerUnit()) != 'unpl')or(UR9(25)and(GetUnitAbilityLevel(GetTriggerUnit(), 'BNdo') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'BEsh') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B001') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B0AQ') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B0AP') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05D') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05M') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05N') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05O') > 0))or(UR9(50)and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == false and(IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false or GetUnitTypeId(GetTriggerUnit()) == 'ebal' or GetUnitTypeId(GetTriggerUnit()) == 'e026' or GetUnitTypeId(GetTriggerUnit()) == 'umtw' or GetUnitTypeId(GetTriggerUnit()) == 'u00R'))or(GetUnitTypeId(GetTriggerUnit()) == 'u00S' or GetUnitTypeId(GetTriggerUnit()) == 'o01V' or ((LoadInteger(R8, (GetHandleId((GetAttacker()))), ((4328)))) == 1) == true))then
        call IssueImmediateOrderById(GetAttacker(), 851972)
    endif
endfunction
function AEA1 takes unit Y47, integer TS9 returns boolean
    local integer V37
    local item S8G
    set V37 = 0
    loop
        exitwhen V37 >= bj_MAX_INVENTORY
        set S8G = UnitItemInSlot(Y47, V37)
        if S8G != null and GetItemTypeId(S8G) == TS9 then
            set S8G = null
            return true
        endif
        set V37 = V37 + 1
    endloop
    set S8G = null
    return false
endfunction
function UT9 takes nothing returns boolean
    if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetAttacker()))then
        call US9()
    elseif GetUnitAbilityLevel(GetAttacker(), 'A17S') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
        call N89()
    endif
    return false
endfunction
function IsNormalAttackHero takes nothing returns boolean
    return BlzGetEventAttackType() == ATTACK_TYPE_HERO and BlzGetEventDamageType() == DAMAGE_TYPE_NORMAL and BlzGetEventWeaponType() != WEAPON_TYPE_METAL_MEDIUM_BASH
endfunction
function IsNormalAttack takes nothing returns boolean
    return BlzGetEventDamageType() == DAMAGE_TYPE_NORMAL and BlzGetEventWeaponType() != WEAPON_TYPE_METAL_MEDIUM_BASH
endfunction
function IsMagicDamage takes nothing returns boolean
    return (BlzGetEventAttackType() == ATTACK_TYPE_HERO and (BlzGetEventDamageType() == DAMAGE_TYPE_UNIVERSAL or BlzGetEventDamageType() == DAMAGE_TYPE_MAGIC)) or (BlzGetEventAttackType() == ATTACK_TYPE_NORMAL and BlzGetEventDamageType() == DAMAGE_TYPE_FIRE)
endfunction
function OrbOfVenomDamageCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real PX9 = (LoadReal(R8, (W57), (805)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsNormalAttack() and AEA1(GetEventDamageSource(), BU[ER4]) then
            call DestroyEffect(LoadEffectHandle(R8, (W57), (32)))
            call SaveReal(R8, (W57), (805), (TimerGetElapsed(E4) + 4.))
            if GetEventDamageSource() != Z77 then
                set Z77 = GetEventDamageSource()
                call SaveUnitHandle(R8, (W57), (2), (Z77))
                if IsUnitType(Z77, UNIT_TYPE_MELEE_ATTACKER) then
                    call SetUnitAbilityLevel(X77, 'A1V7', 1)
                else
                    call SetUnitAbilityLevel(X77, 'A1V7', 2)
                endif
            endif
            call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Weapons\\PoisonSting\\PoisonStingTarget.mdl", X77, "origin")))
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DEATH or (TimerGetElapsed(E4)) > PX9 or GetUnitAbilityLevel(X77, 'A1V7') == 0 then
        call UnitRemoveAbility(X77, 'A1V7')
        call UnitRemoveAbility(X77, 'B0DM')
        call DestroyEffect(LoadEffectHandle(R8, (W57), (32)))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call V08(Z77, X77, AC4, 3)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function OrbOfVenomAddEffect takes unit Z77, unit X77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(X77, 'A1V7')
    if IsUnitType(Z77, UNIT_TYPE_MELEE_ATTACKER) then
        call SetUnitAbilityLevel(X77, 'A1V7', 1)
    else
        call SetUnitAbilityLevel(X77, 'A1V7', 2)
    endif
    call V08(Z77, X77, AC4, 3)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function OrbOfVenomDamageCondt))
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Weapons\\PoisonSting\\PoisonStingTarget.mdl", X77, "origin")))
    call SaveReal(R8, (W57), (805), (TimerGetElapsed(E4) + 4.))
    set t = null
endfunction
function OrbOfVenomEffect takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B0DM') == 0 then
        call OrbOfVenomAddEffect(GetEventDamageSource(), GetTriggerUnit())
    endif
endfunction
function GlobalAttackEffectCondition takes nothing returns boolean
    return IsNormalAttack() and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) and (IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) or UX8(GetEventDamageSource()) or IsUnitIllusion(GetEventDamageSource()))
endfunction
function GlobalAttackEffect takes nothing returns nothing
    local unit N28 = GetEventDamageSource()
    local integer OD4 = GetPlayerId(GetOwningPlayer(N28))
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
        if SM4[OD4] > 0 and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitIllusion(N28) == false and AEA1(N28, BU[TY]) then
            call T_9()
        endif
        if SP4[OD4] > 0 and IsUnitIllusion(N28) == false and(AEA1(N28, BU[X3]) or AEA1(N28, BU[NC]))then
            call UJ9()
        endif
        if SS4[OD4] > 0 and IsUnitIllusion(N28) == false and GU8(N28) == false and AEA1(N28, BU[A6]) then
            call UE9()
        elseif(ST4[OD4] > 0 or JK7[OD4] > 0 or PSilverEdgeNum[OD4] > 0)and IsUnitIllusion(N28) == false and GU8(N28) == false and(AEA1(N28, BU[W3]) or AEA1(N28, BU[JC]) or AEA1(N28, BU[IBY]))then
            call UI9()
        endif
        if AMI0[OD4] > 0 and(AEA1(N28, BU[C3]) or AEA1(N28, BU[E6]) or AEA1(N28, BU[F6]) or AEA1(N28, BU[G6]))then
            call AZDO()
        endif
        if POrbOfVenomNum[OD4] > 0 and AEA1(N28, BU[ER4]) then
            call OrbOfVenomEffect()
        endif
    endif
    set N28 = null
endfunction
function GlobalDamagedEffectCondition takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) and (IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) or UX8(GetEventDamageSource()) or IsUnitIllusion(GetEventDamageSource()))
endfunction
function GlobalDamagedEffect takes nothing returns nothing
    local unit N28 = GetEventDamageSource()
    local integer OD4 = GetPlayerId(GetOwningPlayer(N28))
    if IsNormalAttack() then
        if JO7[OD4] > 0 and IsUnitIllusion(N28) == false and (AEA1(N28, BU[CZ]) or AEA1(N28, BU[IA])) then
            call VJ9()
        endif
        if PBattleFurryNum[OD4] > 0 and IsUnitIllusion(N28) == false and AEA1(N28, BU[HL]) then
            call BattleFurryMinionDamage()
        elseif (PQuellingBladeNum[OD4] > 0 or PIronTalonNum[OD4] > 0) and IsUnitIllusion(N28) == false and(AEA1(N28, BU[NZ])or AEA1(N28, BU[IIT]))then
            call QuellingBladeMinionDamage()
        endif
        if IsUnitType(N28, UNIT_TYPE_RANGED_ATTACKER) and GetUnitAbilityLevel(N28, 'B07O') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
            call VladmirVampire()
        endif
        if GetUnitAbilityLevel(N28, 'A09P') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
            call ItemVampire()
        endif
    else
        if PAetherLensNum[OD4] > 0 then
            call AetherLensSkillDamage()
        endif
        if IsMagicDamage() then
            if GetUnitAbilityLevel(GetTriggerUnit(), 'B3MB') > 0 then
                call NeutralMagicResist()
            endif
            if GetUnitAbilityLevel(N28, 'A39T') > 0 then
                call OctarineVampire()
            endif
        endif
    endif
    set N28 = null
endfunction
function UU9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT or(LoadBoolean(R8, (GetHandleId(N28)), (140))) == true then
        if(LoadBoolean(R8, (GetHandleId(N28)), (140))) == true then
            call SaveBoolean(R8, (GetHandleId(N28)), (140), (false))
            call SaveInteger(R8, (GetHandleId(N28)), (4259), (2))
            call UnitRemoveAbility(N28, 'A04R')
            call T49(N28, false)
            call PauseUnit(N28, false)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        elseif GetSpellTargetUnit() == N28 and GetSpellAbilityId() == vw and(GetPlayerSlotState(GetOwningPlayer((N28))) == PLAYER_SLOT_STATE_LEFT)and((LoadInteger(R8, (GetHandleId((N28))), ((4259)))) == 1) == true then
            call SaveInteger(R8, (GetHandleId(N28)), (4259), (2))
            call UnitRemoveAbility(N28, 'A04R')
            call T49(N28, false)
            call PauseUnit(N28, false)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    elseif O18(N28) == false then
        call SetUnitX(N28, x)
        call SetUnitY(N28, y)
        call SaveInteger(R8, (GetHandleId(N28)), (4259), (1))
        call UnitAddAbility(N28, 'A04R')
        call T49(N28, true)
        call PauseUnit(N28, true)
    endif
    set N28 = null
    set t = null
    return false
endfunction
function UV9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetSpellTargetUnit()
    call SaveBoolean(R8, (GetHandleId(N28)), (140), (false))
    call SaveInteger(R8, (GetHandleId(N28)), (4259), (1))
    call UnitAddAbility(N28, 'A04R')
    call T49(N28, true)
    call PauseUnit(N28, true)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveReal(R8, (EC8), (6), (GetUnitX(N28)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(N28)))
    call TriggerRegisterTimerEvent(t, 1., true)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UU9))
    set t = null
    set N28 = null
endfunction
function UW9 takes nothing returns boolean
    if GetSpellAbilityId() == TU and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit()))) == PLAYER_SLOT_STATE_LEFT)and((LoadInteger(R8, (GetHandleId((GetSpellTargetUnit()))), ((4259)))) == 1) == false then
        call UV9()
    elseif(GetSpellAbilityId() == vw or GetSpellAbilityId() == TU)and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit()))) == PLAYER_SLOT_STATE_LEFT) == false then
        call PN8(GetOwningPlayer(GetTriggerUnit()), (GetObjectName(('n02N'))))
    endif
    return false
endfunction
function UX9 takes destructable d returns boolean
    local real x = GetDestructableX(d)
    local real y = GetDestructableY(d)
    local group g = OG8()
    local boolean UY9
    call GroupEnumUnitsInRange(g, x, y, 250, Condition(function VJ8))
    set UY9 = FirstOfGroup(g) != null
    call OF8(g)
    set g = null
    return UY9
endfunction
function UZ9 takes nothing returns nothing
    if NG8(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable()) < 1 and GetDestructableTypeId(GetEnumDestructable()) != 'B002' and GetDestructableTypeId(GetEnumDestructable()) != 'B003' then
        if UX9(GetEnumDestructable()) == false then
            call DestructableRestoreLife(GetEnumDestructable(), GetDestructableMaxLife(GetEnumDestructable()), false)
            if PW[GetPlayerId(GetLocalPlayer())] == 1 and GetDestructableTypeId(GetEnumDestructable()) == 'ATtr' then
                call SetDestructableAnimation(GetEnumDestructable(), "stand alternate")
            endif
        endif
    endif
endfunction
function UA9 takes nothing returns nothing
    call EnumDestructablesInRectAll(bj_mapInitialPlayableArea, function UZ9)
endfunction
function UB9 takes unit it, unit target returns boolean
    local integer i = GetUnitAbilityLevel(it, 'A10R')
    local integer j = GetUnitLevel(target)
    return(i > 0)and((j <= 2)or(i > 1 and j <= i + 2))
endfunction
function UC9 takes nothing returns boolean
    local unit U39 = GetAttacker()
    local unit U69 = GetTriggerUnit()
    local integer i1 = GetUnitTypeId(U39)
    local integer player_id = GetPlayerId(GetOwningPlayer(U39))
    if GetUnitTypeId(U69) == 'n00L' then
        if IsUnitIllusion(U39) then
            call KillUnit(U39)
        elseif IsUnitInRegion(ow, U39) == false then
            call PN8(GetOwningPlayer(U39), (GetObjectName(('n035'))))
            call IssueImmediateOrderById(U39, 851972)
        endif
        // elseif((i1 == 'UC42')and(IsReady(U39, 'A10R'))and((GetUnitTypeId(U69) == 'ncnk')or(GetUnitTypeId(U69) == 'nkol')or(GetUnitTypeId(U69) == 'nsat')or(GetUnitTypeId(U69) == 'nfpu')or(GetUnitTypeId(U69) == 'nomg')or(GetUnitTypeId(U69) == 'nowe')or(GetUnitTypeId(U69) == 'n00S'))and IsComputer(GetOwningPlayer(U39)))then
        //     if UB9(U39, U69)then
        //         call C_7(U39, 852600, 'A10R', U69)
        //     endif
        // elseif((i1 == 'UC42')and(IsReady(U39, 'A10R'))and IsComputer(GetOwningPlayer(U39))and(GetRandomInt(1, 4) == 1)and(not IsUnitType(U69, UNIT_TYPE_MECHANICAL))and(not IsUnitType(U69, UNIT_TYPE_ANCIENT))and GetUnitTypeId(U69) != 'n0HX' and GetUnitTypeId(U69) != 'nomg' and GetUnitTypeId(U69) != 'nfpu' and GetUnitTypeId(U69) != 'nstl' and GetUnitTypeId(U69) != 'nsat' and GetUnitTypeId(U69) != 'nsth' and GetUnitTypeId(U69) != 'n00S' and GetUnitTypeId(U69) != 'nfsh' and GetUnitTypeId(U69) != 'ngns' and GetUnitTypeId(U69) != 'ngh1' and GetUnitTypeId(U69) != 'nowe' and GetUnitTypeId(U69) != 'ndtw' and GetUnitTypeId(U69) != 'nwlg')then
        //     if UB9(U39, U69)then
        //         call C_7(U39, 852600, 'A10R', U69)
        //     endif
        // elseif((i1 == 'U00C')and IsComputer(GetOwningPlayer(U39))and(not IsUnitType(U69, UNIT_TYPE_MECHANICAL))and(not IsUnitType(U69, UNIT_TYPE_ANCIENT))and(GetUnitTypeId(U69) == 'ncnk')or(GetUnitTypeId(U69) == 'nkol')or GetUnitTypeId(U69) == 'n0HX' or GetUnitTypeId(U69) == 'nomg' or GetUnitTypeId(U69) == 'nfpu' or GetUnitTypeId(U69) == 'nstl' or GetUnitTypeId(U69) == 'nsat' or GetUnitTypeId(U69) == 'nsth' or GetUnitTypeId(U69) == 'n00S' or GetUnitTypeId(U69) == 'nfsh' or GetUnitTypeId(U69) == 'ngns' or GetUnitTypeId(U69) == 'ngh1' or GetUnitTypeId(U69) == 'nowe' or GetUnitTypeId(U69) == 'ndtw' or GetUnitTypeId(U69) == 'nwlg')then
        //     if(GetUnitAbilityLevel(U39, 'A0SW') > 1)then
        //         call C_7(U39, 852600, 'A0SW', U69)
        //     endif
        // elseif((i1 == 'H00U')and IsComputer(GetOwningPlayer(U39)))then
        //     if((Bz > ga_rSkillCD[128 + player_id])and(K_8(U39, D57, D57, D27, 'A0VQ')))then
        //         call C_7(U39, 852490, 'A0VQ', U39)
        //     elseif(Bz > ga_rSkillCD[64 + player_id])and(K_8(U39, D27, D27, D07, 'A0VO'))then
        //         call IssueImmediateOrderById(U39, 852132)
        //     endif
    endif
    set U39 = null
    set U69 = null
    return false
endfunction
function UL9 takes unit U19, unit Z77 returns nothing
    local string fx = ""
    if IsPlayerEnemy(GetLocalPlayer(), GetOwningPlayer(Z77))and N08(GetLocalPlayer()) == false then
        set fx = "war3mapImported\\WardMark_T2.mdx"
    endif
    call AddSpecialEffectTarget(fx, U19, "origin")
endfunction
function U09 takes nothing returns boolean
    return true
endfunction
function U59 takes unit N28, unit U29 returns nothing
    local integer U_9
    local item V49
    if GetUnitTypeId(GetSummonedUnit()) == 'o004' then
        set U_9 = BU[FB]
    else
        set U_9 = BU[GB]
    endif
    call DisableTrigger(GW4)
    set V49 = AV7(N28, U_9)
    if V49 == null then
        set I44 = GetOwningPlayer(N28)
        set HK4 = CreateItem(U_9, 0, 0)
        call UnitAddItem(N28, HK4)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    else
        call SetItemCharges(V49, GetItemCharges(V49) + 1)
    endif
    call EnableTrigger(GW4)
    set V49 = null
endfunction
function V79 takes nothing returns nothing
    local unit U29 = GetSummonedUnit()
    local unit N28 = GetSummoningUnit()
    if GetUnitTypeId(GetSummonedUnit()) == 'o004' or GetUnitTypeId(GetSummonedUnit()) == 'oeye' then
        if IsUnitInRegion(ow, U29)then
            call U59(N28, U29)
            call RemoveUnit(U29)
        elseif ZS7(N28)then
            call U59(N28, U29)
            call PN8(GetOwningPlayer(U29), "Couriers cannot place wards")
            call RemoveUnit(U29)
        else
            call UL9(GetSummonedUnit(), GetSummoningUnit())
            if GetUnitTypeId(GetSummonedUnit()) == 'oeye' then
                call S18(GetOwningPlayer(GetSummonedUnit()), 12, GetUnitX(GetSummonedUnit()), GetUnitY(GetSummonedUnit()), 150)
            endif
        endif
    elseif GetUnitTypeId(U29) == 'osp4' or GetUnitTypeId(U29) == 'o008' or GetUnitTypeId(U29) == 'o009' or GetUnitTypeId(U29) == 'o01C' or GetUnitTypeId(U29) == 'o01D' or GetUnitTypeId(U29) == 'o01E' then
        call SelectUnitAddForPlayer(U29, GetOwningPlayer(U29))
    elseif GetUnitTypeId(U29) == 'o000' or GetUnitTypeId(U29) == 'o001' or GetUnitTypeId(U29) == 'o00A' or GetUnitTypeId(U29) == 'o00X' then
        call SelectUnitAddForPlayer(U29, GetOwningPlayer(U29))
    endif
    set N28 = null
    set U29 = null
endfunction
function V89 takes unit AM7 returns real
    local real V99
    if KN8(GetOwningPlayer(AM7))then
        set V99 = GetRectCenterX(QD)
    else
        set V99 = GetRectCenterX(PD)
    endif
    return V99
endfunction
function VD9 takes unit AM7 returns real
    local real V99
    if KN8(GetOwningPlayer(AM7))then
        set V99 = GetRectCenterY(QD)
    else
        set V99 = GetRectCenterY(PD)
    endif
    return V99
endfunction
function VE9 takes unit AM7, integer n5, integer VF9 returns item
    local real x = V89(AM7)
    local real y = VD9(AM7)
    local item JB9 = CreateItem(n5, x, y)
    local integer i = 0
    local integer VG9 = 0
    local item Z4
    set ON7 = I44
    call DisableTrigger(GW4)
    if n5 > 0 then
        loop
            exitwhen i > (UnitInventorySize(AM7) - 1)
            if UnitItemInSlot(AM7, i) == null and i != VF9 then
                set Z4 = CreateItem('I02M', x, y)
                call UnitAddItem(AM7, Z4)
                set VG9 = BlzBitOr(VG9, LSP[i])
            endif
            if i == VF9 then
                call EnableTrigger(GW4)
                call UnitAddItem(AM7, JB9)
                call DisableTrigger(GW4)
            endif
            set i = i + 1
        endloop
        set i = 0
        loop
            exitwhen i > bj_MAX_INVENTORY - 1
            if BlzBitAnd(VG9, LSP[i]) != 0 then
                call RemoveItem(UnitItemInSlot(AM7, i))
            endif
            set i = i + 1
        endloop
    endif
    call EnableTrigger(GW4)
    set HK4 = JB9
    set JB9 = null
    set Z4 = null
    return HK4
endfunction
function VH9 takes unit Z77 returns boolean
    local integer W57 = GetHandleId(Z77)
    local real PX9 = (TimerGetElapsed(E4))
    local real VI9 = 13.
    if(LoadReal(R8, (W57), (730))) < PX9 - VI9 then
        return false
    endif
    return true
endfunction
function VM9 takes unit AM7 returns nothing
    local integer i = 0
    local item VN9
    local integer id
    local boolean VO9 = false
    if VH9(AM7)then
        set VO9 = true
    endif
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set VN9 = UnitItemInSlot(AM7, i)
        if IsEnabledItem(VN9, CZ) and VO9 then
            call DisableTrigger(GW4)
            set I44 = GetItemPlayer(VN9)
            call RemoveItem(VN9)
            set HK4 = VE9(AM7, BU[IA], i)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call EnableTrigger(GW4)
        endif
        if IsEnabledItem(VN9, IA) and VO9 == false then
            call DisableTrigger(GW4)
            set I44 = GetItemPlayer(VN9)
            call RemoveItem(VN9)
            set HK4 = VE9(AM7, BU[CZ], i)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call EnableTrigger(GW4)
        endif
        set i = i + 1
    endloop
    set AM7 = null
    set VN9 = null
endfunction
function NI9 takes nothing returns nothing
    if GetEventDamage() > 2 and(KP8(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource()) == 'n00L')and GetUnitAbilityLevel(GetTriggerUnit(), 'A0RN') == 0 then
        if X64[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] == false then
            call SaveReal(R8, (GetHandleId(GetTriggerUnit())), (785), (TimerGetElapsed(E4)))
        endif
    endif
    if GetEventDamage() > 2 and IsNormalAttack() and JO7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] > 0 and (AEA1(GetTriggerUnit(), BU[CZ]) or AEA1(GetTriggerUnit(), BU[IA])) then
        call SaveReal(R8, (GetHandleId(GetTriggerUnit())), (730), (TimerGetElapsed(E4)))
    endif
endfunction
function VP9 takes unit N28 returns nothing
    local integer i = 0
    local item VQ9
    local integer TK9
    local boolean VR9 = false
    if(LoadReal(R8, (GetHandleId(N28)), (785))) + 3 > (TimerGetElapsed(E4))then
        set VR9 = true
    endif
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set VQ9 = UnitItemInSlot(N28, i)
        if IsEnabledItem(VQ9, TW) and VR9 then
            call DisableTrigger(GW4)
            set I44 = GetItemPlayer(VQ9)
            call RemoveItem(VQ9)
            set HK4 = VE9(N28, BU[UW], i)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call EnableTrigger(GW4)
        endif
        if IsEnabledItem(VQ9, UW) and VR9 == false then
            call DisableTrigger(GW4)
            set I44 = GetItemPlayer(VQ9)
            call RemoveItem(VQ9)
            set HK4 = VE9(N28, BU[TW], i)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call EnableTrigger(GW4)
        endif
        set i = i + 1
    endloop
    set N28 = null
    set VQ9 = null
endfunction
function VS9 takes unit N28 returns nothing
    local integer i = 0
    local item VT9
    local boolean VU9 = false
    local real RF8 = 5
    if IsUnitType(N28, UNIT_TYPE_MELEE_ATTACKER) == false then
        set RF8 = 7
    endif
    if(LoadReal(R8, (GetHandleId(N28)), (785))) + RF8 > (TimerGetElapsed(E4))then
        set VU9 = true
    endif
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set VT9 = UnitItemInSlot(N28, i)
        if IsEnabledItem(VT9, B0) and VU9 then
            call DisableTrigger(GW4)
            set I44 = GetItemPlayer(VT9)
            call RemoveItem(VT9)
            call UnitRemoveAbility(N28, 'A15Y')
            set HK4 = VE9(N28, BU[C0], i)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call EnableTrigger(GW4)
        endif
        if IsEnabledItem(VT9, C0) and VU9 == false then
            call DisableTrigger(GW4)
            set I44 = GetItemPlayer(VT9)
            call RemoveItem(VT9)
            set HK4 = VE9(N28, BU[B0], i)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call EnableTrigger(GW4)
        endif
        set i = i + 1
    endloop
    set N28 = null
    set VT9 = null
endfunction
function VV9 takes nothing returns nothing
    local unit AM7 = GetEnumUnit()
    local integer id = GetPlayerId(GetOwningPlayer(AM7))
    if SN4[id] > 0 and AM7 != null and IsUnitType(AM7, UNIT_TYPE_DEAD) == false then
        call VP9(AM7)
    endif
    if SR4[id] > 0 and AM7 != null and IsUnitType(AM7, UNIT_TYPE_DEAD) == false then
        call VS9(AM7)
    endif
    if JO7[id] > 0 and AM7 != null and IsUnitType(AM7, UNIT_TYPE_DEAD) == false then
        call VM9(AM7)
    endif
    set AM7 = null
endfunction
function VW9 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and GetUnitTypeId(GetFilterUnit()) != 'H00J' and GetUnitTypeId(GetFilterUnit()) != 'H0B8' or UX8(GetFilterUnit())
endfunction
function VX9 takes nothing returns boolean
    local integer i = 1
    local unit AM7
    local integer id
    local group g
    if GZ4 > 0 or G34 > 0 or JJ7 > 0 then
        set g = OG8()
        call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function VW9))
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            set id = GetPlayerId(G8[i])
            set AM7 = Y7[id]
            call GroupAddUnit(g, AM7)
            set id = GetPlayerId(N8[i])
            set AM7 = Y7[id]
            call GroupAddUnit(g, AM7)
            set i = i + 1
        endloop
        call ForGroup(g, function VV9)
        call OF8(g)
        set g = null
    endif
    set AM7 = null
    return false
endfunction
function VY9 takes nothing returns nothing
    local unit AM7 = GetFilterUnit()
    local integer i = 0
    local item Y98
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set Y98 = UnitItemInSlot(AM7, i)
        if(IsTheItem(Y98, VY) or IsTheItem(Y98, XY) or IsTheItem(Y98, YY))and GetItemUserData(Y98) > 0 then
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", AM7, "overhead"))
            call PM8(GetOwningPlayer(AM7), "Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = VE9(AM7, BU[ZY], i)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call UnitRemoveAbility(AM7, 'B0GI')
        endif
        set i = i + 1
    endloop
    set AM7 = null
    set Y98 = null
endfunction
function VZ9 takes nothing returns boolean
    if UnitInventorySize(GetFilterUnit()) > 0 and KN8(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit()) == false and O18(GetFilterUnit()) == false then
        call VY9()
    endif
    return false
endfunction
function VA9 takes nothing returns boolean
    if UnitInventorySize(GetFilterUnit()) > 0 and KO8(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit()) == false and O18(GetFilterUnit()) == false then
        call VY9()
    endif
    return false
endfunction
function VB9 takes nothing returns boolean
    local group g = OG8()
    call GroupEnumUnitsInRange(g, IK4, IM4, 750, Condition(function VZ9))
    call OF8(g)
    set g = OG8()
    call GroupEnumUnitsInRange(g, JQ4, JR4, 750, Condition(function VA9))
    call OF8(g)
    set g = null
    return false
endfunction
function VC9 takes unit u returns unit
    if IsUnitType(u, UNIT_TYPE_HERO)or GetUnitAbilityLevel(u, 'A04R') == 0 then
        return u
    else
        return Y7[GetPlayerId(GetOwningPlayer(u))]
    endif
endfunction
function V39 takes nothing returns boolean
    if IsUnitType(GetKillingUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitAlly(GetDyingUnit(), GetOwningPlayer(GetKillingUnit())) == false then
        if GetUnitTypeId(GetTriggerUnit()) == 'n00J' then
            call V08(GetDyingUnit(), VC9(GetKillingUnit()), AB4, 550)
        elseif GetUnitTypeId(GetTriggerUnit()) == 'n00A' then
            call V08(GetDyingUnit(), VC9(GetKillingUnit()), AB4, 675)
        elseif GetUnitTypeId(GetTriggerUnit()) == 'n006' then
            call V08(GetDyingUnit(), VC9(GetKillingUnit()), AB4, 800)
        endif
    endif
    return false
endfunction
function V69 takes nothing returns boolean
    return GetUnitTypeId(GetEnteringUnit()) == 'e00E' or GetUnitTypeId(GetEnteringUnit()) == 'e022'
endfunction
function VL9 takes nothing returns nothing
    call ShowUnit(GetEnteringUnit(), false)
    call SetUnitPathing(GetEnteringUnit(), false)
    call SetUnitInvulnerable(GetEnteringUnit(), true)
    call UnitApplyTimedLife(GetEnteringUnit(), 'BTLF', 20.)
endfunction
function V19 takes nothing returns boolean
    return((GetUnitTypeId(GetDyingUnit()) == 'e00R')or(GetUnitTypeId(GetDyingUnit()) == 'e011')or(GetUnitTypeId(GetDyingUnit()) == 'e00S')or(GetUnitTypeId(GetDyingUnit()) == 'e019'))
endfunction
function V09 takes nothing returns nothing
    if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit()))then
        set gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
    endif
    if(GetDyingUnit() == IZ4)then
        call X48("Tower" + I2S(0) + I2S(1) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(I04, false)
        call M68(GetKillingUnit(), 1)
        set P34 = 1
    elseif(GetDyingUnit() == I34)then
        call X48("Tower" + I2S(0) + I2S(1) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(I24, false)
        call M68(GetKillingUnit(), 1)
        set PC4 = 1
    elseif(GetDyingUnit() == IL4)then
        call X48("Tower" + I2S(0) + I2S(1) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(I_4, false)
        call M68(GetKillingUnit(), 1)
        set P64 = 1
    elseif(GetDyingUnit() == I04)then
        call X48("Tower" + I2S(0) + I2S(2) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(J44, false)
        call M68(GetKillingUnit(), 2)
        set P34 = 2
    elseif(GetDyingUnit() == I24)then
        call X48("Tower" + I2S(0) + I2S(2) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(J74, false)
        call M68(GetKillingUnit(), 2)
        set PC4 = 2
    elseif(GetDyingUnit() == I_4)then
        call X48("Tower" + I2S(0) + I2S(2) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(J84, false)
        call M68(GetKillingUnit(), 2)
        set P64 = 2
    elseif(GetDyingUnit() == J44)then
        call X48("Tower" + I2S(0) + I2S(3) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call M68(GetKillingUnit(), 3)
        call T49(JE4, false)
        call T49(JH4, false)
        call T49(J94, false)
        call T49(JD4, false)
        call T49(WP, false)
        call T49(zP, false)
        call T49(vq, false)
        call T49(eq, false)
        call T49(fP, false)
        call T49(FP, false)
        call T49(lP, false)
        call T49(LP, false)
        call T49(MP, false)
        call T49(pP, false)
        call T49(JK4, false)
        call T49(JM4, false)
        call T49(JN4, false)
        call T49(JO4, false)
        call T49(JP4, false)
        set P34 = 3
    elseif(GetDyingUnit() == J74)then
        call X48("Tower" + I2S(0) + I2S(3) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call M68(GetKillingUnit(), 3)
        call T49(JF4, false)
        call T49(JI4, false)
        call T49(J94, false)
        call T49(JD4, false)
        call T49(WP, false)
        call T49(zP, false)
        call T49(vq, false)
        call T49(eq, false)
        call T49(fP, false)
        call T49(FP, false)
        call T49(lP, false)
        call T49(LP, false)
        call T49(MP, false)
        call T49(pP, false)
        call T49(JK4, false)
        call T49(JM4, false)
        call T49(JN4, false)
        call T49(JO4, false)
        call T49(JP4, false)
        set PC4 = 3
    elseif(GetDyingUnit() == J84)then
        call X48("Tower" + I2S(0) + I2S(3) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call M68(GetKillingUnit(), 3)
        call T49(JG4, false)
        call T49(JJ4, false)
        call T49(J94, false)
        call T49(JD4, false)
        call T49(WP, false)
        call T49(zP, false)
        call T49(vq, false)
        call T49(eq, false)
        call T49(fP, false)
        call T49(FP, false)
        call T49(lP, false)
        call T49(LP, false)
        call T49(MP, false)
        call T49(pP, false)
        call T49(JK4, false)
        call T49(JM4, false)
        call T49(JN4, false)
        call T49(JO4, false)
        call T49(JP4, false)
        set P64 = 3
    endif
    if GetDyingUnit() == J94 or GetDyingUnit() == JD4 then
        call X48("Tower" + I2S(0) + I2S(4) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call M68(GetKillingUnit(), 4)
    endif
    if(((GetDyingUnit() == J94)and(IsUnitDeadBJ(JD4)))or((GetDyingUnit() == JD4)and(IsUnitDeadBJ(J94))))then
        call T49(IY4, false)
        set PV4 = false
    endif
endfunction
function V59 takes nothing returns boolean
    return((GetUnitTypeId(GetDyingUnit()) == 'u00M')or(GetUnitTypeId(GetDyingUnit()) == 'u00D')or(GetUnitTypeId(GetDyingUnit()) == 'u00N')or(GetUnitTypeId(GetDyingUnit()) == 'u00T'))
endfunction
function V29 takes nothing returns nothing
    if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit()))then
        set gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
    endif
    if(GetDyingUnit() == JW4)then
        call X48("Tower" + I2S(1) + I2S(1) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(JZ4, false)
        call M68(GetKillingUnit(), 1)
        set P14 = 1
    elseif(GetDyingUnit() == JX4)then
        call X48("Tower" + I2S(1) + I2S(1) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(JA4, false)
        call M68(GetKillingUnit(), 1)
        set PL4 = 1
    elseif(GetDyingUnit() == JY4)then
        call X48("Tower" + I2S(1) + I2S(1) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(JB4, false)
        call M68(GetKillingUnit(), 1)
        set P04 = 1
    elseif(GetDyingUnit() == JZ4)then
        call X48("Tower" + I2S(1) + I2S(2) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(JC4, false)
        call M68(GetKillingUnit(), 2)
        set P14 = 2
    elseif(GetDyingUnit() == JA4)then
        call X48("Tower" + I2S(1) + I2S(2) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(J34, false)
        call M68(GetKillingUnit(), 2)
        set PL4 = 2
    elseif(GetDyingUnit() == JB4)then
        call X48("Tower" + I2S(1) + I2S(2) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call T49(J64, false)
        call M68(GetKillingUnit(), 2)
        set P04 = 2
    elseif(GetDyingUnit() == JC4)then
        call X48("Tower" + I2S(1) + I2S(3) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call M68(GetKillingUnit(), 3)
        call T49(J04, false)
        call T49(J_4, false)
        call T49(JL4, false)
        call T49(J14, false)
        call T49(ot, false)
        call T49(rt, false)
        call T49(at, false)
        call T49(Vt, false)
        call T49(PS, false)
        call T49(QS, false)
        call T49(SS, false)
        call T49(tS, false)
        call T49(TS, false)
        call T49(US, false)
        call T49(K84, false)
        call T49(K94, false)
        call T49(KD4, false)
        call T49(KE4, false)
        call T49(KF4, false)
        set P14 = 3
    elseif(GetDyingUnit() == J34)then
        call X48("Tower" + I2S(1) + I2S(3) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call M68(GetKillingUnit(), 3)
        call T49(J54, false)
        call T49(K44, false)
        call T49(JL4, false)
        call T49(J14, false)
        call T49(ot, false)
        call T49(rt, false)
        call T49(at, false)
        call T49(Vt, false)
        call T49(PS, false)
        call T49(QS, false)
        call T49(SS, false)
        call T49(tS, false)
        call T49(TS, false)
        call T49(US, false)
        call T49(K84, false)
        call T49(K94, false)
        call T49(KD4, false)
        call T49(KE4, false)
        call T49(KF4, false)
        set PL4 = 3
    elseif(GetDyingUnit() == J64)then
        call X48("Tower" + I2S(1) + I2S(3) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call M68(GetKillingUnit(), 3)
        call T49(J24, false)
        call T49(K74, false)
        call T49(JL4, false)
        call T49(J14, false)
        call T49(ot, false)
        call T49(rt, false)
        call T49(at, false)
        call T49(Vt, false)
        call T49(PS, false)
        call T49(QS, false)
        call T49(SS, false)
        call T49(tS, false)
        call T49(TS, false)
        call T49(US, false)
        call T49(K84, false)
        call T49(K94, false)
        call T49(KD4, false)
        call T49(KE4, false)
        call T49(KF4, false)
        set P04 = 3
    endif
    if GetDyingUnit() == JL4 or GetDyingUnit() == J14 then
        call X48("Tower" + I2S(1) + I2S(4) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call M68(GetKillingUnit(), 4)
    endif
    if(((GetDyingUnit() == J14)and(IsUnitDeadBJ(JL4)))or((GetDyingUnit() == JL4)and(IsUnitDeadBJ(J14))))then
        call T49(JV4, false)
        set PW4 = false
    endif
endfunction
function V_9 takes nothing returns boolean
    local integer i = 0
    local integer x = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if GetPlayerSlotState(G8[i]) == PLAYER_SLOT_STATE_EMPTY then
            set x = x + 1
        endif
        if GetPlayerSlotState(N8[i]) == PLAYER_SLOT_STATE_EMPTY then
            set x = x + 1
        endif
        set i = i + 1
    endloop
    return x == MAX_TEAM_PLAYERS * 2 - 1
endfunction
function Ve takes nothing returns boolean
    return bj_isSinglePlayer and V_9()
endfunction
function W49 takes nothing returns nothing
    set AS4 = true
endfunction
function W79 takes nothing returns nothing
    set GV4 = false
endfunction
function W89 takes nothing returns boolean
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
        call KillUnit(GetFilterUnit())
    endif
    return false
endfunction
function W99 takes nothing returns nothing
    local group g = OG8()
    call GroupEnumUnitsOfPlayer(g, N8[0], Condition(function W89))
    call OF8(g)
    set g = null
    set GD = true
endfunction
function WD9 takes nothing returns nothing
    local group g = OG8()
    call GroupEnumUnitsOfPlayer(g, G8[0], Condition(function W89))
    call OF8(g)
    set g = null
    set GD = true
endfunction
function WE9 takes nothing returns boolean
    if GetUnitTypeId(GetFilterUnit()) == 'o004' or GetUnitTypeId(GetFilterUnit()) == 'oeye' then
        call KillUnit(GetFilterUnit())
    endif
    return false
endfunction
function WF9 takes nothing returns nothing
    local group g = OG8()
    call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function WE9))
    call OF8(g)
    set g = null
    set GD = true
endfunction
function WG9 takes nothing returns nothing
    set B4 = false
endfunction
function WH9 takes nothing returns nothing
    set B4 = true
endfunction
function WI9 takes nothing returns nothing
    call WD9()
    call W99()
    set GD = true
endfunction
function WJ9 takes nothing returns nothing
    local string WK9 = SubString(GetEventPlayerChatString(), 5, StringLength(GetEventPlayerChatString()))
    local integer WM9 = S2I(WK9)
    if WM9 < 0 or WM9 > 24 then
        set WM9 = 0
    endif
    call SetFloatGameState(GAME_STATE_TIME_OF_DAY, WM9)
    set GD = true
endfunction
function WN9 takes nothing returns boolean
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) then
        call SetHeroLevel(GetFilterUnit(), GetHeroLevel(GetFilterUnit()) + IMaxBJ(HB4, 1), true)
    endif
    return false
endfunction
function WO9 takes nothing returns nothing
    local string WP9 = SubString(GetEventPlayerChatString(), 6, StringLength(GetEventPlayerChatString()))
    local integer WQ9 = S2I(WP9)
    local group g = OG8()
    if SubString(GetEventPlayerChatString(), 0, 9) != "-lvlupall" and SubString(GetEventPlayerChatString(), 0, 9) != "-lvlupfor" then
        if WQ9 < 1 then
            set WQ9 = 1
        endif
        set HB4 = WQ9
        call GroupEnumUnitsOfPlayer(g, GetTriggerPlayer(), Condition(function WN9))
    endif
    call OF8(g)
    set g = null
    set GD = true
endfunction
function WR9 takes nothing returns nothing
    call TriggerExecute(JS)
    set GD = true
endfunction
function WS9 takes nothing returns boolean
    local integer player_id = GetPlayerId(GetOwningPlayer(GetFilterUnit()))
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) then
        set ga_rSkillCD[player_id] = .0
        set ga_rSkillCD[16 + player_id] = .0
        set ga_rSkillCD[32 + player_id] = .0
        set ga_rSkillCD[48 + player_id] = .0
        call UnitResetCooldown(GetFilterUnit())
        call TimerStart(M_4[GetPlayerId((GetOwningPlayer(GetFilterUnit())))], 0, false, null)
        call SetUnitState(GetFilterUnit(), UNIT_STATE_LIFE, GetUnitState(GetFilterUnit(), UNIT_STATE_MAX_LIFE))
        call SetUnitState(GetFilterUnit(), UNIT_STATE_MANA, GetUnitState(GetFilterUnit(), UNIT_STATE_MAX_MANA))
    endif
    return false
endfunction
function WT9 takes nothing returns nothing
    local group g = OG8()
    call GroupEnumUnitsOfPlayer(g, GetTriggerPlayer(), Condition(function WS9))
    call OF8(g)
    set g = null
    set GD = true
endfunction
function WU9 takes nothing returns nothing
    if AJ4 then
        return
    endif
    call KillUnit(Y7[GetPlayerId(GetTriggerPlayer())])
    set GD = true
endfunction
function WV9 takes nothing returns nothing
    local string nQ = SubString(GetEventPlayerChatString(), 5, StringLength(GetEventPlayerChatString()))
    local integer M38 = S2I(nQ)
    call SetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) + M38)
    set GD = true
endfunction
function WW9 takes nothing returns nothing
    local unit PQ9 = Y7[GetPlayerId(GetTriggerPlayer())]
    local player QL9 = GetTriggerPlayer()
    local location PV9
    if KO8(QL9)then
        set PV9 = GetRectCenter(PD)
    else
        set PV9 = GetRectCenter(QD)
    endif
    if U9 == false and O18(PQ9)then
        call YS8(PQ9, QL9, GetLocationX(PV9), GetLocationY(PV9), true)
        if PP9(PQ9) == false or GetUnitAbilityLevel(PQ9, 'A0MW') == 0 then
            call ReviveHeroLoc(PQ9, PV9, true)
        else
            call PU9(PQ9, PV9)
        endif
    endif
    call RemoveLocation(PV9)
    set PQ9 = null
    set QL9 = null
    set PV9 = null
endfunction
function WX9 takes nothing returns nothing
    local unit Z77 = Y7[GetPlayerId(GetTriggerPlayer())]
    local player WY9
    local unit WZ9
    local real x = GetRectCenterX(KE)
    local real y = GetRectCenterX(KE)
    if KO8(GetOwningPlayer(Z77))then
        set WY9 = G8[1]
    else
        set WY9 = N8[1]
    endif
    set WZ9 = CreateUnit(WY9, 'H000', x, y, 0)
    call SetHeroLevel(WZ9, 10, false)
    set Z77 = null
    set WZ9 = null
    set WY9 = null
endfunction
function WA9 takes nothing returns nothing
    call TriggerEvaluate(HS4)
endfunction
function WB9 takes nothing returns nothing
    call TriggerEvaluate(MS)
endfunction
function WC9 takes nothing returns nothing
    call UA9()
endfunction
function W39 takes nothing returns nothing
    local string chat_str = GetEventPlayerChatString()
    local integer UP
    local integer player_id
    local player pl
    local group g
    if(chat_str == "-testhelp")then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10., "Commands (XX = 2-digit Player Number, ##### = Amount): -gold #####, -goldall #####, -goldforXX #####, -lvlup ##, -lvlupall ##, -lvlupforXX, -spawncreeps, -powerup, -neutrals, -refresh, -refreshall, -kill, -kill XX, -killsent, -killscourge, -killall, -rechoose, -fog, -time ##, -noherolimit, -trees, -killwards, -spawnoff, -spawnon")
    elseif(chat_str == "-rechoose")then
        if((not O9)and(not T4)and(not OL4)and(not D9)and(not Y9)and(not HO4))then
            set X9 = true
            set B[GetPlayerId(GetTriggerPlayer())] = false
            set B9 = false
            set W9 = true
            set D7[GetPlayerId(GetTriggerPlayer())] = false
            set oo[GetPlayerId(GetTriggerPlayer())] = false
            set Z9[GetPlayerId(GetTriggerPlayer())] = false
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10., "Some restrictions in repicking/randoming are removed. You may now use -repick/-random")
        else
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10., "Cannot enable repicking/randoming.")
        endif
    elseif(SubString(chat_str, 0, 9) == "-goldall ")then
        set UP = S2I(SubString(chat_str, 9, StringLength(chat_str)))
        set player_id = 1
        loop
            call SetPlayerState(Player(player_id), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Player(player_id), PLAYER_STATE_RESOURCE_GOLD) + UP)
            set player_id = player_id + 1
            exitwhen player_id > 11
        endloop
    elseif(SubString(chat_str, 0, 8) == "-goldfor")then
        set pl = Z17(S2I(SubString(chat_str, 8, StringLength(chat_str))))
        if((pl != null)and(KS8(pl)))then
            set UP = S2I(SubString(chat_str, 10, StringLength(chat_str)))
            call SetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(pl, PLAYER_STATE_RESOURCE_GOLD) + UP)
        endif
    elseif(SubString(chat_str, 0, 9) == "-lvlupall")then
        set player_id = S2I(SubString(GetEventPlayerChatString(), 9, StringLength(GetEventPlayerChatString())))
        if player_id < 1 then
            set player_id = 1
        endif
        set HB4 = player_id
        set g = OG8()
        call GroupEnumUnitsInRect(g, bj_mapInitialPlayableArea, Condition(function WN9))
        call OF8(g)
    elseif(SubString(chat_str, 0, 9) == "-lvlupfor")then
        set pl = Z17(S2I(SubString(chat_str, 9, StringLength(chat_str))))
        if((pl != null)and(KS8(pl)))then
            call SetHeroLevel(Y7[GetPlayerId(pl)], GetHeroLevel(Y7[GetPlayerId(pl)]) + 1, true)
        endif
    elseif(chat_str == "-refreshall")then
        set g = OG8()
        call GroupEnumUnitsInRect(g, bj_mapInitialPlayableArea, Condition(function WS9))
        call OF8(g)
    elseif(SubString(chat_str, 0, 6) == "-kill ")then
        set pl = Z17(S2I(SubString(chat_str, 6, StringLength(chat_str))))
        if((pl != null)and(KS8(pl)))then
            call KillUnit(Y7[GetPlayerId(pl)])
        endif
    elseif(chat_str == "-fog")then
        call FogEnable(not IsFogEnabled())
        call FogMaskEnable(not IsFogMaskEnabled())
    endif
    set g = null
    set pl = null
endfunction
function W69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer player_id = 1
    if bool_TestVersion then
        set player_id = 0
    endif
    loop
        if(KQ8(Player(player_id)))then
            call TriggerRegisterPlayerChatEvent(t, Player(player_id), "-", false)
        endif
        set player_id = player_id + 1
        exitwhen player_id > 11
    endloop
    call TriggerAddAction(t, function W39)
    set t = null
endfunction
function WL9 takes nothing returns boolean
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, "**** " + GetObjectName('n06F') + " ****")
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, GetObjectName('n076') + " -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, "**** " + GetObjectName('n06F') + " ****")
    return false
endfunction
function W19 takes nothing returns nothing
    local player OnlyPlayer = V8
    local trigger t
    local integer i
    //! textmacro W19Mac takes CHAT_STR,EXACT_MATCH
        set i = 1
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            call TriggerRegisterPlayerChatEvent(t, G8[i], "$CHAT_STR$", $EXACT_MATCH$)
            call TriggerRegisterPlayerChatEvent(t, N8[i], "$CHAT_STR$", $EXACT_MATCH$)
            set i = i + 1
        endloop
    //! endtextmacro
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, GetObjectName('n076') + " -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function WL9))
    call TriggerRegisterTimerEvent(t, GetRandomReal(60, 100), false)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-lvlup","false")
    call TriggerAddAction(t, function WO9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-spawncreeps","true")
    if bool_TestVersion then
        call TriggerRegisterPlayerChatEvent(t, Player(0), "-spawncreeps", false)
    endif
    call TriggerAddAction(t, function WR9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-refresh","true")
    call TriggerAddAction(t, function WT9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-kill","true")
    call TriggerAddAction(t, function WU9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-gold","false")
    call TriggerAddAction(t, function WV9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-time","false")
    call TriggerAddAction(t, function WJ9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-powerup","false")
    call TriggerAddAction(t, function WA9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-killall","true")
    if bool_TestVersion then
        call TriggerRegisterPlayerChatEvent(t, Player(0), "-killall", false)
    endif
    call TriggerAddAction(t, function WI9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-killsent","true")
    if bool_TestVersion then
        call TriggerRegisterPlayerChatEvent(t, Player(0), "-killsent", false)
    endif
    call TriggerAddAction(t, function WD9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-killscourge","true")
    if bool_TestVersion then
        call TriggerRegisterPlayerChatEvent(t, Player(0), "-killscourge", false)
    endif
    call TriggerAddAction(t, function W99)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-neutrals","false")
    if bool_TestVersion then
        call TriggerRegisterPlayerChatEvent(t, Player(0), "-neutrals", false)
    endif
    call TriggerAddAction(t, function WB9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-noherolimit","true")
    call TriggerAddAction(t, function W79)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-trees","true")
    if bool_TestVersion then
        call TriggerRegisterPlayerChatEvent(t, Player(0), "-trees", false)
    endif
    call TriggerAddAction(t, function WC9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-killwards","true")
    call TriggerAddAction(t, function WF9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-spawnoff","true")
    call TriggerAddAction(t, function WH9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-spawnon","true")
    call TriggerAddAction(t, function WG9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-roshan","true")
    if bool_TestVersion then
        call TriggerRegisterPlayerChatEvent(t, Player(0), "-roshan", false)
    endif
    call TriggerAddAction(t, function W49)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-respawn","true")
    call TriggerAddAction(t, function WW9)
    set t = CreateTrigger()
    //! runtextmacro W19Mac("-dummy","true")
    call TriggerAddAction(t, function WX9)
    call W69()
    set uy = true
    set t = null
endfunction
function W09 takes nothing returns boolean
    return not V
endfunction
function nt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit nT = (LoadUnitHandle(R8, (EC8), (26)))
    local integer player_id = GetPlayerId(GetOwningPlayer(nT))
    set ga_rSkillCD[player_id] = .0
    set ga_rSkillCD[16 + player_id] = .0
    set ga_rSkillCD[32 + player_id] = .0
    set ga_rSkillCD[48 + player_id] = .0
    if GetUnitTypeId(nT) != 'ncop' then
        call UnitResetCooldown(nT)
        call SetUnitManaPercentBJ(nT, 100)
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set nT = null
    return false
endfunction
function nu takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function nt))
    call SaveUnitHandle(R8, (EC8), (26), (GetTriggerUnit()))
    set t = null
endfunction
function W59 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer nv = MI8(E8) + MI8(F8)
    local integer NumRequired = IMinBJ(nv, nv / 2 + 1)
    local integer EC8 = GetHandleId(t)
    if BF4 == false then
        set PS4 = true
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60., " ")
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 90., GetObjectName('n077'))
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 90., GetObjectName('n078'))
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
        call TriggerAddAction(t, function nu)
        set t = null
        call DisableTrigger(BH)
    endif
endfunction
function W29 takes nothing returns boolean
    if J79(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit()) == false then
        call WV8(GetOwningPlayer(GetTriggerUnit()))
        call X48("Level" + I2S(GetHeroLevel(GetTriggerUnit())), GetPlayerId(GetOwningPlayer(GetTriggerUnit())))
    endif
    return false
endfunction
function nw takes nothing returns nothing
    if BF4 == false then
        call W19()
        call EA8(GetTriggeringTrigger())
    endif
endfunction
function W_9 takes nothing returns boolean
    if V == false and Ve() == false then
        call nw()
    endif
    return false
endfunction
function X49 takes nothing returns boolean
    return GetOwningPlayer(GetTriggerUnit()) == O8
endfunction
function X79 takes nothing returns nothing
    call SaveInteger(R8, (400 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))), (79), ((LoadInteger(R8, (400 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))), (79))) + 1))
endfunction
function X89 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == G8[0]then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, Z)
    elseif GetOwningPlayer(GetTriggerUnit()) == N8[0]then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, vv)
    endif
    return false
endfunction
function X99 takes nothing returns nothing
    set T7 = T7 + 1
endfunction
function XD9 takes nothing returns nothing
    set S7 = S7 + 1
endfunction
function XE9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == G8[0]then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, ev)
    endif
    return false
endfunction
function XF9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == N8[0]then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, ev)
    endif
    return false
endfunction
function XG9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == G8[0]then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, ov)
    endif
    return false
endfunction
function XH9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == N8[0]then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, ov)
    endif
    return false
endfunction
function XI9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == G8[0]then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, rv)
    endif
    return false
endfunction
function XJ9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == N8[0]then
        call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, rv)
    endif
    return false
endfunction
function XK9 takes nothing returns nothing
    local integer i = 1
    local integer id
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set id = GetPlayerId(G8[i])
        call X48("CSK" + I2S(id), C7[id])
        call X48("CSD" + I2S(id), L7[id])
        call X48("NK" + I2S(id), (LoadInteger(R8, (400 + id), (79))))
        set id = GetPlayerId(N8[i])
        call X48("CSK" + I2S(id), C7[id])
        call X48("CSD" + I2S(id), L7[id])
        call X48("NK" + I2S(id), (LoadInteger(R8, (400 + id), (79))))
        set i = i + 1
    endloop
endfunction
function XM9 takes boolean UN9 returns nothing
    local unit u
    local string XN9 = "stand work alternate"
    local string XO9 = "stand work"
    local string XP9 = "stand alternate"
    local string XQ9 = "stand"
    set u = JE4
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XN9)
        else
            call SetUnitAnimation(u, XP9)
        endif
    endif
    set u = JF4
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XN9)
        else
            call SetUnitAnimation(u, XP9)
        endif
    endif
    set u = JG4
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XN9)
        else
            call SetUnitAnimation(u, XP9)
        endif
    endif
    set u = JH4
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XN9)
        else
            call SetUnitAnimation(u, XP9)
        endif
    endif
    set u = JI4
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XN9)
        else
            call SetUnitAnimation(u, XP9)
        endif
    endif
    set u = JJ4
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XN9)
        else
            call SetUnitAnimation(u, XP9)
        endif
    endif
    set u = J04
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XO9)
        else
            call SetUnitAnimation(u, XQ9)
        endif
    endif
    set u = J54
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XO9)
        else
            call SetUnitAnimation(u, XQ9)
        endif
    endif
    set u = J24
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XO9)
        else
            call SetUnitAnimation(u, XQ9)
        endif
    endif
    set u = J_4
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XO9)
        else
            call SetUnitAnimation(u, XQ9)
        endif
    endif
    set u = K44
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XO9)
        else
            call SetUnitAnimation(u, XQ9)
        endif
    endif
    set u = K74
    if O18(u) == false then
        if UN9 then
            call SetUnitAnimation(u, XO9)
        else
            call SetUnitAnimation(u, XQ9)
        endif
    endif
    set u = null
endfunction
function XR9 takes nothing returns boolean
    call XM9(true)
    return false
endfunction
function Trig_Spawn_Conditions takes nothing returns boolean
    if(O_4)then
        return F0
    elseif(P44)then
        return gH
    elseif OL4 then
        return Fz
    elseif(X4 or VT)then
        return oH
    endif
    return U
endfunction
function XS9 takes group XT9, integer XU9 returns nothing
    local unit u
    loop
        set u = FirstOfGroup(XT9)
        exitwhen(u == null)
        call GroupRemoveUnit(XT9, u)
        call SetUnitAbilityLevel(u, A8, XU9)
    endloop
    set u = null
endfunction
function ASGO takes nothing returns nothing
    call T68(GetEnumUnit(), 'A2V1', 1, 12, 'B0H2')
endfunction
function ASHO takes nothing returns nothing
    call T68(GetEnumUnit(), 'A2V0', 1, 12, 'B0H1')
endfunction
function ASZO takes group g returns nothing
    if(TimerGetElapsed(E4)) < 7 * 60 then
        call ForGroup(g, function ASGO)
    endif
endfunction
function ASVO takes group g returns nothing
    if(TimerGetElapsed(E4)) < 7 * 60 then
        call ForGroup(g, function ASHO)
    endif
endfunction
function CreateNMinionsAtLoc takes integer count, integer unitId, player whichPlayer, location loc returns nothing
    local integer newGoldBase
    call GroupClear(bj_lastCreatedGroup)
    loop
        set count = count - 1
        exitwhen count < 0
        set bj_lastCreatedUnit = CreateUnitAtLoc(whichPlayer, unitId, loc, bj_UNIT_FACING)
        set newGoldBase = BlzGetUnitIntegerField(bj_lastCreatedUnit, UNIT_IF_GOLD_BOUNTY_AWARDED_BASE) + 1 * GetTriggerExecCount(KS)
        call BlzSetUnitIntegerField(bj_lastCreatedUnit, UNIT_IF_GOLD_BOUNTY_AWARDED_BASE, newGoldBase)
        call GroupAddUnit(bj_lastCreatedGroup, bj_lastCreatedUnit)
    endloop
endfunction
function XV9 takes nothing returns nothing
    local boolean XW9 = ModuloInteger(GetTriggerExecCount(JS), 7) == 0
    if B4 then
        return
    endif
    call XM9(false)
    if XW9 then
        call XK9()
    endif
    if GetTriggerExecCount(JS) == 1 and P94 == false then
        call UnitResetCooldown(KR4[1])
        call UnitResetCooldown(KR4[2])
        call UnitResetCooldown(KR4[3])
        call UnitResetCooldown(KR4[4])
        call UnitResetCooldown(KR4[5])
        call UnitResetCooldown(KR4[7])
        call UnitResetCooldown(KR4[8])
        call UnitResetCooldown(KR4[9])
        call UnitResetCooldown(KR4[10])
        call UnitResetCooldown(KR4[11])
        call T49(IZ4, false)
        call T49(I34, false)
        call T49(IL4, false)
        call T49(JW4, false)
        call T49(JX4, false)
        call T49(JY4, false)
    elseif GetTriggerExecCount(JS) == 1 and P94 then
        call T49(I34, false)
        call T49(JX4, false)
    endif
    if GetTriggerExecCount(JS) == 1 then
        call EnableTrigger(ML4)
    endif
    if P94 == false and PF4 == false then
        if(Rv)then
            call CreateNMinionsAtLoc(S7, 'ugho', N8[0], lv)
        else
            call CreateNMinionsAtLoc(S7, 'u001', N8[0], lv)
        endif
        call ASZO(bj_lastCreatedGroup)
        call XS9(bj_lastCreatedGroup, 2)
    endif
    if PE4 == false then
        if(Av)then
            call CreateNMinionsAtLoc(S7, 'ugho', N8[0], Jv)
        else
            call CreateNMinionsAtLoc(S7, 'u001', N8[0], Jv)
        endif
        call XS9(bj_lastCreatedGroup, 3)
    endif
    if P94 == false and PD4 == false then
        if(Nv)then
            call CreateNMinionsAtLoc(S7, 'ugho', N8[0], Lv)
        else
            call CreateNMinionsAtLoc(S7, 'u001', N8[0], Lv)
        endif
        call ASVO(bj_lastCreatedGroup)
        call XS9(bj_lastCreatedGroup, 4)
    endif
    if P94 == false and PF4 == false then
        if(av)then
            call CreateNMinionsAtLoc(T7, 'unec', N8[0], qv)
        else
            call CreateNMinionsAtLoc(T7, 'u002', N8[0], qv)
        endif
        call ASZO(bj_lastCreatedGroup)
        call XS9(bj_lastCreatedGroup, 2)
    endif
    if PE4 == false then
        if(Ev)then
            call CreateNMinionsAtLoc(T7, 'unec', N8[0], mv)
        else
            call CreateNMinionsAtLoc(T7, 'u002', N8[0], mv)
        endif
        call XS9(bj_lastCreatedGroup, 3)
    endif
    if P94 == false and PD4 == false then
        if(Ov)then
            call CreateNMinionsAtLoc(T7, 'unec', N8[0], pv)
        else
            call CreateNMinionsAtLoc(T7, 'u002', N8[0], pv)
        endif
        call ASVO(bj_lastCreatedGroup)
        call XS9(bj_lastCreatedGroup, 4)
    endif
    if XW9 then
        if P94 == false and PF4 == false then
            if(av)then
                call CreateNMinionsAtLoc(T7, 'umtw', N8[0], qv)
            else
                call CreateNMinionsAtLoc(T7, 'u00R', N8[0], qv)
            endif
            call XS9(bj_lastCreatedGroup, 2)
        endif
        if PE4 == false then
            if(Ev)then
                call CreateNMinionsAtLoc(T7, 'umtw', N8[0], mv)
            else
                call CreateNMinionsAtLoc(T7, 'u00R', N8[0], mv)
            endif
            call XS9(bj_lastCreatedGroup, 3)
        endif
        if P94 == false and PD4 == false then
            if(Ov)then
                call CreateNMinionsAtLoc(T7, 'umtw', N8[0], pv)
            else
                call CreateNMinionsAtLoc(T7, 'u00R', N8[0], pv)
            endif
            call XS9(bj_lastCreatedGroup, 4)
        endif
    endif
    if P94 == false and PF4 == false then
        if(Cv)then
            call CreateNMinionsAtLoc(S7, 'esen', G8[0], tv)
        else
            call CreateNMinionsAtLoc(S7, 'e00V', G8[0], tv)
        endif
        call ASVO(bj_lastCreatedGroup)
        call XS9(bj_lastCreatedGroup, 2)
    endif
    if PE4 == false then
        if(Dv)then
            call CreateNMinionsAtLoc(S7, 'esen', G8[0], Qv)
        else
            call CreateNMinionsAtLoc(S7, 'e00V', G8[0], Qv)
        endif
        call XS9(bj_lastCreatedGroup, 3)
    endif
    if P94 == false and PD4 == false then
        if(fv)then
            call CreateNMinionsAtLoc(S7, 'esen', G8[0], sv)
        else
            call CreateNMinionsAtLoc(S7, 'e00V', G8[0], sv)
        endif
        call ASZO(bj_lastCreatedGroup)
        call XS9(bj_lastCreatedGroup, 4)
    endif
    if P94 == false and PF4 == false then
        if(O7)then
            call CreateNMinionsAtLoc(T7, 'edry', G8[0], U7)
        else
            call CreateNMinionsAtLoc(T7, 'e00W', G8[0], U7)
        endif
        call ASVO(bj_lastCreatedGroup)
        call XS9(bj_lastCreatedGroup, 2)
    endif
    if PE4 == false then
        if(Bv)then
            call CreateNMinionsAtLoc(T7, 'edry', G8[0], Tv)
        else
            call CreateNMinionsAtLoc(T7, 'e00W', G8[0], Tv)
        endif
        call XS9(bj_lastCreatedGroup, 3)
    endif
    if P94 == false and PD4 == false then
        if(P7)then
            call CreateNMinionsAtLoc(T7, 'edry', G8[0], Uv)
        else
            call CreateNMinionsAtLoc(T7, 'e00W', G8[0], Uv)
        endif
        call ASZO(bj_lastCreatedGroup)
        call XS9(bj_lastCreatedGroup, 4)
    endif
    if XW9 then
        if P94 == false and PF4 == false then
            if(O7)then
                call CreateNMinionsAtLoc(T7, 'ebal', G8[0], U7)
            else
                call CreateNMinionsAtLoc(T7, 'e026', G8[0], U7)
            endif
            call XS9(bj_lastCreatedGroup, 2)
        endif
        if PE4 == false then
            if(Bv)then
                call CreateNMinionsAtLoc(T7, 'ebal', G8[0], Tv)
            else
                call CreateNMinionsAtLoc(T7, 'e026', G8[0], Tv)
            endif
            call XS9(bj_lastCreatedGroup, 3)
        endif
        if P94 == false and PD4 == false then
            if(P7)then
                call CreateNMinionsAtLoc(T7, 'ebal', G8[0], Uv)
            else
                call CreateNMinionsAtLoc(T7, 'e026', G8[0], Uv)
            endif
            call XS9(bj_lastCreatedGroup, 4)
        endif
    endif
endfunction
function XX9 takes nothing returns nothing
    set av = false
    call DisableTrigger(cA)
    call X48("Rax" + I2S(0) + I2S(0) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 1)
endfunction
function XY9 takes nothing returns nothing
    set Ev = false
    call DisableTrigger(CA)
    call X48("Rax" + I2S(0) + I2S(1) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 1)
endfunction
function XZ9 takes nothing returns nothing
    set Ov = false
    call DisableTrigger(dA)
    call X48("Rax" + I2S(0) + I2S(2) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 1)
endfunction
function XA9 takes nothing returns nothing
    set Rv = false
    call DisableTrigger(DA)
    call X48("Rax" + I2S(0) + I2S(0) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 2)
endfunction
function XB9 takes nothing returns nothing
    set Av = false
    call DisableTrigger(fA)
    call X48("Rax" + I2S(0) + I2S(1) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 2)
endfunction
function XC9 takes nothing returns nothing
    set Nv = false
    call DisableTrigger(FA)
    call X48("Rax" + I2S(0) + I2S(2) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 2)
endfunction
function X39 takes nothing returns nothing
    set O7 = false
    call DisableTrigger(gA)
    call X48("Rax" + I2S(1) + I2S(0) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 1)
endfunction
function X69 takes nothing returns nothing
    set Bv = false
    call DisableTrigger(GA)
    call X48("Rax" + I2S(1) + I2S(1) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 1)
endfunction
function XL9 takes nothing returns nothing
    set P7 = false
    call DisableTrigger(LA)
    call X48("Rax" + I2S(1) + I2S(2) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 1)
endfunction
function X19 takes nothing returns nothing
    set Cv = false
    call DisableTrigger(mA)
    call X48("Rax" + I2S(1) + I2S(0) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 2)
endfunction
function X09 takes nothing returns nothing
    set Dv = false
    call DisableTrigger(MA)
    call X48("Rax" + I2S(1) + I2S(1) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 2)
endfunction
function X59 takes nothing returns nothing
    set fv = false
    call DisableTrigger(PA)
    call X48("Rax" + I2S(1) + I2S(2) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
    call AR6I(GetKillingUnit(), 2)
endfunction
function X29 takes nothing returns boolean
    local real X_9 = GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) / GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE)
    if X_9 < .75 and iW == false then
        set iW = true
        call X48("Tree", 75)
    endif
    if X_9 < .5 and rW == false then
        set rW = true
        call X48("Tree", 50)
    endif
    if X_9 < .25 and oW == false then
        set oW = true
        call X48("Tree", 25)
    endif
    if X_9 < .1 and eW == false then
        set eW = true
        call X48("Tree", 10)
    endif
    return false
endfunction
function Y49 takes nothing returns boolean
    local real X_9 = GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) / GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE)
    if X_9 < .75 and vW == false then
        set vW = true
        call X48("Throne", 75)
    endif
    if X_9 < .5 and zw == false then
        set zw = true
        call X48("Throne", 50)
    endif
    if X_9 < .25 and Uw == false then
        set Uw = true
        call X48("Throne", 25)
    endif
    if X_9 < .1 and tw == false then
        set tw = true
        call X48("Throne", 10)
    endif
    return false
endfunction
function Y79 takes nothing returns boolean
    return( not(Cv or Dv or fv or O7 or Bv or P7))
endfunction
function Y89 takes nothing returns nothing
    call NN8(bj_FORCE_ALL_PLAYERS, 20., (GetObjectName(('n04O'))) + " " + (GetObjectName(('n0C7'))))
    call SetPlayerTechResearchedSwap('R00D', (GetPlayerTechCountSimple('R00D', G8[0]) + 30), G8[0])
    call SetPlayerTechResearchedSwap('R00C', (GetPlayerTechCountSimple('R00C', G8[0]) + 30), G8[0])
    call DisableTrigger(SA)
endfunction
function Y99 takes nothing returns boolean
    if(Rv or Av or Nv or av or Ev or Ov)then
        return false
    endif
    return true
endfunction
function YD9 takes nothing returns nothing
    call NN8(bj_FORCE_ALL_PLAYERS, 20., (GetObjectName(('n04X'))) + " " + (GetObjectName(('n0C9'))))
    call SetPlayerTechResearchedSwap('R009', (GetPlayerTechCountSimple('R009', N8[0]) + 30), N8[0])
    call SetPlayerTechResearchedSwap('R00B', (GetPlayerTechCountSimple('R00B', N8[0]) + 30), N8[0])
    call DisableTrigger(TA)
endfunction
function YE9 takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R007', (GetPlayerTechCountSimple('R007', G8[0]) + 1), G8[0])
    call SetPlayerTechResearchedSwap('R00C', (GetPlayerTechCountSimple('R00C', G8[0]) + 1), G8[0])
    call SetPlayerTechResearchedSwap('R008', (GetPlayerTechCountSimple('R008', G8[0]) + 1), G8[0])
    call SetPlayerTechResearchedSwap('R00D', (GetPlayerTechCountSimple('R00D', G8[0]) + 1), G8[0])
    call SetPlayerTechResearchedSwap('R009', (GetPlayerTechCountSimple('R009', N8[0]) + 1), N8[0])
    call SetPlayerTechResearchedSwap('R003', (GetPlayerTechCountSimple('R003', N8[0]) + 1), N8[0])
    call SetPlayerTechResearchedSwap('R00A', (GetPlayerTechCountSimple('R00A', N8[0]) + 1), N8[0])
    call SetPlayerTechResearchedSwap('R00B', (GetPlayerTechCountSimple('R00B', N8[0]) + 1), N8[0])
endfunction
function YF9 takes nothing returns nothing
    local location YG9 = GetRectCenter(KE)
    call RemoveUnit(CreateUnitAtLoc(O8, 'nbdo', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nbds', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'ngst', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'n026', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nggr', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nbdk', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nbwm', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nogm', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nomg', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nfpc', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nfpu', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nsth', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nstl', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nsat', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nwlg', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nkol', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nkob', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nkot', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'ncnk', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'ncen', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'ngns', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nftb', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nfsh', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'ngh1', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'npfl', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nowe', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nowb', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nmrm', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nmrr', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'nmrl', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'ndtr', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'ndtw', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'n0LC', YG9, bj_UNIT_FACING))
    call RemoveUnit(CreateUnitAtLoc(O8, 'n0LD', YG9, bj_UNIT_FACING))
    call RemoveLocation(YG9)
    set YG9 = null
endfunction
function AR1O takes integer AROO, integer AG0O, integer AR2O returns integer
    local integer AR3O = AS30[AROO]
    local integer AR4O = GetRandomInt(AG0O, AR2O)
    loop
        exitwhen AR3O != AR4O
        set AR4O = GetRandomInt(AG0O, AR2O)
    endloop
    set AS30[AROO] = AR4O
    return AR4O
endfunction
function YH9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'n0HW', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'n0HX', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'n0HW', x, y, 0), x, y)
endfunction
function YI9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'njg1', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'njg1', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'njga', x, y, 0), x, y)
endfunction
function YJ9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nbdo', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nbdo', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nbds', x, y, 0), x, y)
endfunction
function YK9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nbdk', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nbdk', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nbwm', x, y, 0), x, y)
endfunction
function YM9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'ngst', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'ngst', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nggr', x, y, 0), x, y)
endfunction
function YN9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'n0LC', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'n0LD', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'n0LD', x, y, 0), x, y)
endfunction
function YO9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nogm', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nogm', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nomg', x, y, 0), x, y)
endfunction
function YP9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nfpc', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nfpu', x, y, 0), x, y)
endfunction
function YQ9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nsth', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nstl', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nsat', x, y, 0), x, y)
endfunction
function YR9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nstl', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nstl', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nsat', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nsat', x, y, 0), x, y)
endfunction
function YS9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nwlg', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nwlg', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'n00S', x, y, 0), x, y)
endfunction
function YT9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'n026', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'n026', x, y, 0), x, y)
endfunction
function YU9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nkol', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nkob', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nkob', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nkob', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nkot', x, y, 0), x, y)
endfunction
function YV9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nftb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nftb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nfsh', x, y, 0), x, y)
endfunction
function YW9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'ncen', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'ncnk', x, y, 0), x, y)
endfunction
function YX9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'ngns', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'ngns', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'ngns', x, y, 0), x, y)
endfunction
function YY9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nftb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nftb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nkol', x, y, 0), x, y)
endfunction
function YZ9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'ngh1', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'npfl', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'npfl', x, y, 0), x, y)
endfunction
function YA9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'nowe', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nowb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'nowb', x, y, 0), x, y)
endfunction
function YB9 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(O8, 'ndtr', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'ndtr', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(O8, 'ndtw', x, y, 0), x, y)
endfunction
function YC9 takes real x, real y returns nothing
    local integer D5 = AR1O(3, 1, 5)
    if D5 == 1 then
        call YP9(x, y)
    elseif D5 == 2 then
        call YQ9(x, y)
    elseif D5 == 3 then
        call YA9(x, y)
    elseif D5 == 4 then
        call YB9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Y39 takes real x, real y returns nothing
    local integer D5 = AR1O(12, 1, 5)
    if D5 == 1 then
        call YP9(x, y)
    elseif D5 == 2 then
        call YQ9(x, y)
    elseif D5 == 3 then
        call YA9(x, y)
    elseif D5 == 4 then
        call YB9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Y69 takes real x, real y returns nothing
    local integer D5 = AR1O(4, 1, 5)
    if D5 == 1 then
        call YP9(x, y)
    elseif D5 == 2 then
        call YQ9(x, y)
    elseif D5 == 3 then
        call YA9(x, y)
    elseif D5 == 4 then
        call YB9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function YL9 takes real x, real y returns nothing
    local integer D5 = AR1O(9, 1, 5)
    if D5 == 1 then
        call YP9(x, y)
    elseif D5 == 2 then
        call YQ9(x, y)
    elseif D5 == 3 then
        call YA9(x, y)
    elseif D5 == 4 then
        call YB9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Y19 takes real x, real y returns nothing
    local integer D5 = AR1O(6, 1, 6)
    if D5 == 1 then
        call YT9(x, y)
    elseif D5 == 2 then
        call YO9(x, y)
    elseif D5 == 3 then
        call YR9(x, y)
    elseif D5 == 4 then
        call YS9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Y09 takes real x, real y returns nothing
    local integer D5 = AR1O(5, 1, 6)
    if D5 == 1 then
        call YT9(x, y)
    elseif D5 == 2 then
        call YO9(x, y)
    elseif D5 == 3 then
        call YR9(x, y)
    elseif D5 == 4 then
        call YS9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Y59 takes real x, real y returns nothing
    local integer D5 = AR1O(7, 1, 5)
    if D5 == 1 then
        call YT9(x, y)
    elseif D5 == 2 then
        call YO9(x, y)
    elseif D5 == 3 then
        call YR9(x, y)
    elseif D5 == 4 then
        call YS9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Y29 takes real x, real y returns nothing
    local integer D5 = AR1O(8, 1, 5)
    if D5 == 1 then
        call YT9(x, y)
    elseif D5 == 2 then
        call YO9(x, y)
    elseif D5 == 3 then
        call YR9(x, y)
    elseif D5 == 4 then
        call YS9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Y_9 takes real x, real y returns nothing
    local integer D5 = AR1O(10, 1, 5)
    if D5 == 1 then
        call YZ9(x, y)
    elseif D5 == 2 then
        call YY9(x, y)
    elseif D5 == 3 then
        call YX9(x, y)
    elseif D5 == 4 then
        call YU9(x, y)
    elseif D5 == 5 then
        call YV9(x, y)
    elseif D5 == 6 then
        call YH9(x, y)
    endif
endfunction
function Z49 takes real x, real y returns nothing
    local integer D5 = AR1O(11, 1, 5)
    if D5 == 1 then
        call YZ9(x, y)
    elseif D5 == 2 then
        call YY9(x, y)
    elseif D5 == 3 then
        call YX9(x, y)
    elseif D5 == 4 then
        call YU9(x, y)
    elseif D5 == 5 then
        call YV9(x, y)
    elseif D5 == 6 then
        call YH9(x, y)
    endif
endfunction
function Z79 takes real x, real y returns nothing
    local integer D5 = AR1O(1, 1, 5)
    if D5 == 1 then
        call YI9(x, y)
    elseif D5 == 2 then
        call YJ9(x, y)
    elseif D5 == 3 then
        call YK9(x, y)
    elseif D5 == 4 then
        call YM9(x, y)
    elseif D5 == 5 then
        call YN9(x, y)
    endif
endfunction
function Z89 takes real x, real y returns nothing
    local integer D5 = AR1O(2, 1, 5)
    if D5 == 1 then
        call YI9(x, y)
    elseif D5 == 2 then
        call YJ9(x, y)
    elseif D5 == 3 then
        call YK9(x, y)
    elseif D5 == 4 then
        call YM9(x, y)
    elseif D5 == 5 then
        call YN9(x, y)
    endif
endfunction
function Neutral7ScrgSpawn takes real x, real y returns nothing
    local integer D5 = AR1O(13, 1, 5)
    if D5 == 1 then
        call YP9(x, y)
    elseif D5 == 2 then
        call YQ9(x, y)
    elseif D5 == 3 then
        call YA9(x, y)
    elseif D5 == 4 then
        call YB9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Neutral7SentSpawn takes real x, real y returns nothing
    local integer D5 = AR1O(14, 1, 5)
    if D5 == 1 then
        call YP9(x, y)
    elseif D5 == 2 then
        call YQ9(x, y)
    elseif D5 == 3 then
        call YA9(x, y)
    elseif D5 == 4 then
        call YB9(x, y)
    elseif D5 == 5 then
        call YW9(x, y)
    endif
endfunction
function Z99 takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A0P4') != 0 then
        call GroupRemoveUnit(C8, GetEnumUnit())
    endif
    if O18(GetEnumUnit()) then
        call GroupRemoveUnit(C8, GetEnumUnit())
    endif
    if ZS7(GetEnumUnit()) then
        call GroupRemoveUnit(C8, GetEnumUnit())
    endif
endfunction
function ZD9 takes group g returns boolean
    set C8 = g
    call ForGroup(g, function Z99)
    return FirstOfGroup(g) == null
endfunction
function ZE9 takes nothing returns boolean
    local group g
    local rect r1
    local rect r2
    if oy == false then
        return false
    endif
    set r1 = Sr
    set r2 = Br
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Z79(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = Ur
    set r2 = cr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Z89(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = Wr
    set r2 = Cr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call YC9(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = zr
    set r2 = fr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Y69(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = Zr
    set r2 = Fr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Z49(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = vi
    set r2 = Hr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Y_9(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = ei
    set r2 = jr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Y59(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = oi
    set r2 = Jr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Y29(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = xi
    set r2 = lr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call YL9(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = ai
    set r2 = mr
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Y19(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = Ai
    set r2 = Ni
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Y09(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = bi
    set r2 = Bi
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Y39(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = rect_neutral_7_scrg_respawn
    set r2 = rect_neutral_7_scrg
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Neutral7ScrgSpawn(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = rect_neutral_7_sent_respawn
    set r2 = rect_neutral_7_sent
    set g = OG8()
    call GroupEnumUnitsInRect(g, r1, Condition(function KF8))
    if ZD9(g)then
        call Neutral7SentSpawn(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call OF8(g)
    set r1 = null
    set r2 = null
    set g = null
    return false
endfunction
function ZF9 takes nothing returns nothing
    local integer MV8 = GetRandomInt(1, 9)
    local location l
    if P94 then
        set MV8 = GetRandomInt(1, 3)
        if MV8 == 1 then
            set MV8 = 2
        endif
        if MV8 == 2 then
            set MV8 = 5
        endif
        if MV8 == 3 then
            set MV8 = 8
        endif
    endif
    if(MV8 == 1)then
        set l = GetRectCenter(BE)
        call CreateNUnitsAtLoc(1, 'n003', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n051'))))
        call XS9(bj_lastCreatedGroup, 4)
        call RemoveLocation(l)
    endif
    if(MV8 == 2)then
        set l = GetRectCenter(bE)
        call CreateNUnitsAtLoc(1, 'n003', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n052'))))
        call XS9(bj_lastCreatedGroup, 2)
        call RemoveLocation(l)
    endif
    if(MV8 == 3)then
        set l = GetRectCenter(AE)
        call CreateNUnitsAtLoc(1, 'n003', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n053'))))
        call XS9(bj_lastCreatedGroup, 3)
        call RemoveLocation(l)
    endif
    if(MV8 == 4)then
        set l = GetRectCenter(BE)
        call CreateNUnitsAtLoc(1, 'n00E', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n058'))))
        call XS9(bj_lastCreatedGroup, 4)
        call RemoveLocation(l)
    endif
    if(MV8 == 5)then
        set l = GetRectCenter(bE)
        call CreateNUnitsAtLoc(1, 'n00E', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n04Z'))))
        call XS9(bj_lastCreatedGroup, 2)
        call RemoveLocation(l)
    endif
    if(MV8 == 6)then
        set l = GetRectCenter(AE)
        call CreateNUnitsAtLoc(1, 'n00E', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n057'))))
        call XS9(bj_lastCreatedGroup, 3)
        call RemoveLocation(l)
    endif
    if(MV8 == 7)and P94 == false then
        set l = GetRectCenter(BE)
        call CreateNUnitsAtLoc(1, 'n00D', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n056'))))
        call XS9(bj_lastCreatedGroup, 4)
        call RemoveLocation(l)
    endif
    if(MV8 == 8)and P94 == false then
        set l = GetRectCenter(bE)
        call CreateNUnitsAtLoc(1, 'n00D', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n04T'))))
        call XS9(bj_lastCreatedGroup, 2)
        call RemoveLocation(l)
    endif
    if(MV8 == 9)then
        set l = GetRectCenter(AE)
        call CreateNUnitsAtLoc(1, 'n00D', G8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n05C'))))
        call XS9(bj_lastCreatedGroup, 3)
        call RemoveLocation(l)
    endif
    if(MV8 == 1)then
        set l = GetRectCenter(OE)
        call CreateNUnitsAtLoc(1, 'n003', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CD'))))
        call XS9(bj_lastCreatedGroup, 4)
        call RemoveLocation(l)
    endif
    if(MV8 == 2)then
        set l = GetRectCenter(XE)
        call CreateNUnitsAtLoc(1, 'n003', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CE'))))
        call XS9(bj_lastCreatedGroup, 2)
        call RemoveLocation(l)
    endif
    if(MV8 == 3)then
        set l = GetRectCenter(IE)
        call CreateNUnitsAtLoc(1, 'n003', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CC'))))
        call XS9(bj_lastCreatedGroup, 3)
        call RemoveLocation(l)
    endif
    if(MV8 == 4)then
        set l = GetRectCenter(OE)
        call CreateNUnitsAtLoc(1, 'n00E', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CG'))))
        call XS9(bj_lastCreatedGroup, 4)
        call RemoveLocation(l)
    endif
    if(MV8 == 5)then
        set l = GetRectCenter(XE)
        call CreateNUnitsAtLoc(1, 'n00E', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CH'))))
        call XS9(bj_lastCreatedGroup, 2)
        call RemoveLocation(l)
    endif
    if(MV8 == 6)then
        set l = GetRectCenter(IE)
        call CreateNUnitsAtLoc(1, 'n00E', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CF'))))
        call XS9(bj_lastCreatedGroup, 3)
        call RemoveLocation(l)
    endif
    if(MV8 == 7)then
        set l = GetRectCenter(OE)
        call CreateNUnitsAtLoc(1, 'n00D', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CJ'))))
        call XS9(bj_lastCreatedGroup, 4)
        call RemoveLocation(l)
    endif
    if(MV8 == 8)then
        set l = GetRectCenter(XE)
        call CreateNUnitsAtLoc(1, 'n00D', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CK'))))
        call XS9(bj_lastCreatedGroup, 2)
        call RemoveLocation(l)
    endif
    if(MV8 == 9)then
        set l = GetRectCenter(IE)
        call CreateNUnitsAtLoc(1, 'n00D', N8[0], l, bj_UNIT_FACING)
        call NN8(bj_FORCE_ALL_PLAYERS, 10., (GetObjectName(('n0CI'))))
        call XS9(bj_lastCreatedGroup, 3)
        call RemoveLocation(l)
    endif
    set l = null
endfunction
function T39 takes nothing returns nothing
    local integer x = 1
    local player p
    loop
        exitwhen x >= bj_MAX_PLAYER_SLOTS
        if AV7(Y7[x], BU[E2]) != null then
            call RemoveUnit(OX4[GetPlayerId(GetOwningPlayer(Y7[x]))])
        endif
        set x = x + 1
    endloop
endfunction
function ZG9 takes nothing returns boolean
    return IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and XC8(GetUnitTypeId(GetFilterUnit())) == false and AV7(GetTriggerUnit(), BU[E2]) != null
endfunction
function ZH9 takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') != 1 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1
endfunction
function ZI9 takes nothing returns nothing
    call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + Y8)
    call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BloodstoneHealTarget.mdx", GetEnumUnit(), "origin"))
endfunction
function ZJ9 takes nothing returns nothing
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 1700, Condition(function ZH9))
    set Y8 = 500 + 30 * GetItemCharges(AV7(GetTriggerUnit(), BU[E2]))
    call ForGroup(g, function ZI9)
    call OF8(g)
    set g = null
endfunction
function ZK9 takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'H00M', GetUnitX(N28), GetUnitY(N28), GetUnitFacing(N28))
    set OX4[GetPlayerId(GetOwningPlayer(N28))] = AC7
    call ZJ9()
    set AC7 = null
    set N28 = null
endfunction
function ZM9 takes unit u returns nothing
    local integer ZN9 = GetItemCharges(AV7(u, BU[E2]))
    if ZN9 > 0 then
        call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + ZN9)
    endif
endfunction
function ZO9 takes nothing returns boolean
    local integer i = 1
    local unit N28
    local integer id
    if GA4 > 0 then
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            set id = GetPlayerId(G8[i])
            set N28 = Y7[id]
            if SO4[id] > 0 and N28 != null and GetUnitTypeId(N28) > 1 and IsUnitType(N28, UNIT_TYPE_DEAD) == false then
                call ZM9(N28)
            endif
            set id = GetPlayerId(N8[i])
            set N28 = Y7[id]
            if SO4[id] > 0 and N28 != null and GetUnitTypeId(N28) > 1 and IsUnitType(N28, UNIT_TYPE_DEAD) == false then
                call ZM9(N28)
            endif
            set i = i + 1
        endloop
    endif
    set N28 = null
    return false
endfunction
function ZP9 takes unit u, real d returns boolean
    if IsUnitType(u, UNIT_TYPE_HERO)or GetUnitAbilityLevel(u, 'A04R') > 0 then
        return d > 5
    endif
    return true
endfunction
function ZQ9 takes nothing returns nothing
    local unit oA
    if ANC0 > 0 then
        set ANC0 = ANC0 - 1
        set oA = CreateUnit(GetOwningPlayer(XR4), 'e00E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
        call UnitAddAbility(oA, 'A0K6')
        call IssueTargetOrder(oA, "forkedlightning", GetEnumUnit())
    endif
    set oA = null
endfunction
function ZR9 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AC7
    local unit Z77
    local group g
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call ASCI(GetTriggerUnit(), 4257, 1)
        set Z77 = (LoadUnitHandle(R8, (EC8), (2)))
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
        call UnitAddAbility(AC7, 'A0K6')
        set XR4 = Z77
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 925, Condition(function GenericCondition_EnemyUnitsEx))
        set ANC0 = 5
        if Z47(GetTriggerUnit(), GetEventDamageSource()) < 900 then
            set ANC0 = ANC0 - 1
            call IssueTargetOrder(AC7, "forkedlightning", GetEventDamageSource())
        endif
        call GroupRemoveUnit(g, GetEventDamageSource())
        call ForGroup(g, function ZQ9)
        call OF8(g)
        set g = null
    endif
    set t = null
    set AC7 = null
    set Z77 = null
endfunction
function ZT9 takes nothing returns boolean
    if(GetTriggerEventId() == EVENT_UNIT_DAMAGED and ZP9(GetEventDamageSource(), GetEventDamage())and GetRandomInt(1, 100) < 21 and ((LoadInteger(R8, (GetHandleId((GetTriggerUnit()))), ((4257)))) == 1) == false)or GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call ZR9()
    endif
    return false
endfunction
function ZS9 takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    if target == null then
        set target = Z77
    endif
    call ASCI(target, 4279, 15)
    call TriggerRegisterTimerEvent(t, 15., false)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function ZT9))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl", target, "origin")))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    set t = null
    set Z77 = null
    set target = null
endfunction
function ZU9 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0JL' and((LoadInteger(R8, (GetHandleId((GetSpellTargetUnit()))), ((4279)))) == 1) == false then
        call ZS9()
    endif
endfunction
function IsRuneOrDummyItem takes integer i returns boolean
    return i == 'I006' or i == 'I008' or i == 'I00J' or i == 'I00K' or i == 'I007' or i == 'I0RC' or i == 'I0V8' or i == 'I00E' or i == 'I02M' or i == 'I0HM' or i == 'I0KK'
endfunction
function ZV9 takes integer i returns boolean
    return i == 'I006' or i == 'I008' or i == 'I00J' or i == 'I00K' or i == 'I007' or i == 'I0RC' or i == 'I0V8'
endfunction
function AW2O takes nothing returns boolean
    if IsUnitType(GetEventDamageSource(), UNIT_TYPE_MELEE_ATTACKER) == true then
        call BlzSetEventDamage(GetEventDamage() * 1.5)
    endif
    return false
endfunction
function ZW9 takes nothing returns boolean
    if GetIssuedOrderId() == 851971 then
        if GetOrderTargetItem() != null and ZV9(GetItemTypeId(GetOrderTargetItem()))then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0LU'))
        endif
    endif
    return false
endfunction
function ZX9 takes unit ZY9 returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, ZY9, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerAddCondition(t, Condition(function ZW9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, ZY9, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function AW2O))
    set t = null
endfunction
function ZZ9 takes player p returns integer
    local integer r = GetRandomInt(1, 6)
    if KN8(p)then
        if r == 1 then
            return WC4
        elseif r == 2 then
            return W34
        elseif r == 3 then
            return W64
        elseif r == 4 then
            return WL4
        elseif r == 5 then
            return W14
        else
            return W04
        endif
    else
        if r == 1 then
            return W24
        elseif r == 2 then
            return W_4
        elseif r == 3 then
            return X44
        elseif r == 4 then
            return X74
        elseif r == 5 then
            return X84
        else
            return X94
        endif
    endif
    return 0
endfunction
function ZA9 takes player p returns integer
    if GetRandomInt(1, 3) == 1 then
        return XI4
    elseif KN8(p)then
        return WB4
    else
        return W54
    endif
    return 0
endfunction
function ZB9 takes nothing returns nothing
    local unit ZC9 = BlzCreateUnitWithSkin(GetOwningPlayer(GetTriggerUnit()), WC4, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()), ZZ9(GetOwningPlayer(GetTriggerUnit())))
    local real x = GetUnitX(GetTriggerUnit())
    local real y = GetUnitY(GetTriggerUnit())
    local real a = GetUnitFacing(GetTriggerUnit())
    call SX9(ZC9)
    call SetUnitPosition(ZC9, x + 25 * Cos(a * bj_DEGTORAD), y + 25 * Sin(a * bj_DEGTORAD))
    if KT[GetPlayerId(GetOwningPlayer(ZC9))] == false then
        call UnitRemoveType(ZC9, UNIT_TYPE_PEON)
    else
        call UnitAddType(ZC9, UNIT_TYPE_PEON)
    endif
    set ZC9 = null
endfunction
function Z69 takes unit Z77 returns nothing
    local real x
    local real y
    if GetPlayerTeam(GetOwningPlayer(Z77)) == 0 then
        set x = GetRectCenterX(QD)
        set y = GetRectCenterY(QD)
    else
        set x = GetRectCenterX(PD)
        set y = GetRectCenterY(PD)
    endif
    call IssuePointOrderById(Z77, 851986, x, y)
    // call DT8(GetHandleId(Z77), "aiCrow|Away", false)
endfunction
function A49 takes nothing returns nothing
    local unit ZC9 = BlzCreateUnitWithSkin(GetOwningPlayer(GetTriggerUnit()), WB4, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()), ZA9(GetOwningPlayer(GetTriggerUnit())))
    call SX9(ZC9)
    if KT[GetPlayerId(GetOwningPlayer(ZC9))] == false then
        call UnitRemoveType(ZC9, UNIT_TYPE_PEON)
    else
        call UnitAddType(ZC9, UNIT_TYPE_PEON)
    endif
    call ZX9(ZC9)
    set ZC9 = null
endfunction
function A79 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0B6' then
        call ZB9()
    elseif GetSpellAbilityId() == 'A0JT' then
        call A49()
    endif
endfunction
function AM3O takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local real AH71 = (LoadReal(R8, (EC8), (6)))
    local real AH81 = (LoadReal(R8, (EC8), (7)))
    call AH61(p5, AH71, AH81, 650)
    call SaveReal(R8, (EC8), (6), ((GetUnitX(p5))))
    call SaveReal(R8, (EC8), (7), ((GetUnitY(p5))))
    if GetUnitAbilityLevel(p5, 'B074') == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    return false
endfunction
function AM4O takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.005, true)
    call TriggerAddCondition(t, Condition(function AM3O))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    set t = null
    set p5 = null
endfunction
function AM5O takes nothing returns nothing
    if GetSpellAbilityId() == 'A0JZ' then
        call AM4O()
    endif
endfunction
function AW9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit ZC9 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer AX9 = BlzGetUnitSkin(ZC9)
    local integer A99
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    if ZC9 == null or O18(ZC9)then
        return false
    endif
    if AX9 == WC4 then
        set A99 = W64
    elseif AX9 == W34 then
        set A99 = W_4
    elseif AX9 == W64 then
        set A99 = W34
    elseif AX9 == W24 then
        set A99 = X44
    elseif AX9 == W_4 then
        set A99 = W24
    elseif AX9 == X44 then
        set A99 = W04
    elseif AX9 == WL4 then
        set A99 = W14
    elseif AX9 == W14 then
        set A99 = X74
    elseif AX9 == X74 then
        set A99 = X84
    elseif AX9 == X84 then
        set A99 = W_4
    elseif AX9 == W04 then
        set A99 = X94
    elseif AX9 == X94 then
        set A99 = WC4
    endif
    if GetRandomInt(1, 10) == 1 then
        set A99 = XG4
    endif
    if GetRandomInt(1, 10) < 3 then
        set A99 = XJ4
    endif
    if AX9 == XG4 then
        set A99 = XH4
    elseif AX9 == XJ4 then
        set A99 = XH4
    elseif AX9 == XH4 then
        set A99 = W04
    endif
    if AX9 == WB4 then
        set A99 = XI4
    elseif AX9 == W54 then
        set A99 = XD4
    elseif AX9 == XI4 then
        set A99 = W54
    elseif AX9 == XD4 then
        set A99 = XE4
    elseif AX9 == XE4 then
        set A99 = XF4
    elseif AX9 == XF4 then
        set A99 = WB4
    endif
    call BlzSetUnitSkin(ZC9, A99)
    if ZR7(ZC9) then
        call AddUnitAnimationProperties(ZC9, "alternate", true)
    endif
    return false
endfunction
function A69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .05, false)
    call TriggerAddCondition(t, Condition(function AW9))
    call SaveUnitHandle(R8, (W57), (2), (GetTriggerUnit()))
    set t = null
endfunction
function AL9 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0OT' then
        call A69()
    endif
endfunction
function V7 takes nothing returns boolean
    local integer x = 0
    loop
        exitwhen x >= bj_MAX_INVENTORY
        if UnitItemInSlot(GetTriggerUnit(), x) == null then
            return true
        endif
        set x = x + 1
    endloop
    return false
endfunction
function wD takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == BU[WC]then
        call RemoveItem(GetManipulatedItem())
        call UnitAddItem(GetTriggerUnit(), CreateItem(BU[XC], 0, 0))
    endif
    if GetItemTypeId(GetManipulatedItem()) == BU[XC]then
        call RemoveItem(GetManipulatedItem())
        call UnitAddItem(GetTriggerUnit(), CreateItem(BU[WC], 0, 0))
    endif
endfunction
function A19 takes nothing returns nothing
    if ((LoadInteger(R8, (GetHandleId((GetEnumUnit()))), ((4258)))) == 1) == true then
        call PN8(GetOwningPlayer(GetEnumUnit()), (GetObjectName(('n02M'))) + " " + GetUnitName(GetEnumUnit()) + " " + (GetObjectName(('n02S'))))
    else
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
            call ASCI(GetEnumUnit(), 4258, 25)
        endif
        call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + 250)
    endif
endfunction
function A09 takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 925, Condition(function V88))
    call ForGroup(g, function A19)
    call OF8(g)
    set Z77 = null
    set g = null
endfunction
function A59 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0CK' then
        call A09()
    endif
endfunction
function A29 takes unit N28, integer A_9, boolean B49 returns nothing
    local string B79
    local string s
    local player p = GetOwningPlayer(N28)
    local real d = 2
    local string B89 = "Use"
    if B49 then
        set B89 = "Store"
    endif
    if A_9 == 'I006' then
        set B79 = "|c00ff0000" + GetObjectName('n0JQ') + "|r"
        call X48("Rune" + B89 + "1", GetPlayerId(p))
    elseif A_9 == 'I008' then
        set B79 = "|c0000ff00" + GetObjectName('n0JN') + "|r"
        call X48("Rune" + B89 + "2", GetPlayerId(p))
    elseif A_9 == 'I00K' then
        set B79 = "|c000000ff" + GetObjectName('n0K3') + "|r"
        call X48("Rune" + B89 + "3", GetPlayerId(p))
    elseif A_9 == 'I007' then
        set B79 = "|c00afaf00" + GetObjectName('n0K2') + "|r"
        call X48("Rune" + B89 + "4", GetPlayerId(p))
    elseif A_9 == 'I00J' then
        set B79 = "|c00652DC1" + GetObjectName('n0K4') + "|r"
        call X48("Rune" + B89 + "5", GetPlayerId(p))
    elseif A_9 == 'I0RC' then
        set B79 = "|c00FFD700" + GetObjectName('n0NR') + "|r"
        call X48("Rune" + B89 + "6", GetPlayerId(p))
    elseif A_9 == 'I0V8' then
        set B79 = "|cffe100f0" + GetObjectName('n0O0') + "|r"
        call X48("Rune" + B89 + "7", GetPlayerId(p))
    endif
    if B49 then
        set s = W[GetPlayerId(p)] + GetUnitName(N28) + "|r " + GetObjectName('n0GU') + "|r " + B79 + " " + GetObjectName('n0GW')
        set d = 1
    else
        if G64 then
            set s = W[GetPlayerId(p)] + GetUnitName(N28) + "|r " + GetObjectName('n0GV') + "|r " + B79 + " " + GetObjectName('n0GW')
        else
            set s = W[GetPlayerId(p)] + GetUnitName(N28) + "|r " + GetObjectName('n0GT') + "|r " + B79 + " " + GetObjectName('n0GW')
        endif
    endif
    if(IsPlayerAlly(GetLocalPlayer(), p)and GetLocalPlayer() != p)or N08(GetLocalPlayer())then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, d, s)
    endif
endfunction
function B99 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0H6' then
        call SaveUnitHandle(R8, (GetHandleId(GetTriggerUnit())), (103), (null))
        call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (104), (0))
        if(AV7(GetTriggerUnit(), BU[VY]) != null or AV7(GetTriggerUnit(), LU[VY]) != null)and(GetUnitTypeId(GetSpellTargetUnit()) == 'nfoh' or GetUnitTypeId(GetSpellTargetUnit()) == 'ndfl')then
            call SaveUnitHandle(R8, (GetHandleId(GetTriggerUnit())), (103), (GetSpellTargetUnit()))
        elseif ZV9(GetItemTypeId(GetSpellTargetItem()))then
            call A29(GetTriggerUnit(), GetItemTypeId(GetSpellTargetItem()), true)
            call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (104), (GetItemTypeId(GetSpellTargetItem())))
            call ZT7(GetSpellTargetItem())
        endif
    endif
endfunction
function BD9 takes unit AM7 returns nothing
    call SetUnitState(AM7, UNIT_STATE_LIFE, GetUnitState(AM7, UNIT_STATE_MAX_LIFE))
    call SetUnitState(AM7, UNIT_STATE_MANA, GetUnitState(AM7, UNIT_STATE_MAX_MANA))
endfunction
function BE9 takes unit AM7, real x, real y returns nothing
    local integer W57 = GetHandleId(GetOwningPlayer(AM7))
    local unit YA8 = (LoadUnitHandle(R8, (W57), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (W57), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (W57), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (W57), (703)))
    set OY4 = true
    if YA8 != null then
        call ReviveHero(YA8, x, y, true)
        call BD9(YA8)
        call YP8(YA8)
        call SetUnitX(YA8, x)
        call SetUnitY(YA8, y)
    endif
    if YB8 != null then
        call ReviveHero(YB8, x, y, true)
        call BD9(YB8)
        call YP8(YB8)
        call SetUnitX(YB8, x)
        call SetUnitY(YB8, y)
    endif
    if YC8 != null then
        call ReviveHero(YC8, x, y, true)
        call BD9(YC8)
        call YP8(YC8)
        call SetUnitX(YC8, x)
        call SetUnitY(YC8, y)
    endif
    if Y38 != null then
        call ReviveHero(Y38, x, y, true)
        call BD9(Y38)
        call YP8(Y38)
        call SetUnitX(Y38, x)
        call SetUnitY(Y38, y)
    endif
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
endfunction
function BF9 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    call BD9(AM7)
    call YP8(AM7)
    call ClearSelectionForPlayer(GetOwningPlayer(AM7))
    call SelectUnitAddForPlayer(AM7, GetOwningPlayer(AM7))
    if GetUnitTypeId(AM7) == 'H00I' then
        call BE9(AM7, GetUnitX(AM7), GetUnitY(AM7))
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set AM7 = null
    return false
endfunction
function BG9 takes unit AM7, real x, real y returns nothing
    local integer W57 = GetHandleId(GetOwningPlayer(AM7))
    local unit YA8 = (LoadUnitHandle(R8, (W57), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (W57), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (W57), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (W57), (703)))
    call DisableTrigger(ES)
    if YA8 != null then
        call SetUnitX(YA8, x)
        call SetUnitY(YA8, y)
        call KillUnit(YA8)
    endif
    if YB8 != null then
        call SetUnitX(YB8, x)
        call SetUnitY(YB8, y)
        call KillUnit(YB8)
    endif
    if YC8 != null then
        call SetUnitX(YC8, x)
        call SetUnitY(YC8, y)
        call KillUnit(YC8)
    endif
    if Y38 != null then
        call SetUnitX(Y38, x)
        call SetUnitY(Y38, y)
        call KillUnit(Y38)
    endif
    call EnableTrigger(ES)
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
endfunction
function BH9 takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local real x
    local real y
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call X48("AegisOff", GetPlayerId(GetOwningPlayer(AM7)))
    if GetUnitTypeId(AM7) == 'H00I' then
        call BG9(AM7, GetUnitX(AM7), GetUnitY(AM7))
    endif
    set NT4 = null
    call TriggerRegisterTimerEvent(t, 5., false)
    call TriggerAddCondition(t, Condition(function BF9))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call ASCI(AM7, 4304, 5.)
    set t = null
    set AM7 = null
endfunction
function BI9 takes nothing returns nothing
    if IsEnabledItem(GetManipulatedItem(), F1) then
        call BH9()
    endif
endfunction
function BJ9 takes nothing returns nothing
    if GetWidgetLife(GetEnumItem()) > 0 and ZV9(GetItemTypeId(GetEnumItem()))then
        set HK4 = GetEnumItem()
    endif
endfunction
function BK9 takes nothing returns integer
    local integer i = GetRandomInt(1, 6)
    loop
        exitwhen i != EB4
        set i = GetRandomInt(1, 6)
    endloop
    set EB4 = i
    return i
endfunction
function BM9 takes nothing returns boolean
    local boolean BN9 = false
    local boolean BO9 = false
    local real x
    local real y
    local real x1
    local real y1
    local real x2
    local real y2
    local integer BP9
    local item ACDO
    local item ACEO
    if GetRandomInt(1, 2) == 1 then
        set x1 = GetLocationX(X7)
        set y1 = GetLocationY(X7)
        set x2 = GetLocationX(W7)
        set y2 = GetLocationY(W7)
    else
        set x1 = GetLocationX(W7)
        set y1 = GetLocationY(W7)
        set x2 = GetLocationX(X7)
        set y2 = GetLocationY(X7)
    endif
    set HK4 = null
    call EnumItemsInRect(YD, Condition(function KF8), function BJ9)
    set ACDO = HK4
    set HK4 = null
    call EnumItemsInRect(TD, Condition(function KF8), function BJ9)
    set ACEO = HK4
    call RemoveItem(ACDO)
    call RemoveItem(ACEO)
    set ACDO = null
    set ACEO = null
    if AJ40 == false then
        set BP9 = BK9()
        if BP9 == 1 then
            call CreateItem('I007', x1, y1)
        elseif BP9 == 2 then
            call CreateItem('I006', x1, y1)
        elseif BP9 == 3 then
            call CreateItem('I00K', x1, y1)
        elseif BP9 == 4 then
            call CreateItem('I008', x1, y1)
        elseif BP9 == 5 then
            call CreateItem('I00J', x1, y1)
        elseif BP9 == 6 then
            call CreateItem('I0V8', x1, y1)
        endif
        set HK4 = CreateItem('I0RC', x2, y2)
        call SaveBoolean(R8, (GetHandleId(HK4)), (835), (false))
    else
        set AJ40 = false
        set HK4 = CreateItem('I0RC', x1, y1)
        call SaveBoolean(R8, (GetHandleId(HK4)), (835), (true))
        set HK4 = CreateItem('I0RC', x2, y2)
        call SaveBoolean(R8, (GetHandleId(HK4)), (835), (true))
    endif
    return false
endfunction
function O2 takes integer Ou, real O3 returns nothing
    set FI[gi] = Ou
    set Fj[gi] = O3
    set gi = gi + 1
endfunction
function BQ9 takes nothing returns boolean
    local integer i
    if OB4 > 0 and OZ4[1] < 1 then
        set i = 2
        loop
            exitwhen i > OB4
            set OZ4[i - 1] = OZ4[i]
            set OA4[i - 1] = OA4[i]
            set i = i + 1
        endloop
        set OB4 = OB4 - 1
    endif
    set i = 1
    loop
        exitwhen i > OB4
        if OZ4[i] >= 1 then
            set OZ4[i] = OZ4[i] - 1
            if OZ4[i] < 1 then
                call SetItemDroppable(OA4[i], true)
            endif
        endif
        set i = i + 1
    endloop
    return false
endfunction
function BR9 takes item JB9 returns nothing
    set OB4 = OB4 + 1
    set OA4[OB4] = JB9
    set OZ4[OB4] = (EV[(ZX7(JB9))])
    call SetItemDroppable(JB9, false)
endfunction
function BS9 takes nothing returns boolean
    if GetUnitTypeId(GetTriggerUnit()) != 'e00E' and(EV[(ZX7(GetManipulatedItem()))]) > 0 then
        call BR9(GetManipulatedItem())
    endif
    return false
endfunction
function BT9 takes unit Y47 returns integer
    local integer WP8
    if Y47 == null then
        return - 2
    endif
    set WP8 = GetUnitTypeId(Y47)
    if WP8 == 'H004' then
        return F94
    elseif WP8 == 'UC18' then
        return FD4
    elseif WP8 == 'Hmkg' then
        return FH4
    elseif WP8 == 'Ucrl' or WP8 == 'U01X' then
        return GG4
    elseif WP8 == 'H00H' then
        return FJ4
    elseif WP8 == 'UC01' then
        return FK4
    elseif WP8 == 'Orkn' then
        return FM4
    elseif WP8 == 'Hmbr' then
        return FQ4
    elseif WP8 == 'Hjai' then
        return FN4
    elseif WP8 == 'Ulic' then
        return F84
    elseif WP8 == 'Ekee' then
        return F74
    elseif WP8 == 'Emns' then
        return E_4
    elseif WP8 == 'EC57' then
        return FO4
    elseif WP8 == 'U00E' then
        return FG4
    elseif WP8 == 'E005' then
        return FF4
    elseif WP8 == 'E01A' then
        return FP4
    elseif WP8 == 'UC42' then
        return FE4
    elseif WP8 == 'Npbm' then
        return FC4
    elseif WP8 == 'H00T' then
        return FS4
    elseif WP8 == 'Hvwd' or WP8 == 'Hvil' then
        return FT4
    elseif WP8 == 'Nbbc' then
        return FU4
    elseif WP8 == 'H00A' then
        return FW4
    elseif WP8 == 'Udre' then
        return FX4
    elseif WP8 == 'E00P' then
        return FY4
    elseif WP8 == 'U00K' then
        return FZ4
    elseif WP8 == 'H00Q' then
        return FA4
    elseif WP8 == 'H00U' then
        return FB4
    elseif WP8 == 'U00F' then
        return F34
    elseif WP8 == 'N0EG' then
        return F64
    elseif WP8 == 'EC45' then
        return FL4
    elseif WP8 == 'O00J' then
        return F14
    elseif WP8 == 'Oshd' then
        return F04
    elseif WP8 == 'Udea' then
        return F54
    elseif WP8 == 'N01W' then
        return F24
    elseif WP8 == 'H00K' then
        return F_4
    elseif WP8 == 'Opgh' then
        return G44
    elseif WP8 == 'Otch' then
        return G74
    elseif WP8 == 'O016' or WP8 == 'O017' then
        return AZBF
    elseif WP8 == 'H00R' then
        return FI4
    elseif WP8 == 'H07I' then
        return FI4
    elseif WP8 == 'N00B' then
        return G84
    elseif WP8 == 'E01C' then
        return G94
    elseif WP8 == 'E002' then
        return GD4
    elseif WP8 == 'EC77' then
        return GE4
    elseif WP8 == 'U00P' then
        return GH4
    elseif WP8 == 'Emoo' then
        return GI4
    elseif WP8 == 'H00N' then
        return GJ4
    elseif WP8 == 'E02N' or WP8 == 'E02O' then
        return GK4
    elseif WP8 == 'H00I' then
        return GM4
    elseif WP8 == 'H00D' then
        return GN4
    elseif WP8 == 'UC60' then
        return GO4
    elseif WP8 == 'N01A' then
        return GP4
    elseif WP8 == 'N0HP' then
        return GQ4
    elseif WP8 == 'Harf' then
        return GR4
    elseif WP8 == 'E032' then
        return AJK0
    elseif WP8 == 'Uktl' then
        return ALI0
    elseif WP8 == 'H0DO' then
        return AL00
    elseif WP8 == 'E02X' then
        return AL10
    elseif WP8 == 'Ntin' then
        return AL20
    elseif WP8 == 'E02H' then
        return AL30
    elseif WP8 == 'E02F' then
        return AL40
    elseif WP8 == 'H001' or WP8 == 'H0CQ' then
        return AL50
    elseif WP8 == 'O015' then
        return AL60
    elseif WP8 == 'Hamg' then
        return AL70
    elseif WP8 == 'N0MU' or WP8 == 'N0MW' then
        return AL80
    elseif WP8 == 'Hblm' or WP8 == 'H06X' or WP8 == 'H06Y' or WP8 == 'H06W' or WP8 == 'H0BC' then
        return F44
    elseif WP8 == 'E02J' then
        return ALO0
    elseif WP8 == 'U000' or WP8 == 'U0A9' then
        return AZXQ
    elseif WP8 == 'NC00' then
        return AKLW
    elseif WP8 == 'E02I' then
        return AZHM
    elseif WP8 == 'U00C' then
        return AZXG
    elseif WP8 == 'N01I' or WP8 == 'N01H' or WP8 == 'N01T' or WP8 == 'N01J' then
        return AZLJ
    elseif WP8 == 'H000' then
        return AZRM
    elseif WP8 == 'E02K' then
        return AZJT
    elseif WP8 == 'N01O' or WP8 == 'N013' or WP8 == 'N014' or WP8 == 'N015' then
        return AZXD
    elseif WP8 == 'HC49' then
        return AZNJ
    elseif WP8 == 'Ubal' then
        return AZMY
    elseif WP8 == 'UC11' then
        return AZMM
    elseif WP8 == 'Nbrn' then
        return AZXH
    elseif WP8 == 'H06S' then
        return AZCZ
    elseif WP8 == 'Ofar' then
        return AZCX
    elseif WP8 == 'Nfir' then
        return AZYM
    elseif WP8 == 'Huth' then
        return AZXZ
    endif
    return E24
endfunction
function BU9 takes unit Y47 returns integer
    local integer WP8
    if Y47 == null then
        return - 2
    endif
    set WP8 = GetUnitTypeId(Y47)
    if WP8 == 'Hblm' or WP8 == 'H06X' or WP8 == 'H06Y' or WP8 == 'H06W' or WP8 == 'H0BC' then
        return 'A0TL'
    elseif WP8 == 'H004' then
        return 'A0TP'
    elseif WP8 == 'UC18' then
        return 'A0TR'
    elseif WP8 == 'Hmkg' then
        return 'A2KT'
    elseif WP8 == 'Ucrl' or WP8 == 'U01X' then
        return 'A0C2'
    elseif WP8 == 'H00H' then
        return 'A0TV'
    elseif WP8 == 'UC01' then
        return 'A0TX'
    elseif WP8 == 'Orkn' then
        return 'A0TZ'
    elseif WP8 == 'Hmbr' then
        return 'A0U1'
    elseif WP8 == 'Hjai' then
        return 'A0U3'
    elseif WP8 == 'Ulic' then
        return 'A0U5'
    elseif WP8 == 'Ekee' then
        return 'A0U7'
    elseif WP8 == 'Emns' then
        return 'A0U9'
    elseif WP8 == 'EC57' then
        return 'A0UB'
    elseif WP8 == 'U00E' then
        return 'A0UD'
    elseif WP8 == 'E005' then
        return 'A0UF'
    elseif WP8 == 'E01A' then
        return 'A0UH'
    elseif WP8 == 'UC42' then
        return 'A0UJ'
    elseif WP8 == 'Npbm' then
        return 'A1BE'
    elseif WP8 == 'H00T' then
        return 'A1B9'
    elseif WP8 == 'Hvwd' or WP8 == 'Hvil' then
        return 'A1BA'
    elseif WP8 == 'Nbbc' then
        return 'A1BB'
    elseif WP8 == 'H00A' then
        return 'A1CU'
    elseif WP8 == 'Udre' then
        return 'A1BG'
    elseif WP8 == 'E00P' then
        return 'A1BJ'
    elseif WP8 == 'U00K' then
        return 'A1BC'
    elseif WP8 == 'H00Q' then
        return 'A1BI'
    elseif WP8 == 'H00U' then
        return 'A1BD'
    elseif WP8 == 'NC00' then
        return 'A1BF'
    elseif WP8 == 'U00F' then
        return 'A1CY'
    elseif WP8 == 'N0EG' then
        return 'A1D2'
    elseif WP8 == 'EC45' then
        return 'A1D1'
    elseif WP8 == 'O00J' then
        return 'A1CZ'
    elseif WP8 == 'Oshd' then
        return 'A1D0'
    elseif WP8 == 'Udea' then
        return 'A1D3'
    elseif WP8 == 'N01W' then
        return 'A1D4'
    elseif WP8 == 'H00K' then
        return 'A1G1'
    elseif WP8 == 'Opgh' then
        return 'A1MT'
    elseif WP8 == 'Nfir' then
        return 'A1MU'
    elseif WP8 == 'O016' or WP8 == 'O017' then
        return 'A1MW'
    elseif WP8 == 'Otch' then
        return 'A1N0'
    elseif WP8 == 'N00B' then
        return 'A1QS'
    elseif WP8 == 'E01C' then
        return 'A1UT'
    elseif WP8 == 'E002' then
        return 'A1UU'
    elseif WP8 == 'EC77' then
        return 'A1V1'
    elseif WP8 == 'U00P' then
        return 'A1VY'
    elseif WP8 == 'Emoo' then
        return 'A1WD'
    elseif WP8 == 'H00N' then
        return 'A21S'
    elseif WP8 == 'E02N' or WP8 == 'E02O' then
        return 'A237'
    elseif WP8 == 'H00I' then
        return 'A27E'
    elseif WP8 == 'H00D' then
        return 'A28A'
    elseif WP8 == 'UC60' then
        return 'A2IH'
    elseif WP8 == 'N01A' then
        return 'A2QB'
    elseif WP8 == 'N0HP' then
        return 'A2QF'
    elseif WP8 == 'Harf' then
        return 'A2S7'
    elseif WP8 == 'H0DO' then
        return 'A2TW'
    elseif WP8 == 'Uktl' then
        return 'A2TZ'
    elseif WP8 == 'E02J' then
        return 'A2VC'
    elseif WP8 == 'E02X' then
        return 'A2VD'
    elseif WP8 == 'Ntin' then
        return 'A2WD'
    elseif WP8 == 'E02H' then
        return 'A2XG'
    elseif WP8 == 'E032' then
        return 'A2YQ'
    elseif WP8 == 'E02F' then
        return 'A2YT'
    elseif WP8 == 'H001' or WP8 == 'H0CQ' then
        return 'A2Z3'
    elseif WP8 == 'O015' then
        return 'A2ZG'
    elseif WP8 == 'Hamg' then
        return 'A314'
    elseif WP8 == 'N0MU' or WP8 == 'N0MW' then
        return 'A31N'
    elseif WP8 == 'H000' then
        return 'A38N'
    elseif WP8 == 'E02K' then
        return 'A38L'
    elseif WP8 == 'N01O' or WP8 == 'N013' or WP8 == 'N014' or WP8 == 'N015' then
        return 'A3B7'
    elseif WP8 == 'HC49' then
        return 'A3B9'
    elseif WP8 == 'E02I' then
        return 'A3DD'
    elseif WP8 == 'U000' or WP8 == 'U0A9' then
        return 'A3D2'
    elseif WP8 == 'Ubal' then
        return 'A3DL'
    elseif WP8 == 'U00C' then
        return 'A3DQ'
    elseif WP8 == 'H06S' then
        return 'A3OG'
    elseif WP8 == 'Ofar' then
        return 'A3OI'
    elseif WP8 == 'Huth' then
        return 'A3OM'
    endif
    return 0
endfunction
function BV9 takes item Y98 returns boolean
    local integer i = 1
    loop
        exitwhen i > OB4
        if Y98 == OA4[i]then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction
function AlchemistAghanimInvalidTarget takes nothing returns nothing
    local unit X77 = GetSpellTargetUnit()
    if IsUnitIllusion(X77) or XC8(GetUnitTypeId(X77)) or GetUnitAbilityLevel(X77, 'A3E7') > 0 then
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0O3'))
        call ZN7(GetTriggerUnit())
    endif
    set X77 = null
endfunction
function MoonShardInvalidTarget takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A3OC') > 0 then
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0O3'))
        call ZN7(GetTriggerUnit())
    endif
endfunction
function AA12 takes nothing returns boolean
    if DIE(GetSpellAbilityId())and ABV1(GetTriggerUnit())then
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0O3'))
        call ZN7(GetTriggerUnit())
    elseif GetSpellAbilityId() == 'A3E8' then
        call AlchemistAghanimInvalidTarget()
    elseif GetSpellAbilityId() == 'A397' then
        call MoonShardInvalidTarget()
    endif
    return false
endfunction
function BW9 takes unit Y47 returns location
    return B8[GetUnitAbilityLevel(Y47, A8)]
endfunction
function BX9 takes unit Y47 returns boolean
    return(GetOwningPlayer(Y47) == G8[0])or(GetOwningPlayer(Y47) == N8[0])
endfunction
function BY9 takes nothing returns nothing
    call SetUnitUserData(GetEnumUnit(), 0)
    call IssuePointOrderByIdLoc(GetEnumUnit(), 851983, BW9(GetEnumUnit()))
endfunction
function BZ9 takes nothing returns nothing
    call IssueTargetOrderById(GetEnumUnit(), 851983, W8)
    call GroupAddUnit(C8, GetEnumUnit())
    call SetUnitUserData(GetEnumUnit(), TB4)
endfunction
function BA9 takes nothing returns boolean
    local integer id = GetUnitTypeId(GetFilterUnit())
    if id == 'ebal' or id == 'e026' or id == 'umtw' or id == 'u00R' then
        return false
    endif
    if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(W8))and(GetOwningPlayer(GetFilterUnit()) == G8[0]or GetOwningPlayer(GetFilterUnit()) == N8[0])and GetUnitUserData(GetFilterUnit()) == 0 then
        return true
    endif
    return false
endfunction
function BB9 takes nothing returns nothing
    if GetUnitCurrentOrder(GetEnumUnit()) == 0 and IsUnitInRange(GetEnumUnit(), W8, GetUnitAcquireRange(GetEnumUnit())) == false then
        call GroupRemoveUnit(C8, GetEnumUnit())
        call SetUnitUserData(GetEnumUnit(), 0)
        call IssuePointOrderByIdLoc(GetEnumUnit(), 851983, BW9(GetEnumUnit()))
    endif
endfunction
function BC9 takes nothing returns nothing
    local integer EC8 = GetHandleId(LoadUnitHandle(R8, GetHandleId(GetExpiredTimer()), (2)))
    local integer B39 = (LoadInteger(R8, (EC8), (143)))
    local group B69 = (LoadGroupHandle(R8, (EC8), (144)))
    set TA4[B39] = null
    call ForGroup(B69, function BY9)
    call GroupClear(B69)
    set B69 = null
endfunction
function BL9 takes unit N28, unit N99 returns nothing
    local integer EC8 = GetHandleId(N28)
    local group B69 = (LoadGroupHandle(R8, (EC8), (144)))
    local integer B39 = (LoadInteger(R8, (EC8), (143)))
    local unit B19 = TA4[B39]
    local group g
    if B19 != null and B19 != N99 then
        call ForGroup(B69, function BY9)
        call GroupClear(B69)
    endif
    set TA4[B39] = N99
    set C8 = B69
    set W8 = N99
    set TB4 = B39
    call ForGroup(B69, function BB9)
    set g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(N99), GetUnitY(N99), 500, Condition(function BA9))
    call ForGroup(g, function BZ9)
    call OF8(g)
    call TimerStart((LoadTimerHandle(R8, (EC8), (141))), 2, false, function BC9)
    set g = null
    set B19 = null
    set B69 = null
endfunction
function B09 takes integer MB8 returns boolean
    return MB8 == 'EC77' or MB8 == 'E004' or MB8 == 'Nbrn' or MB8 == 'U00P' or MB8 == 'Emoo' or MB8 == 'N01A' or MB8 == 'H00Q'
endfunction
function B59 takes nothing returns boolean
    local unit N28 = GetAttacker()
    local unit target = GetTriggerUnit()
    local integer order = GetIssuedOrderId()
    local integer B29
    local integer i1
    if BX9(N28) == false then
        set B29 = (LoadInteger(R8, (GetHandleId(target)), (143)))
        if TA4[B29] == null or TA4[B29] == target or O18(TA4[B29])then
            if B29 != 0 then
                if(not IsUnitType(N28, UNIT_TYPE_HERO))or(GetPlayerController(GetOwningPlayer(N28)) != MAP_CONTROL_COMPUTER)or(not B09(GetUnitTypeId(N28)))or(not g_aiStatBool[304 + GetPlayerId(GetOwningPlayer(N28))])then
                    call BL9(GetTriggerUnit(), N28)
                endif
            endif
        endif
    endif
    set N28 = null
    set target = null
    return false
endfunction
function B_9 takes nothing returns boolean
    local unit N28 = GetTriggerUnit()
    local unit target = GetOrderTargetUnit()
    local integer order = GetIssuedOrderId()
    local integer C49
    if IsUnitType(target, UNIT_TYPE_HERO) and IsUnitIllusion(target) == false and(order == 851983 or order == 851971)and IsUnitEnemy(target, GetOwningPlayer(N28))and IsUnitVisible(N28, GetOwningPlayer(target))then
        set C49 = (LoadInteger(R8, (GetHandleId(target)), (143)))
        if TA4[C49] == null or TA4[C49] == target or O18(TA4[C49])then
            if C49 != 0 then
                call BL9(target, N28)
            endif
        endif
    endif
    set N28 = null
    set target = null
    return false
endfunction
function C79 takes unit N28 returns nothing
    local group g
    local trigger t
    local timer tm
    local integer EC8 = GetHandleId(N28)
    set l2 = l2 + 1
    call SaveBoolean(R8, (EC8), (142), (true))
    call SaveInteger(R8, (EC8), (143), (l2))
    set g = OG8()
    call SaveGroupHandle(R8, (EC8), (144), (g))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerAddCondition(t, Condition(function B_9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function B59))
    set tm = CreateTimer()
    call SaveTimerHandle(R8, (GetHandleId(N28)), (141), (tm))
    call SaveUnitHandle(R8, GetHandleId(tm), (2), N28)
    set g = null
    set t = null
    set tm = null
endfunction
function C89 takes nothing returns nothing
    local unit S4 = GetTriggerUnit()
    local unit target = rw[GetUnitUserData(S4)]
    call SetUnitPosition(S4, GetUnitX(S4), GetUnitY(S4))
    if target != null and O18(target) == false and IsUnitVisible(target, GetOwningPlayer(target))then
        call IssueTargetOrderById(S4, 851983, target)
    else
        call DisableTrigger(GetTriggeringTrigger())
        call IssuePointOrderByIdLoc(S4, 851983, (B8[GetUnitAbilityLevel((S4), A8)]))
        call EnableTrigger(GetTriggeringTrigger())
    endif
    set S4 = null
    set target = null
endfunction
function C99 takes nothing returns boolean
    if BX9(GetTriggerUnit())then
        call C89()
    endif
    return false
endfunction
function CD9 takes nothing returns nothing
    local unit S4 = GetTriggerUnit()
    local unit target = rw[GetUnitUserData(S4)]
    call SetUnitPosition(S4, GetUnitX(S4), GetUnitY(S4))
    if target != null and O18(target) == false and IsUnitVisible(target, GetOwningPlayer(target))then
        call IssueTargetOrderById(S4, 851983, target)
    else
        call DisableTrigger(GetTriggeringTrigger())
        call IssuePointOrderByIdLoc(S4, 851983, (B8[GetUnitAbilityLevel((S4), A8)]))
        call EnableTrigger(GetTriggeringTrigger())
    endif
    set S4 = null
    set target = null
endfunction
function CE9 takes nothing returns boolean
    if GetIssuedOrderId() == 851986 then
        call CD9()
    endif
    return false
endfunction
function CF9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == G8[0]then
        if IsUnitFogged(GetAttacker(), G8[1])or IsUnitFogged(GetAttacker(), N8[1])then
            call TF8(CreateFogModifierRadius(G8[1], FOG_OF_WAR_VISIBLE, GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), 128, true, false), 1)
        endif
    elseif GetOwningPlayer(GetTriggerUnit()) == N8[0]then
        if IsUnitFogged(GetAttacker(), G8[1])or IsUnitFogged(GetAttacker(), N8[1])then
            call TF8(CreateFogModifierRadius(N8[1], FOG_OF_WAR_VISIBLE, GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), 128, true, false), 1)
        endif
    endif
    return false
endfunction
function CG9 takes nothing returns boolean
    local trigger t
    local group g
    local unit u
    set Ew = CreateRegion()
    call RegionAddRect(Ew, XD)
    call RegionAddRect(Ew, WD)
    if L8 then
        set t = CreateTrigger()
        call TriggerRegisterPlayerUnitEvent(t, G8[0], EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER, Condition(function KF8))
        call TriggerRegisterPlayerUnitEvent(t, N8[0], EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER, Condition(function KF8))
        call TriggerAddCondition(t, Condition(function CE9))
        set t = CreateTrigger()
        set g = OG8()
        call GroupEnumUnitsOfPlayer(g, G8[0], Condition(function KF8))
        loop
            set u = FirstOfGroup(g)
            exitwhen u == null
            call GroupRemoveUnit(g, u)
            if GetUnitAcquireRange(u) != 0 then
                call TriggerRegisterUnitInRange(t, u, 600, Condition(function KF8))
            endif
        endloop
        call OF8(g)
        set g = OG8()
        call GroupEnumUnitsOfPlayer(g, N8[0], Condition(function KF8))
        loop
            set u = FirstOfGroup(g)
            exitwhen u == null
            call GroupRemoveUnit(g, u)
            if GetUnitAcquireRange(u) != 0 and IsUnitType(u, UNIT_TYPE_STRUCTURE)then
                call TriggerRegisterUnitInRange(t, u, 600, Condition(function KF8))
            endif
        endloop
        call OF8(g)
        call TriggerAddCondition(t, Condition(function C99))
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerAddCondition(t, Condition(function CF9))
    endif
    call EA8(GetTriggeringTrigger())
    set u = null
    set g = null
    set t = null
    return false
endfunction
function CI9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) == G8[0]then
        call SetUnitAbilityLevel(GetTriggerUnit(), A8, 5)
        if rw[GetUnitUserData(GetTriggerUnit())] == null then
            call SetUnitUserData(GetTriggerUnit(), 0)
            call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, (B8[GetUnitAbilityLevel((GetTriggerUnit()), A8)]))
        endif
    elseif GetOwningPlayer(GetTriggerUnit()) == N8[0]then
        call SetUnitAbilityLevel(GetTriggerUnit(), A8, 1)
        if rw[GetUnitUserData(GetTriggerUnit())] == null then
            call SetUnitUserData(GetTriggerUnit(), 0)
            call IssuePointOrderByIdLoc(GetTriggerUnit(), 851983, (B8[GetUnitAbilityLevel((GetTriggerUnit()), A8)]))
        endif
    endif
    return false
endfunction
function CJ9 takes unit S4 returns nothing
    local integer i = 0
    loop
        exitwhen(i == GetBJMaxPlayerSlots())
        if IsUnitAlly(S4, Player(i))then
            call UnitShareVision(S4, Player(i), true)
        endif
        set i = i + 1
    endloop
endfunction
function CK9 takes nothing returns nothing
    call CJ9(GetEnumUnit())
endfunction
function CM9 takes nothing returns nothing
    local integer x
    local group g
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call SetPlayerAlliance(G8[0], G8[x], ALLIANCE_SHARED_VISION, false)
        call SetPlayerAlliance(N8[0], N8[x], ALLIANCE_SHARED_VISION, false)
        set x = x + 1
    endloop
    set g = OG8()
    call GroupEnumUnitsOfPlayer(g, G8[0], Condition(function KF8))
    call ForGroup(g, function CK9)
    call OF8(g)
    set g = OG8()
    call GroupEnumUnitsOfPlayer(g, N8[0], Condition(function KF8))
    call ForGroup(g, function CK9)
    call OF8(g)
    set g = null
endfunction
function CN9 takes nothing returns nothing
    local integer x
    set x = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call SetPlayerAlliance(G8[x], O8, ALLIANCE_PASSIVE, false)
        call SetPlayerAlliance(G8[x], O8, ALLIANCE_HELP_REQUEST, false)
        call SetPlayerAlliance(G8[x], O8, ALLIANCE_HELP_RESPONSE, false)
        call SetPlayerAlliance(G8[x], O8, ALLIANCE_SHARED_XP, false)
        call SetPlayerAlliance(G8[x], O8, ALLIANCE_SHARED_SPELLS, false)
        call SetPlayerAlliance(G8[x], O8, ALLIANCE_SHARED_VISION, false)
        call SetPlayerAlliance(G8[x], O8, ALLIANCE_SHARED_CONTROL, false)
        call SetPlayerAlliance(G8[x], O8, ALLIANCE_SHARED_ADVANCED_CONTROL, false)
        call SetPlayerAlliance(N8[x], O8, ALLIANCE_PASSIVE, false)
        call SetPlayerAlliance(N8[x], O8, ALLIANCE_HELP_REQUEST, false)
        call SetPlayerAlliance(N8[x], O8, ALLIANCE_HELP_RESPONSE, false)
        call SetPlayerAlliance(N8[x], O8, ALLIANCE_SHARED_XP, false)
        call SetPlayerAlliance(N8[x], O8, ALLIANCE_SHARED_SPELLS, false)
        call SetPlayerAlliance(N8[x], O8, ALLIANCE_SHARED_VISION, false)
        call SetPlayerAlliance(N8[x], O8, ALLIANCE_SHARED_CONTROL, false)
        call SetPlayerAlliance(N8[x], O8, ALLIANCE_SHARED_ADVANCED_CONTROL, false)
        call SetPlayerAlliance(O8, G8[x], ALLIANCE_PASSIVE, false)
        call SetPlayerAlliance(O8, G8[x], ALLIANCE_HELP_REQUEST, false)
        call SetPlayerAlliance(O8, G8[x], ALLIANCE_HELP_RESPONSE, false)
        call SetPlayerAlliance(O8, G8[x], ALLIANCE_SHARED_XP, false)
        call SetPlayerAlliance(O8, G8[x], ALLIANCE_SHARED_SPELLS, false)
        call SetPlayerAlliance(O8, G8[x], ALLIANCE_SHARED_VISION, false)
        call SetPlayerAlliance(O8, G8[x], ALLIANCE_SHARED_CONTROL, false)
        call SetPlayerAlliance(O8, G8[x], ALLIANCE_SHARED_ADVANCED_CONTROL, false)
        call SetPlayerAlliance(O8, N8[x], ALLIANCE_PASSIVE, false)
        call SetPlayerAlliance(O8, N8[x], ALLIANCE_HELP_REQUEST, false)
        call SetPlayerAlliance(O8, N8[x], ALLIANCE_HELP_RESPONSE, false)
        call SetPlayerAlliance(O8, N8[x], ALLIANCE_SHARED_XP, false)
        call SetPlayerAlliance(O8, N8[x], ALLIANCE_SHARED_SPELLS, false)
        call SetPlayerAlliance(O8, N8[x], ALLIANCE_SHARED_VISION, false)
        call SetPlayerAlliance(O8, N8[x], ALLIANCE_SHARED_CONTROL, false)
        call SetPlayerAlliance(O8, N8[x], ALLIANCE_SHARED_ADVANCED_CONTROL, false)
        set x = x + 1
    endloop
endfunction
function CO9 takes nothing returns boolean
    return BX9(GetTriggerUnit())
endfunction
function CP9 takes nothing returns nothing
    call CJ9(GetTriggerUnit())
endfunction
function CQ9 takes nothing returns nothing
    local trigger t
    if not L8 then
        return
    endif
    call CM9()
    call CN9()
    set t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, GetWorldBounds())
    call TriggerAddCondition(t, Condition(function CO9))
    call TriggerAddAction(t, function CP9)
    set t = null
endfunction
function CR9 takes nothing returns nothing
    call RemoveUnit(LoadUnitHandle(R8, (GetHandleId(GetTriggerUnit())), (145)))
endfunction
function CS9 takes nothing returns nothing
    local group g
    local unit S4
    local unit CT9
    local trigger t
    local integer i
    set t = CreateTrigger()
    call TriggerAddAction(t, function CR9)
    set g = OG8()
    call GroupEnumUnitsOfPlayer(g, G8[0], Condition(function KF8))
    loop
        set S4 = FirstOfGroup(g)
        exitwhen S4 == null
        call GroupRemoveUnit(g, S4)
        if GetUnitAbilityLevel(S4, 'Adts') > 0 or GetUnitAbilityLevel(S4, 'Atru') > 0 then
            call TriggerRegisterUnitEvent(t, S4, EVENT_UNIT_DEATH)
            set CT9 = CreateUnit(G8[1], ('u00B'), - 5000, - 5100, 0)
            call SetUnitScale(CT9, 0, 0, 0)
            call SetUnitPathing(CT9, false)
            call SetUnitInvulnerable(CT9, true)
            call SetUnitX(CT9, GetUnitX(S4))
            call SetUnitY(CT9, GetUnitY(S4))
            call SaveUnitHandle(R8, (GetHandleId(S4)), (145), (CT9))
        endif
    endloop
    call OF8(g)
    set g = OG8()
    call GroupEnumUnitsOfPlayer(g, N8[0], Condition(function KF8))
    loop
        set S4 = FirstOfGroup(g)
        exitwhen S4 == null
        call GroupRemoveUnit(g, S4)
        if GetUnitAbilityLevel(S4, 'Adts') > 0 or GetUnitAbilityLevel(S4, 'Atru') > 0 then
            call TriggerRegisterUnitEvent(t, S4, EVENT_UNIT_DEATH)
            set CT9 = CreateUnit(N8[1], ('u00B'), 3400, 4400, 0)
            call SetUnitScale(CT9, 0, 0, 0)
            call SetUnitPathing(CT9, false)
            call SetUnitInvulnerable(CT9, true)
            call SetUnitX(CT9, GetUnitX(S4))
            call SetUnitY(CT9, GetUnitY(S4))
            call SaveUnitHandle(R8, (GetHandleId(S4)), (145), (CT9))
        endif
    endloop
    call OF8(g)
    set t = null
    set CT9 = null
    set S4 = null
    set g = null
endfunction
function CU9 takes nothing returns nothing
    if L8 then
        set NH4 = CreateTrigger()
        call TriggerRegisterTimerEvent(NH4, 1., true)
        call TriggerAddAction(NH4, function OY9)
    endif
endfunction
function CV9 takes nothing returns boolean
    call EA8(GetTriggeringTrigger())
    call TriggerEvaluate(MS)
    return false
endfunction
function UXO takes nothing returns boolean
    if BlzGetLocale() == "zhCN" then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 20, "|CFF00FF00" + GetObjectName('n0K5') + "|r")
    endif
    return false
endfunction
function CW9 takes nothing returns boolean
    local real r = TimerGetRemaining(R84)
    local real ST9 = r
    local integer D5 = R2I(ST9)
    local integer S59 = D5 / 60 - 1 / 2
    local integer S29 = ModuloInteger(D5, 60)
    local trigger t
    local integer i
    local player p
    if r == 0 then
        set AG4 = true
        call X48("GameStart", 1)
        call S09(S59, S29, true)
        set NL4 = true
        set M04 = TimerGetElapsed(E4)
        call EA8(GetTriggeringTrigger())
        set IJ4 = Rect(- 7040, - 7680, 7040, 7168)
        call SetFloatGameState(GAME_STATE_TIME_OF_DAY, 6.)
        call SuspendTimeOfDay(false)
        call SetTimeOfDayScale(.625)
        if G7 == false then
            if CS then
                call TriggerRegisterTimerEvent(HS4, 120., true)
            else
                call TriggerRegisterTimerEvent(HS4, 120., true)
            endif
            call TriggerEvaluate(HS4)
        endif
        call TriggerRegisterTimerEvent(MS, 60., true)
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 30., false)
        call TriggerAddCondition(t, Condition(function CV9))
        set t = null
        call TriggerRegisterTimerEventPeriodic(JS, 30.)
        call TriggerExecute(JS)
        call TriggerRegisterTimerEventPeriodic(KS, 450.)
        call TriggerRegisterTimerEventSingle(GS, 2669.)
        call TriggerRegisterTimerEventSingle(HS, 849.)
        call TriggerRegisterTimerEventSingle(HS, 1759.)
        call TriggerRegisterTimerEventSingle(HS, 2669.)
        call TriggerRegisterTimerEvent(NW4, 300., true)
        call TriggerRegisterTimerEvent(OE4, 300., true)
        call TriggerRegisterTimerEvent(C9, 30., true)
        call TriggerEvaluate(C9)
        if M7 then
            call TriggerRegisterTimerEvent(OS, 600., true)
        endif
    elseif r == 7 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 30., true)
        call TriggerAddCondition(t, Condition(function XR9))
    elseif ST9 < 12 and RE4 == false then
        set RE4 = true
        call PlaySoundBJ(LO)
        call S09(S59, S29, true)
    elseif ST9 == 20 then
        if GetRandomInt(0, 10) < 6 then
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 6, "|c006699CC" + GetObjectName('n0LG') + "|r")
        endif
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, GetObjectName('XXXz'))
    elseif ST9 == 40 then
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, GetObjectName('XXXy'))
    elseif ST9 == 45 then
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 30, GetObjectName('XXXx'))
    elseif ST9 == 60 then
        call ExecuteFunc("UXO")
    else
        call S09(S59, S29, true)
    endif
    if X4 == true and ModuloInteger(GetTriggerEvalCount(GetTriggeringTrigger()), 4) == 0 then
        if r == 85 then
            if Y7[GetPlayerId(GetLocalPlayer())] == null then
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 6, "|c006699CC" + GetObjectName('n0NJ') + "|r")
            endif
        elseif r == 80 then
            if Y7[GetPlayerId(GetLocalPlayer())] == null then
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 6, "|c006699CC" + GetObjectName('n0NK') + "|r")
            endif
        elseif r < 75 and r > 0 then
            if r == 74 then
                if Y7[GetPlayerId(GetLocalPlayer())] == null then
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 6, "|c006699CC" + GetObjectName('n0NL') + "|r")
                endif
            endif
            set i = 0
            loop
                exitwhen i > MAX_TEAM_PLAYERS
                set p = G8[i]
                if Y7[GetPlayerId(p)] == null then
                    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 1)
                endif
                set p = N8[i]
                if Y7[GetPlayerId(p)] == null then
                    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 1)
                endif
                set i = i + 1
            endloop
        endif
    endif
    return false
endfunction
function CX9 takes nothing returns nothing
    local trigger t
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function CW9))
    set R84 = CreateTimer()
    call TimerStart(R84, RD4 + 1, false, null)
    call RemoveUnitFromStock(IR4, 'h02C')
    call AddUnitToStock(IR4, 'h02C', 2, 4)
    call RemoveUnitFromStock(JU4, 'h02C')
    call AddUnitToStock(JU4, 'h02C', 2, 4)
    set t = null
    set M54 = TimerGetElapsed(E4) + 1
endfunction
function AZ32 takes player AMDI returns nothing
    local integer AZ42
    local player AZ52
    set AZ42 = 0
    loop
        set AZ52 = Player(AZ42)
        if(PlayersAreCoAllied(AMDI, AZ52)and AMDI != AZ52)then
            call SetPlayerAlliance(AMDI, AZ52, ALLIANCE_SHARED_VISION, true)
            call SetPlayerAlliance(AMDI, AZ52, ALLIANCE_SHARED_CONTROL, true)
            call SetPlayerAlliance(AZ52, AMDI, ALLIANCE_SHARED_CONTROL, true)
        endif
        set AZ42 = AZ42 + 1
        exitwhen AZ42 == MAX_TEAM_PLAYERS * 2 + 2
    endloop
    set AZ52 = null
endfunction
function KickAfkPlayer takes nothing returns nothing
    local integer D5 = S2I(SubString(GetEventPlayerChatString(), 9, StringLength(GetEventPlayerChatString())))
    local integer i = 1
    local player p
    local string YK8
    if(P4 < 10)then
        set YK8 = I2S(O4) + ":0" + I2S(P4)
    else
        set YK8 = I2S(O4) + ":" + I2S(P4)
    endif
    if D5 < 1 or PT[D5] == false then
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            set p = G8[i]
            if KS8(p)and((TimerGetElapsed(E4)) - nb[GetPlayerId(p)]) > 300.0 and PT[GetPlayerId(p)] == false then
                set PT[GetPlayerId(p)] = true
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, W[GetPlayerId(p)] + (KW4[GetPlayerId((p))]) + "|r" + " " + GetObjectName('n05G') + " " + R2S(((TimerGetElapsed(E4)) - nb[GetPlayerId(p)]) / 60) + " " + GetObjectName('N05F'))
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, GetObjectName('n05O') + " |cff99ccff-kickafk " + I2S(GetPlayerId(p)) + " |r " + GetObjectName('n05P'))
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, " ")
            endif
            set p = N8[i]
            if KS8(p)and((TimerGetElapsed(E4)) - nb[GetPlayerId(p)]) > 300.0 and PT[GetPlayerId(p)] == false then
                set PT[GetPlayerId(p)] = true
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, W[GetPlayerId(p)] + (KW4[GetPlayerId((p))]) + "|r" + " " + GetObjectName('n05G') + " " + R2S(((TimerGetElapsed(E4)) - nb[GetPlayerId(p)]) / 60) + " " + GetObjectName('N05F'))
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, GetObjectName('n05O') + " |cff99ccff-kickafk " + I2S(GetPlayerId(p)) + " |r " + GetObjectName('n05P'))
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, " ")
            endif
            set i = i + 1
        endloop
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, " ")
    elseif KS8(Player(D5)) == true and IsPlayerAlly(GetTriggerPlayer(), Player(D5)) == true then
        call DisplayTimedTextToPlayer(Player(D5), 0, V9, 3600, "|c00ff0303" + GetObjectName('n05E') + "|r")
        call YG8(Player(D5))
        set OD[GetPlayerId(Player(D5))] = "|c00555555" + YK8 + "|r"
        call RemovePlayer(Player(D5), PLAYER_GAME_RESULT_DEFEAT)
        call AZ32(Player(D5))
        set U2[GetPlayerId(Player(D5))] = true
        call YF8(Player(D5))
        call NN8(T9, 30.00, "|c00ff0303" + (KW4[GetPlayerId((Player(D5)))]) + " " + GetObjectName('n05E') + "|r")
    endif
endfunction
function DisplayAfkTime takes nothing returns nothing
    local integer i = 1
    local player p
    local integer x = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        if KS8(p)and((TimerGetElapsed(E4)) - nb[GetPlayerId(p)]) / 60 > 0.2 then
            set x = x + 1
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, W[GetPlayerId(p)] + (KW4[GetPlayerId((p))]) + "|r" + " " + GetObjectName('n05D') + " " + R2S(((TimerGetElapsed(E4)) - nb[GetPlayerId(p)]) / 60) + " " + GetObjectName('N05F'))
        endif
        set p = N8[i]
        if KS8(p)and((TimerGetElapsed(E4)) - nb[GetPlayerId(p)]) / 60 > 0.2 then
            set x = x + 1
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, W[GetPlayerId(p)] + (KW4[GetPlayerId((p))]) + "|r" + " " + GetObjectName('n05D') + " " + R2S(((TimerGetElapsed(E4)) - nb[GetPlayerId(p)]) / 60) + " " + GetObjectName('N05F'))
        endif
        set i = i + 1
    endloop
    if x < 1 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, GetObjectName('n05Q'))
    else
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15.00, " ")
    endif
endfunction
function CY9 takes nothing returns boolean
    if GetOwningPlayer(GetTriggerUnit()) != G8[0]and GetOwningPlayer(GetTriggerUnit()) != N8[0]then
        if GetIssuedOrderId() != 851983 then
            set nb[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] = (TimerGetElapsed(E4))
            set PT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] = false
        endif
        if(GetIssuedOrderId() == 851983 or GetIssuedOrderId() == 851971)and GetOrderTargetItem() != null then
            if GetIssuedOrderId() == 851983 or(GetIssuedOrderId() == 851971 and (LoadBoolean(R8, (GetHandleId(GetItemPlayer(GetOrderTargetItem()))), (139))))then
                if GetItemPlayer(GetOrderTargetItem()) != GetOwningPlayer(GetTriggerUnit())and IsPointInRegion(Ew, GetItemX(GetOrderTargetItem()), GetItemY(GetOrderTargetItem())) then
                    call DisableTrigger(GetTriggeringTrigger())
                    call ZN7(GetTriggerUnit())
                    call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0G7'))
                    call EnableTrigger(GetTriggeringTrigger())
                endif
            endif
        endif
    endif
    return false
endfunction
function CZ9 takes nothing returns nothing
    local string CA9 = StringCase(GetEventPlayerChatString(), false)
    local boolean CB9 = CA9 == "-random" or CA9 == "-random int" or CA9 == "-random agi" or CA9 == "-random str"
    local boolean CC9 = CA9 == "-repick"
    local boolean C39 = CA9 == "-gameinfo"
    local boolean C69 = SubString(CA9, 0, 5) == "-swap"
    local boolean CL9 = CA9 == "-recreate"
    local boolean C19 = CA9 == "-unstuck"
    local boolean C09 = CA9 == "-matchup" or CA9 == "-ma"
    local boolean C59 = CA9 == "-movespeed" or CA9 == "-ms"
    local boolean C29 = CA9 == "-msa"
    local boolean C_9 = CA9 == "-disablehelp"
    local boolean L49 = CA9 == "-enablehelp"
    local boolean L79 = CA9 == "-creepstats" or CA9 == "-cs"
    local boolean L89 = CA9 == "-cson" or CA9 == "-csoff"
    local boolean L99 = CA9 == "-hidemsg"
    local boolean LD9 = CA9 == "-showmsg"
    local boolean LE9 = CA9 == "-weather snow" or CA9 == "-weather rain" or CA9 == "-weather off" or CA9 == "-weather random" or CA9 == "-weather wind" or CA9 == "-weather moonlight"
    local boolean LF9 = CA9 == "-showdeny" or CA9 == "-hidedeny"
    local boolean LG9 = CA9 == "-denyinfo" or CA9 == "-di"
    local boolean LH9 = CA9 == "-don" or CA9 == "-deathon" or CA9 == "-doff" or CA9 == "-deathoff"
    local boolean LI9 = SubString(CA9, 0, 5) == "-roll" and CA9 != "-rollhero"
    local boolean LJ9 = CA9 == "-hhn" or CA9 == "-hideheronames"
    local boolean LK9 = CA9 == "-mute"
    local boolean Afk = CA9 == "-afk"
    local boolean KickAfk = SubString(CA9, 0, 8) == "-kickafk"
    local boolean LM9 = CA9 == "-apm"
    local boolean LN9 = CA9 == "-clear"
    local boolean LO9 = CA9 == "-courier"
    local boolean LP9 = CA9 == "-invokelist" or CA9 == "-il"
    local boolean bListCommand = CA9 == "-list"
    local boolean LQ9 = CA9 == "-rolloff"
    local boolean LR9 = CA9 == "-rollon"
    local boolean LS9 = SubString(CA9, 0, 6) == "-music"
    local boolean LT9 = SubString(CA9, 0, 6) == "-water"
    local boolean LU9 = SubString(CA9, 0, 6) == "-quote"
    local boolean LV9 = SubString(CA9, 0, 3) == "-cm"
    local boolean LW9 = SubString(CA9, 0, 9) == "-itemswap"
    local boolean LX9 = CA9 == "-bonus"
    local boolean LY9 = CA9 == "-rollhero" or CA9 == "-rh"
    local boolean LZ9 = SubString(CA9, 0, 9) == "-rickroll"
    local boolean NoSwitch = CA9 == "-noswitch"
    local boolean Switch = SubString(CA9, 0, 7) == "-switch"or CA9 == "-ok"or CA9 == "-no"
    local boolean Terrain = SubString(CA9, 0, 8) == "-terrain"
    local boolean LB9 = CA9 == "-ii" or CA9 == "-iteminfo"
    local boolean IT8 = CA9 == "-center" or CA9 == "-centeroff" or CA9 == "-c" or CA9 == "-co"
    local boolean Unlock = CA9 == "-unlock"
    local boolean LC9 = CA9 == "-disableselection"or CA9 == "-ds"
    local boolean L39 = CA9 == "-enableselection"or CA9 == "-es"
    local boolean L69 = CA9 == "-sleep"
    local boolean LL9 = CA9 == "-calm"
    local boolean M18 = CA9 == "-st"
    // local boolean L19 = SubString(CA9, 0, 10) == "-aiunstuck"
    local boolean L09 = StringLength(CA9) > 3 and SubString(CA9, 0, 3) == "-cs"
    local boolean L59 = StringLength(CA9) > 3 and SubString(CA9, 0, 3) == "-ms"
    // local boolean L29 = CA9 == "-aid"
    // local boolean D4D = CA9 == "-t"
    // local boolean D8D = CA9 == "-aimsg"
    // local boolean D9D = CA9 == "-aimsgmiss"
    // local boolean DDD = (CA9 == "-aiboard")
    // local boolean DED = CA9 == "-aiglyph"
    // local boolean DFD = ((CA9 == "-aishowde")or(CA9 == "-aishowdg")or(CA9 == "-aishowdedg")or(CA9 == "-aishowdynamic"))
    call PP8("DGD", CB9)
    call PP8("DHD", CC9)
    call PP8("DID", C39)
    call PP8("DJD", C69)
    call PP8("DKD", CL9)
    call PP8("DMD", C19)
    call PP8("DND", C09)
    call PP8("DOD", C59)
    call PP8("DPD", C29)
    call PP8("DQD", C_9)
    call PP8("DRD", L49)
    call PP8("DSD", L79)
    call PP8("DTD", L89)
    call PP8("DUD", L99)
    call PP8("DVD", LD9)
    call PP8("DWD", LE9)
    call PP8("DXD", LF9)
    call PP8("DYD", LG9)
    call PP8("DZD", LH9)
    call PP8("DAD", LI9)
    call PP8("DBD", LJ9)
    call PP8("DCD", LK9)
    call PP8("DisplayAfkTime", Afk)
    call PP8("KickAfkPlayer", KickAfk)
    call PP8("D3D", LM9)
    call PP8("D6D", LN9)
    call PP8("DLD", LO9)
    call PP8("D1D", LP9)
    call PP8("D0D", LQ9)
    call PP8("D5D", LR9)
    call PP8("D2D", LS9)
    call PP8("D_D", LT9)
    call PP8("E4D", LU9)
    call PP8("E7D", LV9)
    call PP8("E8D", LW9)
    call PP8("E9D", LX9)
    call PP8("EDD", LY9)
    call PP8("EED", LZ9)
    call PP8("EFD", LB9)
    call PP8("EHD", IT8)
    call PP8("EID", LC9)
    call PP8("EJD", L39)
    call PP8("EKD", L69)
    call PP8("EMD", M18)
    call PP8("END", LL9)
    call PP8("EOD", L09)
    call PP8("EPD", L59)
    // call PP8("EQD", L29)
    // call PP8("ERD", L19)
    // call PP8("ETD", D4D)
    // call PP8("EVD", D8D)
    // call PP8("EWD", D9D)
    // call PP8("EXD", DDD)
    // call PP8("EYD", DED)
    // call PP8("EZD", DFD)
    call PP8("Command_Terrain", Terrain)
endfunction
function ETD takes nothing returns nothing
    local group g = OG8()
    local unit u
    local integer i = 0
    local ability a
    call GroupEnumUnitsSelected(g, GetTriggerPlayer(), Condition(function KF8))
    set u = FirstOfGroup(g)
    call BJDebugMsg(R2S(BlzGetUnitRealField(u, UNIT_RF_SPEED)))
    call OF8(g)
    set a = null
    set g = null
    set u = null
endfunction
// function EVD takes nothing returns nothing
//     local integer player_id = GetPlayerId(GetTriggerPlayer())
//     set SystemSwitch[player_id] = (not SystemSwitch[player_id])
//     call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10., GetObjectName('Y097') + TertiaryStringOp(SystemSwitch[player_id], GetObjectName('Y1ON'), GetObjectName('YOOF')))
// endfunction
// function EWD takes nothing returns nothing
//     local integer player_id = GetPlayerId(GetTriggerPlayer())
//     set SystemSwitch[16 + player_id] = (not SystemSwitch[16 + player_id])
//     call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10., GetObjectName('Y096') + TertiaryStringOp(SystemSwitch[16 + player_id], GetObjectName('Y1ON'), GetObjectName('YOOF')))
//     if(SystemSwitch[16 + player_id])and(not SystemSwitch[player_id])then
//         call EVD()
//     endif
// endfunction
// function DisplayInfo takes player p returns nothing
//     local integer player_id = GetPlayerId(p)
//     if p == CaptainSent then
//         set AutoDefSent = not AutoDefSent
//         call DisplayTimedTextToForce(E8, 10., GetObjectName('Y095') + TertiaryStringOp(AutoDefSent, GetObjectName('Y1ON'), GetObjectName('YOOF')))
//         if not AutoDefSent then
//             call DisplayTimedTextToForce(E8, 10., GetObjectName('Y070'))
//         endif
//         call DisplayTimedTextToForce(E8, 10., " ")
//     elseif p == CaptainScrg then
//         set AutoDefScrg = not AutoDefScrg
//         call DisplayTimedTextToForce(F8, 10., GetObjectName('Y095') + TertiaryStringOp(AutoDefScrg, GetObjectName('Y1ON'), GetObjectName('YOOF')))
//         if not AutoDefScrg then
//             call DisplayTimedTextToForce(F8, 10., GetObjectName('Y070'))
//         endif
//         call DisplayTimedTextToForce(F8, 10., " ")
//     endif
//     set p = null
// endfunction
// function EYD takes nothing returns nothing
//     call DisplayInfo(GetTriggerPlayer())
// endfunction
function EED takes nothing returns nothing
    local integer a = S2I(SubString(GetEventPlayerChatString(), 10, StringLength(GetEventPlayerChatString())))
    local integer D5 = GetPlayerId(GetTriggerPlayer())
    set Rw[D5] = Rw[D5] + 1
    if Rw[D5] > 10 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, (GetObjectName(('n0DQ'))))
        return
    endif
    if a < 1 or a > 8 then
        set a = GetRandomInt(1, 8)
    endif
    if a == 1 then
        call NN8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r's never gonna give you up")
    elseif a == 2 then
        call NN8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r's never gonna let you down")
    elseif a == 3 then
        call NN8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r's never gonna run around")
    elseif a == 4 then
        call NN8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r's never gonna desert you")
    elseif a == 5 then
        call NN8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r's never gonna make you cry")
    elseif a == 6 then
        call NN8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r's never gonna say goodbye")
    elseif a == 7 then
        call NN8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r's never gonna tell a lie")
    elseif a == 8 then
        call NN8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r's never gonna hurt you")
    endif
endfunction
function EBD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
    set t = null
    return false
endfunction
function EKD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = Y7[GetPlayerId(GetTriggerPlayer())]
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Sleep\\SleepTarget.mdl", Z77, "overhead")))
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerAddCondition(t, Condition(function EBD))
    call SetUnitAnimation(Z77, "sleep")
    set t = null
    set Z77 = null
endfunction
function END takes nothing returns nothing
    call SetUnitAnimationByIndex(Y7[GetPlayerId(GetTriggerPlayer())], 23)
endfunction
function ECD takes nothing returns boolean
    if W9 == false then
        return false
    endif
    if D7[GetPlayerId(lx)] then
        return false
    endif
    if V == false then
        return false
    endif
    if Y7[GetPlayerId(lx)] != null and Y9 == false then
        return false
    endif
    if B[GetPlayerId(lx)] then
        return false
    endif
    if Z9[GetPlayerId(lx)]and Y9 == false then
        return false
    endif
    if Y9 and eo[GetPlayerId(lx)]then
        return false
    endif
    // if(lx == CaptainSent and RV4 != null)or(lx == CaptainScrg and RW4 != null)then
    //     call DisplayTimedTextToPlayer(lx, 0, V9, 10, "Cannot random when manual picking.")
    //     return false
    // endif
    return true
endfunction
function E3D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local string E6D = (LoadStr(R8, (EC8), (146)))
    set lx = p
    if ECD()then
        set D7[GetPlayerId(p)] = true
        if E6D == "-random int" then
            call N48(p)
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 100)
        elseif E6D == "-random str" then
            call ND8(p)
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 100)
        elseif E6D == "-random agi" then
            call NE8(p)
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 100)
        else
            call NF8(p)
        endif
    else
        call DisplayTimedTextToPlayer(p, 0, V9, 10, (GetObjectName(('n079'))))
    endif
    set t = null
    set p = null
    return false
endfunction
function DGD takes nothing returns nothing
    local player j8 = GetTriggerPlayer()
    local trigger t
    set lx = j8
    if ECD()and oo[GetPlayerId(j8)] == false then
        set oo[GetPlayerId(j8)] = true
        call MM8(j8)
        call DisplayTimedTextToPlayer(j8, 0, V9, 10, (GetObjectName('n07A')))
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 6., false)
        call TriggerAddCondition(t, Condition(function E3D))
        call SavePlayerHandle(R8, (GetHandleId(t)), (54), (j8))
        call SaveStr(R8, (GetHandleId(t)), (146), (StringCase(GetEventPlayerChatString(), false)))
    endif
    set t = null
endfunction
function ELD takes nothing returns boolean
    local unit N28 = Y7[GetPlayerId(GetTriggerPlayer())]
    if PH4 then
        call PN8(GetTriggerPlayer(), (GetObjectName(('n030'))))
        return false
    endif
    if X9 == false then
        if VT == false and O9 == false and OL4 == false and O14 == false and O_4 == false and P44 == false and Y9 == false and D9 == false then
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, "-repick " + (GetObjectName(('n05B'))))
        endif
        return false
    endif
    if(B[GetPlayerId(GetTriggerPlayer())])then
        return false
    endif
    if(Y7[GetPlayerId(GetTriggerPlayer())] == null)then
        return false
    endif
    if T4 or O9 or Y9 then
        return false
    endif
    if(B9)then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n050'))))
        return false
    endif
    if(GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) < E7)then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n059'))))
        return false
    endif
    if GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) < 350 and X4 or F9 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n05U'))))
        return false
    endif
    if GetUnitState(N28, UNIT_STATE_MANA) != GetUnitState(N28, UNIT_STATE_MAX_MANA)or GetUnitState(N28, UNIT_STATE_LIFE) != GetUnitState(N28, UNIT_STATE_MAX_LIFE)then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n05J'))))
        return false
    endif
    set N28 = null
    return true
endfunction
function E1D takes nothing returns nothing
    if(IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO))then
        if(GetUnitTypeId(GetEnumUnit()) == 'U006')then
            call ExecuteFunc("QY9")
        elseif GetUnitTypeId(GetEnumUnit()) == 'U008' or GetUnitTypeId(GetEnumUnit()) == 'E015' then
            set IE4 = GetEnumUnit()
            call ExecuteFunc("RY9")
        endif
        call NN8(M4(GetTriggerPlayer()), 10., (GetObjectName(('n05L'))) + " " + NC8(GetEnumUnit()) + ".")
    endif
    if(GetUnitTypeId(GetEnumUnit()) == 'n004')then
        call RemoveUnit(GetEnumUnit())
    endif
    if(GetUnitTypeId(GetEnumUnit()) == 'n018')then
        call RemoveUnit(GetEnumUnit())
    endif
    if(GetUnitTypeId(GetEnumUnit()) == 'n01C')then
        call RemoveUnit(GetEnumUnit())
    endif
    if(GetUnitTypeId(GetEnumUnit()) == 'n01G')then
        call RemoveUnit(GetEnumUnit())
    endif
endfunction
function E0D takes nothing returns nothing
    local player E5D = GetTriggerPlayer()
    local group QA9 = OG8()
    local integer N78
    local integer N88
    local location N98
    local integer MV8
    local integer T8
    local integer U8
    local unit E2D
    local location E_D = GetRectCenter(ZD)
    local location F4D = GetRectCenter(qr)
    set bj_groupEnumOwningPlayer = E5D
    call GroupEnumUnitsInRect(QA9, GetWorldBounds(), filterGetUnitsInRectOfPlayer)
    if(KN8(E5D))then
        set N78 = KC4
        set N88 = K34
        set N98 = GetRectCenter(XD)
    else
        set N78 = K64
        set N88 = KL4
        set N98 = GetRectCenter(WD)
    endif
    if V4 then
        if(GetRandomInt(1, 2) == 1)then
            set N78 = KC4
            set N88 = K34
        else
            set N78 = K64
            set N88 = KL4
        endif
    endif
    if X4 or F9 then
        set E7 = 100
    endif
    set E2D = (LoadUnitHandle(R8, (GetHandleId(GetTriggerPlayer())), (147)))
    if E2D != null and GetUnitTypeId(E2D) == 'e00C' then
        call RemoveUnit(E2D)
    endif
    set E2D = null
    call AdjustPlayerStateBJ(- 1 * E7, E5D, PLAYER_STATE_RESOURCE_GOLD)
    set B[GetPlayerId(E5D)] = true
    call ForGroup(QA9, function E1D)
    if D7[GetPlayerId(E5D)] then
        call MK8(GetUnitTypeId(Y7[GetPlayerId(E5D)]))
    endif
    call PA8(Y7[GetPlayerId(E5D)])
    set Y7[GetPlayerId(GetTriggerPlayer())] = null
    if X4 or F9 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, (GetObjectName(('N05Y'))))
        if X4 then
            set T8 = KC4
            set U8 = KL4
        endif
        if KN8(E5D)then
            if F9 then
                set T8 = KC4
                set U8 = K34
                call CreateUnitAtLoc(E5D, 'n00C', E_D, bj_UNIT_FACING)
            else
                call CreateUnitAtLoc(E5D, 'n00C', E_D, bj_UNIT_FACING)
                call CreateUnitAtLoc(E5D, 'n00C', F4D, bj_UNIT_FACING)
            endif
            call PanCameraToTimedLocForPlayer(E5D, E_D, 0)
        else
            if F9 then
                set T8 = K64
                set U8 = KL4
                call CreateUnitAtLoc(E5D, 'n00C', F4D, bj_UNIT_FACING)
            else
                call CreateUnitAtLoc(E5D, 'n00C', E_D, bj_UNIT_FACING)
                call CreateUnitAtLoc(E5D, 'n00C', F4D, bj_UNIT_FACING)
            endif
            call PanCameraToTimedLocForPlayer(E5D, F4D, 0)
        endif
        loop
            exitwhen T8 > U8
            if O[T8] == false then
                call SetPlayerTechMaxAllowed(E5D, KA4[T8], 1)
            endif
            set T8 = T8 + 1
        endloop
        call OF8(QA9)
        set QA9 = null
        call RemoveLocation(N98)
        set N98 = null
        call RemoveLocation(E_D)
        set E_D = null
        call RemoveLocation(F4D)
        set F4D = null
        return
    endif
    loop
        set MV8 = GetRandomInt(N78, N88)
        if(O[MV8] == false)then
            set O[MV8] = true
            set Y7[GetPlayerId(E5D)] = CreateUnitAtLoc(E5D, KA4[MV8], N98, bj_UNIT_FACING)
            call MJ8(KA4[MV8])
        endif
        exitwhen Y7[GetPlayerId(GetTriggerPlayer())] != null
    endloop
    call OF8(QA9)
    set QA9 = null
    call RemoveLocation(N98)
    set N98 = null
    call RemoveLocation(E_D)
    set E_D = null
    call RemoveLocation(F4D)
    set F4D = null
endfunction
function DHD takes nothing returns nothing
    if ELD()then
        call E0D()
    endif
endfunction
function DID takes nothing returns nothing
    local player j8 = GetTriggerPlayer()
    local string F7D = "|c006699CC"
    if O_4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "League Mode" + "|r:      " + (GetObjectName(('n075'))))
    endif
    if P44 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Extended League" + "|r:      " + (GetObjectName(('n07B'))))
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "                                 " + (GetObjectName(('n070'))))
    endif
    if T4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Death Match" + "|r:        " + (GetObjectName(('n06Z'))))
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "                              " + (GetObjectName(('n06Y'))) + " " + I2S(IMinBJ(K34, KL4 - K64 + 1)) + " " + (GetObjectName(('n07C'))))
    endif
    if D9 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Mirror Match" + "|r:       " + (GetObjectName(('n06W'))))
    endif
    if X4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "All Pick" + "|r:                 " + (GetObjectName(('n06V'))))
    endif
    if OL4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Random Draft" + "|r:                 " + (GetObjectName(('n072'))))
    endif
    if VT then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Single Draft" + "|r:                 " + (GetObjectName(('n07G'))))
    endif
    if V4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "All Random" + "|r:          " + (GetObjectName(('n071'))))
    endif
    if O9 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Vote Random" + "|r:         " + (GetObjectName(('n074'))))
    endif
    if W4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Team Random" + "|r:     " + (GetObjectName(('n06M'))))
    endif
    if Y9 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Reverse" + "|r:                 " + (GetObjectName(('n073'))))
    endif
    if ge then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Shuffle Players" + "|r:     " + (GetObjectName(('n07H'))))
    endif
    if Rx then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "All Agility" + "|r:             " + (GetObjectName(('n07L'))))
    endif
    if bx then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "All Strength" + "|r:         " + (GetObjectName(('n07K'))))
    endif
    if Nx then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "All Intelligence" + "|r:    " + (GetObjectName(('n07J'))))
    endif
    if Jj then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Range Only" + "|r:    " + (GetObjectName(('n0G4'))))
    endif
    if lj then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Melee Only" + "|r:    " + (GetObjectName(('n0G5'))))
    endif
    if E9 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Duplicate Mode" + "|r:   " + (GetObjectName(('n07I'))))
    endif
    if Y4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Item Drop" + "|r:             " + (GetObjectName(('n07F'))))
    endif
    if G7 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "No Powerups" + "|r:        " + (GetObjectName(('n07M'))))
    endif
    if M7 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Super Creeps" + "|r:        " + (GetObjectName(('n07N'))))
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "                             " + (GetObjectName(('n07O'))))
    endif
    if F7 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Easy Mode" + "|r:           " + (GetObjectName(('n07T'))))
    endif
    if HO4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Same Hero" + "|r:           " + (GetObjectName(('n07U'))) + " " + (KW4[GetPlayerId((V8))]) + "|r" + " " + (GetObjectName(('n07W'))))
    endif
    if P94 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Only Mid" + "|r:           " + (GetObjectName(('n080'))))
    endif
    if PD4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "No Bot" + "|r:           " + (GetObjectName(('n07V'))))
    endif
    if PE4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "No Mid" + "|r:           " + (GetObjectName(('n07S'))))
    endif
    if PF4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "No Top" + "|r:           " + (GetObjectName(('n07R'))))
    endif
    if PG4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "No Swap" + "|r:           " + (GetObjectName(('n07X'))))
    endif
    if PH4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "No Repick" + "|r:           " + (GetObjectName(('n07Q'))))
    endif
    if PI4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Pool Mode" + "|r:           " + (GetObjectName(('n07Y'))))
    endif
    if PJ4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Observer Info" + "|r:           " + (GetObjectName(('n07Z'))))
    endif
    if bN then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Mini Heroes" + "|r:           " + (GetObjectName(('n0EC'))))
    endif
    if BS then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Fast Respawn" + "|r:           " + (GetObjectName(('n0DP'))))
    endif
    if TT4 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Captains Mode" + "|r:           " + (GetObjectName(('n0ED'))))
    endif
    if CS then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Experimental Runes" + "|r:           " + (GetObjectName(('n0G6'))))
    endif
    if O14 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Captains Draft" + "|r:           " + (GetObjectName(('n0GF'))))
    endif
    if F9 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, F7D + "Normal Mode" + "|r:        " + (GetObjectName(('n07P'))))
    endif
    if SuperTower then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "Super Tower|r:         Towers regenerates HP")
    endif
    if SuperCreeps then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "Modified Super Creeps|r:  An improved version of Super Creeps")
    endif
    if HighExp then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "High Exp AI|r:            The AI has increased experience gain.")
    endif
    if NormalExp then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "Normal Exp AI|r:       The AI receives the default amount of experience.")
    endif
    if DynamicExp then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "Dynamic Exp AI|r:       AI gets bonus exp rate on death or on a period without death/kill/assist. Bonus exp is reduced on kill/assist.")
    endif
    if HighGold then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "High Gold AI|r:           The AI has increased gold gain.")
    endif
    if NormalGold then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "Normal Gold AI|r:      The AI receives the default amount of gold.")
    endif
    if DynamicGold then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "Dynamic Gold AI|r:       AI gets bonus gold rate on death or on a period without death/kill/assist. Bonus gold rate reduced on kill/assist.")
    endif
    if FX7 then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "Xtreme AI|r:          Increases bonuses from Dynamic Exp and Gold.")
    endif
    if CoolName then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "Cool Names|r:          The AI receives a random cool name.")
    endif
    if AllDagon then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "All Dagon|r:          The AI receives random ML8 Dagon at random times.")
    endif
    if NoNecronomicon then
        call DisplayTimedTextToPlayer(j8, 0, V9, 20, "|c00dd8dff" + "No Necronomicon|r:    The AI will not build Necronomicon.")
    endif
endfunction
function P5 takes nothing returns nothing
    if((GetUnitTypeId(GetEnumUnit()) == 'n004')or(GetUnitTypeId(GetEnumUnit()) == 'o003'))then
        call RemoveUnit(GetEnumUnit())
    endif
endfunction
function F8D takes unit u1, unit u2 returns nothing
    local player Me = GetOwningPlayer(u1)
    local player F9D = GetOwningPlayer(u2)
    local unit FDD = CreateUnit(Me, 'e01F', 0, 0, 0)
    local group g
    local item FED
    local integer FFD
    if D7[GetPlayerId(Me)] then
        if GetPlayerState(Me, PLAYER_STATE_RESOURCE_GOLD) < 100 then
            return
        endif
    endif
    if D7[GetPlayerId(F9D)] then
        if GetPlayerState(F9D, PLAYER_STATE_RESOURCE_GOLD) < 100 then
            return
        endif
    endif
    if D7[GetPlayerId(Me)] and B[GetPlayerId(Me)] == false and O34[GetPlayerId(Me)] == 0 then
        set O34[GetPlayerId(Me)] = 1
        call SetPlayerState(Me, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(Me, PLAYER_STATE_RESOURCE_GOLD) - 100)
    endif
    if D7[GetPlayerId(F9D)] and B[GetPlayerId(F9D)] == false and O34[GetPlayerId(F9D)] == 0 then
        set O34[GetPlayerId(F9D)] = 1
        call SetPlayerState(F9D, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(F9D, PLAYER_STATE_RESOURCE_GOLD) - 100)
    endif
    set FFD = WQ4[GetPlayerId(Me)]
    set WQ4[GetPlayerId(Me)] = WQ4[GetPlayerId(F9D)]
    set WQ4[GetPlayerId(F9D)] = FFD
    call DisableTrigger(GW4)
    if GetUnitAbilityLevel(u1, 'A03E') > 0 then
        set B2 = u1
        set C2 = u2
        call ExecuteFunc("FGD")
    elseif GetUnitAbilityLevel(u2, 'A03E') > 0 then
        set B2 = u2
        set C2 = u1
        call ExecuteFunc("FGD")
    endif
    if GetUnitAbilityLevel(u1, 'A0CY') > 0 or GetUnitAbilityLevel(u1, 'A1IV') > 0 then
        set B2 = u1
        set C2 = u2
        call ExecuteFunc("FHD")
    elseif GetUnitAbilityLevel(u2, 'A0CY') > 0 or GetUnitAbilityLevel(u2, 'A1IV') > 0 then
        set B2 = u2
        set C2 = u1
        call ExecuteFunc("FHD")
    endif
    call FlushChildHashtable(R8, (800 + GetPlayerId(GetOwningPlayer(u1))))
    call FlushChildHashtable(R8, (800 + GetPlayerId(GetOwningPlayer(u2))))
    set g = OG8()
    set bj_groupEnumOwningPlayer = Me
    call GroupEnumUnitsInRect(g, GetWorldBounds(), filterGetUnitsInRectOfPlayer)
    call ForGroup(g, function P5)
    call OF8(g)
    set g = OG8()
    set bj_groupEnumOwningPlayer = F9D
    call GroupEnumUnitsInRect(g, GetWorldBounds(), filterGetUnitsInRectOfPlayer)
    call ForGroup(g, function P5)
    call OF8(g)
    call SetUnitOwner(u2, Me, true)
    call SetUnitOwner(u1, F9D, true)
    set Y7[GetPlayerId(Me)] = u2
    set Y7[GetPlayerId(F9D)] = u1
    call SetPlayerName(Me, NM8(Me) + " (" + NC8(Y7[GetPlayerId(Me)]) + ")")
    call SetPlayerName(F9D, NM8(F9D) + " (" + NC8(Y7[GetPlayerId(F9D)]) + ")")
    call UnitAddItem(FDD, UnitItemInSlot(u2, 0))
    call UnitAddItem(FDD, UnitItemInSlot(u2, 1))
    call UnitAddItem(FDD, UnitItemInSlot(u2, 2))
    call UnitAddItem(FDD, UnitItemInSlot(u2, 3))
    call UnitAddItem(FDD, UnitItemInSlot(u2, 4))
    call UnitAddItem(FDD, UnitItemInSlot(u2, 5))
    set FED = UnitItemInSlot(u1, 0)
    if FED != null then
        call SetItemPlayer(FED, Me, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u2, FED)
    endif
    set FED = UnitItemInSlot(u1, 1)
    if FED != null then
        call SetItemPlayer(FED, Me, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u2, FED)
    endif
    set FED = UnitItemInSlot(u1, 2)
    if FED != null then
        call SetItemPlayer(FED, Me, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u2, FED)
    endif
    set FED = UnitItemInSlot(u1, 3)
    if FED != null then
        call SetItemPlayer(FED, Me, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u2, FED)
    endif
    set FED = UnitItemInSlot(u1, 4)
    if FED != null then
        call SetItemPlayer(FED, Me, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u2, FED)
    endif
    set FED = UnitItemInSlot(u1, 5)
    if FED != null then
        call SetItemPlayer(FED, Me, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u2, FED)
    endif
    set FED = UnitItemInSlot(FDD, 0)
    if FED != null then
        call SetItemPlayer(FED, F9D, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u1, FED)
    endif
    set FED = UnitItemInSlot(FDD, 1)
    if FED != null then
        call SetItemPlayer(FED, F9D, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u1, FED)
    endif
    set FED = UnitItemInSlot(FDD, 2)
    if FED != null then
        call SetItemPlayer(FED, F9D, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u1, FED)
    endif
    set FED = UnitItemInSlot(FDD, 3)
    if FED != null then
        call SetItemPlayer(FED, F9D, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u1, FED)
    endif
    set FED = UnitItemInSlot(FDD, 4)
    if FED != null then
        call SetItemPlayer(FED, F9D, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u1, FED)
    endif
    set FED = UnitItemInSlot(FDD, 5)
    if FED != null then
        call SetItemPlayer(FED, F9D, false)
        call SetItemUserData(FED, 1)
        call UnitAddItem(u1, FED)
    endif
    call RemoveUnit(FDD)
    call EnableTrigger(GW4)
    if(IsUnitType(u1, UNIT_TYPE_MELEE_ATTACKER))and AV7(u1, BU[DD4]) != null then
        call UnitRemoveItem(u1, AV7(u1, BU[DD4]))
    elseif(IsUnitType(u1, UNIT_TYPE_RANGED_ATTACKER))and AV7(u1, BU[D94]) != null then
        call UnitRemoveItem(u1, AV7(u1, BU[D94]))
    endif
    if(IsUnitType(u2, UNIT_TYPE_MELEE_ATTACKER))and AV7(u2, BU[DD4]) != null then
        call UnitRemoveItem(u1, AV7(u2, BU[DD4]))
    elseif(IsUnitType(u2, UNIT_TYPE_RANGED_ATTACKER))and AV7(u2, BU[D94]) != null then
        call UnitRemoveItem(u1, AV7(u2, BU[D94]))
    endif
    call ClearSelectionForPlayer(Me)
    call SelectUnitAddForPlayer(u2, Me)
    call ClearSelectionForPlayer(F9D)
    call SelectUnitAddForPlayer(u1, F9D)
    call FlushChildHashtable(R8, (800 + GetPlayerId(Me)))
    call FlushChildHashtable(R8, (800 + GetPlayerId(F9D)))
    set H04 = u1
    call ExecuteFunc("J39")
    set H04 = u2
    call ExecuteFunc("J39")
    call W58(GetOwningPlayer(u1), "9", GetUnitTypeId(u1))
    call W58(GetOwningPlayer(u2), "9", GetUnitTypeId(u2))
    call X48("SWAP_" + I2S(GetPlayerId(GetOwningPlayer(u1))) + "_" + I2S(GetPlayerId(GetOwningPlayer(u2))), GetUnitTypeId(u1))
    call X48("SWAP_" + I2S(GetPlayerId(GetOwningPlayer(u2))) + "_" + I2S(GetPlayerId(GetOwningPlayer(u1))), GetUnitTypeId(u2))
    call WV8(Me)
    call WV8(F9D)
    // if(GetPlayerController(F9D) == MAP_CONTROL_COMPUTER)then
    //     call DU8(S44,"AIHSwap|U",u1)
    //     call ExecuteFunc("AiRegSthSwap")
    // endif
    set Me = null
    set F9D = null
    set g = null
    set FDD = null
    set FED = null
endfunction
function yM takes unit u1, unit u2 returns boolean
    return(LoadBoolean(R8, (800 + GetPlayerId(GetOwningPlayer(u2))), (GetUnitTypeId(u1) + GetUnitTypeId(u2))))
endfunction
function YL takes nothing returns nothing
    call FlushChildHashtable(R8, (800 + GetPlayerId(GetTriggerPlayer())))
endfunction
function qA takes player p returns integer
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if G8[i] == p or N8[i] == p then
            return i
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function YT takes unit u1, unit u2, boolean GM2 returns boolean
    call SaveBoolean(R8, (800 + GetPlayerId(GetOwningPlayer(u1))), (GetUnitTypeId(u1) + GetUnitTypeId(u2)), (true))
    if yM(u1, u2)then
        call F8D(u1, u2)
        return true
    else
        call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, V9, 30, "  ")
        call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, V9, 30, "                         " + W[GetPlayerId(GetOwningPlayer(u1))] + GetUnitName(u1) + "|r |cff99ccff" + GetObjectName('n082') + " " + GetObjectName('n083') + "|r |c00ff0303-swap " + I2S(qA(GetOwningPlayer(u1))) + "|r |cff99ccff" + GetObjectName('n081') + "|r")
        call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, V9, 30, "  ")
        if GM2 then
            call DisplayTimedTextToPlayer(GetOwningPlayer(u1), 0, V9, 30, "  ")
            call DisplayTimedTextToPlayer(GetOwningPlayer(u1), 0, V9, 30, "|cff99ccff" + GetObjectName('n08C') + " |r" + W[GetPlayerId(GetOwningPlayer(u2))] + GetUnitName(u2) + "|r")
            call DisplayTimedTextToPlayer(GetOwningPlayer(u1), 0, V9, 30, "  ")
        endif
        if(GetPlayerController(GetOwningPlayer(u2)) == MAP_CONTROL_USER)then
            call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, V9, 30, "  ")
            call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, V9, 30, "                         " + W[GetPlayerId(GetOwningPlayer(u1))] + GetUnitName(u1) + "|r |cff99ccff" + GetObjectName('n082') + " " + GetObjectName('n083') + "|r |c00ff0303-swap " + I2S(qA(GetOwningPlayer(u1))) + "|r |cff99ccff" + GetObjectName('n081') + "|r")
            call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, V9, 30, "  ")
        else
            if(GetHeroSkillPoints(u1) != GetHeroLevel(u1))then
                call BlzDisplayChatMessage(GetOwningPlayer(u2), 1, GetObjectName('Y128'))
            elseif(Bz > RD4)then
                call BlzDisplayChatMessage(GetOwningPlayer(u2), 1, GetObjectName('Y129'))
            elseif((hG[GetPlayerId(GetOwningPlayer(u2))] > 0)or(not AT7(u2)))then
                call BlzDisplayChatMessage(GetOwningPlayer(u2), 1, GetObjectName('Y130'))
            elseif(not AT7(u1))then
                call BlzDisplayChatMessage(GetOwningPlayer(u2), 1, GetObjectName('Y131'))
            else
                call BlzDisplayChatMessage(GetOwningPlayer(u2), 1, "-swap " + I2S(GetPlayerRank(GetOwningPlayer(u1))))
                call F8D(u1, u2)
            endif
        endif
    endif
    return false
endfunction
function YV takes nothing returns nothing
    local integer i = S2I(SubString(GetEventPlayerChatString(), 6, StringLength(GetEventPlayerChatString())))
    if GetEventPlayerChatString() == "-swapall" then
        set i = 1
        set H54 = Y7[GetPlayerId(GetTriggerPlayer())]
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            if KN8(GetTriggerPlayer())then
                set I44 = G8[i]
            else
                set I44 = N8[i]
            endif
            set H04 = Y7[GetPlayerId(I44)]
            if not(H54 == null or GetOwningPlayer(H54) != GetTriggerPlayer()or H04 == null or GetOwningPlayer(H04) != I44 or I44 == GetTriggerPlayer())then
                if YT(H54, H04, false)then
                    return
                endif
            endif
            set i = i + 1
        endloop
        return
    elseif i < 1 or i > MAX_TEAM_PLAYERS then
        call PN8(GetTriggerPlayer(), GetObjectName('n02Z'))
        return
    endif
    set H54 = Y7[GetPlayerId(GetTriggerPlayer())]
    if KN8(GetTriggerPlayer())then
        set I44 = G8[i]
    else
        set I44 = N8[i]
    endif
    set H04 = Y7[GetPlayerId(I44)]
    if H54 == null or GetOwningPlayer(H54) != GetTriggerPlayer()or H04 == null or GetOwningPlayer(H04) != I44 or I44 == GetTriggerPlayer()then
        call PN8(GetTriggerPlayer(), GetObjectName('n02Z'))
        return
    endif
    call YT(H54, H04, true)
endfunction
function Y2 takes nothing returns nothing
    local integer i
    local player p
    local unit u
    local string s
    if GetLocalPlayer() == GetTriggerPlayer()then
        call ClearTextMessages()
    endif
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 45, "|cff99ccff" + GetObjectName('n08B') + ":|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 45, " ")
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        set u = Y7[GetPlayerId(p)]
        if IsPlayerAlly(GetTriggerPlayer(), p)and GetTriggerPlayer() != p and u != null and GetOwningPlayer(u) == p then
            set s = " "
            if yM(Y7[GetPlayerId(GetTriggerPlayer())], u)then
                set s = " |c00ff0303(" + GetObjectName('n085') + ")|r"
            endif
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 45, W[GetPlayerId(p)] + I2S(i) + "|r" + " - " + "|cff99ccff" + GetUnitName(u) + "|r" + s)
        endif
        set p = N8[i]
        set u = Y7[GetPlayerId(p)]
        if IsPlayerAlly(GetTriggerPlayer(), p)and GetTriggerPlayer() != p and u != null and GetOwningPlayer(u) == p then
            set s = " "
            if yM(Y7[GetPlayerId(GetTriggerPlayer())], u)then
                set s = " |c00ff0303(" + GetObjectName('n085') + ")|r"
            endif
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 45, W[GetPlayerId(p)] + I2S(i) + "|r" + " - " + "|cff99ccff" + GetUnitName(u) + "|r" + s)
        endif
        set i = i + 1
    endloop
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 45, " ")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 45, "|cff99ccff" + GetObjectName('n083') + "|r |c00ff0303-swap #|r |cff99ccff" + GetObjectName('n086') + " -swapcancel " + GetObjectName('n087') + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 45, " ")
    set u = null
endfunction
function FJD takes player VR7 returns boolean
    local integer FKD = 1
    local integer FMD = 0
    loop
        exitwhen FKD > MAX_TEAM_PLAYERS
        if KN8(VR7)then
            if Y7[GetPlayerId(G8[FKD])] != null and G8[FKD] != VR7 and GetHeroLevel(Y7[GetPlayerId(G8[FKD])]) == 1 then
                set FMD = FMD + 1
            endif
        else
            if Y7[GetPlayerId(N8[FKD])] != null and N8[FKD] != VR7 and GetHeroLevel(Y7[GetPlayerId(N8[FKD])]) == 1 then
                set FMD = FMD + 1
            endif
        endif
        set FKD = FKD + 1
    endloop
    if FMD > 0 then
        return true
    else
        return false
    endif
endfunction
function FND takes nothing returns boolean
    if PG4 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, "-swaphero " + (GetObjectName(('n088'))))
        return false
    endif
    if D7[GetPlayerId(GetTriggerPlayer())] then
        if GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) < 100 then
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, GetObjectName('N0MT'))
            return false
        endif
    endif
    if GetUnitState(Y7[GetPlayerId(GetTriggerPlayer())], UNIT_STATE_LIFE) < 1 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08F'))))
        return false
    endif
    if NL4 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08G'))) + " -swaphero.")
        return false
    endif
    if FJD(GetTriggerPlayer()) == false then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08H'))))
        return false
    endif
    return true
endfunction
function DJD takes nothing returns nothing
    if FND()then
        if GetEventPlayerChatString() == "-swap"or GetEventPlayerChatString() == "-swaphero"then
            call Y2()
        elseif GetEventPlayerChatString() == "-swapcancel"then
            call YL()
        else
            call YV()
        endif
    endif
endfunction
function FOD takes nothing returns boolean
    return GetSpellAbilityId() == 'A0FI'
endfunction
function FPD takes integer abl_id, unit FQD, unit FRD returns nothing
    local integer T8 = 1
    local integer U8 = GetUnitAbilityLevel(FQD, abl_id)
    loop
        exitwhen T8 > U8
        call SelectHeroSkill(FRD, abl_id)
        set T8 = T8 + 1
    endloop
endfunction
function FSD takes nothing returns nothing
    local integer T8
    local integer U8
    local unit S4
    local location YG9 = GetUnitLoc(GetTriggerUnit())
    set S4 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), GetUnitTypeId(GetTriggerUnit()), YG9, bj_UNIT_FACING)
    call SetHeroXP(S4, GetHeroXP(GetTriggerUnit()), false)
    set T8 = 1
    set U8 = GetUnitAbilityLevel(GetTriggerUnit(), 'Aamk')
    loop
        exitwhen T8 > U8
        call SelectHeroSkill(S4, 'Aamk')
        set T8 = T8 + 1
    endloop
    set T8 = 0
    set U8 = bj_MAX_INVENTORY - 1
    loop
        exitwhen T8 > U8
        call UnitAddItem(S4, UnitItemInSlot(GetTriggerUnit(), T8))
        set T8 = T8 + 1
    endloop
    if(GetUnitTypeId(GetTriggerUnit()) == 'Eevi')then
        call FPD('A04L', GetTriggerUnit(), S4)
        call FPD('A0H4', GetTriggerUnit(), S4)
        call FPD('AEvi', GetTriggerUnit(), S4)
        call FPD('A07Q', GetTriggerUnit(), S4)
    endif
    if(GetUnitTypeId(GetTriggerUnit()) == 'U008')then
        call FPD('A03D', GetTriggerUnit(), S4)
        call FPD('A02G', GetTriggerUnit(), S4)
        call FPD('A03E', GetTriggerUnit(), S4)
        call FPD('A093', GetTriggerUnit(), S4)
    endif
    if(GetUnitTypeId(GetTriggerUnit()) == 'U007')then
        call FPD('A0F9', GetTriggerUnit(), S4)
        call FPD('A06Y', GetTriggerUnit(), S4)
        call FPD('A01E', GetTriggerUnit(), S4)
        call FPD('A028', GetTriggerUnit(), S4)
    endif
    if(GetUnitTypeId(GetTriggerUnit()) == 'Hlgr')then
        call FPD('A03G', GetTriggerUnit(), S4)
        call FPD('A03F', GetTriggerUnit(), S4)
        call FPD('A0O3', GetTriggerUnit(), S4)
        call FPD('AEim', GetTriggerUnit(), S4)
    endif
    if(GetUnitTypeId(GetTriggerUnit()) == 'Ekee')then
        call FPD('A035', GetTriggerUnit(), S4)
        call FPD('A06W', GetTriggerUnit(), S4)
        call FPD('A06V', GetTriggerUnit(), S4)
        call FPD('A06X', GetTriggerUnit(), S4)
    endif
    call PA8(GetTriggerUnit())
    call RemoveLocation(YG9)
    set Y7[GetPlayerId(GetOwningPlayer(S4))] = S4
    set YG9 = null
    set S4 = null
endfunction
function FTD takes nothing returns boolean
    local integer FUD = GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())])
    return(FUD == 'U008' or FUD == 'U007' or FUD == 'Hlgr' or FUD == 'Eevi' or FUD == 'Ekee')and(RectContainsUnit(BD, Y7[GetPlayerId(GetTriggerPlayer())])or RectContainsUnit(LD, Y7[GetPlayerId(GetTriggerPlayer())]))
endfunction
function FVD takes nothing returns nothing
    local unit N28 = Y7[GetPlayerId(GetTriggerPlayer())]
    call UnitAddAbility(N28, 'A0FI')
    call IssueImmediateOrderById(N28, 852663)
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 120., "|c00ff0303" + (GetObjectName(('n08I'))) + " " + NC8(GetEnumUnit()) + ". " + (GetObjectName(('n08J'))) + "|r")
    set N28 = null
endfunction
function DKD takes nothing returns nothing
    if FTD()then
        call FVD()
    endif
endfunction
function FWD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer P89 = GetTriggerEvalCount(t)
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_DEATH or P89 > 60 then
        if((LoadInteger(R8, (GetHandleId(N28)), (4259))) == 1) == false then
            if KN8(GetOwningPlayer(N28))then
                set x = GetRectCenterX(QD)
                set y = GetRectCenterY(QD)
            else
                set x = GetRectCenterX(PD)
                set y = GetRectCenterY(PD)
            endif
            call SetUnitPosition(N28, x, y)
            call PauseUnit(N28, false)
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call PauseUnit(N28, true)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function FXD takes player p returns nothing
    local unit N28 = Y7[GetPlayerId(p)]
    local trigger t
    if O18(N28) == false then
        set t = CreateTrigger()
        call DisplayTimedTextToPlayer(p, 0, V9, 30., (GetObjectName(('n08K'))))
        call UnitRemoveBuffs(N28, true, false)
        call UnitRemoveAbility(N28, 'Bcyc')
        call UnitRemoveAbility(N28, 'Bcy2')
        call UnitRemoveAbility(N28, 'B02J')
        call UnitRemoveAbility(N28, 'BUsp')
        call UnitRemoveAbility(N28, 'Bust')
        call UnitRemoveAbility(N28, 'B02F')
        call PauseUnit(N28, true)
        call TriggerRegisterTimerEvent(t, 1., true)
        call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function FWD))
        call SaveUnitHandle(R8, (GetHandleId(t)), (14), (N28))
    endif
    set p = null
    set N28 = null
    set t = null
endfunction
function FYD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call FXD(p)
    endif
    set t = null
    return false
endfunction
function DMD takes nothing returns nothing
    local player p = GetTriggerPlayer()
    local unit N28 = Y7[GetPlayerId(p)]
    local trigger t
    if O18(N28) == false then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 3.5, false)
        call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function FYD))
        call SavePlayerHandle(R8, (GetHandleId(t)), (54), (p))
    endif
    set p = null
    set N28 = null
    set t = null
endfunction
function FZD takes player p returns nothing
    local unit N28 = Y7[GetPlayerId(p)]
    local trigger t
    if O18(N28) == false then
        set t = CreateTrigger()
        call DisplayTimedTextToPlayer(p, 0, V9, 30.0, GetObjectName('n08K'))
        call UnitRemoveBuffs(N28, true, false)
        call UnitRemoveAbility(N28, 'Bcyc')
        call UnitRemoveAbility(N28, 'Bcy2')
        call UnitRemoveAbility(N28, 'B02J')
        call UnitRemoveAbility(N28, 'BUsp')
        call UnitRemoveAbility(N28, 'Bust')
        call UnitRemoveAbility(N28, 'B02F')
        call PauseUnit(N28, true)
        call TriggerRegisterTimerEvent(t, 1., true)
        call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function FWD))
        call SaveUnitHandle(R8, (GetHandleId(t)), (14), (N28))
    endif
    set p = null
    set N28 = null
    set t = null
endfunction
function ERD takes nothing returns nothing
    local string chat_str = GetEventPlayerChatString()
    local player pl = Z17(S2I(SubString(chat_str, 10, StringLength(chat_str))))
    // if((pl != null)and(KS8(pl))and(IsPlayerInForce(pl, AiForce)))then
    //     if(Y7[GetPlayerId(pl)] == null)then
    //         call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10., W[GetPlayerId(pl)] + GetPlayerName(pl) + "|r has no Hero")
    //     else
    //         call FZD(pl)
    //     endif
    // endif
    set pl = null
endfunction
function FAD takes player p returns string
    local string s = OD[GetPlayerId(p)]
    if OD[GetPlayerId(p)] != "Here" then
        return" |c00ff0303(" + (GetObjectName(('n089'))) + " at " + SubString(s, 10, StringLength(s)) + "|c00ff0303)|r"
    endif
    return" "
endfunction
function DND takes nothing returns nothing
    local integer T8 = 1
    local integer U8 = MAX_TEAM_PLAYERS
    local integer D5
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 20, " ")
    if(KO8(GetTriggerPlayer()))then
        loop
            exitwhen T8 > U8
            set D5 = GetPlayerId(G8[T8])
            if(Y7[D5] != null)then
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 20, W[D5] + (KW4[GetPlayerId((G8[T8]))]) + "|r " + (GetObjectName('n08M')) + " " + GetUnitName(Y7[D5]) + " (" + (GetObjectName(('n08L'))) + " " + I2S(GetUnitLevel(Y7[D5])) + ")" + FAD(G8[T8]))
            endif
            set T8 = T8 + 1
        endloop
    else
        loop
            exitwhen T8 > U8
            set D5 = GetPlayerId(N8[T8])
            if(Y7[D5] != null)then
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 20, W[D5] + (KW4[GetPlayerId((N8[T8]))]) + "|r " + (GetObjectName('n08M')) + " " + GetUnitName(Y7[D5]) + " (" + (GetObjectName(('n08L'))) + " " + I2S(GetUnitLevel(Y7[D5])) + ")" + FAD(N8[T8]))
            endif
            set T8 = T8 + 1
        endloop
    endif
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 20, " ")
endfunction
function FBD takes unit u returns boolean
    return GetUnitTypeId(u) == 'N01O' or GetUnitTypeId(u) == 'N013' or GetUnitTypeId(u) == 'N014' or GetUnitTypeId(u) == 'N015'
endfunction
function FCD takes unit u returns unit
    local integer W57 = GetHandleId(GetOwningPlayer(u))
    return(LoadUnitHandle(R8, (W57), (333)))
endfunction
function DOD takes nothing returns nothing
    local unit u
    local integer i = 0
    if AJ4 then
        return
    endif
    if(Y7[GetPlayerId(GetTriggerPlayer())] == null)then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., (GetObjectName(('n08A'))))
    else
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10.00, GetUnitName(Y7[GetPlayerId(GetTriggerPlayer())]) + " " + GetObjectName('n08N') + " " + I2S(R2I(0.5 + AH51(Y7[GetPlayerId(GetTriggerPlayer())]))))
        if FBD(Y7[GetPlayerId(GetTriggerPlayer())])then
            set u = FCD(Y7[GetPlayerId(GetTriggerPlayer())])
            if u != null then
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., GetUnitName(u) + " " + (GetObjectName(('n08N'))) + " " + I2S(R2I(.5 + GetUnitMoveSpeed(u))))
            endif
        endif
    endif
    set u = null
endfunction
function DPD takes nothing returns nothing
    local unit u
    local integer i = 0
    if AJ4 then
        return
    endif
    if(Y7[GetPlayerId(GetTriggerPlayer())] == null)then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., (GetObjectName(('n08A'))))
    else
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10.00, GetUnitName(Y7[GetPlayerId(GetTriggerPlayer())]) + " " + GetObjectName('n08N') + " " + I2S(R2I(0.5 + AH51(Y7[GetPlayerId(GetTriggerPlayer())]))))
        if FBD(Y7[GetPlayerId(GetTriggerPlayer())])then
            set u = FCD(Y7[GetPlayerId(GetTriggerPlayer())])
            if u != null then
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., GetUnitName(u) + " " + GetObjectName('n08N') + " " + I2S(R2I(.5 + GetUnitMoveSpeed(u))))
            endif
        endif
    endif
    loop
        exitwhen i >= bj_MAX_PLAYER_SLOTS
        set u = Y7[i]
        if u != null and u != Y7[GetPlayerId(GetTriggerPlayer())]and IsUnitAlly(u, GetTriggerPlayer()) then
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., GetUnitName(u) + " " + GetObjectName('n08N') + " " + I2S(R2I(.5 + GetUnitMoveSpeed(u))))
        endif
        set i = i + 1
    endloop
    set u = null
endfunction
function DQD takes nothing returns nothing
    call SaveBoolean(R8, (GetHandleId(GetTriggerPlayer())), (139), (true))
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08R'))))
endfunction
function DRD takes nothing returns nothing
    call SaveBoolean(R8, (GetHandleId(GetTriggerPlayer())), (139), (false))
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08O'))))
endfunction
function DSD takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., "   " + (GetObjectName(('n08P'))) + " " + I2S(C7[GetPlayerId(GetTriggerPlayer())]) + " " + (GetObjectName(('n08Q'))) + " " + I2S(L7[GetPlayerId(GetTriggerPlayer())]) + " " + (GetObjectName(('n08S'))) + " " + I2S(MU[GetPlayerId(GetTriggerPlayer())]))
endfunction
function DTD takes nothing returns nothing
    local integer x = GetPlayerId(GetTriggerPlayer())
    if(GetEventPlayerChatString() == "-cson")then
        set AW[x] = true
        set ob[x] = true
    else
        set AW[x] = false
        set ob[x] = false
    endif
    call K79()
endfunction
function F3D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer i = (LoadInteger(R8, (EC8), (34)))
    local real x
    local real y
    if Ob[i] == false then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif Y7[i] != null and O18(Y7[i]) == false then
        set x = GetUnitX(Y7[i])
        set y = GetUnitY(Y7[i])
        call PanCameraToTimedForPlayer(Player(i), x, y, 0)
    endif
    set t = null
    return false
endfunction
function EHD takes nothing returns nothing
    local integer x = GetPlayerId(GetTriggerPlayer())
    local trigger t
    local integer EC8
    local integer i
    if Ob[x] == false and(GetEventPlayerChatString() == "-center" or GetEventPlayerChatString() == "-c")then
        set Ob[x] = true
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .01, true)
        call TriggerAddCondition(t, Condition(function F3D))
        call SaveInteger(R8, (EC8), (34), (x))
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0JW'))
        set t = null
    elseif GetEventPlayerChatString() == "-centeroff" or GetEventPlayerChatString() == "-co" then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0JX'))
        set Ob[x] = false
    endif
endfunction
function EID takes nothing returns nothing
    set Ab[GetPlayerId(GetTriggerPlayer())] = false
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 5, GetObjectName('n0JZ'))
endfunction
function EJD takes nothing returns nothing
    set Ab[GetPlayerId(GetTriggerPlayer())] = true
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 5, GetObjectName('n0K0'))
endfunction
function qL takes nothing returns nothing
    local integer i = 1
    local integer RF8
    local integer YC7
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set YC7 = GetPlayerId(G8[i])
        set RF8 = R2I(TimerGetRemaining(L[YC7]))
        if RF8 > 0 and OC4[YC7]and P74 == false and U9 == false then
            call PlayerSetLeaderboard(G8[i], gm[YC7])
            call LeaderboardDisplay(gm[YC7], true)
            call LeaderboardSetLabel(gm[YC7], "   " + GetObjectName('n08V') + " " + I2S(RF8) + " " + GetObjectName('n095'))
        else
            call LeaderboardDisplay(gm[YC7], false)
        endif
        set YC7 = GetPlayerId(N8[i])
        set RF8 = R2I(TimerGetRemaining(L[YC7]))
        if RF8 > 0 and OC4[YC7]and P74 == false and U9 == false then
            call PlayerSetLeaderboard(N8[i], gm[YC7])
            call LeaderboardDisplay(gm[YC7], true)
            call LeaderboardSetLabel(gm[YC7], "   " + GetObjectName('n08V') + " " + I2S(RF8) + " " + GetObjectName('n095'))
        else
            call LeaderboardDisplay(gm[YC7], false)
        endif
        set i = i + 1
    endloop
endfunction
function qM takes nothing returns nothing
    local integer x = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set gm[GetPlayerId(G8[x])] = CreateLeaderboard()
        call PlayerSetLeaderboard(G8[x], gm[GetPlayerId(G8[x])])
        call LeaderboardDisplay(gm[GetPlayerId(G8[x])], false)
        call LeaderboardSetLabel(gm[GetPlayerId(G8[x])], GetObjectName('n0E4') + ": ")
        set gm[GetPlayerId(N8[x])] = CreateLeaderboard()
        call PlayerSetLeaderboard(N8[x], gm[GetPlayerId(N8[x])])
        call LeaderboardDisplay(gm[GetPlayerId(N8[x])], false)
        call LeaderboardSetLabel(gm[GetPlayerId(N8[x])], GetObjectName('n0E4') + ": ")
        set x = x + 1
    endloop
endfunction
function DZD takes nothing returns nothing
    local integer x = GetPlayerId(GetTriggerPlayer())
    if GetEventPlayerChatString() == "-don" or GetEventPlayerChatString() == "-deathon" then
        set OC4[x] = true
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08W'))))
    else
        set OC4[x] = false
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08X'))))
    endif
endfunction
function F6D takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerAddAction(t, function qM)
    call TriggerRegisterTimerEvent(t, .5, false)
    set t = CreateTrigger()
    call TriggerAddAction(t, function qL)
    call TriggerRegisterTimerEvent(t, 1., true)
    set t = null
endfunction
function DXD takes nothing returns nothing
    if(GetEventPlayerChatString() == "-showdeny")then
        set ob[GetPlayerId(GetTriggerPlayer())] = true
    else
        set ob[GetPlayerId(GetTriggerPlayer())] = false
    endif
endfunction
function DYD takes nothing returns nothing
    call PN8(GetTriggerPlayer(), (GetObjectName(('n0HG'))))
endfunction
function FLD takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i >= bj_MAX_PLAYER_SLOTS
        set ob[i] = true
        set AW[i] = true
        set i = i + 1
    endloop
endfunction
function DUD takes nothing returns nothing
    call ForceRemovePlayer(T9, GetTriggerPlayer())
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08U'))))
endfunction
function DVD takes nothing returns nothing
    call ForceAddPlayer(T9, GetTriggerPlayer())
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n08Z'))))
endfunction
function qN takes nothing returns boolean
    local integer x = GetRandomInt(1, 4)
    if x == 1 then
        set BW = bo
    elseif x == 2 then
        set BW = Bo
    elseif x == 3 then
        set BW = fL
    elseif x == 4 then
        set BW = FL
    endif
    if cW[GetPlayerId(GetLocalPlayer())]then
        call EnableWeatherEffect(bo, false)
        call EnableWeatherEffect(Bo, false)
        call EnableWeatherEffect(fL, false)
        call EnableWeatherEffect(FL, false)
        call EnableWeatherEffect(BW, true)
    endif
    return false
endfunction
function qo takes nothing returns nothing
    local integer x = GetRandomInt(1, 4)
    local trigger t = CreateTrigger()
    local integer i = 1
    call TriggerRegisterTimerEvent(t, 300., true)
    call TriggerAddCondition(t, Condition(function qN))
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set cW[GetPlayerId(G8[i])] = false
        set cW[GetPlayerId(N8[i])] = false
        set i = i + 1
    endloop
    if L8 then
        set cW[GetPlayerId(KU4)] = false
        set cW[GetPlayerId(KV4)] = false
    endif
    if x == 1 then
        set BW = bo
    elseif x == 2 then
        set BW = Bo
    elseif x == 3 then
        set BW = fL
    elseif x == 4 then
        set BW = FL
    endif
    set t = null
endfunction
function DWD takes nothing returns nothing
    local string F1D = StringCase(GetEventPlayerChatString(), false)
    if bW then
        set bW = false
        call qo()
    endif
    if F1D == "-weather snow" and GetLocalPlayer() == GetTriggerPlayer()then
        set cW[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(bo, true)
        call EnableWeatherEffect(Bo, false)
        call EnableWeatherEffect(fL, false)
        call EnableWeatherEffect(FL, false)
    endif
    if F1D == "-weather rain" and GetLocalPlayer() == GetTriggerPlayer()then
        set cW[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(bo, false)
        call EnableWeatherEffect(Bo, true)
        call EnableWeatherEffect(fL, false)
        call EnableWeatherEffect(FL, false)
    endif
    if F1D == "-weather moonlight" and GetLocalPlayer() == GetTriggerPlayer()then
        set cW[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(bo, false)
        call EnableWeatherEffect(Bo, false)
        call EnableWeatherEffect(fL, true)
        call EnableWeatherEffect(FL, false)
    endif
    if F1D == "-weather wind" and GetLocalPlayer() == GetTriggerPlayer()then
        set cW[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(bo, false)
        call EnableWeatherEffect(Bo, false)
        call EnableWeatherEffect(fL, false)
        call EnableWeatherEffect(FL, true)
    endif
    if F1D == "-weather off" and GetLocalPlayer() == GetTriggerPlayer()then
        set cW[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(bo, false)
        call EnableWeatherEffect(Bo, false)
        call EnableWeatherEffect(fL, false)
        call EnableWeatherEffect(FL, false)
    endif
    if F1D == "-weather random" then
        set cW[GetPlayerId(GetTriggerPlayer())] = true
        if GetLocalPlayer() == GetTriggerPlayer()then
            call EnableWeatherEffect(bo, false)
            call EnableWeatherEffect(Bo, false)
            call EnableWeatherEffect(fL, false)
            call EnableWeatherEffect(FL, false)
            call EnableWeatherEffect(BW, true)
        endif
    endif
endfunction
function DAD takes nothing returns nothing
    local integer a = S2I(SubString(GetEventPlayerChatString(), 6, StringLength(GetEventPlayerChatString())))
    local integer D5 = GetPlayerId(GetTriggerPlayer())
    set vb[D5] = vb[D5] + 1
    if vb[D5] > 20 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, (GetObjectName(('n0DQ'))))
        return
    endif
    if GetEventPlayerChatString() == "-rollon" or GetEventPlayerChatString() == "-rolloff" then
        return
    endif
    if a == 0 then
        set a = 100
    endif
    if a > 0 and a < 2001 then
        call OD8(T9, 5, W[GetPlayerId(GetTriggerPlayer())] + (KW4[GetPlayerId((GetTriggerPlayer()))]) + "|r " + (GetObjectName(('n05I'))) + " " + I2S(GetRandomInt(1, a)) + " " + (GetObjectName(('n05M'))) + " " + I2S(a))
    else
        call PN8(GetTriggerPlayer(), (GetObjectName(('n02Y'))))
    endif
endfunction
function EDD takes nothing returns nothing
    local integer a
    if GetRandomInt(1, 2) == 1 then
        set a = GetRandomInt(K64, KL4)
    else
        set a = GetRandomInt(KC4, K34)
    endif
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, (GetObjectName(('n0GS'))) + " " + N68(a))
endfunction
function E7D takes nothing returns nothing
    local integer a = S2I(SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())))
    if GetTriggerPlayer() != G8[1]or a > 2 or a < 1 or TT4 == false or TimerGetElapsed(E4) > 14 or L54 then
        return
    endif
    set D87 = a
    set D97 = a
    set L04 = true
    if a == 1 then
        call NN8(bj_FORCE_ALL_PLAYERS, 15., W[GetPlayerId(G8[1])] + (KW4[GetPlayerId((G8[1]))]) + "|r " + GetObjectName('n0DS'))
    else
        call NN8(bj_FORCE_ALL_PLAYERS, 15., W[GetPlayerId(N8[1])] + (KW4[GetPlayerId((N8[1]))]) + "|r " + GetObjectName('n0DS'))
    endif
    if D87 == 1 then
        set DD7 = G8[1]
        set DE7 = N8[1]
    else
        set DD7 = N8[1]
        set DE7 = G8[1]
    endif
endfunction
function D0D takes nothing returns nothing
    set MT[GetPlayerId(GetTriggerPlayer())] = false
endfunction
function D5D takes nothing returns nothing
    set MT[GetPlayerId(GetTriggerPlayer())] = true
endfunction
function DBD takes nothing returns nothing
    local integer i
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n090'))))
    set ib[GetPlayerId(GetTriggerPlayer())] = true
    if GetLocalPlayer() == GetTriggerPlayer()then
        set i = 1
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            call SetPlayerName(G8[i], (KW4[GetPlayerId((G8[1]))]))
            call SetPlayerName(N8[i], (KW4[GetPlayerId((N8[1]))]))
            set i = i + 1
        endloop
    endif
endfunction
function DCD takes nothing returns nothing
    local integer id = GetPlayerId(GetTriggerPlayer())
    if CW[id] then
        set CW[id] = false
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, (GetObjectName(('n08T'))))
    else
        set CW[id] = true
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, (GetObjectName(('n091'))))
    endif
endfunction
function EFD takes nothing returns nothing
    local integer id = GetPlayerId(GetTriggerPlayer())
    set ab[id] = true
endfunction
function D3D takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15., GetObjectName('n084'))
endfunction
function D6D takes nothing returns nothing
    call TU8(GetTriggerPlayer())
endfunction
function F5D takes nothing returns boolean
    return ZS7(GetFilterUnit())and GetOwningPlayer(GetFilterUnit()) == GetTriggerPlayer()
endfunction
function Courier_Add takes nothing returns nothing
    call UnitAddType(GetEnumUnit(), UNIT_TYPE_PEON)
endfunction
function Courier_Remove takes nothing returns nothing
    call UnitRemoveType(GetEnumUnit(), UNIT_TYPE_PEON)
endfunction
function DLD takes nothing returns nothing
    local group g = OG8()
    call GroupEnumUnitsInRange(g, 0, 0, 12000, Condition(function F5D))
    call OF8(g)
    set g = null
endfunction
function D1D takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CV')) + " [|cffff0000E|r|cffff0000E|r|cffff0000E|r] - [|cffffcc00T|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CU')) + " [|cffff0000E|r|cffff0000E|r|cff00ffffW|r] - [|cffffcc00D|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CT')) + " [|cffff0000E|r|cffff0000E|r|cff0000ffQ|r] - [|cffffcc00F|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0C6')) + " [|cff0000ffQ|r|cff0000ffQ|r|cff0000ffQ|r] - [|cffffcc00Y|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CL')) + " [|cff0000ffQ|r|cff0000ffQ|r|cff00ffffW|r] - [|cffffcc00V|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CN')) + " [|cff0000ffQ|r|cff0000ffQ|r|cffff0000E|r] - [|cffffcc00G|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CS')) + " [|cff00ffffW|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00Z|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CO')) + " [|cff00ffffW|r|cff00ffffW|r|cff0000ffQ|r] - [|cffffcc00X|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CP')) + " [|cff00ffffW|r|cff00ffffW|r|cff00ffffW|r] - [|cffffcc00C|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CQ')) + " [|cff0000ffQ|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00B|r]")
endfunction
function F2D takes string s returns nothing
    call StopMusic(true)
    call PlayMusic(s)
endfunction
function D2D takes nothing returns nothing
    local string s = GetEventPlayerChatString()
    local integer MV8 = GetRandomInt(1, UT)
    if GetLocalPlayer() == GetTriggerPlayer()then
        if s == "-music off" then
            call StopMusic(false)
        elseif s == "-music random" then
            call F2D(RT[MV8])
        elseif s == "-music nightelf1" then
            call F2D(ZP)
        elseif s == "-music nightelf2" then
            call F2D(BP)
        elseif s == "-music nightelf3" then
            call F2D(GQ)
        elseif s == "-music human1" then
            call F2D(IQ)
        elseif s == "-music human2" then
            call F2D(JQ)
        elseif s == "-music human3" then
            call F2D(YQ)
        elseif s == "-music orc1" then
            call F2D(VP)
        elseif s == "-music orc2" then
            call F2D(XP)
        elseif s == "-music orc3" then
            call F2D(YP)
        elseif s == "-music undead1" then
            call F2D(QP)
        elseif s == "-music undead2" then
            call F2D(RP)
        elseif s == "-music undead3" then
            call F2D(TP)
        elseif s == "-music other1" then
            call F2D(GR)
        elseif s == "-music other2" then
            call F2D(HR)
        elseif s == "-music other3" then
            call F2D(IR)
        elseif s == "-music other4" then
            call F2D(OR)
        elseif s == "-music other5" then
            call F2D(XR)
        elseif s == "-music other6"then
            call F2D(WV4)
        elseif s == "-music other7"then
            call F2D(WW4)
        elseif s == "-music other8"then
            call F2D(WX4)
        elseif s == "-music other9"then
            call F2D(WY4)
        elseif s == "-music special" then
            call F2D(YR)
        else
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName('n0CW')) + " ")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, "off, random, nightelf1, nightelf2, nightelf3, human1, human2, human3, orc1, orc2, orc3, undead1, undead2, undead3, other1, other2, other3, other4, other5, other6, other7, other8, other9, special")
        endif
    endif
endfunction
function F_D takes nothing returns boolean
    set UT = UT + 1
    set RT[UT] = ZP
    set UT = UT + 1
    set RT[UT] = BP
    set UT = UT + 1
    set RT[UT] = GQ
    set UT = UT + 1
    set RT[UT] = IQ
    set UT = UT + 1
    set RT[UT] = JQ
    set UT = UT + 1
    set RT[UT] = YQ
    set UT = UT + 1
    set RT[UT] = VP
    set UT = UT + 1
    set RT[UT] = XP
    set UT = UT + 1
    set RT[UT] = YP
    set UT = UT + 1
    set RT[UT] = QP
    set UT = UT + 1
    set RT[UT] = RP
    set UT = UT + 1
    set RT[UT] = TP
    set UT = UT + 1
    set RT[UT] = GR
    set UT = UT + 1
    set RT[UT] = HR
    set UT = UT + 1
    set RT[UT] = IR
    set UT = UT + 1
    set RT[UT] = OR
    set UT = UT + 1
    set RT[UT] = XR
    set UT = UT + 1
    set RT[UT] = WV4
    set UT = UT + 1
    set RT[UT] = WW4
    set UT = UT + 1
    set RT[UT] = WX4
    set UT = UT + 1
    set RT[UT] = WY4
    set UT = UT + 1
    set RT[UT] = YR
    return false
endfunction
function G7D takes player p, integer r, integer g, integer b, integer a returns nothing
    if GetLocalPlayer() == p then
        call SetWaterBaseColor(r, g, b, a)
    endif
endfunction
function G8D takes string s returns nothing
    local string G9D = ""
    local string GDD = ""
    local string GED = ""
    local integer i = 0
    local integer WG8 = StringLength(s)
    local integer GFD = 1
    loop
        exitwhen i > WG8
        if SubString(s, i, i + 1) == " " then
            set GFD = GFD + 1
        else
            if GFD == 1 then
                set G9D = G9D + SubString(s, i, i + 1)
            elseif GFD == 2 then
                set GDD = GDD + SubString(s, i, i + 1)
            else
                set GED = GED + SubString(s, i, i + 1)
            endif
        endif
        set i = i + 1
    endloop
    set bb = S2I(G9D)
    set Bb = S2I(GDD)
    set cb = S2I(GED)
endfunction
function D_D takes nothing returns nothing
    local string GGD = SubString(GetEventPlayerChatString(), 7, StringLength(GetEventPlayerChatString()))
    local player p = GetTriggerPlayer()
    local integer r
    local integer g
    local integer b
    set Nb[GetPlayerId(p)] = true
    if GGD == "red" then
        call G7D(p, 255, 0, 0, 255)
    elseif GGD == "blue" then
        call G7D(p, 0, 0, 255, 255)
    elseif GGD == "green" then
        call G7D(p, 0, 255, 0, 255)
    elseif GGD == "default" then
        call G7D(p, 0, 0, 255, 255)
    elseif GGD == "random" then
        set r = GetRandomInt(0, 255)
        set g = GetRandomInt(0, 255)
        set b = GetRandomInt(0, 255)
        call G7D(p, r, g, b, 255)
        call DisplayTimedTextToPlayer(p, 0, 0, 5, (GetObjectName(('n0HD'))) + " r=" + I2S(r) + " g=" + I2S(g) + " b=" + I2S(b))
    else
        call G8D(GGD)
        set r = bb
        set g = Bb
        set b = cb
        if r >= 0 and r <= 255 and g >= 0 and g <= 255 and b >= 0 and b <= 255 then
            call G7D(p, r, g, b, 255)
        endif
    endif
endfunction
function E8D takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 15., "This command has been temporarily disabled")
endfunction
function E9D takes nothing returns boolean
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., "Total Bonus XP/Gold: " + I2S(NA4[GetPlayerId(GetTriggerPlayer())]) + "/" + I2S(NB4[GetPlayerId(GetTriggerPlayer())]))
    return false
endfunction
function EMD takes nothing returns boolean
    if A84 > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., GetObjectName('n0LO') + ": " + I2S(A84))
    endif
    return false
endfunction
function GHD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer GID = (LoadInteger(R8, (EC8), (61)))
    local integer GJD = (LoadInteger(R8, (EC8), (62)))
    local unit u1 = KH8(GID)
    local unit u2 = KH8(GJD)
    local real TL8 = (LoadReal(R8, (EC8), (57)))
    local lightning GKD = (LoadLightningHandle(R8, (EC8), (41)))
    if GetTriggerEvalCount(t) * .025 > TL8 then
        call DestroyLightning(GKD)
        call KG8(GID)
        call KG8(GJD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call MoveLightning(GKD, true, GetUnitX(u1), GetUnitY(u1), GetUnitX(u2), GetUnitY(u2))
    endif
    set t = null
    set u1 = null
    set u2 = null
    set GKD = null
    return false
endfunction
function GMD takes string GND, unit u1, unit u2, real r, real g, real b, real a, real TL8 returns nothing
    local real x1 = GetUnitX(u1)
    local real y1 = GetUnitY(u1)
    local real x2 = GetUnitX(u2)
    local real y2 = GetUnitY(u2)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local lightning GKD = AddLightning(GND, true, x1, y1, x2, y2)
    call SetLightningColor(GKD, r, g, b, a)
    call SaveLightningHandle(R8, (EC8), (41), (GKD))
    call SaveInteger(R8, (EC8), (61), (KJ8(u1)))
    call SaveInteger(R8, (EC8), (62), (KJ8(u2)))
    call SaveReal(R8, (EC8), (57), (TL8))
    call TriggerRegisterTimerEvent(t, .025, true)
    call TriggerAddCondition(t, Condition(function GHD))
    set t = null
    set GKD = null
endfunction
function GOD takes string GPD returns nothing
    local sound SL8 = CreateSound(GPD, false, false, false, 10, 10, "")
    call SetSoundVolume(SL8, 0)
    call StartSound(SL8)
    call KillSoundWhenDone(SL8)
    set SL8 = null
endfunction
function GQD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local ubersplat GRD = (LoadUbersplatHandle(R8, (W57), (131)))
    call DestroyUbersplat(GRD)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set GRD = null
    return false
endfunction
function GSD takes ubersplat GRD, real d returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveUbersplatHandle(R8, (W57), (131), (GRD))
    call TriggerRegisterTimerEvent(t, d, false)
    call TriggerAddCondition(t, Condition(function GQD))
    set t = null
endfunction
function GTD takes nothing returns nothing
    local real d = Z87(GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), LS4, LT4)
    if d < LR4 then
        set LR4 = d
        set LQ4 = GetEnumUnit()
    endif
endfunction
function GUD takes group g, real x, real y returns unit
    set LR4 = 999999
    set LQ4 = null
    set LS4 = x
    set LT4 = y
    call ForGroup(g, function GTD)
    return LQ4
endfunction
function GVD takes integer OL8 returns nothing
    local integer i = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call SetPlayerAbilityAvailable(G8[i], OL8, false)
        call SetPlayerAbilityAvailable(N8[i], OL8, false)
        set i = i + 1
    endloop
endfunction
function E4D takes nothing returns nothing
    local string s = GetEventPlayerChatString()
    local integer x = S2I(SubString(GetEventPlayerChatString(), 7, StringLength(GetEventPlayerChatString())))
    local integer i = 1
    if x < 1 or x > Fb then
        set x = GetRandomInt(1, Fb)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10, (GetObjectName(('n0E5'))) + " " + I2S(x))
    endif
    if gb then
        loop
            exitwhen i > Fb
            call GOD(Cb[i])
            set i = i + 1
        endloop
        set gb = false
    endif
    if db[x] == false then
    endif
    call PM8(GetTriggerPlayer(), Cb[x])
endfunction
function GetNewTerrainType takes integer OldType, integer TypeIndex returns integer
    if TypeIndex == 0 then
        return OldType
    elseif TypeIndex == 1 then
        if OldType == 'Cdrt' then
            return 'Cdrt'
        endif
        if OldType == 'Cdrd' then
            return 'Idki'
        endif
        if OldType == 'Cvin' then
            return 'Isnw'
        endif
        if OldType == 'Cgrs' then
            return 'Isnw'
        endif
        if OldType == 'Clvg' then
            return 'Isnw'
        endif
        if OldType == 'Zvin' then
            return 'Idki'
        endif
        if OldType == 'Zbks' then
            return 'Ibsq'
        endif
        if OldType == 'Ndrd' then
            return 'Ibsq'
        endif
    elseif TypeIndex == 2 then
        if OldType == 'Cdrt' then
            return 'Cdrt'
        endif
        if OldType == 'Cdrd' then
            return 'Yblm'
        endif
        if OldType == 'Cvin' then
            return 'Ybtl'
        endif
        if OldType == 'Cgrs' then
            return 'Cgrs'
        endif
        if OldType == 'Clvg' then
            return 'Clvg'
        endif
        if OldType == 'Zvin' then
            return 'Yrtl'
        endif
        if OldType == 'Zbks' then
            return 'Ywmb'
        endif
        if OldType == 'Ndrd' then
            return 'Jbtl'
        endif
    elseif TypeIndex == 3 then
        if OldType == 'Cdrt' then
            return 'Cdrt'
        endif
        if OldType == 'Cdrd' then
            return 'Yblm'
        endif
        if OldType == 'Cvin' then
            return 'Ybtl'
        endif
        if OldType == 'Cgrs' then
            return 'Yrtl'
        endif
        if OldType == 'Clvg' then
            return 'Clvg'
        endif
        if OldType == 'Zvin' then
            return 'Yrtl'
        endif
        if OldType == 'Zbks' then
            return 'Ybtl'
        endif
        if OldType == 'Ndrd' then
            return 'Jbtl'
        endif
    elseif TypeIndex == 4 then
        if OldType == 'Cdrt' then
            return 'Cdrt'
        endif
        if OldType == 'Cdrd' then
            return 'Crck'
        endif
        if OldType == 'Cvin' then
            return 'Avin'
        endif
        if OldType == 'Cgrs' then
            return 'Agrd'
        endif
        if OldType == 'Clvg' then
            return 'Alvd'
        endif
        if OldType == 'Zvin' then
            return 'Agrd'
        endif
        if OldType == 'Zbks' then
            return 'Crck'
        endif
        if OldType == 'Ndrd' then
            return 'Cvin'
        endif
    elseif TypeIndex == 5 then
        if OldType == 'Cdrt' then
            return 'Cdrt'
        endif
        if OldType == 'Cdrd' then
            return 'Qdrr'
        endif
        if OldType == 'Cvin' then
            return 'Qcbp'
        endif
        if OldType == 'Cgrs' then
            return 'Qgrt'
        endif
        if OldType == 'Clvg' then
            return 'Qgrs'
        endif
        if OldType == 'Zvin' then
            return 'Qgrt'
        endif
        if OldType == 'Zbks' then
            return 'Qcbp'
        endif
        if OldType == 'Ndrd' then
            return 'Qstp'
        endif
    elseif TypeIndex == 6 then
        if OldType == 'Cdrt' then
            return 'Cdrt'
        endif
        if OldType == 'Cdrd' then
            return 'Dbrk'
        endif
        if OldType == 'Cvin' then
            return 'Dgrs'
        endif
        if OldType == 'Cgrs' then
            return 'Odrt'
        endif
        if OldType == 'Clvg' then
            return 'Ofst'
        endif
        if OldType == 'Zvin' then
            return 'Drds'
        endif
        if OldType == 'Zbks' then
            return 'Dsqd'
        endif
        if OldType == 'Ndrd' then
            return 'Osmb'
        endif
    elseif TypeIndex == 7 then
        if OldType == 'Cdrt' then
            return 'Cdrt'
        endif
        if OldType == 'Cdrd' then
            return 'Gbrk'
        endif
        if OldType == 'Cvin' then
            return 'Glvc'
        endif
        if OldType == 'Cgrs' then
            return 'Gdrt'
        endif
        if OldType == 'Clvg' then
            return 'Gdkr'
        endif
        if OldType == 'Zvin' then
            return 'Grds'
        endif
        if OldType == 'Zbks' then
            return 'Gsqd'
        endif
        if OldType == 'Ndrd' then
            return 'Ggrs'
        endif
    endif
    return 0
endfunction
function TerrainAlter takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local real HUD = (LoadReal(R8, (EC8), (149)))
    local real HVD = (LoadReal(R8, (EC8), (150)))
    local real HWD = (LoadReal(R8, (EC8), (151)))
    local real HXD = 128
    local integer TypeIndex = (LoadInteger(R8, (EC8), (152)))
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    loop
        exitwhen HUD > HWD
        loop
            exitwhen HVD > 8192
            set dW = dW + 1
            if GetLocalPlayer() == p then
                call SetTerrainType(HUD, HVD, GetNewTerrainType(DW[dW], TypeIndex), LW[dW], 1, 0)
                call SetTerrainType(- HUD, HVD, GetNewTerrainType(fW[dW], TypeIndex), mW[dW], 1, 0)
                call SetTerrainType(- HUD, - HVD, GetNewTerrainType(FW[dW], TypeIndex), MW[dW], 1, 0)
                call SetTerrainType(HUD, - HVD, GetNewTerrainType(hW[dW], TypeIndex), pW[dW], 1, 0)
            endif
            set HVD = HVD + HXD
        endloop
        set HVD = 0
        set HUD = HUD + HXD
    endloop
    set HWD = HWD + 256
    call SaveReal(R8, (EC8), (149), ((HUD) * 1.0))
    call SaveReal(R8, (EC8), (150), ((HVD) * 1.0))
    call SaveReal(R8, (EC8), (151), ((HWD) * 1.0))
    if HWD > 8192 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    return false
endfunction
function TerrainReform takes integer TypeIndex returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    set PW[GetPlayerId(GetTriggerPlayer())] = TypeIndex
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function TerrainAlter))
    set dW = 0
    call SaveInteger(R8, (EC8), (152), (TypeIndex))
    call SaveReal(R8, (EC8), (149), (0.))
    call SaveReal(R8, (EC8), (150), (0.))
    call SaveReal(R8, (EC8), (151), ((160) * 1.0))
    call SavePlayerHandle(R8, (EC8), (54), (GetTriggerPlayer()))
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., GetObjectName('n09J'))
    set t = null
endfunction
function Command_Terrain takes nothing returns nothing
    if fb[GetPlayerId(GetTriggerPlayer())] == false then
        if GetEventPlayerChatString() == "-terrain"or GetEventPlayerChatString() == "-terrain default"then
            call TerrainReform(0)
        elseif GetEventPlayerChatString() == "-terrain snow"then
            call TerrainReform(1)
        elseif GetEventPlayerChatString() == "-terrain city1"then
            call TerrainReform(2)
        elseif GetEventPlayerChatString() == "-terrain city2"then
            call TerrainReform(3)
        elseif GetEventPlayerChatString() == "-terrain jungle"then
            call TerrainReform(4)
        elseif GetEventPlayerChatString() == "-terrain highlands"then
            call TerrainReform(5)
        elseif GetEventPlayerChatString() == "-terrain reddungeon"then
            call TerrainReform(6)
        elseif GetEventPlayerChatString() == "-terrain bluedungeon"then
            call TerrainReform(7)
        endif
    endif
endfunction
function HTD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local real HUD = (LoadReal(R8, (EC8), (149)))
    local real HVD = (LoadReal(R8, (EC8), (150)))
    local real HWD = (LoadReal(R8, (EC8), (151)))
    local real HXD = 128
    local real x
    local real y
    loop
        exitwhen HUD > HWD
        loop
            exitwhen HVD > 8192
            set dW = dW + 1
            set x = HUD
            set y = HVD
            if IsPointBlighted(x, y) == false then
                set DW[dW] = GetTerrainType(x, y)
                set LW[dW] = GetTerrainVariance(x, y)
            endif
            set x =- HUD
            set y = HVD
            if IsPointBlighted(x, y) == false then
                set fW[dW] = GetTerrainType(x, y)
                set mW[dW] = GetTerrainVariance(x, y)
            endif
            set x =- HUD
            set y =- HVD
            if IsPointBlighted(x, y) == false then
                set FW[dW] = GetTerrainType(x, y)
                set MW[dW] = GetTerrainVariance(x, y)
            endif
            set x = HUD
            set y =- HVD
            if IsPointBlighted(x, y) == false then
                set hW[dW] = GetTerrainType(x, y)
                set pW[dW] = GetTerrainVariance(x, y)
            endif
            set HVD = HVD + HXD
        endloop
        set HVD = 0
        set HUD = HUD + HXD
    endloop
    set HWD = HWD + 256
    call SaveReal(R8, (EC8), (149), (HUD))
    call SaveReal(R8, (EC8), (150), (HVD))
    call SaveReal(R8, (EC8), (151), (HWD))
    if HWD > 8192 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    return false
endfunction
function HYD takes string HZD returns boolean
    if HZD == "-ma" or HZD == "-ms" or HZD == "-cs" or HZD == "-cson" or HZD == "-disablehelp" or HZD == "-enablehelp" or HZD == "-unstuck" or HZD == "-recreate" then
        return true
    elseif HZD == "-swaphero" or HZD == "-showmsg" or HZD == "-hidemsg" or HZD == "-showdeny" or HZD == "-hidedeny" or HZD == "-weather rain" or HZD == "-weather snow" or HZD == "-weather moonlight" or HZD == "-weather wind" or HZD == "-weather random" or HZD == "-weather off" or HZD == "-denyinfo" or HZD == "-di" or HZD == "-deathon" or HZD == "-don" or HZD == "-deathoff" or HZD == "-doff" or HZD == "-roll" or HZD == "-hideheronames" or HZD == "-hhn" or HZD == "-test" or HZD == "-dbgmode" or HZD == "-mute" or HZD == "-wtf" or HZD == "-fun" or HZD == "-fleshstr" or HZD == "-fs" or HZD == "-switchon" then
        return true
    elseif HZD == "-override" or HZD == "-formless" then
        return true
    endif
    return false
endfunction
function HAD takes nothing returns boolean
    return not V
endfunction
function HBD takes string qQ returns nothing
    if cx == ""then
        set cx = "|c006699CC" + qQ + "|r"
    else
        set cx = cx + "/|c006699CC" + qQ + "|r"
    endif
endfunction
function HCD takes string qQ returns nothing
    if cx == ""then
        set cx = "|c00dd8dff" + qQ + "|r"
    else
        set cx = cx + "/" + "|c00dd8dff" + qQ + "|r"
    endif
endfunction
function H3D takes string F1D, integer qs, integer qS returns string
    return SubString(F1D, 0, qs) + SubString(F1D, qS, StringLength(F1D))
endfunction
function H6D takes string F1D returns string
    local integer XH8 = StringLength(F1D)
    local string qT
    local string M9 = ""
    local integer i = 0
    loop
        exitwhen(i == XH8)
        set qT = StringCase(SubString(F1D, i, i + 1), false)
        if not(qT == StringCase(qT, true))then
            set M9 = M9 + qT
        endif
        set i = i + 1
    endloop
    return M9
endfunction
function N6D takes nothing returns boolean
    set V = true
    call ExecuteFunc("AiInitialization")
    call EA8(GetTriggeringTrigger())
    return false
endfunction
function H1D takes string H0D, integer H5D returns nothing
    local string CA9 = H6D(H0D)
    local string array H2D
    local string array H_D
    local boolean array I7D
    local integer I8D
    local integer cmd_cnt
    local integer XH8 = StringLength(CA9)
    local integer x = 0
    local integer y = 0
    local integer z = 0
    local boolean AP
    local boolean AR
    local boolean LM
    local boolean MM
    local boolean TR
    local boolean DM
    local boolean MR
    local boolean SP
    local boolean AA
    local boolean AI
    local boolean AS
    local boolean ID
    local boolean NP
    local boolean SC
    local boolean EM
    local boolean DU
    local boolean SH
    local boolean VR
    local boolean RV
    local boolean RD
    local boolean OM
    local boolean NT
    local boolean NB
    local boolean NM
    local boolean NS
    local boolean SO
    local boolean NR
    local boolean XL
    local boolean SD
    local boolean PM
    local boolean OI
    local boolean MI
    local boolean CM
    local boolean FR
    local boolean MO
    local boolean RO
    local boolean ER
    local boolean CD
    local boolean RS
    local boolean CP
    local boolean ZM
    local boolean UB
    local boolean TT
    local boolean super_tower
    local boolean super_creeps
    local boolean high_exp
    local boolean normal_exp
    local boolean high_gold
    local boolean normal_gold
    local boolean dynamic_exp
    local boolean dynamic_gold
    local boolean no_necronomicon
    local boolean FM
    local boolean cool_name
    local boolean IFD
    local boolean advanced_mode
    local boolean beginner_mode
    local boolean extreme_mode
    local trigger t
    set H2D[1] = "allpick"
    set H_D[1] = "ap"
    set H2D[2] = "allrandom"
    set H_D[2] = "ar"
    set H2D[3] = "leaguemode"
    set H_D[3] = "lm"
    set H2D[4] = "mirrormatch"
    set H_D[4] = "mm"
    set H2D[5] = "teamrandom"
    set H_D[5] = "tr"
    set H2D[6] = "deathmatch"
    set H_D[6] = "dm"
    set H2D[7] = "moderandom"
    set H_D[7] = "mr"
    set H2D[8] = "shuffleplayers"
    set H_D[8] = "sp"
    set H2D[9] = "allagility"
    set H_D[9] = "aa"
    set H2D[10] = "allintelligence"
    set H_D[10] = "ai"
    set H2D[11] = "allstrength"
    set H_D[11] = "as"
    set H2D[12] = "itemdrop"
    set H_D[12] = "id"
    set H2D[13] = "nopowerups"
    set H_D[13] = "np"
    set H2D[14] = "supercreeps"
    set H_D[14] = "sc"
    set H2D[15] = "easymode"
    set H_D[15] = "em"
    set H2D[16] = "duplicatemode"
    set H_D[16] = "du"
    set H2D[17] = "samehero"
    set H_D[17] = "sh"
    set H2D[18] = "voterandom"
    set H_D[18] = "vr"
    set H2D[19] = "reverse"
    set H_D[19] = "rv"
    set H2D[20] = "randomdraft"
    set H_D[20] = "rd"
    set H2D[21] = "onlymid"
    set H_D[21] = "om"
    set H2D[22] = "extendedleague"
    set H_D[22] = "xl"
    set H2D[23] = "nomid"
    set H_D[23] = "nm"
    set H2D[24] = "notop"
    set H_D[24] = "nt"
    set H2D[25] = "nobot"
    set H_D[25] = "nb"
    set H2D[26] = "noswap"
    set H_D[26] = "ns"
    set H2D[27] = "norepick"
    set H_D[27] = "nr"
    set H2D[28] = "captainsdraft"
    set H_D[28] = "cd"
    set H2D[29] = "singledraft"
    set H_D[29] = "sd"
    set H2D[30] = "poolingmode"
    set H_D[30] = "pm"
    set H2D[31] = "observerinfo"
    set H_D[31] = "oi"
    set H2D[32] = "miniheroes"
    set H_D[32] = "mi"
    set H2D[33] = "captainsmode"
    set H_D[33] = "cm"
    set H2D[34] = "fastrespawn"
    set H_D[34] = "fr"
    set H2D[35] = "meleeonly"
    set H_D[35] = "mo"
    set H2D[36] = "rangeonly"
    set H_D[36] = "ro"
    set H2D[37] = "experimentalrunes"
    set H_D[37] = "er"
    set H2D[38] = "randomside"
    set H_D[38] = "rs"
    set H2D[39] = "switchon"
    set H_D[39] = "so"
    set H2D[40] = "zoommode"
    set H_D[40] = "zm"
    set H2D[41] = "capturepoint"
    set H_D[41] = "cp"
    set H2D[42] = "unban"
    set H_D[42] = "ub"
    set H2D[43] = "tagteam"
    set H_D[43] = "tt"
    set I8D = 43
    set cmd_cnt = I8D
    set I8D = I8D + 1
    set H2D[I8D] = "supertower"
    set H_D[I8D] = "st"
    set I8D = I8D + 1
    set H2D[I8D] = "msupercreeps"
    set H_D[I8D] = "mc"
    set I8D = I8D + 1
    set H2D[I8D] = "highexp"
    set H_D[I8D] = "he"
    set I8D = I8D + 1
    set H2D[I8D] = "normexp"
    set H_D[I8D] = "ne"
    set I8D = I8D + 1
    set H2D[I8D] = "dynaexp"
    set H_D[I8D] = "de"
    set I8D = I8D + 1
    set H2D[I8D] = "highgold"
    set H_D[I8D] = "hg"
    set I8D = I8D + 1
    set H2D[I8D] = "normgold"
    set H_D[I8D] = "ng"
    set I8D = I8D + 1
    set H2D[I8D] = "dynagold"
    set H_D[I8D] = "dg"
    set I8D = I8D + 1
    set H2D[I8D] = "nonecronomicon"
    set H_D[I8D] = "nn"
    set I8D = I8D + 1
    set H2D[I8D] = "formlessmode"
    set H_D[I8D] = "fm"
    set I8D = I8D + 1
    set H2D[I8D] = "coolnames"
    set H_D[I8D] = "cn"
    set I8D = I8D + 1
    set H2D[I8D] = "alldagons"
    set H_D[I8D] = "ad"
    set I8D = I8D + 1
    set H2D[I8D] = "beginnermode"
    set H_D[I8D] = "bm"
    set I8D = I8D + 1
    set H2D[I8D] = "advancedmode"
    set H_D[I8D] = "am"
    set I8D = I8D + 1
    set H2D[I8D] = "xtrememode"
    set H_D[I8D] = "xm"
    set x =- 1
    loop
        exitwhen x == XH8 - 1
        set x = x + 1
        set y = x
        loop
            exitwhen y == XH8
            set y = y + 1
            set z = 1
            loop
                exitwhen z > I8D
                if H2D[z] == SubString(CA9, x, y)then
                    set I7D[z] = true
                    set z = I8D + 1
                    set CA9 = H3D(CA9, x, y)
                    set x =- 1
                    set XH8 = StringLength(CA9)
                    set y = XH8
                else
                    set z = z + 1
                endif
            endloop
        endloop
    endloop
    set x =- 1
    loop
        exitwhen x == XH8 - 1
        set x = x + 1
        set y = x
        loop
            exitwhen y == XH8
            set y = y + 1
            set z = 1
            loop
                exitwhen z > I8D
                if H_D[z] == SubString(CA9, x, y)then
                    set I7D[z] = true
                    if(z <= cmd_cnt)then
                        set vY = false
                    endif
                    set z = I8D + 1
                    set CA9 = H3D(CA9, x, y)
                    set x =- 1
                    set XH8 = StringLength(CA9)
                    set y = XH8
                else
                    set z = z + 1
                endif
            endloop
        endloop
    endloop
    set AP = I7D[1]
    set AR = I7D[2]
    set LM = I7D[3]
    set MM = I7D[4]
    set TR = I7D[5]
    set DM = I7D[6]
    set MR = I7D[7]
    set SP = I7D[8]
    set AA = I7D[9]
    set AI = I7D[10]
    set AS = I7D[11]
    set ID = I7D[12]
    set NP = I7D[13]
    set SC = I7D[14]
    set EM = I7D[15]
    set DU = I7D[16]
    set SH = I7D[17]
    set VR = I7D[18]
    set RV = I7D[19]
    set RD = I7D[20]
    set OM = I7D[21]
    set XL = I7D[22]
    set NM = I7D[23]
    set NT = I7D[24]
    set NB = I7D[25]
    set NS = I7D[26]
    set NR = I7D[27]
    set CD = I7D[28]
    set SD = I7D[29]
    set PM = I7D[30]
    set OI = I7D[31]
    set MI = I7D[32]
    set CM = I7D[33]
    set FR = I7D[34]
    set MO = I7D[35]
    set RO = I7D[36]
    set ER = I7D[37]
    set RS = I7D[38]
    set SO = I7D[39]
    set ZM = I7D[40]
    set CP = I7D[41]
    set UB = I7D[42]
    set TT = I7D[43]
    set super_tower = I7D[cmd_cnt + 1]
    set super_creeps = I7D[cmd_cnt + 2]
    set high_exp = I7D[cmd_cnt + 3]
    set normal_exp = I7D[cmd_cnt + 4]
    set dynamic_exp = I7D[cmd_cnt + 5]
    set high_gold = I7D[cmd_cnt + 6]
    set normal_gold = I7D[cmd_cnt + 7]
    set dynamic_gold = I7D[cmd_cnt + 8]
    set no_necronomicon = I7D[cmd_cnt + 9]
    set FM = I7D[cmd_cnt + 10]
    set cool_name = I7D[cmd_cnt + 11]
    set IFD = I7D[cmd_cnt + 12]
    set beginner_mode = I7D[cmd_cnt + 13]
    set advanced_mode = I7D[cmd_cnt + 14]
    set extreme_mode = I7D[cmd_cnt + 15]
    if CA9 != ""or HYD(H0D)then
        return
    elseif(LM or VR or RV or XL or CD or SO)then
        call PN8(V8, "以下模式在本版本暂时禁用: -lm, -vr, -rv, -xl, -cd, -so")
        return
    elseif FM and(AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or DU or SH or VR or RV or RD or XL or SD or MO or RO)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif(AR and(CM or AP or TR or LM or MR or RV or RD or CD or SD or TT))or(AP and(TR or MR))or(TR and(LM or MR))or(LM and MR)or(MM and SH)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif(AA and(AI or AS or DM))or(AS and(AI or DM))or(AI and DM)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif(RO and(MO or DM))or(MO and DM)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif RV and(CM or AR or TR or MR or LM or DM or SH or TT)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif(DM and(CM or TR or LM or MR or SH or RV or RD or CD or SD or TT))or(MM and DM)or(SH and DM)then
        call PN8(V8, (GetObjectName('n02T')))
        return
    elseif LM and(TT or CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or XL or MO or RO)then
        call PN8(V8, (GetObjectName('n031')))
        return
    elseif XL and(TT or CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or RO or MO)then
        call PN8(V8, (GetObjectName('n032')))
        return
    elseif CM and(TT or SP or XL or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or MO or RO)then
        call PN8(V8, (GetObjectName('n032')))
        return
    elseif RD and(TT or CD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif CD and(TT or RD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif MR and(TT or CM or AP or LM or AR or SD or MM or TR or DM or AA or AI or AS or SH or RV or RO or MO)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif SD and(TT or CM or AP or LM or AR or RD or CD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif VR and(TT or CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
        call PN8(V8, (GetObjectName('n02U')))
        return
    elseif TT and(SO or VR or CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)then
        call PN8(V8, GetObjectName('n02U'))
        return
    elseif MM and MI8(E8) != MI8(F8)then
        call PN8(V8, (GetObjectName('n034')))
        return
    elseif VR and MI8(E8) != MI8(F8)then
        call PN8(V8, (GetObjectName('n034')))
        return
    elseif RV and MI8(E8) != MI8(F8)then
        call PN8(V8, (GetObjectName('n034')))
        return
    elseif(LM or XL)and(IsComputer(G8[1])or IsComputer(G8[2])or IsComputer(G8[3])or IsComputer(G8[4])or IsComputer(G8[5])or IsComputer(N8[1])or IsComputer(N8[2])or IsComputer(N8[3])or IsComputer(N8[4])or IsComputer(N8[5]))then
        call PN8(V8, "联赛模式不允许使用AI")
        return
    elseif(beginner_mode and advanced_mode)or(beginner_mode and extreme_mode)or(advanced_mode and extreme_mode)or(normal_exp and high_exp)or(high_gold and normal_gold)or((advanced_mode or beginner_mode or extreme_mode)and(normal_exp or high_exp or dynamic_exp or high_gold or normal_gold or dynamic_gold))then
        call PN8(V8, "无效的AI游戏模式组合")
        return
    endif
    if TT or ZM or CP or FR or CM or AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or ID or NP or SC or DU or EM or SH or VR or RV or RD or CD or OM or NB or NM or NT or NS or NR or XL or SD or PM or OI or MI or MO or RO or ER or RS or SO or super_tower or super_creeps or(high_exp or normal_exp or high_gold or dynamic_exp or normal_gold or dynamic_gold)or no_necronomicon or FM or(advanced_mode or beginner_mode or extreme_mode)then
        call DisableTrigger(GetTriggeringTrigger())
    else
        return
    endif
    if CM == false then
        call KD9()
        call CU9()
    endif
    if LM == false and XL == false then
        call F6D()
    endif
    set O64 = H6D(H0D)
    if(BF4)then
        call X48("Mode" + O64, 0)
    else
        call X48("Mode" + O64, GetPlayerId(V8))
    endif
    set F9 = false
    if LM then
        set vo = GetObjectName('n0HZ')
    elseif XL then
        set vo = GetObjectName('n0I8')
    elseif RD then
        set vo = GetObjectName('n0IN')
    elseif CD then
        set vo = GetObjectName('n0I9')
    elseif MM then
        set vo = GetObjectName('n0IH')
    elseif DM then
        set vo = GetObjectName('n0II')
    elseif RV then
        set vo = GetObjectName('n0IW')
    elseif AP then
        set vo = GetObjectName('n0ID')
    elseif AR then
        set vo = GetObjectName('n0I7')
    elseif TR then
        set vo = GetObjectName('n0I6')
    elseif MR then
        set vo = GetObjectName('n0IJ')
    elseif VR then
        set vo = GetObjectName('n0I5')
    elseif SD then
        set vo = GetObjectName('n0I4')
    elseif CM then
        set vo = GetObjectName('n0IG')
    elseif TT then
        set vo = GetObjectName('n0MP')
    endif
    if CM then
        call HBD(GetObjectName('n0IK'))
    endif
    if TT then
        call HBD(GetObjectName('n0MQ'))
    endif
    if LM then
        call HBD(GetObjectName('n0I3'))
    endif
    if XL then
        call HBD(GetObjectName('n0I2'))
    endif
    if RD then
        call HBD(GetObjectName('n0IF'))
    endif
    if CD then
        call HBD(GetObjectName('n0I9'))
    endif
    if DM then
        call HBD(GetObjectName('n0IA'))
    endif
    if MM then
        call HBD(GetObjectName('n0I0'))
    endif
    if AP then
        call HBD(GetObjectName('n0IL'))
    endif
    if AR then
        call HBD(GetObjectName('n0IQ'))
    endif
    if VR then
        call HBD(GetObjectName('n0IM'))
    endif
    if MR then
        call HBD(GetObjectName('n0IE'))
    endif
    if TR then
        call HBD(GetObjectName('n0IB'))
    endif
    if SP then
        call HBD(GetObjectName('n0IO'))
    endif
    if AA then
        call HBD(GetObjectName('n0IU'))
    endif
    if AS then
        call HBD(GetObjectName('n0IP'))
    endif
    if AI then
        call HBD(GetObjectName('n0IS'))
    endif
    if RO then
        call HBD(GetObjectName('n0IT'))
    endif
    if MO then
        call HBD(GetObjectName('n032'))
    endif
    if DU then
        call HBD(GetObjectName('n0IX'))
    endif
    if ID then
        call HBD(GetObjectName('n0IZ'))
    endif
    if NP then
        call HBD(GetObjectName('n0J6'))
    endif
    if SC then
        call HBD(GetObjectName('n0J7'))
    endif
    if EM then
        call HBD(GetObjectName('n0J9'))
    endif
    if SH then
        call HBD(GetObjectName('n0JA'))
    endif
    if RV then
        call HBD(GetObjectName('n0IW'))
    endif
    if OM then
        call HBD(GetObjectName('n0IV'))
    endif
    if NM then
        call HBD(GetObjectName('n0IR'))
    endif
    if NB then
        call HBD(GetObjectName('n0JB'))
    endif
    if NT then
        call HBD(GetObjectName('n0J8'))
    endif
    if NS then
        call HBD(GetObjectName('n0JC'))
    endif
    if NR then
        call HBD(GetObjectName('n0JF'))
    endif
    if SD then
        call HBD(GetObjectName('n0J0'))
    endif
    if PM then
        call HBD(GetObjectName('n0IY'))
    endif
    if OI then
        call HBD(GetObjectName('n0J5'))
    endif
    if MI then
        call HBD(GetObjectName('n0J4'))
    endif
    if FR then
        call HBD(GetObjectName('n0JD'))
    endif
    if ER then
        call HBD(GetObjectName('n0JE'))
    endif
    if RS then
        call HBD(GetObjectName('n0J1'))
    endif
    if SO then
        call HBD(GetObjectName('n0J2'))
    endif
    if ZM then
        call HBD(GetObjectName('n0KA'))
    endif
    if CP then
        call HBD(GetObjectName('n0KC'))
    endif
    if UB then
        call HBD(GetObjectName('n0L2'))
    endif
    if super_tower then
        call HCD(GetObjectName('xxxa'))
    endif
    if super_creeps then
        call HCD(GetObjectName('xxxb'))
    endif
    if beginner_mode then
        call HCD(GetObjectName('xxxc'))
    endif
    if advanced_mode then
        call HCD(GetObjectName('xxxd'))
    endif
    if extreme_mode then
        call HCD(GetObjectName('xxxe'))
    endif
    if high_exp then
        call HCD(GetObjectName('xxxf'))
    endif
    if normal_exp then
        call HCD(GetObjectName('xxxg'))
    endif
    if dynamic_exp then
        call HCD(GetObjectName('xxxh'))
    endif
    if high_gold then
        call HCD(GetObjectName('xxxi'))
    endif
    if normal_gold then
        call HCD(GetObjectName('xxxj'))
    endif
    if dynamic_gold then
        call HCD(GetObjectName('xxxk'))
    endif
    if no_necronomicon then
        call HCD(GetObjectName('xxxl'))
    endif
    if FM then
        call HCD(GetObjectName('xxxm'))
    endif
    if cool_name then
        call HCD(GetObjectName('xxxn'))
    endif
    if IFD then
        call HCD(GetObjectName('xxxo'))
    endif
    call NN8(bj_FORCE_ALL_PLAYERS, 20., " ")
    if H5D == 1 then
        call NN8(bj_FORCE_ALL_PLAYERS, 20., W[GetPlayerId(V8)] + (KW4[GetPlayerId(V8)]) + "|r" + " " + GetObjectName('n061') + " " + cx)
    else
        call NN8(bj_FORCE_ALL_PLAYERS, 20., GetObjectName('n0HN') + " " + cx)
    endif
    call NN8(bj_FORCE_ALL_PLAYERS, 20., (GetObjectName(('n063'))) + " -gameinfo.")
    call NN8(bj_FORCE_ALL_PLAYERS, 20., " ")
    if not(SD or RD or CM) then
        call ExecuteFunc("CreateTaverns")
    endif
    call PP8("IJD", SP)
    call PP8("IKD", RS)
    call PP8("IMD", DM)
    call PP8("IND", MM)
    call PP8("IOD", SH)
    call PP8("IPD", AA)
    call PP8("IQD", AI)
    call PP8("IRD", AS)
    call PP8("ISD", RO)
    call PP8("ITD", MO)
    call PP8("IUD", DU)
    call PP8("IVD", AR)
    call PP8("IWD", AP)
    call PP8("IXD", TR)
    call PP8("IYD", SD)
    call PP8("IZD", MR)
    call PP8("IAD", ID)
    call PP8("IBD", NP)
    call PP8("ICD", SC)
    call PP8("I3D", EM)
    call PP8("I6D", OM)
    call PP8("ILD", NB)
    call PP8("I1D", NT)
    call PP8("I0D", NM)
    call PP8("I5D", NS)
    call PP8("StartSwitchOn", SO)
    call PP8("I2D", NR)
    call PP8("I_D", PM)
    call PP8("J4D", OI)
    call PP8("J7D", MI)
    call PP8("J8D", FR)
    call PP8("J9D", ER)
    call PP8("StartSuperTower", super_tower)
    call PP8("StartSuperCreeps", super_creeps)
    if beginner_mode then
        set normal_exp = true
        set normal_gold = true
        set dynamic_exp = false
        set dynamic_gold = false
    endif
    if advanced_mode then
        set high_exp = true
        set high_gold = true
        set dynamic_exp = true
        set dynamic_gold = true
    endif
    if extreme_mode then
        set normal_exp = true
        set normal_gold = true
        set dynamic_exp = true
        set dynamic_gold = true
        call ExecuteFunc("JFD")
        call HCD("Xtreme AI")
    endif
    call PP8("StartAiDE", dynamic_exp)
    call PP8("StartAiDG", dynamic_gold)
    call PP8("StartAiCN", cool_name)
    call PP8("JKD", IFD)
    call PP8("JMD", CM)
    call PP8("StartRandomDraft", RD)
    set HighExp = high_exp
    set NormalExp = normal_exp
    set HighGold = high_gold
    set NormalGold = normal_gold
    set NoNecronomicon = no_necronomicon
    set R94 = true
    call S09(0, 0, false)
    if TT4 == false and O14 == false then
        call CX9()
    endif
    call K79()
endfunction
function JND takes nothing returns nothing
    call H1D(GetEventPlayerChatString(), 1)
endfunction
function JOD takes nothing returns boolean
    if BE4 != "" and R94 == false then
        set BF4 = true
        call H1D("-" + (BE4), 2)
    else
        call TriggerRegisterPlayerChatEvent(BD4, V8, "-", false)
    endif
    return false
endfunction
function IWD takes nothing returns nothing
    local location XX8 = GetRectCenter(ZD)
    local location XY8 = GetRectCenter(qr)
    local integer x = 1
    set X4 = true
    set RD4 = 145
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        if KS8(G8[x])then
            call CreateUnitAtLoc(G8[x], 'n00C', XY8, bj_UNIT_FACING)
        endif
        if KS8(N8[x])then
            call CreateUnitAtLoc(N8[x], 'n00C', XX8, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(XX8)
    call RemoveLocation(XY8)
    set XX8 = null
    set XY8 = null
endfunction
function JPD takes integer NX8, boolean JQD returns boolean
    local boolean JRD = false
    local integer i
    local integer j = 1
    if(JQD)then
        if(EX7 == 1)then
            return false
        endif
        set i = EX7 - 1
        loop
            if(NX8 == EZ7[j])then
                return true
            endif
            set j = j + 1
            exitwhen(j > i)
        endloop
    else
        if(EY7 == 1)then
            return false
        endif
        set i = EY7 - 1
        loop
            if(NX8 == EA7[j])then
                return true
            endif
            set j = j + 1
            exitwhen(j > i)
        endloop
    endif
    return JRD
endfunction
function JSD takes integer NX8, boolean JQD returns nothing
    if(JQD)then
        set EZ7[EX7] = NX8
        set EX7 = EX7 + 1
    else
        set EA7[EY7] = NX8
        set EY7 = EY7 + 1
    endif
endfunction
function JTD takes integer NX8 returns nothing
    local integer i = 1
    local boolean JUD = false
    loop
        if(NX8 == EW7[i])then
            set EW7[i] = 0
            call JSD(NX8, false)
            set JUD = true
        endif
        set i = i + 1
        exitwhen(i > EC7 or JUD)
    endloop
endfunction
function JVD takes nothing returns integer
    local integer V37 = 0
    local integer NX8 = 0
    loop
        set V37 = GetRandomInt(1, EC7)
        exitwhen(EW7[V37] > 0 and JPD(EW7[V37], false) == false)
    endloop
    set NX8 = EW7[V37]
    call JSD(NX8, false)
    set EW7[V37] = 0
    return NX8
endfunction
function JWD takes nothing returns integer
    local integer V37 = 0
    local integer NX8 = 0
    loop
        set V37 = GetRandomInt(1, EB7)
        exitwhen(EV7[V37] > 0 and JPD(EW7[V37], true) == false)
    endloop
    set NX8 = EV7[V37]
    call JSD(NX8, true)
    set EV7[V37] = 0
    return NX8
endfunction
function JXD takes nothing returns boolean
    local integer i = 1
    local integer JYD = 0
    local integer NX8 = 0
    if not D17 then
        call EA8(GetTriggeringTrigger())
        return false
    endif
    if IsComputer(DL7)then
        if GetPlayerState(DL7, PLAYER_STATE_RESOURCE_GOLD) > 0 then
            set E17 = E17 + 1
            if E17 > 2 then
                if E07 then
                    set NX8 = JWD()
                else
                    set NX8 = JVD()
                endif
                loop
                    exitwhen(IssueNeutralImmediateOrderById(DL7, EU7[i], NX8)or GetPlayerState(DL7, PLAYER_STATE_RESOURCE_GOLD) == 0)
                    set i = i + 1
                    if(i > 12)then
                        if E07 then
                            set NX8 = JWD()
                        else
                            set NX8 = JVD()
                        endif
                        set i = 1
                        set JYD = JYD + 1
                        if(JYD > 5)then
                            exitwhen true
                        endif
                    endif
                endloop
                set E17 = 0
            endif
        endif
    endif
    return true
endfunction
function JZD takes nothing returns nothing
    call MJ8('N00R')
    call MJ8('N0MK')
    call MJ8('HC92')
endfunction
function JAD takes nothing returns nothing
    set EW7[1] = 'H00U'
    set EW7[2] = 'EC77'
    set EW7[3] = 'H001'
    set EW7[4] = 'HC49'
    set EW7[5] = 'Huth'
    set EW7[6] = 'Ucrl'
    set EW7[7] = 'Usyl'
    set EW7[8] = 'Npbm'
    set EW7[9] = 'Hlgr'
    set EW7[10] = 'Nbrn'
    set EW7[11] = 'H00D'
    set EW7[12] = 'UC18'
    set EW7[13] = 'UC60'
    set EW7[14] = 'U00A'
    set EW7[15] = 'U006'
    set EW7[16] = 'NC00'
    set EW7[17] = 'UC42'
    set EW7[18] = 'U000'
    set EW7[19] = 'UC91'
    set EW7[20] = 'E004'
    set EW7[21] = 'EC45'
    set EW7[22] = 'EC77'
    set EW7[23] = 'E002'
    set EW7[24] = 'U00C'
    set EW7[25] = 'H00H'
    set EW7[26] = 'U00E'
    set EW7[27] = 'O00J'
    set EW7[28] = 'Ubal'
    set EW7[29] = 'Opgh'
    set EW7[30] = 'U00P'
    set EW7[31] = 'Naka'
    set EW7[32] = 'H00U'
    set EW7[33] = 'N0HP'
    set EW7[34] = 'Edem'
endfunction
function JBD takes nothing returns nothing
    set EV7[1] = 'H00U'
    set EV7[2] = 'Hjai'
    set EV7[3] = 'Huth'
    set EV7[4] = 'N016'
    set EV7[5] = 'Nbrn'
    set EV7[6] = 'UC18'
    set EV7[7] = 'EC77'
    set EV7[8] = 'N0HP'
    set EV7[9] = 'H071'
    set EV7[10] = 'O016'
    set EV7[11] = 'Opgh'
    set EV7[12] = 'Ulic'
    set EV7[13] = 'Usyl'
    set EV7[14] = 'Otch'
    set EV7[15] = 'O00P'
    set EV7[16] = 'Hvwd'
    set EV7[17] = 'H00V'
    set EV7[18] = 'Ubal'
    set EV7[19] = 'Nfir'
    set EV7[20] = 'EC45'
endfunction
function JCD takes nothing returns boolean
    local integer i = 1
    local integer J3D = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if IsComputer(G8[i])then
            if(IssueNeutralImmediateOrderById(G8[i], EL7[i], 'h06N') == false)then
                set J3D = 1
                loop
                    exitwhen(J3D > MAX_TEAM_PLAYERS)or IssueNeutralImmediateOrderById(G8[i], EL7[J3D], 'h06N')
                    set J3D = J3D + 1
                endloop
            endif
        endif
        if IsComputer(N8[i])then
            if(IssueNeutralImmediateOrderById(N8[i], EL7[MAX_TEAM_PLAYERS + 1 + i], 'h06N') == false)then
                set J3D = 1
                loop
                    exitwhen(J3D > MAX_TEAM_PLAYERS)or IssueNeutralImmediateOrderById(N8[i], EL7[MAX_TEAM_PLAYERS + 1 + J3D], 'h06N')
                    set J3D = J3D + 1
                endloop
            endif
        endif
        set i = i + 1
    endloop
    call EA8(GetTriggeringTrigger())
    return false
endfunction
function J6D takes nothing returns integer
    if D77 == G8[1]then
        return 1
    endif
    return 2
endfunction
function JLD takes string S, real J1D, real J0D, real J5D, real J2D, real J_D, boolean K4D, integer r, integer g, integer b returns image
    set DA7 = CreateImage(S, J1D, J0D, 0, J5D - (J1D / 2), J2D - (J0D / 2), J_D, 0, 0, 0, 2)
    call SetImageRenderAlways(DA7, true)
    call ShowImage(DA7, K4D)
    call SetImageColor(DA7, r, g, b, 255)
    return DA7
endfunction
function K7D takes image i returns nothing
    call ShowImage(i, false)
    call DestroyImage(i)
endfunction
function K8D takes integer K9D returns nothing
    local real x = DB7 + 40
    local real y = DC7 - 50
    local integer KDD = 255
    local integer KED = 0
    local integer KFD = 0
    local integer KGD = 0
    local integer KHD = 0
    local integer KID = 255
    local integer r
    local integer g
    local integer b
    if K9D == 1 then
        set r = KDD
        set g = KED
        set b = KFD
        set DV7 = JLD("Fonts\\B.blp", 90, 90, x - 40, y, 0, true, r, g, b)
        set DW7 = JLD("Fonts\\A.blp", 90, 90, x, y, 0, true, r, g, b)
        set DX7 = JLD("Fonts\\N.blp", 90, 90, x + 50, y, 0, true, r, g, b)
    elseif K9D == 2 then
        set r = KGD
        set g = KHD
        set b = KID
        call K7D(DV7)
        call K7D(DW7)
        call K7D(DX7)
        set DV7 = JLD("Fonts\\P.blp", 90, 90, x - 60, y, 0, true, r, g, b)
        set DW7 = JLD("Fonts\\I.blp", 90, 90, x - 20, y, 0, true, r, g, b)
        set DX7 = JLD("Fonts\\C.blp", 90, 90, x, y, 0, true, r, g, b)
        set DY7 = JLD("Fonts\\K.blp", 90, 90, x + 45, y, 0, true, r, g, b)
    elseif K9D == 3 then
        set r = KDD
        set g = KED
        set b = KFD
        call K7D(DV7)
        call K7D(DW7)
        call K7D(DX7)
        call K7D(DY7)
        set DV7 = JLD("Fonts\\B.blp", 90, 90, x - 40, y, 0, true, r, g, b)
        set DW7 = JLD("Fonts\\A.blp", 90, 90, x, y, 0, true, r, g, b)
        set DX7 = JLD("Fonts\\N.blp", 90, 90, x + 50, y, 0, true, r, g, b)
    elseif K9D == 4 then
        set r = KGD
        set g = KHD
        set b = KID
        call K7D(DV7)
        call K7D(DW7)
        call K7D(DX7)
        set DV7 = JLD("Fonts\\P.blp", 90, 90, x - 60, y, 0, true, r, g, b)
        set DW7 = JLD("Fonts\\I.blp", 90, 90, x - 20, y, 0, true, r, g, b)
        set DX7 = JLD("Fonts\\C.blp", 90, 90, x, y, 0, true, r, g, b)
        set DY7 = JLD("Fonts\\K.blp", 90, 90, x + 45, y, 0, true, r, g, b)
    elseif K9D == 5 then
        set r = KDD
        set g = KED
        set b = KFD
        call K7D(DV7)
        call K7D(DW7)
        call K7D(DX7)
        call K7D(DY7)
        set DV7 = JLD("Fonts\\B.blp", 90, 90, x - 40, y, 0, true, r, g, b)
        set DW7 = JLD("Fonts\\A.blp", 90, 90, x, y, 0, true, r, g, b)
        set DX7 = JLD("Fonts\\N.blp", 90, 90, x + 50, y, 0, true, r, g, b)
    elseif K9D == 6 then
        set r = KGD
        set g = KHD
        set b = KID
        call K7D(DV7)
        call K7D(DW7)
        call K7D(DX7)
        set DV7 = JLD("Fonts\\P.blp", 90, 90, x - 60, y, 0, true, r, g, b)
        set DW7 = JLD("Fonts\\I.blp", 90, 90, x - 20, y, 0, true, r, g, b)
        set DX7 = JLD("Fonts\\C.blp", 90, 90, x, y, 0, true, r, g, b)
        set DY7 = JLD("Fonts\\K.blp", 90, 90, x + 45, y, 0, true, r, g, b)
    elseif K9D == 7 then
        call K7D(DV7)
        call K7D(DW7)
        call K7D(DX7)
        call K7D(DY7)
    endif
endfunction
function KJD takes integer i, integer KKD returns string
    if i < 0 then
        set i = 0
    endif
    if TimerGetElapsed(E4) < 15 then
        return DT7 + I2S(i)
    endif
    if D97 == 3 then
        return DT7 + I2S(i)
    endif
    if D97 == 1 and KKD != J6D()then
        return DT7 + I2S(i)
    elseif D97 == 2 and KKD != J6D()then
        return DT7 + I2S(i)
    elseif i == 0 then
        return DT7 + I2S(i)
    elseif i < 6 then
        return DS7 + I2S(i)
    else
        return I2S(i)
    endif
endfunction
function KMD takes nothing returns boolean
    local multiboarditem KND
    local integer i
    local integer KOD
    local integer KPD
    local integer KQD = 7
    local integer KRD = 0
    set KOD = 1
    set KPD = KRD
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemWidth(KND, .5)
    call MultiboardSetItemValue(KND, W[GetPlayerId(G8[1])] + (KW4[GetPlayerId((G8[1]))]) + "|r")
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 2
    set KPD = KRD
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + GetObjectName('n0EV'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set i = 0
    set KOD = KOD
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DH7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DH7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 1
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DH7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DH7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 2
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DH7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DH7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 3
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DH7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DH7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 4
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DH7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DH7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 2
    set KPD = KRD
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + GetObjectName('n0EX'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set i = 0
    set KOD = KOD
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DM7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DM7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 1
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DM7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DM7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 2
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DM7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DM7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 3
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DM7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DM7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 4
    set KPD = KRD + i + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DM7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DM7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 2
    set KPD = KRD
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + GetObjectName('n0EU'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KPD = KRD + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    if D77 == G8[1]then
        call MultiboardSetItemValue(KND, KJD(D47, 1))
    else
        call MultiboardSetItemValue(KND, " ")
    endif
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 1
    set KPD = KRD
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + GetObjectName('n0ET'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KPD = KRD + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, KJD(L_4[1], 1))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 2
    set KPD = KRD
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + GetObjectName('n0EY'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KPD = KRD + 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    if TimerGetElapsed(E4) < 15 then
        call MultiboardSetItemValue(KND, DT7 + GetObjectName('n0F1'))
    elseif D97 == 1 then
        call MultiboardSetItemValue(KND, GetObjectName('n0F4'))
    elseif D97 == 2 then
        call MultiboardSetItemValue(KND, DT7 + GetObjectName('n0F1'))
    else
        call MultiboardSetItemValue(KND, DT7 + GetObjectName('n0F2'))
    endif
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KOD = 1
    set KPD = KQD
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemWidth(KND, 1.5)
    call MultiboardSetItemValue(KND, "   " + W[GetPlayerId(N8[1])] + (KW4[GetPlayerId((N8[1]))]) + "|r")
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 2
    set KPD = KQD - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + " " + GetObjectName('n0EV'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set i = 0
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DI7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DI7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 1
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DI7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DI7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 2
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DI7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DI7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 3
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DI7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DI7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 4
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DI7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DI7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 2
    set KPD = KQD - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + " " + GetObjectName('n0EX'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set i = 0
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DN7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DN7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 1
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DN7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DN7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 2
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DN7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DN7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 3
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DN7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DN7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set i = 4
    set KPD = KQD + i + 1 - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemWidth(KND, .015)
    if DN7[i] > 0 then
        call MultiboardSetItemStyle(KND, false, true)
        call MultiboardSetItemIcon(KND, ME4[DN7[i]])
    endif
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 2
    set KPD = KQD - 2
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + GetObjectName('n0EU'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KPD = KQD - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    if D77 == N8[1]then
        call MultiboardSetItemValue(KND, KJD(D47, 2))
    else
        call MultiboardSetItemValue(KND, " ")
    endif
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 1
    set KPD = KQD - 2
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + GetObjectName('n0ET'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KPD = KQD - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, KJD(L_4[2], 2))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KOD = KOD + 2
    set KPD = KQD - 2
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    call MultiboardSetItemValue(KND, DR7 + GetObjectName('n0EY'))
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KPD = KQD - 1
    set KND = MultiboardGetItem(DU7, KOD, KPD)
    call MultiboardSetItemStyle(KND, true, false)
    if TimerGetElapsed(E4) < 15 then
        call MultiboardSetItemValue(KND, DT7 + GetObjectName('n0F1'))
    elseif D97 == 2 then
        call MultiboardSetItemValue(KND, GetObjectName('n0F4'))
    elseif D97 == 1 then
        call MultiboardSetItemValue(KND, DT7 + GetObjectName('n0F1'))
    else
        call MultiboardSetItemValue(KND, DT7 + GetObjectName('n0F2'))
    endif
    call MultiboardSetItemWidth(KND, .035)
    call MultiboardReleaseItem(KND)
    set KND = null
    return false
endfunction
function KSD takes nothing returns nothing
    local integer KTD = 12
    local integer KUD = 14
    local trigger t = CreateTrigger()
    local integer i
    local multiboarditem KND
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function KMD))
    set DU7 = CreateMultiboard()
    call MultiboardSetItemsWidth(DU7, .015)
    call MultiboardSetRowCount(DU7, KTD)
    call MultiboardSetColumnCount(DU7, KUD)
    call MultiboardSetTitleText(DU7, GetObjectName('n0K6'))
    call MultiboardSetItemsStyle(DU7, false, false)
    call MultiboardMinimize(DU7, false)
    call MultiboardDisplay(DU7, true)
    set i = 0
    loop
        exitwhen i > KUD
        set KND = MultiboardGetItem(DU7, 0, i)
        call MultiboardSetItemWidth(KND, .015)
        call MultiboardReleaseItem(KND)
        set i = i + 1
    endloop
    set t = null
    set KND = null
endfunction
function KVD takes nothing returns boolean
    local unit KWD = GetSoldUnit()
    local player p = GetOwningPlayer(KWD)
    local integer i
    local real x
    local real y
    local real a
    local boolean heroAllPicked
    if GetUnitTypeId(KWD) == 'h06N' and IsPlayerAlly(GetOwningPlayer(KWD), GetOwningPlayer(GetSellingUnit()))then
        if Y7[GetPlayerId(p)] != null then
            call PN8(p, GetObjectName('n0F3'))
            call KillUnit(KWD)
            set KWD = null
            set p = null
            return false
        endif
        set x = GetUnitX(GetSellingUnit())
        set y = GetUnitY(GetSellingUnit())
        set i = ZF7(GetUnitTypeId(GetSellingUnit()))
        set a = GetUnitFacing(GetSellingUnit())
        call RemoveUnit(GetSellingUnit())
        call CreateUnit(p, i, x, y, a)
    endif
    if GetUnitTypeId(KWD) == 'h06N' then
        call KillUnit(KWD)
    endif
    set heroAllPicked = true
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS or not heroAllPicked
        set heroAllPicked = Y7[GetPlayerId(G8[i])] != null and Y7[GetPlayerId(N8[i])] != null
        set i = i + 1
    endloop
    if heroAllPicked then
        call EA8(GetTriggeringTrigger())
    endif
    set KWD = null
    set p = null
    return false
endfunction
// function KXD takes player pl, boolean J4 returns nothing
//     local integer player_id = GetPlayerId(pl)
//     local integer T8
//     local integer U8
//     if not J4 then
//         set SystemSwitch[64 + player_id] = (not SystemSwitch[64 + player_id])
//         call DisplayTimedTextToPlayer(pl, 0, 0, 10., GetObjectName('Y094') + TertiaryStringOp(SystemSwitch[64 + player_id], GetObjectName('Y1ON'), GetObjectName('YOOF')))
//         if not SystemSwitch[48 + player_id]then
//             return
//         endif
//     else
//         set SystemSwitch[48 + player_id] = true
//     endif
//     set SystemSwitch[32 + player_id] = (SystemSwitch[64 + player_id]and SystemSwitch[48 + player_id])
//     set player_id = GetPlayerId(GetLocalPlayer())
//     set T8 = 1
//     set U8 = 3 + HN4 + HM4
//     loop
//         exitwhen T8 > U8
//         call x7(A4, 15, T8, TertiaryRealOp(SystemSwitch[32 + player_id], HZ7, .01))
//         set T8 = T8 + 1
//     endloop
//     if(pl == GetLocalPlayer())then
//         set F17 = IsMultiboardMinimized(A4)
//         call MultiboardMinimize(A4, true)
//     endif
//     call KT9()
//     if(pl == GetLocalPlayer())then
//         call MultiboardMinimize(A4, F17)
//     endif
// endfunction
// function EXD takes nothing returns nothing
//     call KXD(GetTriggerPlayer(), false)
// endfunction
// function KYD takes player pl, boolean J4 returns nothing
//     local integer player_id = GetPlayerId(pl)
//     local integer T8
//     local integer U8
//     local real Y_7
//     if not(DynamicExp or DynamicGold)then
//         return
//     endif
//     if not J4 then
//         set SystemSwitch[112 + player_id] = (not SystemSwitch[112 + player_id])
//         call DisplayTimedTextToPlayer(pl, 0, 0, 10., GetObjectName('Y093') + TertiaryStringOp(SystemSwitch[112 + player_id], GetObjectName('Y1ON'), GetObjectName('YOOF')))
//         if not SystemSwitch[96 + player_id]then
//             return
//         endif
//     else
//         set SystemSwitch[96 + player_id] = true
//     endif
//     set SystemSwitch[80 + player_id] = (SystemSwitch[112 + player_id]and SystemSwitch[96 + player_id])
//     set player_id = GetPlayerId(GetLocalPlayer())
//     set Y_7 = 0
//     if(DynamicExp)then
//         set Y_7 = Y_7 + HZ7 / 2
//     endif
//     if(DynamicGold)then
//         set Y_7 = Y_7 + HZ7 / 2
//     endif
//     set T8 = 1
//     set U8 = 3 + HN4 + HM4
//     loop
//         exitwhen T8 > U8
//         call x7(A4, 14, T8, TertiaryRealOp(SystemSwitch[80 + player_id], Y_7, .01))
//         set T8 = T8 + 1
//     endloop
//     if(pl == GetLocalPlayer())then
//         set F17 = IsMultiboardMinimized(A4)
//         call MultiboardMinimize(A4, true)
//     endif
//     call KT9()
//     if(pl == GetLocalPlayer())then
//         call MultiboardMinimize(A4, F17)
//     endif
// endfunction
// function EZD takes nothing returns nothing
//     call KYD(GetTriggerPlayer(), false)
// endfunction
function KZD takes nothing returns boolean
    local integer player_id = 1
    set L24 = true
    call EA8(GetTriggeringTrigger())
    call DestroyMultiboard(DU7)
    call KD9()
    call CU9()
    call K79()
    // loop
    //     exitwhen player_id > 11
    //     if GetPlayerController(Player(player_id)) == MAP_CONTROL_USER then
    //         call KXD(Player(player_id), true)
    //         call KYD(Player(player_id), true)
    //     endif
    //     set player_id = player_id + 1
    // endloop
    return false
endfunction
function KAD takes nothing returns boolean
    local trigger t = CreateTrigger()
    local integer S29
    local integer S59
    local string PX9
    local unit u
    local real x
    local real y
    local integer i
    local real d
    local real KBD = GetRectCenterX(QD)
    local real KCD = GetRectCenterY(QD)
    local real K3D = GetRectCenterX(PD)
    local real K6D = GetRectCenterY(PD)
    set D97 = 3
    set N54 = true
    call EA8(GetTriggeringTrigger())
    set i = 0
    loop
        exitwhen i == MAX_TEAM_PLAYERS
        set x = KBD - 300 + i * 100
        set y = KCD
        set u = CreateUnit(G8[0], MF4[DM7[i]], x, y, 270)
        call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_SELL)
        call PanCameraToTimedForPlayer(G8[i + 1], KBD, KCD, 0)
        call CreateUnit(G8[i + 1], 'n00C', KBD, KCD, bj_UNIT_FACING)
        call SetPlayerState(G8[i + 1], PLAYER_STATE_RESOURCE_GOLD, L14[GetPlayerId(G8[i + 1])] - 250)
        set EL7[1 + i] = u
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen i == MAX_TEAM_PLAYERS
        set x = K3D - 300 + i * 100
        set y = K6D
        set u = CreateUnit(N8[0], MF4[DN7[i]], x, y, 270)
        call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_SELL)
        call PanCameraToTimedForPlayer(N8[i + 1], K3D, K6D, 0)
        call CreateUnit(N8[i + 1], 'n00C', K3D, K6D, bj_UNIT_FACING)
        call SetPlayerState(N8[i + 1], PLAYER_STATE_RESOURCE_GOLD, L14[GetPlayerId(N8[i + 1])] - 250)
        set EL7[2 + MAX_TEAM_PLAYERS + i] = u
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function KVD))
    call SuspendTimeOfDay(false)
    call EnableTrigger(M64)
    call EnableTrigger(MC4)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function KZD))
    set RD4 = 90
    call MN8()
    set D17 = false
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 30, false)
    call TriggerAddCondition(t, Condition(function JCD))
    call CX9()
    set t = null
    set u = null
    return false
endfunction
function K1D takes integer K0D, integer i returns nothing
    call MJ8(KA4[i])
    if K0D == 1 then
        set DM7[DO7] = i
        set DO7 = DO7 + 1
    else
        set DN7[DP7] = i
        set DP7 = DP7 + 1
    endif
endfunction
function K5D takes integer K0D returns nothing
    local integer i = MU8()
    loop
        if O[i] == false then
            set O[i] = true
            call K1D(K0D, i)
            return
        endif
    endloop
endfunction
function K2D takes integer K0D, integer i returns nothing
    call X48("Ban" + I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))), KA4[i])
    call MJ8(KA4[i])
    if K0D == 1 then
        set DH7[DJ7] = i
        set DJ7 = DJ7 + 1
    else
        set DI7[DK7] = i
        set DK7 = DK7 + 1
    endif
endfunction
function K_D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
            call JTD(GetUnitTypeId(GetSoldUnit()))
        else
            call K5D(K0D)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 1, false)
        call TriggerAddCondition(t, Condition(function KAD))
        call K8D(7)
        call MultiboardSetTitleText(DU7, GetObjectName('n0K6'))
        call SetPlayerState(G8[1], PLAYER_STATE_RESOURCE_GOLD, 0)
        call SetPlayerState(N8[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function M8D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function K_D))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function M9D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call K8D(6)
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function M8D))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
        call MultiboardSetTitleText(DU7, GetObjectName('n0K6') + " - |c00ffffff" + GetObjectName('n0MY'))
        call NN8(bj_FORCE_ALL_PLAYERS, 15., "|c006699CC" + GetObjectName('n0MZ') + "|r")
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MDD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function M9D))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MED takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local player p
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call K8D(5)
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MDD))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
        call MultiboardSetTitleText(DU7, GetObjectName('n0K6') + " - |c00ffffff" + GetObjectName('n0N0'))
        call NN8(bj_FORCE_ALL_PLAYERS, 15., "|c006699CC" + GetObjectName('n0N1') + "|r")
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MFD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MED))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MGD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MFD))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MHD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MGD))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MID takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call K8D(4)
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MHD))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
        call MultiboardSetTitleText(DU7, GetObjectName('n0K6') + " - |c00ffffff" + GetObjectName('n0L8'))
        call NN8(bj_FORCE_ALL_PLAYERS, 15., "|c006699CC" + GetObjectName('n0L3') + "|r")
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MJD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MID))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MKD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MJD))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MMD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MKD))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MND takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call K8D(3)
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MMD))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
        call MultiboardSetTitleText(DU7, GetObjectName('n0K6') + " - |c00ffffff" + GetObjectName('n0L7'))
        call NN8(bj_FORCE_ALL_PLAYERS, 15., "|c006699CC" + GetObjectName('n0L4') + "|r")
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MOD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MND))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MPD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MOD))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MQD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 40 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K1D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K5D(K0D)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MPD))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 40 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MRD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call K8D(2)
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MQD))
        set D47 = 40
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = false
        set DL7 = M7D
        call MultiboardSetTitleText(DU7, GetObjectName('n0K6') + " - |c00ffffff" + GetObjectName('n0L9'))
        call NN8(bj_FORCE_ALL_PLAYERS, 15., "|c006699CC" + GetObjectName('n0L5') + "|r")
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MSD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MRD))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MTD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DE7
    local player M7D = DD7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MSD))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MUD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer K0D = D97
    local player M4D = DD7
    local player M7D = DE7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL or(GetTriggerEvalCount(t) > 30 and L_4[K0D] == 0)then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == false then
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call K2D(K0D, GetUnitPointValue(GetSoldUnit()))
            call RemoveUnit(GetSoldUnit())
        else
            call K2D((K0D), - 1)
        endif
        call EA8(t)
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function MTD))
        set D47 = 30
        set D77 = M7D
        set D97 = J6D()
        call SetPlayerState(M7D, PLAYER_STATE_RESOURCE_GOLD, 250)
        call SetPlayerState(M4D, PLAYER_STATE_RESOURCE_GOLD, 0)
        call PM8(M7D, "Sound\\Interface\\Rescue.wav")
        set E07 = true
        set DL7 = M7D
    else
        if GetTriggerEvalCount(t) > 30 then
            if L_4[K0D] > 0 then
                set L_4[K0D] = L_4[K0D] - 1
            endif
        else
            set D47 = D47 - 1
        endif
    endif
    set t = null
    set M7D = null
    return false
endfunction
function MVD takes nothing returns boolean
    local trigger t = CreateTrigger()
    set L54 = true
    set V = true
    call ExecuteFunc("CreateTaverns")
    call EA8(GetTriggeringTrigger())
    if L04 == false then
        call NN8(bj_FORCE_ALL_PLAYERS, 15., W[GetPlayerId(DD7)] + (KW4[GetPlayerId((DD7))]) + "|r " + GetObjectName('n0EA'))
    endif
    set D77 = DD7
    set D47 = 30
    call SetPlayerState(DD7, PLAYER_STATE_RESOURCE_GOLD, 250)
    call PM8(DD7, "Sound\\Interface\\Rescue.wav")
    call K8D(1)
    call NN8(bj_FORCE_ALL_PLAYERS, 15., "|c006699CC" + GetObjectName('n0L6') + "|r")
    call MultiboardSetTitleText(DU7, GetObjectName('n0K6') + " - |c00ffffff" + GetObjectName('n0LA'))
    call QQ8(t, EVENT_PLAYER_UNIT_SELL)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function MUD))
    set D17 = true
    set E07 = true
    set DL7 = DD7
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function JXD))
    set t = null
    return false
endfunction
function JMD takes nothing returns nothing
    local trigger t
    local location E_D = GetRectCenter(ZD)
    local location F4D = GetRectCenter(qr)
    local integer x = 1
    local player p
    // call DisableTrigger(AiHeroPickTrig)
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        if KQ8(G8[x])then
            call CreateUnitAtLoc(G8[x], 'n00C', F4D, bj_UNIT_FACING)
        endif
        if KQ8(N8[x])then
            call CreateUnitAtLoc(N8[x], 'n00C', E_D, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(E_D)
    call RemoveLocation(F4D)
    set TT4 = true
    set X9 = false
    set W9 = false
    set N54 = false
    call SuspendTimeOfDay(true)
    call DisableTrigger(M64)
    call DisableTrigger(MC4)
    if DZ7 == false then
        call JZD()
    endif
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set L14[GetPlayerId(G8[x])] = GetPlayerState(G8[x], PLAYER_STATE_RESOURCE_GOLD)
        set L14[GetPlayerId(N8[x])] = GetPlayerState(N8[x], PLAYER_STATE_RESOURCE_GOLD)
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call SetPlayerState(G8[x], PLAYER_STATE_RESOURCE_GOLD, 0)
        call SetPlayerState(N8[x], PLAYER_STATE_RESOURCE_GOLD, 0)
        set x = x + 1
    endloop
    set D87 = GetRandomInt(1, 2)
    set L04 = false
    set D97 = D87
    if D87 == 1 then
        set DD7 = G8[1]
        set DE7 = N8[1]
    else
        set DD7 = N8[1]
        set DE7 = G8[1]
    endif
    set DF7 = 1
    set DG7 = 2
    set L_4[1] = DQ7
    set L_4[2] = DQ7
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15 - TimerGetElapsed(E4), false)
    call TriggerAddCondition(t, Condition(function MVD))
    call KSD()
    call NN8(bj_FORCE_ALL_PLAYERS, 4., GetObjectName('n0ES'))
    call NN8(bj_FORCE_ALL_PLAYERS, 4., GetObjectName('n0ER'))
    set t = null
    set E_D = null
    set F4D = null
    set p = null
endfunction
function AJA2 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    set M34 = true
    call EA8(t)
    call DestroyFogModifier(CreateFogModifierRadius(G8[0], FOG_OF_WAR_MASKED, AQQ0, AQU0, 700, false, false))
    call DestroyFogModifier(CreateFogModifierRadius(N8[0], FOG_OF_WAR_MASKED, AQQ0, AQU0, 700, false, false))
    set t = null
    return false
endfunction
function AJB2 takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i > AUO0
        call RemoveUnit(AU10[i])
        set AU10[i] = null
        set i = i + 1
    endloop
endfunction
function AJC2 takes real x, real y returns nothing
    set AU10[AUO0] = CreateUnit(Player(0), 'h06I', x, y, 0)
    set AUO0 = AUO0 + 1
endfunction
function AJD2 takes string S, real J1D, real J0D, real J5D, real J2D, real J_D, boolean K4D returns nothing
    set DA7 = CreateImage(S, J1D, J0D, 0, J5D - (J1D / 2), J2D - (J0D / 2), J_D, 0, 0, 0, 2)
    call SetImageRenderAlways(DA7, true)
    call ShowImage(DA7, K4D)
endfunction
function AJE2 takes integer L7E, integer r, integer g, integer b, integer a, real x, real y, integer EC8 returns nothing
    local string s = I2S(L7E)
    if StringLength(s) > 2 then
        call AJD2("Fonts\\" + SubString(s, 0, 1) + ".blp", 90, 90, x - 70, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (158), (DA7))
        call AJD2("Fonts\\" + SubString(s, 1, 2) + ".blp", 90, 90, x - 20, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (159), (DA7))
        call AJD2("Fonts\\" + SubString(s, 2, 3) + ".blp", 90, 90, x + 30, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (160), (DA7))
    elseif StringLength(s) > 1 then
        call AJD2("Fonts\\0.blp", 90, 90, x - 70, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (158), (DA7))
        call AJD2("Fonts\\" + SubString(s, 0, 1) + ".blp", 90, 90, x - 20, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (159), (DA7))
        call AJD2("Fonts\\" + SubString(s, 1, 2) + ".blp", 90, 90, x + 30, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (160), (DA7))
    else
        call AJD2("Fonts\\0.blp", 90, 90, x - 70, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (158), (DA7))
        call AJD2("Fonts\\0.blp", 90, 90, x - 20, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (159), (DA7))
        call AJD2("Fonts\\" + SubString(s, 0, 1) + ".blp", 90, 90, x + 30, y, 0, true)
        call SetImageColor(DA7, r, g, b, a)
        call SaveImageHandle(R8, (EC8), (160), (DA7))
    endif
endfunction
function AJG2 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer VL8 = (LoadInteger(R8, (EC8), (57)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer C77 = GetTriggerEvalCount(t)
    local integer AJH2 = VL8 - C77
    local image AJZ2 = (LoadImageHandle(R8, (EC8), (158)))
    local image AJV2 = (LoadImageHandle(R8, (EC8), (159)))
    local image AJJ2 = (LoadImageHandle(R8, (EC8), (160)))
    local integer r
    local integer g
    local integer b
    local integer a
    if C77 > 0 then
        call ShowImage(AJZ2, false)
        call DestroyImage(AJZ2)
        call ShowImage(AJV2, false)
        call DestroyImage(AJV2)
        call ShowImage(AJJ2, false)
        call DestroyImage(AJJ2)
    endif
    if C77 == VL8 then
        call FlushChildHashtable(R8, (EC8))
        call EA8(t)
    else
        if AJH2 < 60 then
            set r = 255
            set g = 0
            set b = 0
        else
            set r = KX4[GetPlayerId(GetLocalPlayer())]
            set g = KY4[GetPlayerId(GetLocalPlayer())]
            set b = KZ4[GetPlayerId(GetLocalPlayer())]
        endif
        if AQP0[GetPlayerId(GetLocalPlayer())] == false then
            set a = 255
        else
            set a = 125
        endif
        call AJE2(AJH2, r, g, b, a, x, y, EC8)
    endif
    set t = null
    set AJZ2 = null
    set AJV2 = null
    set AJJ2 = null
    return false
endfunction
function AJW2 takes integer VL8, real x, real y returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function AJG2))
    call SaveInteger(R8, (EC8), (57), (VL8))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call TriggerEvaluate(t)
    set t = null
endfunction
function AJR2 takes player p, integer A1G, boolean randomed returns nothing
    local real d
    if KS8(p) == false then
        return
    endif
    set d = PG8(AQA0[A1G]) * 1.5
    call SetUnitFlyHeight(AQA0[A1G], GetUnitDefaultFlyHeight(AQA0[A1G]) + 1200, 0)
    call SetUnitScale(AQA0[A1G], d, d, d)
    call SetUnitFacing(AQA0[A1G], 270)
    call SetUnitColor(AQA0[A1G], GetPlayerColor(p))
    call PauseUnit(AQA0[A1G], true)
    call SetUnitOwner(AQA0[A1G], p, true)
    set AQP0[GetPlayerId(p)] = true
    set AQ90[A1G] = true
    if KN8(p)then
        set Y7[GetPlayerId(p)] = CreateUnit(p, KA4[AQ80[A1G]], GetRectCenterX(QD), GetRectCenterY(QD), 0)
    else
        set Y7[GetPlayerId(p)] = CreateUnit(p, KA4[AQ80[A1G]], GetRectCenterX(PD), GetRectCenterY(PD), 0)
    endif
endfunction
function AJP2 takes nothing returns integer
    local integer i = 1
    loop
        exitwhen i > 50
        if AQ90[i] == false then
            return i
        endif
        set i = i + 1
    endloop
    return 0
endfunction
function AK02 takes player p, unit u returns nothing
    local integer a = 80
    if GetLocalPlayer() == p then
        set a = 255
    endif
    call SetUnitVertexColor(u, 255, 255, 255, a)
endfunction
function AiPickRDDelay takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local player p = LoadPlayerHandle(R8, GetHandleId(t), (54))
    local integer i = GetRandomInt(1, 50)
    if AQ90[i] == false then
        call AJR2(p, i, false)
        call KillUnit(AU30[GetPlayerId(p)])
        call KillUnit(AU40[GetPlayerId(p)])
        call FlushChildHashtable(R8, GetHandleId(t))
        call EA8(t)
    elseif Y7[GetPlayerId(p)] != null then
        call FlushChildHashtable(R8, GetHandleId(t))
        call EA8(t)
    else
        call TriggerRegisterTimerEvent(t, GetRandomInt(5, 10), false)
    endif
    set p = null
    set t = null
endfunction
function AiPickRD takes player p returns nothing
    local trigger t
    if Y7[GetPlayerId(p)] == null then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, GetRandomInt(15, 60), false)
        call TriggerAddAction(t, function AiPickRDDelay)
        call SavePlayerHandle(R8, GetHandleId(t), (54), (p))
    endif
    set t = null
endfunction
function AKI2 takes player p1 returns nothing
    local unit AC7
    local real x
    local real y
    call PM8(p1, "Sound\\Interface\\Rescue.wav")
    if KN8(p1)then
        if GetLocalPlayer() == p1 then
            call PingMinimapEx(DB7, DC7, 5, 255, 255, 255, false)
        endif
        set AC7 = CreateUnit(p1, 'n02A', DB7 - 250, DC7, 0)
        call UnitApplyTimedLife(AC7, 'BTLF', 20)
        call UnitAddAbility(AC7, 'Aloc')
        set AU30[GetPlayerId(p1)] = AC7
        call AK02(p1, AC7)
        if GetLocalPlayer() == p1 then
            call ClearTextMessages()
        endif
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
        call DisplayTimedTextToPlayer(p1, 0, 0, 20, GetObjectName('n068'))
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
    else
        if GetLocalPlayer() == p1 then
            call PingMinimapEx(AQX0, AQY0, 5, 255, 255, 255, false)
        endif
        set AC7 = CreateUnit(p1, 'n02A', DB7 - 250, DC7, 0)
        call SetUnitVertexColor(AC7, 255, 255, 255, 175)
        call UnitApplyTimedLife(AC7, 'BTLF', 20)
        call UnitAddAbility(AC7, 'Aloc')
        set AU40[GetPlayerId(p1)] = AC7
        call AK02(p1, AC7)
        if GetLocalPlayer() == p1 then
            call ClearTextMessages()
        endif
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
        call DisplayTimedTextToPlayer(p1, 0, 0, 20, GetObjectName('n068'))
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
    endif
    if IsComputer(p1) then
        call AiPickRD(p1)
    endif
    set AC7 = null
endfunction
function AK12 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if AQP0[GetPlayerId(G8[i])] == false then
            call AJR2(G8[i], AJP2(), true)
        endif
        if AQP0[GetPlayerId(N8[i])] == false then
            call AJR2(N8[i], AJP2(), true)
        endif
        set i = i + 1
    endloop
    call AJB2()
    set i = 1
    loop
        exitwhen i > 50
        call RemoveUnit(AQA0[i])
        set AQA0[i] = null
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call JE9(G8[i])
        call JE9(N8[i])
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > (MAX_TEAM_PLAYERS + 1) * 2
        call UnitApplyTimedLife(AQ70[i], 'BTLF', 2)
        set i = i + 1
    endloop
    call EA8(AU20)
    call EA8(t)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 7, false)
    call TriggerAddCondition(t, Condition(function AJA2))
    set t = null
    return false
endfunction
function AK42 takes unit N28 returns integer
    local integer i = 1
    loop
        exitwhen i > 50
        if AQA0[i] == N28 then
            return i
        endif
        set i = i + 1
    endloop
    return 0
endfunction
function AK52 takes nothing returns boolean
    local unit KWD = GetSoldUnit()
    local player p = GetOwningPlayer(KWD)
    call KillUnit(KWD)
    if AQP0[GetPlayerId(p)] == true then
        call PN8(p, GetObjectName('n0D7'))
        set KWD = null
        set p = null
        return false
    endif
    if V == false then
        call PN8(p, GetObjectName('n0CR'))
        set KWD = null
        set p = null
        return false
    endif
    if GetUnitTypeId(KWD) == 'h06N' then
        call AJR2(p, AK42(GetSellingUnit()), false)
        call KillUnit(AU30[GetPlayerId(p)])
        call KillUnit(AU40[GetPlayerId(p)])
    endif
    set KWD = null
    set p = null
    return false
endfunction
function AK72 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8
    local integer i = 1
    set V = true
    call ExecuteFunc("AiInitialization")
    call EA8(t)
    call SuspendTimeOfDay(true)
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call AKI2(G8[i])
        call AKI2(N8[i])
        set i = i + 1
    endloop
    call AJW2(180, AQQ0, AQU0 - AQL0 * 3.5)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 180., false)
    call TriggerAddCondition(t, Condition(function AK12))
    set t = null
    return false
endfunction
function StartRandomDraft takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i
    local real x
    local real y
    local real a
    local integer r
    local integer MV8
    local boolean array AKH2
    local player p
    local real z
    // call DisableTrigger(AiHeroPickTrig)
    set AU20 = CreateTrigger()
    call TriggerAddCondition(AU20, Condition(function AK52))
    call PM8(GetLocalPlayer(), "Sound\\Interface\\Rescue.wav")
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call SetPlayerState(G8[i], PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(G8[i], PLAYER_STATE_RESOURCE_GOLD) - 250)
        call SetPlayerState(N8[i], PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(N8[i], PLAYER_STATE_RESOURCE_GOLD) - 250)
        set i = i + 1
    endloop
    call TriggerRegisterTimerEvent(t, 15 - TimerGetElapsed(E4), false)
    call TriggerAddCondition(t, Condition(function AK72))
    set OL4 = true
    set RD4 = 180
    set X9 = false
    set W9 = false
    set i = 1
    loop
        exitwhen i > 50
        set MV8 = ARHI(true, true)
        if AKH2[MV8] == false then
            set AKH2[MV8] = true
            set AQ80[i] = MV8
            set i = i + 1
        endif
    endloop
    set i = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set AQ70[1 + i] = CreateUnit(G8[i], 'n0DC', DB7, DC7, 0)
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set AQ70[MAX_TEAM_PLAYERS + 2 + i] = CreateUnit(N8[i], 'n0DC', AQX0, AQY0, 0)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call PanCameraToTimedForPlayer(G8[i], DB7, DC7, 0)
        call PanCameraToTimedForPlayer(N8[i], DB7, DC7, 0)
        set i = i + 1
    endloop
    set AQQ0 = DB7 + 50
    set AQU0 = DC7 - 120
    set i = 1
    loop
        exitwhen i > 50
        set x = AQQ0 + AQK0 / 2 * (((i - 1) * 2) / 11 - 4)
        set y = AQU0 + AQL0 / 2 * (ModuloInteger((i - 1) * 2, 11) - 5)
        set AQA0[i] = CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), MF4[AQ80[i]], x, y, 270)
        call UnitRemoveAbility(AQA0[i], 'Amov')
        call AJC2(x, y)
        call TriggerRegisterUnitEvent(AU20, AQA0[i], EVENT_UNIT_SELL)
        set i = i + 1
    endloop
    call MN8()
    set t = null
    set p = null
endfunction
function MWD takes player p, integer z8 returns nothing
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if p != G8[i]then
            call SetPlayerTechMaxAllowed(G8[i], z8, 0)
        endif
        if p != N8[i]then
            call SetPlayerTechMaxAllowed(N8[i], z8, 0)
        endif
        set i = i + 1
    endloop
endfunction
function MXD takes integer MYD returns integer
    local integer MZD
    if MYD == 1 then
        set MZD = GetUnitPointValueByType(K14[GetRandomInt(1, K04)])
    elseif MYD == 2 then
        set MZD = GetUnitPointValueByType(K54[GetRandomInt(1, K24)])
    elseif MYD == 3 then
        set MZD = GetUnitPointValueByType(K_4[GetRandomInt(1, M44)])
    endif
    return MZD
endfunction
function MAD takes integer MBD, integer MCD, integer MYD returns integer
    local integer MZD
    set MZD = MXD(MYD)
    if E9 and MBD != MZD and MCD != MZD then
        return MZD
    endif
    loop
        exitwhen O[MZD] == false and MBD != MZD and MCD != MZD
        set MZD = MXD(MYD)
    endloop
    set O[MZD] = true
    return MZD
endfunction
function IYD takes nothing returns nothing
    local player p
    local integer i = 1
    local integer MBD
    local integer MCD
    local integer M3D
    local trigger t
    local integer EC8
    set VT = true
    set RD4 = 120
    set W9 = false
    set X9 = false
    set V = true
    // call ExecuteFunc("AiInitialization")
    // call DisableTrigger(AiHeroPickTrig)
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        set MBD = 0
        set MCD = 0
        set M3D = 0
        if KS8(p)then
            call UnitAddAbility(KR4[GetPlayerId(p)], 'A14E')
            call UnitAddAbility(KR4[GetPlayerId(p)], 'A14H')
            set MBD = MAD(MBD, MCD, 1)
            set MCD = MAD(MBD, MCD, 2)
            set M3D = MAD(MBD, MCD, 3)
            call AddUnitToStock(KR4[GetPlayerId(p)], KA4[MBD], 1, 1)
            call MWD(p, KA4[MBD])
            call AddUnitToStock(KR4[GetPlayerId(p)], KA4[MCD], 1, 1)
            call MWD(p, KA4[MCD])
            call AddUnitToStock(KR4[GetPlayerId(p)], KA4[M3D], 1, 1)
            call MWD(p, KA4[M3D])
            call ClearSelectionForPlayer(p)
            call SelectUnitAddForPlayer(KR4[GetPlayerId(p)], p)
            call PanCameraToTimedForPlayer(p, GetRectCenterX(QD), GetRectCenterY(QD), 0)
            call DisplayTimedTextToPlayer(p, 0, V9, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, V9, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, V9, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, V9, 15, "|cff99ccff" + (GetObjectName(('n0E6'))) + "|r")
            call DisplayTimedTextToPlayer(p, 0, V9, 15, " ")
        endif
        set p = N8[i]
        set MBD = 0
        set MCD = 0
        set M3D = 0
        if KS8(p)then
            call UnitAddAbility(KR4[GetPlayerId(p)], 'A14E')
            call UnitAddAbility(KR4[GetPlayerId(p)], 'A14H')
            set MBD = MAD(MBD, MCD, 1)
            set MCD = MAD(MBD, MCD, 2)
            set M3D = MAD(MBD, MCD, 3)
            call AddUnitToStock(KR4[GetPlayerId(p)], KA4[MBD], 1, 1)
            call MWD(p, KA4[MBD])
            call AddUnitToStock(KR4[GetPlayerId(p)], KA4[MCD], 1, 1)
            call MWD(p, KA4[MCD])
            call AddUnitToStock(KR4[GetPlayerId(p)], KA4[M3D], 1, 1)
            call MWD(p, KA4[M3D])
            call ClearSelectionForPlayer(p)
            call SelectUnitAddForPlayer(KR4[GetPlayerId(p)], p)
            call PanCameraToTimedForPlayer(p, GetRectCenterX(PD), GetRectCenterY(PD), 0)
            call DisplayTimedTextToPlayer(p, 0, V9, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, V9, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, V9, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, V9, 15, "|cff99ccff" + (GetObjectName(('n0E6'))) + "|r")
            call DisplayTimedTextToPlayer(p, 0, V9, 15, " ")
        endif
        set i = i + 1
    endloop
    set p = null
    set t = null
endfunction
function M6D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer PH9 = (LoadInteger(R8, (EC8), (55)))
    local player p
    local integer MV8
    local location XX8 = GetRectCenter(QD)
    local location XY8 = GetRectCenter(PD)
    if PH9 < MAX_TEAM_PLAYERS + 1 then
        set p = G8[PH9]
    elseif PH9 < MAX_TEAM_PLAYERS * 2 + 1 then
        set p = N8[PH9 - MAX_TEAM_PLAYERS]
    endif
    if PH9 > MAX_TEAM_PLAYERS * 2 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        if T4 == false then
            set X9 = true
        endif
    elseif PH9 < MAX_TEAM_PLAYERS + 1 then
        call SaveInteger(R8, (EC8), (55), (PH9 + 1))
        set Y7[GetPlayerId(p)] = null
        if KS8(p)then
            loop
                exitwhen Y7[GetPlayerId(p)] != null
                set MV8 = MU8()
                if O[MV8] == false then
                    if not E9 then
                        set O[MV8] = true
                    endif
                    set Y7[GetPlayerId(p)] = CreateUnitAtLoc(p, KA4[MV8], XX8, bj_UNIT_FACING)
                endif
            endloop
        endif
    elseif PH9 < MAX_TEAM_PLAYERS * 2 + 1 then
        call SaveInteger(R8, (EC8), (55), (PH9 + 1))
        set Y7[GetPlayerId(p)] = null
        if KS8(p)then
            loop
                exitwhen Y7[GetPlayerId(p)] != null
                set MV8 = MU8()
                if O[MV8] == false then
                    if not E9 then
                        set O[MV8] = true
                    endif
                    set Y7[GetPlayerId(p)] = CreateUnitAtLoc(p, KA4[MV8], XY8, bj_UNIT_FACING)
                endif
            endloop
        endif
    endif
    call RemoveLocation(XX8)
    call RemoveLocation(XY8)
    set XX8 = null
    set XY8 = null
    set p = null
    set t = null
    return false
endfunction
function IVD takes nothing returns nothing
    local location XX8 = GetRectCenter(QD)
    local location XY8 = GetRectCenter(PD)
    local location MLD = GetRectCenter(QD)
    local location M1D = GetRectCenter(PD)
    local integer T8 = 1
    local integer U8 = MAX_TEAM_PLAYERS
    local integer MV8
    local trigger t
    set V4 = true
    set W9 = false
    if not E9 then
        call MN8()
    endif
    // call DisableTrigger(AiHeroPickTrig)
    set E7 = 400
    loop
        exitwhen T8 > U8
        call PanCameraToTimedLocForPlayer(G8[T8], MLD, 0)
        call PanCameraToTimedLocForPlayer(N8[T8], M1D, 0)
        set T8 = T8 + 1
    endloop
    if HO4 then
        loop
            set MV8 = MU8()
            exitwhen O[MV8] == false
        endloop
        if KN8(V8)then
            set Y7[GetPlayerId(V8)] = CreateUnit(V8, KA4[MV8], GetLocationX(XX8), GetLocationY(XX8), 270)
        else
            set Y7[GetPlayerId(V8)] = CreateUnit(V8, KA4[MV8], GetLocationX(XY8), GetLocationY(XY8), 270)
        endif
        call RemoveLocation(XX8)
        call RemoveLocation(XY8)
        call RemoveLocation(MLD)
        call RemoveLocation(M1D)
        set XX8 = null
        set XY8 = null
        set MLD = null
        set M1D = null
        set t = null
        return
    endif
    set X9 = false
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function M6D))
    call SaveInteger(R8, GetHandleId(t), (55), 1)
    call RemoveLocation(XX8)
    call RemoveLocation(XY8)
    call RemoveLocation(MLD)
    call RemoveLocation(M1D)
    set XX8 = null
    set XY8 = null
    set MLD = null
    set M1D = null
    set t = null
endfunction
function Q2 takes nothing returns nothing
    call PA8(GetEnumUnit())
endfunction
function Q3 takes unit N28 returns nothing
    local integer Q4 = GetPlayerId(GetOwningPlayer(N28))
    set se[Q4] = UnitItemInSlot(N28, 0)
    set Se[Q4] = UnitItemInSlot(N28, 1)
    set We[Q4] = UnitItemInSlot(N28, 2)
    set ze[Q4] = UnitItemInSlot(N28, 3)
    set Ze[Q4] = UnitItemInSlot(N28, 4)
    set vx[Q4] = UnitItemInSlot(N28, 5)
endfunction
function Q5 takes player h5, player h6 returns integer
    local unit Q6 = Y7[GetPlayerId(h5)]
    local unit Q7 = Y7[GetPlayerId(h6)]
    call UnitRemoveBuffs(Q6, true, true)
    call UnitRemoveBuffs(Q7, true, true)
    if Q6 == null and Q7 == null then
        call NN8(bj_FORCE_ALL_PLAYERS, 15, W[GetPlayerId(G8[0])] + NM8(h5) + " and " + NM8(h6) + " did not pick a hero so they have no hero to be assigned.|r")
    elseif GetRandomInt(1, 2) == 1 then
        if(Q6 != null)then
            return GetUnitTypeId(Q6)
        else
            return GetUnitTypeId(Q7)
        endif
    else
        if(Q7 != null)then
            return GetUnitTypeId(Q7)
        else
            return GetUnitTypeId(Q6)
        endif
    endif
    call NN8(bj_FORCE_ALL_PLAYERS, 15, W[GetPlayerId(G8[0])] + NM8(h5) + " and " + NM8(h6) + " have not picked a hero. They will be given a random hero!")
    return MU8()
    set Q6 = null
    set Q7 = null
endfunction
function Q8 takes nothing returns nothing
    if(GetUnitTypeId(GetEnumUnit()) == 'n004')then
        call RemoveUnit(GetEnumUnit())
    endif
    if(GetUnitTypeId(GetEnumUnit()) == 'o003')then
        call RemoveUnit(GetEnumUnit())
    endif
endfunction
function Q9 takes nothing returns boolean
    local integer T8
    local group ra = OG8()
    local unit rA
    local location MLD = GetRectCenter(QD)
    local location M1D = GetRectCenter(PD)
    local integer rb = MI8(E8)
    local player array rB
    local player array rc
    local integer x
    local integer y
    local real rC
    local real rd
    local real rD
    local integer re
    local group XS8 = OG8()
    call GroupEnumUnitsInRect(XS8, GetWorldBounds(), null)
    call ForGroup(XS8, function Q8)
    call OF8(XS8)
    set T8 = 1
    set x = 1
    set y = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        if(KS8(G8[T8]))then
            call Q3(Y7[GetPlayerId(G8[T8])])
            call GroupAddUnit(ra, Y7[GetPlayerId(G8[T8])])
            set rB[x] = G8[T8]
            set x = x + 1
        endif
        if(KS8(N8[T8]))then
            call Q3(Y7[GetPlayerId(N8[T8])])
            call GroupAddUnit(ra, Y7[GetPlayerId(N8[T8])])
            set rc[y] = N8[T8]
            set y = y + 1
        endif
        set T8 = T8 + 1
    endloop
    set x = 1
    loop
        exitwhen x > rb
        set re = Q5(rB[x], rc[x])
        if(Y7[GetPlayerId(rB[x])] == null)then
            set rC = GetLocationX(MLD) + GetRandomReal(1, 40)
            set rd = GetLocationY(MLD) + GetRandomReal(1, 40)
            set rD = 270
        else
            set rC = GetUnitX(Y7[GetPlayerId(rB[x])])
            set rd = GetUnitY(Y7[GetPlayerId(rB[x])])
            set rD = GetUnitFacing(Y7[GetPlayerId(rB[x])])
            call SetUnitPathing(Y7[GetPlayerId(rB[x])], false)
        endif
        set Y7[GetPlayerId(rB[x])] = CreateUnit(rB[x], re, rC, rd, rD)
        call SetUnitPathing(Y7[GetPlayerId(rB[x])], false)
        call SetUnitPosition(Y7[GetPlayerId(rB[x])], rC, rd)
        call UnitAddItem(Y7[GetPlayerId(rB[x])], se[GetPlayerId(rB[x])])
        call UnitAddItem(Y7[GetPlayerId(rB[x])], Se[GetPlayerId(rB[x])])
        call UnitAddItem(Y7[GetPlayerId(rB[x])], We[GetPlayerId(rB[x])])
        call UnitAddItem(Y7[GetPlayerId(rB[x])], ze[GetPlayerId(rB[x])])
        call UnitAddItem(Y7[GetPlayerId(rB[x])], Ze[GetPlayerId(rB[x])])
        call UnitAddItem(Y7[GetPlayerId(rB[x])], vx[GetPlayerId(rB[x])])
        call ClearSelectionForPlayer(rB[x])
        call SelectUnitAddForPlayer(Y7[GetPlayerId(rB[x])], rB[x])
        call PanCameraToTimedForPlayer(rB[x], rC, rd, 0)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl", rC, rd))
        if(Y7[GetPlayerId(rc[x])] == null)then
            set rC = GetLocationX(M1D)
            set rd = GetLocationY(M1D)
            set rD = 270
        else
            set rC = GetUnitX(Y7[GetPlayerId(rc[x])])
            set rd = GetUnitY(Y7[GetPlayerId(rc[x])])
            set rD = GetUnitFacing(Y7[GetPlayerId(rc[x])])
            call SetUnitPathing(Y7[GetPlayerId(rc[x])], false)
        endif
        set Y7[GetPlayerId(rc[x])] = CreateUnit(rc[x], re, rC, rd, rD)
        call SetUnitPathing(Y7[GetPlayerId(rc[x])], false)
        call SetUnitPosition(Y7[GetPlayerId(rc[x])], rC, rd)
        call UnitAddItem(Y7[GetPlayerId(rc[x])], se[GetPlayerId(rc[x])])
        call UnitAddItem(Y7[GetPlayerId(rc[x])], Se[GetPlayerId(rc[x])])
        call UnitAddItem(Y7[GetPlayerId(rc[x])], We[GetPlayerId(rc[x])])
        call UnitAddItem(Y7[GetPlayerId(rc[x])], ze[GetPlayerId(rc[x])])
        call UnitAddItem(Y7[GetPlayerId(rc[x])], Ze[GetPlayerId(rc[x])])
        call UnitAddItem(Y7[GetPlayerId(rc[x])], vx[GetPlayerId(rc[x])])
        call ClearSelectionForPlayer(rc[x])
        call SelectUnitAddForPlayer(Y7[GetPlayerId(rc[x])], rc[x])
        call PanCameraToTimedForPlayer(rc[x], rC, rd, 0)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl", rC, rd))
        set x = x + 1
    endloop
    call ForGroup(ra, function Q2)
    call OF8(ra)
    set x = 1
    loop
        exitwhen x > rb
        call SetUnitPathing(Y7[GetPlayerId(rB[x])], true)
        call SetUnitPathing(Y7[GetPlayerId(rc[x])], true)
        set x = x + 1
    endloop
    call RemoveLocation(MLD)
    call RemoveLocation(M1D)
    set ra = null
    set rA = null
    set MLD = null
    set M1D = null
    set XS8 = null
    return false
endfunction
function rE takes nothing returns boolean
    set AJ = true
    return false
endfunction
function rf takes nothing returns boolean
    set X9 = false
    set W9 = false
    call MN8()
    return false
endfunction
function IND takes nothing returns nothing
    local trigger t = CreateTrigger()
    call NN8(T9, 10, GetObjectName('n09H'))
    call NN8(T9, 10, GetObjectName('n09E'))
    set D9 = true
    call MJ8('H00I')
    call TriggerRegisterTimerEvent(t, 60 - TimerGetElapsed(E4), false)
    call TriggerAddCondition(t, Condition(function Q9))
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function rf))
    call TriggerRegisterTimerEvent(t, 57 - TimerGetElapsed(E4), false)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 55 + 60 - TimerGetElapsed(E4), false)
    call TriggerAddCondition(t, Condition(function rE))
    set t = null
endfunction
function IXD takes nothing returns nothing
    local location XX8 = GetRectCenter(XD)
    local location XY8 = GetRectCenter(WD)
    local location MLD = GetRectCenter(QD)
    local location M1D = GetRectCenter(PD)
    local integer T8
    local integer U8
    local integer MV8
    if not E9 then
        call MN8()
    endif
    // call DisableTrigger(AiHeroPickTrig)
    set W4 = true
    set E7 = 400
    set W9 = false
    set T8 = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        call PanCameraToTimedLocForPlayer(G8[T8], MLD, 0)
        call PanCameraToTimedLocForPlayer(N8[T8], M1D, 0)
        set T8 = T8 + 1
    endloop
    if HO4 then
        if KN8(V8)then
            loop
                set MV8 = GetRandomInt(KC4, K34)
                exitwhen O[MV8] == false
            endloop
            set Y7[GetPlayerId(V8)] = CreateUnit(V8, KA4[MV8], GetLocationX(XX8), GetLocationY(XX8), 270)
        else
            loop
                set MV8 = GetRandomInt(K64, KL4)
                exitwhen O[MV8] == false
            endloop
            set Y7[GetPlayerId(V8)] = CreateUnit(V8, KA4[MV8], GetLocationX(XY8), GetLocationY(XY8), 270)
        endif
        call RemoveLocation(XX8)
        call RemoveLocation(XY8)
        call RemoveLocation(MLD)
        call RemoveLocation(M1D)
        return
    endif
    set X9 = false
    set T8 = 1
    set U8 = MAX_TEAM_PLAYERS
    loop
        exitwhen T8 > U8
        set Y7[GetPlayerId(G8[T8])] = null
        if(KS8(G8[T8]))then
            loop
                set MV8 = GetRandomInt(KC4, K34)
                if(O[MV8] == false)then
                    if not E9 then
                        set O[MV8] = true
                    endif
                    set Y7[GetPlayerId(G8[T8])] = CreateUnitAtLoc(G8[T8], KA4[MV8], XX8, bj_UNIT_FACING)
                endif
                exitwhen(Y7[GetPlayerId(G8[T8])] != null)
            endloop
        endif
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = MAX_TEAM_PLAYERS
    loop
        exitwhen T8 > U8
        set Y7[GetPlayerId(N8[T8])] = null
        if(KS8(N8[T8]))then
            loop
                set MV8 = GetRandomInt(K64, KL4)
                if(O[MV8] == false)then
                    if not E9 then
                        set O[MV8] = true
                    endif
                    set Y7[GetPlayerId(N8[T8])] = CreateUnitAtLoc(N8[T8], KA4[MV8], XY8, bj_UNIT_FACING)
                endif
                exitwhen(Y7[GetPlayerId(N8[T8])] != null)
            endloop
        endif
        set T8 = T8 + 1
    endloop
    set X9 = true
    call RemoveLocation(XX8)
    call RemoveLocation(XY8)
    call RemoveLocation(MLD)
    call RemoveLocation(M1D)
    set XX8 = null
    set XY8 = null
    set MLD = null
    set M1D = null
endfunction
function rF takes nothing returns nothing
    set P74 = true
    call NN8(bj_FORCE_ALL_PLAYERS, 10, GetObjectName('n06K') + " " + GetObjectName('n06L'))
    call DisableTrigger(GetTriggeringTrigger())
endfunction
function rg takes nothing returns nothing
    local integer rG = S2I(SubString(GetEventPlayerChatString(), 6, StringLength(GetEventPlayerChatString())))
    if rG > P84 then
        call PN8(V8, GetObjectName('n03C'))
    elseif rG < 10 then
        call PN8(V8, GetObjectName('n02I'))
    else
        set P84 = rG
        call NN8(bj_FORCE_ALL_PLAYERS, 10, GetObjectName('n06X') + " " + I2S(P84) + " " + GetObjectName('n06N'))
        call DisableTrigger(GetTriggeringTrigger())
    endif
endfunction
function rh takes nothing returns nothing
    call DisableTrigger((LoadTriggerHandle(R8, (GetHandleId(GetTriggeringTrigger())), (170))))
    call DisableTrigger((LoadTriggerHandle(R8, (GetHandleId(GetTriggeringTrigger())), (171))))
    call DisableTrigger(GetTriggeringTrigger())
endfunction
function M0D takes nothing returns nothing
    local trigger ri = CreateTrigger()
    local trigger rI = CreateTrigger()
    local trigger nd = CreateTrigger()
    set P84 = IMinBJ(K34, KL4 - K64 + 1)
    call NN8(bj_FORCE_ALL_PLAYERS, 10., " ")
    call NN8(bj_FORCE_ALL_PLAYERS, 10., GetObjectName('n06O') + " -nd " + GetObjectName('n067') + " -lives xx " + GetObjectName('n06Q'))
    call NN8(bj_FORCE_ALL_PLAYERS, 10., GetObjectName('n060') + " " + I2S(P84))
    call TriggerRegisterTimerEvent(ri, 15., false)
    call TriggerAddAction(ri, function rh)
    call SaveTriggerHandle(R8, (GetHandleId(ri)), (170), (nd))
    call SaveTriggerHandle(R8, (GetHandleId(ri)), (171), (rI))
    call TriggerRegisterPlayerChatEvent(nd, V8, "-nd", true)
    call TriggerAddAction(nd, function rF)
    call TriggerRegisterPlayerChatEvent(rI, V8, "-lives", false)
    call TriggerAddAction(rI, function rg)
    set ri = null
    set rI = null
    set nd = null
endfunction
function M5D takes nothing returns nothing
    local integer rJ = (LoadInteger(R8, (GetHandleId(GetTriggeringTrigger())), (173)))
    local integer T8
    local integer U8
    local integer MV8
    local integer QM
    local location XX8 = GetRectCenter(ZD)
    local location XY8 = GetRectCenter(qr)
    if U9 then
        return
    endif
    if KN8(Player(rJ))then
        set T8 = KC4
        set U8 = K34
        set QM = 0
    else
        set T8 = K64
        set U8 = KL4
        set QM = 1
    endif
    if X4 then
        set T8 = KC4
        set U8 = KL4
        if KN8(Player(rJ))then
            call CreateUnitAtLoc(Player(rJ), 'n00C', XX8, bj_UNIT_FACING)
            call CreateUnitAtLoc(Player(rJ), 'n00C', XY8, bj_UNIT_FACING)
        else
            call CreateUnitAtLoc(Player(rJ), 'n00C', XX8, bj_UNIT_FACING)
            call CreateUnitAtLoc(Player(rJ), 'n00C', XY8, bj_UNIT_FACING)
        endif
    else
        set T8 = KC4
        set U8 = KL4
        if KN8(Player(rJ))then
            call CreateUnitAtLoc(Player(rJ), 'n00C', XX8, bj_UNIT_FACING)
        else
            call CreateUnitAtLoc(Player(rJ), 'n00C', XX8, bj_UNIT_FACING)
        endif
    endif
    if((not V4)and(GetPlayerController(Player(rJ)) == MAP_CONTROL_USER))then
        loop
            exitwhen T8 > U8
            if O[T8] == false then
                call SetPlayerTechMaxAllowed(Player(rJ), KA4[T8], 1)
            endif
            set T8 = T8 + 1
        endloop
        if(GetPlayerState(Player(rJ), PLAYER_STATE_RESOURCE_GOLD) < 250)then
            call SetPlayerState(Player(rJ), PLAYER_STATE_RESOURCE_GOLD, 250)
        endif
    elseif(B7[QM] < P84)then
        set Y7[rJ] = null
        if KS8(Player(rJ))then
            loop
                if(V4)then
                    set MV8 = MU8()
                elseif(((not X4)and(KN8(Player(rJ))))or((X4)and(GetRandomInt(1, 2) == 1)))then
                    set MV8 = GetRandomInt(KC4, K34)
                else
                    set MV8 = GetRandomInt(K64, KL4)
                endif
                if O[MV8] == false then
                    set O[MV8] = true
                    if KN8(Player(rJ))then
                        set Y7[rJ] = CreateUnitAtLoc(Player(rJ), KA4[MV8], XX8, bj_UNIT_FACING)
                    else
                        set Y7[rJ] = CreateUnitAtLoc(Player(rJ), KA4[MV8], XY8, bj_UNIT_FACING)
                    endif
                endif
                exitwhen Y7[rJ] != null
            endloop
        endif
    endif
    call RemoveLocation(XX8)
    call RemoveLocation(XY8)
    set XX8 = null
    set XY8 = null
    if not V4 then
    endif
endfunction
function IMD takes nothing returns nothing
    local real CPv
    local trigger t
    local integer rk
    local integer x
    set T4 = true
    call MJ8('H00I')
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set rk = GetPlayerId(G8[x])
        set t = CreateTrigger()
        call TriggerRegisterTimerExpireEvent(t, L[rk])
        call TriggerAddAction(t, function M5D)
        call SaveInteger(R8, (GetHandleId(t)), (173), (rk))
        set rk = GetPlayerId(N8[x])
        set t = CreateTrigger()
        call TriggerRegisterTimerExpireEvent(t, L[rk])
        call TriggerAddAction(t, function M5D)
        call SaveInteger(R8, (GetHandleId(t)), (173), (rk))
        set x = x + 1
    endloop
    static if MAX_TEAM_PLAYERS_GE_1 then
        call UnitRemoveAbility(KG4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        call UnitRemoveAbility(KH4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        call UnitRemoveAbility(KI4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        call UnitRemoveAbility(KJ4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        call UnitRemoveAbility(KK4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        call UnitRemoveAbility(circle_of_power_sent_6, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        call UnitRemoveAbility(circle_of_power_sent_7, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        call UnitRemoveAbility(circle_of_power_sent_8, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        call UnitRemoveAbility(circle_of_power_sent_9, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        call UnitRemoveAbility(circle_of_power_sent_10, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        call UnitRemoveAbility(circle_of_power_sent_11, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_1 then
        call UnitRemoveAbility(KM4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        call UnitRemoveAbility(KN4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        call UnitRemoveAbility(KO4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        call UnitRemoveAbility(KP4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        call UnitRemoveAbility(KQ4, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        call UnitRemoveAbility(circle_of_power_scrg_6, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        call UnitRemoveAbility(circle_of_power_scrg_7, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        call UnitRemoveAbility(circle_of_power_scrg_8, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        call UnitRemoveAbility(circle_of_power_scrg_9, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        call UnitRemoveAbility(circle_of_power_scrg_10, 'Aawa')
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        call UnitRemoveAbility(circle_of_power_scrg_11, 'Aawa')
    endif
    call ExecuteFunc("M0D")
    set t = null
endfunction
function IZD takes nothing returns nothing
    local integer rK = GetRandomInt(1, 4)
    set Ox = true
    if(rK == 1)then
        call NN8(bj_FORCE_ALL_PLAYERS, 20., GetObjectName('n0FD'))
        call NN8(bj_FORCE_ALL_PLAYERS, 20., " ")
        call ExecuteFunc("StartRandomDraft")
    elseif(rK == 2)then
        call NN8(bj_FORCE_ALL_PLAYERS, 20., GetObjectName('n0FE'))
        call NN8(bj_FORCE_ALL_PLAYERS, 20., " ")
        call ExecuteFunc("IVD")
    elseif(rK == 3)then
        call NN8(bj_FORCE_ALL_PLAYERS, 20., GetObjectName('n0FK'))
        call NN8(bj_FORCE_ALL_PLAYERS, 20., " ")
        call ExecuteFunc("IXD")
    elseif(rK == 4)then
        call NN8(bj_FORCE_ALL_PLAYERS, 20., GetObjectName('n0FM'))
        call NN8(bj_FORCE_ALL_PLAYERS, 20., " ")
    endif
endfunction
function IUD takes nothing returns nothing
    set E9 = true
    call MJ8('H00I')
    call MJ8('N0MU')
endfunction
function IJD takes nothing returns nothing
    local integer M2D = MI8(E8)
    local integer XV8 = MI8(F8)
    local integer D5 = M2D + XV8
    local integer T8
    local integer M_D
    local integer x
    local integer y
    local integer z
    local player array N4D
    local player array N7D
    local integer w
    local integer N8D
    local integer N9D
    local location MLD = GetRectCenter(QD)
    local location M1D = GetRectCenter(PD)
    local location XX8 = GetRectCenter(ZD)
    local location XY8 = GetRectCenter(qr)
    set ge = true
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call JE9(G8[x])
        call JE9(N8[x])
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        if KS8(G8[x])then
            call CreateUnitAtLoc(G8[x], 'n00C', XX8, bj_UNIT_FACING)
            call CreateUnitAtLoc(G8[x], 'n00C', XY8, bj_UNIT_FACING)
        endif
        if KS8(N8[x])then
            call CreateUnitAtLoc(N8[x], 'n00C', XX8, bj_UNIT_FACING)
            call CreateUnitAtLoc(N8[x], 'n00C', XY8, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(XX8)
    call RemoveLocation(XY8)
    set N8D = 0
    set N9D = 0
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set N8D = N8D + GetPlayerState(G8[x], PLAYER_STATE_RESOURCE_GOLD)
        set N9D = N9D + GetPlayerState(N8[x], PLAYER_STATE_RESOURCE_GOLD)
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS * 2
        set N4D[x] = null
        set x = x + 1
    endloop
    set z = 1
    set w = 1
    set T8 = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        if(KS8(G8[T8]))then
            set N4D[w] = G8[T8]
            set w = w + 1
        else
            set N7D[z] = G8[T8]
            set z = z + 1
        endif
        set T8 = T8 + 1
    endloop
    set T8 = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        if(KS8(N8[T8]))then
            set N4D[w] = N8[T8]
            set w = w + 1
        else
            set N7D[z] = N8[T8]
            set z = z + 1
        endif
        set T8 = T8 + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set G8[x] = null
        set N8[x] = null
        set x = x + 1
    endloop
    set T8 = 1
    loop
        exitwhen T8 > (D5 / 2)
        set M_D = GetRandomInt(1, D5)
        if(N4D[M_D] != null)then
            set G8[T8] = N4D[M_D]
            set N4D[M_D] = null
            set T8 = T8 + 1
        endif
    endloop
    set x = T8
    set T8 = 1
    loop
        exitwhen T8 > D5 - x + 1
        set M_D = GetRandomInt(1, D5)
        if(N4D[M_D] != null)then
            set N8[T8] = N4D[M_D]
            set N4D[M_D] = null
            set T8 = T8 + 1
        endif
    endloop
    set z = T8
    set T8 = x
    set y = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        set G8[T8] = N7D[y]
        set y = y + 1
        set T8 = T8 + 1
    endloop
    set T8 = z
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        set N8[T8] = N7D[y]
        set y = y + 1
        set T8 = T8 + 1
    endloop
    set T8 = 0
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        set T8 = T8 + 1
    endloop
    set x = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call SetPlayerTeam(G8[x], 0)
        call SetPlayerTeam(N8[x], 1)
        set x = x + 1
    endloop
    call W68()
    set x = 0
    set y = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        loop
            exitwhen y > MAX_TEAM_PLAYERS
            call SetPlayerAllianceStateBJ(G8[x], G8[y], 3)
            call SetPlayerAllianceStateBJ(N8[x], N8[y], 3)
            call SetPlayerAllianceStateBJ(G8[x], N8[y], 0)
            call SetPlayerAllianceStateBJ(N8[x], G8[y], 0)
            set y = y + 1
        endloop
        set y = 0
        set x = x + 1
    endloop
    call ForceClear(E8)
    call ForceClear(F8)
    set x = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call ForceAddPlayer(E8, G8[x])
        call ForceAddPlayer(F8, N8[x])
        set x = x + 1
    endloop
    call ExecuteFunc("XP8")
    call KD9()
    set M2D = MI8(E8)
    set XV8 = MI8(F8)
    set T8 = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        if(KS8(G8[T8]))then
            call SetPlayerStateBJ(G8[T8], PLAYER_STATE_RESOURCE_GOLD, (4375 / M2D))
            call SetPlayerStateBJ(G8[T8], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        if(KS8(N8[T8]))then
            call SetPlayerStateBJ(N8[T8], PLAYER_STATE_RESOURCE_GOLD, (4375 / XV8))
            call SetPlayerStateBJ(N8[T8], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        set T8 = T8 + 1
    endloop
    if L8 then
        set x = 0
        loop
            exitwhen x > MAX_TEAM_PLAYERS
            call SetPlayerAlliance(Player(0), G8[x], ALLIANCE_PASSIVE, true)
            call SetPlayerAlliance(Player(0), G8[x], ALLIANCE_SHARED_SPELLS, true)
            call SetPlayerAlliance(Player(0), N8[x], ALLIANCE_PASSIVE, false)
            call SetPlayerAlliance(Player(0), N8[x], ALLIANCE_SHARED_SPELLS, false)
            set x = x + 1
        endloop
    endif
    call W38()
    set MLD = null
    set M1D = null
    set XX8 = null
    set XY8 = null
endfunction
function IKD takes nothing returns nothing
    local integer XW8 = MI8(E8)
    local integer XV8 = MI8(F8)
    local integer D5 = XW8 + XV8
    local integer T8
    local integer M_D
    local integer x
    local integer y
    local integer z
    local player array N4D
    local player array N7D
    local integer w
    local integer N8D
    local integer N9D
    local location MLD
    local location M1D
    local location XX8
    local location XY8
    local integer NDD
    set NDD = GetRandomInt(1, 2)
    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, (GetObjectName(('n0GY'))))
    if NDD == 1 then
        return
    endif
    set jj = true
    set MLD = GetRectCenter(QD)
    set M1D = GetRectCenter(PD)
    set XX8 = GetRectCenter(ZD)
    set XY8 = GetRectCenter(qr)
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call JE9(G8[x])
        call JE9(N8[x])
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        if KS8(G8[x])then
            call CreateUnitAtLoc(G8[x], 'n00C', XX8, bj_UNIT_FACING)
            call CreateUnitAtLoc(G8[x], 'n00C', XY8, bj_UNIT_FACING)
        endif
        if KS8(N8[x])then
            call CreateUnitAtLoc(N8[x], 'n00C', XX8, bj_UNIT_FACING)
            call CreateUnitAtLoc(N8[x], 'n00C', XY8, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(XX8)
    call RemoveLocation(XY8)
    set N8D = 0
    set N9D = 0
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set N8D = N8D + GetPlayerState(G8[x], PLAYER_STATE_RESOURCE_GOLD)
        set N9D = N9D + GetPlayerState(N8[x], PLAYER_STATE_RESOURCE_GOLD)
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set N4D[x] = G8[x]
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set N4D[x + MAX_TEAM_PLAYERS] = N8[x]
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set G8[x] = N4D[x + MAX_TEAM_PLAYERS]
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set N8[x] = N4D[x]
        set x = x + 1
    endloop
    set x = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call SetPlayerTeam(G8[x], 0)
        call SetPlayerTeam(N8[x], 1)
        set x = x + 1
    endloop
    call W68()
    set x = 0
    set y = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        loop
            exitwhen y > MAX_TEAM_PLAYERS
            call SetPlayerAllianceStateBJ(G8[x], G8[y], 3)
            call SetPlayerAllianceStateBJ(N8[x], N8[y], 3)
            call SetPlayerAllianceStateBJ(G8[x], N8[y], 0)
            call SetPlayerAllianceStateBJ(N8[x], G8[y], 0)
            set y = y + 1
        endloop
        set y = 0
        set x = x + 1
    endloop
    call ForceClear(E8)
    call ForceClear(F8)
    set x = 0
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        call ForceAddPlayer(E8, G8[x])
        call ForceAddPlayer(F8, N8[x])
        set x = x + 1
    endloop
    call ExecuteFunc("XP8")
    set XW8 = MI8(E8)
    set XV8 = MI8(F8)
    set T8 = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        if(KS8(G8[T8]))then
            call SetPlayerStateBJ(G8[T8], PLAYER_STATE_RESOURCE_GOLD, (4375 / XW8))
            call SetPlayerStateBJ(G8[T8], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        if(KS8(N8[T8]))then
            call SetPlayerStateBJ(N8[T8], PLAYER_STATE_RESOURCE_GOLD, (4375 / XV8))
            call SetPlayerStateBJ(N8[T8], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        set T8 = T8 + 1
    endloop
    set T8 = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        call PanCameraToTimedLocForPlayer(G8[T8], MLD, 0)
        call PanCameraToTimedLocForPlayer(N8[T8], M1D, 0)
        set T8 = T8 + 1
    endloop
    set T8 = 1
    loop
        exitwhen T8 > MAX_TEAM_PLAYERS
        call DestroyFogModifier(CreateFogModifierRectBJ(true, G8[T8], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea))
        call DestroyFogModifier(CreateFogModifierRectBJ(true, N8[T8], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea))
        set T8 = T8 + 1
    endloop
    if L8 then
        set x = 0
        loop
            exitwhen x > MAX_TEAM_PLAYERS
            call SetPlayerAlliance(Player(0), G8[x], ALLIANCE_PASSIVE, true)
            call SetPlayerAlliance(Player(0), G8[x], ALLIANCE_SHARED_SPELLS, true)
            call SetPlayerAlliance(Player(0), N8[x], ALLIANCE_PASSIVE, false)
            call SetPlayerAlliance(Player(0), N8[x], ALLIANCE_SHARED_SPELLS, false)
            set x = x + 1
        endloop
    endif
    call W38()
    call KD9()
    set MLD = null
    set M1D = null
    set XX8 = null
    set XY8 = null
endfunction
function rN takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer Hm = (LoadInteger(R8, (EC8), (172)))
    local player j8
    local integer x = 1
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        set j8 = G8[x]
        if KS8(j8)and j8 != V8 then
            set Y7[GetPlayerId(j8)] = CreateUnit(j8, Hm, GetRectCenterX(QD), GetRectCenterY(QD), 270)
        endif
        set j8 = N8[x]
        if KS8(j8)and j8 != V8 then
            set Y7[GetPlayerId(j8)] = CreateUnit(j8, Hm, GetRectCenterX(PD), GetRectCenterY(PD), 270)
        endif
        set x = x + 1
    endloop
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set j8 = null
    return false
endfunction
function ro takes nothing returns nothing
    local integer x = 1
    local player j8
    local unit N28 = GetTriggerUnit()
    local integer Hm = GetUnitTypeId(N28)
    local trigger t
    local integer EC8
    if(GetOwningPlayer(N28) == V8 and IsUnitType(N28, UNIT_TYPE_HERO))then
        call DisableTrigger(GetTriggeringTrigger())
        if D7[GetPlayerId(V8)] == false and V4 == false and W4 == false then
            call SetPlayerState(V8, PLAYER_STATE_RESOURCE_GOLD, 250 + GetPlayerState(V8, PLAYER_STATE_RESOURCE_GOLD))
        endif
        set B[GetPlayerId(V8)] = true
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .01, false)
        call TriggerAddCondition(t, Condition(function rN))
        call SaveInteger(R8, (EC8), (172), (Hm))
    endif
    set j8 = null
    set N28 = null
    set t = null
endfunction
function IOD takes nothing returns nothing
    local integer x = 1
    local trigger t = CreateTrigger()
    local region r = CreateRegion()
    set HO4 = true
    // call DisableTrigger(AiHeroPickTrig)
    call MJ8('H00I')
    call MJ8('N0MU')
    loop
        exitwhen x > MAX_TEAM_PLAYERS
        if(G8[x] != V8)then
            call MM8(G8[x])
            set D7[GetPlayerId(G8[x])] = true
            set B[GetPlayerId(G8[x])] = true
        endif
        if(N8[x] != V8)then
            call MM8(N8[x])
            set D7[GetPlayerId(N8[x])] = true
            set B[GetPlayerId(N8[x])] = true
        endif
        set x = x + 1
    endloop
    call RegionAddRect(r, bj_mapInitialPlayableArea)
    call TriggerRegisterEnterRegion(t, r, null)
    call TriggerAddAction(t, function ro)
    set r = null
    set t = null
endfunction
function IPD takes nothing returns nothing
    local integer T8
    local integer U8
    set Rx = true
    set T8 = 1
    set U8 = M44
    loop
        exitwhen T8 > U8
        call MJ8(K_4[T8])
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = K24
    loop
        exitwhen T8 > U8
        call MJ8(K54[T8])
        set T8 = T8 + 1
    endloop
endfunction
function IRD takes nothing returns nothing
    local integer T8
    local integer U8
    set bx = true
    set T8 = 1
    set U8 = M44
    loop
        exitwhen T8 > U8
        call MJ8(K_4[T8])
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = K04
    loop
        exitwhen T8 > U8
        call MJ8(K14[T8])
        set T8 = T8 + 1
    endloop
endfunction
function IQD takes nothing returns nothing
    local integer T8
    local integer U8
    set Nx = true
    set T8 = 1
    set U8 = K04
    loop
        exitwhen T8 > U8
        call MJ8(K14[T8])
        set T8 = T8 + 1
    endloop
    set T8 = 1
    set U8 = K24
    loop
        exitwhen T8 > U8
        call MJ8(K54[T8])
        set T8 = T8 + 1
    endloop
endfunction
function ITD takes nothing returns nothing
    local integer T8
    local integer U8
    set lj = true
    set T8 = 1
    set U8 = M84
    loop
        exitwhen T8 > U8
        call MJ8(M74[T8])
        set T8 = T8 + 1
    endloop
endfunction
function ISD takes nothing returns nothing
    local integer T8
    local integer U8
    set Jj = true
    set T8 = 1
    set U8 = MD4
    loop
        exitwhen T8 > U8
        call MJ8(M94[T8])
        set T8 = T8 + 1
    endloop
endfunction
function IAD takes nothing returns nothing
    set Y4 = true
endfunction
function I3D takes nothing returns nothing
    local integer i
    set F7 = true
    call SetPlayerTechResearched(G8[0], 'R004', 1)
    call SetPlayerTechResearched(N8[0], 'R004', 1)
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call SetPlayerHandicapXP(G8[i], 1.5)
        call SetPlayerHandicapXP(N8[i], 1.5)
        set i = i + 1
    endloop
endfunction
function IBD takes nothing returns nothing
    set G7 = true
    call DisableTrigger(HS4)
endfunction
function ICD takes nothing returns nothing
    set M7 = true
endfunction
function NED takes nothing returns nothing
    set oy = false
    call NN8(bj_FORCE_ALL_PLAYERS, 10, (GetObjectName(('n0HA'))))
    call DisableTrigger(GetTriggeringTrigger())
endfunction
function NFD takes nothing returns nothing
    call DisableTrigger((LoadTriggerHandle(R8, (GetHandleId(GetTriggeringTrigger())), (174))))
    call DisableTrigger(GetTriggeringTrigger())
endfunction
function NGD takes nothing returns nothing
    local trigger NHD = CreateTrigger()
    local trigger NID = CreateTrigger()
    call NN8(bj_FORCE_ALL_PLAYERS, 10., " ")
    call NN8(bj_FORCE_ALL_PLAYERS, 10., GetObjectName('n06O') + " -noneutrals " + GetObjectName('n06Q'))
    call TriggerRegisterTimerEvent(NHD, 15., false)
    call TriggerAddAction(NHD, function NFD)
    call SaveTriggerHandle(R8, (GetHandleId(NHD)), (174), (NID))
    call TriggerRegisterPlayerChatEvent(NID, V8, "-noneutrals", true)
    call TriggerAddAction(NID, function NED)
    set NHD = null
    set NID = null
endfunction
function I6D takes nothing returns nothing
    set P94 = true
    call ExecuteFunc("NGD")
endfunction
function ILD takes nothing returns nothing
    set PD4 = true
endfunction
function I0D takes nothing returns nothing
    set PE4 = true
endfunction
function I1D takes nothing returns nothing
    set PF4 = true
endfunction
function I5D takes nothing returns nothing
    set PG4 = true
endfunction
function I2D takes nothing returns nothing
    set PH4 = true
endfunction
function I_D takes nothing returns nothing
    set PI4 = true
endfunction
function StartAiCN takes nothing returns nothing
    set CoolName = true
endfunction
function JKD takes nothing returns nothing
    set AllDagon = true
endfunction
function NJD takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call SetPlayerName(G8[i], (KW4[GetPlayerId((G8[i]))]) + " (" + I2S(C[GetPlayerId(G8[i])]) + "/" + I2S(D4[GetPlayerId(G8[i])]) + " | " + I2S(C7[GetPlayerId(G8[i])]) + "-" + I2S(L7[GetPlayerId(G8[i])]) + ")")
        call SetPlayerName(N8[i], (KW4[GetPlayerId((N8[i]))]) + " (" + I2S(C[GetPlayerId(N8[i])]) + "/" + I2S(D4[GetPlayerId(N8[i])]) + " | " + I2S(C7[GetPlayerId(N8[i])]) + "-" + I2S(L7[GetPlayerId(N8[i])]) + ")")
        set i = i + 1
    endloop
endfunction
function NKD takes nothing returns boolean
    if PJ4 == false then
        if GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4 then
            call NJD()
        endif
    endif
    return false
endfunction
function NMD takes nothing returns boolean
    local integer id = GetUnitTypeId(GetTriggerUnit())
    if GetLocalPlayer() == GetTriggerPlayer()then
        if id == 'hC95' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'n01K' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'nC38' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'e025' then
        elseif id == 'n00V' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'n00W' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'n002' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'n00X' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'n009' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'n0HE' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'nC35' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'u00Q' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'uC74' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'u010' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'n12K' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'u00Z' then
            call ResetUnitAnimation(GetTriggerUnit())
        elseif id == 'n90B' then
            call ResetUnitAnimation(GetTriggerUnit())
        endif
    endif
    return false
endfunction
function NOD takes nothing returns boolean
    local integer id = GetUnitTypeId(GetTriggerUnit())
    local string NND = ""
    if GetLocalPlayer() == GetTriggerPlayer()then
        if id == 'hC95' then
            set NND = "stand work"
        elseif id == 'n01K' then
            set NND = "stand third"
        elseif id == 'nC38' then
            call SetUnitAnimationByIndex(GetTriggerUnit(), 3)
        elseif id == 'eden' then
        elseif id == 'n00V' then
            set NND = "spell attack"
        elseif id == 'n00W' then
            set NND = "spell"
        elseif id == 'n002' then
            call SetUnitAnimationByIndex(GetTriggerUnit(), 3)
        elseif id == 'n00X' then
            set NND = "stand work"
        elseif id == 'n009' then
            set NND = "stand work"
        elseif id == 'n0HE' then
            set NND = "stand victory"
        elseif id == 'nC35' then
            set NND = "stand work"
        elseif id == 'u00Q' then
            set NND = "stand work"
        elseif id == 'uC74' then
            set NND = "stand work gold"
        elseif id == 'u010' then
            set NND = "stand work"
        elseif id == 'n12K' then
            set NND = "stand work"
        elseif id == 'u00Z' then
            set NND = "stand work"
        endif
        if NND != "" then
            call SetUnitAnimation(GetTriggerUnit(), NND)
            call QueueUnitAnimationBJ(GetTriggerUnit(), NND)
        endif
    endif
    return false
endfunction
function J4D takes nothing returns nothing
    set PJ4 = true
endfunction
function NPD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    call SetUnitScale(N28, PG8(N28) * ZS, PG8(N28) * ZS, PG8(N28) * ZS)
    set N28 = null
endfunction
function NQD takes nothing returns boolean
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) then
        call NPD()
    endif
    return false
endfunction
function J7D takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, bj_mapInitialPlayableArea)
    call TriggerAddCondition(t, Condition(function NQD))
    set t = null
    set bN = true
    set ZS = .5
endfunction
function J8D takes nothing returns nothing
    set BS = true
endfunction
function J9D takes nothing returns nothing
    set CS = true
endfunction
function NRD takes nothing returns nothing
    set Q[1] = 0
endfunction
function NSD takes nothing returns nothing
    set Q[2] = 0
endfunction
function NTD takes nothing returns nothing
    set Q[3] = 0
endfunction
function NUD takes nothing returns nothing
    set Q[4] = 0
endfunction
function NVD takes nothing returns nothing
    set Q[5] = 0
endfunction
function NWD takes nothing returns nothing
    set Q[7] = 0
endfunction
function NXD takes nothing returns nothing
    set Q[8] = 0
endfunction
function NYD takes nothing returns nothing
    set Q[9] = 0
endfunction
function NZD takes nothing returns nothing
    set Q[10] = 0
endfunction
function NAD takes nothing returns nothing
    set Q[11] = 0
endfunction
function NBD takes nothing returns nothing
    local integer i = 1
    local string id
    local player p
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        set id = I2S(GetPlayerId(p))
        call StoreInteger(IG4, id, "id", i)
        set p = N8[i]
        set id = I2S(GetPlayerId(p))
        call StoreInteger(IG4, id, "id", i + 5)
        if GetLocalPlayer() == V8 then
            call SyncStoredInteger(IG4, I2S(GetPlayerId(G8[i])), "id")
            call SyncStoredInteger(IG4, I2S(GetPlayerId(N8[i])), "id")
        endif
        set i = i + 1
    endloop
endfunction
function NCD takes nothing returns boolean
    local boolean N3D = F9
    local trigger t
    if(vY and(not N3D))then
        set F9 = true
    endif
    if N3D then
        call MQ8()
        set V = true
        call NN8(bj_FORCE_ALL_PLAYERS, 20., W[GetPlayerId(V8)] + (KW4[GetPlayerId((V8))]) + "|r" + " " + (GetObjectName(('n0CM'))))
        call NN8(bj_FORCE_ALL_PLAYERS, 20., " ")
        call ExecuteFunc("CreateTaverns")
        set R94 = true
        call CX9()
        call F6D()
        call KD9()
        call CU9()
        call K79()
    elseif vY then
        call NN8(bj_FORCE_ALL_PLAYERS, 20., "The selected mode/s are insignificant and is considered |c006699CCNormal Mode|r. You will get 175 gold refunded when you pick a hero.")
        call NN8(bj_FORCE_ALL_PLAYERS, 20., " ")
    endif
    call NBD()
    call EA8(GetTriggeringTrigger())
    return false
endfunction
function CreateTaverns takes nothing returns nothing
    local player j8 = Player(PLAYER_NEUTRAL_PASSIVE)
    local real LWH =- 7360.
    local real LXH = 6784.
    local real LYH =- 7168.
    local real LZH = 6784.
    local real LAH =- 6848.
    local real LBH = 6784.
    local real LCH =- 7360.
    local real L3H = 6464.
    local real L6H =- 7168.
    local real LLH = 6464.
    local real L1H =- 6848.
    local real L0H = 6464.
    local real L5H =- 7360.
    local real L2H = 7104.
    local real L_H =- 7168.
    local real D4I = 7104.
    local real D7I =- 6848.
    local real D8I = 7104.
    local real DEI =- 6656.
    local real DFI = 6784.
    local real D9I =- 6656.
    local real DDI = 6464.
    local real DII =- 6656.
    local real DJI = 7104.
    local trigger t
    set MM4 = CreateUnit(j8, 'n008', LCH, L3H, 270)
    set MN4 = CreateUnit(j8, 'n0GJ', L6H, LLH, 270)
    set MO4 = CreateUnit(j8, 'n01D', L1H, L0H, 270)
    set MP4 = CreateUnit(j8, 'n0LH', D9I, DDI, 270)
    set MQ4 = CreateUnit(j8, 'n01N', LWH, LXH, 270)
    set MR4 = CreateUnit(j8, 'n007', LYH, LZH, 270)
    set MS4 = CreateUnit(j8, 'n005', LAH, LBH, 270)
    set MT4 = CreateUnit(j8, 'n0LI', DEI, DFI, 270)
    set MU4 = CreateUnit(j8, 'n01B', L5H, L2H, 270)
    set MV4 = CreateUnit(j8, 'n01P', L_H, D4I, 270)
    set MW4 = CreateUnit(j8, 'n0GK', D7I, D8I, 270)
    set MX4 = CreateUnit(j8, 'n0LJ', DII, DJI, 270)
    call SetUnitColor(MM4, ConvertPlayerColor(1))
    call SetUnitColor(MN4, ConvertPlayerColor(1))
    call SetUnitColor(MO4, ConvertPlayerColor(9))
    call SetUnitColor(MP4, ConvertPlayerColor(9))
    call SetUnitColor(MQ4, ConvertPlayerColor(6))
    call SetUnitColor(MR4, ConvertPlayerColor(6))
    call SetUnitColor(MS4, ConvertPlayerColor(10))
    call SetUnitColor(MT4, ConvertPlayerColor(10))
    call SetUnitColor(MU4, ConvertPlayerColor(0))
    call SetUnitColor(MV4, ConvertPlayerColor(0))
    call SetUnitColor(MW4, ConvertPlayerColor(11))
    call SetUnitColor(MX4, ConvertPlayerColor(11))
    set EU7[1] = MM4
    set EU7[2] = MN4
    set EU7[3] = MO4
    set EU7[4] = MP4
    set EU7[5] = MQ4
    set EU7[6] = MR4
    set EU7[7] = MS4
    set EU7[8] = MT4
    set EU7[9] = MU4
    set EU7[10] = MV4
    set EU7[11] = MW4
    set EU7[12] = MX4
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 5., false)
    call TriggerAddCondition(t, Condition(function N6D))
    set t = null
    set j8 = null
endfunction
function NLD takes nothing returns nothing
    set U = true
endfunction
function N1D takes nothing returns nothing
    set Z8 = true
endfunction
function N0D takes nothing returns nothing
    set B9 = true
endfunction
function TimeDilationSlow takes unit AM7 returns nothing
    local ability a = BlzGetUnitAbility(AM7, 'A0VH')
    local integer TA8 = GetUnitAbilityLevel(AM7, 'A3RO')
    if a != null then
        call FbSetAbilityRealLevelField(a, ABILITY_RLF_MOVEMENT_SPEED_FACTOR_SLO1, TA8, FbGetAbilityRealLevelField(a, ABILITY_RLF_MOVEMENT_SPEED_FACTOR_SLO1, TA8) - .6 - .1 * TA8)
        call FbSetAbilityRealLevelField(a, ABILITY_RLF_ATTACK_SPEED_FACTOR_SLO2, TA8, FbGetAbilityRealLevelField(a, ABILITY_RLF_ATTACK_SPEED_FACTOR_SLO2, TA8) - .6 - .1 * TA8)
        set a = null
    endif
endfunction
function GetChargedSkillCharge takes unit AM7, integer TX8 returns integer
    return FbGetAbilityIntegerLevelField(BlzGetUnitAbility(AM7, TX8), ABILITY_ILF_NUMBER_OF_OWLS, 1)
endfunction
function SetChargedSkillCharge takes unit AM7, integer TX8, integer charge returns nothing
    local ability a = BlzGetUnitAbility(AM7, TX8)
    local integer TA8 = BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS)
    local integer i = 1
    loop
        exitwhen i > TA8
        call FbSetAbilityIntegerLevelField(a, ABILITY_ILF_NUMBER_OF_OWLS, i, charge)
        call FbSetAbilityStringLevelField(a, ABILITY_SLF_TOOLTIP_NORMAL_EXTENDED, i, FbGetAbilityExtendedTooltip(TX8, i) + GetObjectName('n0O2') + I2S(charge))
        set i = i + 1
    endloop
    set a = null
endfunction
function ChargedSkillCooldownDelay takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = LoadUnitHandle(R8, (EC8), (14))
    local integer TX8 = LoadInteger(R8, (EC8), (59))
    local real cd = LoadReal(R8, (EC8), (830))
    if cd < .01 then
        call BlzEndUnitAbilityCooldown(AM7, TX8)
    else
        call BlzStartUnitAbilityCooldown(AM7, TX8, cd)
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function StartChargedSkillCooldownDelay takes unit AM7, integer TX8, real cd returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0., false)
    call TriggerAddCondition(t, Condition(function ChargedSkillCooldownDelay))
    call SaveInteger(R8, (EC8), (59), (TX8))
    call SaveUnitHandle(R8, (EC8), (14), (AM7))
    call SaveReal(R8, (EC8), (830), (cd))
    set t = null
endfunction
function ChargedSkillTimeDilationAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer WED = LoadInteger(R8, (GetHandleId(t)), (838))
    local unit AM7 = LoadUnitHandle(R8, (WED), (14))
    local timer tm = LoadTimerHandle(R8, (WED), (141))
    local integer TX8 = LoadInteger(R8, (WED), (59))
    if GetChargedSkillCharge(AM7, TX8) == 0 then
        call BlzStartUnitAbilityCooldown(AM7, TX8, TimerGetRemaining(tm))
    endif
    if GetUnitAbilityLevel(AM7, 'A3RO') == 0 then
        call FlushChildHashtable(R8, GetHandleId(t))
        call EA8(t)
        call ResumeTimer(tm)
        call SaveBoolean(R8, (WED), (833), (false))
    endif
    set t = null
    set AM7 = null
    set tm = null
endfunction
function ChargedSkillTimeDilation takes integer WED returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddAction(t, function ChargedSkillTimeDilationAction)
    call SaveInteger(R8, (GetHandleId(t)), (838), (WED))
    set t = null
endfunction
function ChargedSkillAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TX8 = LoadInteger(R8, (EC8), (59))
    local unit AM7 = LoadUnitHandle(R8, (EC8), (14))
    local timer tm = LoadTimerHandle(R8, (EC8), (141))
    local integer TA8 = GetUnitAbilityLevel(AM7, TX8)
    local integer maxCharges
    local integer chargesRemaining
    if TA8 == 0 then
        call PauseTimer(tm)
        call DestroyTimer(tm)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == TX8 then
            set chargesRemaining = GetChargedSkillCharge(AM7, TX8)
            call SetChargedSkillCharge(AM7, TX8, chargesRemaining - 1)
            set maxCharges = LoadInteger(R8, (EC8), (826 + TA8 - 1))
            if TimerGetRemaining(tm) <= 0. and chargesRemaining - 1 < maxCharges then
                call TimerStart(tm, GetHeroCooldownReduced(AM7, TX8, true), false, null)
                if GetUnitAbilityLevel(AM7, 'A3DU') > 0 then
                    call UnitRemoveAbility(AM7, 'A3DU')
                    call UnitRemoveAbility(AM7, 'B3DU')
                endif
            endif
            if GetUnitAbilityLevel(AM7, 'B3RO') > 0 and LoadBoolean(R8, (EC8), (833)) == false and TimerGetRemaining(tm) > 0. then
                call SaveBoolean(R8, (EC8), (833), (true))
                call TimeDilationSlow(AM7)
                call PauseTimer(tm)
                call ChargedSkillTimeDilation(EC8)
            endif
            if chargesRemaining > 1 then
                call StartChargedSkillCooldownDelay(AM7, TX8, 0.)
            elseif chargesRemaining == 1 and LoadBoolean(R8, (EC8), (833)) == false then
                call StartChargedSkillCooldownDelay(AM7, TX8, TimerGetRemaining(tm))
            endif
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_HERO_SKILL then
        if GetLearnedSkill() == TX8 then
            set chargesRemaining = GetChargedSkillCharge(AM7, TX8)
            set maxCharges = LoadInteger(R8, (EC8), (826 + TA8 - 1))
            if chargesRemaining < maxCharges and TimerGetRemaining(tm) <= 0. then
                call TimerStart(tm, GetHeroCooldownReduced(AM7, TX8, false), false, null)
            endif
        endif
    else
        set chargesRemaining = GetChargedSkillCharge(AM7, TX8)
        set maxCharges = LoadInteger(R8, (EC8), (826 + TA8 - 1))
        if chargesRemaining + 1 <= maxCharges and TimerGetRemaining(tm) <= 0. then
            call SetChargedSkillCharge(AM7, TX8, chargesRemaining + 1)
            if chargesRemaining + 1 < maxCharges then
                call TimerStart(tm, GetHeroCooldownReduced(AM7, TX8, false), false, null)
            endif
        endif
    endif
    set AM7 = null
    set t = null
    set tm = null
endfunction
function RegisterChargedSkill takes unit AM7, integer TX8, integer initCharges, integer chargesLv1, integer chargesLv2, integer chargesLv3, integer chargesLv4 returns nothing
    local trigger t
    local integer EC8
    local timer tm = CreateTimer()
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_HERO_SKILL)
    call TriggerRegisterTimerExpireEvent(t, tm)
    call TriggerAddAction(t, function ChargedSkillAction)
    call SaveUnitHandle(R8, (EC8), (14), (AM7))
    call SaveInteger(R8, (EC8), (59), (TX8))
    call SaveInteger(R8, (EC8), (826), (chargesLv1))
    call SaveInteger(R8, (EC8), (827), (chargesLv2))
    call SaveInteger(R8, (EC8), (828), (chargesLv3))
    call SaveInteger(R8, (EC8), (829), (chargesLv4))
    call SaveTimerHandle(R8, (EC8), (141), (tm))
    call SaveBoolean(R8, (EC8), (833), (false))
    call SetChargedSkillCharge(AM7, TX8, initCharges - 1)
    call TimerStart(tm, BlzGetUnitAbilityCooldownRemaining(AM7, TX8), false, null)
    set t = null
    set tm = null
endfunction
function N5D takes nothing returns boolean
    return GetUnitAbilityLevel(GetKillingUnit(), 'A0O3') > 0 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit()))and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitIllusion(GetTriggerUnit()) == false and IsBroken(GetTriggerUnit()) == false
endfunction
function N2D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit u = (LoadUnitHandle(R8, (EC8), (26)))
    call SaveInteger(R8, (GetHandleId(u)), (27), ((LoadInteger(R8, (GetHandleId(u)), (27))) - 1))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set u = null
    set t = null
    return false
endfunction
function N_D takes nothing returns nothing
    local unit O4D = GetKillingUnit()
    local unit O7D = GetTriggerUnit()
    local integer W57 = GetHandleId(O4D)
    local integer O8D = (LoadInteger(R8, (W57), (27)))
    local integer ML8 = GetUnitAbilityLevel(O4D, 'A0O3')
    local integer O9D = O8D * ML8
    local integer AQE2 = O8D * 3
    local integer ODD = IMinBJ(AQE2 + ML8 * 2 + 4, 4 + 8 * ML8)
    local texttag tt = CreateTextTag()
    local player p = GetOwningPlayer(O4D)
    local trigger t = CreateTrigger()
    if AAJS[GetPlayerId(p)] > (TimerGetElapsed(E4))then
        set ODD = ODD * 3 / 5
        set AEK0[GetPlayerId(p)] = AEK0[GetPlayerId(p)] + ODD
    endif
    set LS[GetPlayerId(p)] = LS[GetPlayerId(p)] + ODD
    call TriggerRegisterTimerEvent(t, 30., false)
    call TriggerAddCondition(t, Condition(function N2D))
    call SaveUnitHandle(R8, (GetHandleId(t)), (26), (O4D))
    call SaveInteger(R8, (W57), (27), (O8D + 1))
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, ODD + GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD))
    call SetTextTagText(tt, "+" + I2S(ODD), .025)
    call SetTextTagPosUnit(tt, O7D, 0)
    call SetTextTagColor(tt, 255, 220, 0, 255)
    call SetTextTagVelocity(tt, 0, .03)
    if GetLocalPlayer() == p then
        call SetTextTagVisibility(tt, true)
    else
        call SetTextTagVisibility(tt, false)
    endif
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagLifespan(tt, 3)
    call SetTextTagPermanent(tt, false)
    set tt = null
    set t = null
    set O4D = null
    set O7D = null
    set p = null
endfunction
function OED takes nothing returns boolean
    local integer OFD = LS[GetPlayerId(GetTriggerPlayer())]
    if(GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())]) == 'N01I' or GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())]) == 'N01H' or GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())]) == 'N01T' or GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())]) == 'N01J')and OFD > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., (GetObjectName(('n0GQ'))) + " " + I2S(OFD))
    endif
    return false
endfunction
function D59 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function N5D))
    call TriggerAddAction(t, function N_D)
    set t = CreateTrigger()
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-st", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-st", true)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function OED))
    set t = null
endfunction
function OGD takes nothing returns nothing
    call V08(U74, GetEnumUnit(), AC4, UD4)
    call V18(U74, GetEnumUnit(), U94)
endfunction
function OHD takes unit Z77, unit X77, real OID returns nothing
    local group g
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1NI')
    local real x
    local real y
    set U74 = Z77
    set UD4 = (80 + 70 * TA8) * OID / 5.
    set U94 = (1 + .75 * TA8) * OID / 5.
    set H04 = Z77
    set g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 175 + 25, Condition(function GenericCondition_EnemyUnitsEx))
    if GetUnitTypeId(X77) != 'h0BD' then
        call GroupAddUnit(g, X77)
    endif
    call ForGroup(g, function OGD)
    call OF8(g)
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl", GetUnitX(X77), GetUnitY(X77)))
    set g = null
endfunction
function OJD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit VA8 = (LoadUnitHandle(R8, (EC8), (45)))
    local real OID = (LoadReal(R8, (EC8), (444)))
    local real OKD = (LoadReal(R8, (EC8), (445)))
    local real l4 = YI7(GetUnitX(VA8), GetUnitY(VA8), GetUnitX(target), GetUnitY(target))
    local real x = GetUnitX(VA8) + 18 * Cos(l4 * bj_DEGTORAD)
    local real y = GetUnitY(VA8) + 18 * Sin(l4 * bj_DEGTORAD)
    call SetUnitX(VA8, x)
    call SetUnitY(VA8, y)
    if Z87(x, y, GetUnitX(target), GetUnitY(target)) <= 18 then
        call KillUnit(VA8)
        call OHD(Z77, target, OID)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set target = null
    set VA8 = null
    return false
endfunction
function OMD takes unit Z77, unit target, real OID, real OKD returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit VA8 = CreateUnit(GetOwningPlayer(Z77), 'h0BD', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (45), (VA8))
    call SaveReal(R8, (EC8), (444), (OID))
    call SaveReal(R8, (EC8), (445), (OKD))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function OJD))
    set t = null
    set VA8 = null
endfunction
function OND takes string OOD, unit target, unit OPD returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, OOD, .033)
    call SetTextTagPosUnit(tt, target, 64)
    call SetTextTagColor(tt, 255, 0, 0, 255)
    call SetTextTagVelocity(tt, 0, .0355)
    call SetTextTagFadepoint(tt, .15)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, .65)
    if IsUnitAlly(OPD, GetLocalPlayer())or N08(GetLocalPlayer())then
        call SetTextTagVisibility(tt, true)
    else
        call SetTextTagVisibility(tt, true)
    endif
    set tt = null
endfunction
function OQD takes real ORD returns string
    if ORD > 4.5 then
        return"5.0"
    elseif ORD > 4. then
        return"4.5"
    elseif ORD > 3.5 then
        return"4.0"
    elseif ORD > 3. then
        return"3.5"
    elseif ORD > 2.5 then
        return"3.0"
    elseif ORD > 2. then
        return"2.5"
    elseif ORD > 1.5 then
        return"2.0"
    elseif ORD > 1. then
        return"1.5"
    elseif ORD > .5 then
        return"1.0"
    elseif ORD > .0 then
        return"0.5"
    else
        return"0.0"
    endif
    return" "
endfunction
function OSD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local real OKD = (LoadReal(R8, (EC8), (442)))
    local real WR8 = (TimerGetElapsed(E4))
    local real OTD = 5. - (WR8 - OKD)
    local real KU9 = RMinBJ(WR8 - OKD, 5.)
    local integer OUD = (LoadInteger(R8, (EC8), (34))) + 1
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call OHD(Z77, Z77, 5.)
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1NI' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1NI', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1NH', false)
        call SetUnitVertexColor(Z77, 255, 255, 255, 255)
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A1NH' then
            if OE8(GetSpellTargetUnit()) == false then
                call OMD(Z77, GetSpellTargetUnit(), KU9, OKD)
            endif
            if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1NI' then
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1NI', true)
            endif
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1NH', false)
            call SetUnitVertexColor(Z77, 255, 255, 255, 255)
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    else
        call SaveInteger(R8, (EC8), (34), (OUD))
        if OTD >= 0 then
            call OND(OQD(OTD), Z77, Z77)
            if ModuloInteger(OUD, 2) == 0 then
                call SetUnitVertexColor(Z77, 255, 125, 125, 255)
            else
                call SetUnitVertexColor(Z77, 255, 175, 175, 255)
            endif
        else
            call SetUnitVertexColor(Z77, 255, 0, 0, 255)
        endif
        if WR8 - OKD > (5. + .5)then
            call OHD(Z77, Z77, 5.)
            if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1NI' then
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1NI', true)
            endif
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1NH', false)
            call SetUnitVertexColor(Z77, 255, 255, 255, 255)
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function OVD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local string st = "war3mapImported\\UnstableConcoctionRangeDisplay3.mdx"
    if GetLocalPlayer() != GetOwningPlayer(Z77)then
        set st = ""
    endif
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveReal(R8, (EC8), (442), (((TimerGetElapsed(E4)))))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget(st, Z77, "origin")))
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function OSD))
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1NI', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1NH', true)
    call O68(Z77, 'A1NH')
    call UnitMakeAbilityPermanent(Z77, true, 'A1NH')
    call TriggerEvaluate(t)
    set Z77 = null
    set t = null
endfunction
function OWD takes nothing returns boolean
    if GetSpellAbilityId() == 'A1NI' then
        call OVD()
    endif
    return false
endfunction
function D29 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OWD))
    call PU8('A0X6')
    set t = null
endfunction
function ZV takes nothing returns boolean
    return GetSpellAbilityId() == 'A0IL'
endfunction
function OXD takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(W8))and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitTypeId(GetFilterUnit()) != 'n0F5'
endfunction
function OYD takes nothing returns nothing
    call V08(W8, GetEnumUnit(), 2, Y8)
endfunction
function RC takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local integer Rd = (LoadInteger(R8, (EC8), (28)))
    local real x = GetUnitX(oA)
    local real y = GetUnitY(oA)
    local boolexpr hP
    local group XS8
    if Rd > 16 then
        call KillUnit(oA)
        call PauseTimer(t)
        call FlushChildHashtable(R8, EC8)
        call DestroyTimer(t)
    else
        set W8 = N28
        set Y8 = 10 + GetUnitAbilityLevel(N28, 'A0IL') * 5
        set hP = Condition(function OXD)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 650, hP)
        call ForGroup(XS8, function OYD)
        call OF8(XS8)
        call DestroyBoolExpr(hP)
        set Rd = Rd + 1
        call SaveInteger(R8, (EC8), (28), (Rd))
        set XS8 = null
        set hP = null
    endif
    set t = null
    set N28 = null
    set oA = null
endfunction
function OZD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e01E', x, y, 0)
    local timer t = CreateTimer()
    local integer EC8 = GetHandleId(t)
    call O68(oA, 'A0J4')
    call SetUnitAbilityLevel(oA, 'A0J4', GetUnitAbilityLevel(N28, 'A0IL'))
    call O68(oA, 'Aloc')
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveInteger(R8, (EC8), (28), (0))
    call TimerStart(t, 1, true, function RC)
    set N28 = null
    set oA = null
    set t = null
endfunction
function D_9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(t, function OZD)
    call TriggerAddCondition(t, Condition(function ZV))
    call PU8('A0J4')
    set t = null
endfunction
function OAD takes nothing returns nothing
    call V08(DN, GetEnumUnit(), AB4, dN)
endfunction
function OBD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A2WE')
    local real P99 = (.35 + .25 * TA8) * (GetUnitState(target, UNIT_STATE_MAX_MANA) - GetUnitState(target, UNIT_STATE_MANA))
    local group g = OG8()
    call V18(N28, target, .15)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl", target, "chest"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl", target, "chest"))
    call DestroyEffect(AddSpecialEffect("war3mapImported\\Enchantment.mdx", GetUnitX(target), GetUnitY(target)))
    call GroupEnumUnitsInRange(g, GetUnitX(target), GetUnitY(target), 500 + 25, Condition(function GenericCondition_EnemyUnits))
    set dN = P99
    set DN = N28
    call ForGroup(g, function OAD)
    call PlaySoundOnUnitBJ(oO, 100, target)
    call OF8(g)
    set N28 = null
    set target = null
    set g = null
endfunction
function OCD takes nothing returns boolean
    if GetSpellAbilityId() == 'A2WE' and OE8(GetSpellTargetUnit()) == false then
        call OBD()
    endif
    return false
endfunction
function Z48 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OCD))
    set t = null
endfunction
function O3D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local integer P89 = GetTriggerEvalCount(t)
    local integer O6D = R2I(((.9 - .3) / .5) / .03)
    local integer OLD = R2I((175 / O6D))
    local integer O1D = R2I((255 / O6D) * 1.75)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    if P89 > O6D then
        call SetUnitVertexColor(AC7, 255, 255, 255, 0)
        call SetUnitVertexColor(N28, 255, 255, 255, 255)
        call ShowUnit(AC7, false)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SetUnitVertexColor(AC7, 255, 255, 255, 175 - OLD * P89)
        call SetUnitX(AC7, x)
        call SetUnitY(AC7, y)
        call SetUnitVertexColor(N28, 255, 255, 255, O1D * P89)
    endif
    set t = null
    set AC7 = null
    set N28 = null
    return false
endfunction
function O0D takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit AC7 = (LoadUnitHandle(R8, (GetHandleId(N28)), (293)))
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    call SetUnitX(AC7, x)
    call SetUnitY(AC7, y)
    call SetUnitX(N28, x)
    call SetUnitY(N28, y)
    call SetUnitVertexColor(N28, 255, 255, 255, 0)
    call SetUnitVertexColor(AC7, 255, 255, 255, 175)
    call SetUnitTimeScale(AC7, .5)
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveReal(R8, (EC8), (6), ((x)))
    call SaveReal(R8, (EC8), (7), ((y)))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function O3D))
    set N28 = null
    set AC7 = null
    set t = null
endfunction
function O5D takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit AC7
    local integer EC8 = GetHandleId(N28)
    local real a = YI7(GetUnitX(N28), GetUnitY(N28), GetSpellTargetX(), GetSpellTargetY())
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    call SetUnitPathing(N28, false)
    call O68(N28, 'Aeth')
    set AC7 = CreateUnit(GetOwningPlayer(N28), 'h06K', GetUnitX(N28), GetUnitY(N28), a)
    call O58(AC7, 5)
    call SetUnitPathing(AC7, false)
    call O68(AC7, 'Aeth')
    call O68(AC7, 'Aloc')
    call O68(AC7, 'A04R')
    call SetUnitVertexColor(AC7, 255, 255, 255, 0)
    call SetUnitX(AC7, x)
    call SetUnitY(AC7, y)
    call SetUnitX(N28, x)
    call SetUnitY(N28, y)
    call SetUnitAnimation(AC7, "Spell Throw")
    call SetUnitPathing(N28, true)
    call UnitRemoveAbility(N28, 'Aeth')
    call SaveUnitHandle(R8, (EC8), (293), (AC7))
    set N28 = null
    set AC7 = null
endfunction
function O2D takes nothing returns boolean
    if GetSpellAbilityId() == 'AEbl' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call O0D()
        else
            call O5D()
        endif
    endif
    return false
endfunction
function Z78 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function O2D))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function O2D))
    set t = null
    call O28('h06K')
endfunction
function O_D takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1V6')
    local real P4D = 16 + 12 * ML8
    local real P7D = GetUnitState(X77, UNIT_STATE_MANA)
    local real P8D = RMinBJ(P4D, P7D)
    if P8D > 0 then
        call SetUnitState(X77, UNIT_STATE_MANA, P7D - P8D)
        call V08(Z77, X77, AC4, P8D * .6)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl", X77, "origin"))
    endif
endfunction
function PFD takes nothing returns boolean
    if IsNormalAttackHero() then
        if GetUnitAbilityLevel(GetEventDamageSource(), 'A1V6') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetEventDamageSource() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (14)))and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource()))and GU8(GetTriggerUnit()) == false then
            call O_D(GetEventDamageSource(), GetTriggerUnit())
        endif
    endif
    return false
endfunction
function PGD takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function PFD))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (GetTriggerUnit()))
    set t = null
endfunction
function PHD takes nothing returns boolean
    if GetLearnedSkill() == 'A1V6' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A1V6') == 1 then
        call PGD()
    endif
    return false
endfunction
function Z88 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function PHD))
    set t = null
endfunction
function PID takes nothing returns boolean
    return GetSpellAbilityId() == 'A0OO' or GetSpellAbilityId() == 'A2U5'
endfunction
function PJD takes nothing returns nothing
    if AAUI then
        if(GetUnitTypeId(GetEnumUnit()) == 'n01Q' or GetUnitTypeId(GetEnumUnit()) == 'n01R')then
        endif
    elseif AB0I then
        if(GetUnitTypeId(GetEnumUnit()) == 'n01M' or GetUnitTypeId(GetEnumUnit()) == 'n01S')then
        endif
    endif
endfunction
function PKD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit PMD = (LoadUnitHandle(R8, (W57), (2)))
    local real PND = (LoadReal(R8, (W57), (6)))
    local real POD = (LoadReal(R8, (W57), (7)))
    local real PPD = GetUnitX(PMD)
    local real PQD = GetUnitY(PMD)
    call SaveReal(R8, (W57), (6), (PPD))
    call SaveReal(R8, (W57), (7), (PQD))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        if PND == PPD and POD == PQD then
            if GetUnitAbilityLevel(PMD, 'A1WG') == 0 then
                call O68(PMD, 'A1WG')
            endif
        else
            if GetUnitAbilityLevel(PMD, 'A1WG') > 0 then
                call UnitRemoveAbility(PMD, 'A1WG')
            endif
        endif
    endif
    set t = null
    set PMD = null
    return false
endfunction
function PRD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local player j8 = GetOwningPlayer(N28)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0OO')
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local group XS8 = OG8()
    local unit PMD
    local trigger t
    local integer W57
    local boolean AI53 = GetSpellAbilityId() == 'A0OO'
    local boolean AI63 = GetSpellAbilityId() == 'A2U5'
    set AAUI = AI53
    set AB0I = AI63
    call GroupEnumUnitsOfPlayer(XS8, j8, Condition(function KF8))
    call ForGroup(XS8, function PJD)
    call OF8(XS8)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", x, y))
    if(AI53)then
        if(TA8 == 1)then
            set PMD = CreateUnit(j8, 'n01Q', x, y, 270)
            call UnitApplyTimedLife(PMD, 'BTLF', 60)
        elseif(TA8 == 2)then
            set PMD = CreateUnit(j8, 'n0NX', x, y, 270)
            call UnitApplyTimedLife(PMD, 'BTLF', 60)
        elseif(TA8 == 3)then
            set PMD = CreateUnit(j8, 'n0NV', x, y, 270)
            call UnitApplyTimedLife(PMD, 'BTLF', 60)
        elseif(TA8 == 4)then
            set PMD = CreateUnit(j8, 'n0NW', x, y, 270)
            call UnitApplyTimedLife(PMD, 'BTLF', 60)
        endif
        if TA8 == 3 or TA8 == 4 then
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, .05, true)
            call TriggerRegisterUnitEvent(t, PMD, EVENT_UNIT_DEATH)
            call SaveReal(R8, (W57), (6), (GetUnitX(PMD)))
            call SaveReal(R8, (W57), (7), (GetUnitY(PMD)))
            call SaveUnitHandle(R8, (W57), (2), (PMD))
            call TriggerAddCondition(t, Condition(function PKD))
        endif
    endif
    if(AI63)then
        if(TA8 == 1)then
            call UnitApplyTimedLife(CreateUnit(j8, 'n0NT', x, y, 270), 'BTLF', 60)
        elseif(TA8 == 2)then
            call UnitApplyTimedLife(CreateUnit(j8, 'n01M', x, y, 270), 'BTLF', 60)
        elseif(TA8 == 3)then
            call UnitApplyTimedLife(CreateUnit(j8, 'n0NS', x, y, 270), 'BTLF', 60)
        elseif(TA8 == 4)then
            call UnitApplyTimedLife(CreateUnit(j8, 'n0NU', x, y, 270), 'BTLF', 60)
        endif
    endif
    set N28 = null
    set j8 = null
    set XS8 = null
    set PMD = null
    set t = null
endfunction
function AI73 takes nothing returns boolean
    if GetLearnedSkill() == 'A0OO' and IsUnitIllusion(GetTriggerUnit()) == false then
        if GetUnitAbilityLevel(GetTriggerUnit(), 'A0OO') == 1 then
            call O68(GetTriggerUnit(), 'A2U5')
        endif
        call SetUnitAbilityLevel(GetTriggerUnit(), 'A2U5', GetUnitAbilityLevel(GetTriggerUnit(), 'A0OO'))
    endif
    return false
endfunction
function ZE8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PID))
    call TriggerAddAction(t, function PRD)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AI73))
    set t = null
endfunction
function PSD takes nothing returns nothing
    local real x = GetUnitX(GetEnumUnit())
    local real y = GetUnitY(GetEnumUnit())
    local real a = bj_RADTODEG * Atan2(y - HL4, x - H64)
    local real PTD
    local real PUD
    if Sin((a - H14) * bj_DEGTORAD) < 0 then
        set PTD = GetUnitX(GetEnumUnit()) + 15 * Cos((H14 - 90) * bj_DEGTORAD)
        set PUD = GetUnitY(GetEnumUnit()) + 15 * Sin((H14 - 90) * bj_DEGTORAD)
        call SetUnitPosition(GetEnumUnit(), PTD, PUD)
        call SetUnitFacingTimed(GetEnumUnit(), H14 + 90, .3)
    else
        set PTD = GetUnitX(GetEnumUnit()) + 15 * Cos((H14 + 90) * bj_DEGTORAD)
        set PUD = GetUnitY(GetEnumUnit()) + 15 * Sin((H14 + 90) * bj_DEGTORAD)
        call SetUnitPosition(GetEnumUnit(), PTD, PUD)
        call SetUnitFacingTimed(GetEnumUnit(), H14 - 90, .3)
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", GetEnumUnit(), "origin"))
endfunction
function PVD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local real l4 = (LoadReal(R8, (EC8), (13)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    if GetTriggerEvalCount(t) > 20 then
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set H64 = x
        set HL4 = y
        set H14 = l4
        call ForGroup(g, function PSD)
    endif
    set t = null
    set g = null
    return false
endfunction
function PWD takes nothing returns nothing
    call V08(H04, GetEnumUnit(), AB4, H64)
endfunction
function PXD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0O2')
    local unit AC7
    local real CV7 = bj_RADTODEG * Atan2(GetUnitY(X77) - GetUnitY(AM7), GetUnitX(X77) - GetUnitX(AM7))
    local real x
    local real y
    local group g = OG8()
    local group g2 = OG8()
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(AM7, 'A289')
    endif
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveReal(R8, (EC8), (13), ((CV7)))
    call SaveReal(R8, (EC8), (6), ((GetUnitX(AM7))))
    call SaveReal(R8, (EC8), (7), ((GetUnitY(AM7))))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function PVD))
    set x = GetUnitX(AM7) + 50 * Cos(CV7 * bj_DEGTORAD)
    set y = GetUnitY(AM7) + 50 * Sin(CV7 * bj_DEGTORAD)
    call GroupEnumUnitsInRange(g2, x, y, 325, Condition(function GenericCondition_EnemyUnits))
    call BlzGroupAddGroupFast(g2, g)
    call GroupClear(g2)
    set AC7 = CreateUnit(GetOwningPlayer(AM7), 'o00Y', x, y, CV7)
    call UnitApplyTimedLife(AC7, 'BTLF', 1)
    call O68(AC7, 'A0NY')
    call SetUnitAbilityLevel(AC7, 'A0NY', ML8)
    call IssueImmediateOrderById(AC7, 852096)
    set x = GetUnitX(AM7) + 250 * Cos(CV7 * bj_DEGTORAD)
    set y = GetUnitY(AM7) + 250 * Sin(CV7 * bj_DEGTORAD)
    call GroupEnumUnitsInRange(g2, x, y, 325, Condition(function GenericCondition_EnemyUnits))
    call BlzGroupAddGroupFast(g2, g)
    call GroupClear(g2)
    set AC7 = CreateUnit(GetOwningPlayer(AM7), 'o00Y', x, y, CV7)
    call UnitApplyTimedLife(AC7, 'BTLF', 1)
    call O68(AC7, 'A0NY')
    call SetUnitAbilityLevel(AC7, 'A0NY', ML8)
    call IssueImmediateOrderById(AC7, 852096)
    set x = GetUnitX(AM7) + 450 * Cos(CV7 * bj_DEGTORAD)
    set y = GetUnitY(AM7) + 450 * Sin(CV7 * bj_DEGTORAD)
    call GroupEnumUnitsInRange(g2, x, y, 250, Condition(function GenericCondition_EnemyUnits))
    call BlzGroupAddGroupFast(g2, g)
    call GroupClear(g2)
    set AC7 = CreateUnit(GetOwningPlayer(AM7), 'o00Y', x, y, CV7)
    call UnitApplyTimedLife(AC7, 'BTLF', 1)
    call O68(AC7, 'A0NY')
    call SetUnitAbilityLevel(AC7, 'A0NY', ML8)
    call IssueImmediateOrderById(AC7, 852096)
    if GetUnitAbilityLevel(AM7, 'A0O2') == 0 then
        set x = GetUnitX(AM7) + 650 * Cos(CV7 * bj_DEGTORAD)
        set y = GetUnitY(AM7) + 650 * Sin(CV7 * bj_DEGTORAD)
        call GroupEnumUnitsInRange(g2, x, y, 325, Condition(function GenericCondition_EnemyUnits))
        call BlzGroupAddGroupFast(g2, g)
        call GroupClear(g2)
        set AC7 = CreateUnit(GetOwningPlayer(AM7), 'o00Y', x, y, CV7)
        call UnitApplyTimedLife(AC7, 'BTLF', 1)
        call O68(AC7, 'A0NY')
        call SetUnitAbilityLevel(AC7, 'A0NY', ML8)
        call IssueImmediateOrderById(AC7, 852096)
    endif
    call OF8(g2)
    call GroupRemoveUnit(g, X77)
    set H64 = 150 + 50 * ML8
    set H04 = AM7
    call ForGroup(g, function PWD)
    set t = null
    set AM7 = null
    set X77 = null
    set AC7 = null
    set g = null
    set g2 = null
endfunction
function PYD takes nothing returns boolean
    if(GetSpellAbilityId() == 'A0O2' or GetSpellAbilityId() == 'A289')and OE8(GetSpellTargetUnit()) == false then
        call PXD()
    endif
    return false
endfunction
function Z98 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PYD))
    set t = null
endfunction
function PZD takes nothing returns boolean
    return GetSpellAbilityId() == 'A0O1'
endfunction
function PAD takes unit N28, real x, real y, group PBD returns nothing
    local group XS8 = OG8()
    local unit Y_8
    call SC8(x, y, 150)
    call GroupEnumUnitsInRange(XS8, x, y, 150, Condition(function KF8))
    loop
        set Y_8 = FirstOfGroup(XS8)
        exitwhen Y_8 == null
        if IsUnitInGroup(Y_8, PBD) == false and IsUnitEnemy(Y_8, GetOwningPlayer(N28))then
            if(GetUnitAbilityLevel(Y_8, 'A04R') != 1 and GetUnitState(Y_8, UNIT_STATE_LIFE) > 0 and IsUnitType(Y_8, UNIT_TYPE_STRUCTURE) == false)then
                call GroupAddUnit(PBD, Y_8)
                call V08(N28, Y_8, 2, 40 + GetUnitAbilityLevel(N28, 'A0O1') * 30)
                call AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", Y_8, "overhead")
            endif
        endif
        call GroupRemoveUnit(XS8, Y_8)
    endloop
    call OF8(XS8)
    set XS8 = null
    set Y_8 = null
endfunction
function PCD takes nothing returns nothing
    local integer W57 = GetHandleId(GetExpiredTimer())
    local unit P3D = (LoadUnitHandle(R8, (W57), (290)))
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local real Ax = (LoadReal(R8, (W57), (284)))
    local real Ay = (LoadReal(R8, (W57), (285)))
    local real Cx = (LoadReal(R8, (W57), (286)))
    local real Cy = (LoadReal(R8, (W57), (287)))
    local real Bx = (LoadReal(R8, (W57), (288)))
    local real By = (LoadReal(R8, (W57), (289)))
    local real a = (LoadReal(R8, (W57), (137)))
    local real b = 1 - a
    local boolean P6D = (LoadBoolean(R8, (W57), (291)))
    local group PLD = (LoadGroupHandle(R8, (W57), (133)))
    local real P1D = RMaxBJ(Z87(Ax, Ay, Cx, Cy) / 1300, .4)
    call SetUnitX(P3D, PQ8(Ax * a * a + Bx * 2 * a * b + Cx * b * b))
    call SetUnitY(P3D, PS8(Ay * a * a + By * 2 * a * b + Cy * b * b))
    call PAD(AM7, GetUnitX(P3D), GetUnitY(P3D), PLD)
    if(P6D)then
        call SaveReal(R8, (W57), (137), (a - .02 / P1D))
    else
        call SaveReal(R8, (W57), (137), (a + .02 / P1D))
        call SaveReal(R8, (W57), (284), (GetUnitX(AM7)))
        call SaveReal(R8, (W57), (285), (GetUnitY(AM7)))
    endif
    if(a < 0 and P6D)then
        call SaveBoolean(R8, (W57), (291), (false))
        call SaveReal(R8, (W57), (288), (Ax + 300 * Cos(Atan2(Cy - Ay, Cx - Ax) + (LoadReal(R8, (W57), (292))))))
        call SaveReal(R8, (W57), (289), (Ay + 300 * Sin(Atan2(Cy - Ay, Cx - Ax) + (LoadReal(R8, (W57), (292))))))
    endif
    if(a > 1 and P6D == false)then
        call PauseTimer(GetExpiredTimer())
        call OF8(PLD)
        call FlushChildHashtable(R8, W57)
        call RemoveUnit(P3D)
        call DestroyTimer(GetExpiredTimer())
    endif
    set P3D = null
    set AM7 = null
    set PLD = null
endfunction
function P0D takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real Ax = GetUnitX(N28)
    local real Ay = GetUnitY(N28)
    local real Cx = GetSpellTargetX()
    local real Cy = GetSpellTargetY()
    local unit P5D = CreateUnit(GetOwningPlayer(N28), 'e01T', Ax, Ay, 270.)
    local unit P2D = CreateUnit(GetOwningPlayer(N28), 'e01T', Ax, Ay, 270.)
    local integer P_D
    local integer Q4D
    local timer Q7D = CreateTimer()
    local timer Q8D = CreateTimer()
    if GetSpellTargetUnit() != null then
        set Cx = GetUnitX(GetSpellTargetUnit())
        set Cy = GetUnitY(GetSpellTargetUnit())
    endif
    call O68(P5D, 'Amrf')
    call UnitRemoveAbility(P5D, 'Amrf')
    call SetUnitFlyHeight(P5D, 150, 0)
    call O68(P2D, 'Amrf')
    call UnitRemoveAbility(P2D, 'Amrf')
    call SetUnitFlyHeight(P2D, 150, 0)
    set P_D = GetHandleId(Q7D)
    call SaveUnitHandle(R8, (P_D), (14), (N28))
    call SaveUnitHandle(R8, (P_D), (290), (P5D))
    call SaveGroupHandle(R8, (P_D), (133), (OG8()))
    call SaveReal(R8, (P_D), (284), (Ax))
    call SaveReal(R8, (P_D), (285), (Ay))
    call SaveReal(R8, (P_D), (286), (Cx))
    call SaveReal(R8, (P_D), (287), (Cy))
    call SaveReal(R8, (P_D), (288), (Ax + 300 * Cos(Atan2(Cy - Ay, Cx - Ax) + 45)))
    call SaveReal(R8, (P_D), (289), (Ay + 300 * Sin(Atan2(Cy - Ay, Cx - Ax) + 45)))
    call SaveReal(R8, (P_D), (137), (1))
    call SaveReal(R8, (P_D), (292), (- 45))
    call SaveBoolean(R8, (P_D), (291), (true))
    set Q4D = GetHandleId(Q8D)
    call SaveUnitHandle(R8, (Q4D), (14), (N28))
    call SaveUnitHandle(R8, (Q4D), (290), (P2D))
    call SaveGroupHandle(R8, (Q4D), (133), (OG8()))
    call SaveReal(R8, (Q4D), (284), (Ax))
    call SaveReal(R8, (Q4D), (285), (Ay))
    call SaveReal(R8, (Q4D), (286), (Cx))
    call SaveReal(R8, (Q4D), (287), (Cy))
    call SaveReal(R8, (Q4D), (288), (Ax + 300 * Cos(Atan2(Cy - Ay, Cx - Ax) - 45)))
    call SaveReal(R8, (Q4D), (289), (Ay + 300 * Sin(Atan2(Cy - Ay, Cx - Ax) - 45)))
    call SaveReal(R8, (Q4D), (137), (1))
    call SaveReal(R8, (Q4D), (292), (45))
    call SaveBoolean(R8, (Q4D), (291), (true))
    call TimerStart(Q7D, .025, true, function PCD)
    call TimerStart(Q8D, .025, true, function PCD)
    set N28 = null
    set P5D = null
    set P2D = null
    set Q7D = null
    set Q8D = null
endfunction
function ZD8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PZD))
    call TriggerAddAction(t, function P0D)
    set t = null
endfunction
function Q9D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call UnitRemoveAbility(Z77, 'A140')
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function QDD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call O68(Z77, 'A140')
    call TriggerRegisterTimerEvent(t, 5., false)
    call TriggerAddCondition(t, Condition(function Q9D))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function QED takes nothing returns boolean
    if GetSpellAbilityId() == 'A13Z' then
        call QDD()
    endif
    return false
endfunction
function ZF8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QED))
    set t = null
endfunction
function AIM3 takes unit p5, unit ZC9, unit O2F, integer TA8, boolean O_F returns real
    local unit oA
    local real UFD = Z47(ZC9, O2F)
    if O_F == false then
        set oA = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(ZC9), GetUnitY(ZC9), 0)
        call O68(oA, 'A004')
        call SetUnitAbilityLevel(oA, 'A004', TA8)
        call IssueTargetOrder(oA, "thunderbolt", O2F)
        set oA = null
    endif
    return UFD / 1000
endfunction
function AIR3 takes nothing returns boolean
    if IsUnitInGroup(GetFilterUnit(), H24) == false then
        if GetUnitAbilityLevel(GetFilterUnit(), 'B00L') > 0 then
            return true
        endif
    endif
    return false
endfunction
function AIP3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit ZC9 = (LoadUnitHandle(R8, (EC8), (17)))
    local unit O2F
    local real VL8
    local group XCD = (LoadGroupHandle(R8, (EC8), (22)))
    local group g
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set g = OG8()
    set H24 = XCD
    call GroupEnumUnitsInRange(g, GetUnitX(ZC9), GetUnitY(ZC9), 1200, Condition(function AIR3))
    set O2F = GroupPickRandomUnit(g)
    call OF8(g)
    if O2F != null then
        set VL8 = AIM3(p5, ZC9, O2F, TA8, false)
        call GroupAddUnit(XCD, O2F)
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call SaveUnitHandle(R8, (EC8), (2), (p5))
        call SaveInteger(R8, (EC8), (5), (TA8))
        call SaveUnitHandle(R8, (EC8), (17), (O2F))
        call SaveGroupHandle(R8, (EC8), (22), (XCD))
        call TriggerRegisterTimerEvent(t, VL8, false)
        call TriggerAddCondition(t, Condition(function AIP3))
    else
        call OF8(XCD)
    endif
    set t = null
    set p5 = null
    set ZC9 = null
    set O2F = null
    set g = null
    set XCD = null
    return false
endfunction
function AIQ3 takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit AIU3 = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A004')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real VL8 = AIM3(N28, N28, AIU3, TA8, true)
    local group g = OG8()
    call GroupAddUnit(g, AIU3)
    call SaveUnitHandle(R8, (EC8), (2), (N28))
    call SaveUnitHandle(R8, (EC8), (17), (AIU3))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call TriggerRegisterTimerEvent(t, VL8, false)
    call TriggerAddCondition(t, Condition(function AIP3))
    set g = null
    set N28 = null
    set AIU3 = null
    set t = null
endfunction
function AO03 takes nothing returns boolean
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A04R') == 0 and GetSpellAbilityId() == 'A004' and OE8(GetSpellTargetUnit()) == false then
        call AIQ3()
    endif
    return false
endfunction
function AWP1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AO03))
    set t = null
endfunction
function QFD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer EC8 = GetHandleId(Z77)
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local integer ML8 = (LoadInteger(R8, (EC8), (5)))
    local texttag tt = CreateTextTag()
    local integer M38
    local integer i = 1
    local unit QGD
    local player QHD
    if ML8 == 1 then
        set M38 = 200
    elseif ML8 == 2 then
        set M38 = 275
    else
        set M38 = 350
    endif
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) + M38)
    call SetTextTagText(tt, "+" + I2S(M38), .025)
    call SetTextTagPosUnit(tt, Y7[GetPlayerId(p)], 100)
    call SetTextTagColor(tt, 255, 220, 0, 255)
    call SetTextTagVelocity(tt, 0, .03)
    call SetTextTagVisibility(tt, false)
    if GetLocalPlayer() == p then
        call SetTextTagVisibility(tt, true)
    endif
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagLifespan(tt, 3)
    call SetTextTagPermanent(tt, false)
    set WQ4[GetPlayerId(p)] = WQ4[GetPlayerId(p)] + M38
    set A84 = A84 + M38
    if ML8 == 1 then
        set M38 = 40
    elseif ML8 == 2 then
        set M38 = 80
    else
        set M38 = 120
    endif
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if KN8(p)then
            set QHD = G8[i]
        else
            set QHD = N8[i]
        endif
        if QHD != p then
            set QGD = Y7[GetPlayerId(QHD)]
            if Z47(QGD, Z77) < 950 then
                set tt = CreateTextTag()
                call SetPlayerState(QHD, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(QHD, PLAYER_STATE_RESOURCE_GOLD) + M38)
                call SetTextTagText(tt, "+" + I2S(M38), .025)
                call SetTextTagPosUnit(tt, QGD, 100)
                call SetTextTagColor(tt, 255, 220, 0, 255)
                call SetTextTagVelocity(tt, 0, .03)
                call SetTextTagVisibility(tt, false)
                if GetLocalPlayer() == QHD then
                    call SetTextTagVisibility(tt, true)
                endif
                call SetTextTagFadepoint(tt, 2)
                call SetTextTagLifespan(tt, 3)
                call SetTextTagPermanent(tt, false)
                set WQ4[GetPlayerId(QHD)] = WQ4[GetPlayerId(QHD)] + M38
                set A84 = A84 + M38
            endif
        endif
        set i = i + 1
    endloop
    set Z77 = null
    set p = null
    set tt = null
    set QGD = null
    set QHD = null
endfunction
function QID takes nothing returns boolean
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and(LoadReal(R8, (GetHandleId(GetTriggerUnit())), (314))) > (TimerGetElapsed(E4))then
        call QFD()
    endif
    return false
endfunction
function QJD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local texttag tt = (LoadTextTagHandle(R8, (EC8), (231)))
    local unit visionDummy = (LoadUnitHandle(R8, (EC8), (305)))
    call SetUnitX(oA, GetUnitX(target))
    call SetUnitY(oA, GetUnitY(target))
    call SetUnitX(visionDummy, GetUnitX(target))
    call SetUnitY(visionDummy, GetUnitY(target))
    call SetTextTagText(tt, I2S(GetPlayerState(GetOwningPlayer(target), PLAYER_STATE_RESOURCE_GOLD)), .018)
    call SetTextTagPosUnit(tt, target, 0)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > 20 and GetUnitAbilityLevel(target, 'B00L') == 0 then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call KillUnit(oA)
        call KillUnit(visionDummy)
        call DestroyTextTag(tt)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set target = null
    set oA = null
    set tt = null
    return false
endfunction
function QKD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = GetSpellTargetUnit()
    local unit Z77 = GetTriggerUnit()
    local unit oA
    local string QMD = "war3mapImported\\TrackBuff.mdx"
    local texttag tt
    local unit visionDummy
    local boolean UTE = true
    if GetUnitAbilityLevel(target, 'B00L') == 0 then
        if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(target))and N08(GetLocalPlayer()) == false then
            set QMD = ""
            set UTE = false
        endif
        set oA = CreateUnit(GetOwningPlayer(target), 'e01V', GetUnitX(target), GetUnitY(target), 0)
        call O68(oA, 'A115')
        call TriggerRegisterTimerEvent(t, .05, true)
        call TriggerRegisterUnitEvent(t, GetSpellTargetUnit(), EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function QJD))
        set tt = CreateTextTag()
        call SetTextTagVisibility(tt, UTE)
        call SetTextTagColor(tt, 255, 220, 0, 200)
        call SetTextTagPermanent(tt, true)
        set visionDummy = CreateUnit(GetOwningPlayer(Z77), 'o00D', GetUnitX(target), GetUnitY(target), 0)
        call SaveUnitHandle(R8, (EC8), (17), (target))
        call SaveUnitHandle(R8, (EC8), (19), (oA))
        call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget(QMD, target, "overhead")))
        call SaveTextTagHandle(R8, (EC8), (231), (tt))
        call SaveUnitHandle(R8, (EC8), (305), (visionDummy))
        call SaveReal(R8, (GetHandleId(GetSpellTargetUnit())), (314), ((TimerGetElapsed(E4)) + 30))
        call SavePlayerHandle(R8, (GetHandleId(GetSpellTargetUnit())), (54), (GetOwningPlayer(GetTriggerUnit())))
        call SaveInteger(R8, (GetHandleId(GetSpellTargetUnit())), (5), (GetUnitAbilityLevel(GetTriggerUnit(), 'A0B4')))
    endif
    set t = null
    set target = null
    set Z77 = null
    set oA = null
    set tt = null
    set visionDummy = null
endfunction
function QND takes nothing returns boolean
    if GetSpellAbilityId() == 'A0B4' then
        call QKD()
    endif
    return false
endfunction
function ZK8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QND))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function QID))
    set t = null
endfunction
function QPD takes unit Z77, unit target, integer TA8 returns nothing
    call T68(target, 'A1IX', TA8, 3., 'B0CA')
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl", target, "chest"))
endfunction
function QQD takes nothing returns nothing
    local unit target = GetTriggerUnit()
    local unit Z77 = GetEventDamageSource()
    if (LoadBoolean(R8, (GetHandleId(Z77)), (183))) == true then
        call QPD(Z77, target, GetUnitAbilityLevel(Z77, 'A1IQ'))
        call SaveBoolean(R8, (GetHandleId(Z77)), (183), (false))
        call SaveReal(R8, (GetHandleId(Z77)), (184), (TimerGetElapsed(E4)))
        call UnitRemoveAbility(Z77, 'A1IS')
        call UnitRemoveAbility(Z77, 'A1J4')
        call UnitRemoveAbility(Z77, 'A1J3')
        call UnitRemoveAbility(Z77, 'A1J5')
        call UnitRemoveAbility(Z77, 'A1IU')
    endif
    set target = null
    set Z77 = null
endfunction
function QSD takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (183), (false))
        call SaveReal(R8, (GetHandleId(GetTriggerUnit())), (184), (TimerGetElapsed(E4)))
        call UnitRemoveAbility(GetTriggerUnit(), 'A1IS')
        call UnitRemoveAbility(GetTriggerUnit(), 'A1J4')
        call UnitRemoveAbility(GetTriggerUnit(), 'A1J3')
        call UnitRemoveAbility(GetTriggerUnit(), 'A1J5')
        call UnitRemoveAbility(GetTriggerUnit(), 'A1IU')
    elseif IsNormalAttackHero() and GetEventDamageSource() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (182))) and IsBroken(GetEventDamageSource()) == false then
        if IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and (LoadBoolean(R8, (GetHandleId(GetEventDamageSource())), (183))) then
            call QQD()
        endif
    endif
    return false
endfunction
function QTD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real QUD = TimerGetElapsed(E4)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A1IQ')
    local real QVD = (LoadReal(R8, (GetHandleId(N28)), (184)))
    local boolean QWD = (LoadBoolean(R8, (GetHandleId(N28)), (183)))
    if QUD - QVD > 14 - TA8 * 2 and QWD == false and O18(N28) == false then
        call SaveBoolean(R8, (GetHandleId(N28)), (183), (true))
        call O68(N28, 'A1IS')
        if GetUnitAbilityLevel(N28, 'B068') == 0 then
            if TA8 == 1 then
                call O68(N28, 'A1J4')
            elseif TA8 == 2 then
                call O68(N28, 'A1J3')
            elseif TA8 == 3 then
                call O68(N28, 'A1J5')
            elseif TA8 == 4 then
                call O68(N28, 'A1IU')
            endif
        endif
    elseif QWD == false and GetUnitAbilityLevel(N28, 'B068') == 0 then
        call UnitRemoveAbility(N28, 'A1IS')
        call UnitRemoveAbility(N28, 'A1J4')
        call UnitRemoveAbility(N28, 'A1J3')
        call UnitRemoveAbility(N28, 'A1J5')
        call UnitRemoveAbility(N28, 'A1IU')
    endif
    set t = null
    set N28 = null
    return false
endfunction
function QXD takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local trigger t2 = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer QYD = GetHandleId(t2)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function QTD))
    call SaveUnitHandle(R8, (EC8), (14), (AM7))
    call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A1J4', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A1J3', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A1J5', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A1IU', false)
    call QQ8(t2, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t2, AM7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t2, Condition(function QSD))
    call SaveUnitHandle(R8, (QYD), (182), (AM7))
    set AM7 = null
    set t = null
    set t2 = null
endfunction
function QZD takes nothing returns boolean
    if GetLearnedSkill() == 'A1IQ' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1IQ') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call QXD()
    endif
    return false
endfunction
function ZM8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function QZD))
    call GVD('A1IW')
    set t = null
endfunction
function QCD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer TA8
    local unit Z77
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGING then
        set Z77 = GetEventDamageSource()
        if IsNormalAttackHero() and Z77 == (LoadUnitHandle(R8, (GetHandleId(t)), (14))) and ((LoadInteger(R8, (GetHandleId(Z77)), (2488))) == 1) == false then
            if IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(Z77))then
                set TA8 = GetUnitAbilityLevel(Z77, 'A07A')
                call BlzSetEventDamage(GetEventDamage() + 30. * TA8)
                call QM8(I2S(R2I(30 * TA8)) + "!", 1, Z77, .025, 216, 0, 0, 216)
            endif
            call FlushChildHashtable(R8, (GetHandleId(t)))
            call EA8(t)
        endif
        set Z77 = null
    else
        call FlushChildHashtable(R8, (GetHandleId(t)))
        call EA8(t)
    endif
    set t = null
    return false
endfunction
function Q6D takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A07A')
    call ASCI(Z77, 2488, 1.25 - 0.25 * TA8 - 0.01)
    call TriggerRegisterTimerEvent(t, 15 + 5 * TA8, false)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_CAST)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function QCD))
    call SaveUnitHandle(R8, (EC8), (14), (Z77))
    set t = null
    set Z77 = null
endfunction
function QLD takes nothing returns boolean
    if GetSpellAbilityId() == 'A07A' then
        call Q6D()
    endif
    return false
endfunction
function ZN8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QLD))
    call GVD('A1J4')
    call GVD('A1J3')
    call GVD('A1J5')
    call GVD('A1IU')
    set t = null
endfunction
function Q1D takes nothing returns boolean
    return GetSpellAbilityId() == ('A0GP')or GetSpellAbilityId() == ('A0FW')
endfunction
function Q0D takes integer TA8, integer a returns integer
    if a == 0 then
        return 1
    else
        if TA8 == 1 then
            return a + 1
        elseif TA8 == 2 then
            return a + 6
        elseif TA8 == 3 then
            return a + 12
        endif
    endif
    return 1
endfunction
function Ry takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'e00X'
endfunction
function RY takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Q5D takes player p returns nothing
    local group g = OG8()
    call GroupEnumUnitsOfPlayer(g, p, Condition(function Ry))
    call ForGroup(g, function RY)
    call OF8(g)
    set g = null
endfunction
function Q2D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local unit N28 = (LoadUnitHandle(R8, (GetHandleId(t)), (14)))
    local integer EC8 = GetHandleId(N28)
    local integer TA8 = GetUnitAbilityLevel(N28, ('A0FV'))
    local integer Q_D = (LoadInteger(R8, (EC8), (315))) - 1
    local integer R4D = P68(Q_D, 0, 4 + TA8)
    local unit oA = (LoadUnitHandle(R8, (EC8), (316)))
    local integer R7D
    if TA8 == 1 then
        set R7D = R4D * 20
    elseif TA8 == 2 then
        set R7D = R4D * 25
    elseif TA8 == 3 then
        set R7D = R4D * 30
    endif
    if Q_D == 0 then
        set R7D = 0
    endif
    call W78(N28, R7D)
    if GetUnitTypeId(oA) == 'e00X' then
        call SetUnitAbilityLevel(oA, ('A0EF'), Q0D(TA8, R4D))
        call SaveInteger(R8, (EC8), (315), (Q_D))
    else
        call Q5D((LoadPlayerHandle(R8, (GetHandleId(t)), (54))))
    endif
    call FlushChildHashtable(R8, GetHandleId(t))
    call EA8(t)
    set t = null
    set N28 = null
    set oA = null
    return false
endfunction
function R8D takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer EC8 = GetHandleId(N28)
    local unit oA = (LoadUnitHandle(R8, (EC8), (316)))
    local integer TA8 = GetUnitAbilityLevel(N28, ('A0FV'))
    local integer Q_D = (LoadInteger(R8, (EC8), (315))) + 1
    local integer R4D = P68(Q_D, 0, 4 + TA8)
    local integer AO93 = Q0D(TA8, R4D)
    local trigger t = CreateTrigger()
    local integer R7D
    if TA8 == 1 then
        set R7D = R4D * 20
    elseif TA8 == 2 then
        set R7D = R4D * 25
    elseif TA8 == 3 then
        set R7D = R4D * 30
    endif
    call W78(N28, R7D)
    call SetUnitAbilityLevel(oA, 'A0EF', AO93)
    call SaveInteger(R8, (EC8), (315), (Q_D))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (N28))
    call SavePlayerHandle(R8, (GetHandleId(t)), (54), (GetOwningPlayer(N28)))
    call TriggerRegisterTimerEvent(t, 14, false)
    call TriggerAddCondition(t, Condition(function Q2D))
    set N28 = null
    set oA = null
    set t = null
endfunction
function RED takes nothing returns boolean
    return GetLearnedSkill() == ('A0FV')and GetUnitAbilityLevel(GetTriggerUnit(), ('A0FV')) == 1 and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function RDD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, ('A0FV'))
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e00X', 0, 0, 0)
    local trigger t = CreateTrigger()
    call O68(oA, ('A0EF'))
    call SaveUnitHandle(R8, (GetHandleId(N28)), (316), (oA))
    call SetUnitInvulnerable(oA, true)
    call O68(oA, 'Aloc')
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Q1D))
    call TriggerAddAction(t, function R8D)
    set N28 = null
    set oA = null
    set t = null
endfunction
function ZO8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function RED))
    call TriggerAddAction(t, function RDD)
    call PU8('A0EF')
    set t = null
endfunction
function RFD takes nothing returns boolean
    return(GetSpellAbilityId() == 'A0FW')and OE8(GetSpellTargetUnit()) == false
endfunction
function R6 takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction
function R7 takes nothing returns boolean
    return(GetUnitTypeId(GetFilterUnit()) == 'e02E')
endfunction
function R9 takes nothing returns nothing
    local location Mk = GetUnitLoc(GetTriggerUnit())
    call SetUnitPositionLoc(GetEnumUnit(), Mk)
    if GetUnitUserData(GetEnumUnit()) == 4 then
        call IssueTargetOrderById(GetEnumUnit(), 852662, GetSpellTargetUnit())
    else
        call IncUnitAbilityLevel(GetEnumUnit(), 'A0FZ')
        call IssueTargetOrderById(GetEnumUnit(), 852662, GetSpellTargetUnit())
        call SetUnitUserData(GetEnumUnit(), (GetUnitUserData(GetEnumUnit()) + 1))
    endif
    call RemoveLocation(Mk)
    set Mk = null
endfunction
function RGD takes nothing returns nothing
    local group sb = OG8()
    local unit AC7
    if(GetUnitAbilityLevel(GetSpellTargetUnit(), 'B02U') > 0)then
        call GroupEnumUnitsOfPlayer(sb, GetOwningPlayer(GetSpellTargetUnit()), Condition(function R7))
        call ForGroup(sb, function R9)
    else
        call GroupEnumUnitsOfPlayer(sb, GetOwningPlayer(GetSpellTargetUnit()), Condition(function R7))
        call ForGroup(sb, function R6)
        set AC7 = CreateUnit(GetOwningPlayer(GetSpellTargetUnit()), 'e02E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
        call ShowUnit(AC7, false)
        call UnitApplyTimedLife(AC7, 'BTLF', 8.)
        call UnitAddAbility(AC7, 'A0FZ')
        call SetUnitAbilityLevel(AC7, 'A0FZ', ((GetUnitAbilityLevel(GetTriggerUnit(), 'A0FW') * 4) - 3))
        call IssueTargetOrderById(AC7, 852662, GetSpellTargetUnit())
        call SetUnitUserData(AC7, 1)
    endif
    call OF8(sb)
    set sb = null
    set AC7 = null
endfunction
function ZP8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RFD))
    call TriggerAddAction(t, function RGD)
    set t = null
endfunction
function RHD takes nothing returns boolean
    return IsUnitType(GetEventDamageSource(), UNIT_TYPE_STRUCTURE) == false
endfunction
function RID takes unit N28 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    call O68(AC7, 'A0GP')
    call SetUnitAbilityLevel(AC7, 'A0GP', GetUnitAbilityLevel(N28, 'A0GP'))
    call IssueImmediateOrderById(AC7, 852526)
    set AC7 = null
endfunction
function RJD takes unit N28, real P99 returns nothing
    local integer EC8 = GetHandleId(N28)
    local real sD = (LoadReal(R8, (EC8), (278)))
    if sD + P99 > 230 then
        call SaveReal(R8, (EC8), (278), ((0)))
        call RID(N28)
    else
        call SaveReal(R8, (EC8), (278), ((sD + P99)))
    endif
endfunction
function RKD takes nothing returns nothing
    local unit RMD = GetTriggerUnit()
    local unit N99 = GetEventDamageSource()
    local real RND = YH7(N99, RMD)
    local real ROD = GetUnitFacing(RMD)
    local real RPD
    local real P08 = GetEventDamage()
    local real RQD
    local real CV7
    if(P08 > 4)and GetUnitState(RMD, UNIT_STATE_LIFE) > 1 and IsBroken(RMD) == false then
        if((ROD - RND) < (- 180.))then
            set RPD = (ROD - RND + 360)
        else
            if((ROD - RND) > 180.)then
                set RPD = (ROD - RND - 360)
            else
                set RPD = (ROD - RND)
            endif
        endif
        set CV7 = RAbsBJ(RPD)
        if CV7 <= 70 then
            set RQD = (GetUnitAbilityLevel(RMD, 'A0M3') * .08 + .08) * P08
            call RJD(RMD, P08 - RQD)
            call SetUnitState(RMD, UNIT_STATE_LIFE, GetUnitState(RMD, UNIT_STATE_LIFE) + RQD)
        elseif CV7 <= 110 then
            set RQD = (GetUnitAbilityLevel(RMD, 'A0M3') * .04 + .04) * P08
            call SetUnitState(RMD, UNIT_STATE_LIFE, GetUnitState(RMD, UNIT_STATE_LIFE) + RQD)
        endif
    endif
    set RMD = null
    set N99 = null
endfunction
function RRD takes unit AM7 returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function RHD))
    call TriggerAddAction(t, function RKD)
    set t = null
endfunction
function RSD takes nothing returns boolean
    if GetLearnedSkill() == 'A0M3' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0M3') == 1 then
        call RRD(GetTriggerUnit())
    endif
    return false
endfunction
function ZQ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function RSD))
    set t = null
endfunction
function RTD takes nothing returns boolean
    return GetSpellAbilityId() == 'A0GP'
endfunction
function RUD takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') != 1
endfunction
function RVD takes nothing returns nothing
    local integer RWD = GetHandleId(GetEnumUnit())
    local integer RXD = LoadInteger(R8, G9, RWD)
    local integer TA8 = GetUnitAbilityLevel(W8, 'A0GP')
    local real P08 = RMinBJ(Y8 + RXD * (28 + 2 * TA8), 450)
    call UnitDamageTarget(W8, GetEnumUnit(), P08, false, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    call SaveInteger(R8, G9, RWD, RXD + 1)
endfunction
function RYD takes nothing returns nothing
    local integer RWD = GetHandleId(GetEnumUnit())
    local integer RXD = LoadInteger(R8, G9, RWD)
    call SaveInteger(R8, G9, RWD, RXD - 1)
endfunction
function RZD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (W57), (221)))
    local group XS8 = (LoadGroupHandle(R8, (W57), (317)))
    set G9 = GetHandleId(N28)
    call ForGroup(XS8, function RYD)
    call OF8(XS8)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set N28 = null
    set XS8 = null
    return false
endfunction
function RAD takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local group QA9 = OG8()
    local trigger t = CreateTrigger()
    if IsUnitType(O4D, UNIT_TYPE_HERO) == false then
        set O4D = Y7[GetPlayerId(GetOwningPlayer(O4D))]
    endif
    call GroupEnumUnitsInRange(QA9, GetUnitX(O4D), GetUnitY(O4D), 650, Condition(function RUD))
    set W8 = CreateUnit(GetOwningPlayer(O4D), 'e00E', GetUnitX(O4D), GetUnitY(O4D), 0)
    set Y8 = GetUnitAbilityLevel(O4D, 'A0GP') * 20
    set G9 = GetHandleId(O4D)
    call ForGroup(QA9, function RVD)
    call SaveUnitHandle(R8, (GetHandleId(t)), (221), (O4D))
    call SaveGroupHandle(R8, (GetHandleId(t)), (317), (QA9))
    call TriggerRegisterTimerEvent(t, 14., false)
    call TriggerAddCondition(t, Condition(function RZD))
    set t = null
    set O4D = null
    set QA9 = null
endfunction
function ZR8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RTD))
    call TriggerAddAction(t, function RAD)
    set t = null
endfunction
function RBD takes nothing returns nothing
    call V08(JX7, GetEnumUnit(), AB4, JY7)
endfunction
function RCD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit m5 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2ON')
    local real R3D
    local group g = OG8()
    set JY7 = 100 + ML8 * 75
    set JX7 = Z77
    set H04 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(m5), GetUnitY(m5), 190 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmune))
    call ForGroup(g, function RBD)
    call OF8(g)
    set R3D = JY7
    if GetUnitState(Z77, UNIT_STATE_LIFE) <= R3D * .75 then
        set R3D = GetUnitState(Z77, UNIT_STATE_LIFE) / .75 - 10
    endif
    call V08(Z77, Z77, AB4, R3D)
    call DestroyEffect(AddSpecialEffect("war3mapImported\\DoubleEdgeTarget.mdx", GetUnitX(m5), GetUnitY(m5)))
    set Z77 = null
    set m5 = null
    set g = null
endfunction
function R6D takes nothing returns boolean
    if GetSpellAbilityId() == 'A2ON'then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call RCD()
        else
            call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DoubleEdgeCaster.mdx", GetTriggerUnit(), "hand, right"))
        endif
    endif
    return false
endfunction
function ZS8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function R6D))
    set t = null
endfunction
function RLD takes nothing returns boolean
    return IsNormalAttack() and GetUnitAbilityLevel(GetTriggerUnit(), 'A00V') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A04R') == 0 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) and GetUnitTypeId(GetEventDamageSource()) != 'n0F5' and IsBroken(GetTriggerUnit()) == false
endfunction
function R1D takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEventDamageSource()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A00V')
    local integer R0D = GetHeroStr(Z77, true)
    local real P08 = (14 + 2 * ML8) + (.15 + .15 * ML8) * R0D
    call V08(Z77, X77, AC4, P08)
    set Z77 = null
    set X77 = null
endfunction
function ZT8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call ky(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function RLD))
    call TriggerAddAction(t, function R1D)
    set t = null
endfunction
function R5D takes nothing returns nothing
    local integer R2D
    local unit R_D = GetEnumUnit()
    if GU8(R_D) == false and((LoadInteger(R8, (GetHandleId(R_D)), ((4332)))) == 1) == false then
        call ASCI(R_D, 4332, 3.75)
        set R2D = JB7
        call V08(JA7, R_D, AB4, (R2D) * GetHeroStr(JZ7, true))
        call SetPlayerAbilityAvailable(GetOwningPlayer(R_D), 'A2OK', false)
        call O68(R_D, 'A2OK')
        call T68(R_D, 'A2OK', 1, 1.5, 'B0GF')
    endif
    set R_D = null
endfunction
function S4D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local group g
    if GetTriggerEvalCount(t) >= R2I(20 * 3.75)or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SetUnitPathing(Z77, true)
        call UnitRemoveAbility(Z77, 'A2O4')
        call UnitRemoveAbility(Z77, 'B0GB')
    else
        set g = OG8()
        set H04 = Z77
        set JZ7 = AC7
        set JA7 = Z77
        set JB7 = ML8
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 105 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function R5D)
        call OF8(g)
        call SC8(GetUnitX(Z77), GetUnitY(Z77), 200)
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    set g = null
    return false
endfunction
function StampedeDMGReduce takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        call BlzSetEventDamage(GetEventDamage() * .3)
    else
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function StampedeAghanim takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 3.75, false)
    call TriggerAddCondition(t, Condition(function StampedeDMGReduce))
    set t = null
endfunction
function S7D takes nothing returns nothing
    local unit Z77 = GetEnumUnit()
    local integer ML8 = GetUnitAbilityLevel(JZ7, 'A2O6')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(JZ7, 'A384')
        call StampedeAghanim(Z77)
    endif
    call SetUnitPathing(Z77, false)
    call O68(Z77, 'A2O4')
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function S4D))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (19), (JZ7))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx", Z77, "foot, left")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("war3mapImported\\SandBreathDamageSmall.mdx", Z77, "foot, right")))
    set Z77 = null
    set t = null
endfunction
function S8D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group g = OG8()
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set JZ7 = Z77
    set H04 = Z77
    call GroupEnumUnitsInRange(g, 0, 0, 99999, Condition(function VS8))
    call ForGroup(g, function S7D)
    call OF8(g)
    set t = null
    set Z77 = null
    set g = null
    return false
endfunction
function S9D takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local sound SDD = CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav", false, false, false, 10, 10, "DefaultEAXON")
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call StartSound(SDD)
    call KillSoundWhenDone(SDD)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function S8D))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
    set SDD = null
endfunction
function SED takes nothing returns boolean
    if GetSpellAbilityId() == 'A2O6' or GetSpellAbilityId() == 'A384' then
        call S9D()
    endif
    return false
endfunction
function ZU8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call PU8('A2O4')
    call PU8('A0X6')
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SED))
    call CreateSound("abilities\\Spells\\Other\\Stampede\\StampedeCaster1.wav", false, false, false, 10, 10, "DefaultEAXON")
    set t = null
endfunction
function SFD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real so
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 10 then
            call BlzSetEventDamage(GetEventDamage() * (1.1 + .05 * TA8))
        endif
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    return false
endfunction
function SGD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = GetSpellTargetUnit()
    local unit Z77 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0KM')
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", Z77, "chest"))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call TriggerRegisterTimerEvent(t, 4 + TA8, false)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function SFD))
    set t = null
    set target = null
    set Z77 = null
endfunction
function SHD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0KM'then
        call SGD()
    endif
    return false
endfunction
function ZV8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SHD))
    set t = null
endfunction
function SID takes nothing returns boolean
    return GetSpellAbilityId() == 'A0LT' or GetSpellAbilityId() == 'A1CS'
endfunction
function sq takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1
endfunction
function SJD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer sr = GetUnitAbilityLevel(N28, 'A0LT')
    local group XS8 = OG8()
    local unit PZ
    if sr == 0 then
        set sr = GetUnitAbilityLevel(N28, 'A1CS')
    endif
    call GroupEnumUnitsInRect(XS8, bj_mapInitialPlayableArea, Condition(function sq))
    loop
        set PZ = FirstOfGroup(XS8)
        exitwhen PZ == null
        if(IsUnitAlly(PZ, GetOwningPlayer(N28)))then
            call SetWidgetLife(PZ, (GetUnitState(PZ, UNIT_STATE_LIFE) + 100 + (100 * sr)))
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", PZ, "chest"))
        endif
        call GroupRemoveUnit(XS8, PZ)
    endloop
    call OF8(XS8)
    call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(N28), Condition(function KF8))
    loop
        set PZ = FirstOfGroup(XS8)
        exitwhen PZ == null
        if(IsUnitType(PZ, UNIT_TYPE_HERO) == false and GetUnitTypeId(PZ) != 'n00C')then
            call SetUnitLifePercentBJ(PZ, 100)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl", PZ, "chest"))
        endif
        call GroupRemoveUnit(XS8, PZ)
    endloop
    call OF8(XS8)
    set N28 = null
    set XS8 = null
    set PZ = null
endfunction
function ZW8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SID))
    call TriggerAddAction(t, function SJD)
    set t = null
endfunction
function SKD takes nothing returns boolean
    return GetSpellAbilityId() == 'A0LV' or GetSpellAbilityId() == 'A2MC'
endfunction
function SXD takes nothing returns boolean
    return((not IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO))and(O18(GetFilterUnit()) == false)and(not ZS7(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit()) != 'ncop')and(GetUnitAbilityLevel(GetFilterUnit(), 'Aeth') == 1)and((GetUnitAbilityLevel(GetFilterUnit(), 'A0KO') == 1)or(GetUnitAbilityLevel(GetFilterUnit(), 'A0KQ') == 1)or(GetUnitAbilityLevel(GetFilterUnit(), 'A0KR') == 1)or(GetUnitAbilityLevel(GetFilterUnit(), 'A0KP') == 1)))
endfunction
function SMD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit st = (LoadUnitHandle(R8, (EC8), (2)))
    local unit u = (LoadUnitHandle(R8, (EC8), (26)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local boolean AAX3 = (LoadBoolean(R8, (EC8), (95)))
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if TG9(GetSpellAbilityId())and GetSpellTargetUnit() == u then
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            set t = null
            set st = null
            set u = null
        endif
        return false
    endif
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
    if(LoadBoolean(R8, (GetHandleId(u)), (80))) == false and GetUnitAbilityLevel(u, 'A04R') == 0 then
        call ASCI(u, 4409, 1)
        if AAX3 then
            call SetUnitPosition(u, GetUnitX(st), GetUnitY(st))
        else
            call SetUnitPosition(u, x, y)
        endif
    endif
    if(LoadBoolean(R8, (GetHandleId(u)), (80))) == true then
        call PN8(GetOwningPlayer(st), GetObjectName('n036'))
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set st = null
    set u = null
    return false
endfunction
function SND takes unit u, unit SOD, integer QL8, real x, real y, boolean AAX3 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    if IsUnitOwnedByPlayer(u, GetOwningPlayer(SOD))and AAX3 == false then
        call TriggerRegisterTimerEvent(t, 0.1, false)
    else
        call TriggerRegisterTimerEvent(t, 7 - QL8, false)
        call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    endif
    call TriggerAddCondition(t, Condition(function SMD))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("effects\\Test_of_Faith_FX.mdx", u, "overhead")))
    call SaveUnitHandle(R8, (EC8), (26), (u))
    call SaveUnitHandle(R8, (EC8), (2), (SOD))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call SaveBoolean(R8, (EC8), (95), (AAX3))
    set t = null
endfunction
function SPD takes nothing returns nothing
    local unit m5 = GetSpellTargetUnit()
    local unit st = GetTriggerUnit()
    local location Mk = GetUnitLoc(st)
    local unit oA
    local integer sr = GetUnitAbilityLevel(st, 'A0LV')
    local real sX
    local location sy
    local effect fx
    local group XS8
    local unit AGB2
    if(KN8(GetOwningPlayer(st)))then
        set sy = GetRectCenter(QD)
    else
        set sy = GetRectCenter(PD)
    endif
    if m5 == st then
        set XS8 = OG8()
        call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(st), Condition(function SXD))
        loop
            exitwhen BlzGroupGetSize(XS8) == 0
            set AGB2 = GroupPickRandomUnit(XS8)
            call GroupRemoveUnit(XS8, AGB2)
            call SND(AGB2, st, sr, GetLocationX(sy), GetLocationY(sy), true)
        endloop
        call OF8(XS8)
        set XS8 = null
        set AGB2 = null
    elseif(IsUnitAlly(m5, GetOwningPlayer(st)) == false)then
        if OE8(GetSpellTargetUnit()) == false then
            set sX = GetRandomInt(50 * sr, 100 * sr)
            call QM8(I2S(R2I(sX)), 1, m5, .023, 255, 255, 0, 216)
            call V08(st, m5, A34, sX)
            set fx = AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", m5, "chest")
            call DestroyEffect(fx)
        endif
    else
        if(IsUnitType(m5, UNIT_TYPE_HERO))then
            if((LoadBoolean(R8, (GetHandleId(GetOwningPlayer(m5))), (139))) == false)then
                call SND(m5, st, sr, GetLocationX(sy), GetLocationY(sy), false)
            endif
        elseif(IsUnitOwnedByPlayer(m5, GetOwningPlayer(st)))then
            call SetUnitPositionLoc(m5, sy)
        endif
    endif
    call RemoveLocation(Mk)
    call RemoveLocation(sy)
    set m5 = null
    set st = null
    set Mk = null
    set oA = null
    set sy = null
    set fx = null
endfunction
function SQD takes nothing returns boolean
    if GetLearnedSkill() == 'A0LV' and IsUnitIllusion(GetTriggerUnit()) == false then
        call O68(GetTriggerUnit(), 'A2MC')
        call SetUnitAbilityLevel(GetTriggerUnit(), 'A2MC', GetUnitAbilityLevel(GetTriggerUnit(), 'A0LV'))
    endif
    return false
endfunction
function ZY8 takes nothing returns nothing
    local trigger t
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SKD))
    call TriggerAddAction(t, function SPD)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function SQD))
    set t = null
endfunction
function SRD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'AHab')
    if O18(Z77) == false then
        if ML8 == 4 then
            set ML8 = ML8 + 1
        endif
        call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) + (.5 + .5 * ML8) * .25)
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function SSD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function SRD))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function STD takes nothing returns boolean
    if GetLearnedSkill() == 'AHab' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'AHab') == 1 then
        call SSD()
    endif
    return false
endfunction
function ZZ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function STD))
    set t = null
endfunction
function SUD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e038', x, y, 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1E9')
    call O68(AC7, 'A01D')
    call SetUnitAbilityLevel(AC7, 'A01D', ML8)
    call IssueTargetOrderById(AC7, 852226, AC7)
    call O68(AC7, 'Aloc')
    call UnitApplyTimedLife(AC7, 'BTLF', 2)
    set Z77 = null
    set AC7 = null
endfunction
function SVD takes nothing returns boolean
    if GetSpellAbilityId() == 'A1E9' then
        call SUD()
    endif
    return false
endfunction
function ZA8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SVD))
    set t = null
endfunction
function ADC3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A04C')
    local integer C77 = GetTriggerEvalCount(t)
    if(IsUnitType(target, UNIT_TYPE_HERO) == true and C77 > 2 + TA8)or C77 > 20 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call V08(p5, target, 1, 50)
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function ADD3 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function ADC3))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    set p5 = null
    set target = null
    set t = null
endfunction
function ADE3 takes nothing returns boolean
    if GetSpellAbilityId() == 'A04C' then
        call ADD3()
    endif
    return false
endfunction
function AXA1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ADE3))
    set t = null
endfunction
function SWD takes nothing returns boolean
    return(GetSpellAbilityId() == 'A069')
endfunction
function sS takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit st = (LoadUnitHandle(R8, (EC8), (2)))
    local integer sT = (LoadInteger(R8, (EC8), (157)))
    local group XS8 = OG8()
    local unit PZ
    call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(st), Condition(function SXD))
    loop
        exitwhen(BlzGroupGetSize(XS8) <= sT)
        set PZ = GroupPickRandomUnit(XS8)
        call GroupRemoveUnit(XS8, PZ)
        call KillUnit(PZ)
    endloop
    call OF8(XS8)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set st = null
    set t = null
    set XS8 = null
    set PZ = null
    return false
endfunction
function SYD takes nothing returns nothing
    local unit sU = GetSpellTargetUnit()
    local unit st = GetTriggerUnit()
    local integer sr = GetUnitAbilityLevel(st, 'A069')
    local integer sT = 1
    local integer playerid = GetPlayerId(GetOwningPlayer(st))
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SetUnitState(sU, UNIT_STATE_MANA, GetUnitState(sU, UNIT_STATE_MAX_MANA))
    if(sr == 1)then
        call O68(sU, 'A0KO')
    endif
    if(sr == 2)then
        set sT = 2
        call O68(sU, 'A0KQ')
    endif
    if(sr == 3)then
        set sT = 3
        call O68(sU, 'A0KR')
    endif
    if(sr == 4)then
        set sT = 4
        call O68(sU, 'A0KP')
    endif
    call O68(sU, 'Aeth')
    call O68(sU, 'A12G')
    call SaveUnitHandle(R8, (EC8), (2), (st))
    call SaveInteger(R8, (EC8), (157), (sT))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function sS))
    set t = null
    set sU = null
    set st = null
endfunction
function SZD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7
    local real x
    local real y
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A28T')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(Z77, 'A2YN')
    endif
    if IsUnitEnemy(X77, GetOwningPlayer(Z77))then
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
        call UnitAddAbility(AC7, 'A069')
        call SetUnitAbilityLevel(AC7, 'A069', TA8)
        call IssueTargetOrderById(AC7, 852581, X77)
    else
        if KN8(GetOwningPlayer(Z77))then
            set x = GetRectCenterX(QD)
            set y = GetRectCenterY(QD)
        else
            set x = GetRectCenterX(PD)
            set y = GetRectCenterY(PD)
        endif
        if(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(X77))), (139))) == false then
            call SND(X77, Z77, TA8, x, y, false)
        endif
    endif
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function SAD takes nothing returns boolean
    if (GetSpellAbilityId() == 'A28T' or GetSpellAbilityId() == 'A2YN') and OE8(GetSpellTargetUnit()) == false then
        call SZD()
    endif
    return false
endfunction
function SBD takes nothing returns boolean
    if GetSpellAbilityId() == 'A28T' then
        if IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) then
            if IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_HERO) or IsUnitIllusion(GetSpellTargetUnit()) or GetUnitAbilityLevel(GetSpellTargetUnit(), 'A0SW') > 0 then
                call ZN7(GetTriggerUnit())
                call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0K9'))
            endif
        endif
    endif
    return false
endfunction
function ZX8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SWD))
    call TriggerAddAction(t, function SYD)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function SBD))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SAD))
    set t = null
endfunction
function SCD takes nothing returns nothing
    call V08(QU, GetEnumUnit(), AB4, PU)
endfunction
function S3D takes unit Z77, real x, real y, integer ML8 returns nothing
    local group g = OG8()
    if ML8 == 1 then
        set PU = 105
    elseif ML8 == 2 then
        set PU = 170
    elseif ML8 == 3 then
        set PU = 250
    elseif ML8 == 4 then
        set PU = 310
    endif
    set QU = Z77
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 300 + 25, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function SCD)
    call OF8(g)
    set g = null
endfunction
function S6D takes nothing returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(H04), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    if GetUnitAbilityLevel(H04, 'A03R') > 0 then
        call O68(AC7, 'A10T')
    else
        call O68(AC7, 'A2S6')
    endif
    call IssueTargetOrderById(AC7, 852075, GetEnumUnit())
    set AC7 = null
endfunction
function SLD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer S1D = ModuloInteger(GetTriggerEvalCount(t), 4) + 1
    local real a
    local real d
    local real x
    local real y
    local group g = OG8()
    set H04 = N28
    call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 860, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function S6D)
    if S1D == 1 then
        set a = GetRandomReal(0, 90)
    elseif S1D == 2 then
        set a = GetRandomReal(90, 180)
    elseif S1D == 3 then
        set a = GetRandomReal(180, 270)
    else
        set a = GetRandomReal(270, 360)
    endif
    set d = GetRandomReal(140, 860)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId() == 'A03R' or GetSpellAbilityId() == 'A0AV')then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call StopSound(vX, false, true)
    else
        set x = GetUnitX(N28) + d * Cos(a * bj_DEGTORAD)
        set y = GetUnitY(N28) + d * Sin(a * bj_DEGTORAD)
        call DestroyEffect(AddSpecialEffect("effects\\SnowyBlizzardTarget.mdx", x, y))
        call S3D(N28, x, y, TA8)
    endif
    call OF8(g)
    set t = null
    set g = null
    set N28 = null
    return false
endfunction
function S0D takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8
    call S68(vX, GetUnitX(N28), GetUnitY(N28))
    if GetSpellAbilityId() == 'A03R' then
        set TA8 = GetUnitAbilityLevel(N28, 'A03R')
    else
        set TA8 = GetUnitAbilityLevel(N28, 'A0AV') + 1
    endif
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function SLD))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveInteger(R8, (EC8), (5), (TA8))
    set t = null
    set N28 = null
endfunction
function S5D takes nothing returns boolean
    if GetSpellAbilityId() == 'A03R' or GetSpellAbilityId() == 'A0AV' then
        call S0D()
    endif
    return false
endfunction
function ZB8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function S5D))
    call PU8('A03X')
    set t = null
endfunction
function BreatheFireInRange takes real x1, real y1, real x2, real y2, real x3, real y3, real x, real y returns boolean
    local real XED = (y - y1) * (x2 - x1) - (x - x1) * (y2 - y1)
    local real XFD = (y - y3) * (x1 - x3) - (x - x3) * (y1 - y3)
    local real XGD = (y - y2) * (x3 - x2) - (x - x2) * (y3 - y2)
    return(XED * XFD > 0)and(XGD * XFD > 0)
endfunction
function BreatheFireSelectRangeCondt takes nothing returns boolean
    local real XID = H64
    local real XJD = HL4
    local real XKD = H14
    local real XMD = Zl
    local real XND = vL
    local real XOD = eL
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and BreatheFireInRange(XID, XJD, XKD, XMD, XND, XOD, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
endfunction
function BreatheFireSelectRange takes real XQD, real XED, real XFD returns nothing
    local real XGD = 600
    local real XRD = 200
    local real XSD = 250
    local real XTD = Asin((XSD - XRD) / XGD)
    local real x = XRD / Sin(XTD)
    local real y = (XGD + XSD + x) * Tan(XTD)
    local real XID = XED + x * Cos((XQD - 180) * bj_DEGTORAD)
    local real XJD = XFD + x * Sin((XQD - 180) * bj_DEGTORAD)
    local real XKD = (XED + (XGD + XSD) * Cos(XQD * bj_DEGTORAD)) + y * Cos((XQD - 90) * bj_DEGTORAD)
    local real XMD = (XFD + (XGD + XSD) * Sin(XQD * bj_DEGTORAD)) + y * Sin((XQD - 90) * bj_DEGTORAD)
    local real XND = (XED + (XGD + XSD) * Cos(XQD * bj_DEGTORAD)) + y * Cos((XQD + 90) * bj_DEGTORAD)
    local real XOD = (XFD + (XGD + XSD) * Sin(XQD * bj_DEGTORAD)) + y * Sin((XQD + 90) * bj_DEGTORAD)
    set H64 = XID
    set HL4 = XJD
    set H14 = XKD
    set Zl = XMD
    set vL = XND
    set eL = XOD
endfunction
function BreatheFireDamageReduction takes nothing returns nothing
    call T68(GetEnumUnit(), 'A387', HB4, 11., 'B387')
    call BlzUnitHideAbility(GetEnumUnit(), 'A387', true)
endfunction
function BreatheFireEffect takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A03F')
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local location l
    local group g = OG8()
    if GetSpellTargetUnit() == null then
        set l = GetSpellTargetLoc()
    else
        set l = GetUnitLoc(GetSpellTargetUnit())
    endif
    call BreatheFireSelectRange(bj_RADTODEG * Atan2(GetLocationY(l) - y, GetLocationX(l) - x), x, y)
    call GroupEnumUnitsInRange(g, x, y, 2000, Condition(function BreatheFireSelectRangeCondt))
    set HB4 = TA8
    call ForGroup(g, function BreatheFireDamageReduction)
    call OF8(g)
    call RemoveLocation(l)
    set N28 = null
    set l = null
    set g = null
endfunction
function BreatheFireCondt takes nothing returns boolean
    if GetSpellAbilityId() == 'A03F' then
        call BreatheFireEffect()
    endif
    return false
endfunction
function Register_BreatheFire takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BreatheFireCondt))
    set t = null
endfunction
function S2D takes unit Z77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2AI')
    if GetUnitTypeId(Z77) == 'Hlgr' then
        call SetUnitAbilityLevel(Z77, 'A0AR', ML8)
    else
        call SetUnitAbilityLevel(Z77, 'A0AR', ML8 + 4)
    endif
endfunction
function S_D takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2AI')
    if ML8 == 1 then
        call O68(Z77, 'A0AR')
    endif
    call S2D(Z77)
    set Z77 = null
endfunction
function T4D takes nothing returns boolean
    if GetLearnedSkill() == 'A2AI' and IsUnitIllusion(GetTriggerUnit()) == false then
        call S_D()
    endif
    return false
endfunction
function T7D takes nothing returns nothing
    local unit u = GetTriggerUnit()
    if GetUnitTypeId(u) == 'H00G' or GetUnitTypeId(u) == 'H00F' or GetUnitTypeId(u) == 'H00E' then
        call SetUnitAnimation(u, "stand")
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl", u, "head"))
    elseif GetUnitTypeId(u) == 'Hlgr' then
        call SetUnitAnimation(u, "stand defend")
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl", u, "origin"))
    endif
    set u = null
endfunction
function T8D takes nothing returns boolean
    if GetSpellAbilityId() == 'A0AR' then
        call T7D()
    endif
    return false
endfunction
function D19 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function T8D))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function T4D))
    call PU8('A0AR')
    set t = null
endfunction
function T9D takes nothing returns boolean
    return GetLearnedSkill() == 'A0CL'and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function TDD takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    call SetPlayerTechResearched(GetOwningPlayer(AM7), 'R006', GetPlayerTechCount(GetOwningPlayer(AM7), 'R006', true) + 1)
    set AM7 = null
endfunction
function DL9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function T9D))
    call TriggerAddAction(t, function TDD)
    set t = null
endfunction
function TED takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real PX9 = (LoadReal(R8, (W57), (805)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsNormalAttackHero() and GetUnitAbilityLevel(GetEventDamageSource(), 'A0O4') > 0 then
            call SaveReal(R8, (W57), (805), (TimerGetElapsed(E4) + 5))
            if GetEventDamageSource() != Z77 then
                call SaveUnitHandle(R8, (W57), (2), (GetEventDamageSource()))
            endif
        endif
    else
        if(TimerGetElapsed(E4)) > PX9 or GetUnitAbilityLevel(X77, 'B3IG') == 0 then
            call UnitRemoveAbility(X77, 'A3IG')
            call UnitRemoveAbility(X77, 'B3IG')
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
        call V08(Z77, X77, 1, 20)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function TFD takes unit Z77, unit X77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(X77, 'A3IG')
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function TED))
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (W57), (805), (TimerGetElapsed(E4) + 5))
    set t = null
endfunction
function THD takes nothing returns nothing
    local unit X77 = GetTriggerUnit()
    local unit Z77 = GetEventDamageSource()
    if GetUnitAbilityLevel(X77, 'B3IG') == 0 then
        call TFD(Z77, X77)
    endif
    set X77 = null
    set Z77 = null
endfunction
function TID takes nothing returns boolean
    if IsNormalAttackHero() and IsUnitAlly(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) == false and GetUnitAbilityLevel(GetEventDamageSource(), 'A0O4') > 0 then
        call THD()
    endif
    return false
endfunction
function TJD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function TID))
    set Z77 = null
    set t = null
endfunction
function TKD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call S2D(Z77)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function TMD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call S2D(Z77)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function YQ8 takes nothing returns nothing
    if GetUnitAbilityLevel(H04, 'A0AR') > 0 then
        call S2D(H04)
    endif
endfunction
function TND takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerAddCondition(t, Condition(function TKD))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function TMD))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set Z77 = null
    set t = null
endfunction
function TOD takes nothing returns boolean
    if GetSpellAbilityId() == 'A03G' then
        call TND()
    endif
    return false
endfunction
function D09 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TOD))
    call TJD()
    set t = null
endfunction
function TPD takes nothing returns nothing
    local real x = GetUnitX(GetEnumUnit())
    local real y = GetUnitY(GetEnumUnit())
    local integer id = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    call SetUnitX(SX4[id], x)
    call SetUnitY(SX4[id], y)
    if GetPlayerController(GetOwningPlayer(SX4[id])) == MAP_CONTROL_COMPUTER then
        call UnitAddAbility(SX4[id], 'A0DM')
        call SetUnitAbilityLevel(SX4[id], 'A0DM', ZZ)
    endif
    call IssueImmediateOrderById(SX4[id], 852526)
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, ABLI)
endfunction
function TQD takes nothing returns nothing
    local real x = GetUnitX(GetEnumUnit())
    local real y = GetUnitY(GetEnumUnit())
    local integer id = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) or IsUnitIllusion(GetEnumUnit()) then
        call SetUnitX(SX4[id], x)
        call SetUnitY(SX4[id], y)
        if GetPlayerController(GetOwningPlayer(SX4[id])) == MAP_CONTROL_COMPUTER then
            call UnitAddAbility(SX4[id], 'A0DM')
            call SetUnitAbilityLevel(SX4[id], 'A0DM', ZZ)
        endif
        call IssueImmediateOrderById(SX4[id], 852526)
    endif
endfunction
function TRD takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and O18(GetFilterUnit()) == false
endfunction
function TSD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    local integer id = GetPlayerId(GetOwningPlayer(Z77))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0DH')
    local unit oA = CreateUnit(GetOwningPlayer(Z77), 'o00Z', GetUnitX(Z77), GetUnitY(Z77), 0)
    call UnitApplyTimedLife(oA, 'BTLF', .5)
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(Z77, 'A1OB')
    endif
    if TA8 == 1 then
        set ABLI = 160
    elseif TA8 == 2 then
        set ABLI = 210
    elseif TA8 == 3 then
        set ABLI = 270
    endif
    set SX4[id] = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    set zZ[id] = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    set ZZ = TA8
    call SetUnitScale(SX4[id], .25, .25, .25)
    call O68(SX4[id], 'A0DM')
    call O68(zZ[id], 'A1H0')
    call SetUnitAbilityLevel(SX4[id], 'A0DM', TA8)
    call SetUnitAbilityLevel(zZ[id], 'A1H0', TA8)
    call GroupEnumUnitsInRange(g, x, y, 575 + 25, Condition(function TRD))
    call ForGroup(g, function TPD)
    if GetUnitAbilityLevel(Z77, 'A1OB') > 0 then
        call ForGroup(g, function TQD)
    endif
    call OF8(g)
    set Z77 = null
    set g = null
    set oA = null
endfunction
function TTD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0DH' or GetSpellAbilityId() == 'A1OB' then
        call TSD()
    endif
    return false
endfunction
function ZC8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TTD))
    call PU8('A0DM')
    set t = null
endfunction
function TUD takes nothing returns nothing
    call V18(GetTriggerUnit(), GetEnumUnit(), HB4 * .25 + .75)
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, H64)
endfunction
function TVD takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer i = 1
    local real BJ7 = GetUnitX(AM7)
    local real BK7 = GetUnitY(AM7)
    local real BM7
    local real BN7
    local real x
    local real y
    local real a
    local group g = OG8()
    local group g2 = OG8()
    local real rc = ALR(AM7, 1400) / 60.
    if X77 == null then
        set BM7 = GetSpellTargetX()
        set BN7 = GetSpellTargetY()
    else
        set BM7 = GetUnitX(X77)
        set BN7 = GetUnitY(X77)
    endif
    set a = Atan2(BN7 - BK7, BM7 - BJ7)
    loop
        exitwhen i > rc
        set x = PQ8(BJ7 + i * 60 * Cos(a))
        set y = PS8(BK7 + i * 60 * Sin(a))
        call GroupEnumUnitsInRange(g2, x, y, 250, Condition(function GenericCondition_EnemyUnits))
        call BlzGroupAddGroupFast(g2, g)
        call GroupClear(g2)
        call TI8(CreateDestructable('B000', x, y, GetRandomReal(0, 360), .5, GetRandomInt(0, 2)), 8)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl", x, y))
        set i = i + 1
    endloop
    set HB4 = GetUnitAbilityLevel(AM7, 'A0SK')
    set H64 = HB4 * 50 + 60
    call ForGroup(g, function TUD)
    call OF8(g)
    call OF8(g2)
    set AM7 = null
    set X77 = null
    set g = null
    set g2 = null
endfunction
function TWD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0SK' then
        call TVD()
    endif
    return false
endfunction
function Z38 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TWD))
    set t = null
endfunction
function TXD takes nothing returns boolean
    return (GetUnitAbilityLevel(GetSpellAbilityUnit(), 'A0DJ') > 0)and(((GetSpellAbilityId() == 'A0SK')or(GetSpellAbilityId() == 'A0DL')or(GetSpellAbilityId() == 'A0DH')or(GetSpellAbilityId() == 'A1OB')))and(IsBroken(GetSpellAbilityUnit()) == false)
endfunction
function TYD takes nothing returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), bj_UNIT_FACING)
    call UnitAddAbility(AC7, 'A0DI')
    call SetUnitAbilityLevel(AC7, 'A0DI', GetUnitAbilityLevel(GetSpellAbilityUnit(), 'A0DJ'))
    call IssueImmediateOrderById(AC7, 852127)
    set AC7 = null
endfunction
function Z68 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TXD))
    call TriggerAddAction(t, function TYD)
    set t = null
endfunction
function TZD takes nothing returns boolean
    return((GetItemTypeId(GetManipulatedItem()) == 'I00K')and(GetUnitTypeId(GetTriggerUnit()) == 'Otch'))
endfunction
function TAD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    call O68(oA, 'AIrr')
    call IssueImmediateOrderById(oA, 852164)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    set oA = null
    return false
endfunction
function TBD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call UnitRemoveAbility(N28, 'B01P')
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function TAD))
    set t = null
    set N28 = null
endfunction
function ZL8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(t, Condition(function TZD))
    call TriggerAddAction(t, function TBD)
    set t = null
endfunction
function TCD takes nothing returns boolean
    return IsNormalAttackHero() and UnitHasBuffBJ(GetEventDamageSource(), 'Broa')
endfunction
function T6D takes nothing returns nothing
    call UnitRemoveAbility(GetEventDamageSource(), 'Broa')
endfunction
function Z18 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function TCD))
    call TriggerAddAction(t, function T6D)
    set t = null
endfunction
function TLD takes unit u returns boolean
    return IsUnitType(u, UNIT_TYPE_HERO) == false and IsUnitType(u, UNIT_TYPE_ANCIENT) == false
endfunction
function T1D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    call UnitRemoveAbility(X77, 'Bslo')
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set X77 = null
    return false
endfunction
function T0D takes nothing returns nothing
    local unit m5 = GetSpellTargetUnit()
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerAddCondition(t, Condition(function T1D))
    call SaveUnitHandle(R8, (W57), (17), (m5))
    if IsUnitEnemy(m5, GetOwningPlayer(Z77)) then
        call SetUnitOwner(m5, GetOwningPlayer(Z77), true)
        call BlzUnitCancelTimedLife(m5)
        call UnitApplyTimedLife(m5, 'BTLF', 80.)
        call O68(m5, 'Aeth')
        call O68(m5, 'A12G')
        call SetUnitState(m5, UNIT_STATE_MANA, GetUnitState(m5, UNIT_STATE_MAX_MANA))
    elseif GetUnitAbilityLevel(m5, 'A12G') > 0 then
        call BlzUnitCancelTimedLife(m5)
        call UnitApplyTimedLife(m5, 'BTLF', 80.)
    endif
    set m5 = null
    set Z77 = null
    set t = null
endfunction
function T5D takes nothing returns boolean
    if GetSpellAbilityId() == 'A0DX' and TLD(GetSpellTargetUnit())then
        call T0D()
    endif
    return false
endfunction
function Z08 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function T5D))
    set t = null
endfunction
function T2D takes nothing returns boolean
    return ji()and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) != GetUnitState(GetFilterUnit(), UNIT_STATE_MAX_LIFE)
endfunction
function T_D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer Rd = (LoadInteger(R8, (EC8), (28)))
    local group g
    local unit Y_8
    if Rd > 10 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SaveInteger(R8, (EC8), (28), (Rd + 1))
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 300, Condition(function T2D))
        set Y_8 = GroupPickRandomUnit(g)
        call OF8(g)
        call SetUnitState(Y_8, UNIT_STATE_LIFE, GetUnitState(Y_8, UNIT_STATE_LIFE) + 10)
    endif
    set t = null
    set Z77 = null
    set g = null
    set Y_8 = null
    return false
endfunction
function U4D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call AddUnitAnimationProperties(Z77, "alternate", false)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function U7D takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer i = 1
    local trigger t
    local integer W57
    loop
        exitwhen i > (1 + 2 * GetUnitAbilityLevel(Z77, 'A01B'))
        set t = CreateTrigger()
        call SaveUnitHandle(R8, (GetHandleId(t)), (2), (Z77))
        call SaveInteger(R8, (GetHandleId(t)), (28), (0))
        call TriggerRegisterTimerEvent(t, 1., true)
        call TriggerAddCondition(t, Condition(function T_D))
        set i = i + 1
    endloop
    if GetUnitTypeId(Z77) == 'E02X' then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function U4D))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        set t = null
    endif
    set t = null
    set Z77 = null
endfunction
function U8D takes nothing returns boolean
    if GetSpellAbilityId() == 'A01B' then
        call U7D()
    endif
    return false
endfunction
function Z58 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U8D))
    set t = null
endfunction
function U9D takes real x1, real y1, real x2, real y2 returns real
    return SquareRoot((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2))
endfunction
function UDD takes unit u returns integer
    local integer ML8 = GetUnitAbilityLevel(u, 'A0DY')
    if ML8 > 0 then
        return ML8
    endif
    set ML8 = GetUnitAbilityLevel(u, 'A1WB')
    return ML8
endfunction
function UED takes nothing returns boolean
    local real d
    local real UFD
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B03U') > 0 and UDD(GetEventDamageSource()) > 0 and(LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2))) == GetEventDamageSource()then
        call UnitRemoveAbility(GetTriggerUnit(), 'B03U')
        set UFD = RMinBJ(U9D(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitX(GetEventDamageSource()), GetUnitY(GetEventDamageSource())), 2500)
        set d = (.1 + .05 * I2R(UDD(GetEventDamageSource()))) * UFD
        call QM8("+" + I2S(R2I(d)), 1, GetTriggerUnit(), .023, 3, 216, 216, 216)
        call V08(GetEventDamageSource(), GetTriggerUnit(), A34, d)
    endif
    return false
endfunction
function UHD takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function UED))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
    set t = null
endfunction
function UID takes nothing returns boolean
    if(GetLearnedSkill() == 'A0DY' or GetLearnedSkill() == 'A1WB')and IsUnitIllusion(GetTriggerUnit()) == false and UDD(GetTriggerUnit()) == 1 then
        call UHD()
    endif
    return false
endfunction
function Z28 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function UID))
    set t = null
endfunction
function UJD takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        return GetUnitAbilityLevel(GetSpellTargetUnit(), 'A0DW') > 0 and IsBroken(GetSpellTargetUnit()) == false
    else
        return GetUnitAbilityLevel(GetTriggerUnit(), 'A0DW') > 0 and IsBroken(GetTriggerUnit()) == false
    endif
endfunction
function UKD takes nothing returns nothing
    local unit Z77
    local unit m5
    local unit oA
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        set Z77 = GetSpellTargetUnit()
        set m5 = GetTriggerUnit()
    else
        set Z77 = GetTriggerUnit()
        set m5 = GetAttacker()
    endif
    set oA = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(m5), GetUnitY(m5), 0)
    call O68(oA, 'A0B0')
    call SetUnitAbilityLevel(oA, 'A0B0', GetUnitAbilityLevel(Z77, 'A0DW'))
    call IssueTargetOrderById(oA, 852662, m5)
    set Z77 = null
    set m5 = null
    set oA = null
endfunction
function Z_8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UJD))
    call TriggerAddAction(t, function UKD)
    set t = null
endfunction
function UMD takes real x returns real
    local real H7 = GetRectMinX(bj_mapInitialPlayableArea) + 150
    if(x < H7)then
        return H7
    endif
    set H7 = GetRectMaxX(bj_mapInitialPlayableArea) - 150
    if(x > H7)then
        return H7
    endif
    return x
endfunction
function UND takes real y returns real
    local real H7 = GetRectMinY(bj_mapInitialPlayableArea) + 150
    if(y < H7)then
        return H7
    endif
    set H7 = GetRectMaxY(bj_mapInitialPlayableArea) - 150
    if(y > H7)then
        return H7
    endif
    return y
endfunction
function UOD takes unit u returns boolean
    local integer id = GetUnitTypeId(u)
    return id == 'npn3' or id == 'npn6' or id == 'n010' or id == 'n0GZ' or id == 'npn1' or id == 'npn4' or id == 'n011' or id == 'n0H0' or id == 'npn2' or id == 'npn5' or id == 'n012' or id == 'n0H1'
endfunction
function UPD takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or UOD(GetFilterUnit())or T18(GetFilterUnit())or GetUnitTypeId(GetFilterUnit()) == 'n00U' or GetUnitTypeId(GetFilterUnit()) == 'n00Y' or GetUnitTypeId(GetFilterUnit()) == 'n00Z' or GetUnitTypeId(GetFilterUnit()) == 'n0KU' or GetUnitTypeId(GetFilterUnit()) == 'n0KV' or GetUnitTypeId(GetFilterUnit()) == 'n0KW' or NI8(GetUnitTypeId(GetFilterUnit())))and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer((LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (318))))) == true
endfunction
function UQD takes nothing returns nothing
    local location URD = GetUnitLoc(GetEnumUnit())
    local location USD = GetUnitLoc((LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (318))))
    local location UTD = ZP7(USD, DistanceBetweenPoints(USD, URD) - 2, AngleBetweenPoints(USD, URD))
    call SetUnitFacing(GetEnumUnit(), AngleBetweenPoints(USD, URD))
    call SetUnitPositionLoc(GetEnumUnit(), UTD)
    call RemoveLocation(URD)
    call RemoveLocation(USD)
    call RemoveLocation(UTD)
    if ABSI > 0 then
        call V08(ABTI, GetEnumUnit(), AA94, GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * (0.0225 + 0.0075 * ABSI))
    endif
    set URD = null
    set USD = null
    set UTD = null
endfunction
function UUD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local group XS8
    local integer EC8 = GetHandleId(t)
    local unit UVD = (LoadUnitHandle(R8, (EC8), (318)))
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit AC7
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId() == 'A1BX' or GetSpellAbilityId() == 'A2TX' then
        call KillUnit(UVD)
        set AC7 = (LoadUnitHandle(R8, (EC8), (19)))
        call UnitApplyTimedLife((LoadUnitHandle(R8, (EC8), (250))), 'BTLF', 1)
        call UnitApplyTimedLife((LoadUnitHandle(R8, (EC8), (251))), 'BTLF', 1)
        call UnitApplyTimedLife((LoadUnitHandle(R8, (EC8), (252))), 'BTLF', 1)
        call UnitApplyTimedLife((LoadUnitHandle(R8, (EC8), (253))), 'BTLF', 1)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call KillUnit(AC7)
    elseif GetTriggerEvalCount(t) > 90 then
        set AC7 = (LoadUnitHandle(R8, (EC8), (19)))
        call UnitApplyTimedLife((LoadUnitHandle(R8, (EC8), (250))), 'BTLF', 1)
        call UnitApplyTimedLife((LoadUnitHandle(R8, (EC8), (251))), 'BTLF', 1)
        call UnitApplyTimedLife((LoadUnitHandle(R8, (EC8), (252))), 'BTLF', 1)
        call UnitApplyTimedLife((LoadUnitHandle(R8, (EC8), (253))), 'BTLF', 1)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call KillUnit(UVD)
        call KillUnit(AC7)
        call ZN7(LoadUnitHandle(R8, (EC8), (2)))
    else
        set ABSI = 0
        if GetTriggerEvalCount(t) == 20 or GetTriggerEvalCount(t) == 40 or GetTriggerEvalCount(t) == 60 or GetTriggerEvalCount(t) == 80 then
            if GetUnitAbilityLevel(Z77, 'A2TX') > 0 then
                set ABTI = Z77
                set ABSI = GetUnitAbilityLevel(Z77, 'A0B1')
            endif
        endif
        set x = GetUnitX(UVD)
        set y = GetUnitY(UVD)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 445, Condition(function UPD))
        call ForGroup(XS8, function UQD)
        call OF8(XS8)
    endif
    set Z77 = null
    set AC7 = null
    set UVD = null
    set t = null
    set XS8 = null
    return false
endfunction
function UWD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    local unit UVD = CreateUnit(GetOwningPlayer(Z77), 'u004', x, y, 0)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1BX')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(Z77, 'A2TX')
    endif
    call SetUnitAbilityLevel(UVD, 'A0C0', TA8)
    if KO8(GetOwningPlayer(Z77))then
        call O68(AC7, 'A0X4')
    else
        call O68(AC7, 'A0X3')
    endif
    call IssuePointOrderById(AC7, 852473, x, y)
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveUnitHandle(R8, (EC8), (250), (CreateUnit(GetOwningPlayer(Z77), 'h06R', x, y, 0)))
    call SaveUnitHandle(R8, (EC8), (251), (CreateUnit(GetOwningPlayer(Z77), 'h06R', x, y, 0)))
    call SaveUnitHandle(R8, (EC8), (252), (CreateUnit(GetOwningPlayer(Z77), 'h06R', x, y, 0)))
    call SaveUnitHandle(R8, (EC8), (253), (CreateUnit(GetOwningPlayer(Z77), 'h06R', x, y, 0)))
    call SaveUnitHandle(R8, (EC8), (318), (UVD))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerAddCondition(t, Condition(function UUD))
    set Z77 = null
    set UVD = null
    set t = null
    set AC7 = null
endfunction
function UXD takes nothing returns boolean
    if GetSpellAbilityId() == 'A1BX' or GetSpellAbilityId() == 'A2TX' then
        call UWD()
    endif
    return false
endfunction
function UYD takes nothing returns boolean
    local real x
    local real y
    if GetSpellAbilityId() == 'A1BX' or GetSpellAbilityId() == 'A2TX' then
        set x = GetSpellTargetX()
        set y = GetSpellTargetY()
        if(x != UMD(x)and y != UND(y))or RectContainsCoords(eE, x, y)or RectContainsCoords(oE, x, y)or RectContainsCoords(aE, x, y)or RectContainsCoords(nE, x, y)or RectContainsCoords(VE, x, y)or RectContainsCoords(EE, x, y)then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), "Cannot cast Blackhole here")
        endif
    endif
    return false
endfunction
function A48 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UXD))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function UYD))
    call PU8('A0C0')
    set t = null
endfunction
function AFM3 takes nothing returns nothing
    local real P99 = GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * ABNI
    call V08(ABMI, GetEnumUnit(), 7, P99)
endfunction
function AFN3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local group g
    if GetTriggerEvalCount(t) > 11 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set g = OG8()
        set H04 = p5
        set ABMI = p5
        set ABNI = (2.25 + .75 * GetUnitAbilityLevel(p5, 'A0B1')) / 100
        call GroupEnumUnitsInRange(g, x, y, 575, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function AFM3)
        call OF8(g)
        set g = null
    endif
    set t = null
    set p5 = null
    return false
endfunction
function AFS3 takes real x, real y returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function AFN3))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    set t = null
    set p5 = null
endfunction
function UZD takes nothing returns boolean
    return(GetSpellAbilityId() == 'A0B1')
endfunction
function UAD takes nothing returns nothing
    local location UCD = GetSpellTargetLoc()
    local unit U3D = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'e00E', UCD, 0)
    call AFS3(GetLocationX(UCD), GetLocationY(UCD))
    call ShowUnit(U3D, false)
    call UnitApplyTimedLife(U3D, 'BTLF', 11.)
    call UnitAddAbility(U3D, 'A0B2')
    call SetUnitAbilityLevel(U3D, 'A0B2', GetUnitAbilityLevel(GetTriggerUnit(), 'A0B1'))
    call IssuePointOrderByIdLoc(U3D, 852221, UCD)
    call RemoveLocation(UCD)
    set U3D = null
    set UCD = null
endfunction
function A88 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UZD))
    call TriggerAddAction(t, function UAD)
    set t = null
endfunction
function U6D takes unit Z77, unit X77, integer ML8 returns nothing
    local real P08
    local real ULD
    if ML8 == 1 then
        set P08 = 30
        set ULD = .25
    elseif ML8 == 2 then
        set P08 = 50
        set ULD = .5
    elseif ML8 == 3 then
        set P08 = 70
        set ULD = .75
    else
        set P08 = 90
        set ULD = 1
    endif
    call V18(X77, X77, ULD)
    call V08(Z77, X77, AB4, P08)
endfunction
function U1D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    call U6D(Z77, X77, ML8)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function U0D takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t
    local integer W57
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0I7')
    call U6D(Z77, X77, ML8)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call TriggerRegisterTimerEvent(t, 2, false)
    call TriggerAddCondition(t, Condition(function U1D))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call TriggerRegisterTimerEvent(t, 4, false)
    call TriggerAddCondition(t, Condition(function U1D))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function U5D takes nothing returns boolean
    if GetSpellAbilityId() == 'A0I7' and OE8(GetSpellTargetUnit()) == false then
        call U0D()
    endif
    return false
endfunction
function A78 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U5D))
    set t = null
endfunction
function U2D takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real x = GetUnitX(target)
    local real y = GetUnitY(target)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A180')
    local unit oA = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    call SetUnitState(target, UNIT_STATE_LIFE, 1)
    call V08(Z77, target, AC4, 20)
    call V08(Z77, target, AB4, 20)
    call V08(Z77, target, A34, 20)
    call O68(oA, 'A17Z')
    call SetUnitAbilityLevel(oA, 'A17Z', TA8)
    call IssueImmediateOrderById(oA, 852667)
    set Z77 = null
    set target = null
    set oA = null
endfunction
function U_D takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer V4D = GetUnitLevel(target)
    if GetOwningPlayer(target) != G8[0]and GetOwningPlayer(target) != N8[0]and V4D > 4 then
        call ZN7(N28)
        call PN8(GetOwningPlayer(N28), (GetObjectName(('n0CX'))))
    endif
    set N28 = null
    set target = null
endfunction
function V7D takes nothing returns boolean
    if GetSpellAbilityId() == 'A180' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call U2D()
        else
            call U_D()
        endif
    endif
    return false
endfunction
function A98 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function V7D))
    set t = null
endfunction
function jh takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and UZ8()
endfunction
function SZ takes nothing returns nothing
    local integer player_id = 0
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call V08(H04, GetEnumUnit(), AB4, H64)
        // if((IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO))and(IsUnitInForce(H04, AiForce)))then
        //     set player_id = GetPlayerId(GetOwningPlayer(H04))
        //     if((g_aiStatReal[240 + player_id] > Bz)and(g_aiTarget[16 + player_id] == GetEnumUnit())and(Z_7(Y7[player_id]))and(IsIdle(Y7[player_id]))and(GetUnitLifePercent(Y7[player_id]) > 65.)and(g_aiPushBool[128 + player_id])and(not IsUnitInRange(Y7[player_id], GetEnumUnit(), 450.))and(kJ(GetUnitX(H04), GetUnitY(H04))))then
        //         set PK4[16 + player_id] = GetEnumUnit()
        //     endif
        // endif
    endif
endfunction
function S0 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real RK = (LoadReal(R8, (EC8), (13)))
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local group S1
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        set H04 = CreateUnit(GetOwningPlayer(oA), 'h06O', GetUnitX(N28), GetUnitY(N28), 0)
        call SetUnitScale(H04, 2.5, 2.5, 2.5)
        call KillUnit(H04)
        call SetUnitPosition(N28, GetUnitX(oA), GetUnitY(oA))
        call ShowUnit(N28, false)
        call ShowUnit(N28, true)
        call SelectUnitAddForPlayer(N28, GetOwningPlayer(N28))
        set PK4[GetPlayerId(GetOwningPlayer(oA))] = null
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEvalCount(t) > 120 then
        set PK4[GetPlayerId(GetOwningPlayer(oA))] = null
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call SetUnitScale(oA, 2.5, 2.5, 2.5)
        call KillUnit(oA)
    else
        set x = GetUnitX(oA)
        set y = GetUnitY(oA)
        set S1 = OG8()
        set H24 = g
        set PK4[16 + GetPlayerId(GetOwningPlayer(oA))] = null
        set H04 = N28
        set H64 = TA8 * 70
        call GroupEnumUnitsInRange(S1, x, y, 225 + 25, Condition(function jh))
        call ForGroup(S1, function SZ)
        call OF8(S1)
        call SetUnitX(oA, PQ8(x + 16.25 * Cos(RK * bj_DEGTORAD)))
        call SetUnitY(oA, PS8(y + 16.25 * Sin(RK * bj_DEGTORAD)))
        // if(IsUnitInForce(oA, AiForce))then
        //     if(PK4[16 + GetPlayerId(GetOwningPlayer(oA))] != null)then
        //         call IssueImmediateOrderById(Y7[GetPlayerId(GetOwningPlayer(oA))], 852185)
        //         set g_aiStatReal[512 + GetPlayerId(GetOwningPlayer(oA))] = Bz + 1.
        //     elseif((g_aiTarget[16 + GetPlayerId(GetOwningPlayer(oA))] == Y7[GetPlayerId(GetOwningPlayer(oA))])and(Z_7(Y7[GetPlayerId(GetOwningPlayer(oA))]))and(not IsUnitInRange(Y7[GetPlayerId(GetOwningPlayer(oA))], oA, 550.))and(kJ(GetUnitX(oA), GetUnitY(oA)))and(IsIdle(Y7[GetPlayerId(GetOwningPlayer(oA))])))then
        //         call IssueImmediateOrderById(Y7[GetPlayerId(GetOwningPlayer(oA))], 852185)
        //     endif
        // endif
    endif
    set t = null
    set g = null
    set S1 = null
    set oA = null
    set N28 = null
    return false
endfunction
function V8D takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = OG8()
    local unit N28 = GetTriggerUnit()
    local real x1 = GetUnitX(N28)
    local real y1 = GetUnitY(N28)
    local real x2 = GetSpellTargetX()
    local real y2 = GetSpellTargetY()
    local real RK = YI7(x1, y1, x2, y2)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0S9')
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'h06O', x1, y1, RK)
    call S68(UX, x1, y1)
    call O68(GetTriggerUnit(), 'A0SA')
    set PK4[GetPlayerId(GetOwningPlayer(N28))] = oA
    call SetUnitScale(oA, 3.5, 3.5, 3.5)
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveReal(R8, (EC8), (13), (RK))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TriggerRegisterTimerEvent(t, .025, true)
    call TriggerRegisterUnitEvent(t, oA, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function S0))
    set t = null
    set oA = null
    set g = null
    set N28 = null
endfunction
function S3 takes nothing returns nothing
    local integer i = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    if PK4[i] == null then
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n037'))
    else
        call SetUnitScale(PK4[i], 2.5, 2.5, 2.5)
        call KillUnit(PK4[i])
    endif
endfunction
function V9D takes nothing returns boolean
    if GetSpellAbilityId() == 'A0S9'then
        call V8D()
    endif
    if GetSpellAbilityId() == 'A0SA'then
        call S3()
    endif
    return false
endfunction
function fwv takes nothing returns boolean
    if GetLearnedSkill() == 'A0S9'and GetUnitAbilityLevel(GetTriggerUnit(), 'A0S9') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call O68(GetTriggerUnit(), 'A0SA')
    endif
    return false
endfunction
function FM9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V9D))
    set t = null
endfunction
function VDD takes nothing returns nothing
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, H64)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationTarget.mdx", GetEnumUnit(), "chest"))
endfunction
function VED takes nothing returns nothing
    local group g = OG8()
    local unit N28 = GetTriggerUnit()
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0SC')
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e00E', x, y, 0)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdx", x, y))
    call O68(oA, 'A0SD')
    call SetUnitAbilityLevel(oA, 'A0SD', TA8)
    call IssuePointOrderById(oA, 852592, x, y)
    set H64 = 40 + TA8 * 60
    call GroupEnumUnitsInRange(g, x, y, 425, Condition(function UC8))
    call ForGroup(g, function VDD)
    call OF8(g)
    set oA = null
    set g = null
    set N28 = null
endfunction
function VFD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0SC'then
        call VED()
    endif
    return false
endfunction
function FN9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VFD))
    set t = null
endfunction
function VGD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer ML8
    local integer VHD
    local integer VID
    if(GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER and GetIssuedOrderId() != 852514)or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SetUnitInvulnerable(N28, false)
        call UnitRemoveAbility(N28, 'A04R')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set ML8 = (LoadInteger(R8, (EC8), (5)))
        set VHD = (LoadInteger(R8, (EC8), (28))) + 1
        call SaveInteger(R8, (EC8), (28), (VHD))
        set VID = 3 * ML8
        if ML8 == 4 then
            set VID = VID + 1
        endif
        if VHD > VID or Z87(GetUnitX(N28), GetUnitY(N28), (LoadReal(R8, (EC8), (6))), (LoadReal(R8, (EC8), (7)))) > 125 then
            call SetUnitInvulnerable(N28, false)
            call UnitRemoveAbility(N28, 'A04R')
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    endif
    set t = null
    set N28 = null
    return false
endfunction
function VJD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SetUnitInvulnerable(N28, true)
    call O68(N28, 'A04R')
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(N28, 'A0SB')))
    call SaveInteger(R8, (EC8), (28), (0))
    call SaveReal(R8, (EC8), (6), (GetUnitX(N28)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(N28)))
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function VGD))
    call ASCI(N28, 4266, 5.9)
    set t = null
    set N28 = null
endfunction
function VKD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    call IssueImmediateOrderById(AM7, 852516)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set AM7 = null
    return false
endfunction
function VMD takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function VKD))
    set t = null
    set AM7 = null
endfunction
function VND takes nothing returns boolean
    if GetIssuedOrderId() == 852514 and IsUnitIllusion(GetTriggerUnit()) == false and ((LoadInteger(R8, (GetHandleId((GetTriggerUnit()))), ((4266)))) == 1) == false then
        call VJD()
    elseif GetIssuedOrderId() == 852515 then
        call VMD()
    endif
    return false
endfunction
function FO9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call AUSI(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function VND))
    set t = null
endfunction
function VOD takes unit Z77, unit target, integer TA8, integer VPD returns nothing
    if VPD == 1 then
        call V08(Z77, target, AB4, TA8 * 50 + 50)
    else
        call V08(Z77, target, AB4, TA8 * 50 + 50 + 100)
    endif
    call V18(Z77, target, .75 + .75 * TA8)
endfunction
function VRD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer VPD = (LoadInteger(R8, (EC8), (152)))
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer VSD = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(VSD)
    local lightning i7 = (LoadLightningHandle(R8, (EC8), (196)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyLightning(i7)
        call KG8(VSD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call MoveLightning(i7, false, GetUnitX(Z77), GetUnitY(Z77), GetUnitX(target), GetUnitY(target))
        if Z87(GetUnitX(Z77), GetUnitY(Z77), GetUnitX(target), GetUnitY(target)) > 600 then
            call DestroyLightning(i7)
            call KG8(VSD)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call VOD(Z77, target, TA8, VPD)
        endif
    endif
    set t = null
    set Z77 = null
    set target = null
    set i7 = null
    return false
endfunction
function VTD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local lightning i7 = AddLightning("HWPB", false, GetUnitX(EO7), GetUnitY(EO7), GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()))
    call SetLightningColor(i7, 0, .7, 1, 1)
    call SaveLightningHandle(R8, (EC8), (196), (i7))
    call SaveUnitHandle(R8, (EC8), (2), (EO7))
    call SaveInteger(R8, (EC8), (30), (KJ8(GetEnumUnit())))
    call SaveInteger(R8, (EC8), (5), (EJ7))
    call SaveInteger(R8, (EC8), (152), (EK7))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerRegisterUnitEvent(t, GetEnumUnit(), EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, EO7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function VRD))
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, EM7)
    call V18(GetTriggerUnit(), GetEnumUnit(), .5)
    set t = null
    set i7 = null
endfunction
function VUD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e00U', x, y, 0)
    local group g = OG8()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0S8')
    local real VVD = 6
    local integer VWD = 1
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1QP')
        set VVD = 8
        set VWD = 2
    endif
    call SetUnitAnimation(oA, "channel")
    call TN8(oA, VVD)
    set EO7 = oA
    set EN7 = VVD
    set EM7 = TA8 * 50 + 50
    set EJ7 = TA8
    set EK7 = VWD
    set H04 = N28
    call GroupEnumUnitsInRange(g, x, y, 400, Condition(function GenericCondition_EnemyUnitsExHeroes))
    call ForGroup(g, function VTD)
    call OF8(g)
    set g = null
    set oA = null
    set N28 = null
endfunction
function VXD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0S8' or GetSpellAbilityId() == 'A1QP' then
        call VUD()
    endif
    return false
endfunction
function FP9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VXD))
    set t = null
endfunction
function VYD takes nothing returns boolean
    return GetSpellAbilityId() == 'A21E'
endfunction
function VZD takes nothing returns nothing
    call SetUnitX(GetEnumUnit(), XX4)
    call SetUnitY(GetEnumUnit(), XY4)
endfunction
function VAD takes nothing returns nothing
    local integer FKD
    local integer VBD
    local fogmodifier VCD
    local unit AC7 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local location V3D
    local location l
    local real x
    local real y
    local group g = OG8()
    if X77 == null then
        set V3D = GetSpellTargetLoc()
    else
        set V3D = GetUnitLoc(X77)
    endif
    set x = GetLocationX(V3D)
    set y = GetLocationY(V3D)
    set XX4 = x
    set XY4 = y
    if IsUnitAlly(AC7, GetOwningPlayer(X77)) or OE8(GetSpellTargetUnit()) == false then
        set H04 = AC7
        call GroupEnumUnitsInRange(g, x, y, 150, Condition(function GenericCondition_EnemyUnitsEx))
        call TF8(CreateFogModifierRadiusLocBJ(true, GetOwningPlayer(AC7), FOG_OF_WAR_VISIBLE, V3D, 1000.), 2.0 + 1.0 * GetUnitAbilityLevel(AC7, 'A21E'))
        set FKD = 1
        set VBD = 8
        loop
            exitwhen FKD > VBD
            set l = ZP7(V3D, 150., (I2R(FKD) * 45.))
            call TI8(CreateDestructableLoc('B005', l, GetRandomReal(0, 360), 1, 0), 2.0 + 1.0 * GetUnitAbilityLevel(AC7, 'A21E'))
            // call DZ8(GetHandleId(AC7), "AI|SproutTree" + I2S(FKD), bj_lastCreatedDestructable)
            set FKD = FKD + 1
            call RemoveLocation(l)
        endloop
        set l = null
    endif
    call RemoveLocation(V3D)
    call ForGroup(g, function VZD)
    call OF8(g)
    set VCD = null
    set AC7 = null
    set X77 = null
    set V3D = null
    set g = null
endfunction
function V6D takes nothing returns nothing
    if GetSpellAbilityId() == 'A21E' and IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139)))then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
    endif
endfunction
function AE8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VYD))
    call TriggerAddAction(t, function VAD)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddAction(t, function V6D)
    set t = null
endfunction
function VLD takes nothing returns boolean
    return GetSpellAbilityId() == 'A01O'
endfunction
function V1D takes nothing returns nothing
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(GetTriggerUnit()))then
        call PingMinimapEx(x, y, 3, 255, 255, 255, false)
    endif
    call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx", x, y))
    call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
endfunction
function AF8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call TriggerAddCondition(t, Condition(function VLD))
    call TriggerAddAction(t, function V1D)
    set t = null
endfunction
function V0D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer NZ8 = GetHandleId(t)
    local integer ZK7 = (LoadInteger(R8, (NZ8), (5)))
    local unit V5D = (LoadUnitHandle(R8, (NZ8), (17)))
    local integer V2D = N_8(V5D)
    local real Z77 = GetUnitState(V5D, UNIT_STATE_LIFE)
    local real V_D = GetUnitState(V5D, UNIT_STATE_MAX_LIFE)
    local real W4D
    if Z77 / V_D > .4 then
        set W4D = I2R(ZK7) / 4 * .2 * V2D + 10
    else
        set W4D = .2 * ZK7 * V2D + 10
    endif
    set W4D = W4D / 8.
    if GetTriggerEvalCount(t) > 16 * 8. then
        call DestroyEffect((LoadEffectHandle(R8, (NZ8), (31))))
        call UnitRemoveAbility(V5D, 'A0QO')
        call FlushChildHashtable(R8, (NZ8))
        call EA8(t)
    else
        call SetUnitState(V5D, UNIT_STATE_LIFE, Z77 + W4D)
    endif
    set V5D = null
    set t = null
    return false
endfunction
function W7D takes nothing returns nothing
    local unit V5D = GetSpellTargetUnit()
    local unit W8D = GetTriggerUnit()
    local integer ZK7 = GetUnitAbilityLevel(W8D, 'A0QP')
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1 / 8., true)
    call TriggerAddCondition(t, Condition(function V0D))
    call SaveInteger(R8, (NZ8), (5), (ZK7))
    call SaveUnitHandle(R8, (NZ8), (17), (V5D))
    call SaveEffectHandle(R8, (NZ8), (31), (AddSpecialEffectTarget("InnerVitality.mdx", V5D, "chest")))
    call O68(V5D, 'A0QO')
    call SetUnitAbilityLevel(V5D, 'A0QO', ZK7)
    set V5D = null
    set W8D = null
    set t = null
endfunction
function W9D takes nothing returns boolean
    if GetSpellAbilityId() == 'A0QP'then
        call W7D()
    endif
    return false
endfunction
function EW9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W9D))
    set t = null
endfunction
function WDD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(V_8)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEvalCount(t) > 8 or O18(target)then
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (31)))
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call V08(p5, target, AB4, 5 * GetUnitAbilityLevel(p5, 'A0QN'))
    endif
    set t = null
    set target = null
    set p5 = null
    return false
endfunction
function WGD takes unit p5, unit target returns nothing
    local trigger t = CreateTrigger()
    local integer WED = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function WDD))
    call SaveUnitHandle(R8, (WED), (2), (p5))
    call SaveInteger(R8, (WED), (30), (KJ8(target)))
    call SaveEffectHandle(R8, (WED), (31), (AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl", target, "chest")))
    set t = null
endfunction
function WID takes nothing returns boolean
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B081') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A0QN') > 0 and(LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2))) == GetEventDamageSource()then
        call UnitRemoveAbility(GetTriggerUnit(), 'B081')
        call SetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE, RMaxBJ(GetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE) - 15, 1))
        call WGD(GetEventDamageSource(), GetTriggerUnit())
    endif
    return false
endfunction
function WND takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function WID))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
    set t = null
endfunction
function WOD takes nothing returns boolean
    if GetLearnedSkill() == 'A0QN' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0QN') == 1 then
        call WND()
    endif
    return false
endfunction
function EX9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function WOD))
    set t = null
endfunction
function WPD takes unit N28, integer WQD returns nothing
    local integer i = 0
    loop
        exitwhen i > 24
        if i != WQD / 4 and GetUnitAbilityLevel(N28, SY4[i]) > 0 then
            call UnitRemoveAbility(N28, SY4[i])
        endif
        set i = i + 1
    endloop
    if GetUnitAbilityLevel(N28, SY4[WQD / 4]) == 0 then
        call O68(N28, SY4[WQD / 4])
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), SY4[WQD / 4], false)
    endif
endfunction
function WRD takes nothing returns boolean
    local integer EC8 = GetHandleId(GetTriggeringTrigger())
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real WSD = GetUnitState(N28, UNIT_STATE_LIFE)
    local real MaxHealth = GetUnitState(N28, UNIT_STATE_MAX_LIFE)
    local real WTD
    local real WUD
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0QQ')
    local boolean WVD = (LoadBoolean(R8, (EC8), (319)))
    if IsUnitType(N28, UNIT_TYPE_HERO) == true and TA8 > 0 then
        set WTD = 100 * GetUnitState(N28, UNIT_STATE_LIFE) / GetUnitState(N28, UNIT_STATE_MAX_LIFE)
        set WUD = 100. - RMaxBJ(WTD, 10.)
        if O18(N28) == false then
            if IsBroken(N28) then
                set WUD = 0.
            endif
            call WE8(N28, R2I((12 + TA8 * 2) * WUD / 7.))
            call WPD(N28, R2I((10. + 10. * TA8) * WUD / 90.))
            if WTD < 40. then
                if WVD == false then
                    call SaveBoolean(R8, (EC8), (319), (true))
                    call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl", N28, "left weapon")))
                    call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffectTarget("effects\\HeadhunterWEAPONSRight_NoSound.mdx", N28, "right weapon")))
                endif
            else
                if WVD == true then
                    call SaveBoolean(R8, (EC8), (319), (false))
                    call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
                    call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
                endif
            endif
        endif
    endif
    set N28 = null
    return false
endfunction
function WWD takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function WRD))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (GetTriggerUnit()))
    call SaveBoolean(R8, (GetHandleId(t)), (319), (false))
    set t = null
endfunction
function WXD takes nothing returns boolean
    if GetLearnedSkill() == 'A0QQ'and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0QQ') == 1 then
        call WWD()
    endif
    return false
endfunction
function EY9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function WXD))
    set SY4[1] = 'A2PM'
    set SY4[2] = 'A2PN'
    set SY4[3] = 'A2PO'
    set SY4[4] = 'A2PP'
    set SY4[5] = 'A2PQ'
    set SY4[6] = 'A2PJ'
    set SY4[7] = 'A2PR'
    set SY4[8] = 'A2PI'
    set SY4[9] = 'A2PL'
    set SY4[10] = 'A2PT'
    set SY4[11] = 'A2Q1'
    set SY4[12] = 'A2PU'
    set SY4[13] = 'A2PH'
    set SY4[14] = 'A2PV'
    set SY4[15] = 'A2PW'
    set SY4[16] = 'A2PX'
    set SY4[17] = 'A2PY'
    set SY4[18] = 'A2PZ'
    set SY4[19] = 'A2Q0'
    set SY4[20] = 'A2PK'
    set SY4[21] = 'A2PS'
    set SY4[22] = 'A2TA'
    set SY4[23] = 'A2TB'
    set SY4[24] = 'A2TC'
    set t = null
endfunction
function WrathOfNatureAghanim takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AC7 = LoadUnitHandle(R8, (EC8), (19))
    local unit Z77 = GetTriggerUnit()
    local unit u
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        if GetEventDamageSource() == AC7 and O18(Z77) == false then
            set AC7 = CreateUnit(GetOwningPlayer(AC7), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
            call O68(AC7, 'A3IT')
            if IsUnitType(Z77, UNIT_TYPE_HERO) then
                call SetUnitAbilityLevel(AC7, 'A3IT', 2)
            endif
            call IssueTargetOrder(AC7, "parasite", Z77)
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_DEATH then
        if GetKillingUnit() == AC7 then
            if IsUnitType(Z77, UNIT_TYPE_HERO) and IsUnitIllusion(Z77) == false then
                set u = CreateUnit(GetOwningPlayer(AC7), 'efo2', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
            else
                set u = CreateUnit(GetOwningPlayer(AC7), 'efon', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
            endif
            call UnitApplyTimedLife(u, 'BEfn', 60.)
            set u = null
        endif
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set AC7 = null
    set Z77 = null
endfunction
function WYD takes nothing returns nothing
    local unit Z77 = GetEnumUnit()
    local real l4 = Z87(GetUnitX(Z77), GetUnitY(Z77), XU4, XV4)
    if l4 < XT4 and IsUnitVisible(Z77, GetOwningPlayer(XW4)) then
        set XS4 = GetEnumUnit()
        set XT4 = l4
    endif
    set Z77 = null
endfunction
function WZD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer EC8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A1W8')
    local integer OUD = 'A07X'
    local group g
    local unit q5
    local trigger t
    if EC8 == 0 then
        set EC8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A1W9')
        set OUD = 'A0AL'
    endif
    if target == null then
        set XS4 = null
        set XW4 = Z77
        set XT4 = 999999
        set XU4 = GetSpellTargetX()
        set XV4 = GetSpellTargetY()
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function WYD)
        call OF8(g)
        set target = XS4
        set g = null
    endif
    if target != null then
        set q5 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        if OUD == 'A0AL' then
            set t = CreateTrigger()
            call SaveUnitHandle(R8, GetHandleId(t), (19), (q5))
            call TriggerRegisterTimerEvent(t, 8., false)
            call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
            call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
            call TriggerAddAction(t, function WrathOfNatureAghanim)
        endif
        call O68(q5, OUD)
        call SetUnitAbilityLevel(q5, OUD, EC8)
        call IssueTargetOrderById(q5, 852119, target)
        set q5 = null
    endif
    set Z77 = null
    set target = null
    set t = null
endfunction
function WAD takes nothing returns boolean
    if GetSpellAbilityId() == 'A1W8' or GetSpellAbilityId() == 'A1W9' then
        call WZD()
    endif
    return false
endfunction
function AG8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WAD))
    set t = null
endfunction
function WBD takes unit p5, unit target returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A0QR')
    local real R2D = 0.35
    local real WCD = 0.35
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(p5, 'A1B3')
        set WCD = 0.65
    endif
    call O68(oA, 'A0QU')
    call SetUnitAbilityLevel(oA, 'A0QU', TA8)
    call IssueTargetOrder(oA, "slow", target)
    call V08(p5, p5, 1, GetUnitState(p5, UNIT_STATE_LIFE) * R2D)
    call V08(p5, target, 1, GetUnitState(target, UNIT_STATE_LIFE) * WCD)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", p5, "chest"))
    call DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx", target, "chest"))
    set p5 = null
    set target = null
    set oA = null
endfunction
function W3D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real PND = (LoadReal(R8, (EC8), (23)))
    local real POD = (LoadReal(R8, (EC8), (24)))
    local real x
    local real y
    local real PPD = GetUnitX(p5)
    local real PQD = GetUnitY(p5)
    local real BM7 = GetUnitX(target)
    local real BN7 = GetUnitY(target)
    local real CV7 = Atan2(BN7 - PQD, BM7 - PPD)
    if GetUnitTypeId(p5) == 'E02X' then
        call SetUnitAnimationByIndex(p5, 1)
    else
        call SetUnitAnimationByIndex(p5, 17)
    endif
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or Z87(PND, POD, BM7, BN7) > 1400 or S69(p5)then
        call SetUnitPathing(p5, true)
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (175)))
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (176)))
        call UnitRemoveAbility(p5, 'A0ST')
        call SetUnitTimeScale(p5, 1.0)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif Z87(PPD, PQD, BM7, BN7) < 125 then
        call SetUnitPathing(p5, true)
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (175)))
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (176)))
        call UnitRemoveAbility(p5, 'A0ST')
        call SetUnitTimeScale(p5, 1.0)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        if target != null and O18(target) == false then
            call IssueTargetOrder(p5, "attack", target)
            call WBD(p5, target)
        endif
    else
        call SetUnitPathing(p5, false)
        set PND = BM7
        set POD = BN7
        call SaveReal(R8, (EC8), (23), (PND))
        call SaveReal(R8, (EC8), (24), (POD))
        set x = PPD + 15 * Cos(CV7)
        set y = PQD + 15 * Sin(CV7)
        call SetUnitPosition(p5, x, y)
        call SetUnitFacing(p5, CV7 * bj_RADTODEG)
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function W6D takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.015, true)
    call TriggerRegisterDeathEvent(t, p5)
    call TriggerAddCondition(t, Condition(function W3D))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (23), (GetUnitX(target)))
    call SaveReal(R8, (EC8), (24), (GetUnitY(target)))
    call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx", p5, "hand right alternate")))
    call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx", p5, "hand left alternate")))
    call SetUnitPathing(p5, false)
    call O68(p5, 'A0ST')
    call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A0ST', false)
    call SetUnitAnimationByIndex(p5, 17)
    call SetUnitTimeScale(p5, 3.0)
    set p5 = null
    set target = null
    set t = null
endfunction
function WLD takes nothing returns boolean
    if(GetSpellAbilityId() == 'A0QR' or GetSpellAbilityId() == 'A1B3')and OE8(GetSpellTargetUnit()) == false then
        call W6D()
    endif
    return false
endfunction
function EZ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WLD))
    call PU8('A0QU')
    set t = null
endfunction
function W1D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    if GetTriggerEvalCount(t) > 10 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call UnitRemoveAbility(target, 'A1G5')
        call UnitRemoveAbility(target, 'A1G3')
        call UnitRemoveAbility(target, 'A1G6')
        call UnitRemoveAbility(target, 'A1G4')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call V08(Z77, target, 1, (TA8 * 4 + 8) / 2)
    endif
    set t = null
    set Z77 = null
    set target = null
    return false
endfunction
function W0D takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = FN
    local unit Z77 = fN
    local unit m5 = GetEnumUnit()
    if TA8 == 1 then
        call O68(m5, 'A1G5')
        call SetPlayerAbilityAvailable(GetOwningPlayer(m5), 'A1G5', false)
    elseif TA8 == 2 then
        call O68(m5, 'A1G3')
        call SetPlayerAbilityAvailable(GetOwningPlayer(m5), 'A1G3', false)
    elseif TA8 == 3 then
        call O68(m5, 'A1G6')
        call SetPlayerAbilityAvailable(GetOwningPlayer(m5), 'A1G6', false)
    elseif TA8 == 4 then
        call O68(m5, 'A1G4')
        call SetPlayerAbilityAvailable(GetOwningPlayer(m5), 'A1G4', false)
    endif
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl", m5, "chest")))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (17), (m5))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function W1D))
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", GetUnitX(m5), GetUnitY(m5)))
    set t = null
    set Z77 = null
    set m5 = null
endfunction
function W5D takes unit p5, unit m5 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2VO')
    local real x = GetUnitX(m5)
    local real y = GetUnitY(m5)
    local group g = OG8()
    local group g2 = OG8()
    set FN = TA8
    set fN = p5
    set H04 = p5
    call GroupEnumUnitsInRange(g, x, y, 300 + 25, Condition(function VP8))
    call GroupEnumUnitsInRange(g2, x, y, 300 + 25, Condition(function UY8))
    call BlzGroupAddGroupFast(g2, g)
    call ForGroup(g, function W0D)
    call OF8(g)
    call OF8(g2)
    set t = null
    set g = null
    set g2 = null
endfunction
function W2D takes nothing returns boolean
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B0GX') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A2UM') > 0 and(LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2))) == GetEventDamageSource()then
        call UnitRemoveAbility(GetTriggerUnit(), 'B0GX')
        call W5D(GetEventDamageSource(), GetTriggerUnit())
    endif
    return false
endfunction
function X4D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    call IssueImmediateOrder(p5, "unpoisonarrows")
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    return false
endfunction
function X7D takes nothing returns boolean
    local unit p5 = GetTriggerUnit()
    local trigger t
    if GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if GetIssuedOrderId() == OrderId("poisonarrows")then
            set t = CreateTrigger()
            call SaveUnitHandle(R8, (GetHandleId(t)), (2), (p5))
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function X4D))
            set t = null
        endif
    endif
    set p5 = null
    return false
endfunction
function X8D takes nothing returns nothing
    local trigger t
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A2VO') == 1 then
        set t = CreateTrigger()
        call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_SPELL_EFFECT)
        call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_ISSUED_ORDER)
        call TriggerAddCondition(t, Condition(function X7D))
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function W2D))
        call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
        set t = null
    endif
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A2UM') == 0 then
        call O68(GetTriggerUnit(), 'A2UM')
    endif
    call SetUnitAbilityLevel(GetTriggerUnit(), 'A2UM', GetUnitAbilityLevel(GetTriggerUnit(), 'A2VO'))
endfunction
function X9D takes nothing returns boolean
    if GetLearnedSkill() == 'A2VO' and IsUnitIllusion(GetTriggerUnit()) == false then
        call X8D()
    endif
    return false
endfunction
function ZH8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function X9D))
    set t = null
endfunction
function XDD takes real x1, real y1, real x2, real y2, real x3, real y3, real x, real y returns boolean
    local real XED = (y - y1) * (x2 - x1) - (x - x1) * (y2 - y1)
    local real XFD = (y - y3) * (x1 - x3) - (x - x3) * (y1 - y3)
    local real XGD = (y - y2) * (x3 - x2) - (x - x2) * (y3 - y2)
    return(XED * XFD > 0)and(XGD * XFD > 0)
endfunction
function XHD takes nothing returns boolean
    local real XID = H64
    local real XJD = HL4
    local real XKD = H14
    local real XMD = Zl
    local real XND = vL
    local real XOD = eL
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and XDD(XID, XJD, XKD, XMD, XND, XOD, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
endfunction
function XPD takes real XQD, real XED, real XFD returns nothing
    local real XGD = 600
    local real XRD = 200
    local real XSD = 250
    local real XTD = Asin((XSD - XRD) / XGD)
    local real x = XRD / Sin(XTD)
    local real y = (XGD + XSD + x) * Tan(XTD)
    local real XID = XED + x * Cos((XQD - 180) * bj_DEGTORAD)
    local real XJD = XFD + x * Sin((XQD - 180) * bj_DEGTORAD)
    local real XKD = (XED + (XGD + XSD) * Cos(XQD * bj_DEGTORAD)) + y * Cos((XQD - 90) * bj_DEGTORAD)
    local real XMD = (XFD + (XGD + XSD) * Sin(XQD * bj_DEGTORAD)) + y * Sin((XQD - 90) * bj_DEGTORAD)
    local real XND = (XED + (XGD + XSD) * Cos(XQD * bj_DEGTORAD)) + y * Cos((XQD + 90) * bj_DEGTORAD)
    local real XOD = (XFD + (XGD + XSD) * Sin(XQD * bj_DEGTORAD)) + y * Sin((XQD + 90) * bj_DEGTORAD)
    set H64 = XID
    set HL4 = XJD
    set H14 = XKD
    set Zl = XMD
    set vL = XND
    set eL = XOD
endfunction
function XUD takes nothing returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call O68(AC7, 'A2ZE')
    call SetUnitAbilityLevel(AC7, 'A2ZE', GetUnitAbilityLevel(GetTriggerUnit(), 'A0O7'))
    call IssueTargetOrderById(AC7, 852075, GetEnumUnit())
    set AC7 = null
endfunction
function XVD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local real Y5 = (LoadReal(R8, (EC8), (47)))
    local real Z5 = (LoadReal(R8, (EC8), (48)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit AC7
    if GetTriggerEvalCount(t) > 1 then
        call SetUnitAnimation(N28, "stand")
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SetUnitAnimation(N28, "spell")
        set AC7 = CreateUnit(p, 'e00E', x, y, 0)
        call O68(AC7, 'A0OC')
        call SetUnitAbilityLevel(AC7, 'A0OC', TA8)
        call IssuePointOrderById(AC7, 852560, Y5, Z5)
    endif
    set t = null
    set p = null
    set N28 = null
    set AC7 = null
    return false
endfunction
function XWD takes unit u, player p, integer TA8, location l, real x, real y returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SavePlayerHandle(R8, (EC8), (54), (p))
    call SaveReal(R8, (EC8), (6), ((x)))
    call SaveReal(R8, (EC8), (7), ((y)))
    call SaveReal(R8, (EC8), (47), ((GetLocationX(l))))
    call SaveReal(R8, (EC8), (48), ((GetLocationY(l))))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveUnitHandle(R8, (EC8), (14), (u))
    call TriggerRegisterTimerEvent(t, .3, true)
    call TriggerAddCondition(t, Condition(function XVD))
    set t = null
endfunction
function XXD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0O7')
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local location l
    local unit AC7
    local group g = OG8()
    if GetSpellTargetUnit() == null then
        set l = GetSpellTargetLoc()
    else
        set l = GetUnitLoc(GetSpellTargetUnit())
    endif
    call XPD(bj_RADTODEG * Atan2(GetLocationY(l) - y, GetLocationX(l) - x), x, y)
    call GroupEnumUnitsInRange(g, x, y, 2000, Condition(function XHD))
    call ForGroup(g, function XUD)
    call OF8(g)
    set AC7 = CreateUnit(GetOwningPlayer(N28), 'e00E', x, y, 0)
    call O68(AC7, 'A0OB')
    call SetUnitAbilityLevel(AC7, 'A0OB', TA8)
    call IssuePointOrderById(AC7, 852580, GetLocationX(l), GetLocationY(l))
    call XWD(N28, GetOwningPlayer(N28), TA8, l, x + 50 * Cos(Atan2(GetLocationY(l) - y, GetLocationX(l) - x)), y + 50 * Sin(Atan2(GetLocationY(l) - y, GetLocationX(l) - x)))
    call RemoveLocation(l)
    set N28 = null
    set l = null
    set g = null
    set AC7 = null
endfunction
function XYD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0O7' then
        call XXD()
    endif
    return false
endfunction
function ZG8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XYD))
    call PU8('A0OB')
    call PU8('A0OC')
    call PU8('A2ZE')
    set t = null
endfunction
function XZD takes nothing returns nothing
    local unit Z77 = J07
    local unit X77 = GetEnumUnit()
    if IsUnitInGroup(X77, J17) == false then
        call GroupAddUnit(J17, X77)
        call V18(Z77, X77, J57)
        call V08(Z77, X77, AB4, 50)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl", GetUnitX(X77), GetUnitY(X77)))
    endif
    set Z77 = null
    set X77 = null
endfunction
function XBD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local real x0 = (LoadReal(R8, (W57), (6)))
    local real y0 = (LoadReal(R8, (W57), (7)))
    local real a = (LoadReal(R8, (W57), (137)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer C77 = GetTriggerEvalCount(t)
    local real x
    local real y
    local group g
    local integer i
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0O6')
    set i = 0
    loop
        exitwhen i > 10
        set x = x0 + 120 * i * Cos(a * bj_DEGTORAD)
        set y = y0 + 120 * i * Sin(a * bj_DEGTORAD)
        set H04 = Z77
        set J07 = Z77
        set J17 = XCD
        set J57 = (.6 + .4 * ML8) - (C77 * .05)
        set J27 = ML8
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 150 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function XZD)
        call OF8(g)
        set i = i + 1
    endloop
    if C77 == 20 * (.6 + .4 * ML8)then
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set g = null
    set XCD = null
    return false
endfunction
function X3D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local real x0 = (LoadReal(R8, (W57), (6)))
    local real y0 = (LoadReal(R8, (W57), (7)))
    local real a = (LoadReal(R8, (W57), (137)))
    local integer C77 = GetTriggerEvalCount(t)
    local real x = x0 + 120 * C77 * Cos(a * bj_DEGTORAD)
    local real y = y0 + 120 * C77 * Sin(a * bj_DEGTORAD)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0O6')
    local ubersplat GRD
    local integer i
    if C77 < 10 then
        call SaveEffectHandle(R8, (W57), (609 + C77), (AddSpecialEffect("effects\\IcePath.mdx", x, y)))
        set GRD = CreateUbersplat(x, y, "IPTH", 255, 255, 255, 255, false, false)
        call SetUbersplatRenderAlways(GRD, true)
        call SaveUbersplatHandle(R8, (W57), (760 + C77), (GRD))
    endif
    if C77 == 10 then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .05, true)
        call TriggerAddCondition(t, Condition(function XBD))
        call SaveReal(R8, (W57), (6), (x0))
        call SaveReal(R8, (W57), (7), (y0))
        call SaveReal(R8, (W57), (137), (a))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveGroupHandle(R8, (W57), (187), (OG8()))
        call TriggerEvaluate(t)
    elseif C77 >= (1. + .4 * ML8) / .05 then
        set i = 0
        loop
            exitwhen i == 10
            call DestroyEffect((LoadEffectHandle(R8, (W57), (609 + i))))
            call DestroyUbersplat((LoadUbersplatHandle(R8, (W57), (760 + i))))
            set i = i + 1
        endloop
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function X6D takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local real a = YI7(x, y, GetSpellTargetX(), GetSpellTargetY())
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerAddCondition(t, Condition(function X3D))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    call SaveReal(R8, (W57), (137), (a))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call TriggerEvaluate(t)
    set t = null
    set Z77 = null
endfunction
function XLD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0O6' then
        call X6D()
    endif
    return false
endfunction
function ZI8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XLD))
    set t = null
endfunction
function X1D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer id = GetPlayerId(GetOwningPlayer(Z77))
    local integer P89 = GetTriggerEvalCount(t)
    local real X0D = x + 150 * P89 * Cos(a)
    local real X5D = y + 150 * P89 * Sin(a)
    local integer X2D = 6
    if GetUnitAbilityLevel(Z77, 'A0O5') == 0 then
        set X2D = 11
    endif
    if GetPlayerController(GetOwningPlayer(SZ4[id])) == MAP_CONTROL_COMPUTER then
        call UnitAddAbility(SZ4[id], 'A0OE')
        call SetUnitAbilityLevel(SZ4[id], 'A0OE', TA8)
    endif
    call IssuePointOrderById(SZ4[id], 852488, X0D, X5D)
    if P89 == (X2D)then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call SetUnitAnimation(Z77, "stand")
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function X_D takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = Atan2(y - GetUnitY(Z77), x - GetUnitX(Z77))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0O5')
    local integer abl_id = 'A0OE'
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(Z77, 'A1B1')
        set abl_id = 'A1B2'
    endif
    call SetUnitAnimation(Z77, "spell")
    set SZ4[GetPlayerId(GetOwningPlayer(Z77))] = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    call O68(SZ4[GetPlayerId(GetOwningPlayer(Z77))], abl_id)
    call SetUnitAbilityLevel(SZ4[GetPlayerId(GetOwningPlayer(Z77))], abl_id, TA8)
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (6), (GetUnitX(Z77)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(Z77)))
    call SaveReal(R8, (EC8), (137), ((a)))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    if abl_id == 'A0OE' then
        call TriggerRegisterTimerEvent(t, .1, true)
    else
        call TriggerRegisterTimerEvent(t, .05, true)
    endif
    call TriggerAddCondition(t, Condition(function X1D))
    set t = null
    set Z77 = null
endfunction
function Y4D takes nothing returns boolean
    if GetSpellAbilityId() == 'A0O5' or GetSpellAbilityId() == 'A1B1' then
        call X_D()
    endif
    return false
endfunction
function ZJ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Y4D))
    call PU8('A0OE')
    set t = null
endfunction
function Y7D takes nothing returns boolean
    return GetUnitTypeId(GetSummonedUnit()) == 'o00C' or GetUnitTypeId(GetSummonedUnit()) == 'o01G' or GetUnitTypeId(GetSummonedUnit()) == 'o01H' or GetUnitTypeId(GetSummonedUnit()) == 'o01I'
endfunction
function Y8D takes nothing returns nothing
    call SetUnitAbilityLevel(GetSummonedUnit(), 'A058', GetUnitAbilityLevel(GetSummoningUnit(), 'A047'))
endfunction
function AH8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function Y7D))
    call TriggerAddAction(t, function Y8D)
    set t = null
endfunction
function Y9D takes unit N28, unit target returns nothing
    local real a = GetRandomReal(0, 360)
    local real x = GetUnitX(target) + 50 * Cos(a * bj_DEGTORAD)
    local real y = GetUnitY(target) + 50 * Sin(a * bj_DEGTORAD)
    local real Q_8 = GetRandomReal(200, 225)
    if((LoadInteger(R8, (GetHandleId(N28)), (4256))) == 1) == false then
        call SetUnitPosition(N28, x, y)
    else
        call SetUnitX(N28, x)
        call SetUnitY(N28, y)
    endif
    call SetUnitFacing(N28, bj_RADTODEG * Atan2(GetUnitY(target) - GetUnitY(N28), GetUnitX(target) - GetUnitX(N28)))
    call SetUnitAnimation(N28, "Attack")
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", N28, "chest"))
    if KP8(GetOwningPlayer(target)) == false and IsUnitType(target, UNIT_TYPE_ANCIENT) == false then
        set Q_8 = 99999
    endif
    call V08(N28, target, AC4, Q_8)
    if((LoadInteger(R8, (GetHandleId(N28)), (4256))) == 1) == false then
        call IssueTargetOrder(N28, "attack", target)
    endif
endfunction
function YDD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    call Y9D(N28, target)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    set target = null
    return false
endfunction
function YED takes unit AM7 returns nothing
    local group g = OG8()
    set H04 = AM7
    call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 450, Condition(function UU8))
    set H04 = GroupPickRandomUnit(g)
    if H04 != null then
        call Y9D(AM7, H04)
    endif
    call OF8(g)
    set g = null
endfunction
function YFD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local integer Tq = (LoadInteger(R8, (EC8), (216)))
    local integer TQ = (LoadInteger(R8, (EC8), (325)))
    local integer Rd = (LoadInteger(R8, (EC8), (28)))
    local unit Tr
    if Rd > Tq then
        call KillUnit(AC7)
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A05G', true)
        call SetUnitPathing(N28, true)
        call SetUnitInvulnerable(N28, false)
        call SaveInteger(R8, (GetHandleId((N28))), ((4253)), (2))
        call SetUnitVertexColor(N28, 255, 255, 255, 255)
    else
        call SaveInteger(R8, (EC8), (28), (Rd + 1))
        call YED(N28)
        if H04 == null then
            call KillUnit(AC7)
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A05G', true)
            call SetUnitPathing(N28, true)
            call SetUnitInvulnerable(N28, false)
            call SaveInteger(R8, (GetHandleId((N28))), ((4253)), (2))
            call SetUnitVertexColor(N28, 255, 255, 255, 255)
        endif
    endif
    set t = null
    set N28 = null
    set Tr = null
    set AC7 = null
    return false
endfunction
function YGD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0M1')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TQ = GetUnitAbilityLevel(N28, 'A05G')
    local player p = GetOwningPlayer(N28)
    local integer H28 = 3
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'o00D', GetUnitX(N28), GetUnitY(N28), 0)
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1AX')
        if TA8 == 1 then
            set H28 = 6
        elseif TA8 == 2 then
            set H28 = 9
        elseif TA8 == 3 then
            set H28 = 12
        endif
    elseif TA8 == 2 then
        set H28 = 6
    elseif TA8 == 3 then
        set H28 = 9
    endif
    call SetPlayerAbilityAvailable(p, 'A05G', false)
    call SetUnitVertexColor(N28, 255, 255, 255, 125)
    call SetUnitPathing(N28, false)
    call SetUnitInvulnerable(N28, true)
    call SaveInteger(R8, (GetHandleId((N28))), ((4253)), (1))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function YDD))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveInteger(R8, (EC8), (216), (H28))
    call SaveInteger(R8, (EC8), (325), (TQ))
    call SaveInteger(R8, (EC8), (28), (2))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl", N28, "weapon")))
    call TriggerRegisterTimerEvent(t, .4, true)
    call TriggerAddCondition(t, Condition(function YFD))
    set N28 = null
    set target = null
    set AC7 = null
    set t = null
    set p = null
endfunction
function YHD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0M1' or GetSpellAbilityId() == 'A1AX' then
        call YGD()
    endif
    return false
endfunction
function YID takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call SetUnitAnimationByIndex(Z77, 4)
    set t = null
    set Z77 = null
    return false
endfunction
function YJD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerAddCondition(t, Condition(function YID))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function YKD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0M1' or GetSpellAbilityId() == 'A1AX' then
        call YJD()
    endif
    return false
endfunction
function AI8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YHD))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function YKD))
    set t = null
endfunction
function YMD takes integer TA8 returns integer
    if TA8 == 1 then
        return 'A10Z'
    elseif TA8 == 2 then
        return 'A111'
    elseif TA8 == 3 then
        return 'A10Y'
    elseif TA8 == 4 then
        return 'A110'
    endif
    return 0
endfunction
function YND takes integer TA8 returns integer
    if TA8 == 1 then
        return 'B09M'
    elseif TA8 == 2 then
        return 'B09N'
    elseif TA8 == 3 then
        return 'B09O'
    elseif TA8 == 4 then
        return 'B09L'
    endif
    return 0
endfunction
function YOD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real PND = (LoadReal(R8, (EC8), (23)))
    local real POD = (LoadReal(R8, (EC8), (24)))
    local real x = GetUnitX(target)
    local real y = GetUnitY(target)
    local real d = SquareRoot((PND - x) * (PND - x) + (POD - y) * (POD - y))
    local real vB = (0.00050) * d * GetUnitState(target, UNIT_STATE_MAX_MANA)
    local integer QI = GetTriggerEvalCount(t)
    if GU8(target) == true then
        set vB = 0
    endif
    if d > 300 then
        set vB = 0
    endif
    if vB > 1 and ModuloInteger(GetTriggerEvalCount(t), 3) == 0 then
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl", target, "chest"))
    endif
    if vB > 0 then
        call SetUnitState(target, UNIT_STATE_MANA, GetUnitState(target, UNIT_STATE_MANA) - vB)
    endif
    call SaveReal(R8, (EC8), (23), ((x)))
    call SaveReal(R8, (EC8), (24), ((y)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or QI == (TA8 + 4) * 10 then
        call UnitRemoveAbility(target, YMD(TA8))
        call UnitRemoveAbility(target, YND(TA8))
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetUnitState(target, UNIT_STATE_MANA) < 1 then
        call V18((LoadUnitHandle(R8, (EC8), (2))), target, 1 + 0.5 * TA8)
        call UnitRemoveAbility(target, YMD(TA8))
        call UnitRemoveAbility(target, YND(TA8))
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set target = null
    return false
endfunction
function YPD takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A10X')
    call O68(target, YMD(TA8))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (23), ((GetUnitX(target))))
    call SaveReal(R8, (EC8), (24), ((GetUnitY(target))))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx", target, "chest")))
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function YOD))
    set p5 = null
    set target = null
    set t = null
endfunction
function YQD takes nothing returns boolean
    if GetSpellAbilityId() == 'A10X' and OE8(GetSpellTargetUnit()) == false then
        call YPD()
    endif
    return false
endfunction
function AK8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YQD))
    set t = null
endfunction
function YRD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer id
    call SetUnitState(target, UNIT_STATE_MANA, GetUnitState(target, UNIT_STATE_MANA) + 75 * TA8)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl", target, "origin"))
    if TA8 == 1 then
        set id = 'A3DV'
    elseif TA8 == 2 then
        set id = 'A3DW'
    elseif TA8 == 3 then
        set id = 'A3DX'
    elseif TA8 == 4 then
        set id = 'A3DY'
    endif
    call TZ8(target, id, 1, 15.)
    call T68(target, 'A3DU', TA8, 15., 'B3DU')
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set target = null
    set t = null
    return false
endfunction
function YSD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(N28, 'A112')))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function YRD))
    set t = null
    set N28 = null
    set target = null
endfunction
function YTD takes nothing returns boolean
    if GetSpellAbilityId() == 'A112' then
        call YSD()
    endif
    return false
endfunction
function AM8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YTD))
    set t = null
endfunction
function AWB3 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + H64)
    endif
endfunction
function AWC3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real CV7 = (LoadReal(R8, (EC8), (13)))
    local group XS8
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer C77 = GetTriggerEvalCount(t)
    local real ADX1 = 1050 * .1
    if C77 > 19 then
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set x = x + C77 * ADX1 * Cos(CV7 * bj_DEGTORAD)
        set y = y + C77 * ADX1 * Sin(CV7 * bj_DEGTORAD)
        set XS8 = OG8()
        set H24 = g
        set H04 = p5
        set H64 = (50 * TA8)
        call GroupEnumUnitsInRange(XS8, x, y, 350 + 25, Condition(function U08))
        call ForGroup(XS8, function AWB3)
        call OF8(XS8)
    endif
    set t = null
    set g = null
    set p5 = null
    set XS8 = null
    return false
endfunction
function AWD3 takes unit p5, real x0, real y0, real x1, real y1, integer AT82 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = OG8()
    local real CV7 = YI7(x0, y0, x1, y1)
    call SaveInteger(R8, (EC8), (5), (AT82))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveReal(R8, (EC8), (13), (CV7))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveReal(R8, (EC8), (6), (x0))
    call SaveReal(R8, (EC8), (7), (y0))
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function AWC3))
    set t = null
    set g = null
endfunction
function YUD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit YVD = (LoadUnitHandle(R8, (W57), (19)))
    local real CV7 = (LoadReal(R8, (W57), (13)))
    local integer YWD = (LoadInteger(R8, (W57), (34)))
    local real YXD = GetUnitX(YVD) - 50 * Cos(CV7)
    local real YYD = GetUnitY(YVD) - 50 * Sin(CV7)
    local unit AC7 = CreateUnit(GetOwningPlayer(YVD), 'e00E', YXD, YYD, 0)
    local real x = GetUnitX(AC7) + 50 * Cos(CV7)
    local real y = GetUnitY(AC7) + 50 * Sin(CV7)
    local real x2 = x + (300 + 50 * YWD) * Cos(CV7)
    local real y2 = y + (300 + 50 * YWD) * Sin(CV7)
    local unit p5 = Y7[GetPlayerId(GetOwningPlayer(AC7))]
    call O68(AC7, 'A087')
    call SetUnitAbilityLevel(AC7, 'A087', YWD)
    call IssuePointOrderById(AC7, 852580, x, y)
    call KillUnit(YVD)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if p5 != null and PO8()and AV7(p5, BU[F44]) != null then
        call AWD3(p5, YXD, YYD, x, y, YWD)
    endif
    set AC7 = null
    set YVD = null
    set p5 = null
    set t = null
    return false
endfunction
function YZD takes unit YVD, integer YWD, real CV7 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function YUD))
    call SaveUnitHandle(R8, (W57), (19), (YVD))
    call SaveReal(R8, (W57), (13), (CV7))
    call SaveInteger(R8, (W57), (34), (YWD))
    set t = null
endfunction
function YAD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer iX = (LoadInteger(R8, (EC8), (34)))
    local integer YBD = iX - 1
    local real RK = (LoadReal(R8, (EC8), (13)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer YCD = 2 + TA8 * 2
    local boolean Y3D = (LoadBoolean(R8, (EC8), (240)))
    local unit Y6D
    if GetTriggerEventId() != EVENT_UNIT_SPELL_ENDCAST then
        call SaveInteger(R8, (EC8), (34), (iX + 1))
    endif
    call SetUnitScale(oA, I2R(100 + 20 * YBD) / 100, I2R(100 + 20 * YBD) / 100, I2R(100 + 20 * YBD) / 100)
    if(GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and Y3D == false)or(GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId() == 'A121')or YBD == YCD then
        if Y3D then
            set Y6D = (LoadUnitHandle(R8, (EC8), (239)))
            call ShowUnit(Y6D, false)
            call UnitApplyTimedLife(Y6D, 'BTLF', 1)
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        if(LoadInteger(R8, (GetHandleId(N28)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(N28)), (704))) == 'A085' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A085', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A121', false)
        call UnitRemoveAbility(N28, 'A121')
        call YZD(oA, YBD, RK)
    endif
    set oA = CreateUnit(GetOwningPlayer(oA), 'h06M', GetUnitX(oA) + 150 * (YBD) * Cos(RK), GetUnitY(oA) + 150 * (YBD) * Sin(RK), 0)
    call UnitApplyTimedLife(oA, 'BTLF', 7.)
    set t = null
    set oA = null
    set N28 = null
    set Y6D = null
    return false
endfunction
function YLD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    call IssueImmediateOrderById(N28, 851972)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function Y1D takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real RK = Atan2(GetLocationY(l) - GetUnitY(N28), GetLocationX(l) - GetUnitX(N28))
    local real x
    local real y
    local unit oA
    local unit Y6D
    local boolean Y3D = false
    if GetLocationY(l) == GetUnitY(N28)and GetLocationX(l) == GetUnitX(N28)then
        set RK = GetUnitFacing(N28) * bj_DEGTORAD
    endif
    set x = GetUnitX(N28) + 150 * Cos(RK)
    set y = GetUnitY(N28) + 150 * Sin(RK)
    set oA = CreateUnit(GetOwningPlayer(N28), 'u00J', x, y, RK * bj_RADTODEG)
    call RemoveLocation(l)
    if GetUnitTypeId(N28) == 'H06X' or GetUnitTypeId(N28) == 'H06Y' or GetUnitTypeId(N28) == 'H06W' then
        set Y3D = true
    endif
    call SaveBoolean(R8, (EC8), (240), (Y3D))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveInteger(R8, (EC8), (34), (1))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(N28, 'A085')))
    call SaveReal(R8, (EC8), (13), (RK))
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function YAD))
    if Y3D then
        set Y6D = CreateUnit(GetOwningPlayer(N28), 'h06Z', GetUnitX(N28), GetUnitY(N28), RK * bj_RADTODEG)
        call SetUnitX(Y6D, GetUnitX(N28))
        call SetUnitY(Y6D, GetUnitY(N28))
        call SetUnitAnimation(Y6D, "spell")
        call QueueUnitAnimation(Y6D, "spell")
        call QueueUnitAnimation(Y6D, "spell")
        call SetUnitVertexColor(Y6D, 255, 255, 255, 75)
        call SaveUnitHandle(R8, (EC8), (239), (Y6D))
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function YLD))
        call SaveUnitHandle(R8, (EC8), (14), (N28))
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A085', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A121', true)
    call TZ8(N28, 'A121', 1, 6)
    set t = null
    set N28 = null
    set oA = null
    set Y6D = null
    set l = null
endfunction
function Y0D takes nothing returns boolean
    if GetSpellAbilityId() == 'A085' then
        call Y1D()
    endif
    return false
endfunction
function AN8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Y0D))
    set t = null
endfunction
function Y5D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    local real x1
    local real y1
    local real x2
    local real y2
    if GetTriggerEventId() == EVENT_UNIT_DEATH or(GetTriggerEventId() == EVENT_UNIT_DAMAGED and GetEventDamage() > 2 and KP8(GetOwningPlayer(GetEventDamageSource())))then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() != EVENT_UNIT_DAMAGED and GetTriggerEventId() != EVENT_UNIT_DEATH then
        set x1 = GetUnitX(p5)
        set y1 = GetUnitY(p5)
        set x2 = GetUnitX(m5)
        set y2 = GetUnitY(m5)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x1, y1))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", x2, y2))
        call ASCI(m5, 4410, 1)
        call SetUnitPosition(m5, GetUnitX(p5), GetUnitY(p5))
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (175)))
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (176)))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        // call MH8(m5)
    endif
    set t = null
    set p5 = null
    set m5 = null
    return false
endfunction
function Y2D takes nothing returns nothing
    local unit m5 = GetEnumUnit()
    local real d = Z87(GetUnitX(m5), GetUnitY(m5), XB4, XC4)
    if d < XA4 then
        set XZ4 = GetEnumUnit()
        set XA4 = d
    endif
    set m5 = null
endfunction
function Y_D takes nothing returns nothing
    local unit m5 = GetSpellTargetUnit()
    local unit p5 = GetTriggerUnit()
    local trigger t
    local integer EC8
    local real VL8
    local group g
    if m5 == null then
        set XZ4 = null
        set XA4 = 999999
        set XB4 = GetSpellTargetX()
        set XC4 = GetSpellTargetY()
        set H04 = p5
        set g = OG8()
        call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function GenericCondition_AllyUnitsExHeroes))
        call GroupRemoveUnit(g, p5)
        call ForGroup(g, function Y2D)
        call OF8(g)
        set m5 = XZ4
        set g = null
    endif
    if GetSpellAbilityId() == 'A10U' then
        set VL8 = 5
    elseif GetSpellAbilityId() == 'A11Y' then
        set VL8 = 4
    elseif GetSpellAbilityId() == 'A11Z' then
        set VL8 = 3
    elseif GetSpellAbilityId() == 'A1N1' then
        set VL8 = 3
    endif
    if m5 != null then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DAMAGED)
        call TriggerRegisterTimerEvent(t, VL8, false)
        call TriggerAddCondition(t, Condition(function Y5D))
        call SaveUnitHandle(R8, (EC8), (2), (p5))
        call SaveUnitHandle(R8, (EC8), (17), (m5))
        call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl", p5, "origin")))
        call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl", m5, "origin")))
    endif
    set m5 = null
    set p5 = null
    set t = null
endfunction
function Z4D takes nothing returns boolean
    if GetSpellAbilityId() == 'A10U' or GetSpellAbilityId() == 'A11Y' or GetSpellAbilityId() == 'A11Z' then
        call Y_D()
    endif
    return false
endfunction
function Z7D takes nothing returns boolean
    if GetSpellAbilityId() == 'A10U' or GetSpellAbilityId() == 'A11Y' or GetSpellAbilityId() == 'A11Z' then
        if GetSpellTargetUnit() != null and(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139)))then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
        endif
    endif
    return false
endfunction
function AO8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z4D))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function Z7D))
    set t = null
endfunction
function Z8D takes nothing returns nothing
    local unit target = GetEnumUnit()
    local real x = GetUnitX(target)
    local real y = GetUnitY(target)
    local real a = Atan2(y - tN, x - SN)
    set x = PQ8(x + 25 * Cos(a))
    set y = PS8(y + 25 * Sin(a))
    call SC8(x, y, 150)
    call SetUnitX(target, x)
    call SetUnitY(target, y)
    set target = null
endfunction
function Z9D takes nothing returns nothing
    local unit target = GetEnumUnit()
    local unit AC7 = CreateUnit(I44, 'e00E', GetUnitX(target), GetUnitY(target), 0)
    call O68(AC7, 'A10W')
    call SetUnitAbilityLevel(AC7, 'A10W', pN)
    call IssueTargetOrderById(AC7, 852585, target)
    set target = null
    set AC7 = null
endfunction
function ZDD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local real t5 = (LoadReal(R8, (EC8), (189)))
    local real w5 = (LoadReal(R8, (EC8), (190)))
    local integer abl_id = (LoadInteger(R8, (EC8), (59)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local integer P89 = GetTriggerEvalCount(t)
    set SN = t5
    set tN = w5
    call ForGroup(g, function Z8D)
    if P89 == 16 then
        if abl_id == 'A11X' then
            set pN = 1
        elseif abl_id == 'A11V' then
            set pN = 2
        else
            set pN = 3
        endif
        set I44 = p
        call ForGroup(g, function Z9D)
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p = null
    set g = null
    return false
endfunction
function ZED takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local real t5 = (LoadReal(R8, (EC8), (189)))
    local real w5 = (LoadReal(R8, (EC8), (190)))
    local integer abl_id = (LoadInteger(R8, (EC8), (59)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .025, true)
    call TriggerAddCondition(t, Condition(function ZDD))
    call SavePlayerHandle(R8, (EC8), (54), (p))
    call SaveReal(R8, (EC8), (189), (t5))
    call SaveReal(R8, (EC8), (190), (w5))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveInteger(R8, (EC8), (59), (abl_id))
    set t = null
    set p = null
    set g = null
    return false
endfunction
function ZFD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = OG8()
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    call KillUnit(CreateUnit(GetOwningPlayer(Z77), 'h06P', x, y, 0))
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 700, Condition(function U68))
    call TriggerRegisterTimerEvent(t, .4, false)
    call TriggerAddCondition(t, Condition(function ZED))
    call SavePlayerHandle(R8, (EC8), (54), (GetOwningPlayer(GetTriggerUnit())))
    call SaveReal(R8, (EC8), (189), (x))
    call SaveReal(R8, (EC8), (190), (y))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveInteger(R8, (EC8), (59), (GetSpellAbilityId()))
    set t = null
    set g = null
    set Z77 = null
endfunction
function ZGD takes nothing returns boolean
    if GetSpellAbilityId() == 'A11X' or GetSpellAbilityId() == 'A11V' or GetSpellAbilityId() == 'A11W' then
        call ZFD()
    endif
    return false
endfunction
function AP8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZGD))
    set t = null
endfunction
function AX33 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2XQ')
    if TA8 == 1 then
        call O68(p5, 'A11T')
    elseif TA8 == 2 then
        call SetUnitAbilityLevel(p5, 'A11T', TA8)
    elseif TA8 == 3 then
        call SetUnitAbilityLevel(p5, 'A11T', TA8)
    endif
    set p5 = null
endfunction
function AX43 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_HERO_SKILL then
        if GetLearnedSkill() == 'A2XR' and IsUnitIllusion(GetTriggerUnit()) == false then
            set H04 = GetTriggerUnit()
            call ExecuteFunc("KotnAghanimOn")
        endif
        if GetLearnedSkill() == 'A2XQ' and IsUnitIllusion(GetTriggerUnit()) == false then
            call AX33()
        endif
    endif
    return false
endfunction
function AY21 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AX43))
    set t = null
endfunction
function ZHD takes unit u returns boolean
    return GetUnitTypeId(u) == 'u009'
endfunction
function ZID takes nothing returns boolean
    if(GetUnitTypeId((GetFilterUnit())) == 'u009')or(GU8(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false))then
        if(LoadInteger(R8, (HC4), (GetHandleId(GetFilterUnit())))) < HB4 then
            return true
        endif
    endif
    return false
endfunction
function ZJD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer ZKD = (LoadInteger(R8, (EC8), (217)))
    local integer Tq = (LoadInteger(R8, (EC8), (216)))
    local integer ZMD = (LoadInteger(R8, (EC8), (218)))
    local unit AttachTarget = LoadUnitHandle(R8, (EC8), (215))
    local group g = OG8()
    local unit X77
    local real x
    local real y
    if AttachTarget == null then
        set x = (LoadReal(R8, (EC8), (6)))
        set y = (LoadReal(R8, (EC8), (7)))
    else
        set x = GetUnitX(AttachTarget)
        set y = GetUnitY(AttachTarget)
    endif
    set H04 = N28
    set HB4 = ZMD
    set HC4 = GetHandleId(t)
    call GroupEnumUnitsInRange(g, x, y, 700, Condition(function ZID))
    set X77 = GroupPickRandomUnit(g)
    call OF8(g)
    if (AttachTarget == null or O18(AttachTarget) == false) and X77 != null and ZHD(X77) == false then
        call SaveInteger(R8, HC4, GetHandleId(X77), LoadInteger(R8, HC4, GetHandleId(X77)) + 1)
        call QG8("effects\\Eclipse.mdx", X77, "origin", 3.)
        call V08(N28, X77, AB4, ZKD * 75)
    elseif (AttachTarget == null or O18(AttachTarget) == false) then
        set x = PQ8(x + GetRandomInt(- 350, 350))
        set y = PS8(y + GetRandomInt(- 350, 350))
        call QH8("effects\\Eclipse.mdx", x, y, 1.5)
    endif
    if(GetTriggerEvalCount(t) + 1) >= Tq or (AttachTarget != null and O18(AttachTarget)) then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    set AttachTarget = null
    set g = null
    set X77 = null
    return false
endfunction
function ZND takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer Tq
    local integer ZKD = GetUnitAbilityLevel(AM7, 'A042')
    local integer ZMD
    local unit AC7 = CreateUnit(GetOwningPlayer(AM7), 'e00E', GetUnitX(AM7), GetUnitY(AM7), 0)
    local location l
    local unit X77
    if ZKD == 0 and GetUnitTypeId(AM7) != 'E005' then
        set ZKD = 4
    endif
    call O68(AC7, 'A1T6')
    if GetSpellAbilityId() == 'A054' then
        set X77 = AM7
        set Tq = 2 + 3 * GetUnitAbilityLevel(AM7, 'A054')
        set ZMD = 5
    else
        set Tq = 6 * GetUnitAbilityLevel(AM7, 'A00U')
        set ZMD = 60
        if GetSpellTargetUnit() != null then
            set X77 = GetSpellTargetUnit()
        else
            set X77 = null
            set l = GetSpellTargetLoc()
            call S18(GetOwningPlayer(AM7), 7., GetLocationX(l), GetLocationY(l), 700)
            call SaveReal(R8, (EC8), (6), (GetLocationX(l)))
            call SaveReal(R8, (EC8), (7), (GetLocationY(l)))
            call RemoveLocation(l)
            set l = null
        endif
    endif
    call SaveInteger(R8, (EC8), (217), (ZKD))
    call SaveInteger(R8, (EC8), (216), (Tq))
    call SaveInteger(R8, (EC8), (218), (ZMD))
    call SaveUnitHandle(R8, (EC8), (14), (AM7))
    call SaveUnitHandle(R8, (EC8), (215), (X77))
    call TriggerAddCondition(t, Condition(function ZJD))
    if GetSpellAbilityId() == 'A054' then
        call TriggerRegisterTimerEvent(t, .6, true)
    else
        call TriggerRegisterTimerEvent(t, .3, true)
    endif
    call TriggerEvaluate(t)
    call IssueImmediateOrderById(AC7, 852621)
    set t = null
    set AM7 = null
    set AC7 = null
endfunction
function ZOD takes nothing returns boolean
    if GetSpellAbilityId() == 'A054' or GetSpellAbilityId() == 'A00U' then
        call ZND()
    endif
    return false
endfunction
function AQ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZOD))
    set t = null
endfunction
function ZPD takes nothing returns boolean
    if GetLearnedSkill() == 'A041' then
        if GetUnitAbilityLevel(GetTriggerUnit(), 'A041') == 4 then
            call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'Remg', 6)
        else
            call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'Remg', GetUnitAbilityLevel(GetTriggerUnit(), 'A041'))
        endif
    elseif GetLearnedSkill() == 'A062' then
        call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'R00I', 1)
    endif
    return false
endfunction
function AR8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function ZPD))
    set t = null
endfunction
function ZQD takes nothing returns boolean
    return GetSpellAbilityId() == 'A0KU'
endfunction
function ZRD takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function ZSD takes nothing returns nothing
    call O68(GetEnumUnit(), 'A0KT')
    call SetUnitAbilityLevel(GetEnumUnit(), 'A0KT', X8)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl", GetEnumUnit(), "chest"))
endfunction
function ZTD takes nothing returns nothing
    call UnitRemoveAbility(GetEnumUnit(), 'A0KT')
endfunction
function ZUD takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local group XS8 = (LoadGroupHandle(R8, (EC8), (220)))
    call ForGroup(XS8, function ZTD)
    call OF8(XS8)
    call QI8(t)
    set t = null
    set XS8 = null
endfunction
function ZVD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local group XS8 = OG8()
    local timer t = CreateTimer()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0KU')
    local real VVD = 15
    set X8 = TA8
    call GroupEnumUnitsInRange(XS8, 0, 0, 9999, Condition(function ZRD))
    call ForGroup(XS8, function ZSD)
    call SaveGroupHandle(R8, (EC8), (220), (XS8))
    call TimerStart(t, VVD, false, function ZUD)
    set N28 = null
    set XS8 = null
    set t = null
endfunction
function ED9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZQD))
    call TriggerAddAction(t, function ZVD)
    set t = null
endfunction
function ZWD takes nothing returns nothing
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl", GetEnumUnit(), "origin"))
endfunction
function ZXD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    call V08(AM7, X77, AB4, .75 * GetUnitAbilityLevel(AM7, 'A0KV') * 75)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set AM7 = null
    set X77 = null
    return false
endfunction
function ZYD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local group g
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if O18(X77)then
        set g = OG8()
        set H04 = AM7
        call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 425 + 25, Condition(function U38))
        set X77 = GUD(g, GetUnitX(AM7), GetUnitY(AM7))
        call OF8(g)
        set g = null
    endif
    call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl", X77, "origin"))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call TriggerRegisterTimerEvent(t, .5, false)
    call TriggerAddCondition(t, Condition(function ZXD))
    set t = null
    set AM7 = null
    set g = null
    set X77 = null
    return false
endfunction
function ZZD takes nothing returns nothing
    call V08(TV4, GetEnumUnit(), AB4, TU4)
endfunction
function ZAD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local group g = (LoadGroupHandle(R8, (W57), (22)))
    set TU4 = GetUnitAbilityLevel(AM7, 'A0KV') * 75
    set TV4 = AM7
    call ForGroup(g, function ZZD)
    call OF8(g)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set AM7 = null
    set g = null
    return false
endfunction
function uh takes nothing returns nothing
    local real in = BS7(GetTriggerUnit(), GetEnumUnit())
    if in > 675 then
    else
        call GroupAddUnit(H24, GetEnumUnit())
    endif
endfunction
function ZBD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    local group g = OG8()
    local unit X77
    set H04 = AM7
    set H24 = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 900, Condition(function U38))
    call ForGroup(g, function uh)
    call OF8(g)
    set g = H24
    call ForGroup(g, function ZWD)
    call SaveGroupHandle(R8, (W57), (22), (g))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call TriggerRegisterTimerEvent(t, .5, false)
    call TriggerAddCondition(t, Condition(function ZAD))
    set H04 = AM7
    set g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 425 + 25, Condition(function U38))
    set X77 = GUD(g, GetUnitX(AM7), GetUnitY(AM7))
    call OF8(g)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl", AM7, "origin")))
    call TriggerRegisterTimerEvent(t, 1, false)
    call TriggerAddCondition(t, Condition(function ZYD))
    set t = null
    set g = null
    set AM7 = null
    set X77 = null
endfunction
function ZCD takes nothing returns boolean
    if GetSpellAbilityId() == 'A0KV'then
        call ZBD()
    endif
    return false
endfunction
function EE9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZCD))
    set t = null
endfunction
function Z3D takes nothing returns boolean
    return GetSpellAbilityId() == 'A0L8'
endfunction
function uj takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'A1RB') == 0 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(W8))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction
function Z6D takes real uk, real uK, real iN, real io returns integer
    local real in = SquareRoot((iN - uk) * (iN - uk) + (io - uK) * (io - uK))
    return IMinBJ(R2I(in / 150), 11)
endfunction
function ul takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local real RK = (LoadReal(R8, (W57), (13)))
    local real BJ7 = GetUnitX(S08)
    local real BK7 = GetUnitY(S08)
    local real S_8 = PQ8(GetUnitX(S08) + 30 * Cos(RK))
    local real T48 = PS8(GetUnitY(S08) + 30 * Sin(RK))
    local boolexpr hP = Condition(function uj)
    local group QA9 = OG8()
    local unit X77
    local real ZLD
    local real Z1D
    call SetUnitX(S08, S_8)
    call SetUnitY(S08, T48)
    set W8 = AM7
    call GroupEnumUnitsInRange(QA9, S_8, T48, 140, hP)
    set X77 = FirstOfGroup(QA9)
    call OF8(QA9)
    call DestroyBoolExpr(hP)
    if X77 != null then
        if IsUnitType(X77, UNIT_TYPE_HERO) then
            set TW4[GetPlayerId(GetOwningPlayer(AM7))] = TW4[GetPlayerId(GetOwningPlayer(AM7))] + 1
            call X48("AA_Hits" + I2S(GetPlayerId(GetOwningPlayer(AM7))), TW4[GetPlayerId(GetOwningPlayer(AM7))])
        endif
        if IsUnitType(X77, UNIT_TYPE_HERO) or IsUnitType(X77, UNIT_TYPE_ANCIENT) then
            set ZLD = (LoadReal(R8, (W57), (191)))
            set Z1D = (LoadReal(R8, (W57), (192)))
            call V18(AM7, X77, (Z6D(ZLD, Z1D, BJ7, BK7) - 1) * .5 + .01)
            call UnitDamageTarget(AM7, X77, 90 * GetUnitAbilityLevel(AM7, 'A0L8') - 40 + (Z6D(ZLD, Z1D, BJ7, BK7) - 1) * 14, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        else
            call UnitDamageTarget(AM7, X77, 100000000., true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        endif
        call KillUnit(S08)
        call QI8(t)
    elseif(S_8 - BM7) * (S_8 - BM7) + (T48 - BN7) * (T48 - BN7) < 1600 then
        call KillUnit(S08)
        call QI8(t)
    endif
    set AM7 = null
    set S08 = null
    set t = null
    set hP = null
    set QA9 = null
    set X77 = null
endfunction
function Z0D takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real iN = PQ8(GetUnitX(N28))
    local real io = PS8(GetUnitY(N28))
    local real hN = GetSpellTargetX()
    local real ho = GetSpellTargetY()
    local real RK = Atan2(ho - io, hN - iN)
    local timer t = CreateTimer()
    local integer EC8 = GetHandleId(t)
    local unit IJ = CreateUnit(GetOwningPlayer(N28), 'h005', iN, io, RK * bj_RADTODEG)
    local real d = ALR(N28, 3000)
    set TX4[GetPlayerId(GetOwningPlayer(N28))] = TX4[GetPlayerId(GetOwningPlayer(N28))] + 1
    call X48("AA_Total" + I2S(GetPlayerId(GetOwningPlayer(N28))), TX4[GetPlayerId(GetOwningPlayer(N28))])
    call SetUnitFacing(IJ, RK * bj_RADTODEG)
    call SetUnitPathing(IJ, false)
    set hN = PQ8(iN + d * Cos(RK))
    set ho = PS8(io + d * Sin(RK))
    call SaveReal(R8, (EC8), (191), (iN))
    call SaveReal(R8, (EC8), (192), (io))
    call SaveReal(R8, (EC8), (47), (hN))
    call SaveReal(R8, (EC8), (48), (ho))
    call SaveReal(R8, (EC8), (13), (RK))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (45), (IJ))
    call TimerStart(t, .035, true, function ul)
    set N28 = null
    set t = null
    set IJ = null
endfunction
function Z5D takes nothing returns boolean
    local integer Z2D = TW4[GetPlayerId(GetTriggerPlayer())]
    local integer D5 = TX4[GetPlayerId(GetTriggerPlayer())]
    if GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())]) == 'N01V' and D5 > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., (GetObjectName(('n0GM'))) + " " + R2S(I2R(Z2D) / I2R(D5) * 100) + "% (" + I2S(Z2D) + "/" + I2S(D5) + ")")
    endif
    return false
endfunction
function EF9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z3D))
    call TriggerAddAction(t, function Z0D)
    set t = CreateTrigger()
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-st", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-st", true)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function Z5D))
    set t = null
endfunction
function Z_D takes nothing returns boolean
    return GetSpellAbilityId() == 'A0LN'
endfunction
function uM takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(W8))
endfunction
function un takes nothing returns nothing
    local unit N28 = GetEnumUnit()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e01R', 0, 0, 0)
    call O68(oA, 'A0LO')
    call SetUnitAbilityLevel(oA, 'A0LO', GetUnitAbilityLevel(W8, 'A0LN'))
    call UnitApplyTimedLife(oA, 'BTLF', 10)
    set N28 = null
    set oA = null
endfunction
function uN takes unit N28 returns nothing
    local group XS8 = OG8()
    local boolexpr hP = Condition(function uM)
    set W8 = N28
    call GroupEnumUnitsInRange(XS8, GetUnitX(N28), GetUnitY(N28), 800, hP)
    call ForGroup(XS8, function un)
    call DestroyBoolExpr(hP)
    call OF8(XS8)
    set XS8 = null
    set hP = null
endfunction
function uo takes unit N28 returns nothing
    local integer EC8 = GetHandleId(N28)
    local string uO = (LoadStr(R8, (EC8), (206)))
    local string up = OrderId2String((LoadInteger(R8, (EC8), (211))))
    local real hN
    local real ho
    local unit target
    local trigger t = (LoadTriggerHandle(R8, (EC8), (204)))
    local boolean uP = not(LoadBoolean(R8, (EC8), (207)))
    local boolean uq = (LoadBoolean(R8, (EC8), (208)))
    call DisableTrigger(t)
    call IssueImmediateOrderById(N28, 851972)
    if uO == "Point" and(uP or uq)then
        set hN = (LoadReal(R8, (EC8), (209)))
        set ho = (LoadReal(R8, (EC8), (210)))
        call IssuePointOrder(N28, up, hN, ho)
    elseif(uP or uq)then
        call IssueImmediateOrder(N28, "OrderString")
    endif
    call SaveBoolean(R8, (EC8), (208), (false))
    call EnableTrigger(t)
    set target = null
    set t = null
endfunction
function uQ takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real ur = (LoadReal(R8, (EC8), (212)))
    local real uR = (LoadReal(R8, (EC8), (213)))
    local real RK = (LoadReal(R8, (EC8), (13)))
    local real Il = GetUnitX(N28) + 40 * Cos(RK * bj_DEGTORAD)
    local real IL = GetUnitY(N28) + 40 * Sin(RK * bj_DEGTORAD)
    local real us = 200
    local real uS = (1 - ur / uR) * us * 2
    if uS > us then
        set uS = us * 2 - uS
    endif
    call SetUnitFlyHeight(N28, RMaxBJ(uS, 0), 0)
    call SetUnitX(N28, PQ8(Il))
    call SetUnitY(N28, PS8(IL))
    call SetUnitFacing(N28, RK)
    call SaveReal(R8, (EC8), (212), ((ur - 40)))
    if uS < 1 and ur - uR != 0 then
        call SaveBoolean(R8, (GetHandleId(N28)), (214), (false))
        call SetUnitFacing(N28, RK)
        call SetUnitAnimation(N28, "stand")
        call SetUnitPathing(N28, true)
        call uo(N28)
        call PauseTimer(t)
        call FlushChildHashtable(R8, EC8)
        call DestroyTimer(t)
    endif
    set t = null
    set N28 = null
endfunction
function A4D takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0LN')
    local real in = 500 + 100 * TA8
    local real RK = GetUnitFacing(N28)
    local real iN = GetUnitX(N28)
    local real io = GetUnitY(N28)
    local real hN = PQ8(iN + in * Cos(RK * bj_DEGTORAD))
    local real ho = PS8(io + in * Sin(RK * bj_DEGTORAD))
    local timer t = CreateTimer()
    local integer EC8 = GetHandleId(t)
    local trigger uT = (LoadTriggerHandle(R8, (GetHandleId(N28)), (204)))
    set in = SquareRoot((iN - hN) * (iN - hN) + (io - ho) * (io - ho))
    call uN(N28)
    if in > 100 then
        call O68(N28, 'Amrf')
        call UnitRemoveAbility(N28, 'Amrf')
        call SetUnitPathing(N28, false)
        call SetUnitAnimationByIndex(N28, 6)
        call DisableTrigger(uT)
        call IssueImmediateOrderById(N28, 851972)
        call EnableTrigger(uT)
        call SaveReal(R8, (EC8), (212), ((in)))
        call SaveReal(R8, (EC8), (213), ((in)))
        call SaveReal(R8, (EC8), (13), ((RK)))
        call SaveUnitHandle(R8, (EC8), (14), (N28))
        call TimerStart(t, .025, true, function uQ)
        call SaveBoolean(R8, (GetHandleId(N28)), (214), (true))
        call SaveBoolean(R8, (GetHandleId(N28)), (208), (false))
    endif
    set N28 = null
    set t = null
    set uT = null
endfunction
function uu takes nothing returns boolean
    return OrderId2String(GetIssuedOrderId()) != "windwalk"
endfunction
function uU takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer EC8 = GetHandleId(N28)
    local boolean uv = (LoadBoolean(R8, (EC8), (214)))
    call SaveInteger(R8, (EC8), (211), (GetIssuedOrderId()))
    call SaveBoolean(R8, (EC8), (207), (false))
    if GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER then
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER then
        if uv or Z87(GetUnitX(N28), GetUnitY(N28), GetOrderPointX(), GetOrderPointY()) > 800 then
            call SaveStr(R8, (EC8), (206), ("Point"))
            call SaveReal(R8, (EC8), (209), (GetOrderPointX()))
            call SaveReal(R8, (EC8), (210), (GetOrderPointY()))
        else
            call SaveBoolean(R8, (EC8), (207), (true))
        endif
    else
        call SaveStr(R8, (EC8), (206), ("Instant"))
    endif
    if uv then
        call SaveBoolean(R8, (EC8), (208), (true))
    endif
    set N28 = null
endfunction
function uV takes nothing returns nothing
    local unit N28 = (LoadUnitHandle(R8, (GetHandleId(GetExpiredTimer())), (14)))
    local integer EC8 = GetHandleId(N28)
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local string uO = (LoadStr(R8, (EC8), (206)))
    if uO == "Point" and Z87(GetUnitX(N28), GetUnitY(N28), (LoadReal(R8, (EC8), (209))), (LoadReal(R8, (EC8), (210)))) < 100 then
        call SaveBoolean(R8, (EC8), (207), (true))
    endif
    set N28 = null
endfunction
function uw takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local timer t2
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddAction(t, function uU)
    call TriggerAddCondition(t, Condition(function uu))
    call SaveTriggerHandle(R8, (GetHandleId(N28)), (204), (t))
    set t2 = CreateTimer()
    call SaveUnitHandle(R8, (GetHandleId(t2)), (14), (N28))
    call TimerStart(t2, .3, true, function uV)
    call SaveTimerHandle(R8, (GetHandleId(N28)), (205), (t2))
    set N28 = null
    set t = null
    set t2 = null
endfunction
function uW takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0LN') == 1 then
        call uw()
    endif
endfunction
function EG9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z_D))
    call TriggerAddAction(t, function A4D)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddAction(t, function uW)
    set t = null
endfunction
function ux takes nothing returns nothing
    local unit N28 = (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (326)))
    local real r
    local real g
    local real b
    local integer A7D
    local integer A8D
    local real rAgi2Str
    local real rStr2Agi
    if GetUnitTypeId(N28) != 'O00P' then
        call DisableTrigger(GetTriggeringTrigger())
    elseif O18(N28) == false and(LoadBoolean(R8, (GetHandleId(N28)), (225))) == false then
        set A7D = GetHeroAgi(N28, true)
        set A8D = GetHeroStr(N28, true)
        set rAgi2Str = RMaxBJ(75 + 2 * (A7D - A8D), 35)
        set r = rAgi2Str
        set g = rAgi2Str
        set b = rAgi2Str
        call SetUnitVertexColorBJ(N28, r, g, b, GetRandomReal(.0, 10.))
    endif
    set N28 = null
endfunction
function ADD takes nothing returns boolean
    return GetUnitTypeId(GetTriggerUnit()) == 'O00P'and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function AED takes nothing returns nothing
    local trigger t
    if((LoadBoolean(R8, (GetHandleId(GetTriggerUnit())), (327))) == false)then
        set t = CreateTrigger()
        call SaveUnitHandle(R8, (GetHandleId(t)), (326), (GetTriggerUnit()))
        call SaveTriggerHandle(R8, (GetHandleId(GetTriggerUnit())), (328), (t))
        call TriggerAddAction(t, function ux)
        call TriggerRegisterTimerEvent(t, 1., true)
        call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (327), (true))
        call UnitAddItem(GetTriggerUnit(), CreateItem('I00E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
    endif
    set t = null
endfunction
function AS8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, bj_mapInitialPlayableArea)
    call TriggerAddCondition(t, Condition(function ADD))
    call TriggerAddAction(t, function AED)
    set t = null
endfunction
function AFD takes nothing returns boolean
    return GetSpellAbilityId() == 'A0FN'
endfunction
function AGD takes nothing returns boolean
    local unit T3 = GetFilterUnit()
    if IsUnitInGroup(T3, C8)then
        set T3 = null
        return false
    endif
    if IsUnitEnemy(T3, GetOwningPlayer(W8))and GetUnitAbilityLevel(T3, 'A04R') != 1 and GetUnitState(T3, UNIT_STATE_LIFE) > 0 and IsUnitType(T3, UNIT_TYPE_STRUCTURE) == false then
        set T3 = null
        return true
    endif
    set T3 = null
    return false
endfunction
function uZ takes nothing returns nothing
    call UnitDamageTarget(W8, GetEnumUnit(), Y8, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction
function AHD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (221)))
    local real RK = (LoadReal(R8, (EC8), (13)))
    local integer u3 = (LoadInteger(R8, (EC8), (194)))
    local group Ro = (LoadGroupHandle(R8, (EC8), (133)))
    local real u4 = GetUnitX(N28)
    local real u5 = GetUnitY(N28)
    local real PND = (LoadReal(R8, (EC8), (23)))
    local real POD = (LoadReal(R8, (EC8), (24)))
    local real S_8 = PND + 1000 * .05 * Cos(RK)
    local real T48 = POD + 1000 * .05 * Sin(RK)
    local group XS8
    local unit XAD = (LoadUnitHandle(R8, (EC8), (239)))
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A0GC' or GetSpellAbilityId() == 0 then
            call RemoveUnit(XAD)
            call SetUnitVertexColor(N28, 255, 255, 255, 255)
            call SaveBoolean(R8, (GetHandleId(N28)), (225), (false))
            call SetUnitInvulnerable(N28, false)
            call SetUnitPathing(N28, true)
            call OF8(Ro)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
        return false
    endif
    set XS8 = OG8()
    call SaveReal(R8, (EC8), (23), (S_8))
    call SaveReal(R8, (EC8), (24), (T48))
    set W8 = N28
    set Y8 = GetUnitAbilityLevel(N28, 'A0FN') * 75 + 25
    set C8 = Ro
    call GroupEnumUnitsInRange(XS8, u4, u5, 200 + 25, Condition(function AGD))
    call ForGroup(XS8, function uZ)
    call BlzGroupAddGroupFast(XS8, Ro)
    call OF8(XS8)
    set u3 = u3 - 1
    call SaveInteger(R8, (EC8), (194), (u3))
    call SetUnitX(N28, PQ8(S_8))
    call SetUnitY(N28, PS8(T48))
    call SetUnitX(XAD, GetUnitX(N28))
    call SetUnitY(XAD, GetUnitY(N28))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", u4, u5))
    if u3 == 0 then
        call RemoveUnit(XAD)
        call SetUnitVertexColor(N28, 255, 255, 255, 255)
        call SaveBoolean(R8, (GetHandleId(N28)), (225), (false))
        call SetUnitInvulnerable(N28, false)
        call SetUnitPathing(N28, true)
        call OF8(Ro)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set N28 = null
    set Ro = null
    set XS8 = null
    set XAD = null
    set t = null
    return false
endfunction
function AID takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real iN = GetUnitX(N28)
    local real io = GetUnitY(N28)
    local real hN = GetSpellTargetX()
    local real ho = GetSpellTargetY()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local group Ro = OG8()
    local integer YC7 = GetPlayerId(GetOwningPlayer(N28))
    local unit XAD = CreateUnit(GetOwningPlayer(N28), 'e00E', iN, io, 0)
    if GetSpellTargetUnit() != null then
        set hN = GetUnitX(GetSpellTargetUnit())
        set ho = GetUnitY(GetSpellTargetUnit())
    endif
    call SetUnitVertexColor(N28, 255, 255, 255, 0)
    call SaveBoolean(R8, (GetHandleId(N28)), (225), (true))
    call SetUnitInvulnerable(N28, true)
    call SetUnitPathing(N28, false)
    call SaveUnitHandle(R8, (EC8), (221), (N28))
    call SaveReal(R8, (EC8), (23), (iN))
    call SaveReal(R8, (EC8), (24), (io))
    call SaveGroupHandle(R8, (EC8), (133), (Ro))
    call SaveReal(R8, (EC8), (13), ((Atan2(ho - io, hN - iN))))
    call SaveInteger(R8, (EC8), (194), (IMaxBJ(R2I(SquareRoot((hN - iN) * (hN - iN) + (ho - io) * (ho - io)) / 50), 1)))
    call SaveUnitHandle(R8, (EC8), (239), (XAD))
    call TriggerRegisterTimerEvent(t, .04, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AHD))
    call ShowUnit(N28, false)
    call ShowUnit(N28, true)
    call SelectUnitAddForPlayer(N28, GetOwningPlayer(N28))
    set t = null
    set N28 = null
    set Ro = null
    set XAD = null
endfunction
function AT8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AFD))
    call TriggerAddAction(t, function AID)
    set t = null
endfunction
function u7 takes nothing returns nothing
    local unit u8 = (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (326)))
    if GetHeroStatBJ(1, u8, false) > 2 * GetUnitAbilityLevel(u8, 'A0KX')and GetUnitState(u8, UNIT_STATE_MANA) >= 20. and GetUnitState(u8, UNIT_STATE_LIFE) > 1. then
        call SetUnitManaBJ(u8, GetUnitState(u8, UNIT_STATE_MANA) - 30)
        call ModifyHeroStat(1, u8, 1, 2 * GetUnitAbilityLevel(u8, 'A0KX'))
        call ModifyHeroStat(0, u8, 0, 2 * GetUnitAbilityLevel(u8, 'A0KX'))
    endif
    set u8 = null
endfunction
function u9 takes nothing returns nothing
    local unit u8 = (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (326)))
    if GetHeroStatBJ(0, u8, false) > 2 * GetUnitAbilityLevel(u8, 'A0KX')and GetUnitState(u8, UNIT_STATE_MANA) >= 20. and GetUnitState(u8, UNIT_STATE_LIFE) > 1. then
        call SetUnitManaBJ(u8, GetUnitState(u8, UNIT_STATE_MANA) - 30)
        call ModifyHeroStat(0, u8, 1, 2 * GetUnitAbilityLevel(u8, 'A0KX'))
        call ModifyHeroStat(1, u8, 0, 2 * GetUnitAbilityLevel(u8, 'A0KX'))
    endif
    set u8 = null
endfunction
// function AJD takes nothing returns boolean
//     return(((GetIssuedOrderId() == 852550)or(GetIssuedOrderId() == 852547))and(GetTriggerUnit() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (326)))))
// endfunction
// function UA takes nothing returns nothing
//     local integer EC8 = GetHandleId(GetTriggeringTrigger())
//     local trigger Ub = EF8(EC8, "MorphStr")
//     local trigger AKD = EF8(EC8, "MorphAgi")
//     if(GetIssuedOrderId() == 852547)then
//         call DisableTrigger(Ub)
//     elseif(GetIssuedOrderId() == 852550)then
//         call DisableTrigger(AKD)
//     endif
//     set Ub = null
//     set AKD = null
// endfunction
// function AMD takes nothing returns boolean
//     return(((GetIssuedOrderId() == 852549)or(GetIssuedOrderId() == 852546))and(GetTriggerUnit() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (326)))))
// endfunction
// function UC takes nothing returns nothing
//     local integer EC8 = GetHandleId(GetTriggeringTrigger())
//     local trigger Ub = EF8(EC8, "MorphStr")
//     local trigger AKD = EF8(EC8, "MorphAgi")
//     if(GetIssuedOrderId() == 852546)then
//         call EnableTrigger(Ub)
//         call DisableTrigger(AKD)
//     elseif(GetIssuedOrderId() == 852549)then
//         call DisableTrigger(Ub)
//         call EnableTrigger(AKD)
//     endif
//     set Ub = null
//     set AKD = null
// endfunction
function AOD takes unit AM7, integer APD, real AQD returns nothing
    local integer ARD = GetHeroAgi(AM7, false)
    local integer ASD = GetHeroStr(AM7, false)
    local real ATD = GetUnitState(AM7, UNIT_STATE_MANA)
    if APD == 0 then
        if ATD >= AQD and ARD > 1 and O18(AM7) == false then
            call SetUnitState(AM7, UNIT_STATE_MANA, ATD - AQD)
            call SetHeroAgi(AM7, ARD - 1, true)
            call SetHeroStr(AM7, ASD + 1, true)
        endif
    elseif APD == 1 then
        if ATD >= AQD and ASD > 1 and O18(AM7) == false then
            call SetUnitState(AM7, UNIT_STATE_MANA, ATD - AQD)
            call SetHeroAgi(AM7, ARD + 1, true)
            call SetHeroStr(AM7, ASD - 1, true)
        endif
    endif
endfunction
function ACD takes nothing returns boolean
    return GetLearnedSkill() == 'A0KX'and IsUnitIllusion(GetTriggerUnit()) == false and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_COMPUTER
endfunction
function A3D takes nothing returns nothing
    local unit u8 = GetTriggerUnit()
    local trigger Ue
    local trigger UE
    local trigger Ub
    local trigger AKD
    if(GetUnitAbilityLevel(u8, 'A0KX') == 1)then
        call O68(u8, 'A0KW')
        set AKD = CreateTrigger()
        call DisableTrigger(AKD)
        call TriggerRegisterTimerEventPeriodic(AKD, 1.)
        call TriggerAddAction(AKD, function u9)
        call SaveUnitHandle(R8, GetHandleId(AKD), (326), u8)
        set Ub = CreateTrigger()
        call DisableTrigger(Ub)
        call TriggerRegisterTimerEventPeriodic(Ub, 1.)
        call TriggerAddAction(Ub, function u7)
        call SaveUnitHandle(R8, GetHandleId(Ub), (326), u8)
        // set Ue = CreateTrigger()
        // call ky(Ue, EVENT_PLAYER_UNIT_ISSUED_ORDER)
        // call TriggerAddCondition(Ue, Condition(function AMD))
        // call TriggerAddAction(Ue, function UC)
        // call DW8(GetHandleId(Ue), "MorphAgi", AKD)
        // call DW8(GetHandleId(Ue), "MorphStr", Ub)
        // call SaveUnitHandle(R8, GetHandleId(Ue), (326), u8)
        // set UE = CreateTrigger()
        // call ky(UE, EVENT_PLAYER_UNIT_ISSUED_ORDER)
        // call TriggerAddCondition(UE, Condition(function AJD))
        // call TriggerAddAction(UE, function UA)
        // call DW8(GetHandleId(UE), "MorphAgi", AKD)
        // call DW8(GetHandleId(UE), "MorphStr", Ub)
        // call SaveUnitHandle(R8, GetHandleId(UE), (326), u8)
        // if(GetPlayerController(GetOwningPlayer(u8)) != MAP_CONTROL_USER)then
        //     call DW8(GetHandleId(GetOwningPlayer(u8)), "MorphAgi", AKD)
        //     call DW8(GetHandleId(GetOwningPlayer(u8)), "MorphStr", Ub)
        // endif
    else
        call SetUnitAbilityLevel(u8, 'A0KW', GetUnitAbilityLevel(u8, 'A0KX'))
    endif
    set u8 = null
    set Ue = null
    set UE = null
    set Ub = null
    set AKD = null
endfunction
function AUD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0KX')
    call AOD(N28, 1, 30.0 * Pow(0.5, TA8))
    set t = null
    set N28 = null
    return false
endfunction
function AWD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0KX')
    call AOD(N28, 0, 30.0 * Pow(0.5, TA8))
    set t = null
    set N28 = null
    return false
endfunction
function AXD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    local trigger AYD = (LoadTriggerHandle(R8, (EC8), (226)))
    local integer AVD = GetUnitAbilityLevel(N28, 'A0KX')
    local integer AZD = (LoadInteger(R8, (EC8), (227)))
    local real AAD = Pow(0.5, AVD)
    if GetIssuedOrderId() == 852549 then
        if AYD != null then
            call FlushChildHashtable(R8, (GetHandleId(AYD)))
            call EA8(AYD)
        endif
        set AYD = CreateTrigger()
        call TriggerRegisterTimerEvent(AYD, AAD, true)
        call TriggerAddCondition(AYD, Condition(function AUD))
        call SaveUnitHandle(R8, (GetHandleId(AYD)), (14), (N28))
        call SaveTriggerHandle(R8, (EC8), (226), (AYD))
        call SaveInteger(R8, (EC8), (227), (GetIssuedOrderId()))
        call UnitAddAbility(N28, 'A22L')
        call UnitRemoveAbility(N28, 'A22T')
    elseif GetIssuedOrderId() == 852546 then
        if AYD != null then
            call FlushChildHashtable(R8, (GetHandleId(AYD)))
            call EA8(AYD)
        endif
        set AYD = CreateTrigger()
        call TriggerRegisterTimerEvent(AYD, AAD, true)
        call TriggerAddCondition(AYD, Condition(function AWD))
        call SaveUnitHandle(R8, (GetHandleId(AYD)), (14), (N28))
        call SaveTriggerHandle(R8, (EC8), (226), (AYD))
        call SaveInteger(R8, (EC8), (227), (GetIssuedOrderId()))
        call UnitAddAbility(N28, 'A22T')
        call UnitRemoveAbility(N28, 'A22L')
    elseif GetIssuedOrderId() == 852550 then
        if AYD != null then
            call FlushChildHashtable(R8, (GetHandleId(AYD)))
            call EA8(AYD)
        endif
        call SaveTriggerHandle(R8, (EC8), (226), (null))
        call SaveInteger(R8, (EC8), (227), (GetIssuedOrderId()))
        call UnitRemoveAbility(N28, 'A22L')
        call UnitRemoveAbility(N28, 'A22T')
    elseif GetIssuedOrderId() == 852547 then
        if AYD != null then
            call FlushChildHashtable(R8, (GetHandleId(AYD)))
            call EA8(AYD)
        endif
        call SaveTriggerHandle(R8, (EC8), (226), (null))
        call SaveInteger(R8, (EC8), (227), (GetIssuedOrderId()))
        call UnitRemoveAbility(N28, 'A22L')
        call UnitRemoveAbility(N28, 'A22T')
    elseif GetIssuedOrderId() == 852548 and AZD != 852546 and AZD != 852546 then
        call AOD(N28, 1, 30 * AAD)
    elseif GetIssuedOrderId() == 852545 and AZD != 852546 and AZD != 852546 then
        call AOD(N28, 0, 30 * AAD)
    endif
    set t = null
    set N28 = null
    set AYD = null
    return false
endfunction
function ABD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local trigger t
    local integer EC8
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A0KX')
    if TA8 == 1 then
        call SetHeroAgi(N28, GetHeroAgi(N28, false) + 3, true)
        call SetHeroStr(N28, GetHeroStr(N28, false) + 3, true)
    else
        call SetHeroAgi(N28, GetHeroAgi(N28, false) + 1, true)
        call SetHeroStr(N28, GetHeroStr(N28, false) + 1, true)
    endif
    if TA8 == 1 then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call O68(N28, 'A0KW')
        call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_ORDER)
        call TriggerAddCondition(t, Condition(function AXD))
        call SaveTriggerHandle(R8, (EC8), (226), (null))
    else
        call SetUnitAbilityLevel(N28, 'A0KW', TA8)
    endif
    set N28 = null
    set t = null
endfunction
function AND takes nothing returns boolean
    if GetLearnedSkill() == 'A0KX'and IsUnitIllusion(GetTriggerUnit()) == false and GetPlayerController(GetOwningPlayer(GetTriggerUnit())) != MAP_CONTROL_COMPUTER then
        call ABD()
    endif
    return false
endfunction
function pZ takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AND))
    set t = null
endfunction
function AW8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function ACD))
    call TriggerAddAction(t, function A3D)
    set t = null
endfunction
function ALD takes nothing returns nothing
    local unit N28 = H04
    local unit target = H54
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0G6')
    local unit AC7
    local location YG9
    local real l4
    local integer A7D = GetHeroAgi(N28, true)
    local integer A8D = GetHeroStr(N28, true)
    local real A1D = I2R(A7D) / I2R(A8D)
    local real A0D = I2R(A8D) / I2R(A7D)
    local real A5D
    local real A2D
    local real A_D
    local real B4D
    local real P99
    local real B7D
    local integer B8D
    local integer B9D
    local integer BDD
    local string BED
    local string BFD
    local string BGD
    local real AKO3 = .25 + TA8
    if A1D < .5 then
        set A5D = .25
    elseif A1D > 1.5 then
        set A5D = .5 * TA8
    else
        set A5D = .25 + (A1D - .5) * (.5 * TA8 - .25)
    endif
    set A2D = 100
    if A0D < .5 then
        set A_D = .25
        set B4D = 100
    elseif A0D > 1.5 then
        set A_D = AKO3
        set B4D = 300
    else
        set B4D = 100 + (A0D - .5) * 200
        set A_D = .25 + (A0D - .5) * (AKO3 - .25)
    endif
    set P99 = A2D + A5D * A7D
    set B7D = A_D
    set B8D = R2I(B7D)
    set B9D = R2I(10 * B7D - B8D * 10)
    set BDD = R2I(100 * B7D - B9D * 10 - B8D * 100)
    set BED = I2S(B8D)
    set BFD = I2S(B9D)
    set BGD = I2S(BDD)
    set l4 = Atan2(GetUnitY(target) - GetUnitY(N28), GetUnitX(target) - GetUnitX(N28))
    set YG9 = Location(GetUnitX(target) + B4D * Cos(l4), GetUnitY(target) + B4D * Sin(l4))
    call SetUnitPositionLoc(target, YG9)
    call SC8(GetLocationX(YG9), GetLocationY(YG9), 200)
    call RemoveLocation(YG9)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl", target, "origin"))
    call QM8("|c001ce6b9+" + I2S(R2I(P99)) + "|r |c00ff0303+" + BED + "." + BFD + BGD + "|r", 1, target, .023, 255, 255, 255, 216)
    call V08(N28, target, AB4, P99)
    call V18(N28, target, B7D)
    set N28 = null
    set target = null
    set AC7 = null
    set YG9 = null
endfunction
function A6D takes nothing returns boolean
    if GetSpellAbilityId() == 'A0G6' and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' and OE8(GetSpellTargetUnit()) == false then
        call T88(GetTriggerUnit(), GetSpellTargetUnit(), 'h0EX', "ALD", 1150, false)
    endif
    return false
endfunction
function AU8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function A6D))
    call PU8('A0X6')
    set t = null
endfunction
function BHD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = (LoadInteger(R8, (W57), (34))) - 1
    local texttag tt
    call SaveInteger(R8, (W57), (34), (C77))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set tt = CreateTextTag()
        call SetTextTagText(tt, I2S(C77), .03)
        call SetTextTagPosUnit(tt, Z77, 0)
        call SetTextTagColorBJ(tt, 0, 29, 255, 15)
        call SetTextTagVelocity(tt, 0, .035)
        call SetTextTagFadepoint(tt, 3)
        call SetTextTagLifespan(tt, .9)
        call SetTextTagPermanent(tt, false)
        call SetTextTagVisibility(tt, false)
        if GetOwningPlayer(Z77) == GetLocalPlayer()then
            call SetTextTagVisibility(tt, true)
        endif
        set tt = CreateTextTag()
        call SetTextTagText(tt, I2S(C77), .03)
        call SetTextTagPosUnit(tt, X77, 0)
        call SetTextTagColorBJ(tt, 0, 29, 255, 15)
        call SetTextTagVelocity(tt, 0, .035)
        call SetTextTagFadepoint(tt, 3)
        call SetTextTagLifespan(tt, .9)
        call SetTextTagPermanent(tt, false)
        call SetTextTagVisibility(tt, false)
        if GetOwningPlayer(Z77) == GetLocalPlayer()then
            call SetTextTagVisibility(tt, true)
        endif
    endif
    set t = null
    set tt = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function BID takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local unit AM7 = (LoadUnitHandle(R8, (GetHandleId(t)), (14)))
    local unit BJD = (LoadUnitHandle(R8, (GetHandleId(AM7)), (229)))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", GetUnitX(BJD), GetUnitY(BJD)))
    call RemoveUnit(BJD)
    call UnitRemoveAbility(AM7, 'A0GC')
    if(LoadInteger(R8, (GetHandleId(AM7)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(AM7)), (704))) == ('A0G8')then
        call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), ('A0G8'), true)
    endif
    call FlushChildHashtable(R8, (GetHandleId(t)))
    call EA8(t)
    set AM7 = null
    set BJD = null
    set t = null
endfunction
function BKD takes nothing returns boolean
    return(GetSpellAbilityId() == ('A0GC'))
endfunction
function BMD takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local integer W57 = GetHandleId(AM7)
    local unit BJD = (LoadUnitHandle(R8, (W57), (229)))
    local real x = GetUnitX(BJD)
    local real y = GetUnitY(BJD)
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", GetUnitX(AM7), GetUnitY(AM7)))
    call KillUnit(BJD)
    call SetUnitX(AM7, x)
    call SetUnitY(AM7, y)
    call PanCameraToTimedForPlayer(GetOwningPlayer(AM7), x, y, 0)
    call IssueImmediateOrderById(AM7, 851972)
    set AM7 = null
    set BJD = null
endfunction
function BND takes nothing returns boolean
    return GetUnitAbilityLevel(GetSummonedUnit(), ('B030')) > 0 and GetUnitState(GetSummonedUnit(), UNIT_STATE_LIFE) > 0
endfunction
function BOD takes nothing returns nothing
    local unit AM7 = GetSummoningUnit()
    local integer W57 = GetHandleId(AM7)
    local unit X77 = (LoadUnitHandle(R8, (W57), (228)))
    local unit BJD = GetSummonedUnit()
    local trigger t
    call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), ('A0G8'), false)
    call O68(AM7, ('A0GC'))
    call SetUnitColor(BJD, GetPlayerColor(GetOwningPlayer(X77)))
    call SaveUnitHandle(R8, (W57), (229), (BJD))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, BJD, EVENT_UNIT_DEATH)
    call TriggerAddAction(t, function BID)
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (AM7))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, BJD, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function BHD))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (AM7))
    call SaveUnitHandle(R8, (GetHandleId(t)), (17), (BJD))
    call SaveInteger(R8, (GetHandleId(t)), (34), (GetUnitAbilityLevel(AM7, ('A0G8')) * 15 + 15 - 1))
    set AM7 = null
    set X77 = null
    set BJD = null
    set t = null
endfunction
function BPD takes nothing returns boolean
    return GetSpellAbilityId() == ('A0G8')
endfunction
function BQD takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    call SaveUnitHandle(R8, (GetHandleId(AM7)), (228), (X77))
    set AM7 = null
    set X77 = null
endfunction
function BRD takes nothing returns boolean
    if GetSpellAbilityId() == ('A0G8')then
        if GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(GetTriggerUnit())then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0LF'))
        endif
    endif
    return false
endfunction
function AV8 takes nothing returns nothing
    local trigger t
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BPD))
    call TriggerAddAction(t, function BQD)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function BND))
    call TriggerAddAction(t, function BOD)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BKD))
    call TriggerAddAction(t, function BMD)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function BRD))
    set t = null
endfunction
function BSD takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), BK4) == false then
        call GroupAddUnit(BM4, GetEnumUnit())
        call UnitRemoveAbility(GetEnumUnit(), 'B02J')
        call UnitRemoveAbility(GetEnumUnit(), 'BUsp')
        call UnitRemoveAbility(GetEnumUnit(), 'Bust')
    endif
endfunction
function BTD takes nothing returns nothing
    call UnitRemoveAbility(GetEnumUnit(), 'B02J')
    call UnitRemoveAbility(GetEnumUnit(), 'BUsp')
    call UnitRemoveAbility(GetEnumUnit(), 'Bust')
endfunction
function BUD takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), BJ4) == false then
        call GroupAddUnit(BJ4, GetEnumUnit())
        call SetUnitOwner(BI4, GetOwningPlayer(GetEnumUnit()), false)
        call IssueTargetOrderById(BI4, 852227, GetEnumUnit())
    endif
endfunction
function SirenAghanimRegen takes nothing returns nothing
    call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * .004)
endfunction
function BVD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local group g
    local group g2
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    if GetTriggerEvalCount(t) == 10 then
        call O68(Z77, 'A24E')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A07U', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A38E', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A24E', true)
    endif
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or GetTriggerEvalCount(t) > 140 or(GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A24E')then
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A07U' or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A38E' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A07U', true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A38E', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A24E', false)
        call ForGroup(XCD, function BTD)
        call OF8(XCD)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set g = OG8()
        set H04 = Z77
        set BH4 = Z77
        set BI4 = AC7
        set BJ4 = XCD
        call GroupEnumUnitsInRange(g, x, y, 1250 + 25, Condition(function T58))
        call ForGroup(g, function BUD)
        set BK4 = g
        set BM4 = OG8()
        call ForGroup(XCD, function BSD)
        call BlzGroupRemoveGroupFast(BM4, XCD)
        call OF8(g)
        call OF8(BM4)
        if GetUnitAbilityLevel(Z77, 'A38E') > 0 then
            set g2 = OG8()
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 1250 + 25, Condition(function U08))
            call ForGroup(g, function SirenAghanimRegen)
            call OF8(g2)
        endif
    endif
    set t = null
    set g = null
    set g2 = null
    set Z77 = null
    set XCD = null
    set AC7 = null
    return false
endfunction
function BWD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    call UnitAddAbility(AC7, 'A07T')
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BVD))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\SongOfTheSiren_2.mdx", Z77, "origin")))
    set t = null
    set Z77 = null
    set AC7 = null
endfunction
function BXD takes nothing returns boolean
    if GetSpellAbilityId() == 'A07U' or GetSpellAbilityId() == 'A38E' then
        call BWD()
    endif
    return false
endfunction
function AX8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BXD))
    set t = null
endfunction
function BYD takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2KU')
    local integer id = 'A244'
    call V08(Z77, X77, AB4, 60 + 40 * ML8)
    if ML8 == 2 then
        set id = 'A245'
    elseif ML8 == 3 then
        set id = 'A246'
    elseif ML8 == 4 then
        set id = 'A247'
    endif
    if S_9(X77) == false then
        call TZ8(X77, id, 1, 8)
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), id, false)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl", X77, "chest"))
    set Z77 = null
    set X77 = null
endfunction
function BZD takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), JR7) == false then
        call GroupAddUnit(JR7, GetEnumUnit())
        call BYD(JQ7, GetEnumUnit())
    endif
endfunction
function BAD takes nothing returns nothing
    local unit Z77 = GetEnumUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    call DestroyEffect(AddSpecialEffect("war3mapImported\\RipTide09.mdx", x, y))
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 320 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(g, function BZD)
    call OF8(g)
    set Z77 = null
    set g = null
endfunction
function BBD takes nothing returns boolean
    return IsUnitIllusion(GetFilterUnit())and O18(GetFilterUnit()) == false
endfunction
function BCD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    local integer i = 0
    set JR7 = OG8()
    set JQ7 = Z77
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(Z77), Condition(function BBD))
    call GroupAddUnit(g, Z77)
    call ForGroup(g, function BAD)
    call OF8(g)
    call OF8(JR7)
    set Z77 = null
    set g = null
endfunction
function B3D takes nothing returns boolean
    if GetSpellAbilityId() == 'A2KU' then
        call BCD()
    endif
    return false
endfunction
function AY8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function B3D))
    set t = null
endfunction
function B6D takes unit Z77, unit X77, integer ML8 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    call UnitAddAbility(AC7, 'A0BA')
    call SetUnitAbilityLevel(AC7, 'A0BA', ML8)
    call IssueTargetOrderById(AC7, 852106, X77)
    set AC7 = null
endfunction
function BLD takes nothing returns boolean
    if IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit()) == 'HC49' and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit())then
        call B6D(GetFilterUnit(), BO4, GetUnitAbilityLevel(GetTriggerUnit(), 'A24D'))
    endif
    return false
endfunction
function B1D takes nothing returns boolean
    if IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit()) == 'HC49' and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit())then
        call SetUnitFacing(GetFilterUnit(), H64)
        call SetUnitAnimation(GetFilterUnit(), "spell")
    endif
    return false
endfunction
function B0D takes unit X77 returns nothing
    local unit AM7 = GetTriggerUnit()
    local group g = OG8()
    set H64 = YI7(GetUnitX(AM7), GetUnitY(AM7), GetUnitX(X77), GetUnitY(X77))
    call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 700, Condition(function B1D))
    call OF8(g)
    set AM7 = null
    set g = null
endfunction
function B5D takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit X77 = BO4
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 700, Condition(function BLD))
    call OF8(g)
    set AM7 = null
    set X77 = null
    set g = null
endfunction
function B2D takes nothing returns boolean
    if GetSpellAbilityId() == 'A24D' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            if OE8(GetSpellTargetUnit()) == false then
                call B6D(GetTriggerUnit(), GetSpellTargetUnit(), GetUnitAbilityLevel(GetTriggerUnit(), 'A24D'))
                set BO4 = GetSpellTargetUnit()
                call B5D()
            endif
        else
            call B0D(GetSpellTargetUnit())
        endif
    endif
    return false
endfunction
function AZ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function B2D))
    set t = null
endfunction
function B_D takes unit C4D returns integer
    local real r = GetRandomReal(0, 100)
    local integer TA8 = GetUnitAbilityLevel(C4D, 'A088')
    local boolean C7D = (AV7(C4D, BU[FH4]) != null or GetUnitAbilityLevel(C4D, 'A3E7') > 0)
    local integer C8D = 0
    local integer id = GetPlayerId(GetOwningPlayer(C4D))
    set C7D = false
    if TA8 == 1 then
        set US4[id] = US4[id] + 1
        if C7D then
            if r < 30 then
                set UQ4[id] = UQ4[id] + 1
                set C8D = 3
            elseif r < 60 then
                set UP4[id] = UP4[id] + 1
                set C8D = 2
            endif
        else
            if r < 25 then
                set C8D = 2
                set UP4[id] = UP4[id] + 1
            endif
        endif
    elseif TA8 == 2 then
        set US4[id] = US4[id] + 1
        if C7D then
            if r < 17.5 then
                set C8D = 4
                set UR4[id] = UR4[id] + 1
            elseif r < 35 then
                set C8D = 3
                set UQ4[id] = UQ4[id] + 1
            elseif r < 70 then
                set C8D = 2
                set UP4[id] = UP4[id] + 1
            endif
        else
            if r < 20 then
                set C8D = 3
                set UQ4[id] = UQ4[id] + 1
            elseif r < 40 then
                set C8D = 2
                set UP4[id] = UP4[id] + 1
            endif
        endif
    elseif TA8 == 3 then
        set US4[id] = US4[id] + 1
        if C7D then
            if r < 10 then
                set C8D = 5
                set N4[id] = N4[id] + 1
            elseif r < 20 then
                set C8D = 4
                set UR4[id] = UR4[id] + 1
            elseif r < 40 then
                set C8D = 3
                set UQ4[id] = UQ4[id] + 1
            elseif r < 80 then
                set C8D = 2
                set UP4[id] = UP4[id] + 1
            endif
        else
            if r < 12.5 then
                set C8D = 4
                set UR4[id] = UR4[id] + 1
            elseif r < 25 then
                set C8D = 3
                set UQ4[id] = UQ4[id] + 1
            elseif r < 50 then
                set C8D = 2
                set UP4[id] = UP4[id] + 1
            endif
        endif
    endif
    return C8D
endfunction
function C9D takes nothing returns boolean
    local unit target = GetFilterUnit()
    local unit N28 = GetTriggerUnit()
    if IsUnitAlly(target, GetOwningPlayer(N28))and O18(target) == false and GetUnitAbilityLevel(target, 'Bblo') == 0 then
        if(GetOwningPlayer(target) == G8[0]or GetOwningPlayer(target) == N8[0])then
            if(GetUnitTypeId(target) == 'ugho' or GetUnitTypeId(target) == 'u001' or GetUnitTypeId(target) == 'unec' or GetUnitTypeId(target) == 'u002')then
                set target = null
                set N28 = null
                return true
            endif
            if(GetUnitTypeId(target) == 'esen' or GetUnitTypeId(target) == 'e00V' or GetUnitTypeId(target) == 'edry' or GetUnitTypeId(target) == 'e00W')then
                set target = null
                set N28 = null
                return true
            endif
            return false
        elseif IsUnitType(target, UNIT_TYPE_HERO) or GetOwningPlayer(target) == GetOwningPlayer(N28) or MZ8(target) > 0 then
            set target = null
            set N28 = null
            return true
        endif
    endif
    set target = null
    set N28 = null
    return false
endfunction
function CDD takes integer r returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = r
    local group XS8 = OG8()
    local unit AC7
    local unit Y_8
    local integer CED = GetSpellAbilityId()
    local integer T8 = 1
    if r == 2 then
        call QM8(GetObjectName('n0K7'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 3 then
        call QM8(GetObjectName('n0JT'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 4 then
        call QM8(GetObjectName('n0K8'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 5 then
        call QM8(GetObjectName('n0JO'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    endif
    set r = r - 1
    call GroupEnumUnitsInRange(XS8, GetUnitX(N28), GetUnitY(N28), 600, Condition(function C9D))
    if N28 != GetSpellTargetUnit()then
        call GroupAddUnit(XS8, N28)
    endif
    loop
        exitwhen T8 > TA8
        set T8 = T8 + 1
        set AC7 = CreateUnit(GetOwningPlayer(N28), 'e00C', GetUnitX(N28), GetUnitY(N28), 270)
        call O68(AC7, CED)
        call SetUnitAbilityLevel(AC7, CED, GetUnitAbilityLevel(N28, CED))
        call UnitApplyTimedLife(AC7, 'BTLF', 1.)
        set Y_8 = GroupPickRandomUnit(XS8)
        call IssueTargetOrder(AC7, "bloodlust", Y_8)
        call SetUnitPathing(AC7, false)
        call SetUnitInvulnerable(AC7, true)
        call O68(AC7, 'Aloc')
        call GroupRemoveUnit(XS8, Y_8)
    endloop
    call OF8(XS8)
    set N28 = null
    set XS8 = null
    set AC7 = null
    set Y_8 = null
endfunction
function CFD takes nothing returns boolean
    local integer r
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A088') > 0 and(GetSpellAbilityId() == 'A083' or GetSpellAbilityId() == 'A08I' or GetSpellAbilityId() == 'A08G' or GetSpellAbilityId() == 'A08F')then
        set r = B_D(GetTriggerUnit())
        if r > 1 then
            call CDD(r)
        endif
    endif
    return false
endfunction
function AB8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CFD))
    set t = null
endfunction
function CHD takes nothing returns nothing
    local unit Z77 = H04
    call O68(Z77, 'A2KQ')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2KQ', true)
    // call DT8(GetHandleId(Z77), "AI|Magi2Blast", true)
    set Z77 = null
endfunction
function AKY3 takes nothing returns boolean
    return(GU8(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(), 'B03J') == 0 and GetFilterUnit() != H54
endfunction
function AKJ3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer CKD = (LoadInteger(R8, (EC8), (300)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer CMD = (LoadInteger(R8, (EC8), (299)))
    local unit AC7
    local group g = OG8()
    set H04 = Z77
    set H54 = target
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1425, Condition(function AKY3))
    set target = GroupPickRandomUnit(g)
    if target == null then
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1425, Condition(function GenericCondition_EnemyUnitsExNoImmuneVisible))
        set target = GroupPickRandomUnit(g)
    endif
    call OF8(g)
    call SaveUnitHandle(R8, (EC8), (17), (target))
    if GetTriggerEvalCount(t) > CKD then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        if CMD == 'A2KQ' then
            set CMD = 'A2KR'
        endif
        call O68(AC7, CMD)
        call SetUnitAbilityLevel(AC7, CMD, TA8)
        call IssueTargetOrder(AC7, "acidbomb", target)
    endif
    set t = null
    set target = null
    set Z77 = null
    set AC7 = null
    set g = null
    return false
endfunction
function AKM3 takes integer r returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer CMD = GetSpellAbilityId()
    local integer TA8 = GetUnitAbilityLevel(Z77, CMD)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    if r == 2 then
        call QM8(GetObjectName('n0K7'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 3 then
        call QM8(GetObjectName('n0JT'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 4 then
        call QM8(GetObjectName('n0K8'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 5 then
        call QM8(GetObjectName('n0JO'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    endif
    set r = r - 1
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveInteger(R8, (EC8), (300), (r))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (299), (CMD))
    call TriggerRegisterTimerEvent(t, .4, true)
    call TriggerAddCondition(t, Condition(function AKJ3))
    set t = null
    set target = null
    set Z77 = null
endfunction
function CGD takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    call O68(AC7, 'A2KR')
    call IssueTargetOrder(AC7, "thunderbolt", X77)
    call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) * 0.4)
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function CJD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer CKD = (LoadInteger(R8, (EC8), (300)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer CMD = (LoadInteger(R8, (EC8), (299)))
    local unit AC7
    if GetTriggerEvalCount(t) > CKD then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(target), GetUnitY(target), 0)
        if CMD == 'A2KQ' then
            set CMD = 'A2KR'
        endif
        call O68(AC7, CMD)
        call SetUnitAbilityLevel(AC7, CMD, TA8)
        call IssueTargetOrder(AC7, "thunderbolt", target)
    endif
    set t = null
    set target = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function CND takes integer r returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer CMD = GetSpellAbilityId()
    local integer TA8 = GetUnitAbilityLevel(Z77, CMD)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    if r == 2 then
        call QM8(GetObjectName('n0K7'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 3 then
        call QM8(GetObjectName('n0JT'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 4 then
        call QM8(GetObjectName('n0K8'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    elseif r == 5 then
        call QM8(GetObjectName('n0JO'), 5, GetTriggerUnit(), .03, 255, 0, 0, 255)
    endif
    set r = r - 1
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveInteger(R8, (EC8), (300), (r))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (299), (CMD))
    call TriggerRegisterTimerEvent(t, .4, true)
    call TriggerAddCondition(t, Condition(function CJD))
    set t = null
    set target = null
    set Z77 = null
endfunction
function COD takes nothing returns boolean
    local integer r
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A088') > 0 and OE8(GetSpellTargetUnit()) == false then
        if GetSpellAbilityId() == 'A04W' or GetSpellAbilityId() == 'A08D' or GetSpellAbilityId() == 'A08A' or GetSpellAbilityId() == 'A089' or GetSpellAbilityId() == 'A2KQ' then
            set r = B_D(GetTriggerUnit())
            if r > 1 and((LoadInteger(R8, (GetHandleId(GetSpellTargetUnit())), (4322))) == 1) == false then
                call CND(r)
            endif
        elseif GetSpellAbilityId() == 'A011' or GetSpellAbilityId() == 'A007' or GetSpellAbilityId() == 'A17W' or GetSpellAbilityId() == 'A01T' or GetSpellAbilityId() == 'A17X' or GetSpellAbilityId() == 'A00F' or GetSpellAbilityId() == 'A17Y' or GetSpellAbilityId() == 'A17V' then
            set r = B_D(GetTriggerUnit())
            if r > 1 and((LoadInteger(R8, (GetHandleId(GetSpellTargetUnit())), (4322))) == 1) == false then
                call AKM3(r)
            endif
        endif
    endif
    if OE8(GetSpellTargetUnit()) == false and GetSpellAbilityId() == 'A2KQ' then
        call CGD()
    endif
    return false
endfunction
function CPD takes nothing returns boolean
    local integer id = GetPlayerId(GetTriggerPlayer())
    local string BED
    local string BFD
    local string BGD
    local string CQD
    local string CRD
    local string str6
    if US4[id] > 0 then
        set BED = GetObjectName('n0JH') + " " + I2S(US4[id])
        set BFD = GetObjectName('n0JM') + " " + I2S(UP4[id] + UQ4[id] + UR4[id] + N4[id]) + " (" + I2S((UP4[id] + UQ4[id] + UR4[id] + N4[id]) * 100 / US4[id]) + "%)"
        set BGD = GetObjectName('n0JL') + " " + I2S(UP4[id]) + " (" + I2S(100 * UP4[id] / US4[id]) + "%)"
        set CQD = GetObjectName('n0JK') + " " + I2S(UQ4[id]) + " (" + I2S(100 * UQ4[id] / US4[id]) + "%)"
        set CRD = GetObjectName('n0JJ') + " " + I2S(UR4[id]) + " (" + I2S(100 * UR4[id] / US4[id]) + "%)"
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., BED)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., BFD)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., BGD)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., CQD)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., CRD)
    endif
    return false
endfunction
function AA8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function COD))
    set t = CreateTrigger()
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-st", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-st", true)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function CPD))
    set t = null
endfunction
function CSD takes nothing returns boolean
    return GetSpellAbilityId() == 'A08N'
endfunction
function Uu takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') != 1 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function UU takes nothing returns nothing
    call V08(GetTriggerUnit(), GetEnumUnit(), A34, Y8)
endfunction
function CTD takes nothing returns nothing
    local group XS8 = OG8()
    local real x = GetUnitX(GetSpellTargetUnit())
    local real y = GetUnitY(GetSpellTargetUnit())
    set Y8 = 90 * GetUnitAbilityLevel(GetTriggerUnit(), 'A08N')
    if GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) > 1 then
        call SetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE, GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) + Y8)
    endif
    call GroupEnumUnitsInRange(XS8, x, y, 260 + 25, Condition(function Uu))
    call ForGroup(XS8, function UU)
    call OF8(XS8)
    set XS8 = null
endfunction
function PN takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CSD))
    call TriggerAddAction(t, function CTD)
    set t = null
endfunction
function ALK3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real d = Z47(p5, target)
    local real PND = (LoadReal(R8, (EC8), (6)))
    local real POD = (LoadReal(R8, (EC8), (7)))
    local real x
    local real y
    local real a = YH7(p5, target)
    if O18(p5)or O18(target)or d < 175 or GetTriggerEvalCount(t) > 250 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set x = PQ8(PND + 800 * 0.02 * Cos(a * bj_DEGTORAD))
        set y = PS8(POD + 800 * 0.02 * Sin(a * bj_DEGTORAD))
        call SetUnitX(p5, x)
        call SetUnitY(p5, y)
        call SetUnitFacing(p5, a)
        call SaveReal(R8, (EC8), (6), (x))
        call SaveReal(R8, (EC8), (7), (y))
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function ALL3 takes unit p5, unit target returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call IssueTargetOrder(p5, "attack", target)
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function ALK3))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    set t = null
    set p5 = null
    set target = null
endfunction
function ALM3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (GetHandleId(p5)), (831)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A0YK')
    local real APD2 = (LoadReal(R8, (GetHandleId(p5)), (832)))
    local boolean ALN3 = (TimerGetElapsed(E4)) > (APD2 + 20 - 4 * TA8)
    local integer ALS3 = 500 + 100 * TA8
    local integer ALT3 = 300
    local real d
    if IsUnitIllusion(p5) == true and O18(p5)then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif target == null or O18(target) == true then
        call SaveUnitHandle(R8, (GetHandleId(p5)), (831), (null))
    elseif ALN3 then
        set d = Z47(p5, target)
        if d > ALT3 and d < ALS3 then
            call SaveReal(R8, (GetHandleId(p5)), (832), (TimerGetElapsed(E4)))
            call SaveUnitHandle(R8, (GetHandleId(p5)), (831), (null))
            call RemoveSavedHandle(R8, (GetHandleId(p5)), (831))
            call ALL3(p5, target)
        endif
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function ALR3 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function ALM3))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = null
    set p5 = null
endfunction
function ALP3 takes nothing returns boolean
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0YK') > 0 then
        if GetIssuedOrderId() == 851971 and GetOrderTargetUnit() != null and IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), GetOwningPlayer(GetOrderTargetUnit())) == false then
            call SaveUnitHandle(R8, (GetHandleId(GetTriggerUnit())), (831), (GetOrderTargetUnit()))
        elseif GetIssuedOrderId() == 851983 and GetOrderTargetUnit() != null and IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()), GetOwningPlayer(GetOrderTargetUnit())) == false then
            call SaveUnitHandle(R8, (GetHandleId(GetTriggerUnit())), (831), (GetOrderTargetUnit()))
        else
            call SaveUnitHandle(R8, (GetHandleId(GetTriggerUnit())), (831), (null))
            call RemoveSavedHandle(R8, (GetHandleId(GetTriggerUnit())), (831))
        endif
    endif
    return false
endfunction
function ALQ3 takes nothing returns boolean
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0YK') == 1 then
        call ALR3()
    endif
    return false
endfunction
function Po takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerAddCondition(t, Condition(function ALP3))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function ALQ3))
    set t = null
endfunction
function CYD takes nothing returns boolean
    if GetUnitAbilityLevel(GetFilterUnit(), 'B03B') > 0 and IsUnitIllusion(GetFilterUnit()) then
        set HB4 = HB4 + 1
    endif
    return false
endfunction
function CZD takes nothing returns nothing
    local unit CAD = GetEventDamageSource()
    local group g = OG8()
    local integer CBD = GetRandomInt(1, 100)
    local integer CCD = GetUnitAbilityLevel(CAD, 'A0DB')
    local integer C3D
    local unit AC7
    local integer C6D = 4 + 2 * CCD
    local integer ALX3 = 35 + 5 * CCD
    local integer CLD = 8
    set HB4 = 0
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(CAD), Condition(function CYD))
    call OF8(g)
    if HB4 < C6D and IsBroken(CAD) == false then
        if IsUnitIllusion(CAD) == false and CBD <= ALX3 then
            set AC7 = CreateUnit(GetOwningPlayer(CAD), 'e00E', GetUnitX(CAD), GetUnitY(CAD), 0)
            call O68(AC7, 'A0DD')
            call IssueTargetOrderById(AC7, 852274, CAD)
        endif
        if IsUnitIllusion(CAD) and CBD <= CLD then
            set AC7 = CreateUnit(GetOwningPlayer(CAD), 'e00E', GetUnitX(CAD), GetUnitY(CAD), 0)
            call O68(AC7, 'A0DD')
            call IssueTargetOrderById(AC7, 852274, CAD)
        endif
    endif
    set CAD = null
    set g = null
    set AC7 = null
endfunction
function C1D takes nothing returns boolean
    if IsNormalAttackHero() and (GetUnitAbilityLevel(GetEventDamageSource(), 'B03B') > 0) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) then
        call CZD()
    endif
    return false
endfunction
function AC8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function C1D))
    set t = null
endfunction
function C0D takes nothing returns boolean
    local unit C5D = GetSummonedUnit()
    local unit oA
    local unit target
    if GetUnitAbilityLevel(C5D, 'B098') > 0 then
        set oA = GetSummoningUnit()
        set target = (LoadUnitHandle(R8, (GetHandleId(oA)), (303)))
        call SetUnitX(C5D, GetUnitX(target))
        call SetUnitY(C5D, GetUnitY(target))
        call IssueTargetOrderById(C5D, 851983, target)
    endif
    set C5D = null
    set oA = null
    set target = null
    return false
endfunction
function C2D takes player p, unit target, integer TA8 returns nothing
    local unit oA = CreateUnit(p, 'e00E', GetUnitX(target), GetUnitX(target), 0)
    local integer C_D
    call SaveUnitHandle(R8, (GetHandleId(oA)), (303), (target))
    if TA8 == 1 then
        set C_D = 'A10H'
    elseif TA8 == 2 then
        set C_D = 'A10G'
    elseif TA8 == 3 then
        set C_D = 'A10I'
    else
        set C_D = 'A10F'
    endif
    call O68(oA, C_D)
    call IssueTargetOrderById(oA, 852274, Y7[GetPlayerId(p)])
    set oA = null
endfunction
function L4D takes player p, unit X77, integer TA8, boolean L7D, boolean L8D returns nothing
    local real P08 = 50 + 50 * TA8
    local unit AC7
    if L8D then
        set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
        call O68(AC7, 'A10C')
        call SetUnitAbilityLevel(AC7, 'A10C', TA8)
        call IssueTargetOrderById(AC7, 852189, X77)
        call V08(Y7[GetPlayerId(p)], X77, AB4, P08)
        if L7D then
            call C2D(p, X77, TA8)
        endif
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl", X77, "origin"))
    set AC7 = null
endfunction
function L9D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(V_8)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local boolean L8D = (LoadBoolean(R8, (EC8), (302)))
    local unit IJ = (LoadUnitHandle(R8, (EC8), (45)))
    local real x = GetUnitX(IJ)
    local real y = GetUnitY(IJ)
    local real hN = GetUnitX(target)
    local real ho = GetUnitY(target)
    local real Ik = 1000 * .035
    local real IK = YI7(x, y, hN, ho)
    local real Il = PQ8(x + Ik * Cos(IK * bj_DEGTORAD))
    local real IL = PS8(y + Ik * Sin(IK * bj_DEGTORAD))
    local boolean UN9 = (LoadBoolean(R8, (EC8), (249)))
    call SetUnitX(IJ, Il)
    call SetUnitY(IJ, IL)
    call SetUnitFacing(IJ, IK)
    if((LoadInteger(R8, (GetHandleId((target))), ((4422)))) == 1) == true then
        set UN9 = false
        call SaveBoolean(R8, (EC8), (249), (UN9))
    endif
    if Z87(hN, ho, Il, IL) <= Ik then
        if UN9 then
            call L4D(p, target, TA8, true, L8D)
        endif
        call KillUnit(IJ)
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set target = null
    set IJ = null
    return false
endfunction
function LDD takes unit Z77, integer TA8, unit target, boolean L8D returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit IJ = CreateUnit(GetOwningPlayer(Z77), 'h06L', GetUnitX(Z77), GetUnitY(Z77), YI7(GetUnitX(Z77), GetUnitY(Z77), GetUnitX(target), GetUnitY(target)))
    call SavePlayerHandle(R8, (EC8), (54), (GetOwningPlayer(Z77)))
    call SaveInteger(R8, (EC8), (30), (KJ8(target)))
    call SaveBoolean(R8, (EC8), (302), (L8D))
    call SaveUnitHandle(R8, (EC8), (45), (IJ))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveBoolean(R8, (EC8), (249), (true))
    call TriggerRegisterTimerEvent(t, .035, true)
    call TriggerAddCondition(t, Condition(function L9D))
    set t = null
    set IJ = null
endfunction
function LED takes nothing returns boolean
    if IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit()) == 'Ogrh' and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit())then
        call LDD(GetFilterUnit(), GetUnitAbilityLevel(GetTriggerUnit(), 'A10D'), GetSpellTargetUnit(), false)
    endif
    return false
endfunction
function LFD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A10D')
    local unit target = GetSpellTargetUnit()
    local group g = OG8()
    local boolean LGD = OE8(GetSpellTargetUnit())
    call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 700, Condition(function LED))
    if LGD then
        call LDD(N28, TA8, target, false)
    else
        call LDD(N28, TA8, target, true)
    endif
    call OF8(g)
    set N28 = null
    set target = null
    set g = null
endfunction
function LHD takes nothing returns boolean
    if IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit()) == 'Ogrh' and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit())then
        call SetUnitFacing(GetFilterUnit(), H64)
        call SetUnitAnimation(GetFilterUnit(), "spell")
    endif
    return false
endfunction
function LID takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local group g = OG8()
    set H64 = YI7(GetUnitX(N28), GetUnitY(N28), GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()))
    call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 700, Condition(function LHD))
    call OF8(g)
    set N28 = null
    set g = null
endfunction
function LJD takes nothing returns boolean
    if GetSpellAbilityId() == 'A10D' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call LFD()
        else
            call LID()
        endif
    endif
    return false
endfunction
function A38 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LJD))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function LJD))
    call PU8('A10C')
    call PU8('A10H')
    call PU8('A10G')
    call PU8('A10I')
    call PU8('A10F')
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function C0D))
    set t = null
endfunction
function ALU3 takes nothing returns nothing
    call SetUnitX(GetEnumUnit(), PQ8(H64 + GetRandomInt(0, 500) - 250))
    call SetUnitY(GetEnumUnit(), PS8(HL4 + GetRandomInt(0, 500) - 250))
    call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DG_Reappear.mdx", GetEnumUnit(), "chest"))
endfunction
function AM03 takes nothing returns boolean
    return GetOwningPlayer(H04) == GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit()) == true
endfunction
function AMI3 takes nothing returns nothing
    call SetUnitInvulnerable(GetEnumUnit(), false)
    call PauseUnit(GetEnumUnit(), false)
    call ShowUnit(GetEnumUnit(), true)
    call SetUnitX(GetEnumUnit(), PQ8(H64 + GetRandomInt(0, 250)))
    call SetUnitY(GetEnumUnit(), PS8(HL4 + GetRandomInt(0, 250)))
endfunction
function AM13 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local unit oA
    call S18(GetOwningPlayer(p5), 1, x, y, 925)
    call SC8(x, y, 225)
    set H64 = x
    set HL4 = y
    call ForGroup(g, function AMI3)
    call GroupAddUnit(g, p5)
    set oA = CreateUnit(GetOwningPlayer(p5), 'e00E', x, y, 0)
    call O68(oA, 'A30E')
    call IssueTargetOrderById(oA, 852274, p5)
    set oA = CreateUnit(GetOwningPlayer(p5), 'e00E', x, y, 0)
    call O68(oA, 'A30D')
    call IssueTargetOrderById(oA, 852274, p5)
    call OF8(g)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set g = OG8()
    set H04 = p5
    call GroupEnumUnitsInRange(g, x, y, 925, Condition(function AM03))
    call GroupAddUnit(g, p5)
    call ForGroup(g, function ALU3)
    call OF8(g)
    call ClearSelectionForPlayer(GetOwningPlayer(p5))
    call SelectUnitAddForPlayer(p5, GetOwningPlayer(p5))
    set t = null
    set p5 = null
    set g = null
    set oA = null
    return false
endfunction
function AMO3 takes nothing returns nothing
    call SelectUnitRemoveForPlayer(GetEnumUnit(), GetOwningPlayer(GetEnumUnit()))
    call SetUnitInvulnerable(GetEnumUnit(), true)
    call PauseUnit(GetEnumUnit(), true)
    call ShowUnit(GetEnumUnit(), false)
    call DestroyEffect(AddSpecialEffect("war3mapImported\\DG_Disappear.mdx", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
endfunction
function AM23 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (EC8), (2)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call ForGroup(g, function AMO3)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (2), (X77))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveReal(R8, (EC8), (6), ((x)))
    call SaveReal(R8, (EC8), (7), ((y)))
    call TriggerRegisterTimerEvent(t, 1, false)
    call TriggerAddCondition(t, Condition(function AM13))
    set t = null
    set X77 = null
    set g = null
    return false
endfunction
function LKD takes nothing returns nothing
    local unit X77 = GetTriggerUnit()
    local group g = OG8()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    set H04 = X77
    call GroupEnumUnitsInRange(g, x, y, 925, Condition(function AM03))
    call GroupAddUnit(g, X77)
    call SaveUnitHandle(R8, (EC8), (2), (X77))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerAddCondition(t, Condition(function AM23))
    call TF9(X77)
    set t = null
    set X77 = null
    set g = null
endfunction
function LMD takes nothing returns boolean
    if GetSpellAbilityId() == 'A30C' then
        call LKD()
    endif
    return false
endfunction
function A68 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LMD))
    set t = null
endfunction
function LND takes nothing returns boolean
    return GetSpellAbilityId() == 'A07Z'
endfunction
function U5 takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e022', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 270)
    call O68(oA, 'A06T')
    call SetUnitAbilityLevel(oA, 'A06T', GetUnitAbilityLevel(N28, 'A07Z'))
    call IssueTargetOrderById(oA, 852171, GetEnumUnit())
    set N28 = null
    set oA = null
endfunction
function LOD takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local group XS8 = OG8()
    set H04 = N28
    call GroupEnumUnitsInRange(XS8, GetUnitX(N28), GetUnitY(N28), 825, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(XS8, function U5)
    call OF8(XS8)
    set N28 = null
    set XS8 = null
endfunction
function AL8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LND))
    call TriggerAddAction(t, function LOD)
    set t = null
endfunction
function LPD takes unit Z77, integer TA8 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    call O68(AC7, 'A1GB')
    call SetUnitAbilityLevel(AC7, 'A1GB', TA8)
    call IssueTargetOrderById(AC7, 852069, Z77)
    call O68(Z77, 'A23O')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A23O', false)
    set AC7 = null
endfunction
function LQD takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'h0BT'
endfunction
function LRD takes unit N28 returns boolean
    local group g = OG8()
    local boolean LTD = false
    call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 375, Condition(function LQD))
    if FirstOfGroup(g) != null then
        set LTD = true
    endif
    call OF8(g)
    set g = null
    return LTD
endfunction
function LUD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit N28 = KH8(V_8)
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real U89 = (LoadReal(R8, (EC8), (442)))
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED and(LoadBoolean(R8, (EC8), (329)))and GetAttacker() == N28 then
        call UnitRemoveAbility(N28, 'B021')
        call UnitRemoveAbility(N28, 'A1GA')
        call UnitRemoveAbility(N28, 'A23O')
        call UnitRemoveAbility(N28, 'B0E9')
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if GetTriggerEventId() != EVENT_PLAYER_UNIT_ATTACKED and GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT then
            set C77 = C77 + 1
            call SaveInteger(R8, (EC8), (34), (C77))
        elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A01Z' and GetTriggerUnit() == N28 then
            call SaveReal(R8, (EC8), (442), (((TimerGetElapsed(E4)) + 1.0)))
            call DisableTrigger(GetTriggeringTrigger())
            call LPD(N28, TA8)
            call EnableTrigger(GetTriggeringTrigger())
            call SaveInteger(R8, (EC8), (34), (0))
        endif
        if nA(GetUnitX(N28), GetUnitY(N28), 375) == false and LRD(N28) == false then
            if U89 < (TimerGetElapsed(E4))or GetTriggerEvalCount(t) == 1 then
                call UnitRemoveAbility(N28, 'B021')
                call UnitRemoveAbility(N28, 'A1GA')
                call UnitRemoveAbility(N28, 'A23O')
                call UnitRemoveAbility(N28, 'B0E9')
                call KG8(V_8)
                call FlushChildHashtable(R8, EC8)
                call EA8(t)
            endif
        elseif(LoadBoolean(R8, (EC8), (329)))and C77 > (150 * TA8)then
            call UnitRemoveAbility(N28, 'B021')
            call UnitRemoveAbility(N28, 'A1GA')
            call UnitRemoveAbility(N28, 'A23O')
            call UnitRemoveAbility(N28, 'B0E9')
            call KG8(V_8)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        elseif(LoadBoolean(R8, (EC8), (329)))and GetUnitAbilityLevel(N28, 'B021') == 0 and GetUnitAbilityLevel(N28, 'A1GA') > 0 then
            call SaveReal(R8, (EC8), (442), ((TimerGetElapsed(E4)) + 1.0))
            call DisableTrigger(GetTriggeringTrigger())
            call LPD(N28, TA8)
            call EnableTrigger(GetTriggeringTrigger())
        elseif GetUnitAbilityLevel(N28, 'B021') == 0 then
            call UnitRemoveAbility(N28, 'B021')
            call UnitRemoveAbility(N28, 'A1GA')
            call UnitRemoveAbility(N28, 'A23O')
            call UnitRemoveAbility(N28, 'B0E9')
            call KG8(V_8)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        else
            call SaveReal(R8, (EC8), (442), ((TimerGetElapsed(E4)) + 1.))
        endif
    endif
    set t = null
    set N28 = null
    return false
endfunction
function LXD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEventId() != EVENT_WIDGET_DEATH then
        if GetUnitAbilityLevel(p5, 'B021') > 0 then
            call O68(p5, 'A1GA')
        endif
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    return false
endfunction
function LYD takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveInteger(R8, (EC8), (30), (KJ8(GetSpellTargetUnit())))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(GetTriggerUnit(), 'A01Z')))
    call SaveInteger(R8, (EC8), (34), (0))
    call SaveReal(R8, (EC8), (442), (((TimerGetElapsed(E4)) + 1.0)))
    call TriggerAddCondition(t, Condition(function LUD))
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call O68(GetSpellTargetUnit(), 'A23O')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetSpellTargetUnit()), 'A23O', false)
    if GetTriggerUnit() == GetSpellTargetUnit()then
        call SaveBoolean(R8, (EC8), (329), (true))
        call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
        call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call SaveUnitHandle(R8, (EC8), (2), (GetTriggerUnit()))
        call TriggerAddCondition(t, Condition(function LXD))
        call TriggerRegisterTimerEvent(t, 2, false)
        call TriggerRegisterDeathEvent(t, GetTriggerUnit())
    endif
    set t = null
endfunction
function LZD takes nothing returns boolean
    if GetSpellAbilityId() == 'A01Z' then
        call LYD()
    endif
    return false
endfunction
function A18 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LZD))
    set t = null
endfunction
function LAD takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (686)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or LBD < (TimerGetElapsed(E4))or GU8(X77)then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveReal(R8, (GetHandleId(X77)), (686), (0.))
        call UnitRemoveAbility(X77, 'A24P')
        call UnitRemoveAbility(X77, 'A24P')
        call UnitRemoveAbility(X77, 'A24P')
        call UnitRemoveAbility(X77, 'A24P')
        call UnitRemoveAbility(X77, 'B0EG')
    else
        call V08(Z77, X77, AB4, 15 + 15 * ML8)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function LCD takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (686)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1G7')
    if LBD > (TimerGetElapsed(E4))then
        call SaveReal(R8, (GetHandleId(X77)), (686), ((TimerGetElapsed(E4)) + 4))
    else
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveReal(R8, (GetHandleId(X77)), (686), ((TimerGetElapsed(E4)) + 4))
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerRegisterDeathEvent(t, X77)
        call TriggerAddCondition(t, Condition(function LAD))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveInteger(R8, (W57), (5), (ML8))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleImpact.mdl", X77, "overhead")))
        if ML8 == 1 then
            call O68(X77, 'A24P')
            call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A24P', false)
        elseif ML8 == 2 then
            call O68(X77, 'A24P')
            call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A24P', false)
        elseif ML8 == 3 then
            call O68(X77, 'A24P')
            call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A24P', false)
        elseif ML8 == 4 then
            call O68(X77, 'A24P')
            call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A24P', false)
        endif
    endif
    set t = null
endfunction
function Sentinel_FindClosest takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(UB4)and(GetUnitTypeId(GetFilterUnit()) == 'h0BT' or GetUnitTypeId(GetFilterUnit()) == 'h0BU')then
        if Z87(GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()), UC4, U34) < U64 then
            set UA4 = GetFilterUnit()
            set U64 = Z87(GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()), UC4, U34)
        endif
    endif
    return false
endfunction
function L3D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77
    local group g
    local real PX9 = (LoadReal(R8, (W57), (442)))
    local real x
    local real y
    local integer MB8
    local real hp
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_DEATH then
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DEATH then
        if GetTriggerUnit() == AC7 then
            call UnitRemoveAbility(AC7, 'Apiv')
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    elseif GetUnitTypeId(AC7) == 'h0BT' then
        set H04 = AC7
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(AC7), GetUnitY(AC7), 110, Condition(function GenericCondition_EnemyUnitsEx))
        set X77 = GUD(g, GetUnitX(AC7), GetUnitY(AC7))
        call OF8(g)
        if X77 != null then
            call LCD(Z77, X77)
            set x = GetUnitX(AC7)
            set y = GetUnitY(AC7)
            set hp = GetUnitState(AC7, UNIT_STATE_LIFE)
            call ShowUnit(AC7, false)
            call DisableTrigger(t)
            call KillUnit(AC7)
            call EnableTrigger(t)
            set AC7 = CreateUnit(GetOwningPlayer(Z77), 'h0BU', x, y, 0)
            call SetUnitState(AC7, UNIT_STATE_LIFE, hp)
            call UnitApplyTimedLife(AC7, 'BTLF', 480 - ((TimerGetElapsed(E4)) - PX9))
            call SaveUnitHandle(R8, (W57), (19), (AC7))
            call SaveReal(R8, (W57), (411), ((TimerGetElapsed(E4)) + 4))
        endif
    elseif GetUnitTypeId(AC7) == 'h0BU' and(LoadReal(R8, (W57), (411))) < (TimerGetElapsed(E4))then
        set x = GetUnitX(AC7)
        set y = GetUnitY(AC7)
        set hp = GetUnitState(AC7, UNIT_STATE_LIFE)
        call ShowUnit(AC7, false)
        call DisableTrigger(t)
        call KillUnit(AC7)
        call EnableTrigger(t)
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'h0BT', x, y, 0)
        call SetUnitState(AC7, UNIT_STATE_LIFE, hp)
        call UnitApplyTimedLife(AC7, 'BTLF', 480 - ((TimerGetElapsed(E4)) - PX9))
        call SaveUnitHandle(R8, (W57), (19), (AC7))
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
    set g = null
    return false
endfunction
function L6D takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1G7')
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'h0BT', x, y, 0)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call UnitApplyTimedLife(AC7, 'BTLF', 480)
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function L3D))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (442), (TimerGetElapsed(E4)))
    call SaveInteger(R8, (W57), (34), (0))
    set t = null
    set Z77 = null
    set AC7 = null
endfunction
function LLD takes nothing returns boolean
    if GetSpellAbilityId() == 'A1G7' then
        call L6D()
    endif
    return false
endfunction
function A58 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LLD))
    set t = null
endfunction
function L0D takes nothing returns nothing
    local unit target = GetEnumUnit()
    local real d = Z87(GetUnitX(target), GetUnitY(target), K77, K87)
    if d < K47 and IsUnitVisible(target, GetOwningPlayer(K97)) == true and(IsUnitType(target, UNIT_TYPE_HERO) == true or(IsUnitType(target, UNIT_TYPE_STRUCTURE) == true and UJ8(target)))then
        set J_7 = GetEnumUnit()
        set K47 = d
    endif
    set target = null
endfunction
function L5D takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2ML')
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if W18(GetEventDamage()) then
            set C77 = C77 + 1
            call SaveInteger(R8, (EC8), (34), (C77))
            call BlzSetEventDamage(GetEventDamage() - RMinBJ(GetEventDamage(), 20 * GetUnitAbilityLevel(p5, 'A2ML')))
        endif
    endif
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED or C77 > (TA8 + 3 - 1)then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call UnitRemoveAbility(target, 'A2MX')
        call UnitRemoveAbility(target, 'A2MY')
        call UnitRemoveAbility(target, 'A2MW')
        call UnitRemoveAbility(target, 'A2MV')
        call UnitRemoveAbility(target, 'B0G5')
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function L2D takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer L47 = 'A2MX'
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2ML')
    local group g
    if target == null then
        set J_7 = null
        set K97 = p5
        set K47 = 999999
        set K77 = GetSpellTargetX()
        set K87 = GetSpellTargetY()
        set H04 = p5
        set g = OG8()
        call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function VQ8))
        call ForGroup(g, function L0D)
        call OF8(g)
        set target = J_7
        set g = null
    endif
    if TA8 == 2 then
        set L47 = 'A2MY'
    elseif TA8 == 3 then
        set L47 = 'A2MW'
    elseif TA8 == 4 then
        set L47 = 'A2MV'
    endif
    call O68(target, L47)
    call SetPlayerAbilityAvailable(GetOwningPlayer(target), L47, false)
    call TriggerRegisterTimerEvent(t, 15, false)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function L5D))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveInteger(R8, (EC8), (34), (0))
    set t = null
    set p5 = null
    set target = null
endfunction
function L_D takes nothing returns boolean
    if GetSpellAbilityId() == 'A2ML' then
        call L2D()
    endif
    return false
endfunction
function A08 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function L_D))
    set t = null
endfunction
function D4E takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H04
    local unit X77 = H54
    local real D7E = (LoadReal(R8, (W57), (21)))
    call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + D7E)
    set Z77 = null
    set X77 = null
endfunction
function D8E takes nothing returns nothing
    local trigger t = T88(LU4, GetEnumUnit(), 'h0D8', "D4E", 400, false)
    local integer W57 = GetHandleId(t)
    call SaveReal(R8, (W57), (21), (LV4))
    set t = null
endfunction
function D9E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local group g
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(X77, 'A273')
        call UnitRemoveAbility(X77, 'B0EL')
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        if C77 > 5 then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call UnitRemoveAbility(X77, 'A273')
            call UnitRemoveAbility(X77, 'B0EL')
        endif
        call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl", X77, "origin"))
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 525, Condition(function U08))
        set LU4 = X77
        set LV4 = 15 * ML8
        call ForGroup(g, function D8E)
        call OF8(g)
        call V08(Z77, X77, AB4, LV4)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set g = null
    return false
endfunction
function DDE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A26N')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(X77, 'A273')
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A273', false)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerRegisterTimerEvent(t, 4.5, false)
    call TriggerAddCondition(t, Condition(function D9E))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (442), (TimerGetElapsed(E4)))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (34), (0))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function LeechSeed takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    call T88(Z77, X77, 'h0D9', "DDE", 600, false)
    set Z77 = null
    set X77 = null
endfunction
function DEE takes nothing returns boolean
    if GetSpellAbilityId() == 'A26N' and OE8(GetSpellTargetUnit()) == false then
        call DDE()
    endif
    return false
endfunction
function A28 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DEE))
    set t = null
endfunction
function AMG3 takes nothing returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(H04), 'e022', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 270)
    call O68(oA, 'A316')
    call SetUnitAbilityLevel(oA, 'A316', GetUnitAbilityLevel(H04, 'A07Z'))
    call IssueTargetOrder(oA, "entanglingroots", GetEnumUnit())
    set oA = null
endfunction
function AMH3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local destructable d = (LoadDestructableHandle(R8, (EC8), (834)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local group g
    if GetDestructableLife(d) <= 0 then
        call KillUnit(oA)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A07Z' then
        set g = OG8()
        set H04 = p5
        call GroupEnumUnitsInRange(g, GetUnitX(oA), GetUnitY(oA), 825, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function AMG3)
        call OF8(g)
    endif
    set t = null
    set d = null
    set g = null
    set oA = null
    set p5 = null
    return false
endfunction
function AMZ3 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local destructable d = GetSpellTargetDestructable()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'o02E', GetDestructableX(d), GetDestructableY(d), 0)
    call SaveDestructableHandle(R8, (EC8), (834), (d))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AMH3))
    set t = null
    set p5 = null
    set d = null
    set oA = null
endfunction
function AMV3 takes nothing returns boolean
    if GetSpellAbilityId() == 'A01V' then
        call AMZ3()
    endif
    return false
endfunction
function AYL1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AMV3))
    set t = null
endfunction
function DFE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2NT')
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call V08(Z77, X77, AB4, 100 + 50 * ML8)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function DGE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2NT')
    local boolean DHE = (LoadBoolean(R8, (W57), (95)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call O68(AC7, 'A0LS')
    call SetUnitAbilityLevel(AC7, 'A0LS', ML8)
    call IssueTargetOrderById(AC7, 852668, X77)
    set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    call O68(AC7, 'A3C4')
    call SetUnitAbilityLevel(AC7, 'A3C4', ML8)
    call IssueTargetOrderById(AC7, 852075, X77)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerAddCondition(t, Condition(function DFE))
    call TriggerRegisterTimerEvent(t, .01, false)
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (Z77))
    call SaveUnitHandle(R8, (GetHandleId(t)), (17), (X77))
    call SaveInteger(R8, (GetHandleId(t)), (5), (ML8))
    if DHE then
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageSpell.mdx", X77, "overhead"))
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
    return false
endfunction
function DJE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2NT')
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call UnitRemoveAbility(X77, 'A2NU')
        call UnitRemoveAbility(X77, 'B05V')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call UnitRemoveAbility(X77, 'A2NU')
        call UnitRemoveAbility(X77, 'B05V')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerAddCondition(t, Condition(function DGE))
        call TriggerRegisterTimerEvent(t, .01, false)
        call SaveUnitHandle(R8, (GetHandleId(t)), (2), (Z77))
        call SaveUnitHandle(R8, (GetHandleId(t)), (17), (X77))
        call SaveInteger(R8, (GetHandleId(t)), (5), (ML8))
        call SaveBoolean(R8, (W57), (95), (false))
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LastWordDamageDuration.mdx", X77, "overhead"))
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and X38(X77, GetSpellAbilityId()) == false and XL8(GetSpellAbilityId()) == false and GetSpellAbilityId() != 'A05Z' and GetSpellAbilityId() != 'A0FP' and GetSpellAbilityId() != 'A0QY' and GetSpellAbilityId() != 'A06X' and GetSpellAbilityId() != 'A0AQ' and GetSpellAbilityId() != 'A21X' and GetSpellAbilityId() != 'A21W' and GetSpellAbilityId() != 'A21V' and GetSpellAbilityId() != 'A12W' and GetSpellAbilityId() != 'A06K' and GetSpellAbilityId() != 'A0JY' and GetSpellAbilityId() != 'A0FO' and GetSpellAbilityId() != 'A1NI' and GetSpellAbilityId() != 'A1MI' and GetSpellAbilityId() != 'A2QE' and GetSpellAbilityId() != 'A1Q8' and GetSpellAbilityId() != 'A1RA' and GetSpellAbilityId() != 'A1QV' and GetSpellAbilityId() != 'A21Y' and GetSpellAbilityId() != 'A1GU' and GetSpellAbilityId() != 'A1YY' and DIE(GetSpellAbilityId()) == false then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call UnitRemoveAbility(X77, 'A2NU')
        call UnitRemoveAbility(X77, 'B05V')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        if GetSpellAbilityId() == 'A0RV' or GetSpellAbilityId() == 'A0LN' then
            call TriggerRegisterTimerEvent(t, .01, false)
        else
            call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_SPELL_ENDCAST)
        endif
        call TriggerAddCondition(t, Condition(function DGE))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveBoolean(R8, (W57), (95), (true))
    endif
    set X77 = null
    set Z77 = null
    set t = null
    return false
endfunction
function DKE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if GetUnitAbilityLevel(X77, 'A2NU') == 0 or GetTriggerEvalCount(t) > 250 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call KillUnit(AC7)
    else
        call SetUnitX(AC7, GetUnitX(X77))
        call SetUnitY(AC7, GetUnitY(X77))
    endif
    set t = null
    set AC7 = null
    set X77 = null
    return false
endfunction
function RD8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'o019', GetUnitX(X77), GetUnitY(X77), 0)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEvent(t, 4, false)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function DJE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call O68(X77, 'A2NU')
    call UnitMakeAbilityPermanent(X77, true, 'A2NV')
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2NU', false)
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\LastWordDebuff_6.mdx", X77, "overhead")))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function DKE))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set Z77 = null
    set X77 = null
    set AC7 = null
    set t = null
endfunction
function DME takes nothing returns boolean
    if GetSpellAbilityId() == 'A2NT' and OE8(GetSpellTargetUnit()) == false then
        call RD8()
    endif
    return false
endfunction
function LastWord_Process takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H54
    local real P08 = (LoadReal(R8, (W57), (20)))
    call SetHeroInt(Z77, GetHeroInt(Z77, false) + 1, true)
    call QM8("+1 " + GetObjectName('n0JP'), 3, Z77, .023, 0, 255, 0, 230)
    set Z77 = null
endfunction
function DNE takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H54
    local real P08 = (LoadReal(R8, (W57), (20)))
    call SetHeroInt(Z77, GetHeroInt(Z77, false) + 2, true)
    call QM8("+2 " + GetObjectName('n0JP'), 3, Z77, .023, 0, 255, 0, 230)
    set Z77 = null
endfunction
function DOE takes unit Z77, unit PL9 returns nothing
    if IsUnitType(PL9, UNIT_TYPE_HERO) and XC8(GetUnitTypeId(PL9)) == false and IsUnitIllusion(PL9) == false and(IsUnitInRange(Z77, PL9, 900)or GetOwningPlayer(Z77) == GetOwningPlayer(GetKillingUnit()))and O18(Z77) == false and IsUnitAlly(Z77, GetOwningPlayer(PL9)) == false then
        if GetUnitTypeId(Z77) == 'N01A' then
            set TZ4[GetPlayerId(GetOwningPlayer(Z77))] = TZ4[GetPlayerId(GetOwningPlayer(Z77))] + 2
            call QM8("-2 " + GetObjectName('n0JP'), 3, PL9, .023, 102, 153, 204, 230)
            call SetHeroInt(PL9, GetHeroInt(PL9, false) - 2, true)
            call T88(PL9, Z77, 'h0CP', "DNE", 450, false)
        endif
    endif
endfunction
function DPE takes nothing returns nothing
    call DOE(GetEnumUnit(), GetTriggerUnit())
endfunction
function DQE takes nothing returns boolean
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 1000, Condition(function VJ8))
    call GroupAddUnit(g, Y7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))])
    call ForGroup(g, function DPE)
    call OF8(g)
    set g = null
    return false
endfunction
function DRE takes nothing returns boolean
    local integer DSE = TZ4[GetPlayerId(GetTriggerPlayer())]
    if GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())]) == 'N01A' and DSE > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., GetObjectName('n0HM') + " " + I2S(DSE))
    endif
    return false
endfunction
function B88 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DME))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function DQE))
    set t = CreateTrigger()
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-st", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-st", true)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function DRE))
    set t = null
endfunction
function DTE takes nothing returns boolean
    local real d
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B05X') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A0LZ') > 0 and(LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2))) == GetEventDamageSource()then
        call UnitRemoveAbility(GetTriggerUnit(), 'B05X')
        set d = (.1 + .2 * I2R(GetUnitAbilityLevel(GetEventDamageSource(), 'A0LZ'))) * GetHeroInt(GetEventDamageSource(), true)
        call QM8("+" + I2S(R2I(d)), 1, GetTriggerUnit(), .023, 3, 216, 216, 216)
        call V08(GetEventDamageSource(), GetTriggerUnit(), A34, d)
    endif
    return false
endfunction
function DVE takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function DTE))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
    set t = null
endfunction
function DWE takes nothing returns boolean
    if GetLearnedSkill() == 'A0LZ'and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0LZ') == 1 then
        call DVE()
    endif
    return false
endfunction
function B48 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function DWE))
    set t = null
endfunction
function DXE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer VID = (LoadInteger(R8, (W57), (12)))
    if GetTriggerEventId() != EVENT_UNIT_DEATH and GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT and C77 < VID and CI7(X77) == false then
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        if ModuloInteger(C77, 10) == 0 then
            call V08(Z77, X77, AB4, 7 + 7 * ML8)
        endif
    elseif C77 >= VID or GetUnitAbilityLevel(X77, 'B0CQ') == 0 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call UnitRemoveAbility(X77, 'A1PS')
        call UnitRemoveAbility(X77, 'B0CQ')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif(GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() != 'A12W' and GetSpellAbilityId() != 'A0FO' and GetSpellAbilityId() != 'A1MO' and GetSpellAbilityId() != 'A1C0' and GetSpellAbilityId() != 'A1ZI' and GetSpellAbilityId() != 'A28Y' and XL8(GetSpellAbilityId()) == false and(MY8(GetSpellAbilityId())or GetSpellAbilityId() == 'A06K'))then
        call SaveInteger(R8, (W57), (12), (VID + 40))
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function DYE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEnumUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A14L')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(X77, 'A1PS')
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function DXE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareTarget.mdl", X77, "overhead")))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (12), (70))
    call SaveInteger(R8, (W57), (34), (0))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function DZE takes nothing returns nothing
    local group g
    local integer ML8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A14L')
    if ML8 > 0 then
        set g = OG8()
        set H04 = GetTriggerUnit()
        set SD4 = GetTriggerUnit()
        call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function VO8))
        call ForGroup(g, function DYE)
        call OF8(g)
    endif
    set g = null
endfunction
function DAE takes nothing returns nothing
    local group g = OG8()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    set H04 = GetTriggerUnit()
    set SD4 = GetTriggerUnit()
    call GroupEnumUnitsInRange(g, x, y, 450, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function DYE)
    call QH8("war3mapImported\\CotS.mdx", x, y, 5)
    call OF8(g)
    set g = null
endfunction
function DBE takes nothing returns boolean
    if GetSpellAbilityId() == 'A14L' then
        call DAE()
    endif
    return false
endfunction
function A_8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DBE))
    set t = null
endfunction
function DCE takes nothing returns boolean
    return GetSpellAbilityId() == 'A0L3' or GetSpellAbilityId() == 'A2QC'
endfunction
function D3E takes nothing returns boolean
    call EA8(GetTriggeringTrigger())
    call VolumeGroupReset()
    return false
endfunction
function D6E takes nothing returns nothing
    local location SD9 = GetUnitLoc(GetTriggerUnit())
    local trigger t = CreateTrigger()
    local integer ML8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A0L3')
    local unit AC7 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'e00E', SD9, bj_UNIT_FACING)
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A2QC')
        call DZE()
    endif
    call TriggerRegisterTimerEvent(t, ML8 + 2, false)
    call TriggerAddCondition(t, Condition(function D3E))
    call UnitAddAbility(AC7, 'A0L2')
    call SetUnitAbilityLevel(AC7, 'A0L2', ML8)
    call IssuePointOrderByIdLoc(AC7, 852592, SD9)
    call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS, .0)
    call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT, .0)
    call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS, .0)
    call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_MUSIC, .0)
    call RemoveLocation(SD9)
    set t = null
    set SD9 = null
    set AC7 = null
endfunction
function B78 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DCE))
    call TriggerAddAction(t, function D6E)
    set t = null
endfunction
function DLE takes nothing returns boolean
    return GetLearnedSkill() == 'A03U'
endfunction
function D1E takes nothing returns nothing
    call SetPlayerTechResearched(GetOwningPlayer(GetLearningUnit()), 'R005', GetUnitAbilityLevel(GetTriggerUnit(), 'A03U'))
endfunction
function Pv takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function DLE))
    call TriggerAddAction(t, function D1E)
    set t = null
endfunction
function D0E takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false then
        if(LoadInteger(R8, (GetHandleId(GetEnumUnit())), (836))) == ADQI or(TimerGetElapsed(E4)) > (1.1 + (LoadReal(R8, (GetHandleId(GetEnumUnit())), (837))))then
            call SaveInteger(R8, (GetHandleId(GetEnumUnit())), (836), (ADQI))
            call SaveReal(R8, (GetHandleId(GetEnumUnit())), (837), (((TimerGetElapsed(E4)))))
            call V08(FT, GetEnumUnit(), 1, JT)
            call IssueTargetOrder(IT, "slow", GetEnumUnit())
        endif
    endif
endfunction
function D5E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local group g = OG8()
    local real d
    local real a
    local real x2
    local real y2
    set ADQI = EC8
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 450 + 25, Condition(function VP8))
    set FT = Z77
    set JT = TA8 * 12
    set IT = AC7
    call ForGroup(g, function D0E)
    call OF8(g)
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (309)))
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (175)))
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (176)))
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (177)))
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (178)))
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (179)))
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (180)))
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (330)))
    call DestroyEffect(LoadEffectHandle(R8, (EC8), (331)))
    if GetTriggerEvalCount(t) == 10 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set d = 0
        set a = 0
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (309), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
        set d = 150
        set a = 45
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
        set d = 275
        set a = 90
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
        set d = 150
        set a = 135
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (177), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
        set d = 275
        set a = 180
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (178), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
        set d = 150
        set a = 225
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (179), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
        set d = 275
        set a = 270
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (180), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
        set d = 150
        set a = 305
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (330), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
        set d = 275
        set a = 360
        set x2 = x + d * Cos(a * bj_DEGTORAD)
        set y2 = y + d * Sin(a * bj_DEGTORAD)
        call SaveEffectHandle(R8, (EC8), (331), (AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2)))
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    set g = null
    return false
endfunction
function D2E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A064')
    local real x1 = (LoadReal(R8, (EC8), (6)))
    local real y1 = (LoadReal(R8, (EC8), (7)))
    local unit AC7 = CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE), 'e00E', x1, y1, 0)
    local real x2
    local real y2
    local real d
    local real a
    local integer i
    call O68(AC7, 'A19F')
    call SetUnitAbilityLevel(AC7, 'A19F', TA8)
    if GetTriggerEvalCount(t) == 1 then
        set i = 1
        loop
            exitwhen i > 10
            set d = GetRandomReal(0, 450)
            set a = GetRandomReal(0, 360)
            set x2 = x1 + d * Cos(a * bj_DEGTORAD)
            set y2 = y1 + d * Sin(a * bj_DEGTORAD)
            set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00J', GetUnitX(Z77), GetUnitY(Z77), 90)
            call IssuePointOrder(AC7, "attackground", x2, y2)
            call UnitApplyTimedLife(AC7, 'BTLF', 0.5)
            set i = i + 1
        endloop
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call SaveUnitHandle(R8, (EC8), (2), (Z77))
        call SaveUnitHandle(R8, (EC8), (19), (AC7))
        call SaveReal(R8, (EC8), (6), (x1))
        call SaveReal(R8, (EC8), (7), (y1))
        call SaveInteger(R8, (EC8), (5), (TA8))
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function D5E))
        call TriggerEvaluate(t)
    endif
    set Z77 = null
    set AC7 = null
    set t = null
    return false
endfunction
function D_E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    call S18(GetOwningPlayer(Z77), 9.4, x, y, 360)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddCondition(t, Condition(function D2E))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call RemoveLocation(l)
    set t = null
    set Z77 = null
    set l = null
endfunction
function E4E takes nothing returns boolean
    if GetSpellAbilityId() == 'A064' then
        call D_E()
    endif
    return false
endfunction
function AS03 takes nothing returns boolean
    if GetLearnedSkill() == 'A064' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A064') == 1 then
        call RegisterChargedSkill(GetTriggerUnit(), 'A064', 3, 3, 3, 3, 3)
    endif
    return false
endfunction
function B98 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function E4E))
    call PU8('A19F')
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AS03))
    set t = null
endfunction
function ASC3 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A00J')
    local trigger t
    local integer EC8
    if GetUnitAbilityLevel(p5, 'A0MB') == 0 then
        call O68(p5, 'A0MB')
    endif
    if TA8 == 2 then
        call UnitRemoveAbility(p5, ADUI[1])
    elseif TA8 == 3 then
        call UnitRemoveAbility(p5, ADUI[1])
        call UnitRemoveAbility(p5, ADUI[2])
    elseif TA8 == 4 then
        call UnitRemoveAbility(p5, ADUI[1])
        call UnitRemoveAbility(p5, ADUI[2])
        call UnitRemoveAbility(p5, ADUI[3])
    endif
    call SetUnitAbilityLevel(p5, 'A0MB', TA8)
    call O68(p5, ADUI[TA8])
    set p5 = null
endfunction
function E7E takes nothing returns boolean
    if GetLearnedSkill() == 'A00J'and IsUnitIllusion(GetTriggerUnit()) == false then
        call ASC3()
    endif
    return false
endfunction
function E8E takes nothing returns boolean
    local unit p5 = GetAttacker()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A00J')
    if TA8 > 0 then
        call UnitRemoveAbility(p5, ADUI[TA8])
        call UnitRemoveAbility(p5, 'A00J')
        call O68(p5, ADUI[TA8])
        call O68(p5, 'A00J')
        call SetUnitAbilityLevel(p5, 'A00J', TA8)
    endif
    set p5 = null
    return false
endfunction
function E9E takes nothing returns nothing
    local unit Z77 = GetEventDamageSource()
    local unit X77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A00J')
    local real d = RAbsBJ(GetUnitFacing(X77) - GetUnitFacing(Z77))
    if d > 180 then
        set d = 360 - d
    endif
    if d <= 105 and IsBroken(Z77) == false then
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", X77, "chest"))
        call BlzSetEventDamage(GetEventDamage() + GetHeroAgi(Z77, true) * (.25 * ML8 + .25))
    endif
    set Z77 = null
    set X77 = null
endfunction
function EEE takes nothing returns boolean
    if IsNormalAttackHero() and GetUnitAbilityLevel(GetEventDamageSource(), 'A00J') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsBroken(GetEventDamageSource()) == false then
        call E9E()
    endif
    return false
endfunction
function Pw takes nothing returns nothing
    local trigger t = CreateTrigger()
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function E7E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function E8E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function EEE))
    set t = null
    set ADUI[1] = 'A2UR'
    set ADUI[2] = 'A2US'
    set ADUI[3] = 'A2UT'
    set ADUI[4] = 'A2YU'
    set t = null
endfunction
function TricksOfTheTradeAttack takes unit Z77, unit X77 returns nothing
    local real a = GetUnitFacing(X77) * bj_DEGTORAD
    local real x = GetUnitX(X77) - 50 * Cos(a)
    local real y = GetUnitY(X77) - 50 * Sin(a)
    call SetUnitPosition(Z77, x, y)
    call SetUnitFacing(Z77, bj_RADTODEG * a)
    call IssueTargetOrderById(Z77, 851983, X77)
endfunction
function TricksOfTheTradeAttackCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = LoadUnitHandle(R8, (EC8), (14))
    local group g = LoadGroupHandle(R8, (EC8), (220))
    local unit X77
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        if GetEventDamageSource() == N28 and IsNormalAttackHero() then
            call IssueImmediateOrderById(N28, 851972)
            call GroupRemoveUnit(g, GetTriggerUnit())
            set X77 = FirstOfGroup(g)
            if X77 != null then
                call TricksOfTheTradeAttack(N28, X77)
            else
                call SetUnitPosition(N28, LoadReal(R8, (EC8), (189)), LoadReal(R8, (EC8), (190)))
                call OF8(g)
                call FlushChildHashtable(R8, EC8)
                call EA8(t)
            endif
        endif
    else
        call SetUnitPosition(N28, LoadReal(R8, (EC8), (189)), LoadReal(R8, (EC8), (190)))
        call IssueImmediateOrderById(N28, 851972)
        call BlzPauseUnitEx(N28, true)
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set N28 = null
    set X77 = null
    set g = null
    set t = null
    return false
endfunction
function TricksOfTheTradeActionCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = LoadUnitHandle(R8, (EC8), (14))
    local integer ML8 = LoadInteger(R8, (EC8), (5))
    local integer C77 = LoadInteger(R8, (EC8), (34))
    local real x = LoadReal(R8, (EC8), (189))
    local real y = LoadReal(R8, (EC8), (190))
    local group g
    if C77 <= ML8 + 2 then
        set C77 = C77 + 1
        call SaveInteger(R8, (EC8), (34), (C77))
        set g = OG8()
        set H04 = N28
        call GroupEnumUnitsInRange(g, x, y, 500 + 25, Condition(function GenericCondition_EnemyHeroesExVisibleAttackable))
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
        call TriggerRegisterTimerEvent(t, .98, false)
        call TriggerAddCondition(t, Condition(function TricksOfTheTradeAttackCondt))
        call SaveUnitHandle(R8, (EC8), (14), (N28))
        call SaveGroupHandle(R8, (EC8), (220), (g))
        call SaveReal(R8, (EC8), (189), (x))
        call SaveReal(R8, (EC8), (190), (y))
        if FirstOfGroup(g) != null then
            call BlzPauseUnitEx(N28, false)
            call TricksOfTheTradeAttack(N28, FirstOfGroup(g))
        endif
        set g = null
    else
        call BlzPauseUnitEx(N28, false)
        call SetUnitPathing(N28, true)
        call UnitAddAbility(N28, 'A3NX')
        call UnitRemoveAbility(N28, 'A3NX')
        call SetUnitInvulnerable(N28, false)
        call SetUnitPosition(N28, x, y)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set N28 = null
    set t = null
    return false
endfunction
function TricksOfTheTradeAction takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(N28, 'A3NW')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SetUnitPathing(N28, false)
    call UnitAddAbility(N28, 'A3NV')
    call UnitRemoveAbility(N28, 'A3NV')
    call SetUnitInvulnerable(N28, true)
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function TricksOfTheTradeActionCondt))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveInteger(R8, (EC8), (34), (0))
    call SaveInteger(R8, (EC8), (5), (ML8))
    call SaveReal(R8, (EC8), (189), (GetUnitX(N28)))
    call SaveReal(R8, (EC8), (190), (GetUnitY(N28)))
    call TriggerEvaluate(t)
    set t = null
    set N28 = null
endfunction
function TricksOfTheTradeCondt takes nothing returns boolean
    if GetSpellAbilityId() == 'A3NW' then
        call TricksOfTheTradeAction()
    endif
    return false
endfunction
function Register_TricksOfTheTrade takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function TricksOfTheTradeCondt))
    set t = null
endfunction
function EFE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e003', x, y, 0)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0RG')
    local real vr = (83 + 17 * TA8) * .01
    call SetUnitVertexColor(oA, 255, 255, 255, 150)
    call UnitApplyTimedLife(oA, 'BTLF', 6)
    call SetUnitScale(oA, vr, vr, vr)
    if KO8(GetOwningPlayer(N28))then
        call O68(oA, 'A019')
        call SetUnitAbilityLevel(oA, 'A019', TA8)
    else
        call O68(oA, 'A0E7')
        call SetUnitAbilityLevel(oA, 'A0E7', TA8)
    endif
    call IssuePointOrderById(oA, 852473, x, y)
    set N28 = null
    set oA = null
endfunction
function EGE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0RG' then
        call EFE()
    endif
    return false
endfunction
function BF8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EGE))
    set t = null
endfunction
// function EHE takes nothing returns boolean
//     local trigger t = GetTriggeringTrigger()
//     local integer V37 = GetHandleId(t)
//     if A87(LoadUnitHandle(R8, V37, (14)))or GetTriggerEvalCount(t) >= 11 then
//         call FlushChildHashtable(R8, V37)
//         call EA8(t)
//     else
//         call IssueTargetOrderById(LoadUnitHandle(R8, V37, (14)), 851983, LoadUnitHandle(R8, V37, (17)))
//     endif
//     set t = null
//     return false
// endfunction
function EIE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real P99 = 20 * GetUnitAbilityLevel(Z77, 'A0K9')
    local trigger t
    local integer EC8
    local real x = GetUnitX(target) - 75 * Cos(GetUnitFacing(target) * bj_DEGTORAD)
    local real y = GetUnitY(target) - 75 * Sin(GetUnitFacing(target) * bj_DEGTORAD)
    local trigger EJE
    local integer EKE
    call SetUnitX(Z77, x)
    call SetUnitY(Z77, y)
    call SetUnitFacing(Z77, GetUnitFacing(target))
    call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx", x, y))
    if IsUnitEnemy(target, GetOwningPlayer(Z77))then
        call V08(Z77, target, AB4, P99)
        call IssueTargetOrderById(Z77, 851983, target)
        // if(GetPlayerController(GetOwningPlayer(Z77)) != MAP_CONTROL_USER)then
        //     if UnitCountInRangeOfUnit(700, Z77, Condition(function k6)) < 2 then
        //         set EJE = CreateTrigger()
        //         set EKE = GetHandleId(EJE)
        //         call SaveUnitHandle(R8, EKE, (17), target)
        //         call SaveUnitHandle(R8, EKE, (14), Z77)
        //         call TriggerAddCondition(EJE, Condition(function EHE))
        //         call TriggerRegisterTimerEvent(EJE, .4, true)
        //         set EJE = null
        //     endif
        //     call GameTimeWait(.3)
        //     call IssueTargetOrderById(Z77, 851983, target)
        // endif
    endif
    set Z77 = null
    set target = null
    set t = null
endfunction
function EME takes nothing returns boolean
    if GetSpellAbilityId() == 'A0K9' then
        call EIE()
    endif
    return false
endfunction
function ENE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0K9' then
        call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
    endif
    return false
endfunction
function BG8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EME))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function ENE))
    set t = null
endfunction
function EOE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call SetUnitAnimationByIndex(Z77, 8)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function EPE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SetUnitAnimationByIndex(Z77, 7)
    call TriggerRegisterTimerEvent(t, 2.5, false)
    call TriggerAddCondition(t, Condition(function EOE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function EQE takes nothing returns boolean
    if GetUnitTypeId(GetTriggerUnit()) == 'N0M0' then
        call EPE()
    endif
    return false
endfunction
function H29 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function EQE))
    set t = null
endfunction
function ERE takes nothing returns nothing
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
    call V08(SU4, GetEnumUnit(), AB4, SV4)
endfunction
function ESE takes nothing returns boolean
    local trigger t2 = GetTriggeringTrigger()
    local integer WED = GetHandleId(t2)
    local trigger t1 = (LoadTriggerHandle(R8, (WED), (9)))
    local integer RM8 = GetHandleId(t1)
    local unit ETE = (LoadUnitHandle(R8, (WED), (8)))
    local unit Z77 = (LoadUnitHandle(R8, (WED), (2)))
    local group g
    local integer ML8 = (LoadInteger(R8, (WED), (5)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call ShowUnit(ETE, false)
        call KillUnit(ETE)
        call FlushChildHashtable(R8, RM8)
        call EA8(t1)
        call FlushChildHashtable(R8, WED)
        call EA8(t2)
    elseif IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(ETE)) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A04R') == 0 then
        set g = OG8()
        set H04 = ETE
        set SU4 = Z77
        set SV4 = 100 + 40 * ML8
        call GroupEnumUnitsInRange(g, GetUnitX(ETE), GetUnitY(ETE), 285, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g, function ERE)
        call OF8(g)
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl", GetUnitX(ETE), GetUnitY(ETE)))
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl", GetUnitX(ETE), GetUnitY(ETE)))
        call ShowUnit(ETE, false)
        call KillUnit(ETE)
        call FlushChildHashtable(R8, RM8)
        call EA8(t1)
        call FlushChildHashtable(R8, WED)
        call EA8(t2)
    endif
    set t1 = null
    set t2 = null
    set ETE = null
    set Z77 = null
    set g = null
    return false
endfunction
function EUE takes nothing returns boolean
    local trigger t1 = GetTriggeringTrigger()
    local integer EVE = GetHandleId(t1)
    local trigger t2
    local integer QYD
    local unit EWE
    local integer TA8
    local real x = (LoadReal(R8, (EVE), (6)))
    local real y = (LoadReal(R8, (EVE), (7)))
    local real EXE
    local integer P89 = GetTriggerEvalCount(t1)
    if P89 == 1 then
        call DestroyEffect((LoadEffectHandle(R8, (EVE), (3))))
    elseif P89 == 2 then
        call DestroyEffect((LoadEffectHandle(R8, (EVE), (4))))
        set t2 = CreateTrigger()
        set QYD = GetHandleId(t2)
        set TA8 = (LoadInteger(R8, (EVE), (5)))
        set EXE = (LoadReal(R8, (EVE), (1)))
        set EWE = CreateUnit(GetOwningPlayer((LoadUnitHandle(R8, (EVE), (2)))), 'h07F', x, y, EXE)
        call SetUnitVertexColor(EWE, 255, 255, 255, 100)
        call UnitApplyTimedLife(EWE, 'BTLF', 12)
        call SaveUnitHandle(R8, (EVE), (8), (EWE))
        call SaveUnitHandle(R8, (QYD), (2), (LoadUnitHandle(R8, (EVE), (2))))
        call SaveUnitHandle(R8, (QYD), (8), (EWE))
        call SaveTriggerHandle(R8, (QYD), (9), (t1))
        call SaveInteger(R8, (QYD), (5), (TA8))
        call TriggerRegisterUnitInRange(t2, EWE, 235, Condition(function KF8))
        call TriggerRegisterUnitEvent(t2, EWE, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t2, Condition(function ESE))
        call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx", EWE, "origin"))
    elseif P89 > 2 then
        set EWE = (LoadUnitHandle(R8, (EVE), (8)))
        call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx", EWE, "origin"))
    endif
    set t1 = null
    set t2 = null
    set EWE = null
    return false
endfunction
function EYE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t1 = CreateTrigger()
    local integer EVE = GetHandleId(t1)
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    call TriggerRegisterTimerEvent(t1, .5, true)
    call TriggerAddCondition(t1, Condition(function EUE))
    call SaveReal(R8, (EVE), (6), ((x)))
    call SaveReal(R8, (EVE), (7), ((y)))
    call SaveInteger(R8, (EVE), (5), (GetUnitAbilityLevel(Z77, 'A14P')))
    call SaveUnitHandle(R8, (EVE), (2), (Z77))
    call SaveReal(R8, (EVE), (1), ((GetUnitFacing(Z77))))
    call SaveEffectHandle(R8, (EVE), (3), (AddSpecialEffect("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl", x, y)))
    call SaveEffectHandle(R8, (EVE), (4), (AddSpecialEffect("effects\\Static_Remnant_FX.mdx", x, y)))
    set Z77 = null
    set t1 = null
endfunction
function EZE takes nothing returns boolean
    if GetSpellAbilityId() == 'A14P' then
        call EYE()
    endif
    return false
endfunction
function F79 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EZE))
    set t = null
endfunction
function EAE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real RK = (LoadReal(R8, (EC8), (13)))
    local real x = GetUnitX(target) - 5 * Cos(RK)
    local real y = GetUnitY(target) - 5 * Sin(RK)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real EBE = (LoadReal(R8, (EC8), (6)))
    local real ECE = (LoadReal(R8, (EC8), (7)))
    if((EBE - x) * (EBE - x)) + ((ECE - y) * (ECE - y)) < 100 then
        set x = EBE
        set y = ECE
    endif
    call SetUnitX(target, x)
    call SetUnitY(target, y)
    if GetTriggerEvalCount(t) == (10 + 10 * TA8)or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set target = null
    return false
endfunction
function E3E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local unit oA = CreateUnit(GetOwningPlayer(Z77), 'u00X', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A14R')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function EAE))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (13), Atan2(GetUnitY(target) - GetUnitY(Z77), GetUnitX(target) - GetUnitX(Z77)))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (6), ((GetUnitX(Z77))))
    call SaveReal(R8, (EC8), (7), ((GetUnitY(Z77))))
    call O68(oA, 'A14Q')
    call SetUnitAbilityLevel(oA, 'A14Q', TA8)
    call IssueTargetOrder(oA, "magicleash", target)
    call UnitApplyTimedLife(oA, 'BTLF', .5 + .5 * TA8)
    set oA = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
    call O68(oA, 'A14S')
    call IssueTargetOrderById(oA, 852075, Z77)
    set Z77 = null
    set target = null
    set oA = null
    set t = null
endfunction
function E6E takes nothing returns boolean
    if GetSpellAbilityId() == 'A14R' and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' and OE8(GetSpellTargetUnit()) == false then
        call E3E()
    endif
    return false
endfunction
function F89 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function E6E))
    set t = null
endfunction
function ELE takes nothing returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(FZ), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call O68(oA, 'A0S5')
    call IssueTargetOrderById(oA, 852075, GetEnumUnit())
    call V08(FZ, GetEnumUnit(), AB4, gZ)
    set oA = null
endfunction
function E1E takes unit Z77, unit target returns nothing
    local integer EC8 = GetHandleId(Z77)
    local group g = OG8()
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (200))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (201))))
    call SaveInteger(R8, (GetHandleId((Z77))), ((4264)), (2))
    set H04 = Z77
    set FZ = Z77
    set gZ = GetUnitAbilityLevel(Z77, 'A0QW') * 20 + 10
    call GroupEnumUnitsInRange(g, GetUnitX(target), GetUnitY(target), 300, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function ELE)
    call OF8(g)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", GetUnitX(target), GetUnitY(target)))
    set g = null
endfunction
function E2E takes nothing returns boolean
    if IsNormalAttackHero() and GetUnitAbilityLevel(GetEventDamageSource(), 'A0QW') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and (LoadInteger(R8, (GetHandleId(GetEventDamageSource())), (4264)) == 1) == true and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) and IsBroken(GetTriggerUnit()) == false then
        call E1E(GetEventDamageSource(), GetTriggerUnit())
    endif
    return false
endfunction
function E_E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit Z77 = GetTriggerUnit()
    local integer EC8 = GetHandleId(Z77)
    local string fx = ""
    if IsUnitAlly(Z77, GetLocalPlayer())or N08(GetLocalPlayer())then
        set fx = "Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl"
    endif
    call SaveEffectHandle(R8, (EC8), (200), (AddSpecialEffectTarget(fx, Z77, "right hand")))
    call SaveEffectHandle(R8, (EC8), (201), (AddSpecialEffectTarget(fx, Z77, "left hand")))
    set t = null
    set Z77 = null
endfunction
function F4E takes nothing returns boolean
    if(GetSpellAbilityId() == 'A14O' or GetSpellAbilityId() == 'A14P' or GetSpellAbilityId() == 'A14R')and((LoadInteger(R8, (GetHandleId((GetTriggerUnit()))), ((4264)))) == 1) == false then
        call SaveInteger(R8, (GetHandleId((GetTriggerUnit()))), ((4264)), (1))
        call E_E()
    endif
    return false
endfunction
function F7E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function F4E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function E2E))
    set Z77 = null
    set t = null
endfunction
function F8E takes nothing returns boolean
    if GetLearnedSkill() == 'A0QW' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0QW') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call F7E()
    endif
    return false
endfunction
function F99 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function F8E))
    set t = null
endfunction
function F9E takes nothing returns nothing
    if(LoadBoolean(R8, (jZ), (GetHandleId(GetEnumUnit())))) == false then
        call SaveBoolean(R8, (jZ), (GetHandleId(GetEnumUnit())), (true))
        call V08(LZ, GetEnumUnit(), 1, mZ * (JZ * 4 + 4) / 100)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", GetEnumUnit(), "origin"))
    endif
endfunction
function FDE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit FEE = (LoadUnitHandle(R8, (EC8), (195)))
    local integer ST9 = (LoadInteger(R8, (EC8), (194)))
    local real BM7 = (LoadReal(R8, (EC8), (6)))
    local real BN7 = (LoadReal(R8, (EC8), (7)))
    local real u4 = GetUnitX(p5)
    local real u5 = GetUnitY(p5)
    local real RK = Atan2(BN7 - u5, BM7 - u4)
    local real T3G = u4 + (25 + 25 * TA8) * Cos(RK)
    local real T6G = u5 + (25 + 25 * TA8) * Sin(RK)
    local lightning F8F = (LoadLightningHandle(R8, (EC8), (196)))
    local real lx = (LoadReal(R8, (EC8), (197)))
    local real ly = (LoadReal(R8, (EC8), (198)))
    local real NN9 = GetUnitState(p5, UNIT_STATE_MANA)
    local real FHE = (25 + 25 * TA8) * (12 + 0.007 * GetUnitState(p5, UNIT_STATE_MAX_MANA)) / 100
    local group g = OG8()
    local real FIE = (LoadReal(R8, (EC8), (199)))
    set FIE = FIE + 25 + 25 * TA8
    call SaveReal(R8, (EC8), (199), ((FIE)))
    if GetTriggerEvalCount(t) > 25 then
        set lx = lx + (25 + 25 * TA8) * Cos(RK)
        set ly = ly + (25 + 25 * TA8) * Sin(RK)
        call SaveReal(R8, (EC8), (197), (lx))
        call SaveReal(R8, (EC8), (198), (ly))
    endif
    call SetUnitState(p5, UNIT_STATE_MANA, RMaxBJ(NN9 - FHE, 0))
    call MoveLightning(F8F, true, lx, ly, T3G, T6G)
    call SetUnitX(p5, T3G)
    call SetUnitY(p5, T6G)
    call SetUnitPosition(oA, T3G, T6G)
    call SetUnitPosition(FEE, T3G, T6G)
    set H04 = p5
    set LZ = p5
    set jZ = EC8
    set JZ = TA8
    set mZ = FIE
    call GroupEnumUnitsInRange(g, T3G, T6G, 75 + 75 * TA8, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function F9E)
    call OF8(g)
    set ST9 = ST9 - 1
    call SaveInteger(R8, (EC8), (194), (ST9))
    call SetUnitVertexColor(p5, 255, 255, 255, 0)
    if ST9 == 0 or GetUnitState(p5, UNIT_STATE_MANA) < 1 then
        call DestroyLightning(F8F)
        call SC8(T3G, T6G, 75)
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call RemoveUnit(oA)
        call RemoveUnit(FEE)
        call SetUnitVertexColor(p5, 255, 255, 255, 255)
        call SetUnitPathing(p5, true)
        call SetUnitInvulnerable(p5, false)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SC8(T3G, T6G, 75)
    endif
    set t = null
    set oA = null
    set p5 = null
    set F8F = null
    set g = null
    set FEE = null
    return false
endfunction
function FJE takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local real PPD = GetUnitX(p5)
    local real PQD = GetUnitY(p5)
    local unit oA
    local unit FEE
    local real x
    local real y
    local trigger t
    local integer EC8
    local lightning F8F
    local integer TA8 = GetUnitAbilityLevel(p5, 'A14O')
    local real NN9 = GetUnitState(p5, UNIT_STATE_MANA)
    local real FHE = 30 + 0.08 * GetUnitState(p5, UNIT_STATE_MAX_MANA)
    call SetUnitState(p5, UNIT_STATE_MANA, RMaxBJ(NN9 - FHE, 0))
    if GetUnitState(p5, UNIT_STATE_MANA) > 10 then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        set oA = CreateUnit(GetOwningPlayer(p5), 'o010', PPD, PQD, 0)
        set FEE = CreateUnit(GetOwningPlayer(p5), 'H07G', PPD, PQD, 0)
        set F8F = AddLightning("FORK", true, PPD, PQD, PPD, PQD)
        if GetSpellTargetUnit() == null then
            set x = GetSpellTargetX()
            set y = GetSpellTargetY()
        else
            set x = GetUnitX(GetSpellTargetUnit())
            set y = GetUnitY(GetSpellTargetUnit())
        endif
        call SetUnitVertexColor(p5, 255, 255, 255, 0)
        call SetUnitVertexColor(FEE, 255, 255, 255, 0)
        call SetUnitPathing(p5, false)
        call SetUnitPathing(oA, false)
        call SetUnitInvulnerable(p5, true)
        call SaveUnitHandle(R8, (EC8), (19), (oA))
        call SaveUnitHandle(R8, (EC8), (2), (p5))
        call SaveUnitHandle(R8, (EC8), (195), (FEE))
        call SaveLightningHandle(R8, (EC8), (196), (F8F))
        call SaveInteger(R8, (EC8), (5), (TA8))
        call SaveReal(R8, (EC8), (6), ((x)))
        call SaveReal(R8, (EC8), (7), ((y)))
        call SaveReal(R8, (EC8), (197), ((PPD)))
        call SaveReal(R8, (EC8), (198), ((PQD)))
        call SaveReal(R8, (EC8), (199), ((0)))
        call SaveInteger(R8, (EC8), (194), (IMaxBJ(R2I(SquareRoot((x - PPD) * (x - PPD) + (y - PQD) * (y - PQD)) / (25 + 25 * TA8)), 1)))
        call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx", FEE, "origin")))
        call TriggerRegisterTimerEvent(t, 0.04, true)
        call TriggerAddCondition(t, Condition(function FDE))
        call ShowUnit(p5, false)
        call ShowUnit(p5, true)
        call SelectUnitAddForPlayer(p5, GetOwningPlayer(p5))
    endif
    set p5 = null
    set oA = null
    set FEE = null
    set t = null
    set F8F = null
endfunction
function FKE takes nothing returns boolean
    if GetSpellAbilityId() == 'A14O' then
        call FJE()
    endif
    return false
endfunction
function FME takes nothing returns boolean
    if GetSpellAbilityId() == 'A14O' then
        if GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) < (30 + .08 * GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_MANA))then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0G8'))
        endif
    endif
    return false
endfunction
function FD9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FKE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function FME))
    set t = null
endfunction
function FNE takes nothing returns nothing
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", GetTriggerUnit(), "origin"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", GetTriggerUnit(), "origin"))
endfunction
function FOE takes nothing returns boolean
    if GetUnitTypeId(GetTriggerUnit()) == 'H00S' then
        call FNE()
    endif
    return false
endfunction
function FE9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function FOE))
    set t = null
endfunction
function FPE takes nothing returns nothing
    local integer EC8 = GetHandleId(GetOwningPlayer(GetTriggerUnit()))
    local unit FQE = (LoadUnitHandle(R8, (EC8), (334)))
    local unit FRE = (LoadUnitHandle(R8, (EC8), (333)))
    if FQE != null and T4 == false then
        call UnitAddItem(FRE, UnitRemoveItemFromSlot(FQE, 0))
        call UnitAddItem(FRE, UnitRemoveItemFromSlot(FQE, 1))
        call UnitAddItem(FRE, UnitRemoveItemFromSlot(FQE, 2))
        call UnitAddItem(FRE, UnitRemoveItemFromSlot(FQE, 3))
        call UnitAddItem(FRE, UnitRemoveItemFromSlot(FQE, 4))
        call UnitAddItem(FRE, UnitRemoveItemFromSlot(FQE, 5))
    endif
    set FQE = null
    set FRE = null
endfunction
function FSE takes nothing returns boolean
    return GetSpellAbilityId() == 'A0A5'
endfunction
function FTE takes nothing returns boolean
    if O18(GetFilterUnit())then
        return false
    endif
    if((GetUnitTypeId(GetFilterUnit()) == 'n01G'))then
        return true
    endif
    if((GetUnitTypeId(GetFilterUnit()) == 'n01C'))then
        return true
    endif
    if((GetUnitTypeId(GetFilterUnit()) == 'n018'))then
        return true
    endif
    if((GetUnitTypeId(GetFilterUnit()) == 'n004'))then
        return true
    endif
    return false
endfunction
function FUE takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local player E5D = GetOwningPlayer(O4D)
    local location SD9 = GetUnitLoc(O4D)
    local boolexpr QZ9 = Condition(function FTE)
    local group QA9 = OG8()
    local integer ML8 = GetUnitAbilityLevel(O4D, 'A0A5')
    local integer W57 = GetHandleId(E5D)
    local boolean FVE
    local unit T59
    call GroupEnumUnitsOfPlayer(QA9, GetOwningPlayer(O4D), QZ9)
    if BlzGroupGetSize(QA9) != 0 then
        set T59 = FirstOfGroup(QA9)
        if T59 != null and((LoadInteger(R8, (GetHandleId((T59))), ((4327)))) == 1) == true then
            call ZN7(O4D)
            call PN8(E5D, GetObjectName('n0MN'))
        endif
    endif
    call OF8(QA9)
    call RemoveLocation(SD9)
    call DestroyBoolExpr(QZ9)
    set O4D = null
    set E5D = null
    set QA9 = null
    set QZ9 = null
    set SD9 = null
    set T59 = null
endfunction
function FWE takes nothing returns boolean
    return(GetUnitTypeId(GetFilterUnit()) == 'n01G')or(GetUnitTypeId(GetFilterUnit()) == 'n01C')or(GetUnitTypeId(GetFilterUnit()) == 'n018')or(GetUnitTypeId(GetFilterUnit()) == 'n004')
endfunction
function FXE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit FRE
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    local integer TA8 = GetUnitAbilityLevel(Z77, GetSpellAbilityId())
    local group g = OG8()
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(Z77), Condition(function FWE))
    set FRE = FirstOfGroup(g)
    call OF8(g)
    call O68(AC7, 'A0AA')
    call SetUnitAbilityLevel(AC7, 'A0AA', TA8)
    call IssueTargetOrderById(AC7, 852101, Z77)
    if FRE != null and O18(FRE) == false then
        call IssueTargetOrderById(AC7, 852101, FRE)
    endif
    set g = null
    set Z77 = null
    set FRE = null
    set AC7 = null
endfunction
function FYE takes nothing returns boolean
    if GetSpellAbilityId() == 'A1EF' then
        call FXE()
    endif
    return false
endfunction
function BH8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FYE))
    set t = null
endfunction
function FZE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit T59 = (LoadUnitHandle(R8, (W57), (2)))
    local real FAE
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 2 and GetEventDamageSource() != GetTriggerUnit()and KP8(GetOwningPlayer(GetEventDamageSource()))then
            call SaveReal(R8, (W57), (714), (TimerGetElapsed(E4)))
        endif
    endif
    set FAE = (LoadReal(R8, (W57), (714)))
    if FAE + 3 < (TimerGetElapsed(E4))then
        if(LoadInteger(R8, (W57), (34))) == 2 then
            call SaveInteger(R8, (W57), (34), (1))
            call SaveInteger(R8, (GetHandleId((T59))), ((4327)), (2))
            call SetPlayerAbilityAvailable(GetOwningPlayer(T59), 'A0A7', true)
        endif
    else
        if(LoadInteger(R8, (W57), (34))) == 1 then
            call SaveInteger(R8, (W57), (34), (2))
            call SaveInteger(R8, (GetHandleId((T59))), ((4327)), (1))
            call SetPlayerAbilityAvailable(GetOwningPlayer(T59), 'A0A7', false)
        endif
    endif
    set t = null
    set T59 = null
    return false
endfunction
function FBE takes unit T59, unit O4D returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerRegisterUnitEvent(t, T59, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, T59, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function FZE))
    call SaveUnitHandle(R8, (W57), (2), (T59))
    call SaveReal(R8, (W57), (714), (0.))
    call SaveInteger(R8, (W57), (34), (1))
    call SetPlayerAbilityAvailable(GetOwningPlayer(T59), 'A0A7', true)
    if GetUnitAbilityLevel(O4D, 'A3QB') > 0 then
        call O68(T59, 'A3QB')
        call SetUnitAbilityLevel(T59, 'A3QB', GetUnitAbilityLevel(O4D, 'A3QB'))
        call BlzStartUnitAbilityCooldown(T59, 'A3QB', BlzGetUnitAbilityCooldownRemaining(O4D, 'A3QB'))
    endif
    set t = null
endfunction
function FCE takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local player E5D = GetOwningPlayer(O4D)
    local location SD9 = GetUnitLoc(O4D)
    local boolexpr QZ9 = Condition(function FTE)
    local group QA9 = OG8()
    local integer ML8 = GetUnitAbilityLevel(O4D, 'A0A5')
    local integer W57 = GetHandleId(E5D)
    local boolean FVE
    local unit T59
    call GroupEnumUnitsOfPlayer(QA9, GetOwningPlayer(O4D), QZ9)
    set FVE = BlzGroupGetSize(QA9) == 0
    if(ML8 == 1 and FVE)then
        set T59 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'n004', SD9, GetUnitFacing(O4D))
        call SaveUnitHandle(R8, (W57), (333), (T59))
        call FPE()
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", T59, "chest"))
        call FBE(T59, O4D)
    elseif(ML8 == 2 and FVE)then
        set T59 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'n018', SD9, GetUnitFacing(O4D))
        call SaveUnitHandle(R8, (W57), (333), (T59))
        call FPE()
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", T59, "chest"))
        call FBE(T59, O4D)
    elseif(ML8 == 3 and FVE)then
        set T59 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'n01C', SD9, GetUnitFacing(O4D))
        call SaveUnitHandle(R8, (W57), (333), (T59))
        call FPE()
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", T59, "chest"))
        call FBE(T59, O4D)
    elseif(ML8 == 4 and FVE)then
        set T59 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'n01G', SD9, GetUnitFacing(O4D))
        call SaveUnitHandle(R8, (W57), (333), (T59))
        call FPE()
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", T59, "chest"))
        call FBE(T59, O4D)
    elseif FVE == false then
        set T59 = FirstOfGroup(QA9)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", T59, "chest"))
        call SetUnitState(T59, UNIT_STATE_LIFE, GetUnitState(T59, UNIT_STATE_MAX_LIFE))
        call SetUnitPosition(T59, GetUnitX(O4D), GetUnitY(O4D))
    endif
    call SetUnitAbilityLevel(T59, 'A09Y', ML8)
    call OF8(QA9)
    call RemoveLocation(SD9)
    call DestroyBoolExpr(QZ9)
    set QZ9 = null
    set O4D = null
    set E5D = null
    set SD9 = null
    set QA9 = null
    set T59 = null
endfunction
function BJ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FSE))
    call TriggerAddAction(t, function FCE)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function FSE))
    call TriggerAddAction(t, function FUE)
    set t = null
endfunction
function F3E takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(), 'B0C1') > 0
endfunction
function F6E takes nothing returns nothing
    call V08(D2, GetEnumUnit(), AC4, 30)
endfunction
function FLE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit F1E = (LoadUnitHandle(R8, (EC8), (53)))
    local group g = OG8()
    set H04 = F1E
    set D2 = F1E
    call GroupEnumUnitsInRange(g, GetUnitX(F1E), GetUnitY(F1E), 2000, Condition(function F3E))
    call ForGroup(g, function F6E)
    call OF8(g)
    set t = null
    set g = null
    set F1E = null
    return false
endfunction
function F0E takes nothing returns nothing
    local unit F1E = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function FLE))
    call SaveUnitHandle(R8, (EC8), (53), (F1E))
    set F1E = null
    set t = null
endfunction
function VF takes nothing returns boolean
    return GetLearnedSkill() == 'A0A5'and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function Vg takes nothing returns boolean
    if O18(GetFilterUnit())then
        return false
    endif
    if((GetUnitTypeId(GetFilterUnit()) == 'n01C'))then
        return true
    endif
    if((GetUnitTypeId(GetFilterUnit()) == 'n018'))then
        return true
    endif
    if((GetUnitTypeId(GetFilterUnit()) == 'n004'))then
        return true
    endif
    return false
endfunction
function F5E takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local player j8 = GetOwningPlayer(N28)
    local location SD9 = GetUnitLoc(N28)
    local boolexpr hP = Condition(function Vg)
    local group XS8 = OG8()
    local integer ML8 = GetUnitAbilityLevel(N28, 'A0A5')
    local integer W57 = GetHandleId(j8)
    local integer Vh
    local unit T59
    local real bear_facing
    local real WTD
    call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(N28), hP)
    call DestroyBoolExpr(hP)
    if(ML8 == 1)then
        call F0E()
    endif
    set Vh = BlzGroupGetSize(XS8)
    if(Vh == 1)then
        set T59 = FirstOfGroup(XS8)
        set WTD = GetUnitLifePercent(T59)
        set SD9 = GetUnitLoc(T59)
        set bear_facing = GetUnitFacing(T59)
        call ShowUnit(T59, false)
        call KillUnit(T59)
        if(ML8 == 2)then
            set T59 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'n018', SD9, bear_facing)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", T59, "chest"))
            call FBE(T59, N28)
        elseif(ML8 == 3)then
            set T59 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'n01C', SD9, bear_facing)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", T59, "chest"))
            call FBE(T59, N28)
        elseif(ML8 == 4)then
            set T59 = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), 'n01G', SD9, bear_facing)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", T59, "chest"))
            call FBE(T59, N28)
        endif
        call SetUnitLifePercentBJ(T59, WTD)
        call SaveUnitHandle(R8, (W57), (333), (T59))
        call FPE()
    endif
    call OF8(XS8)
    set N28 = null
    set j8 = null
    set SD9 = null
    set hP = null
    set XS8 = null
    set T59 = null
endfunction
function BM8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function VF))
    call TriggerAddAction(t, function F5E)
    set t = null
endfunction
function F2E takes nothing returns boolean
    return GetUnitTypeId(GetAttacker()) == 'n01G'or GetUnitTypeId(GetAttacker()) == 'n01C'or GetUnitTypeId(GetAttacker()) == 'n018'or GetUnitTypeId(GetAttacker()) == 'n004'
endfunction
function BearSpiritEntangleConditon takes nothing returns boolean
    return (GetUnitTypeId(GetEventDamageSource()) == 'n01G' or GetUnitTypeId(GetEventDamageSource()) == 'n01C') and IsNormalAttack() and IsBroken(GetEventDamageSource()) == false
endfunction
function ATN3 takes unit p5, unit target returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    call ASCI(p5, 4343, 5)
    call UnitAddAbility(oA, 'A1GZ')
    call IssueTargetOrder(oA, "ensnare", target)
    set oA = null
endfunction
function BearSpiritEntangleAction takes nothing returns nothing
    if ((LoadInteger(R8, (GetHandleId(GetEventDamageSource())), (4343))) == 1) == false and GetRandomInt(0, 100) < 20 then
        call ATN3(GetEventDamageSource(), GetTriggerUnit())
    endif
endfunction
function F_E takes nothing returns nothing
    local unit VD = GetAttacker()
    local unit VI = Y7[GetPlayerId(GetOwningPlayer(VD))]
    if(GetUnitAbilityLevel(VI, 'A3B7') == 0)and((GetUnitX(VI) - GetUnitX(VD)) * (GetUnitX(VI) - GetUnitX(VD)) + (GetUnitY(VI) - GetUnitY(VD)) * (GetUnitY(VI) - GetUnitY(VD)) >= (1210000))then
        call IssueImmediateOrderById(VD, 851972)
    endif
    set VD = null
    set VI = null
endfunction
function BI8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function F2E))
    call TriggerAddAction(t, function F_E)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function BearSpiritEntangleConditon))
    call TriggerAddAction(t, function BearSpiritEntangleAction)
    set t = null
endfunction
function G4E takes nothing returns boolean
    return GetSpellAbilityId() == 'A0A7'
endfunction
function G7E takes nothing returns nothing
    local unit VD = GetTriggerUnit()
    local unit VI = Y7[GetPlayerId(GetOwningPlayer(VD))]
    call SetUnitX(VD, GetUnitX(VI) + GetRandomReal(25, 50) * Cos(GetRandomReal(0, 360)))
    call SetUnitY(VD, GetUnitY(VI) + GetRandomReal(25, 50) * Sin(GetRandomReal(0, 360)))
    set VD = null
    set VI = null
endfunction
function BK8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function G4E))
    call TriggerAddAction(t, function G7E)
    set t = null
endfunction
function G8E takes nothing returns boolean
    return GetLearnedSkill() == 'A0A8'and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function G9E takes nothing returns nothing
    call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'R000', GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()), 'R000', true) + 1)
    call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'R001', GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()), 'R001', true) + 1)
endfunction
function qb takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function G8E))
    call TriggerAddAction(t, function G9E)
    set t = null
endfunction
function SavageRoarFleeHomeSpeed takes nothing returns nothing
    call O68(GetEnumUnit(), 'A3QC')
endfunction
function SavageRoarFleeHomeSpeedRemove takes nothing returns nothing
    call UnitRemoveAbility(GetEnumUnit(), 'A3QC')
endfunction
function SavageRoarFleeHome takes nothing returns nothing
    local real x = 0
    local real y = 0
    local player p = GetOwningPlayer(GetEnumUnit())
    if KN8(p) then
        set x = GetRectCenterX(QD)
        set y = GetRectCenterY(QD)
    elseif KO8(p) then
        set x = GetRectCenterX(PD)
        set y = GetRectCenterY(PD)
    endif
    // if((IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO))and(IsComputer(p)))then
    //     set g_aiStatReal[640 + GetPlayerId(p)] = Bz + H64
    //     set g_aiStatReal[832 + GetPlayerId(p)] = Bz + H64
    // else
    call UnitWakeUp(GetEnumUnit())
    // endif
    call IssuePointOrderById(GetEnumUnit(), 851986, x, y)
    set p = null
endfunction
function SavageRoarActionCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local group g = LoadGroupHandle(R8, (W57), (220))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local real x = 0
    local real y = 0
    local player p
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_ORDER then
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        if C77 == (4 + 2 * ML8)then
            call ForGroup(g, function SavageRoarFleeHomeSpeedRemove)
            call OF8(g)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        else
            call DisableTrigger(t)
            set H64 = .8 + (.4 * ML8)
            call ForGroup(g, function SavageRoarFleeHome)
            call EnableTrigger(t)
        endif
    else
        if IsUnitInGroup(GetTriggerUnit(), g) and UnitIsSleeping(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'B008') == 0 and GetIssuedOrderId() != 851973 and HL7 == false then
            call DisableTrigger(t)
            set p = GetOwningPlayer(GetTriggerUnit())
            if KN8(p) then
                set x = GetRectCenterX(QD)
                set y = GetRectCenterY(QD)
            elseif KO8(p) then
                set x = GetRectCenterX(PD)
                set y = GetRectCenterY(PD)
            endif
            // if((IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO))and(IsComputer(p)))then
            //     call DisableTrigger(R04[GetPlayerId(p)])
            //     call IssuePointOrderById(GetTriggerUnit(), 851986, x, y)
            //     call EnableTrigger(R04[GetPlayerId(p)])
            // else
            call IssuePointOrderById(GetTriggerUnit(), 851986, x, y)
            // endif
            set p = null
            call EnableTrigger(t)
        endif
    endif
    set t = null
    set g = null
    return false
endfunction
function SavageRoarEnumCondt takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false) and GetUnitAbilityLevel(GetFilterUnit(), 'B0FG') == 0
endfunction
function SavageRoarAction takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(O4D, 'A3QB')
    local unit T59 = null
    local group QA9
    local trigger t
    local group g
    local integer W57
    if IsUnitType(O4D, UNIT_TYPE_HERO) then
        set QA9 = OG8()
        call GroupEnumUnitsOfPlayer(QA9, GetOwningPlayer(O4D), Condition(function FTE))
        if BlzGroupGetSize(QA9) != 0 then
            set T59 = FirstOfGroup(QA9)
        endif
        call OF8(QA9)
    else
        set T59 = Y7[GetPlayerId(GetOwningPlayer(O4D))]
    endif
    if T59 != null and BlzGetUnitAbilityCooldownRemaining(T59, 'A3QB') <= 0. then
        call StartHeroCooldownReduced(T59, 'A3QB')
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", O4D, "origin"))
    set g = OG8()
    set H04 = O4D
    call GroupEnumUnitsInRange(g, GetUnitX(O4D), GetUnitY(O4D), 350, Condition(function SavageRoarEnumCondt))
    set H64 = .8 + (.4 * ML8)
    call ForGroup(g, function SavageRoarFleeHomeSpeed)
    call ForGroup(g, function SavageRoarFleeHome)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SaveGroupHandle(R8, (W57), (220), (g))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (34), (0))
    call TriggerRegisterTimerEvent(t, .2, true)
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function SavageRoarActionCondt))
    set t = null
    set g = null
    set O4D = null
    set QA9 = null
    set T59 = null
endfunction
function SavageRoarCondt takes nothing returns boolean
    if GetSpellAbilityId() == 'A3QB' then
        call SavageRoarAction()
    endif
    return false
endfunction
function SavageRoarSkilledAction takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(O4D, 'A3QB')
    local unit T59 = null
    local group QA9 = OG8()
    call GroupEnumUnitsOfPlayer(QA9, GetOwningPlayer(O4D), Condition(function FTE))
    if BlzGroupGetSize(QA9) != 0 then
        set T59 = FirstOfGroup(QA9)
    endif
    call OF8(QA9)
    if T59 != null then
        call O68(T59, 'A3QB')
        call SetUnitAbilityLevel(T59, 'A3QB', ML8)
    endif
    set T59 = null
    set QA9 = null
    set O4D = null
endfunction
function SavageRoarSkilledCondt takes nothing returns boolean
    if GetLearnedSkill() == 'A3QB' then
        call SavageRoarSkilledAction()
    endif
    return false
endfunction
function Register_SavageRoar takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SavageRoarCondt))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function SavageRoarSkilledCondt))
    set t = null
endfunction
function GDE takes item ZV7 returns boolean
    local integer TS9 = ZU7(ZV7)
    return TS9 == J0 or TS9 == N0 or TS9 == NW or TS9 == OW
endfunction
function GEE takes nothing returns boolean
    return(GetUnitTypeId(GetTriggerUnit()) == 'n01G' or GetUnitTypeId(GetTriggerUnit()) == 'n01C' or GetUnitTypeId(GetTriggerUnit()) == 'n018' or GetUnitTypeId(GetTriggerUnit()) == 'n004')and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function GFE takes nothing returns nothing
    local location GGE
    if KN8(GetOwningPlayer(GetTriggerUnit()))then
        set GGE = GetRectCenter(QD)
    else
        set GGE = GetRectCenter(PD)
    endif
    if GDE(GetEnumItem()) == false then
        call SetItemPosition(GetEnumItem(), GetLocationX(GGE), GetLocationY(GGE))
    endif
    call RemoveLocation(GGE)
    set GGE = null
endfunction
function GHE takes nothing returns nothing
    local integer EC8 = GetHandleId(GetOwningPlayer(GetTriggerUnit()))
    local unit m7 = (LoadUnitHandle(R8, (EC8), (334)))
    local unit VD = (LoadUnitHandle(R8, (EC8), (333)))
    local integer x
    local integer y
    if m7 == null then
        if KN8(GetOwningPlayer(VD))then
            set x =- 6390
            set y =- 5615
        else
            set x = 5875
            set y = 5000
        endif
        set m7 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e01F', x, y, 0)
        call SaveUnitHandle(R8, (EC8), (334), (m7))
    endif
    if GDE(GetEnumItem()) == false then
        call UnitAddItem(m7, GetEnumItem())
    endif
    call ShowUnit(m7, true)
    set m7 = null
    set VD = null
endfunction
function VL takes nothing returns nothing
    if GetWidgetLife(GetEnumItem()) > 0 and not IsTheItem(GetEnumItem(), F1) then
        if T4 then
            call GFE()
        else
            call GHE()
        endif
    endif
endfunction
function GIE takes nothing returns nothing
    local location Mk = GetUnitLoc(GetTriggerUnit())
    local rect GJE = RectFromCenterSizeBJ(Mk, 400., 400.)
    local unit VI = Y7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
    call V08(GetKillingUnit(), VI, 3, .1 * GetUnitState(VI, UNIT_STATE_MAX_LIFE))
    call EnumItemsInRect(GJE, Condition(function KF8), function VL)
    call RemoveLocation(Mk)
    call RemoveRect(GJE)
    set Mk = null
    set VI = null
    set GJE = null
endfunction
function qB takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function GEE))
    call TriggerAddAction(t, function GIE)
    set t = null
endfunction
function GKE takes nothing returns boolean
    return(GetUnitTypeId(GetTriggerUnit()) == 'N013'or GetUnitTypeId(GetTriggerUnit()) == 'N01O'or GetUnitTypeId(GetTriggerUnit()) == 'N015'or GetUnitTypeId(GetTriggerUnit()) == 'N014')and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function GME takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A3B7') == 0 then
        call KillUnit(LoadUnitHandle(R8, (GetHandleId(GetOwningPlayer(GetTriggerUnit()))), (333)))
    endif
endfunction
function qc takes nothing returns nothing
    local trigger t = CreateTrigger()
    call ky(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function GKE))
    call TriggerAddAction(t, function GME)
    set t = null
endfunction
function GNE takes nothing returns boolean
    return(GetLearnedSkill() == 'A0AK' or GetLearnedSkill() == 'A1FY')and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function GOE takes nothing returns nothing
    if(GetUnitAbilityLevel(GetTriggerUnit(), 'A0AK') == 1 or GetUnitAbilityLevel(GetTriggerUnit(), 'A1FY') == 1)then
        call O68(GetTriggerUnit(), 'A1WF')
    endif
endfunction
function qC takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function GNE))
    call TriggerAddAction(t, function GOE)
    set t = null
endfunction
function GPE takes nothing returns boolean
    if(GetSpellAbilityId() == 'A0AM' or GetSpellAbilityId() == 'A0A3' or GetSpellAbilityId() == 'A0A4' or GetSpellAbilityId() == 'A02T' or GetSpellAbilityId() == 'A1FZ' or GetSpellAbilityId() == 'A1WF')then
        return true
    elseif GetSpellAbilityId() == 'A0AK' or GetSpellAbilityId() == 'A1FY' then
        if GetUnitAbilityLevel(GetTriggerUnit(), 'A1WF') == 0 then
            call O68(GetTriggerUnit(), 'A1WF')
        endif
    endif
    return false
endfunction
function GQE takes nothing returns boolean
    if(IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true)then
        if(IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false)then
            if(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0)then
                return true
            endif
        endif
    endif
    return false
endfunction
function GRE takes nothing returns nothing
    call IssueImmediateOrderById(GetEnumUnit(), 852556)
endfunction
function Vq takes nothing returns nothing
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, 300.)
endfunction
function VQ takes nothing returns nothing
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, 450.)
endfunction
function Vr takes nothing returns nothing
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, 600.)
endfunction
function GSE takes nothing returns nothing
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, 750.)
endfunction
function GTE takes nothing returns boolean
    return GetOwningPlayer(GetFilterUnit()) == YN4 and GetUnitTypeId(GetFilterUnit()) == YM4 and O18(GetFilterUnit()) == false
endfunction
function GUE takes player p, integer MB8, real x, real y returns nothing
    local group g = OG8()
    set YN4 = p
    set YM4 = MB8
    call GroupEnumUnitsInRange(g, x, y, 716, Condition(function GTE))
    call ForGroup(g, function GRE)
    call OF8(g)
    set g = null
endfunction
function GVE takes nothing returns nothing
    local real x = GetUnitX(GetTriggerUnit())
    local real y = GetUnitY(GetTriggerUnit())
    local group XS8
    call DisableTrigger(HX4)
    set V0 = true
    if(GetSpellAbilityId() == 'A0AM')then
        call QH8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        call S18(GetOwningPlayer(GetTriggerUnit()), 3, x, y, 500)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 450, Condition(function GQE))
        call ForGroup(XS8, function Vq)
        call RemoveUnit(GetTriggerUnit())
        call OF8(XS8)
    endif
    if(GetSpellAbilityId() == 'A0A3')then
        call QH8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        call S18(GetOwningPlayer(GetTriggerUnit()), 3, x, y, 500)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 450, Condition(function GQE))
        call ForGroup(XS8, function VQ)
        call RemoveUnit(GetTriggerUnit())
        call OF8(XS8)
    endif
    if(GetSpellAbilityId() == 'A0A4')then
        call QH8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        call S18(GetOwningPlayer(GetTriggerUnit()), 3, x, y, 500)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 450, Condition(function GQE))
        call ForGroup(XS8, function Vr)
        call RemoveUnit(GetTriggerUnit())
        call OF8(XS8)
    endif
    if(GetSpellAbilityId() == 'A1FZ')then
        call QH8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        call S18(GetOwningPlayer(GetTriggerUnit()), 3, x, y, 500)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 450, Condition(function GQE))
        call ForGroup(XS8, function GSE)
        call RemoveUnit(GetTriggerUnit())
        call OF8(XS8)
    endif
    if(GetSpellAbilityId() == 'A02T')then
        set XS8 = OG8()
        set bj_groupEnumTypeId = 'o018'
        call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(GetTriggerUnit()), filterGetUnitsOfPlayerAndTypeId)
        call ForGroup(XS8, function GRE)
        call OF8(XS8)
        set XS8 = OG8()
        set bj_groupEnumTypeId = 'o002'
        call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(GetTriggerUnit()), filterGetUnitsOfPlayerAndTypeId)
        call ForGroup(XS8, function GRE)
        call OF8(XS8)
        set XS8 = OG8()
        set bj_groupEnumTypeId = 'o00B'
        call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(GetTriggerUnit()), filterGetUnitsOfPlayerAndTypeId)
        call ForGroup(XS8, function GRE)
        call OF8(XS8)
        set XS8 = OG8()
        set bj_groupEnumTypeId = 'o01B'
        call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(GetTriggerUnit()), filterGetUnitsOfPlayerAndTypeId)
        call ForGroup(XS8, function GRE)
        call OF8(XS8)
    endif
    if(GetSpellAbilityId() == 'A1WF')then
        set x = GetSpellTargetX()
        set y = GetSpellTargetY()
        call GUE(GetOwningPlayer(GetTriggerUnit()), 'o018', x, y)
        call GUE(GetOwningPlayer(GetTriggerUnit()), 'o002', x, y)
        call GUE(GetOwningPlayer(GetTriggerUnit()), 'o00B', x, y)
        call GUE(GetOwningPlayer(GetTriggerUnit()), 'o01B', x, y)
    endif
    set V0 = false
    call EnableTrigger(HX4)
    set XS8 = null
endfunction
function GWE takes nothing returns nothing
    local integer id = GetUnitTypeId(GetTriggerUnit())
    local real x = GetUnitX(GetTriggerUnit())
    local real y = GetUnitY(GetTriggerUnit())
    local group XS8
    if id == 'o018' then
        call QH8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 450, Condition(function GQE))
        call ForGroup(XS8, function Vq)
        call OF8(XS8)
    endif
    if id == 'o002' then
        call QH8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 450, Condition(function GQE))
        call ForGroup(XS8, function VQ)
        call OF8(XS8)
    endif
    if id == 'o00B' then
        call QH8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 450, Condition(function GQE))
        call ForGroup(XS8, function Vr)
        call OF8(XS8)
    endif
    if id == 'o01B' then
        call QH8("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        set XS8 = OG8()
        call GroupEnumUnitsInRange(XS8, x, y, 450, Condition(function GQE))
        call ForGroup(XS8, function GSE)
        call OF8(XS8)
    endif
    set XS8 = null
endfunction
function GXE takes nothing returns boolean
    local integer id = GetUnitTypeId(GetTriggerUnit())
    if (id == 'o018' or id == 'o002' or id == 'o00B' or id == 'o01B') and GetKillingUnit() == null then
        call GWE()
    endif
    return false
endfunction
function qD takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddAction(t, function GVE)
    call TriggerAddCondition(t, Condition(function GPE))
    call GOD("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav")
    set HX4 = CreateTrigger()
    call QQ8(HX4, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(HX4, Condition(function GXE))
    set t = null
endfunction
function ACV1 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false)
endfunction
function AQW3 takes nothing returns nothing
    local real d = Z47(H04, GetEnumUnit())
    local real P99 = H64
    local real AQX3 = 225
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == true then
        set AQX3 = 440
    endif
    if d > AQX3 then
        set P99 = P99 / 2
    endif
    call V08(H04, GetEnumUnit(), 2, P99)
endfunction
function AQY3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit G6E = (LoadUnitHandle(R8, (EC8), (347)))
    local group g = OG8()
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    if GetKillingUnit() == null then
        set H04 = G6E
        set H64 = 112.5 + 37.5 * TA8
        call GroupEnumUnitsInRange(g, GetUnitX(G6E), GetUnitY(G6E), 500 + 25, Condition(function ACV1))
        call ForGroup(g, function AQW3)
        call OF8(g)
    endif
    set t = null
    set G6E = null
    set g = null
    return false
endfunction
function G1E takes nothing returns boolean
    if GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 0.5 and(GetUnitTypeId(GetFilterUnit()) == 'n00O' or GetUnitTypeId(GetFilterUnit()) == 'n00P' or GetUnitTypeId(GetFilterUnit()) == 'n00Q' or GetUnitTypeId(GetFilterUnit()) == 'n00N')then
        set n0 = n0 + 1
    endif
    return false
endfunction
function G0E takes nothing returns boolean
    local group g = OG8()
    set n0 = 0
    call GroupEnumUnitsOfPlayer(g, GetTriggerPlayer(), Condition(function G1E))
    if n0 > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10.00, GetObjectName('n0FC') + ": " + I2S(n0))
    endif
    call OF8(g)
    set g = null
    return false
endfunction
function GYE takes nothing returns boolean
    if((GetUnitTypeId(GetTriggerUnit()) == 'n00O'))then
        return true
    endif
    if((GetUnitTypeId(GetTriggerUnit()) == 'n00P'))then
        return true
    endif
    if((GetUnitTypeId(GetTriggerUnit()) == 'n00Q'))then
        return true
    endif
    if((GetUnitTypeId(GetTriggerUnit()) == 'n00N'))then
        return true
    endif
    if GetUnitTypeId(GetTriggerUnit()) == 'o018' or GetUnitTypeId(GetTriggerUnit()) == 'o002' or GetUnitTypeId(GetTriggerUnit()) == 'o00B' or GetUnitTypeId(GetTriggerUnit()) == 'o01B' then
        if Ab[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]then
        endif
    endif
    return false
endfunction
function GCE takes nothing returns boolean
    return(GetUnitTypeId(GetFilterUnit()) == 'H00E' or GetUnitTypeId(GetFilterUnit()) == 'H00G' or GetUnitTypeId(GetFilterUnit()) == 'H00F' or GetUnitTypeId(GetFilterUnit()) == 'E00P' or GetUnitTypeId(GetFilterUnit()) == 'N00B' or GetUnitTypeId(GetFilterUnit()) == 'UC60' or GetUnitTypeId(GetFilterUnit()) == 'EC77' or GetUnitTypeId(GetFilterUnit()) == 'U00P' or GetUnitTypeId(GetFilterUnit()) == 'E02N' or GetUnitTypeId(GetFilterUnit()) == 'E02O' or GetUnitTypeId(GetFilterUnit()) == 'O016' or GetUnitTypeId(GetFilterUnit()) == 'O017' or GetUnitTypeId(GetFilterUnit()) == 'E02F' or GetUnitTypeId(GetFilterUnit()) == 'H0DO' or GetUnitTypeId(GetFilterUnit()) == 'N0M7' or GetUnitTypeId(GetFilterUnit()) == 'N0MB' or GetUnitTypeId(GetFilterUnit()) == 'N0MC' or GetUnitTypeId(GetFilterUnit()) == 'N0MO' or GetUnitTypeId(GetFilterUnit()) == 'N0MA' or GetUnitTypeId(GetFilterUnit()) == 'N0MW')and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(H04))
endfunction
function G3E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit G6E = (LoadUnitHandle(R8, (EC8), (347)))
    local group g
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if GetKillingUnit() == null then
            call DestroyEffect(AddSpecialEffect("war3mapImported\\NewGroundEX.mdx", GetUnitX(G6E), GetUnitY(G6E)))
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set g = OG8()
        set H04 = G6E
        call GroupEnumUnitsInRange(g, GetUnitX(G6E), GetUnitY(G6E), 200, Condition(function GCE))
        if FirstOfGroup(g) != null then
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call SetUnitExploded(G6E, true)
            call KillUnit(G6E)
        endif
        call OF8(g)
    endif
    set t = null
    set G6E = null
    set g = null
    return false
endfunction
function GLE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = Y7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
    local integer TA8 = GetUnitAbilityLevel(N28, 'A05J')
    call TriggerRegisterTimerEvent(t, .4, true)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function G3E))
    call SaveUnitHandle(R8, (EC8), (347), (GetTriggerUnit()))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function AQY3))
    call SaveUnitHandle(R8, (EC8), (347), (GetTriggerUnit()))
    call SaveInteger(R8, (EC8), (5), (TA8))
    set N28 = null
    set t = null
endfunction
function qe takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-st", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-st", true)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function G0E))
    set t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, GetWorldBounds())
    call TriggerAddCondition(t, Condition(function GYE))
    call TriggerAddAction(t, function GLE)
    set t = null
endfunction
function G5E takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(AM7), 'e00E', GetUnitX(AM7), GetUnitY(AM7), 0)
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local integer i = 0
    local real a = 0
    local real r = 0
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0BQ')
    call O68(AC7, 'A05F')
    call SetUnitAbilityLevel(AC7, 'A05F', ML8)
    loop
        exitwhen i > 40
        exitwhen IssuePointOrderById(AC7, 852593, x + r * Cos(a), y + r * Sin(a))
        set i = i + 1
        set a = a + .4
        set r = r + 10
    endloop
    set AM7 = null
    set AC7 = null
endfunction
function G2E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0BQ' then
        call G5E()
    endif
    return false
endfunction
function BN8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function G2E))
    set t = null
endfunction
function G_E takes nothing returns boolean
    return (GetSpellAbilityId() == 'A049' or GetSpellAbilityId() == 'A2WB')and OE8(GetSpellTargetUnit()) == false
endfunction
function JGTJ takes nothing returns boolean
    if(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(H04)))then
        if(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)))then
            return true
        endif
    endif
    return false
endfunction
function H4E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, GetSpellAbilityId())
    local group g
    local unit AC7
    call V08(Z77, X77, 3, TA8 * 80)
    if GetSpellAbilityId() == 'A2WB' then
        set g = OG8()
        set H04 = Z77
        call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 550 + 25, Condition(function JGTJ))
        call GroupRemoveUnit(g, X77)
        set X77 = GroupPickRandomUnit(g)
        if X77 != null then
            set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
            call O68(AC7, 'A049')
            call SetUnitAbilityLevel(AC7, 'A049', TA8)
            call IssueTargetOrderById(AC7, 852585, X77)
            call OF8(g)
        endif
    endif
    set X77 = null
    set Z77 = null
    set AC7 = null
    set g = null
endfunction
function BO8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function G_E))
    call TriggerAddAction(t, function H4E)
    set t = null
endfunction
function AUF3 takes nothing returns boolean
    return(GU8(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsHeroUnitId(GetUnitTypeId(GetFilterUnit()))
endfunction
function AUG3 takes nothing returns nothing
    local unit p5 = H04
    local unit target = H54
    local integer TA8 = GetUnitAbilityLevel(p5, 'A05E')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(p5, 'A2WA')
    endif
    call V08(p5, target, 1, 50 + 75 * TA8)
    set p5 = null
    set target = null
endfunction
function AUH3 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = null
    local group g = OG8()
    local real x = GetUnitX(p5)
    local real y = GetUnitY(p5)
    local integer C77 = 2
    if GetUnitAbilityLevel(p5, 'A05E') == 0 then
        set C77 = 4
    endif
    set H04 = p5
    call GroupEnumUnitsInRange(g, x, y, 2500 + 25, Condition(function AUF3))
    loop
        exitwhen FirstOfGroup(g) == null or C77 == 0
        set target = GUD(g, x, y)
        set C77 = C77 - 1
        call GroupRemoveUnit(g, target)
        call T88(p5, target, 'h0ET', "AUG3", 1000, false)
    endloop
    call OF8(g)
    set g = null
    set target = null
    set p5 = null
endfunction
function AUZ3 takes nothing returns boolean
    if GetSpellAbilityId() == 'A05E' or GetSpellAbilityId() == 'A2WA' then
        call AUH3()
    endif
    return false
endfunction
function AJE1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AUZ3))
    set t = null
endfunction
function H7E takes unit u returns boolean
    return GetUnitTypeId(u) == 'H00F' or GetUnitTypeId(u) == 'H00E' or GetUnitTypeId(u) == 'H00G' or GetUnitTypeId(u) == 'O017'
endfunction
function H8E takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == true then
        call V08(RU, GetEnumUnit(), 1, SU / 3)
    else
        call V08(RU, GetEnumUnit(), 1, SU)
    endif
endfunction
function H9E takes unit p5, real x, real y, real r, real d returns nothing
    local group g = OG8()
    set H04 = p5
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function VP8))
    set RU = p5
    set SU = d
    call ForGroup(g, function H8E)
    call OF8(g)
    set g = null
endfunction
function HDE takes nothing returns boolean
    if((GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())))and ZS7(GetFilterUnit()) == false and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))then
        return true
    endif
    return false
endfunction
function HEE takes unit N28 returns unit
    local unit p5 = null
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 275 + 25, Condition(function HDE))
    call GroupRemoveUnit(g, N28)
    set p5 = GUD(g, GetUnitX(N28), GetUnitY(N28))
    call OF8(g)
    set H04 = p5
    set p5 = null
    set g = null
    return H04
endfunction
function HFE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer C77 = GetTriggerEvalCount(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8
    local real x0 = (LoadReal(R8, (EC8), (282)))
    local real y0 = (LoadReal(R8, (EC8), (283)))
    local real x1 = GetUnitX(p5)
    local real y1 = GetUnitY(p5)
    local real x2 = 0
    local real y2 = 0
    local real CV7
    local real HGE
    local real HHE
    local real HIE
    local real S_8
    local real T48
    local location l
    if target != null then
        set x2 = GetUnitX(target)
        set y2 = GetUnitY(target)
    endif
    if target == null or Z87(x0, y0, x2, y2) > 1000 then
        set x2 = x0
        set y2 = y0
    endif
    set CV7 = YI7(x1, y1, x2, y2)
    set HGE = Z87(x1, y1, x2, y2)
    set HHE = HGE / IMaxBJ((65 - C77), 1)
    set HIE = (C77 - 33) * (C77 - 33)
    set S_8 = x1 + HHE * Cos(CV7 * bj_DEGTORAD)
    set T48 = y1 + HHE * Sin(CV7 * bj_DEGTORAD)
    if C77 < 65 then
        if H7E(p5) == false then
            call SetUnitFlyHeight(p5, 775 - HIE, 0)
        endif
        call SetUnitPosition(p5, S_8, T48)
    else
        if H7E(p5) == false then
            call SetUnitFlyHeight(p5, GetUnitDefaultFlyHeight(p5), 0)
        endif
        call PauseUnit(p5, false)
        call SetUnitPathing(p5, true)
        call SetUnitPosition(p5, x2, y2)
        call SaveInteger(R8, (GetHandleId(p5)), (4268), (2))
        set l = Location(x2, y2)
        call TerrainDeformationRippleBJ(0.2, true, l, 1.00, 300.00, 96.00, 1, 64.00)
        call RemoveLocation(l)
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", GetUnitX(p5), GetUnitY(p5)))
        if IsUnitAlly(p5, GetOwningPlayer(N28)) == false then
            set TA8 = GetUnitAbilityLevel(N28, 'A0CY')
            if TA8 == 0 then
                set TA8 = GetUnitAbilityLevel(N28, 'A1IV')
            endif
            if(AV7((N28), BU[GG4]) != null)then
                set TA8 = TA8 + 1
            endif
            call V08(N28, p5, 1, (0.2 + 0.15 * TA8) * 75 * GetUnitAbilityLevel(N28, 'A0BZ'))
        endif
        call SC8(x2, y2, 300)
        call H9E(N28, x2, y2, 300, 75 * GetUnitAbilityLevel(N28, 'A0BZ'))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    set p5 = null
    set target = null
    set l = null
    return false
endfunction
function HJE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit p5 = WS4
    local unit target
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real x
    local real y
    call SetUnitAnimationByIndex(N28, 4)
    call PauseUnit(p5, true)
    call SetUnitPathing(p5, false)
    if H7E(p5) == false then
        call O68(p5, 'Amrf')
        call UnitRemoveAbility(p5, 'Amrf')
    endif
    call SaveInteger(R8, (GetHandleId((p5))), ((4268)), (1))
    if GetSpellTargetItem() == null then
        set target = GetSpellTargetUnit()
        set x = GetUnitX(target)
        set y = GetUnitY(target)
    else
        set x = GetItemX(GetSpellTargetItem())
        set y = GetItemY(GetSpellTargetItem())
        set target = null
    endif
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", p5, "origin")))
    call SaveReal(R8, (EC8), (282), ((x)))
    call SaveReal(R8, (EC8), (283), ((y)))
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function HFE))
    set N28 = null
    set p5 = null
    set target = null
    set t = null
endfunction
function HKE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit p5 = HEE(N28)
    local unit target = GetSpellTargetUnit()
    if GetSpellTargetItem() != null and ZV9(GetItemTypeId(GetSpellTargetItem())) == false then
        call ZN7(N28)
        call PN8(GetOwningPlayer(N28), GetObjectName('n0N3'))
    endif
    set WS4 = p5
    if p5 == null then
        call ZN7(N28)
        call PN8(GetOwningPlayer(N28), GetObjectName('n0DA'))
    elseif GetOwningPlayer(target) == GetOwningPlayer(N28)then
        call ZN7(N28)
        call PN8(GetOwningPlayer(N28), GetObjectName('n0CY'))
    endif
    set N28 = null
    set p5 = null
    set target = null
endfunction
function HME takes nothing returns boolean
    if GetSpellAbilityId() == 'A0BZ' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call HKE()
        else
            call HJE()
        endif
    endif
    return false
endfunction
function BS8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HME))
    set t = null
endfunction
function HOE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer C77
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == Z77 and GetEventDamage() > 20 then
            set C77 = (LoadInteger(R8, (GetHandleId(Z77)), (674)))
            if((LoadInteger(R8, (GetHandleId(Z77)), (4297))) == 1) == false then
                call ASCI(Z77, 4297, 0.1)
                call SaveInteger(R8, (GetHandleId(Z77)), (674), (C77 + 1))
            endif
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function HPE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local trigger t2
    local integer KC8 = GetHandleId(t)
    local unit WX8 = (LoadUnitHandle(R8, (KC8), (2)))
    local integer HQE = (LoadInteger(R8, (GetHandleId(WX8)), (674)))
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED and HQE < 6 then
        if GetAttacker() == WX8 and((LoadInteger(R8, (GetHandleId((WX8))), ((4297)))) == 1) == false then
            set t2 = CreateTrigger()
            call TriggerRegisterUnitEvent(t2, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
            call TriggerRegisterTimerEvent(t2, 1, false)
            call TriggerAddCondition(t2, Condition(function HOE))
            call SaveUnitHandle(R8, (GetHandleId(t2)), (2), (WX8))
            set t2 = null
        endif
    endif
    if HQE > 5 then
        call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (674), (0))
        call UnitRemoveAbility(WX8, 'A1W1')
        if(LoadInteger(R8, (KC8), (34))) == 1 then
            call FlushChildHashtable(R8, KC8)
            call EA8(t)
        endif
    endif
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_ATTACKED then
        call SaveInteger(R8, (KC8), (34), (1))
        if HQE > 5 then
            call FlushChildHashtable(R8, KC8)
            call EA8(t)
        endif
        call UnitRemoveAbility(WX8, 'A1VG')
        if(AV7((WX8), BU[GG4]) != null)then
            call O68(WX8, 'A1VH')
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(WX8), 'A1VH', true)
    endif
    set t = null
    set WX8 = null
    return false
endfunction
function WarClub_Animation takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEvalCount(t) == 1 then
        call SetUnitTimeScalePercent(Z77, 250)
    else
        call SetUnitTimeScalePercent(Z77, 100)
        call SetUnitAnimationByIndex(Z77, 12)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function HSE takes nothing returns boolean
    local trigger t
    if GetSpellAbilityId() == 'A1VH' then
        call ASCI(GetTriggerUnit(), 4296, 29.9)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1VH', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1VG', true)
        call O68(GetTriggerUnit(), 'A1VG')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1W1', false)
        call O68(GetTriggerUnit(), 'A1W1')
        call IssueTargetOrder(GetTriggerUnit(), "grabtree", GetSpellTargetDestructable())
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 30, false)
        call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerAddCondition(t, Condition(function HPE))
        call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
        call SaveInteger(R8, (GetHandleId(t)), (34), (0))
        call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (674), (0))
        set t = null
    elseif GetSpellAbilityId() == 'A2KA' then
        call RemoveDestructable(GetSpellTargetDestructable())
        call ShowUnit(GetTriggerUnit(), false)
        call ShowUnit(GetTriggerUnit(), true)
        call UnitRemoveAbility(GetTriggerUnit(), 'Aloc')
        call UnitAddAbility(GetTriggerUnit(), 'A2KB')
        call UnitRemoveAbility(GetTriggerUnit(), 'A2KB')
        call UnitAddAbility(GetTriggerUnit(), 'A2KC')
        call UnitRemoveAbility(GetTriggerUnit(), 'A2KC')
        call AddUnitAnimationProperties(GetTriggerUnit(), "upgrade", false)
    endif
    return false
endfunction
function WarClub_Scan takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    if(AV7((Z77), BU[GG4]) != null)then
        if((LoadInteger(R8, (GetHandleId((Z77))), ((4296)))) == 1) == false then
            if GetUnitAbilityLevel(Z77, 'A1VH') == 0 and GetUnitAbilityLevel(Z77, 'A1VG') == 0 then
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1VH', true)
                call O68(Z77, 'A1VH')
            endif
        endif
    else
        call UnitRemoveAbility(Z77, 'A1VH')
        call UnitRemoveAbility(Z77, 'A1VG')
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function FHD takes nothing returns nothing
    local unit p5 = B2
    local unit target = C2
    local unit oA = (LoadUnitHandle(R8, (GetHandleId(p5)), (297)))
    call SaveUnitHandle(R8, (GetHandleId(target)), (297), (oA))
    call SetUnitOwner(oA, GetOwningPlayer(target), true)
    set p5 = null
    set target = null
    set oA = null
endfunction
function RZ9 takes nothing returns nothing
    local unit N28 = IE4
    local unit oA = (LoadUnitHandle(R8, (GetHandleId(N28)), (297)))
    if oA != null and GetUnitTypeId(oA) == 'e01V' then
        call RemoveUnit(oA)
    endif
    set N28 = null
    set oA = null
endfunction
function HTE takes nothing returns boolean
    return GetLearnedSkill() == 'A0CY' or GetLearnedSkill() == 'A1IV' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function HUE takes nothing returns nothing
    local unit HVE = (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (298)))
    local integer TA8 = GetUnitAbilityLevel(HVE, 'A0CY')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(HVE, 'A1IV')
    endif
    if GetUnitState(HVE, UNIT_STATE_LIFE) > 1 then
        call SetUnitScale(HVE, 0.5 + 0.25 * TA8, 0.5 + 0.25 * TA8, 0.5 + 0.25 * TA8)
    endif
    set HVE = null
endfunction
function HWE takes nothing returns boolean
    local integer TA8
    if IsUnitIllusion(GetTriggerUnit())and(GetUnitTypeId(GetTriggerUnit()) == 'Ucrl' or GetUnitTypeId(GetTriggerUnit()) == 'U01X')then
        set TA8 = GetUnitAbilityLevel((LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (298))), 'A0CY')
        if TA8 == 0 then
            set TA8 = GetUnitAbilityLevel((LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (298))), 'A1IV')
        endif
        call SetUnitScale(GetTriggerUnit(), 0.5 + 0.25 * TA8, 0.5 + 0.25 * TA8, 0.5 + 0.25 * TA8)
    endif
    return false
endfunction
function HXE takes nothing returns nothing
    local trigger t
    local unit HYE = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(HYE, 'A0CY')
    local unit oA
    local unit N28 = GetTriggerUnit()
    local region HZE
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(HYE, 'A1IV')
    endif
    if TA8 == 1 then
        set oA = CreateUnit(GetOwningPlayer(N28), 'e01V', 0, 0, 0)
        call O68(oA, 'A10B')
        call SaveUnitHandle(R8, (GetHandleId(N28)), (297), (oA))
    else
        set oA = (LoadUnitHandle(R8, (GetHandleId(N28)), (297)))
    endif
    if TA8 == 2 then
        call UnitRemoveAbility(oA, 'A10B')
        call O68(oA, 'A10A')
    elseif TA8 == 3 then
        call UnitRemoveAbility(oA, 'A10B')
        call UnitRemoveAbility(oA, 'A10A')
        call O68(oA, 'A0ZS')
    endif
    call SetPlayerTechResearched(GetOwningPlayer(HYE), 'R00E', TA8)
    if TA8 == 1 then
        set t = CreateTrigger()
        call TriggerAddAction(t, function HUE)
        call TriggerRegisterTimerEvent(t, 2.00, true)
        call SaveUnitHandle(R8, (GetHandleId(t)), (298), (HYE))
        call SetUnitScale(HYE, 0.5 + 0.25 * TA8, 0.5 + 0.25 * TA8, 0.5 + 0.25 * TA8)
        set t = CreateTrigger()
        set HZE = CreateRegion()
        call RegionAddRect(HZE, GetWorldBounds())
        call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
        call TriggerAddCondition(t, Condition(function HWE))
        call SaveUnitHandle(R8, (GetHandleId(t)), (298), (HYE))
        set t = null
        set HZE = null
    endif
    set HYE = null
    set N28 = null
    set oA = null
endfunction
function BQ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function HTE))
    call TriggerAddAction(t, function HXE)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HSE))
    call GVD('A2KK')
    set t = null
endfunction
function HAE takes nothing returns boolean
    if((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((4268)))) == 1)and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(gB)) then
        call V08(gB, GetFilterUnit(), AB4, lB)
    endif
    return false
endfunction
function HBE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0LL')
    local group g = OG8()
    set gB = N28
    if TA8 == 1 then
        set lB = 25
    elseif TA8 == 2 then
        set lB = 45
    elseif TA8 == 3 then
        set lB = 65
    elseif TA8 == 4 then
        set lB = 75
    endif
    call GroupEnumUnitsInRange(g, x, y, 275 + 25, Condition(function HAE))
    call OF8(g)
    if GetTriggerEvalCount(t) > 6 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    set g = null
    return false
endfunction
function HCE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local location l = GetSpellTargetLoc()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0LL')
    call O68(oA, 'A10M')
    call SetUnitAbilityLevel(oA, 'A10M', TA8)
    if GetPlayerController(GetOwningPlayer(oA)) == MAP_CONTROL_COMPUTER then
        call UnitAddAbility(oA, 'A10M')
        call SetUnitAbilityLevel(oA, 'A10M', TA8)
    endif
    call IssuePointOrderById(oA, 852652, GetLocationX(l), GetLocationY(l))
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function HBE))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveReal(R8, (EC8), (6), (GetLocationX(l)))
    call SaveReal(R8, (EC8), (7), (GetLocationY(l)))
    call TriggerEvaluate(t)
    call RemoveLocation(l)
    set N28 = null
    set l = null
    set t = null
    set oA = null
endfunction
function H3E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0LL' then
        call HCE()
    endif
    return false
endfunction
function BR8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function H3E))
    set t = null
endfunction
function H6E takes nothing returns boolean
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEventDamageSource()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A19Q')
    local unit AC7
    if IsNormalAttack() and IsBroken(Z77) == false and GetRandomInt(1, 100) <= ML8 * 6 and Z47(Z77, X77) < 450 then
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
        call O68(AC7, 'A0BV')
        call SetUnitAbilityLevel(AC7, 'A0BV', ML8)
        call IssueTargetOrderById(AC7, 852095, X77)
        set AC7 = null
    endif
    set Z77 = null
    set X77 = null
    return false
endfunction
function HLE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit X77 = GetTriggerUnit()
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function H6E))
    set t = null
    set X77 = null
endfunction
function H1E takes nothing returns boolean
    if GetLearnedSkill() == 'A19Q' and GetUnitAbilityLevel(GetTriggerUnit(), 'A19Q') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call HLE()
    endif
    return false
endfunction
function BT8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function H1E))
    set t = null
endfunction
function H0E takes nothing returns boolean
    return IsNormalAttackHero() and GetUnitAbilityLevel(GetEventDamageSource(), 'A0O0') > 0 and IsBroken(GetEventDamageSource()) == false
endfunction
function H5E takes nothing returns nothing
    local unit X47 = GetEventDamageSource()
    local unit X77 = GetTriggerUnit()
    local integer W57 = GetHandleId(X47)
    local integer AIZ4 = LoadInteger(R8, (W57), (237))
    local integer switch = GetUnitAbilityLevel(X47, 'A0NZ')
    local unit H2E = KH8(AIZ4)
    local integer VHD = IMaxBJ((LoadInteger(R8, (W57), (236))), 0)
    local integer ML8 = GetUnitAbilityLevel(X47, 'A0O0')
    local real AIW4
    if H2E != X77 then
        set VHD = 0
    else
        set VHD = IMinBJ(VHD + 1, 6)
    endif
    set AIW4 = (.1 + .05 * ML8) * VHD
    if switch == 0 then
        call O68(X47, 'A0NZ')
        set switch = 1
    elseif switch == 1 then
        set switch = 2
    else
        set switch = 1
    endif
    call FbSetAbilityRealLevelField(BlzGetUnitAbility(X47, 'A0NZ'), ABILITY_RLF_ATTACK_SPEED_INCREASE_ISX1, switch, AIW4)
    call SetUnitAbilityLevel(X47, 'A0NZ', switch)
    call SaveInteger(R8, (W57), (236), (VHD))
    if H2E != X77 then
        call KG8(AIZ4)
        set AIZ4 = KJ8(X77)
        call SaveInteger(R8, (W57), (237), (AIZ4))
    endif
    set X47 = null
    set X77 = null
    set H2E = null
endfunction
function BL8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function H0E))
    call TriggerAddAction(t, function H5E)
    call PU8('A0NZ')
    set t = null
endfunction
function H_E takes unit Z77, unit X77, unit AC7, integer ML8 returns nothing
    call SetUnitOwner(AC7, GetOwningPlayer(X77), false)
    call SetUnitAbilityLevel(AC7, 'A21O', ML8)
    call IssueTargetOrderById(AC7, 852190, X77)
    call V08(Z77, X77, AB4, 25 + 50 * ML8)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", X77, "overhead"))
endfunction
function I4E takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), CL4) == false then
        call GroupAddUnit(CL4, GetEnumUnit())
        call H_E(CR4, GetEnumUnit(), CS4, C_4)
    endif
endfunction
function I7E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local unit I8E = (LoadUnitHandle(R8, (W57), (675)))
    local unit I9E = (LoadUnitHandle(R8, (W57), (676)))
    local real a = (LoadReal(R8, (W57), (13)))
    local real d = (LoadReal(R8, (W57), (433)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g = OG8()
    if GetTriggerEvalCount(t) <= 50 then
        set a = a + 20
        set d = d + 7
        call SaveReal(R8, (W57), (13), (a))
        call SaveReal(R8, (W57), (433), (d))
    elseif GetTriggerEvalCount(t) <= 100 then
        set a = a + 20
        set d = d - 7
        call SaveReal(R8, (W57), (13), (a))
        call SaveReal(R8, (W57), (433), (d))
    endif
    call SetUnitX(I8E, PQ8(x + d * Cos(a * bj_DEGTORAD)))
    call SetUnitY(I8E, PS8(y + d * Sin(a * bj_DEGTORAD)))
    set a = a + 180
    call SetUnitX(I9E, PQ8(x + d * Cos(a * bj_DEGTORAD)))
    call SetUnitY(I9E, PS8(y + d * Sin(a * bj_DEGTORAD)))
    set H04 = Z77
    set CR4 = Z77
    set CS4 = AC7
    set CL4 = XCD
    set C_4 = ML8
    call GroupEnumUnitsInRange(g, GetUnitX(I8E), GetUnitY(I8E), 125, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function I4E)
    set H04 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(I9E), GetUnitY(I9E), 125, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function I4E)
    call OF8(g)
    if GetTriggerEvalCount(t) > 100 then
        call KillUnit(I8E)
        call KillUnit(I9E)
        call KillUnit(AC7)
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set I8E = null
    set I9E = null
    set AC7 = null
    set XCD = null
    set g = null
    return false
endfunction
function IDE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local unit I8E = CreateUnit(GetOwningPlayer(Z77), 'e02Y', x, y, 0)
    local unit I9E = CreateUnit(GetOwningPlayer(Z77), 'e02Y', x, y, 0)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    call UnitAddAbility(AC7, 'A21O')
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveUnitHandle(R8, (W57), (675), (I8E))
    call SaveUnitHandle(R8, (W57), (676), (I9E))
    call SaveReal(R8, (W57), (13), (0.))
    call SaveReal(R8, (W57), (433), (0.))
    call SaveInteger(R8, (W57), (5), (GetUnitAbilityLevel(Z77, 'A21N')))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function I7E))
    set Z77 = null
    set I8E = null
    set I9E = null
    set t = null
    set AC7 = null
endfunction
function IEE takes unit Z77, unit X77, unit AC7, integer ML8 returns nothing
    call SetUnitOwner(AC7, GetOwningPlayer(X77), false)
    call SetUnitAbilityLevel(AC7, 'A21P', ML8)
    call IssueTargetOrderById(AC7, 852075, X77)
    call V08(Z77, X77, AB4, 75)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", X77, "overhead"))
endfunction
function IFE takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), CL4) == false and CU4 != null and O18(CU4) == false then
        call GroupAddUnit(CL4, GetEnumUnit())
        call IEE(CR4, GetEnumUnit(), CS4, C_4)
    endif
endfunction
function IGE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local unit I8E = (LoadUnitHandle(R8, (W57), (393)))
    local unit I9E = (LoadUnitHandle(R8, (W57), (394)))
    local unit IHE = (LoadUnitHandle(R8, (W57), (395)))
    local unit IIE = (LoadUnitHandle(R8, (W57), (396)))
    local unit IJE = (LoadUnitHandle(R8, (W57), (397)))
    local real a = (LoadReal(R8, (W57), (13))) - 12.5
    local real d = (LoadReal(R8, (W57), (433)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local unit P3D
    local group g
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    set d = d + 900 / 20.
    call SaveReal(R8, (W57), (433), (d))
    call SetUnitX(I8E, PQ8(x + d * Cos(a * bj_DEGTORAD)))
    call SetUnitY(I8E, PS8(y + d * Sin(a * bj_DEGTORAD)))
    set a = a + 6.25
    call SetUnitX(I9E, PQ8(x + d * Cos(a * bj_DEGTORAD)))
    call SetUnitY(I9E, PS8(y + d * Sin(a * bj_DEGTORAD)))
    set a = a + 6.25
    call SetUnitX(IHE, PQ8(x + d * Cos(a * bj_DEGTORAD)))
    call SetUnitY(IHE, PS8(y + d * Sin(a * bj_DEGTORAD)))
    set a = a + 6.25
    call SetUnitX(IIE, PQ8(x + d * Cos(a * bj_DEGTORAD)))
    call SetUnitY(IIE, PS8(y + d * Sin(a * bj_DEGTORAD)))
    set a = a + 6.25
    call SetUnitX(IJE, PQ8(x + d * Cos(a * bj_DEGTORAD)))
    call SetUnitY(IJE, PS8(y + d * Sin(a * bj_DEGTORAD)))
    set CR4 = Z77
    set CS4 = AC7
    set CL4 = XCD
    set C_4 = ML8
    set P3D = I8E
    if P3D != null and O18(P3D) == false then
        set x = GetUnitX(P3D)
        set y = GetUnitY(P3D)
        set CU4 = P3D
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 125, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function IFE)
        call OF8(g)
    endif
    set P3D = I9E
    if P3D != null and O18(P3D) == false then
        set x = GetUnitX(P3D)
        set y = GetUnitY(P3D)
        set CU4 = P3D
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 125, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function IFE)
        call OF8(g)
    endif
    set P3D = IHE
    if P3D != null and O18(P3D) == false then
        set x = GetUnitX(P3D)
        set y = GetUnitY(P3D)
        set CU4 = P3D
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 125, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function IFE)
        call OF8(g)
    endif
    set P3D = IIE
    if P3D != null and O18(P3D) == false then
        set x = GetUnitX(P3D)
        set y = GetUnitY(P3D)
        set CU4 = P3D
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 125, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function IFE)
        call OF8(g)
    endif
    set P3D = IJE
    if P3D != null and O18(P3D) == false then
        set x = GetUnitX(P3D)
        set y = GetUnitY(P3D)
        set CU4 = P3D
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 125, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function IFE)
        call OF8(g)
    endif
    if GetTriggerEvalCount(t) > 20 then
        call KillUnit(I8E)
        call KillUnit(I9E)
        call KillUnit(IHE)
        call KillUnit(IIE)
        call KillUnit(IJE)
        call KillUnit(AC7)
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set I8E = null
    set I9E = null
    set IHE = null
    set IIE = null
    set IJE = null
    set AC7 = null
    set P3D = null
    set XCD = null
    set g = null
    return false
endfunction
function IKE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x0 = GetUnitX(Z77)
    local real y0 = GetUnitY(Z77)
    local real x1 = GetSpellTargetX()
    local real y1 = GetSpellTargetY()
    local real a = YI7(x0, y0, x1, y1)
    local unit I8E = CreateUnit(GetOwningPlayer(Z77), 'e02Z', x0, y0, a - 12.5)
    local unit I9E = CreateUnit(GetOwningPlayer(Z77), 'e02Z', x0, y0, a - 6.25)
    local unit IHE = CreateUnit(GetOwningPlayer(Z77), 'e02Z', x0, y0, a)
    local unit IIE = CreateUnit(GetOwningPlayer(Z77), 'e02Z', x0, y0, a + 6.25)
    local unit IJE = CreateUnit(GetOwningPlayer(Z77), 'e02Z', x0, y0, a + 12.5)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x0, y0, 0)
    call UnitAddAbility(AC7, 'A21P')
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveUnitHandle(R8, (W57), (393), (I8E))
    call SaveUnitHandle(R8, (W57), (394), (I9E))
    call SaveUnitHandle(R8, (W57), (395), (IHE))
    call SaveUnitHandle(R8, (W57), (396), (IIE))
    call SaveUnitHandle(R8, (W57), (397), (IJE))
    call SaveReal(R8, (W57), (6), (x0))
    call SaveReal(R8, (W57), (7), (y0))
    call SaveReal(R8, (W57), (433), (0.))
    call SaveReal(R8, (W57), (13), (a))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call SaveInteger(R8, (W57), (5), (GetUnitAbilityLevel(Z77, 'A21M')))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function IGE))
    set Z77 = null
    set I8E = null
    set I9E = null
    set IHE = null
    set IIE = null
    set IJE = null
    set t = null
    set AC7 = null
endfunction
function IME takes nothing returns boolean
    if GetSpellAbilityId() == 'A21M' then
        call IKE()
    elseif GetSpellAbilityId() == 'A21N' then
        call IDE()
    endif
    return false
endfunction
function INE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A21L')
    local player p = (LoadPlayerHandle(R8, (W57), (54)))
    if GetUnitTypeId(Z77) == 'N017' or GetUnitTypeId(Z77) == 'N02B' then
        if((LoadInteger(R8, (GetHandleId(Z77)), ((4416)))) == 1) == false or p != GetOwningPlayer(Z77)then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21N', true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21M', false)
            call SaveInteger(R8, (GetHandleId(Z77)), ((4416)), (1))
            call SaveInteger(R8, (GetHandleId(Z77)), ((4417)), (2))
            if p != GetOwningPlayer(Z77)then
                call SavePlayerHandle(R8, (W57), (54), (GetOwningPlayer(Z77)))
            endif
        endif
        if GetUnitAbilityLevel(Z77, 'A21N') != ML8 then
            call SetUnitAbilityLevel(Z77, 'A21N', ML8)
        endif
    elseif GetUnitTypeId(Z77) == 'N016' then
        if((LoadInteger(R8, (GetHandleId(Z77)), ((4417)))) == 1) == false or p != GetOwningPlayer(Z77)then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21N', false)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21M', true)
            call SaveInteger(R8, (GetHandleId(Z77)), ((4417)), (1))
            call SaveInteger(R8, (GetHandleId(Z77)), ((4416)), (2))
            if p != GetOwningPlayer(Z77)then
                call SavePlayerHandle(R8, (W57), (54), (GetOwningPlayer(Z77)))
            endif
        endif
        if GetUnitAbilityLevel(Z77, 'A21M') != ML8 then
            call SetUnitAbilityLevel(Z77, 'A21M', ML8)
        endif
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function IOE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call O68(Z77, 'A21N')
    call O68(Z77, 'A21M')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21N', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21M', false)
    call SaveInteger(R8, (GetHandleId((Z77))), ((4416)), (2))
    call SaveInteger(R8, (GetHandleId((Z77))), ((4417)), (2))
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerAddCondition(t, Condition(function INE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SavePlayerHandle(R8, (W57), (54), (GetOwningPlayer(Z77)))
    set t = null
    set Z77 = null
endfunction
function IPE takes nothing returns boolean
    if GetLearnedSkill() == 'A21L' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A21L') == 1 then
        call IOE()
    endif
    return false
endfunction
function B18 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function IPE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IME))
    set t = null
endfunction
function IQE takes nothing returns nothing
    if GetEnumUnit() == GetTriggerUnit()then
        call T68(GetEnumUnit(), 'A0XE', S04, S14, 'B00B')
    else
        call T68(GetEnumUnit(), 'A0XE', S04, S14, 'B00B')
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A0XE', false)
endfunction
function IRE takes nothing returns nothing
    local group g = OG8()
    set S04 = GetUnitAbilityLevel(GetTriggerUnit(), 'A1EJ')
    set S14 = 5
    call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function VU8))
    call ForGroup(g, function IQE)
    call OF8(g)
    set g = null
endfunction
function ISE takes nothing returns boolean
    if GetSpellAbilityId() == 'A1EJ' then
        call IRE()
    endif
    return false
endfunction
function B08 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ISE))
    set t = null
endfunction
function ITE takes nothing returns boolean
    return GetSpellAbilityId() == 'A0BE'
endfunction
function IUE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call SetUnitAbilityLevel(Z77, 'A09E', GetUnitAbilityLevel(Z77, 'A0BE'))
    call UnitRemoveAbility(Z77, 'B09Y')
    set t = null
    set Z77 = null
    return false
endfunction
function IVE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function IUE))
    set t = null
    set Z77 = null
endfunction
function B38 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ITE))
    call TriggerAddAction(t, function IVE)
    set t = null
endfunction
function IWE takes nothing returns boolean
    return GetLearnedSkill() == 'A0BE'and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function IXE takes nothing returns nothing
    call SetUnitAbilityLevel(GetTriggerUnit(), 'A09E', GetUnitAbilityLevel(GetTriggerUnit(), 'A0BE'))
endfunction
function B68 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function IWE))
    call TriggerAddAction(t, function IXE)
    set t = null
endfunction
function IYE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    call UnitRemoveAbility((LoadUnitHandle(R8, (GetHandleId(t)), (14))), 'A0RC')
    call FlushChildHashtable(R8, (GetHandleId(t)))
    call EA8(t)
    set t = null
    return false
endfunction
function IAE takes unit Z77, unit X77 returns nothing
    local trigger t = CreateTrigger()
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (X77))
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function IYE))
    call O68(X77, 'A0RC')
    call SetUnitAbilityLevel(X77, 'A0RC', GetUnitAbilityLevel(Z77, 'A0RV'))
    call V08(Z77, X77, 2, 50 * GetUnitAbilityLevel(Z77, 'A0RV'))
    call QM8(I2S(50 * GetUnitAbilityLevel(Z77, 'A0RV')), 1, X77, 0.03, 255, 0, 0, 255)
    call UnitRemoveAbility(Z77, 'B08K')
    set t = null
endfunction
function IBE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEventId() == EVENT_UNIT_SPELL_CAST or(GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED and GetEventDamageSource() == N28 and IsNormalAttackHero() and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(N28)))then
        if GetTriggerEventId() != EVENT_UNIT_DEATH and GetTriggerEventId() != EVENT_UNIT_SPELL_CAST and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
            call IAE(N28, GetTriggerUnit())
            call UnitRemoveAbility(N28, 'B08K')
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
        if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEventId() == EVENT_UNIT_SPELL_CAST then
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    elseif GetTriggerEventId() != EVENT_PLAYER_UNIT_DAMAGED then
        if x != GetUnitX(N28)or y != GetUnitY(N28)then
            call UnitRemoveAbility(N28, 'B08K')
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    endif
    set t = null
    set N28 = null
    return false
endfunction
function I3E takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call DestroyEffect(AddSpecialEffectTarget("effects\\PurpleAura.mdx", AM7, "origin"))
    call S68(aO, GetUnitX(AM7), GetUnitY(AM7))
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_SPELL_CAST)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddCondition(t, Condition(function IBE))
    call SaveUnitHandle(R8, (EC8), (14), (AM7))
    call SaveReal(R8, (EC8), (6), (GetUnitX(AM7)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(AM7)))
    call IssueImmediateOrderById(AM7, 851993)
    set t = null
    set AM7 = null
endfunction
function I6E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0RV' then
        call I3E()
    endif
    return false
endfunction
function FF9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function I6E))
    set t = null
endfunction
function ILE takes nothing returns boolean
    local unit N28 = GetTriggerUnit()
    local integer EC8 = GetHandleId(N28)
    local integer I1E = (LoadInteger(R8, (EC8), (352)))
    if I1E > 0 and GetTriggerEventId() != EVENT_UNIT_DEATH then
        if GetEventDamage() > 5 and GetEventDamage() < 6000 then
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl", N28, "right hand"))
            call BlzSetEventDamage(0.)
            call SaveInteger(R8, (EC8), (352), (I1E - 1))
        endif
    else
        call UnitRemoveAbility(N28, 'A0RN')
        call UnitRemoveAbility(N28, 'B08J')
        call SaveInteger(R8, (EC8), (352), (0))
    endif
    set N28 = null
    return false
endfunction
function I0E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local unit AM7 = (LoadUnitHandle(R8, (GetHandleId(t)), (14)))
    local integer W57 = GetHandleId(AM7)
    local integer ST9 = (LoadInteger(R8, (W57), (351)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or(GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED and IsNormalAttackHero() and GetEventDamageSource() == AM7 and IsUnitAlly(AM7, GetOwningPlayer(GetTriggerUnit())) == false)then
        if GetTriggerEventId() != EVENT_UNIT_DEATH and ST9 - 1 > 0 then
            call SaveInteger(R8, (W57), (351), (ST9 - 1))
        else
            call UnitRemoveAbility(AM7, 'A0RF')
            call UnitRemoveAbility(AM7, 'A0RM')
            call UnitRemoveAbility(AM7, 'B08I')
            call SaveInteger(R8, (W57), (351), (0))
        endif
    endif
    set t = null
    set AM7 = null
    return false
endfunction
function I5E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local unit AM7 = (LoadUnitHandle(R8, (GetHandleId(t)), (14)))
    local integer W57 = GetHandleId(AM7)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A1EA' then
            call FlushChildHashtable(R8, GetHandleId(t))
            call EA8(t)
        endif
    elseif GetTriggerEvalCount(t) == 1 then
        call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_SPELL_EFFECT)
    else
        call SaveInteger(R8, (W57), (352), (0))
        call SaveInteger(R8, (W57), (351), (0))
        call UnitRemoveAbility(AM7, 'A0RF')
        call UnitRemoveAbility(AM7, 'A0RM')
        call UnitRemoveAbility(AM7, 'A0RN')
        call FlushChildHashtable(R8, GetHandleId(t))
        call EA8(t)
    endif
    set t = null
    set AM7 = null
    return false
endfunction
function I2E takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local integer W57 = GetHandleId(AM7)
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerRegisterTimerEvent(t, 17, false)
    call TriggerAddCondition(t, Condition(function I5E))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (AM7))
    call S68(EP, GetUnitX(AM7), GetUnitY(AM7))
    call O68(AM7, 'A0RN')
    call SaveInteger(R8, (W57), (352), (GetUnitAbilityLevel(AM7, 'A1EA') + 2))
    call O68(AM7, 'A0RF')
    call SetUnitAbilityLevel(AM7, 'A0RF', GetUnitAbilityLevel(AM7, 'A1EA'))
    call O68(AM7, 'A0RM')
    call SaveInteger(R8, (W57), (351), (GetUnitAbilityLevel(AM7, 'A1EA') + 2))
    set AM7 = null
    set t = null
endfunction
function I_E takes unit AM7 returns nothing
    local trigger t
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function ILE))
    call SaveInteger(R8, (GetHandleId(AM7)), (352), (0))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function I0E))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (AM7))
    call SaveInteger(R8, (GetHandleId(AM7)), (351), (0))
    set t = null
endfunction
function J4E takes nothing returns boolean
    if GetLearnedSkill() == 'A1EA' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A1EA') == 1 then
        call I_E(GetTriggerUnit())
    endif
    return false
endfunction
function J7E takes nothing returns boolean
    if GetSpellAbilityId() == 'A1EA' then
        call I2E()
    endif
    return false
endfunction
function FG9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J7E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function J4E))
    set t = null
endfunction
function J8E takes unit u, real wP, real wq, real wQ, real wr, real wR returns boolean
    local real ws = wQ - wP
    local real wS = wr - wq
    local real wt = GetUnitX(u) - wP
    local real wT = GetUnitY(u) - wq
    return wR >= RAbsBJ(ws * wT - wS * wt) / RAbsBJ(Pow(Pow(ws, 2) + Pow(wS, 2), .5))
endfunction
function J9E takes unit Z77, unit target, real P99, real wU, real wv returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0RO')
    local real wV = (300 + 20 * ML8) * 2
    local real ww = 80 + 25
    local unit wW
    local real dx
    local real dy
    local real wx
    local real x
    local real y
    local group g = OG8()
    local boolean wX
    local boolean wy
    set dx = GetUnitX(target) - GetUnitX(Z77)
    set dy = GetUnitY(target) - GetUnitY(Z77)
    set wx = Pow(Pow(dx, 2) + Pow(dy, 2), .5)
    set x = GetUnitX(target) + (wV / 2 - 25) * (dx / wx)
    set y = GetUnitY(target) + (wV / 2 - 25) * (dy / wx)
    set H04 = Z77
    set H64 = P99
    call GroupEnumUnitsInRange(g, x, y, Pow(Pow(wV / 2, 2) + Pow(ww / 2, 2), .5), Condition(function GenericCondition_EnemyUnitsEx))
    call GroupRemoveUnit(g, target)
    set wW = FirstOfGroup(g)
    loop
        exitwhen wW == null
        set wX = J8E(wW, GetUnitX(Z77), GetUnitY(Z77), GetUnitX(target), GetUnitY(target), ww / 2)
        set wy = J8E(wW, x, y, x - 100, y + 100 * x * Pow(y, - 1), .01 + wV / 2)
        if wX and wy then
            call V08(Z77, wW, A34, P99)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl", wW, "chest"))
        endif
        call GroupRemoveUnit(g, wW)
        set wW = FirstOfGroup(g)
    endloop
    call OF8(g)
    set wW = null
    set g = null
endfunction
function JEE takes nothing returns nothing
    local unit target = GetTriggerUnit()
    local unit Z77 = GetEventDamageSource()
    call J9E(Z77, target, GetEventDamage(), GetUnitX(Z77), GetUnitY(Z77))
    set target = null
    set Z77 = null
endfunction
function JGE takes nothing returns boolean
    if IsNormalAttackHero() and GetUnitAbilityLevel(GetEventDamageSource(), 'A0RO') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetEventDamageSource() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (14))) and IsBroken(GetEventDamageSource()) == false then
        call JEE()
    endif
    return false
endfunction
function JHE takes nothing returns nothing
    local trigger t
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0RO') == 1 then
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function JGE))
        call SaveUnitHandle(R8, (GetHandleId(t)), (14), (GetTriggerUnit()))
        set t = null
    endif
    call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'Repb', GetUnitAbilityLevel(GetTriggerUnit(), 'A0RO'))
endfunction
function JIE takes nothing returns boolean
    if GetLearnedSkill() == 'A0RO' and IsUnitIllusion(GetTriggerUnit()) == false then
        call JHE()
    endif
    return false
endfunction
function FH9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function JIE))
    set t = null
endfunction
function JJE takes unit u returns nothing
    local unit N28 = Y7[GetPlayerId(GetOwningPlayer(u))]
    local integer EC8 = GetHandleId(N28)
    local integer w3
    local integer i
    local integer x
    local integer AA34
    local unit w4
    if GetUnitTypeId(N28) != 'E01Y' then
        return
    endif
    set w3 = (LoadInteger(R8, (EC8), (348)))
    set i = 1
    loop
        exitwhen i > w3
        set AA34 = (LoadInteger(R8, (EC8), (7000 + i)))
        set w4 = KH8(AA34)
        if w4 == u then
            set x = i
            loop
                exitwhen x == w3
                call SaveInteger(R8, (EC8), (7000 + x), ((LoadInteger(R8, (EC8), (7000 + x + 1)))))
                set x = x + 1
            endloop
            set i = w3
        endif
        set i = i + 1
    endloop
    call SaveInteger(R8, (EC8), (348), (w3 - 1))
    set w4 = null
    set N28 = null
endfunction
function JKE takes unit u returns nothing
    local unit N28 = Y7[GetPlayerId(GetOwningPlayer(u))]
    local integer EC8 = GetHandleId(N28)
    local integer w3 = (LoadInteger(R8, (EC8), (348)))
    call SaveReal(R8, (GetHandleId(u)), (786), (TimerGetElapsed(E4)))
    set w3 = w3 + 1
    call SaveInteger(R8, (EC8), (7000 + w3), (KJ8(u)))
    call SaveInteger(R8, (EC8), (348), (w3))
    if Ab[GetPlayerId(GetOwningPlayer(N28))]then
        call SelectUnitAddForPlayer(u, GetOwningPlayer(N28))
    endif
    set N28 = null
endfunction
function JME takes nothing returns nothing
    call JJE(GetTriggerUnit())
endfunction
function JNE takes unit u returns nothing
    local integer w8 = GetUnitAbilityLevel(u, 'A0RP') * 3 + 2
    local integer EC8 = GetHandleId(u)
    local integer w3 = (LoadInteger(R8, (EC8), (348)))
    local integer AA34 = (LoadInteger(R8, (EC8), (7000 + 1)))
    local unit w4 = KH8(AA34)
    if w3 == w8 then
        call JJE(w4)
        call RemoveUnit(w4)
    endif
    set w4 = null
endfunction
function JOE takes nothing returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call O68(oA, 'A0RU')
    call SetUnitAbilityLevel(oA, 'A0RU', KE7)
    call IssueTargetOrderById(oA, 852075, GetEnumUnit())
    set oA = null
endfunction
function JPE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    local real PX9 = (LoadReal(R8, (GetHandleId(Z77)), (786)))
    local real JQE = (TimerGetElapsed(E4)) - PX9
    local integer ML8 = 1
    if JQE > 4 then
        set ML8 = 5
    elseif JQE > 3 then
        set ML8 = 4
    elseif JQE > 2 then
        set ML8 = 3
    elseif JQE > 1 then
        set ML8 = 2
    endif
    set KE7 = ML8
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y))
    call GroupEnumUnitsInRange(g, x, y, 400, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function JOE)
    call OF8(g)
    call JJE(Z77)
    call RemoveUnit(Z77)
    set g = null
    set Z77 = null
endfunction
function JSE takes nothing returns boolean
    return GetOwningPlayer(GetFilterUnit()) == I44 and GetUnitTypeId(GetFilterUnit()) == 'e020'
endfunction
function JTE takes nothing returns nothing
    local real JUE = Z87(GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), H64, HL4)
    local real JVE = Z87(GetUnitX(H04), GetUnitY(H04), H64, HL4)
    if JUE < JVE then
        set H04 = GetEnumUnit()
    endif
endfunction
function JWE takes nothing returns nothing
    local group g = OG8()
    set I44 = GetOwningPlayer(GetTriggerUnit())
    call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 9000, Condition(function JSE))
    set H04 = FirstOfGroup(g)
    set H64 = GetUnitX(GetTriggerUnit())
    set HL4 = GetUnitY(GetTriggerUnit())
    call ForGroup(g, function JTE)
    call IssueImmediateOrder(H04, "locustswarm")
    call OF8(g)
    set g = null
endfunction
function JYE takes nothing returns nothing
    call O68(GetTriggerUnit(), 'A2XJ')
    call JNE(GetTriggerUnit())
    call JKE(CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e020', GetSpellTargetX(), GetSpellTargetY(), 0))
endfunction
function JZE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0RP' then
        call JYE()
    elseif GetSpellAbilityId() == 'A2XJ' then
        call JWE()
    endif
    return false
endfunction
function JAE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0RQ' then
        call JPE()
    endif
    return false
endfunction
function JBE takes nothing returns boolean
    if GetLearnedSkill() == 'A0RP' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0RP') == 1 then
        call O68(GetTriggerUnit(), 'A2XJ')
    endif
    return false
endfunction
function JCE takes nothing returns boolean
    if GetUnitTypeId(GetDyingUnit()) == 'e020' then
        call JME()
    endif
    return false
endfunction
function FI9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JZE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JCE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JAE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function JBE))
    set t = null
endfunction
function J3E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    local integer OUD = 2 + TA8
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(p5, 'A1N3')
        call UnitRemoveAbility(p5, 'A1N6')
        call UnitRemoveAbility(p5, 'A1N7')
        call UnitRemoveAbility(p5, 'B0CH')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetAttacker() == p5 then
            set C77 = C77 + 1
            call SaveInteger(R8, (EC8), (34), (C77))
            if C77 >= OUD then
                call UnitRemoveAbility(p5, 'A1N3')
                call UnitRemoveAbility(p5, 'A1N6')
                call UnitRemoveAbility(p5, 'A1N7')
                call UnitRemoveAbility(p5, 'B0CH')
                call FlushChildHashtable(R8, EC8)
                call EA8(t)
            endif
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if GetTriggerUnit() == p5 and GetSpellAbilityId() == 'A1P9' and(TimerGetElapsed(E4)) > (LoadReal(R8, (EC8), (442)))then
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        elseif TG9(GetSpellAbilityId())and p5 == GetSpellTargetUnit()then
            call UnitRemoveAbility(p5, 'A1N3')
            call UnitRemoveAbility(p5, 'A1N6')
            call UnitRemoveAbility(p5, 'A1N7')
            call UnitRemoveAbility(p5, 'B0CH')
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    else
        call UnitRemoveAbility(p5, 'A1N3')
        call UnitRemoveAbility(p5, 'A1N6')
        call UnitRemoveAbility(p5, 'A1N7')
        call UnitRemoveAbility(p5, 'B0CH')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    return false
endfunction
function J0E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1P9')
    call O68(Z77, 'A1N3')
    call O68(Z77, 'A1N6')
    call O68(Z77, 'A1N7')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1N6', false)
    call TriggerRegisterTimerEvent(t, 15, false)
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J3E))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveInteger(R8, (EC8), (34), (0))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (442), (TimerGetElapsed(E4) + 1.))
    set t = null
    set Z77 = null
endfunction
function J5E takes nothing returns boolean
    if GetSpellAbilityId() == 'A1P9' then
        call J0E()
    endif
    return false
endfunction
function BU8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J5E))
    call PU8('A1N3')
    set t = null
endfunction
function K8E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        call BlzSetEventDamage(GetEventDamage() * .2)
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function K4E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 4., false)
    call TriggerAddCondition(t, Condition(function K8E))
    call SaveUnitHandle(R8, (EC8), (2), (GetTriggerUnit()))
    set t = null
endfunction
function K7E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0LC' or GetSpellAbilityId() == 'A3NY' then
        call K4E()
    endif
    return false
endfunction
function BV8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function K7E))
    set t = null
endfunction
function AOE4 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (EC8), (17)))
    local real AOD4 = (LoadReal(R8, (EC8), (825)))
    local integer AOC4
    local real P08
    if GetTriggerEventId() == EVENT_UNIT_DEATH or AOD4 < (TimerGetElapsed(E4)) or GetUnitAbilityLevel(X77, 'B02N') == 0 then
        call UnitRemoveAbility(X77, 'A337')
        call UnitRemoveAbility(X77, 'B02N')
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (175)))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGING and IsNormalAttackHero() and GetUnitAbilityLevel(GetEventDamageSource(), 'A2X2') > 0 then
        set AOC4 = (LoadInteger(R8, (EC8), (824)))
        call SaveInteger(R8, (EC8), (824), IMinBJ(AOC4 + 1, 18))
        call SaveReal(R8, (EC8), (825), (TimerGetElapsed(E4) + 15.))
        set P08 = (10 + 5 * GetUnitAbilityLevel(GetEventDamageSource(), 'A2X2')) * AOC4
        if GetUnitAbilityLevel(GetEventDamageSource(), 'B02H') > 0 then
            set P08 = P08 * (1.25 + .25 * (GetUnitAbilityLevel(GetEventDamageSource(), 'A0LC') + GetUnitAbilityLevel(GetEventDamageSource(), 'A3NY')))
        endif
        call BlzSetEventDamage(GetEventDamage() + P08)
    endif
    set t = null
    set X77 = null
endfunction
function AOH4 takes nothing returns nothing
    local unit p5 = GetEventDamageSource()
    local unit target = BlzGetEventDamageTarget()
    local trigger t
    local integer EC8
    if O18(target) == false and GetUnitAbilityLevel(target, 'B02N') == 0 then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call O68(target, 'A337')
        call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarTarget.mdl", target, "overhead")))
        call SaveInteger(R8, (EC8), (824), (1))
        call SaveReal(R8, (EC8), (825), (TimerGetElapsed(E4) + 15.))
        call SaveUnitHandle(R8, (EC8), (17), (target))
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGING)
        call TriggerRegisterTimerEvent(t, 1., true)
        call TriggerAddAction(t, function AOE4)
        set t = null
    endif
    set p5 = null
    set target = null
endfunction
function FurySwipeCondt takes nothing returns boolean
    if IsNormalAttackHero() and GetUnitAbilityLevel(GetEventDamageSource(), 'A2X2') > 0 and IsUnitEnemy(BlzGetEventDamageTarget(), GetOwningPlayer(GetEventDamageSource())) and IsUnitIllusion(GetEventDamageSource()) == false and IsUnitType(BlzGetEventDamageTarget(), UNIT_TYPE_STRUCTURE) == false then
        call AOH4()
    endif
    return false
endfunction
function FurySwipe_Register takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function FurySwipeCondt))
    set t = null
endfunction
function AB31 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call SetUnitPathing(p5, true)
    set t = null
    set p5 = null
    return false
endfunction
function AB41 takes unit p5 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerAddCondition(t, Condition(function AB31))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SetUnitPathing(p5, false)
    set t = null
endfunction
function K9E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real KDE = (LoadReal(R8, (EC8), (64)))
    local real x2 = (LoadReal(R8, (EC8), (66)))
    local real KEE = (LoadReal(R8, (EC8), (65)))
    local real y2 = (LoadReal(R8, (EC8), (67)))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", Z77, "origin"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", target, "origin"))
    call SetUnitPosition(Z77, x2, y2)
    call ASCI(target, 4407, 1)
    call SetUnitPosition(target, KDE, KEE)
    if IsUnitInRegion(AMN, target)then
        call AB41(target)
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    set target = null
    return false
endfunction
function KFE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real KDE = GetUnitX(Z77)
    local real KEE = GetUnitY(Z77)
    local real x2 = GetUnitX(target)
    local real y2 = GetUnitY(target)
    local trigger t
    local integer EC8
    if IsUnitAlly(Z77, GetOwningPlayer(target)) or OE8(GetSpellTargetUnit()) == false then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call SaveUnitHandle(R8, (EC8), (2), (Z77))
        call SaveUnitHandle(R8, (EC8), (17), (target))
        call SaveReal(R8, (EC8), (64), ((KDE)))
        call SaveReal(R8, (EC8), (66), ((x2)))
        call SaveReal(R8, (EC8), (65), ((KEE)))
        call SaveReal(R8, (EC8), (67), ((y2)))
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function K9E))
        call QK8("SPLK", KDE, KEE, x2, y2, .5, 0, 1, 1, .3)
        call SC8(KDE, KEE, 300)
        call SC8(x2, y2, 300)
    endif
    set Z77 = null
    set target = null
    set t = null
endfunction
function KGE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0IN' or GetSpellAbilityId() == 'A1AW' then
        call KFE()
    endif
    return false
endfunction
function KHE takes nothing returns nothing
    if(IsTerrainPathable(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), PATHING_TYPE_WALKABILITY))then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), (GetObjectName(('n03B'))))
    endif
endfunction
function KIE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0IN' or GetSpellAbilityId() == 'A1AW' then
        call KHE()
    endif
    return false
endfunction
function BW8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KGE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function KIE))
    set t = null
endfunction
function KJE takes unit AC7, real x, real y, integer TA8 returns nothing
    call SetUnitPosition(AC7, x, y)
    call IssueImmediateOrder(AC7, "howlofterror")
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl", x, y))
    set AC7 = null
endfunction
function KKE takes nothing returns boolean
    if(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(), p0) == false then
        call GroupAddUnit(p0, GetFilterUnit())
        call V08(Q0, GetFilterUnit(), A04, S_4)
    endif
    return false
endfunction
function KME takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local real l4 = (LoadReal(R8, (EC8), (13)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local group PBD = (LoadGroupHandle(R8, (EC8), (133)))
    local group g
    if GetTriggerEvalCount(t) > 10 then
        call OF8(PBD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set p0 = PBD
        set Q0 = Z77
        set S_4 = TA8 * 20 + 10
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 325, Condition(function KKE))
        call OF8(g)
        set g = null
        call KJE(AC7, x, y, TA8)
        if ModuloInteger(GetTriggerEvalCount(t), 2) == 0 then
            call KillUnit(CreateUnit(GetOwningPlayer(Z77), 'e02A', x, y, 0))
        endif
        set x = PQ8(x + 200 * Cos(l4 * bj_DEGTORAD))
        set y = PS8(y + 200 * Sin(l4 * bj_DEGTORAD))
        call SaveReal(R8, (EC8), (6), (x))
        call SaveReal(R8, (EC8), (7), (y))
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    set PBD = null
    return false
endfunction
function KNE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x1 = GetUnitX(Z77)
    local real y1 = GetUnitY(Z77)
    local real x2 = GetSpellTargetX()
    local real y2 = GetSpellTargetY()
    local real l4 = YI7(x1, y1, x2, y2)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A17O')
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x1, y1, 0)
    call O68(AC7, 'A0AP')
    call SetUnitAbilityLevel(AC7, 'A0AP', TA8)
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (6), (x1))
    call SaveReal(R8, (EC8), (7), (y1))
    call SaveReal(R8, (EC8), (13), (l4))
    call SaveGroupHandle(R8, (EC8), (133), (OG8()))
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function KME))
    set t = null
    set Z77 = null
    set AC7 = null
endfunction
function KOE takes nothing returns boolean
    if GetSpellAbilityId() == 'A17O' then
        call KNE()
    endif
    return false
endfunction
function BX8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KOE))
    set t = null
endfunction
function KPE takes nothing returns nothing
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl", GetTriggerUnit(), "weapon"))
endfunction
function KQE takes nothing returns boolean
    if GetSpellAbilityId() == 'A02A' then
        call KPE()
    endif
    return false
endfunction
function BY8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function KQE))
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    set t = null
endfunction
function AOU4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    if O18(p5) == false or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call UnitRemoveAbility(target, 'A2WV')
        call UnitRemoveAbility(target, 'A2WY')
        call UnitRemoveAbility(target, 'A2WW')
        call UnitRemoveAbility(target, 'A2WX')
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function AA04 takes nothing returns boolean
    local trigger t
    local integer EC8
    local unit p5 = GetTriggerUnit()
    local unit target = GetKillingUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'ACac')
    set target = VC9(target)
    if IsUnitType(target, UNIT_TYPE_HERO) == true then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerRegisterDeathEvent(t, target)
        call TriggerAddCondition(t, Condition(function AOU4))
        call SaveUnitHandle(R8, (EC8), (2), (p5))
        call SaveUnitHandle(R8, (EC8), (17), (target))
        if TA8 == 1 then
            call O68(target, 'A2WV')
            call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A2WV', false)
        elseif TA8 == 2 then
            call O68(target, 'A2WY')
            call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A2WY', false)
        elseif TA8 == 3 then
            call O68(target, 'A2WW')
            call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A2WW', false)
        elseif TA8 == 4 then
            call O68(target, 'A2WX')
            call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A2WX', false)
        endif
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function AAI4 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit p5 = GetTriggerUnit()
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function AA04))
    set p5 = null
    set t = null
endfunction
function XPE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit XQE = (LoadUnitHandle(R8, (W57), (17)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call FlushChildHashtable(R8, (GetHandleId(XQE)))
    call RemoveUnit(XQE)
    set t = null
    set XQE = null
    return false
endfunction
function XRE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit XQE = (LoadUnitHandle(R8, (W57), (2)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call FlushChildHashtable(R8, (GetHandleId(XQE)))
    call ShowUnit(XQE, false)
    set t = null
    set XQE = null
    return false
endfunction
function VengeanceIllusionSelfCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit XQE = (LoadUnitHandle(R8, (W57), (17)))
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        if GetTriggerUnit() == XQE then
            call BlzSetEventDamage(GetEventDamage() * 1.5)
        endif
        if GetEventDamageSource() == XQE then
            call BlzSetEventDamage(GetEventDamage() * .5)
        endif
    else
        if GetTriggerEventId() == EVENT_UNIT_HERO_REVIVE_FINISH or GetTriggerEventId() == EVENT_WIDGET_DEATH or O18(XQE) or O18(Z77) == false then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call KillUnit(XQE)
            call DestroyEffect(AddSpecialEffect(N27, GetUnitX(XQE), GetUnitX(XQE)))
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call SaveUnitHandle(R8, (W57), (2), (XQE))
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function XRE))
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, 3, false)
            call TriggerAddCondition(t, Condition(function XPE))
            call SaveUnitHandle(R8, (W57), (17), (XQE))
        else
            call SuspendHeroXP(XQE, true)
            call UnitModifySkillPoints(XQE, - 25)
        endif
    endif
    set t = null
    set Z77 = null
    set XQE = null
    return false
endfunction
function VengeanceIllusionAction takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit XQE = CreateUnit(GetOwningPlayer(Z77), 'Hvil', GetUnitX(Z77), GetUnitY(Z77), 0)
    local integer i
    local item Y98
    local integer XUE = 'I02M'
    call DestroyEffect(AddSpecialEffectTarget(N27, XQE, "chest"))
    if KN8(GetOwningPlayer(XQE)) == false then
        set XUE = 'I0PC'
    endif
    call SetHeroLevel(XQE, GetHeroLevel(Z77), false)
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, 'Aamk')
        call SelectHeroSkill(XQE, 'Aamk')
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, 'A02A')
        call SelectHeroSkill(XQE, 'A02A')
        set i = i + 1
    endloop
    call BlzStartUnitAbilityCooldown(XQE, 'A02A', BlzGetUnitAbilityCooldownRemaining(Z77, 'A02A'))
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, 'ACac')
        call SelectHeroSkill(XQE, 'ACac')
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, 'A17O')
        call SelectHeroSkill(XQE, 'A17O')
        set i = i + 1
    endloop
    call BlzStartUnitAbilityCooldown(XQE, 'A17O', BlzGetUnitAbilityCooldownRemaining(Z77, 'A17O'))
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, 'A1AW')
        call SelectHeroSkill(XQE, 'A0IN')
        set i = i + 1
    endloop
    call BlzStartUnitAbilityCooldown(XQE, 'A0IN', BlzGetUnitAbilityCooldownRemaining(Z77, 'A1AW'))
    call UnitModifySkillPoints(XQE, - 25)
    call SelectUnitForPlayerSingle(XQE, GetOwningPlayer(Z77))
    set i = 0
    loop
        exitwhen i >= bj_MAX_INVENTORY
        if UnitItemInSlot(Z77, i) != null and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[F1]and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[N5]and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[FB]and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[GB]and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[EC]then
            set Y98 = CreateItem(GetItemTypeId(UnitItemInSlot(Z77, i)), 0, 0)
            if GetItemCharges(UnitItemInSlot(Z77, i)) > 0 then
                call SetItemCharges(Y98, GetItemCharges(UnitItemInSlot(Z77, i)))
            endif
            call SetItemDroppable(Y98, false)
            call BlzSetItemBooleanField(Y98, ITEM_BF_ACTIVELY_USED, false)
            call UnitAddItem(XQE, Y98)
            call SetItemPlayer(Y98, GetOwningPlayer(XQE), false)
            if GetItemTypeId(Y98) == BU[J0]or GetItemTypeId(Y98) == BU[N0]or GetItemTypeId(Y98) == BU[NW]then
                call SetItemDropOnDeath(Y98, false)
            endif
        else
            call UnitAddItem(XQE, CreateItem(XUE, 0, 0))
        endif
        set i = i + 1
    endloop
    call SuspendHeroXP(XQE, true)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_HERO_REVIVE_FINISH)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerRegisterDeathEvent(t, XQE)
    call TriggerAddCondition(t, Condition(function VengeanceIllusionSelfCondt))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (XQE))
    call SetUnitState(XQE, UNIT_STATE_LIFE, GetUnitState(XQE, UNIT_STATE_MAX_LIFE))
    call SetUnitState(XQE, UNIT_STATE_MANA, GetUnitState(XQE, UNIT_STATE_MAX_LIFE))
    set Z77 = null
    set XQE = null
    set Y98 = null
    set t = null
endfunction
function VengeanceIllusionCondt takes nothing returns boolean
    return GetUnitAbilityLevel(GetTriggerUnit(), 'A1AW') > 0
endfunction
function VengeanceIllusionRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit p5 = GetTriggerUnit()
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function VengeanceIllusionCondt))
    call TriggerAddAction(t, function VengeanceIllusionAction)
    set p5 = null
    set t = null
endfunction
function AA14 takes nothing returns boolean
    if GetLearnedSkill() == 'ACac' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitTypeId(GetTriggerUnit()) != 'Hvil' and GetUnitAbilityLevel(GetTriggerUnit(), 'ACac') == 1 then
        call AAI4()
    elseif (GetLearnedSkill() == 'A0IN' or GetLearnedSkill() == 'A1AW')and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitTypeId(GetTriggerUnit()) != 'Hvil' and GetUnitAbilityLevel(GetTriggerUnit(), GetLearnedSkill()) == 1 then
        call VengeanceIllusionRegister()
    endif
    return false
endfunction
function VengeanceDeath_Register takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function AA14))
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    set t = null
endfunction
function KRE takes nothing returns boolean
    return(GetSpellAbilityId() == ('A2WQ')or GetSpellAbilityId() == ('A020')or GetSpellAbilityId() == ('A29G')or GetSpellAbilityId() == ('A29H'))and GetUnitAbilityLevel(GetTriggerUnit(), ('A0N5')) > 0 and IsBroken(GetTriggerUnit()) == false
endfunction
function KSE takes nothing returns nothing
    local real KTE = GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE)
    local real KUE = .03 + .02 * GetUnitAbilityLevel(GetTriggerUnit(), 'A0N5')
    local real P08 = KTE * KUE
    call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), P08, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl", GetEnumUnit(), "overhead"))
endfunction
function KVE takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false
endfunction
function KWE takes nothing returns nothing
    local location SD9 = GetUnitLoc(GetTriggerUnit())
    local group QA9 = OG8()
    local real x = GetLocationX(SD9)
    local real y = GetLocationY(SD9)
    call GroupEnumUnitsInRange(QA9, x, y, 1225, Condition(function KVE))
    call ForGroup(QA9, function KSE)
    call RemoveLocation(SD9)
    call OF8(QA9)
    set SD9 = null
    set QA9 = null
endfunction
function BZ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KRE))
    call TriggerAddAction(t, function KWE)
    set t = null
endfunction
function KXE takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and XC8(GetUnitTypeId(GetFilterUnit())) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(H37))
endfunction
function KYE takes nothing returns nothing
    local real x = GetUnitX(GetEnumUnit())
    local real y = GetUnitY(GetEnumUnit())
    local unit L07 = CreateUnit(GetOwningPlayer(H37), 'e000', x, y, 0)
    call UnitAddAbility(L07, 'A05S')
    call SetUnitAbilityLevel(L07, 'A05S', H67)
    call IssueTargetOrderById(L07, 852119, GetEnumUnit())
    call UnitApplyTimedLife(L07, 'BTLF', 3)
    call UnitAddAbility(L07, 'Aloc')
    if(GetPlayerController(GetOwningPlayer(L07)) == MAP_CONTROL_COMPUTER)then
        call IssueTargetOrderById(L07, 852119, GetEnumUnit())
    endif
    set L07 = null
endfunction
function KZE takes nothing returns nothing
    local group g = OG8()
    set H37 = GetTriggerUnit()
    if GetSpellAbilityId() == 'A29G' then
        set H67 = GetUnitAbilityLevel(GetTriggerUnit(), 'A29G') + 4
    else
        set H67 = GetUnitAbilityLevel(GetTriggerUnit(), 'A29H') + 7
    endif
    call GroupEnumUnitsInRect(g, bj_mapInitialPlayableArea, Condition(function KXE))
    call ForGroup(g, function KYE)
    call OF8(g)
    set g = null
endfunction
function KAE takes nothing returns boolean
    if GetSpellAbilityId() == 'A29G' or GetSpellAbilityId() == 'A29H' then
        call KZE()
    endif
    return false
endfunction
function BA8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KAE))
    set t = null
endfunction
function ACJ4 takes nothing returns boolean
    return(GU8(GetFilterUnit()) == false and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsHeroUnitId(GetUnitTypeId(GetFilterUnit()))
endfunction
function KCE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local unit oA
    local integer TA8 = GetUnitAbilityLevel(N28, 'A2WQ')
    local real P99 = 25 + TA8 * 75
    local group g
    local real x
    local real y
    if TA8 >= 3 then
        set P99 = P99 + 25
    endif
    if target == null then
        set g = OG8()
        set x = GetSpellTargetX()
        set y = GetSpellTargetY()
        set H04 = N28
        call GroupEnumUnitsInRange(g, x, y, 325 + 25, Condition(function ACJ4))
        set target = GUD(g, x, y)
        call OF8(g)
        set g = null
    endif
    if target != null then
        set x = GetUnitX(target)
        set y = GetUnitY(target)
        call V18(N28, target, .01)
        call W48(N28, target, 1, P99, .25)
    endif
    set oA = CreateUnit(GetOwningPlayer(N28), 'e000', x, y, 0)
    call O68(oA, 'A05S')
    call UnitApplyTimedLife(oA, 'BTLF', 4.5)
    call SetUnitPathing(oA, false)
    call O68(oA, 'Aloc')
    if target == null or IssueTargetOrder(oA, "chainlightning", target) == false then
        set target = CreateUnit(GetOwningPlayer(N28), 'e00C', x, y, 0)
        call UnitApplyTimedLife(target, 'BTLF', .2)
        call IssueTargetOrder(oA, "chainlightning", target)
    endif
    if(GetPlayerController(GetOwningPlayer(oA)) == MAP_CONTROL_COMPUTER)then
        call IssueTargetOrderById(oA, 852119, target)
    endif
    set N28 = null
    set target = null
    set oA = null
endfunction
function KBE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2WQ' and (GetSpellTargetUnit() == null or OE8(GetSpellTargetUnit()) == false)then
        call KCE()
    endif
    return false
endfunction
function BB8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KBE))
    set t = null
endfunction
function K3E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    call SetUnitX(AC7, GetUnitX(Z77))
    call SetUnitY(AC7, GetUnitY(Z77))
    if GetTriggerEvalCount(t) > 80 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function K6E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e02C', GetUnitX(Z77), GetUnitY(Z77), 0)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call O68(AC7, 'A1FM')
    call SetUnitAbilityLevel(AC7, 'A1FM', GetUnitAbilityLevel(Z77, 'A020'))
    call IssueTargetOrderById(AC7, 852119, target)
    call UnitApplyTimedLife(AC7, 'BTLF', 10)
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerAddCondition(t, Condition(function K3E))
    set Z77 = null
    set target = null
    set AC7 = null
    set t = null
endfunction
function KLE takes nothing returns boolean
    if GetSpellAbilityId() == 'A020' and OE8(GetSpellTargetUnit()) == false then
        call K6E()
    endif
    return false
endfunction
function BC8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function KLE))
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    set t = null
endfunction
function K1E takes nothing returns boolean
    return GetSpellAbilityId() == ('A0I3')and(IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))or OE8(GetSpellTargetUnit()) == false)
endfunction
function WU takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real P99 = (LoadReal(R8, (EC8), (20)))
    call UnitDamageTarget(N28, N28, P99, false, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call FlushChildHashtable(R8, EC8)
    call PauseTimer(t)
    call DestroyTimer(t)
    set t = null
    set N28 = null
endfunction
function K0E takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real P99 = 50 + 50 * GetUnitAbilityLevel(N28, 'A0I3')
    local real ACQ4 = 50 + 25 * GetUnitAbilityLevel(N28, 'A0I3')
    local timer t = CreateTimer()
    local integer EC8 = GetHandleId(t)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", target, "origin"))
    if IsUnitAlly(target, GetOwningPlayer(N28))and GetUnitState(target, UNIT_STATE_LIFE) > 1. then
        call SetUnitState(target, UNIT_STATE_LIFE, GetUnitState(target, UNIT_STATE_LIFE) + P99)
    else
        call UnitDamageTarget(N28, target, P99, false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    endif
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveReal(R8, (EC8), (20), ((ACQ4)))
    call TimerStart(t, 0, false, function WU)
    set N28 = null
    set target = null
    set t = null
endfunction
function DP9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function K1E))
    call TriggerAddAction(t, function K0E)
    set t = null
endfunction
function WV takes nothing returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(MB), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call O68(oA, 'A0MJ')
    call SetUnitAbilityLevel(oA, 'A0MJ', HB4)
    call IssueTargetOrderById(oA, 852587, GetEnumUnit())
    set oA = null
endfunction
function K5E takes unit Z77, unit target, integer TA8 returns nothing
    local group g = OG8()
    set H04 = Z77
    set HB4 = TA8
    set MB = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(target), GetUnitY(target), 700, Condition(function U38))
    call ForGroup(g, function WV)
    call OF8(g)
    set g = null
endfunction
function WW takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local real K2E = (LoadReal(R8, (W57), (362)))
    local unit Z77
    local integer V_8 = (LoadInteger(R8, (W57), (30)))
    local unit X77 = KH8(V_8)
    local integer ML8
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if((LoadInteger(R8, (GetHandleId((GetTriggerUnit()))), ((4250)))) == 1) == false then
            if K2E < GetEventDamage()then
                set Z77 = (LoadUnitHandle(R8, (W57), (2)))
                set ML8 = (LoadInteger(R8, (W57), (5)))
                call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
                call SaveBoolean(R8, (GetHandleId(X77)), (363), (false))
                call KG8(V_8)
                call FlushChildHashtable(R8, W57)
                call EA8(t)
                call BlzSetEventDamage(GetEventDamage() - K2E)
                call K5E(Z77, GetTriggerUnit(), ML8)
                set g_aiStatBool[256 + GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] = false
            elseif W18(GetEventDamage()) then
                call SaveReal(R8, (W57), (362), ((K2E - GetEventDamage())))
                call BlzSetEventDamage(0.)
            endif
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if TG9(GetSpellAbilityId()) == true and GetSpellTargetUnit() == X77 then
            set Z77 = (LoadUnitHandle(R8, (W57), (2)))
            set ML8 = (LoadInteger(R8, (W57), (5)))
            call SaveBoolean(R8, (GetHandleId(X77)), (363), (false))
            set g_aiStatBool[256 + GetPlayerId(GetOwningPlayer(X77))] = false
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call KG8(V_8)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call K5E(Z77, X77, ML8)
        endif
    else
        set Z77 = (LoadUnitHandle(R8, (W57), (2)))
        set ML8 = (LoadInteger(R8, (W57), (5)))
        call SaveBoolean(R8, (GetHandleId(X77)), (363), (false))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call KG8(V_8)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call K5E(Z77, X77, ML8)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function K_E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = GetSpellTargetUnit()
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0MF')
    local integer WED = GetHandleId(X77)
    local real K2E
    if(LoadBoolean(R8, (WED), (363))) == true then
        call TriggerEvaluate(LoadTriggerHandle(R8, (WED), (364)))
    endif
    call UnitRemoveBuffs(X77, false, true)
    call T99(X77, 0, 0)
    if ML8 == 1 then
        set K2E = 110
    elseif ML8 == 2 then
        set K2E = 140
    elseif ML8 == 3 then
        set K2E = 170
    else
        set K2E = 200
    endif
    call SaveReal(R8, (W57), (362), ((K2E)))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\Defensive Barrier big.mdx", X77, "chest")))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (30), (KJ8(X77)))
    set g_aiStatBool[256 + GetPlayerId(GetOwningPlayer(GetSpellTargetUnit()))] = true
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEvent(t, 15, false)
    call TriggerAddCondition(t, Condition(function WW))
    call SaveTriggerHandle(R8, (WED), (364), (t))
    call SaveBoolean(R8, (WED), (363), (true))
    set t = null
    set X77 = null
    set Z77 = null
endfunction
function M4E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0MF' then
        call K_E()
    endif
    return false
endfunction
function WY takes nothing returns nothing
    if GetUnitAbilityLevel(GetSpellTargetUnit(), 'BNdo') > 0 then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n03I'))
    endif
endfunction
function M7E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0MF' then
        call WY()
    endif
    return false
endfunction
function s7 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function M7E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M4E))
    set t = null
endfunction
function M8E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or IssueImmediateOrderById(N28, 852129)then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function M9E takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M8E))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    set t = null
endfunction
function BrorrowedTimeDamageCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer ML8 = GetUnitAbilityLevel(p5, 'A0NS')
    local real NN9
    local boolean ADA4 = false
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(p5, 'A1DA')
        set ADA4 = true
    endif
    if((LoadInteger(R8, (GetHandleId(p5)), (4250))) == 1)then
        if AM7 == p5 then
            call SetUnitState(AM7, UNIT_STATE_LIFE, GetUnitState(AM7, UNIT_STATE_LIFE) + GetEventDamage())
            call BlzSetEventDamage(0.)
        elseif ADA4 and IsUnitType(AM7, UNIT_TYPE_HERO) and IsUnitIllusion(AM7) == false and Z47(AM7, p5) < 900 and IsUnitAlly(AM7, GetOwningPlayer(p5))then
            call SetUnitState(p5, UNIT_STATE_LIFE, GetUnitState(p5, UNIT_STATE_LIFE) + GetEventDamage() * .5)
            call BlzSetEventDamage(GetEventDamage() * .5)
        endif
    endif
    set t = null
    set p5 = null
    set AM7 = null
    return false
endfunction
function MDE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer ML8 = GetUnitAbilityLevel(p5, 'A0NS')
    local integer VL8 = 3 + ML8
    local real cooldownRemaining = BlzGetUnitAbilityCooldownRemaining(p5, 'A0NS')
    local real NN9
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(p5, 'A1DA')
        set VL8 = 4 + 1 * ML8
        set cooldownRemaining = BlzGetUnitAbilityCooldownRemaining(p5, 'A1DA')
    endif
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId() == 'A0NS' or GetSpellAbilityId() == 'A1DA') then
        call TimerStart(M_4[GetPlayerId(GetOwningPlayer(AM7))], cooldownRemaining, false, null)
        call ASCI(AM7, 4250, VL8)
        call UnitRemoveBuffs(AM7, false, true)
        call T99(AM7, 0, 0)
        call QG8("Abilities\\Spells\\Undead\\Unsummon\\UnsummonTarget.mdl", AM7, "origin", VL8)
    elseif ((GetTriggerEventId() == EVENT_UNIT_DAMAGED and GetUnitState(AM7, UNIT_STATE_LIFE) < 400)or(GetTriggerEventId() != EVENT_UNIT_DAMAGED and GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT and AM7 == p5)) and cooldownRemaining <= 0. and IsBroken(AM7) == false then
        call UnitRemoveBuffs(AM7, false, true)
        call T99(AM7, 0, 0)
        set HL7 = true
        if IssueImmediateOrderById(AM7, 852129) == false then
            call M9E(AM7)
        endif
        set HL7 = false
    endif
    set t = null
    set p5 = null
    set AM7 = null
    return false
endfunction
function MEE takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function BrorrowedTimeDamageCondt))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterCommandEvent(t, 'A0NS', "windwalk")
    call TriggerRegisterCommandEvent(t, 'A1DA', "windwalk")
    call TriggerAddCondition(t, Condition(function MDE))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = null
    set p5 = null
endfunction
function MFE takes nothing returns boolean
    if(GetLearnedSkill() == 'A0NS' or GetLearnedSkill() == 'A1DA')and IsUnitIllusion(GetTriggerUnit()) == false and(GetUnitAbilityLevel(GetTriggerUnit(), 'A0NS') == 1 or GetUnitAbilityLevel(GetTriggerUnit(), 'A1DA') == 1)then
        call MEE(GetTriggerUnit())
    endif
    return false
endfunction
function DR9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function MFE))
    set t = null
endfunction
function MGE takes nothing returns boolean
    return IsNormalAttack() and GetUnitAbilityLevel(GetTriggerUnit(), ('B066')) > 0 or GetUnitAbilityLevel(GetEventDamageSource(), ('A0MG')) > 0
endfunction
function MHE takes nothing returns nothing
    local unit N99 = GetEventDamageSource()
    local unit m5 = GetTriggerUnit()
    local unit MIE
    local integer TA8 = GetUnitAbilityLevel(N99, ('A0MG'))
    local unit AC7 = CreateUnit(GetOwningPlayer(N99), 'e00E', GetUnitX(N99), GetUnitY(N99), 0)
    if TA8 > 0 then
        call SaveInteger(R8, (GetHandleId(m5)), (203), (TA8))
    else
        set TA8 = (LoadInteger(R8, (GetHandleId(m5)), (203)))
    endif
    if IsUnitEnemy(m5, GetOwningPlayer(N99)) then
        call O68(AC7, ('A0MH'))
        call SetUnitAbilityLevel(AC7, ('A0MH'), TA8)
        call IssueTargetOrderById(AC7, 852101, N99)
    endif
    set N99 = null
    set m5 = null
    set MIE = null
    set AC7 = null
endfunction
function DQ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function MGE))
    call TriggerAddAction(t, function MHE)
    set t = null
endfunction
function MJE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local real P08
    local integer VL8
    local unit Q49
    if ML8 == 1 then
        set P08 = 16
        set VL8 = 10
    elseif ML8 == 2 then
        set P08 = 24
        set VL8 = 10
    elseif ML8 == 3 then
        set P08 = 32
        set VL8 = 10
    elseif ML8 == 4 then
        set P08 = 40
        set VL8 = 10
    endif
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetTriggerEvalCount(t) > 1 and GetSpellAbilityId() == 'A0S1' and OE8(GetSpellTargetUnit()) == false and X77 == GetSpellTargetUnit()then
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_DEATH then
        set Q49 = GetKillingUnit()
        if WL8(Q49)then
            set Q49 = (Y7[GetPlayerId(GetOwningPlayer((Q49)))])
        endif
        if GetTriggerUnit() == X77 or Q49 == X77 then
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call UnitRemoveAbility(X77, 'A1W3')
            call UnitRemoveAbility(X77, 'B0DO')
        endif
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        if C77 == VL8 or GetUnitAbilityLevel(X77, 'B0DO') == 0 or GU8(X77) then
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call UnitRemoveAbility(X77, 'A1W3')
            call UnitRemoveAbility(X77, 'B0DO')
        endif
        call V08(Z77, X77, AB4, P08)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set Q49 = null
    return false
endfunction
function MKE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0S1')
    local real MME
    local real JNI
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl", X77, "overhead"))
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A1W3', false)
    call O68(X77, 'A1W3')
    call UnitMakeAbilityPermanent(X77, true, 'A1W2')
    call TriggerRegisterTimerEvent(t, 1, true)
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MJE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl", X77, "overhead")))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function MNE takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'B0DO') > 0 then
        set JH7 = JH7 + 1
    endif
endfunction
function MOE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group g = OG8()
    set H04 = Z77
    set JH7 = 0
    call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function MNE)
    call OF8(g)
    if JH7 == 0 then
        if GetUnitAbilityLevel(Z77, 'B0EZ') > 0 then
            call UnitRemoveAbility(Z77, 'A2AR')
            call UnitRemoveAbility(Z77, 'A2AS')
            call UnitRemoveAbility(Z77, 'A2AU')
            call UnitRemoveAbility(Z77, 'A2AT')
            call UnitRemoveAbility(Z77, 'A2AQ')
            call UnitRemoveAbility(Z77, 'A2AP')
            call UnitRemoveAbility(Z77, 'B0EZ')
        endif
    elseif JH7 == 1 then
        if GetUnitAbilityLevel(Z77, 'A2AR') == 0 then
            call UnitRemoveAbility(Z77, 'A2AR')
            call UnitRemoveAbility(Z77, 'A2AS')
            call UnitRemoveAbility(Z77, 'A2AU')
            call UnitRemoveAbility(Z77, 'A2AT')
            call UnitRemoveAbility(Z77, 'A2AQ')
            call UnitRemoveAbility(Z77, 'A2AP')
            call UnitRemoveAbility(Z77, 'B0EZ')
            call UnitAddAbility(Z77, 'A2AR')
        endif
    elseif JH7 == 2 then
        if GetUnitAbilityLevel(Z77, 'A2AS') == 0 then
            call UnitRemoveAbility(Z77, 'A2AR')
            call UnitRemoveAbility(Z77, 'A2AS')
            call UnitRemoveAbility(Z77, 'A2AU')
            call UnitRemoveAbility(Z77, 'A2AT')
            call UnitRemoveAbility(Z77, 'A2AQ')
            call UnitRemoveAbility(Z77, 'A2AP')
            call UnitRemoveAbility(Z77, 'B0EZ')
            call UnitAddAbility(Z77, 'A2AS')
        endif
    elseif JH7 == 3 then
        if GetUnitAbilityLevel(Z77, 'A2AU') == 0 then
            call UnitRemoveAbility(Z77, 'A2AR')
            call UnitRemoveAbility(Z77, 'A2AS')
            call UnitRemoveAbility(Z77, 'A2AU')
            call UnitRemoveAbility(Z77, 'A2AT')
            call UnitRemoveAbility(Z77, 'A2AQ')
            call UnitRemoveAbility(Z77, 'A2AP')
            call UnitRemoveAbility(Z77, 'B0EZ')
            call UnitAddAbility(Z77, 'A2AU')
        endif
    elseif JH7 == 4 then
        if GetUnitAbilityLevel(Z77, 'A2AT') == 0 then
            call UnitRemoveAbility(Z77, 'A2AR')
            call UnitRemoveAbility(Z77, 'A2AS')
            call UnitRemoveAbility(Z77, 'A2AU')
            call UnitRemoveAbility(Z77, 'A2AT')
            call UnitRemoveAbility(Z77, 'A2AQ')
            call UnitRemoveAbility(Z77, 'A2AP')
            call UnitRemoveAbility(Z77, 'B0EZ')
            call UnitAddAbility(Z77, 'A2AT')
        endif
    elseif JH7 == 5 then
        if GetUnitAbilityLevel(Z77, 'A2AQ') == 0 then
            call UnitRemoveAbility(Z77, 'A2AR')
            call UnitRemoveAbility(Z77, 'A2AS')
            call UnitRemoveAbility(Z77, 'A2AU')
            call UnitRemoveAbility(Z77, 'A2AT')
            call UnitRemoveAbility(Z77, 'A2AQ')
            call UnitRemoveAbility(Z77, 'A2AP')
            call UnitRemoveAbility(Z77, 'B0EZ')
            call UnitAddAbility(Z77, 'A2AQ')
        endif
    elseif JH7 >= 6 then
        if GetUnitAbilityLevel(Z77, 'A2AP') == 0 then
            call UnitRemoveAbility(Z77, 'A2AR')
            call UnitRemoveAbility(Z77, 'A2AS')
            call UnitRemoveAbility(Z77, 'A2AU')
            call UnitRemoveAbility(Z77, 'A2AT')
            call UnitRemoveAbility(Z77, 'A2AQ')
            call UnitRemoveAbility(Z77, 'A2AP')
            call UnitRemoveAbility(Z77, 'B0EZ')
            call UnitAddAbility(Z77, 'A2AP')
        endif
    endif
    set t = null
    set Z77 = null
    set g = null
    return false
endfunction
function MPE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0S1' and OE8(GetSpellTargetUnit()) == false then
        call MKE()
    endif
    return false
endfunction
function MQE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function MOE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AR', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AS', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AU', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AT', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AQ', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AP', false)
    set Z77 = null
    set t = null
endfunction
function MRE takes nothing returns boolean
    if GetLearnedSkill() == 'A0S1' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0S1') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call MQE()
    endif
    return false
endfunction
function B58 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MPE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function MRE))
    set t = null
endfunction
function AC71 takes nothing returns boolean
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit()))and((GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 or(GetUnitTypeId(GetFilterUnit()) == 'umtw' or GetUnitTypeId(GetFilterUnit()) == 'u00R' or GetUnitTypeId(GetFilterUnit()) == 'ebal' or GetUnitTypeId(GetFilterUnit()) == 'e026'))and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)
endfunction
function MSE takes nothing returns nothing
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetEnumUnit(), "origin"))
    call V08(GetTriggerUnit(), GetEnumUnit(), AC4, GetUnitAbilityLevel(GetTriggerUnit(), 'A0C6') * 35 + 65)
endfunction
function MTE takes nothing returns nothing
    local group g
    local unit AM7 = GetTriggerUnit()
    local integer C77 = (LoadInteger(R8, (GetHandleId(AM7)), (823)))
    if GetRandomReal(0, 100) < (C77 + 1) * 5.57 then
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 300, Condition(function AC71))
        call ForGroup(g, function MSE)
        call SetUnitAnimation(AM7, "spin")
        call TK8(AM7, .6)
        call ASCI(AM7, 4267, .5 - .05 * GetUnitAbilityLevel(GetTriggerUnit(), 'A0C6'))
        call SaveInteger(R8, (GetHandleId(AM7)), (823), (0))
        call OF8(g)
    else
        call SaveInteger(R8, (GetHandleId(AM7)), (823), (C77 + 1))
    endif
    set g = null
    set AM7 = null
endfunction
function MUE takes nothing returns boolean
    if IsNormalAttack() then
        if GetUnitAbilityLevel(GetTriggerUnit(), 'B03P') > 0 and IsUnitType(GetEventDamageSource(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetEventDamageSource(), 'A04R') == 0 and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) and ((LoadInteger(R8, (GetHandleId(GetTriggerUnit())), (4267))) == 1) == false and IsBroken(GetTriggerUnit()) == false then
            call MTE()
        endif
    endif
    return false
endfunction
function B28 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call ky(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function MUE))
    set t = null
endfunction
function xC takes nothing returns boolean
    return GenericCondition_EnemyUnits()and GetUnitAbilityLevel(GetFilterUnit(), 'B008') == 0 and GetUnitAbilityLevel(GetFilterUnit(), 'Bcyc') == 0
endfunction
function xd takes integer W57, integer MVE returns nothing
    local integer i = 1
    loop
        exitwhen i > MVE
        call DestroyEffect((LoadEffectHandle(R8, (W57), (2700 + i))))
        set i = i + 1
    endloop
endfunction
function MWE takes nothing returns nothing
    // if((IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnumUnit())) != MAP_CONTROL_USER))then
    //     set g_aiStatReal[640 + GetPlayerId(GetOwningPlayer(GetEnumUnit()))] = Bz + 1.6 + (.4 * GetUnitAbilityLevel(GetTriggerUnit(), 'A0I6'))
    //     set g_aiStatReal[832 + GetPlayerId(GetOwningPlayer(GetEnumUnit()))] = Bz + 1.6 + (.4 * GetUnitAbilityLevel(GetTriggerUnit(), 'A0I6'))
    //     call IssueTargetOrderById(GetEnumUnit(), 851971, H07)
    // else
    call UnitWakeUp(GetEnumUnit())
    call IssueTargetOrderById(GetEnumUnit(), 851983, H07)
    // endif
endfunction
function xE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local group g = LoadGroupHandle(R8, (W57), (220))
    local unit AM7 = LoadUnitHandle(R8, (W57), (14))
    local integer MVE = LoadInteger(R8, (W57), (365))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_ORDER then
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        if C77 == (8 + 2 * ML8)then
            call UnitRemoveAbility(AM7, 'A0I5')
            call OF8(g)
            call xd(W57, MVE)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        else
            call DisableTrigger(t)
            set H07 = AM7
            call ForGroup(g, function MWE)
            call EnableTrigger(t)
        endif
    else
        if IsUnitInGroup(GetTriggerUnit(), g) and UnitIsSleeping(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'B008') == 0 and GetIssuedOrderId() != 851973 and HL7 == false then
            call DisableTrigger(t)
            // if((IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_COMPUTER))then
            //     call DisableTrigger(R04[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
            //     call IssueTargetOrderById(GetTriggerUnit(), 851971, AM7)
            //     call EnableTrigger(R04[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
            // else
            call IssueTargetOrderById(GetTriggerUnit(), 851983, AM7)
            // endif
            call EnableTrigger(t)
        endif
    endif
    set t = null
    set g = null
    set AM7 = null
    return false
endfunction
function xf takes nothing returns nothing
    set HB4 = HB4 + 1
    call SaveEffectHandle(R8, (HC4), (2700 + HB4), (AddSpecialEffectTarget("Abilities\\Weapons\\LavaSpawnMissile\\LavaSpawnBirthMissile.mdl", GetEnumUnit(), "chest")))
endfunction
function xF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0I6')
    local group g = OG8()
    call O68(AM7, 'A0I5')
    call SetUnitAbilityLevel(AM7, 'A0I5', ML8)
    set H04 = AM7
    set H07 = AM7
    set HB4 = 0
    set HC4 = W57
    call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 300, Condition(function xC))
    call ForGroup(g, function xf)
    call ForGroup(g, function MWE)
    call SaveInteger(R8, (W57), (365), HB4)
    call SaveUnitHandle(R8, (W57), (14), AM7)
    call SaveGroupHandle(R8, (W57), (220), g)
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (34), (0))
    call TriggerRegisterTimerEvent(t, .2, true)
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function xE))
    set t = null
    set g = null
    set AM7 = null
endfunction
function MXE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0I6'then
        call xF()
    endif
    return false
endfunction
function B_8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MXE))
    set t = null
endfunction
function MYE takes nothing returns nothing
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A2IC', false)
    call T68(GetEnumUnit(), 'A2IC', 1, AFQI, 'B0FV')
endfunction
function MZE takes nothing returns boolean
    return OE8(GetSpellTargetUnit()) == false and(GetSpellAbilityId() == ('A0E2')or GetSpellAbilityId() == 'A1MR')
endfunction
function MAE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real K2E = GetUnitState(target, UNIT_STATE_LIFE)
    local integer TA8 = GetUnitAbilityLevel(N28, ('A0E2'))
    local unit oA
    local boolean MBE = false
    local group g
    local integer AEO4 = 250
    local integer AE24 = 325
    local integer AE34 = 400
    set AFQI = 6
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1MR')
        set MBE = true
        set AEO4 = 300
        set AE24 = 425
        set AE34 = 550
        set AFQI = 10
    endif
    if(K2E <= AEO4 and TA8 == 1)or(K2E <= AE24 and TA8 == 2)or(K2E <= AE34 and TA8 == 3)then
        if IsUnitType(target, UNIT_TYPE_HERO)then
            if MBE then
                call UnitRemoveAbility(N28, 'A1MR')
                call UnitAddAbility(N28, 'A1MR')
                call SetUnitAbilityLevel(N28, 'A1MR', TA8)
            else
                call UnitRemoveAbility(N28, 'A0E2')
                call UnitAddAbility(N28, 'A0E2')
                call SetUnitAbilityLevel(N28, 'A0E2', TA8)
            endif
        endif
        call PlaySoundOnUnitBJ(BN, 100, target)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl", target, "overhead"))
        set oA = CreateUnit(GetOwningPlayer(N28), 'e00E', 0, 0, 0)
        call UnitRemoveBuffs(target, true, true)
        call UnitRemoveAbility(target, 'Aetl')
        call UnitDamageTarget(oA, target, 100000000.00, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\AxeUltiMSFX_01.mdx", N28, "origin"))
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 925, Condition(function VI8))
        call ForGroup(g, function MYE)
        call OF8(g)
        set oA = null
        set g = null
    endif
    set N28 = null
    set target = null
endfunction
function C48 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MZE))
    call TriggerAddAction(t, function MAE)
    set t = null
endfunction
function MCE takes nothing returns boolean
    return GetSpellAbilityId() == 'A0GK' and OE8(GetSpellTargetUnit()) == false
endfunction
function M3E takes nothing returns nothing
    call V08(GetTriggerUnit(), GetSpellTargetUnit(), A34, 20 + 70 * GetUnitAbilityLevel(GetTriggerUnit(), 'A0GK'))
    if GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) > 1 then
        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 20 + 70 * GetUnitAbilityLevel(GetTriggerUnit(), 'A0GK'))
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", GetSpellTargetUnit(), "origin"))
endfunction
function AKG1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MCE))
    call TriggerAddAction(t, function M3E)
    set t = null
endfunction
function M6E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(V_8)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit oA
    if GetUnitAbilityLevel(target, 'B02F') == 0 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A04Y', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A2O9', false)
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_ATTACKED and GetTriggerUnit() == target then
        call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A04Y', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A2O9', false)
        call UnitRemoveAbility(target, 'B02F')
        set oA = CreateUnit(p, 'e00E', GetUnitX(target), GetUnitY(target), 0)
        call O68(oA, 'A04Y')
        call SetUnitAbilityLevel(oA, 'A04Y', TA8)
        call IssueTargetOrderById(oA, 852227, GetAttacker())
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() != EVENT_PLAYER_UNIT_ATTACKED then
        if GetUnitState(target, UNIT_STATE_LIFE) > 21 then
            call SetUnitState(target, UNIT_STATE_LIFE, GetUnitState(target, UNIT_STATE_LIFE) - 20)
        else
            call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A04Y', true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A2O9', false)
            call UnitRemoveAbility(target, 'B02F')
            call V08(Z77, target, AB4, 50)
            call KG8(V_8)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    endif
    set t = null
    set p = null
    set oA = null
    set target = null
    set Z77 = null
    return false
endfunction
function MLE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    set EC8 = GetHandleId(t)
    call SaveInteger(R8, (EC8), (30), (KJ8(target)))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SavePlayerHandle(R8, (EC8), (54), (GetOwningPlayer(Z77)))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(Z77, 'A04Y')))
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function M6E))
    if GetUnitAbilityLevel(target, 'A04Y') > 0 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A04Y', false)
        call O68(target, 'A2O9')
        call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A2O9', true)
    endif
    set X34 = true
    call V08(Z77, target, AC4, 0)
    set X34 = false
    set Z77 = null
    set target = null
    set t = null
endfunction
function M1E takes nothing returns boolean
    if GetSpellAbilityId() == 'A04Y'and ZS7(GetSpellTargetUnit()) == false then
        call MLE()
    endif
    return false
endfunction
function M0E takes nothing returns boolean
    if GetSpellAbilityId() == 'A04Y' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) then
        if GetOwningPlayer(GetTriggerUnit()) != GetOwningPlayer(GetSpellTargetUnit())and IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139)))then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
        endif
    endif
    return false
endfunction
function M5E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call UnitRemoveAbility(Z77, 'B02F')
    call UnitRemoveAbility(Z77, 'A2O9')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A04Y', true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2O9', false)
    set t = null
    set Z77 = null
    return false
endfunction
function M2E takes nothing returns boolean
    local trigger t
    if GetIssuedOrderId() == OrderId("manashieldon") and GetUnitAbilityLevel(GetTriggerUnit(), 'A2O9') > 0 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function M5E))
        call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
        set t = null
    endif
    return false
endfunction
function C78 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M1E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function M0E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function M2E))
    set t = null
endfunction
function M_E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real NN9
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    local integer AMKO = 6
    local unit oA
    local integer TA8
    local fogmodifier N4E = (LoadFogModifierHandle(R8, (EC8), (42)))
    if GetUnitAbilityLevel(p5, 'A1D9') > 0 then
        set AMKO = 8
    endif
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call FogModifierStop(N4E)
        call DestroyFogModifier(N4E)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call SaveBoolean(R8, (GetHandleId(p5)), (4344), (false))
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if(LoadBoolean(R8, (GetHandleId(GetTriggerUnit())), (4344)))then
            set TA8 = GetUnitAbilityLevel(p5, 'A04Y')
            if TA8 > 0 and GetUnitAbilityLevel(p5, 'A1D9') > 0 then
                set oA = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), 0)
                call O68(oA, 'A04Y')
                call SetUnitAbilityLevel(oA, 'A04Y', TA8)
                call IssueTargetOrder(oA, "sleep", GetAttacker())
            endif
        endif
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (EC8), (34), (C77))
        if C77 > AMKO then
            call FogModifierStop(N4E)
            call DestroyFogModifier(N4E)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call ZN7(p5)
        else
            set NN9 = RMinBJ(0.05 * GetUnitState(target, UNIT_STATE_MAX_MANA), GetUnitState(target, UNIT_STATE_MANA))
            if GetUnitAbilityLevel(p5, 'A1D9') > 0 then
                set NN9 = RMinBJ(0.1 * GetUnitState(target, UNIT_STATE_MAX_MANA), GetUnitState(target, UNIT_STATE_MANA))
            endif
            if NN9 > 0 then
                call SetUnitState(p5, UNIT_STATE_MANA, GetUnitState(p5, UNIT_STATE_MANA) + NN9)
                call SetUnitState(target, UNIT_STATE_MANA, GetUnitState(target, UNIT_STATE_MANA) - NN9)
            endif
        endif
    endif
    set t = null
    set p5 = null
    set target = null
    set oA = null
    set N4E = null
    return false
endfunction
function N7E takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local fogmodifier N4E = CreateFogModifierRadius(GetOwningPlayer(p5), FOG_OF_WAR_VISIBLE, GetUnitX(target), GetUnitY(target), 350, true, true)
    call FogModifierStart(N4E)
    call UnitRemoveAbility(target, 'B02F')
    call UnitRemoveAbility(target, 'BUsp')
    call UnitRemoveAbility(target, 'Bust')
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_ENDCAST)
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function M_E))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveFogModifierHandle(R8, (EC8), (42), (N4E))
    call SaveBoolean(R8, (GetHandleId(p5)), (4344), (true))
    set p5 = null
    set target = null
    set t = null
    set N4E = null
endfunction
function N8E takes nothing returns boolean
    if GetSpellAbilityId() == 'A02Q' or GetSpellAbilityId() == 'A1D9' then
        call N7E()
    endif
    return false
endfunction
function C88 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function N8E))
    set t = null
endfunction
function N9E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (789)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or LBD < (TimerGetElapsed(E4))then
        call UnitRemoveAbility(X77, 'A2OG')
        call UnitRemoveAbility(X77, 'A2OA')
        call UnitRemoveAbility(X77, 'A2OF')
        call UnitRemoveAbility(X77, 'A2OH')
        call UnitRemoveAbility(X77, 'B0GE')
    endif
    set t = null
    set X77 = null
    return false
endfunction
function NDE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2OI')
    if ML8 == 1 then
        call UnitRemoveAbility(X77, 'B0GE')
        call UnitRemoveAbility(X77, 'A2OA')
        call UnitRemoveAbility(X77, 'A2OF')
        call UnitRemoveAbility(X77, 'A2OH')
        call O68(X77, 'A2OG')
        call UnitMakeAbilityPermanent(X77, true, 'A2OD')
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2OG', false)
    elseif ML8 == 2 then
        call UnitRemoveAbility(X77, 'B0GE')
        call UnitRemoveAbility(X77, 'A2OG')
        call UnitRemoveAbility(X77, 'A2OF')
        call UnitRemoveAbility(X77, 'A2OH')
        call O68(X77, 'A2OA')
        call UnitMakeAbilityPermanent(X77, true, 'A2OE')
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2OA', false)
    elseif ML8 == 3 then
        call UnitRemoveAbility(X77, 'B0GE')
        call UnitRemoveAbility(X77, 'A2OG')
        call UnitRemoveAbility(X77, 'A2OA')
        call UnitRemoveAbility(X77, 'A2OH')
        call O68(X77, 'A2OF')
        call UnitMakeAbilityPermanent(X77, true, 'A2OC')
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2OF', false)
    elseif ML8 == 4 then
        call UnitRemoveAbility(X77, 'B0GE')
        call UnitRemoveAbility(X77, 'A2OG')
        call UnitRemoveAbility(X77, 'A2OA')
        call UnitRemoveAbility(X77, 'A2OF')
        call O68(X77, 'A2OH')
        call UnitMakeAbilityPermanent(X77, true, 'A2OB')
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2OH', false)
    endif
    call TriggerRegisterTimerEvent(t, 20, false)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function N9E))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (GetHandleId(X77)), (789), (19.9 + (TimerGetElapsed(E4))))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function NEE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2OI' and OE8(GetSpellTargetUnit()) == false then
        call NDE()
    endif
    return false
endfunction
function CD8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NEE))
    set t = null
endfunction
function AFM4 takes nothing returns nothing
    call V08(H04, GetEnumUnit(), 1, 80 + 40 * HB4)
endfunction
function AFN4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2X9')
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'e00E', x, y, 0)
    local group g = OG8()
    call O68(oA, 'A30A')
    call SetUnitAbilityLevel(oA, 'A30A', TA8)
    call IssuePointOrder(oA, "silence", x, y)
    set H04 = p5
    set HB4 = TA8
    call GroupEnumUnitsInRange(g, x, y, 600 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(g, function AFM4)
    call S68(AAOG, x, y)
    call OF8(g)
    call DestroyEffect(AddSpecialEffect(AGXI, x, y))
    call DestroyEffect(AddSpecialEffect(AGXI, x + 200, y))
    call DestroyEffect(AddSpecialEffect(AGXI, x + 200, y - 200))
    call DestroyEffect(AddSpecialEffect(AGXI, x + 200, y + 200))
    call DestroyEffect(AddSpecialEffect(AGXI, x - 200, y - 200))
    call DestroyEffect(AddSpecialEffect(AGXI, x, y + 200))
    call DestroyEffect(AddSpecialEffect(AGXI, x - 200, y + 200))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    set oA = null
    set g = null
    return false
endfunction
function AFS4 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call S18(GetOwningPlayer(p5), 3, x, y, 600)
    call TriggerRegisterTimerEvent(t, 3, false)
    call TriggerAddCondition(t, Condition(function AFN4))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call DestroyEffect(AddSpecialEffect("war3mapImported\\Bloodrite.mdx", x, y))
    call S68(AAIG, x, y)
    set t = null
    set p5 = null
endfunction
function NIE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2X9' then
        call AFS4()
    endif
    return false
endfunction
function CE8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NIE))
    set t = null
endfunction
function NJE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local real d = SquareRoot((PND - x) * (PND - x) + (POD - y) * (POD - y))
    local real Q_8 = .2 * ML8 * d
    local integer NKE = (LoadInteger(R8, (W57), (25)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call UnitRemoveAbility(X77, 'A0IH')
        call UnitRemoveAbility(X77, 'B08L')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        set t = null
        set Z77 = null
        set X77 = null
        return false
    endif
    if d > 1300 then
        set Q_8 = 0
    endif
    if Q_8 > 5 then
        call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", X77, "origin"))
    endif
    if((LoadInteger(R8, (GetHandleId((X77))), ((2485)))) == 1)and Q_8 >= GetUnitState(X77, UNIT_STATE_LIFE) - 2 then
        set Q_8 = GetUnitState(X77, UNIT_STATE_LIFE) - 2
    endif
    if ZS7(X77)then
        set Q_8 = 0
    endif
    if Q_8 > 0 and O18(X77) == false then
        call V08(Z77, X77, A14, Q_8)
    endif
    call SaveReal(R8, (W57), (23), ((x)))
    call SaveReal(R8, (W57), (24), ((y)))
    call SaveInteger(R8, (W57), (25), (NKE + 1))
    if O18(X77)then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif NKE > 4 * (12)then
        call UnitRemoveAbility(X77, 'A0IH')
        call UnitRemoveAbility(X77, 'B08L')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function NME takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0LH')
    local real P08 = 50 + 100 * ML8
    call O68(X77, 'A0IH')
    call SetUnitAbilityLevel(X77, 'A0IH', ML8)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", X77, "chest"))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveReal(R8, (W57), (23), (GetUnitX(X77)))
    call SaveReal(R8, (W57), (24), (GetUnitY(X77)))
    call SaveInteger(R8, (W57), (25), (0))
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function NJE))
    call TriggerRegisterDeathEvent(t, X77)
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function NNE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0LH' and OE8(GetSpellTargetUnit()) == false then
        call NME()
    endif
    return false
endfunction
function CF8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NNE))
    set t = null
endfunction
function AGT1 takes unit N28 returns nothing
    local real AGR1 = 1
    local integer AGP1 = UnitInventorySize(N28) - 1
    local integer x = 0
    local item i
    local integer TA8 = GetUnitAbilityLevel(N28, 'A03P')
    if TA8 > 0 then
        if TA8 == 1 then
            set AGR1 = AGR1 * 0.8
        elseif TA8 == 2 then
            set AGR1 = AGR1 * 0.7
        elseif TA8 == 3 then
            set AGR1 = AGR1 * 0.6
        elseif TA8 == 4 then
            set AGR1 = AGR1 * 0.5
        endif
    endif
    set TA8 = GetUnitAbilityLevel(N28, 'A0MX')
    if TA8 > 0 then
        set AGR1 = AGR1 * (1 - (0.05 + 0.05 * TA8))
    endif
    loop
        exitwhen x > AGP1
        set i = UnitItemInSlot(N28, x)
        if IsEnabledItem(i, M5) then
            set AGR1 = AGR1 * 0.65
        elseif IsEnabledItem(i, RZ) or IsEnabledItem(i, JC) then
            set AGR1 = AGR1 * 0.75
        elseif IsEnabledItem(i, ISC) then
            set AGR1 = AGR1 * 0.7
        endif
        set x = x + 1
    endloop
    set TA8 = R2I((1 - AGR1) / 0.05)
    if TA8 > 0 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A2V2', false)
        call O68(N28, 'A2V2')
        call UnitMakeAbilityPermanent(N28, true, 'A2V3')
        call SetUnitAbilityLevel(N28, 'A2V3', TA8)
    else
        call UnitRemoveAbility(N28, 'A2V2')
    endif
    set i = null
endfunction
function AGQ1 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    call AGT1(N28)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function AGU1 takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TriggerAddCondition(t, Condition(function AGQ1))
    call TriggerRegisterTimerEvent(t, 0, false)
    set t = null
endfunction
function AH01 takes nothing returns boolean
    if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and(IsEnabledItem(GetManipulatedItem(), M5) or IsEnabledItem(GetManipulatedItem(), RZ) or IsEnabledItem(GetManipulatedItem(), JC) or IsEnabledItem(GetManipulatedItem(), ISC))then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
            call AGT1(GetTriggerUnit())
        else
            call AGU1(GetTriggerUnit())
        endif
    endif
    return false
endfunction
function ADO1 takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == true and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit()))
endfunction
function AFC4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    call AH61(p5, x, y, AH21(p5))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    set t = null
    set p5 = null
    return false
endfunction
function AFD4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer i = 0
    local player p
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set p = G8[i]
        if AGGI[GetPlayerId(p)] == null or IsPlayerAlly(GetOwningPlayer(p5), p) == true or ABM1(AGGI[GetPlayerId(p)])then
            call SetUnitX(AGFI[GetPlayerId(p)], AP4I(p5))
            call SetUnitY(AGFI[GetPlayerId(p)], AP5I(p5))
        else
            if IsUnitVisible(AGGI[GetPlayerId(p)], GetOwningPlayer(p5)) == false then
                call KillUnit(CreateUnit(GetOwningPlayer(p5), 'o02C', GetUnitX(AGGI[GetPlayerId(p)]), GetUnitY(AGGI[GetPlayerId(p)]), 0))
            endif
            call SetUnitX(AGFI[GetPlayerId(p)], GetUnitX(AGGI[GetPlayerId(p)]))
            call SetUnitY(AGFI[GetPlayerId(p)], GetUnitY(AGGI[GetPlayerId(p)]))
        endif
        set p = N8[i]
        if AGGI[GetPlayerId(p)] == null or IsPlayerAlly(GetOwningPlayer(p5), p) == true or ABM1(AGGI[GetPlayerId(p)])then
            call SetUnitX(AGFI[GetPlayerId(p)], AP4I(p5))
            call SetUnitY(AGFI[GetPlayerId(p)], AP5I(p5))
        else
            if IsUnitVisible(AGGI[GetPlayerId(p)], GetOwningPlayer(p5)) == false then
                call KillUnit(CreateUnit(GetOwningPlayer(p5), 'o02C', GetUnitX(AGGI[GetPlayerId(p)]), GetUnitY(AGGI[GetPlayerId(p)]), 0))
            endif
            call SetUnitX(AGFI[GetPlayerId(p)], GetUnitX(AGGI[GetPlayerId(p)]))
            call SetUnitY(AGFI[GetPlayerId(p)], GetUnitY(AGGI[GetPlayerId(p)]))
        endif
        set i = i + 1
    endloop
    set p = null
    set t = null
    set p5 = null
    return false
endfunction
function AFE4 takes unit target, player p, boolean UN9 returns nothing
    if UN9 then
        set AGGI[GetPlayerId(GetOwningPlayer(target))] = target
    else
        set AGGI[GetPlayerId(GetOwningPlayer(target))] = null
    endif
endfunction
function AFF4 takes nothing returns nothing
    local unit oA
    if UN8(GetEnumUnit()) == false then
        call UnitRemoveAbility(GetEnumUnit(), 'Bdet')
        call AFE4(GetEnumUnit(), GetOwningPlayer(B84), true)
    else
        call AFE4(GetEnumUnit(), GetOwningPlayer(B84), true)
        if GetUnitAbilityLevel(GetEnumUnit(), 'Bdet') == 0 and GetUnitAbilityLevel(GetEnumUnit(), 'B00T') == 0 and GetUnitAbilityLevel(GetEnumUnit(), 'B00L') == 0 then
            set oA = CreateUnit(GetOwningPlayer(B84), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
            call UnitAddAbility(oA, 'A2VW')
            call IssueImmediateOrderById(oA, 852625)
            set oA = null
        endif
    endif
endfunction
function AFG4 takes nothing returns nothing
    local real AQD = 0.25
    if O18(B84) == true or IsUnitInGroup(GetEnumUnit(), AGCI) == false or (GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) / GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) > AQD and GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) / GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) < 0.75) or(GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) / GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) > AQD / 2 and UN8(GetEnumUnit()) == true)then
        call GroupRemoveUnit(B44, GetEnumUnit())
        call AFE4(GetEnumUnit(), GetOwningPlayer(B84), false)
        call UnitRemoveAbility(GetEnumUnit(), 'Bdet')
    endif
endfunction
function NQE takes nothing returns nothing
    local real AQD
    if O18(B84) == false and IsUnitInGroup(GetEnumUnit(), B44) == false and IsUnitIllusion(GetEnumUnit()) == false then
        set AQD = 0.25
        if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) / GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) < AQD then
            call GroupAddUnit(B44, GetEnumUnit())
        endif
    endif
endfunction
function AFZ4 takes nothing returns nothing
    local real AQD
    if O18(B84) == false and IsUnitIllusion(GetEnumUnit()) == false then
        set AQD = (GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) / GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE))
        if AQD < 0.75 then
            set AGZI = AGZI + 1
            set AGHI = AGHI + AQD
        endif
    endif
endfunction
function AFV4 takes unit p5, integer AE01 returns nothing
    local integer i = 1
    if AE01 == 0 then
        call UnitRemoveAbility(p5, 'B05R')
        call W78(p5, 0)
    else
        call W78(p5, AE01 * 5)
    endif
    set i = 1
    loop
        exitwhen i > 20
        if i != AE01 then
            call UnitRemoveAbility(p5, A_4[i])
        elseif GetUnitAbilityLevel(p5, A_4[i]) == 0 then
            call UnitRemoveAbility(p5, 'B05R')
            call UnitAddAbility(p5, A_4[i])
        endif
        set i = i + 1
    endloop
endfunction
function NRE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local group NSE = (LoadGroupHandle(R8, (EC8), (22)))
    local group g = OG8()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0I8')
    local integer AE01 = 0
    local real AFY4
    local real AFJ4 = 0
    set H04 = Z77
    set B84 = Z77
    set B44 = NSE
    set B94 = ML8
    set AGHI = 0
    set AGZI = 0
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 25 + 25000, Condition(function ADO1))
    call ForGroup(g, function AFZ4)
    call OF8(g)
    if AGZI > 0 and IsBroken(Z77) == false then
        set AFY4 = AGZI - AGHI
        set AFJ4 = (AFY4 * ML8 * 10)
        set AE01 = IMinBJ(R2I(AFJ4 / 5), 20)
    endif
    set g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 25 + 25000, Condition(function ADO1))
    call ForGroup(g, function NQE)
    set AGCI = g
    call ForGroup(B44, function AFG4)
    call ForGroup(B44, function AFF4)
    if AE01 == 0 then
        call AFV4(Z77, AE01)
        call SaveInteger(R8, (GetHandleId(Z77)), (814), (0))
    else
        call AFV4(Z77, AE01)
        call SaveInteger(R8, (GetHandleId(Z77)), (814), (AE01))
    endif
    if AE01 < 5 then
        call UnitRemoveAbility(Z77, 'A214')
    else
        call O68(Z77, 'A214')
    endif
    call OF8(g)
    set t = null
    set Z77 = null
    set g = null
    set NSE = null
    return false
endfunction
function NTE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local player p
    local integer i
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerAddCondition(t, Condition(function NRE))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveGroupHandle(R8, (EC8), (22), (OG8()))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.04, true)
    call TriggerAddCondition(t, Condition(function AFD4))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.005, true)
    call TriggerAddCondition(t, Condition(function AFC4))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveReal(R8, (EC8), (6), ((GetUnitX(p5))))
    call SaveReal(R8, (EC8), (7), ((GetUnitY(p5))))
    set i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        set AGFI[GetPlayerId(G8[i])] = CreateUnit(GetOwningPlayer(p5), 'o02B', AP4I(p5), AP5I(p5), 0)
        set AGGI[GetPlayerId(G8[i])] = null
        set AGFI[GetPlayerId(N8[i])] = CreateUnit(GetOwningPlayer(p5), 'o02B', AP4I(p5), AP5I(p5), 0)
        set AGGI[GetPlayerId(N8[i])] = null
        set i = i + 1
    endloop
    set t = null
    set p5 = null
endfunction
function NUE takes nothing returns boolean
    if GetLearnedSkill() == 'A0I8' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0I8') == 1 then
        call NTE()
    endif
    return false
endfunction
function CH8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function NUE))
    set A_4[1] = 'A2U8'
    set A_4[2] = 'A20W'
    set A_4[3] = 'A2U9'
    set A_4[4] = 'A2U6'
    set A_4[5] = 'A2U7'
    set A_4[6] = 'A2UC'
    set A_4[7] = 'A2UD'
    set A_4[8] = 'A2UA'
    set A_4[9] = 'A2UB'
    set A_4[10] = 'A20Z'
    set A_4[11] = 'A2UF'
    set A_4[12] = 'A2UE'
    set A_4[13] = 'A2UG'
    set A_4[14] = 'A2UH'
    set A_4[15] = 'A20X'
    set A_4[16] = 'A2UL'
    set A_4[17] = 'A2UL'
    set A_4[18] = 'A20Y'
    set A_4[19] = 'A2UJ'
    set A_4[20] = 'A2UI'
    set t = null
endfunction
function AFR4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A311')
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        if target == GetEventDamageSource() or target == GetTriggerUnit() then
            call BlzSetEventDamage(GetEventDamage() * (1. + (20 + 5 * TA8) / 100.))
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_DEATH then
        if GetKillingUnit() == target or GetTriggerUnit() == target then
            call SetUnitState(GetKillingUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) * (.17 + .2 * TA8) + GetUnitState(GetKillingUnit(), UNIT_STATE_LIFE))
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", GetKillingUnit(), "origin"))
        elseif GetOwningPlayer(GetKillingUnit()) == GetOwningPlayer(target)and GetUnitAbilityLevel(GetKillingUnit(), 'A04R') > 0 then
            call SetUnitState(target, UNIT_STATE_LIFE, GetUnitState(target, UNIT_STATE_MAX_LIFE) * (.17 + .2 * TA8) + GetUnitState(target, UNIT_STATE_LIFE))
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", target, "origin"))
        endif
        if GetTriggerUnit() == target then
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    else
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function NVE takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A311')
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 8 + TA8, false)
    call TriggerAddCondition(t, Condition(function AFR4))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl", target, "hand,right")))
    call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl", target, "hand,left")))
    set t = null
    set p5 = null
    set target = null
endfunction
function NWE takes nothing returns boolean
    if GetSpellAbilityId() == 'A311' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) then
        if IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == false or OE8(GetSpellTargetUnit()) == false then
            call NVE()
        endif
    endif
    return false
endfunction
function NXE takes nothing returns boolean
    if GetSpellAbilityId() == 'A311' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and GetSpellTargetUnit() != GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139)))then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
    endif
    return false
endfunction
function CG8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function NXE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NWE))
    set t = null
endfunction
function NZE takes nothing returns nothing
    local unit xv = GetTriggerUnit()
    local unit xU = CreateUnit(GetOwningPlayer(xv), 'o003', GetSpellTargetX(), GetSpellTargetY(), GetRandomReal(0, 360))
    local integer EC8 = GetHandleId(xv)
    local integer TA8 = GetUnitAbilityLevel(xv, 'A0BG')
    local integer xV = (LoadInteger(R8, (EC8), (279)))
    local unit xw = (LoadUnitHandle(R8, (EC8), (1400 + 1)))
    local integer x = 1
    set xV = xV + 1
    call SaveUnitHandle(R8, (EC8), (1400 + xV), (xU))
    if(xV > TA8 * 2)then
        call KillUnit(xw)
        loop
            exitwhen x == xV
            call SaveUnitHandle(R8, (EC8), (1400 + x), ((LoadUnitHandle(R8, (EC8), (1400 + x + 1)))))
            set x = x + 1
        endloop
        set xV = xV - 1
    endif
    call SaveInteger(R8, (EC8), (279), (xV))
    call SetUnitAbilityLevel(xU, 'A0BF', TA8)
    set xv = null
    set xU = null
    set xw = null
endfunction
function NYE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0BG' then
        call NZE()
    endif
    return false
endfunction
function AGH4 takes nothing returns boolean
    if GetLearnedSkill() == 'A0BG' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0BG') == 1 then
        call RegisterChargedSkill(GetTriggerUnit(), 'A0BG', 1, 1, 2, 3, 4)
    endif
    return false
endfunction
function CI8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NYE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AGH4))
    set t = null
endfunction
function NAE takes unit xv returns nothing
    local integer EC8 = GetHandleId(xv)
    local integer TA8 = GetUnitAbilityLevel(xv, 'A0BG')
    local integer xV = (LoadInteger(R8, (EC8), (279)))
    local integer x = 1
    local unit VX
    loop
        exitwhen x > xV
        set VX = (LoadUnitHandle(R8, (EC8), (1400 + x)))
        call SetUnitAbilityLevel(VX, 'A0BF', TA8)
        set x = x + 1
    endloop
    set VX = null
endfunction
function N1E takes nothing returns boolean
    return GetLearnedSkill() == 'A0BG' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function NBE takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit NCE = (LoadUnitHandle(R8, (EC8), (366)))
    local integer AG74 = GetHandleId(Y7[GetPlayerId(GetOwningPlayer(NCE))])
    local integer Y2E = (LoadInteger(R8, (AG74), (279)))
    local integer x = 1
    local boolean AG84 = false
    local player AG94
    local boolean AGA4 = false
    local integer TA8 = GetUnitAbilityLevel(Y7[GetPlayerId(GetOwningPlayer(NCE))], 'A0BG')
    local integer abl_id1 = 'A304'
    if TA8 == 2 then
        set abl_id1 = 'A305'
    elseif TA8 == 3 then
        set abl_id1 = 'A303'
    elseif TA8 == 4 then
        set abl_id1 = 'A302'
    endif
    if NCE == null then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if(LoadReal(R8, (GetHandleId(NCE)), (785))) + 6 > (TimerGetElapsed(E4))then
            set AGA4 = true
        endif
        loop
            exitwhen x > Y2E or AG84 == true
            set AG84 = IsUnitInRange(NCE, (LoadUnitHandle(R8, (AG74), (1400 + x))), 900)
            set x = x + 1
        endloop
        if AG84 == false then
            call UnitRemoveAbility(NCE, 'B01C')
        endif
        if IsUnitType(NCE, UNIT_TYPE_HERO) == true then
            if GetUnitAbilityLevel(NCE, 'B01C') > 0 then
                call O68(NCE, 'A021')
                if KN8(GetOwningPlayer(NCE))then
                    set AG94 = N8[0]
                else
                    set AG94 = G8[0]
                endif
                if AGA4 == false then
                    call O68(NCE, 'Aeth')
                    call O68(NCE, abl_id1)
                    call SetPlayerAbilityAvailable(GetOwningPlayer(NCE), abl_id1, false)
                    call SetUnitPathing(NCE, false)
                    if PQ8(GetUnitX(NCE)) != GetUnitX(NCE)or PS8(GetUnitY(NCE)) != GetUnitY(NCE)then
                        call SetUnitX(NCE, PQ8(GetUnitX(NCE)))
                        call SetUnitY(NCE, PS8(GetUnitY(NCE)))
                    endif
                else
                    call UnitRemoveAbility(NCE, 'Aeth')
                    call UnitRemoveAbility(NCE, 'A304')
                    call UnitRemoveAbility(NCE, 'A305')
                    call UnitRemoveAbility(NCE, 'A303')
                    call UnitRemoveAbility(NCE, 'A302')
                    call UnitRemoveAbility(NCE, 'B0HI')
                    call SetUnitPathing(NCE, true)
                    call SC8(GetUnitX(NCE), GetUnitY(NCE), 50)
                endif
                set AG94 = null
            else
                call UnitRemoveAbility(NCE, 'A021')
                call UnitRemoveAbility(NCE, 'Aeth')
                call SetUnitPathing(NCE, true)
                call UnitRemoveAbility(NCE, 'A304')
                call UnitRemoveAbility(NCE, 'A305')
                call UnitRemoveAbility(NCE, 'A303')
                call UnitRemoveAbility(NCE, 'A302')
                call UnitRemoveAbility(NCE, 'B0HI')
                call SC8(GetUnitX(NCE), GetUnitY(NCE), 50)
            endif
        else
            if GetUnitAbilityLevel(NCE, 'B01C') > 0 then
                call O68(NCE, 'A29C')
                if AGA4 == false then
                    call O68(NCE, 'Aeth')
                    call O68(NCE, abl_id1)
                    call SetPlayerAbilityAvailable(GetOwningPlayer(NCE), abl_id1, false)
                    call SetUnitPathing(NCE, false)
                    if PQ8(GetUnitX(NCE)) != GetUnitX(NCE)or PS8(GetUnitY(NCE)) != GetUnitY(NCE)then
                        call SetUnitX(NCE, PQ8(GetUnitX(NCE)))
                        call SetUnitY(NCE, PS8(GetUnitY(NCE)))
                    endif
                else
                    call UnitRemoveAbility(NCE, 'Aeth')
                    call UnitRemoveAbility(NCE, 'A304')
                    call UnitRemoveAbility(NCE, 'A305')
                    call UnitRemoveAbility(NCE, 'A303')
                    call UnitRemoveAbility(NCE, 'A302')
                    call UnitRemoveAbility(NCE, 'B0HI')
                    call SetUnitPathing(NCE, true)
                endif
            else
                call UnitRemoveAbility(NCE, 'A29C')
                call UnitRemoveAbility(NCE, 'Aeth')
                call UnitRemoveAbility(NCE, 'A304')
                call UnitRemoveAbility(NCE, 'A305')
                call UnitRemoveAbility(NCE, 'A303')
                call UnitRemoveAbility(NCE, 'A302')
                call UnitRemoveAbility(NCE, 'B0HI')
                call SetUnitPathing(NCE, true)
            endif
        endif
    endif
    set t = null
    set NCE = null
endfunction
function N3E takes unit NCE returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddAction(t, function NBE)
    call SaveUnitHandle(R8, (EC8), (366), (NCE))
    set t = null
endfunction
function N6E takes nothing returns boolean
    if GetUnitTypeId(GetSummonedUnit()) == 'n01E' or GetUnitTypeId(GetSummonedUnit()) == 'n019' then
        call N3E(GetSummonedUnit())
    endif
    return false
endfunction
function NLE takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    if GetUnitAbilityLevel(AM7, 'A0BG') == 1 then
        call N3E(AM7)
    else
        call NAE(AM7)
    endif
    set AM7 = null
endfunction
function CJ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function N1E))
    call TriggerAddAction(t, function NLE)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function N6E))
    set t = null
endfunction
function N0E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT or(GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and TG9(GetSpellAbilityId())and GetSpellTargetUnit() == N28)then
        if O18(N28) == false then
            call UnitRemoveAbility(N28, 'A0WR')
            call UnitRemoveAbility(N28, 'B01E')
        endif
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function N5E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 14, false)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function N0E))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl", N28, "origin")))
    call O68(N28, 'A0WR')
    call SetUnitAbilityLevel(N28, 'A0WR', GetUnitAbilityLevel(N28, 'A0WQ'))
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A0WR', false)
    set t = null
    set N28 = null
endfunction
function N2E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0WQ' then
        call N5E()
    endif
    return false
endfunction
function CK8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function N2E))
    set t = null
endfunction
function N_E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if GetTriggerEvalCount(t) > 300 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetUnitAbilityLevel(X77, 'B0E7') > 0 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call V08(Z77, X77, AB4, GetUnitAbilityLevel(Z77, 'A0BH') * 70)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function O4E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    call TriggerRegisterTimerEvent(t, .01, true)
    call TriggerAddCondition(t, Condition(function N_E))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function O7E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0BH' then
        call O4E()
    endif
    return false
endfunction
function CM8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function O7E))
    set t = null
endfunction
function O8E takes nothing returns boolean
    return GetSpellAbilityId() == 'A055'
endfunction
function O9E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local real P99 = (LoadReal(R8, (EC8), (20)))
    local integer VL8 = (LoadInteger(R8, (EC8), (188)))
    local texttag tt
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetEventDamageSource() == oA then
        set tt = CreateTextTag()
        call QM8(I2S(VL8), VL8, target, 0.03, 127, 127, 255, 255)
        call SetTextTagText(tt, "+" + I2S(R2I(P99)), 0.025)
        call SetTextTagPosUnit(tt, target, 10)
        call SetTextTagColor(tt, 255, 0, 0, 255)
        call SetTextTagVelocity(tt, 0, 0.0355)
        call SetTextTagFadepoint(tt, 2)
        call SetTextTagPermanent(tt, false)
        call SetTextTagLifespan(tt, 2)
        if IsUnitVisible(target, GetLocalPlayer())or N08(GetLocalPlayer())then
            call SetTextTagVisibility(tt, true)
        else
            call SetTextTagVisibility(tt, false)
        endif
        call V08(p5, target, AB4, P99)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set target = null
    set oA = null
    set tt = null
    return false
endfunction
function ODE takes nothing returns nothing
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A055')
    local integer OEE
    local unit AM7 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real P99
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit oA = CreateUnit(GetOwningPlayer(AM7), 'e00E', GetUnitX(AM7), GetUnitY(AM7), 0)
    if TA8 == 1 then
        set OEE = GetRandomInt(1, 2)
        if OEE == 1 then
            set P99 = GetRandomReal(140, 200)
        elseif OEE == 2 then
            set P99 = GetRandomReal(75, 140)
        endif
    elseif TA8 == 2 then
        set OEE = GetRandomInt(1, 3)
        if OEE == 1 then
            set P99 = GetRandomReal(180, 225)
        elseif OEE == 2 then
            set P99 = GetRandomReal(140, 180)
        elseif OEE == 3 then
            set P99 = GetRandomReal(100, 140)
        endif
    elseif TA8 == 3 then
        set OEE = GetRandomInt(1, 4)
        if OEE == 1 then
            set P99 = GetRandomReal(215, 250)
        elseif OEE == 2 then
            set P99 = GetRandomReal(185, 215)
        elseif OEE == 3 then
            set P99 = GetRandomReal(155, 185)
        elseif OEE == 4 then
            set P99 = GetRandomReal(125, 155)
        endif
    elseif TA8 == 4 then
        set OEE = GetRandomInt(2, 4)
        if OEE == 2 then
            set P99 = GetRandomReal(230, 275)
        elseif OEE == 3 then
            set P99 = GetRandomReal(190, 230)
        elseif OEE == 4 then
            set P99 = GetRandomReal(150, 190)
        endif
    endif
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function O9E))
    call SaveUnitHandle(R8, (EC8), (2), (AM7))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveReal(R8, (EC8), (20), ((P99)))
    if(TA8 == 4)then
    endif
    call SaveInteger(R8, (EC8), (188), (OEE))
    call O68(oA, 'A04U')
    call SetUnitAbilityLevel(oA, 'A04U', OEE)
    call IssueTargetOrderById(oA, 852095, target)
    set t = null
    set AM7 = null
    set target = null
    set oA = null
endfunction
function CO8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function O8E))
    call TriggerAddAction(t, function ODE)
    set t = null
endfunction
function CriticalStrikeEffect takes nothing returns nothing
    local unit Z77 = GetEventDamageSource()
    local unit X77 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A03N')
    local unit AC7
    local real P08
    if GetRandomInt(1, 100) <= 10 then
        set P08 = GetEventDamage() * (.75 + .5 * TA8)
        call QM8(I2S(R2I(P08)) + "!", 1, Z77, .025, 216, 0, 0, 216)
        call BlzSetEventDamage(P08)
        set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00C', GetUnitX(X77), GetUnitY(X77), 0)
        call O68(AC7, 'A3IL')
        call UnitApplyTimedLife(AC7, 'BTLF', 2.)
        call IssueTargetOrderById(AC7, 852149, X77)
        set AC7 = null
    endif
    set Z77 = null
    set X77 = null
endfunction
function CriticalStrikeCondt takes nothing returns boolean
    if GetUnitAbilityLevel(GetEventDamageSource(), 'A03N') > 0 and IsNormalAttackHero() and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
        call CriticalStrikeEffect()
    endif
    return false
endfunction
function Register_CriticalStrike takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function CriticalStrikeCondt))
    set t = null
endfunction
function AHI4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(p5), GetUnitY(p5), 0)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call O68(oA, 'A2X7')
    call IssueTargetOrderById(oA, 852274, p5)
    set t = null
    set p5 = null
    set oA = null
    return false
endfunction
function AH14 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t
    local integer EC8
    if GetRandomInt(0, 1) == 0 then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .65, false)
        call TriggerAddCondition(t, Condition(function AHI4))
        call SaveUnitHandle(R8, (EC8), (2), (p5))
    endif
    set t = null
    set p5 = null
endfunction
function AHO4 takes nothing returns boolean
    if GetSpellAbilityId() == 'A03O' then
        call AH14()
    endif
    return false
endfunction
function AKH1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AHO4))
    set t = null
endfunction
function AH24 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    if GetUnitAbilityLevel(p5, 'AHfa') == 0 then
        call O68(p5, 'AHfa')
        if GetUnitAbilityLevel(p5, 'BOwk') > 0 then
            call UnitRemoveAbility(p5, 'BOwk')
        endif
    endif
    call SetUnitAbilityLevel(p5, 'AHfa', GetUnitAbilityLevel(p5, 'A2UO'))
    set p5 = null
endfunction
function OFE takes nothing returns boolean
    if GetLearnedSkill() == ('A2UO') and IsUnitIllusion(GetTriggerUnit()) == false then
        call AH24()
    endif
    return false
endfunction
function DN9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function OFE))
    set t = null
endfunction
function OHE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer NZ8 = GetHandleId(t)
    local unit W8D = (LoadUnitHandle(R8, (NZ8), (2)))
    local real OIE = GetUnitState(W8D, UNIT_STATE_LIFE)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A04Q' then
            call FlushChildHashtable(R8, NZ8)
            call EA8(t)
        endif
    else
        call UnitRemoveAbility(W8D, 'A1R0')
        call UnitRemoveAbility(W8D, 'B0D5')
        call W78(W8D, 0)
        call W98(W8D, 0)
        call SetUnitState(W8D, UNIT_STATE_LIFE, OIE)
        call FlushChildHashtable(R8, NZ8)
        call EA8(t)
    endif
    set t = null
    set W8D = null
    return false
endfunction
function OJE takes nothing returns nothing
    local unit W8D = GetTriggerUnit()
    local unit V5D = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    local integer ZK7 = GetUnitAbilityLevel(W8D, 'A04Q')
    local real OKE = GetUnitState(V5D, UNIT_STATE_LIFE)
    local real OIE = GetUnitState(W8D, UNIT_STATE_LIFE)
    local integer OME = R2I((.035 + .015 * ZK7) * OKE)
    local integer ONE = R2I((.35 + .15 * ZK7) * OKE)
    call W78(W8D, OME)
    call W98(W8D, ONE)
    call O68(W8D, 'A1R0')
    call SetUnitState(V5D, UNIT_STATE_LIFE, 1)
    call V08(W8D, V5D, AC4, 20)
    call V08(W8D, V5D, AB4, 20)
    call V08(W8D, V5D, A34, 20)
    call SetUnitState(W8D, UNIT_STATE_LIFE, OIE + ONE)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", V5D, "chest"))
    call SaveUnitHandle(R8, (NZ8), (2), (W8D))
    call TriggerRegisterUnitEvent(t, W8D, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, W8D, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEvent(t, 35, false)
    call TriggerAddCondition(t, Condition(function OHE))
    set W8D = null
    set V5D = null
    set t = null
endfunction
function OOE takes nothing returns boolean
    if GetSpellAbilityId() == 'A04Q' and GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) > .5 and ZS7(GetSpellTargetUnit()) == false then
        call OJE()
    endif
    return false
endfunction
function DO9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OOE))
    set t = null
endfunction
function OPE takes integer x returns boolean
    return x == 'A06X' or x == 'A0AQ' or x == 'A14O' or x == 'A0NE' or x == 'A1C0' or x == 'A0SB'
endfunction
function OTE takes nothing returns boolean
    return(GetLearnedSkill() == 'A0IF')and(IsUnitIllusion(GetTriggerUnit()) == false)
endfunction
function OQE takes nothing returns boolean
    return GetUnitAbilityLevel(GetTriggerUnit(), 'B06X') > 0 and(MY8(GetSpellAbilityId())or GetSpellAbilityId() == 'A0OI')and OPE(GetSpellAbilityId()) == false and XL8(GetSpellAbilityId()) == false
endfunction
function ORE takes nothing returns nothing
    local integer EC8 = GetHandleId(GetTriggeringTrigger())
    local unit AM7 = GetTriggerUnit()
    local unit x9 = (LoadUnitHandle(R8, (EC8), (254)))
    local integer sr = GetUnitAbilityLevel(x9, 'A0IF')
    if GetRandomInt(1, 100) <= 40 and Z47(AM7, x9) < 925 then
        call SetUnitState(AM7, UNIT_STATE_MANA, GetUnitState(AM7, UNIT_STATE_MANA) + (0.05 + 0.05 * sr) * GetUnitState(AM7, UNIT_STATE_MAX_MANA))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl", AM7, "overhead"))
    endif
    set AM7 = null
    set x9 = null
endfunction
function OSE takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local integer sr = GetUnitAbilityLevel(AM7, 'A0IF')
    local trigger t
    if(sr == 1)then
        set t = CreateTrigger()
        call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
        call TriggerAddCondition(t, Condition(function OQE))
        call TriggerAddAction(t, function ORE)
        call SaveUnitHandle(R8, (GetHandleId(t)), (254), (AM7))
    endif
    if(sr == 1)then
        call O68(AM7, 'A0OL')
    elseif(sr == 2)then
        call O68(AM7, 'A0OM')
    elseif(sr == 3)then
        call O68(AM7, 'A0ON')
    elseif(sr == 4)then
        call O68(AM7, 'A0OH')
    endif
    set t = null
    set AM7 = null
endfunction
function DB9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function OTE))
    call TriggerAddAction(t, function OSE)
    set t = null
endfunction
function OWE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer OXE = (LoadInteger(R8, (EC8), (262)))
    call SetHeroInt(target, GetHeroInt(target, false) + OXE, true)
    call SetHeroInt(Z77, GetHeroInt(Z77, false) - OXE, true)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    set target = null
    return false
endfunction
function XA takes nothing returns boolean
    local real d
    local unit Z77 = GetEventDamageSource()
    local unit X77 = GetTriggerUnit()
    local integer OAE
    local trigger t
    local integer W57
    if GetUnitAbilityLevel(X77, 'B06Y') > 0 and GetUnitAbilityLevel(Z77, 'A0OI') > 0 and(LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2))) == GetEventDamageSource()then
        call UnitRemoveAbility(X77, 'B06Y')
        set d = .01 * (5 + GetUnitAbilityLevel(GetEventDamageSource(), 'A0OI')) * (GetUnitState(GetEventDamageSource(), UNIT_STATE_MANA) + 100)
        if(IsUnitType(X77, UNIT_TYPE_SUMMONED)or IsUnitIllusion(X77))and GetUnitTypeId(X77) != 'n004'and GetUnitTypeId(X77) != 'n018'and GetUnitTypeId(X77) != 'n01C'and GetUnitTypeId(X77) != 'n01G'and GetUnitTypeId(X77) != 'n00U'and GetUnitTypeId(X77) != 'n00Y'and GetUnitTypeId(X77) != 'n00Z'then
            set d = d + 100 * GetUnitAbilityLevel(GetEventDamageSource(), 'A0OI')
        endif
        call QM8("+" + I2S(R2I(d)), 1, X77, .023, 191, 64, 255, 216)
        call V08(GetEventDamageSource(), X77, A34, d)
        if IsUnitEnemy(X77, GetOwningPlayer(Z77)) and IsUnitType(X77, UNIT_TYPE_HERO) and IsUnitIllusion(X77) == false then
            set OAE = GetUnitAbilityLevel(GetEventDamageSource(), 'A0OI') + 1
            call SetHeroInt(X77, GetHeroInt(X77, false) - OAE, true)
            call SetHeroInt(Z77, GetHeroInt(Z77, false) + OAE, true)
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call SaveUnitHandle(R8, (W57), (2), (Z77))
            call SaveUnitHandle(R8, (W57), (17), (X77))
            call SaveInteger(R8, (W57), (262), (OAE))
            call TriggerRegisterTimerEvent(t, 50, false)
            call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
            call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
            call TriggerAddCondition(t, Condition(function OWE))
            set t = null
        endif
    endif
    set Z77 = null
    set X77 = null
    return false
endfunction
function XB takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetUnitAbilityLevel(GetAttacker(), 'A0OI') > 0 and(LoadBoolean(R8, (GetHandleId(GetTriggeringTrigger())), (263))or(g_aiStatBool[304 + GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (14)))then
            if(GetRandomInt(1, 100) <= GetUnitAbilityLevel(GetAttacker(), 'A0IF') * 10)then
                call SetUnitState(GetAttacker(), UNIT_STATE_MANA, GetUnitState(GetAttacker(), UNIT_STATE_MANA) + .25 * GetUnitState(GetAttacker(), UNIT_STATE_MAX_MANA))
                call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl", GetAttacker(), "overhead"))
            endif
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if(GetIssuedOrderId() == 852255)then
            call SaveBoolean(R8, (GetHandleId(GetTriggeringTrigger())), (263), (true))
        elseif(GetIssuedOrderId() == 852256)then
            call SaveBoolean(R8, (GetHandleId(GetTriggeringTrigger())), (263), (false))
        endif
    endif
    return false
endfunction
function OUE takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function XB))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), GetTriggerUnit())
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function XA))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
    set t = null
endfunction
function OVE takes nothing returns boolean
    if GetLearnedSkill() == 'A0OI'and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0OI') == 1 then
        call OUE()
    endif
    return false
endfunction
function DC9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function OVE))
    set t = null
endfunction
function AstralImprisonmentDamqage takes nothing returns nothing
    call V08(H04, GetEnumUnit(), AB4, 75 * HB4)
endfunction
function OYE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit X77 = (LoadUnitHandle(R8, (EC8), (17)))
    local integer ML8 = (LoadInteger(R8, (EC8), (5)))
    local group g = OG8()
    call SaveInteger(R8, (GetHandleId((X77))), ((4303)), (2))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
    call SetUnitInvulnerable(X77, false)
    call PauseUnit(X77, false)
    call ShowUnit(X77, true)
    call ClearSelectionForPlayer(GetOwningPlayer(X77))
    call SelectUnitAddForPlayer(X77, GetOwningPlayer(X77))
    set H04 = Z77
    set HB4 = ML8
    call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 425, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(g, function AstralImprisonmentDamqage)
    call OF8(g)
    call RemoveSavedHandle(R8, (GetHandleId(Z77)), (748))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function OZE takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0OJ')
    local trigger t
    local integer W57
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'o019', GetUnitX(X77), GetUnitY(X77), 0)
    call UnitApplyTimedLife(AC7, 'BTLF', 4 + 1)
    if(IsUnitEnemy(X77, GetOwningPlayer(Z77))) == false or OE8(GetSpellTargetUnit()) == false then
        call SaveInteger(R8, (GetHandleId((X77))), ((4303)), (1))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SelectUnitRemoveForPlayer(X77, GetOwningPlayer(X77))
        call SetUnitInvulnerable(X77, true)
        call PauseUnit(X77, true)
        call ShowUnit(X77, false)
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl", GetUnitX(X77), GetUnitY(X77))))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveInteger(R8, (W57), (5), (ML8))
        call TriggerRegisterTimerEvent(t, 4., false)
        call TriggerAddCondition(t, Condition(function OYE))
        if IsUnitEnemy(X77, GetOwningPlayer(Z77)) and IsUnitType(X77, UNIT_TYPE_HERO) then
            call SaveUnitHandle(R8, (GetHandleId(Z77)), (748), (X77))
        endif
    endif
    set AC7 = null
    set t = null
endfunction
function OBE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0OJ' then
        call OZE(GetTriggerUnit(), GetSpellTargetUnit())
    endif
    return false
endfunction
function OCE takes nothing returns nothing
    if IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139)))and GetSpellTargetUnit() != GetTriggerUnit()then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), (GetObjectName(('n038'))))
    endif
endfunction
function O3E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0OJ' then
        call OCE()
    endif
    return false
endfunction
function D39 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OBE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function O3E))
    set t = null
endfunction
function O6E takes nothing returns boolean
    return GetSpellAbilityId() == 'A0OK' or GetSpellAbilityId() == 'A1VW'
endfunction
function OLE takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    local unit O1E = GetTriggerUnit()
    local integer O0E = GetHeroInt(O1E, true) - GetHeroInt(X77, true)
    local integer ML8 = GetUnitAbilityLevel(O1E, 'A0OK')
    local integer O5E = ML8 * 20 - 10
    local integer O2E = 7 + 1 * ML8
    local boolean MBE = false
    local unit AC7
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(O1E, 'A1VW')
        set MBE = true
        set O2E = 7 + 1 * ML8
    endif
    if(O0E > 0)then
        call V08(O1E, X77, 1, O0E * O2E)
        call QM8(I2S(R2I(O0E * O2E)), 3, X77, .023, 216, 30, 30, 216)
        if(O0E < O5E)then
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl", X77, "overhead"))
            call SetUnitState(X77, UNIT_STATE_MANA, GetUnitState(X77, UNIT_STATE_MANA) * .4)
        endif
    endif
    if MBE and GetUnitAbilityLevel(O1E, 'A0OJ') > 0 then
        if O18(X77) == false then
            call OZE(O1E, X77)
        endif
    endif
    set X77 = null
    set O1E = null
endfunction
function O_E takes nothing returns boolean
    if(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO))and(GU8(GetFilterUnit()) == false)then
        if(IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())))then
            return true
        endif
    endif
    return false
endfunction
function P4E takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local integer QL8 = GetUnitAbilityLevel(O4D, 'A0OK')
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local group QA9 = OG8()
    local integer KQD = 0
    local unit P7E = (LoadUnitHandle(R8, (GetHandleId(O4D)), (748)))
    if QL8 == 0 then
        set QL8 = GetUnitAbilityLevel(O4D, 'A1VW')
    endif
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl", x, y))
    loop
        exitwhen KQD >= 360
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl", x + (200 + QL8 * 50) * Cos(KQD * bj_DEGTORAD), y + (200 + QL8 * 50) * Sin(KQD * bj_DEGTORAD)))
        set KQD = KQD + 45
    endloop
    call GroupEnumUnitsInRange(QA9, x, y, 300 + QL8 * 100, Condition(function O_E))
    if P7E != null and Z87(x, y, GetUnitX(P7E), GetUnitY(P7E)) < (300 + QL8 * 100)then
        call SetUnitInvulnerable(P7E, false)
        call GroupAddUnit(QA9, P7E)
    endif
    call ForGroup(QA9, function OLE)
    if P7E != null and O18(P7E) == false then
        call SetUnitInvulnerable(P7E, true)
    endif
    call OF8(QA9)
    set O4D = null
    set QA9 = null
    set P7E = null
endfunction
function D69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function O6E))
    call TriggerAddAction(t, function P4E)
    set t = null
endfunction
function P8E takes nothing returns nothing
    call V08(S54, GetEnumUnit(), AB4, S24)
endfunction
function P9E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group g
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEvalCount(t) > 25 / .2 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(X77, 'A3N4')
        call UnitRemoveAbility(X77, 'B3N4')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (31))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetUnitAbilityLevel(X77, 'B3N4') == 0 or (GetTriggerEvalCount(t) > 1 and GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0QG' and GetSpellTargetUnit() == X77)then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (31))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        set g = OG8()
        set H04 = Z77
        set S54 = Z77
        set S24 = (10 + 20 * GetUnitAbilityLevel(Z77, 'A0QG')) * .2
        call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 275, Condition(function GenericCondition_EnemyUnitsEx))
        call GroupRemoveUnit(g, X77)
        call ForGroup(g, function P8E)
        call OF8(g)
    endif
    set X77 = null
    set t = null
    set Z77 = null
    set g = null
    return false
endfunction
function PDE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = GetSpellTargetUnit()
    call S68(TO, GetUnitX(X77), GetUnitY(X77))
    call SaveUnitHandle(R8, (W57), (2), (GetTriggerUnit()))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveEffectHandle(R8, (W57), (31), (AddSpecialEffectTarget("war3mapImported\\NewSoulArmor.mdx", X77, "chest")))
    call UnitAddAbility(X77, 'A3N4')
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P9E))
    set X77 = null
    set t = null
endfunction
function PEE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0QG' then
        call PDE()
    endif
    return false
endfunction
function ET9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PEE))
    set t = null
endfunction
function PFE takes unit u returns boolean
    return GetUnitAbilityLevel(u, 'B02J') > 0 or GetUnitAbilityLevel(u, 'BUsp') > 0 or GetUnitAbilityLevel(u, 'Bust') > 0 or NH8(u)
endfunction
function PGE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer TA8
    local unit Z77
    local unit target
    local real x1
    local real y1
    local real d
    local real a
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set target = (LoadUnitHandle(R8, (EC8), (17)))
        set d = (LoadReal(R8, (EC8), (138)))
        set x = (LoadReal(R8, (EC8), (6)))
        set y = (LoadReal(R8, (EC8), (7)))
        set a = (LoadReal(R8, (EC8), (137)))
        set x1 = GetUnitX(target) + d / 12 * Cos(a)
        set y1 = GetUnitY(target) + d / 12 * Sin(a)
        if IsUnitType(target, UNIT_TYPE_HERO) then
            call SetUnitPosition(target, x1, y1)
        else
            call SetUnitX(target, x1)
            call SetUnitY(target, y1)
        endif
        if GetTriggerEvalCount(t) > 19 then
            set Z77 = (LoadUnitHandle(R8, (EC8), (2)))
            set TA8 = (LoadInteger(R8, (EC8), (5)))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call V08(Z77, target, AB4, TA8 * 40)
            set Z77 = null
        endif
        set target = null
    endif
    set t = null
    return false
endfunction
function PHE takes nothing returns nothing
    local trigger t
    local integer EC8
    local unit Z77 = GetTriggerUnit()
    local unit target = GetEnumUnit()
    if PFE(target) == false then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
        call TriggerRegisterTimerEvent(t, .025, true)
        call TriggerAddCondition(t, Condition(function PGE))
        call SaveReal(R8, (EC8), (6), ((j0)))
        call SaveReal(R8, (EC8), (7), ((K0)))
        call SaveReal(R8, (EC8), (138), ((Z87(j0, K0, GetUnitX(target), GetUnitY(target)))))
        call SaveReal(R8, (EC8), (137), ((Atan2(K0 - GetUnitY(target), j0 - GetUnitX(target)))))
        call SaveInteger(R8, (EC8), (5), (l0))
        call SaveUnitHandle(R8, (EC8), (2), (Z77))
        call SaveUnitHandle(R8, (EC8), (17), (target))
    endif
    set t = null
    set Z77 = null
    set target = null
endfunction
function PIE takes nothing returns nothing
    local group g = OG8()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A0QE')
    local real r = 150 + 100 * TA8 + 25
    set H04 = GetTriggerUnit()
    call S68(EP, x, y)
    call DestroyEffect(AddSpecialEffect("war3mapImported\\Star Aura.mdx", x, y))
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function U68))
    set j0 = x
    set K0 = y
    set l0 = TA8
    call ForGroup(g, function PHE)
    call SC8(x, y, 200)
    call OF8(g)
    set g = null
endfunction
function PJE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0QE' then
        call PIE()
    endif
    return false
endfunction
function PKE takes nothing returns nothing
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    if S38(x, y) == false or IsPointInRegion(IF4, (x), (y)) then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), (GetObjectName(('n03K'))))
    endif
endfunction
function PME takes nothing returns boolean
    if GetSpellAbilityId() == 'A0QE' then
        call PKE()
    endif
    return false
endfunction
function ES9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PJE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function PME))
    set t = null
endfunction
function Xq takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    call UnitRemoveAbility(target, 'B07W')
    call UnitRemoveAbility(target, 'Bblo')
    call UnitRemoveAbility(target, 'B062')
    call UnitRemoveAbility(target, 'B065')
    call UnitRemoveAbility(target, 'Bcrs')
    call UnitRemoveAbility(target, 'B016')
    call UnitRemoveAbility(target, 'B05R')
    set t = null
    set target = null
    return false
endfunction
function XQ takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, GetUnitAbilityLevel(GetTriggerUnit(), 'A0R7') * 1.5 + .5, false)
    call TriggerAddCondition(t, Condition(function Xq))
    call SaveUnitHandle(R8, (GetHandleId(t)), (17), (GetSpellTargetUnit()))
    call S68(bR, GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()))
    call DestroyEffect(AddSpecialEffectTarget("effects\\Surge.mdx", GetSpellTargetUnit(), "origin"))
    set t = null
endfunction
function PNE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0R7'then
        call XQ()
    endif
    return false
endfunction
function EU9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PNE))
    set t = null
endfunction
function POE takes boolean PPE returns boolean
    local integer EC8 = GetHandleId(GetTriggeringTrigger())
    local unit PQE = (LoadUnitHandle(R8, (EC8), (259)))
    local unit target = GetTriggerUnit()
    local unit XS = CreateUnit(GetOwningPlayer(PQE), 'e01S', GetUnitX(target), GetUnitY(target), 0)
    local unit AM7 = Y7[GetPlayerId(GetOwningPlayer(PQE))]
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0QK')
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(AM7, 'A21Q')
    endif
    call SetUnitAbilityLevel(PQE, 'A0QL', 4)
    set PM4 = GetUnitX(target)
    set PN4 = GetUnitY(target)
    set PO4 = target
    if PPE then
        call SetUnitAbilityLevel(PQE, 'A0QL', 3 + ML8)
        call IssueTargetOrderById(PQE, 852274, target)
        call V08(PQE, target, AB4, 150)
    else
        call IssueTargetOrderById(PQE, 852274, target)
        call V08(PQE, target, AB4, 150)
    endif
    call UnitApplyTimedLife(XS, 'BTLF', .5)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl", GetUnitX(target), GetUnitY(target)))
    set PQE = null
    set target = null
    set AM7 = null
    set XS = null
    return false
endfunction
function PRE takes nothing returns boolean
    local group g
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer((LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (259)))))and XC8(GetUnitTypeId(GetFilterUnit())) == false then
        set g = (LoadGroupHandle(R8, (GetHandleId(GetTriggeringTrigger())), (257)))
        if IsUnitInGroup(GetFilterUnit(), g) == false then
            call GroupAddUnit(g, GetFilterUnit())
            call POE(false)
        endif
    endif
    set g = null
    return false
endfunction
function PSE takes nothing returns boolean
    local group g
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer((LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (259)))))and XC8(GetUnitTypeId(GetFilterUnit())) == false then
        set g = (LoadGroupHandle(R8, (GetHandleId(GetTriggeringTrigger())), (257)))
        if IsUnitInGroup(GetFilterUnit(), g) == false then
            call GroupAddUnit(g, GetFilterUnit())
            call POE(true)
        endif
    endif
    set g = null
    return false
endfunction
function WallOfReplica_FindSource takes nothing returns nothing
    if GetPlayerId(GetOwningPlayer(GetEnumUnit())) == HB4 then
        call GroupAddUnit(H24, GetEnumUnit())
    endif
endfunction
function PTE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    call GroupRemoveUnit((LoadGroupHandle(R8, (W57), (257))), (LoadUnitHandle(R8, (W57), (261))))
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
    call FlushChildHashtable(R8, W57)
    call DisableTrigger(t)
    set t = null
    return false
endfunction
function PUE takes nothing returns boolean
    local unit PQE = GetSummoningUnit()
    local unit Q89 = GetSummonedUnit()
    local integer W57 = GetHandleId(PQE)
    local integer PVE = (LoadInteger(R8, (W57), (260)))
    local trigger t = CreateTrigger()
    call SetUnitVertexColor(Q89, 255, 255, 255, 100)
    call TriggerRegisterUnitEvent(t, Q89, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PTE))
    call SaveGroupHandle(R8, (GetHandleId(t)), (257), ((LoadGroupHandle(R8, (W57), (257)))))
    call SaveUnitHandle(R8, (GetHandleId(t)), (261), (PO4))
    set PVE = PVE + 1
    call SaveInteger(R8, (W57), (260), (PVE))
    call SaveInteger(R8, (W57), (2800 + PVE), (KJ8(Q89)))
    call SaveTriggerHandle(R8, (W57), (2900 + PVE), (t))
    call SetUnitX(Q89, PM4)
    call SetUnitY(Q89, PN4)
    set PQE = null
    set Q89 = null
    set t = null
    return false
endfunction
function PWE takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Xw takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer v5 = GetHandleId(t)
    local trigger XW = (LoadTriggerHandle(R8, (v5), (255)))
    local integer tK = GetHandleId(XW)
    local trigger v7 = (LoadTriggerHandle(R8, (tK), (256)))
    local group Xx = (LoadGroupHandle(R8, (tK), (257)))
    local group XX = (LoadGroupHandle(R8, (tK), (258)))
    local unit PXE = (LoadUnitHandle(R8, (tK), (259)))
    local integer Xy = GetHandleId(PXE)
    local integer Xv = (LoadInteger(R8, (Xy), (260)))
    local integer AZR4
    local integer i
    local unit u
    call ForGroup(XX, function PWE)
    set i = 1
    loop
        exitwhen i > Xv
        set AZR4 = (LoadInteger(R8, (Xy), (2800 + i)))
        set u = KH8(AZR4)
        call FlushChildHashtable(R8, (GetHandleId((LoadTriggerHandle(R8, (Xy), (2900 + i))))))
        call EA8((LoadTriggerHandle(R8, (Xy), (2900 + i))))
        if IsUnitIllusion(u)then
            call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl", GetUnitX(u), GetUnitY(u)))
            call RemoveUnit(u)
            call KG8(AZR4)
        endif
        set i = i + 1
    endloop
    call FlushChildHashtable(R8, v5)
    call FlushChildHashtable(R8, tK)
    call FlushChildHashtable(R8, Xy)
    call RemoveUnit(PXE)
    call OF8(Xx)
    call OF8(XX)
    call EA8(XW)
    call EA8(v7)
    call EA8(t)
    set t = null
    set XW = null
    set v7 = null
    set Xx = null
    set XX = null
    set PXE = null
    set u = null
    return false
endfunction
function PYE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real PZE = GetUnitFacing(N28) - 45
    local unit PXE = CreateUnit(GetOwningPlayer(N28), 'h00O', x, y, PZE)
    local unit u
    local real PTD
    local real PUD
    local integer i
    local real Xk
    local trigger t = CreateTrigger()
    local group g1 = OG8()
    local integer EC8 = GetHandleId(t)
    local group g2 = OG8()
    local trigger XW = t
    local integer ML8 = GetUnitAbilityLevel(N28, 'A0QK')
    local boolean PPE = false
    if ML8 == 0 then
        set PPE = true
        set ML8 = GetUnitAbilityLevel(N28, 'A21Q')
    endif
    call SetUnitAbilityLevel(PXE, 'A0QL', ML8)
    call S68(hR, x, y)
    call SaveGroupHandle(R8, (EC8), (257), (g1))
    call SaveGroupHandle(R8, (GetHandleId(PXE)), (257), (g1))
    call SaveGroupHandle(R8, (EC8), (258), (g2))
    call SaveUnitHandle(R8, (EC8), (259), (PXE))
    call SaveInteger(R8, (GetHandleId(PXE)), (260), (0))
    set i = 0
    loop
        exitwhen i > 39
        set PTD = x + (500 - 25 * i) * Cos((PZE - 45) * bj_DEGTORAD)
        set PUD = y + (500 - 25 * i) * Sin((PZE - 45) * bj_DEGTORAD)
        set u = CreateUnit(GetOwningPlayer(N28), 'h00P', PTD, PUD, PZE)
        call SetUnitPathing(u, false)
        call SetUnitX(u, PTD)
        call SetUnitY(u, PUD)
        call GroupAddUnit(g2, u)
        call TriggerRegisterUnitInRange(t, u, 17, Condition(function KF8))
        set i = i + 1
    endloop
    if PPE then
        call TriggerAddCondition(t, Condition(function PSE))
    else
        call TriggerAddCondition(t, Condition(function PRE))
    endif
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, PXE, EVENT_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function PUE))
    call SaveTriggerHandle(R8, (EC8), (256), (t))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 45, false)
    call TriggerAddCondition(t, Condition(function Xw))
    call SaveTriggerHandle(R8, (GetHandleId(t)), (255), (XW))
    set N28 = null
    set u = null
    set t = null
    set XW = null
    set g1 = null
    set g2 = null
    set PXE = null
endfunction
function PAE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0QK' or GetSpellAbilityId() == 'A21Q' then
        call PYE()
    endif
    return false
endfunction
function EV9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PAE))
    set t = null
endfunction
function PBE takes unit N28 returns real
    local integer EC8 = GetHandleId(N28)
    local integer T8 = 1
    local integer U8 = 10
    local real life = LoadReal(R8, (EC8), (7600 + 10))
    local real P99 = 0
    set T8 = 1
    loop
        exitwhen T8 > U8
        set P99 = P99 + RMaxBJ(LoadReal(R8, (EC8), (7600 + (T8 - 1))) - LoadReal(R8, (EC8), (7600 + (T8))), 0.)
        set T8 = T8 + 1
    endloop
    set T8 = 1
    loop
        exitwhen T8 > U8
        call SaveReal(R8, (EC8), (7600 + T8), life)
        set T8 = T8 + 1
    endloop
    return P99
endfunction
function PCE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local real x2 = (LoadReal(R8, (W57), (66)))
    local real y2 = (LoadReal(R8, (W57), (67)))
    local real a = (LoadReal(R8, (W57), (137)))
    local integer C77 = GetTriggerEvalCount(t)
    local real x = GetUnitX(AM7)
    local real y = GetUnitY(AM7)
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0LK')
    local real P99 = (LoadReal(R8, (W57), (20)))
    if Z87(x, y, x2, y2) <= 55 then
        set x = x2
        set y = y2
    else
        set x = PQ8(PND + 65 * Cos(a * bj_DEGTORAD))
        set y = PS8(POD + 65 * Sin(a * bj_DEGTORAD))
    endif
    call SaveReal(R8, (W57), (23), (x))
    call SaveReal(R8, (W57), (24), (y))
    call SetUnitPosition(AM7, x, y)
    call SetUnitState(AM7, UNIT_STATE_LIFE, GetUnitState(AM7, UNIT_STATE_LIFE) + 65. / 550. * P99)
    set P99 = RMaxBJ(P99 - 65. / 550. * P99, 0.)
    call SaveReal(R8, (W57), (20), (P99))
    if(x == x2 and y == y2)or C77 > 40 then
        call SetUnitX(AC7, x)
        call SetUnitY(AC7, y)
        call SetUnitState(AM7, UNIT_STATE_LIFE, GetUnitState(AM7, UNIT_STATE_LIFE) + P99)
        call IssueImmediateOrderById(AC7, 852096)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl", AM7, "overhead"))
        call SetUnitAnimation(AM7, "stand")
        call SetUnitPathing(AM7, true)
        call SetUnitInvulnerable(AM7, false)
        if GetUnitTypeId(AM7) == 'E02X' then
            call SetUnitVertexColor(AM7, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(AM7, 0, 255, 150, 255)
        endif
        call SaveInteger(R8, (GetHandleId(AM7)), (4261), (2))
    endif
    set t = null
    set AM7 = null
    set AC7 = null
    return false
endfunction
function P3E takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local location l
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real x1 = GetUnitX(AM7)
    local real y1 = GetUnitY(AM7)
    local real x2
    local real y2
    local real a
    local unit AC7 = CreateUnit(GetOwningPlayer(AM7), 'e00E', x1, y1, 0)
    if GetSpellTargetUnit() == null then
        set l = GetSpellTargetLoc()
    else
        set l = GetUnitLoc(GetSpellTargetUnit())
    endif
    set x2 = GetLocationX(l)
    set y2 = GetLocationY(l)
    set a = YI7(x1, y1, x2, y2)
    call RemoveLocation(l)
    call SetUnitAnimationByIndex(AM7, 0)
    call SetUnitPathing(AM7, false)
    call SetUnitInvulnerable(AM7, true)
    call SetUnitVertexColor(AM7, 0, 0, 0, 255)
    call SaveInteger(R8, (GetHandleId((AM7))), ((4261)), (1))
    call SaveReal(R8, (W57), (66), (PQ8(x2)))
    call SaveReal(R8, (W57), (67), (PS8(y2)))
    call SaveReal(R8, (W57), (23), (x1))
    call SaveReal(R8, (W57), (24), (y1))
    call SaveReal(R8, (W57), (137), (a))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call SaveReal(R8, (W57), (20), (PBE(AM7)))
    call O68(AC7, 'A0LA')
    call SetUnitAbilityLevel(AC7, 'A0LA', GetUnitAbilityLevel(AM7, 'A0LK'))
    call TriggerRegisterTimerEvent(t, .025, true)
    call TriggerAddCondition(t, Condition(function PCE))
    set AM7 = null
    set l = null
    set t = null
    set AC7 = null
endfunction
function P6E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0LK' then
        call P3E()
    endif
    return false
endfunction
function TimeWalkCancelDamageRecord takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local unit N28 = (LoadUnitHandle(R8, (GetHandleId(t)), (221)))
    local integer EC8 = GetHandleId(N28)
    local integer T8 = 1
    local integer U8 = 10
    loop
        exitwhen T8 > U8
        call SaveReal(R8, (EC8), (7600 + (T8 - 1)), (((LoadReal(R8, (EC8), (7600 + (T8)))))))
        set T8 = T8 + 1
    endloop
    call SaveReal(R8, (EC8), (7600 + 10), ((GetUnitState(N28, UNIT_STATE_LIFE))))
    set t = null
    set N28 = null
endfunction
function TimeWalkCancelDamageReg takes unit O4D returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddAction(t, function TimeWalkCancelDamageRecord)
    call SaveUnitHandle(R8, (GetHandleId(t)), (221), (O4D))
    set t = null
endfunction
function TimeWalkCancelDamageRegEnum takes nothing returns nothing
    call TimeWalkCancelDamageReg(GetEnumUnit())
endfunction
function TimeWalkCancelDamageRegCondt takes nothing returns nothing
    call TimeWalkCancelDamageReg(GetTriggerUnit())
endfunction
function TimeWalkCancelDamageRegFilter takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and (GetUnitTypeId(GetFilterUnit()) == 'EC45' or GetUnitTypeId(GetFilterUnit()) == 'E02X') and IsUnitIllusion(GetFilterUnit()) == false
endfunction
function CP8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local group g
    local region HZE
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P6E))
    set t = CreateTrigger()
    set g = OG8()
    set HZE = CreateRegion()
    call GroupEnumUnitsInRect(g, GetWorldBounds(), Condition(function TimeWalkCancelDamageRegFilter))
    call ForGroup(g, function TimeWalkCancelDamageRegEnum)
    call OF8(g)
    call RegionAddRect(HZE, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, HZE, Condition(function TimeWalkCancelDamageRegFilter))
    call TriggerAddCondition(t, Condition(function TimeWalkCancelDamageRegCondt))
    set HZE = null
    set g = null
    set t = null
endfunction
function TimeDilationFreezeCooldownAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = LoadUnitHandle(R8, (EC8), (14))
    local integer TX8 = LoadInteger(R8, (EC8), (59))
    if GetUnitAbilityLevel(AM7, 'A3RO') == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if GetTriggerExecCount(t) == 1 then
            call SaveReal(R8, (EC8), (830), (RMaxBJ(BlzGetUnitAbilityCooldownRemaining(AM7, TX8), .1)))
        else
            call BlzStartUnitAbilityCooldown(AM7, TX8, LoadReal(R8, (EC8), (830)))
        endif
    endif
    set t = null
    set AM7 = null
endfunction
function TimeDilationExempt takes integer id returns boolean
    return id == 'A3N5' or id == 'A0BG' or id == 'A064' or id == 'A13D' or id == 'A2NI' or id == 'A2XK' or id == 'A2FX' or id == 'A2E6'
endfunction
function TimeDilationFreezeCooldownEffect takes nothing returns nothing
    local integer TX8 = GetSpellAbilityId()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddAction(t, function TimeDilationFreezeCooldownAction)
    call SaveUnitHandle(R8, (EC8), (14), (GetTriggerUnit()))
    call SaveInteger(R8, (EC8), (59), (TX8))
    set t = null
endfunction
function TimeDilationFreezeCooldownCondt takes nothing returns boolean
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B3RO') > 0 and X38(GetTriggerUnit(), GetSpellAbilityId()) == false and not TimeDilationExempt(GetSpellAbilityId()) then
        call TimeDilationSlow(GetTriggerUnit())
        call TimeDilationFreezeCooldownEffect()
    endif
    return false
endfunction
function PLE takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'B3RO') == 0 then
        call T68(GetEnumUnit(), 'A3RO', HB4, 4. + 2. * HB4, 'B3RO')
    endif
endfunction
function P1E takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local group g = OG8()
    set H04 = AM7
    set HB4 = GetUnitAbilityLevel(AM7, 'A0CZ')
    call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 725 + 25, Condition(function GenericCondition_EnemyUnitsExHeroes))
    call ForGroup(g, function PLE)
    call OF8(g)
    set g = null
    set AM7 = null
endfunction
function P0E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0CZ' then
        call P1E()
    endif
    return false
endfunction
function CR8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P0E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TimeDilationFreezeCooldownCondt))
    set t = null
endfunction
function AW24 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit QGE = (LoadUnitHandle(R8, (EC8), (19)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    if QGE == null or p5 == null then
        call SaveInteger(R8, (GetHandleId(p5)), ((4423)), (2))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if Z47(p5, QGE) < 450 then
            call SaveInteger(R8, (GetHandleId(p5)), ((4423)), (1))
            call AH61(p5, x, y, 1000.)
        else
            call SaveInteger(R8, (GetHandleId(p5)), ((4423)), (2))
        endif
        call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
        call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    endif
    set t = null
    set p5 = null
    set QGE = null
    return false
endfunction
function AW44 takes unit p5, unit QGE returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (19), (QGE))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    call TriggerRegisterTimerEvent(t, .005, true)
    call TriggerAddCondition(t, Condition(function AW24))
    set t = null
endfunction
function AW54 takes nothing returns boolean
    if GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(H04)and GetUnitTypeId(GetFilterUnit()) == GetUnitTypeId(H04)then
        call AW44(GetFilterUnit(), AHGI)
    endif
    return false
endfunction
function P5E takes nothing returns boolean
    return GetSpellAbilityId() == ('A0J1')or GetSpellAbilityId() == 'A1D7'
endfunction
function P2E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit QGE = (LoadUnitHandle(R8, (EC8), (19)))
    local unit u = GetTriggerUnit()
    if QGE == null then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        set p5 = null
        set u = null
        return false
    endif
    if GetOwningPlayer(u) == GetOwningPlayer(p5)and GetUnitTypeId(u) == GetUnitTypeId(p5)then
        call AW44(u, QGE)
    endif
    set t = null
    set p5 = null
    set QGE = null
    set u = null
    return false
endfunction
function AW94 takes unit Y47 returns boolean
    local integer id = GetUnitTypeId(Y47)
    return id == 'o000' or id == 'o001' or id == 'o00A' or id == 'o00X' or id == 'osp4' or id == 'o008' or id == 'o009' or id == 'ebal' or id == 'e026' or id == 'umtw' or id == 'u00R' or id == 'EC45'
endfunction
function Q4E takes nothing returns boolean
    return GetOwningPlayer(GetFilterUnit()) != GetOwningPlayer(W8)and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 or AW94(GetFilterUnit()))
endfunction
function Q7E takes nothing returns nothing
    if GetUnitTypeId(GetEnumUnit()) != 'EC45' then
        call PauseUnit(GetEnumUnit(), true)
        call SetUnitTimeScale(GetEnumUnit(), 0)
        call UnitRemoveAbility(GetEnumUnit(), 'BUsl')
        call UnitRemoveAbility(GetEnumUnit(), 'BUsp')
        call UnitRemoveAbility(GetEnumUnit(), 'BUst')
        call SaveInteger(R8, (GetHandleId((GetEnumUnit()))), ((4306)), (1))
    endif
endfunction
function Q9E takes nothing returns nothing
    if GetUnitTypeId(GetEnumUnit()) != 'EC45' then
        call SaveInteger(R8, (GetHandleId((GetEnumUnit()))), ((4306)), (2))
        call PauseUnit(GetEnumUnit(), false)
        call SetUnitTimeScale(GetEnumUnit(), 1)
    endif
endfunction
// function QEE takes nothing returns nothing
//     local unit M88 = GetEnumUnit()
//     if(IsUnitType(M88, UNIT_TYPE_STRUCTURE)and(IsUnitEnemy(M88, GetOwningPlayer(hx)))and(IsUnitVisible(M88, GetOwningPlayer(hx)))and(hS == null))then
//         set hS = M88
//     elseif(IsUnitType(M88, UNIT_TYPE_HERO)and(IsUnitEnemy(M88, GetOwningPlayer(hx)))and(IsUnitVisible(M88, GetOwningPlayer(hx)))and((hS == null)or(IsUnitType(hS, UNIT_TYPE_STRUCTURE))or(GetUnitLifePercent(hS) > GetUnitLifePercent(M88))))then
//         set hS = M88
//     endif
//     set M88 = null
// endfunction
function QFE takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local unit QGE = (LoadUnitHandle(R8, (EC8), (19)))
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local group QHE = (LoadGroupHandle(R8, (EC8), (220)))
    local integer T8 = (LoadInteger(R8, (EC8), (28)))
    local real BM7 = GetUnitX(QGE)
    local real BN7 = GetUnitY(QGE)
    local group XS8 = OG8()
    local integer player_id = GetPlayerId(GetOwningPlayer(N28))
    local integer VL8 = 35 + TA8 * 5
    if GetUnitAbilityLevel(N28, 'A1D7') > 0 then
        set VL8 = 30 + TA8 * 10
    endif
    call ForGroup(QHE, function Q9E)
    set W8 = N28
    call GroupEnumUnitsInRange(XS8, BM7, BN7, 450, Condition(function Q4E))
    call GroupClear(QHE)
    call BlzGroupAddGroupFast(XS8, QHE)
    call ForGroup(XS8, function Q7E)
    // if(IsComputer(GetOwningPlayer(N28)))then
    //     if(g_aiTarget[16 + player_id] == null)then
    //         set hS = null
    //         set hx = N28
    //         call ForGroup(XS8, function QEE)
    //         set g_aiTarget[16 + player_id] = hS
    //     endif
    //     if(g_aiTarget[16 + player_id] != null)then
    //         if((IsUnitAliveBJ(g_aiTarget[16 + player_id]))and(GetUnitAbilityLevel(g_aiTarget[16 + player_id], 'B02F') == 0))then
    //             if((not IsUnitInRange(N28, g_aiTarget[16 + player_id], 300.))and(IsUnitType(g_aiTarget[16 + player_id], UNIT_TYPE_HERO)))then
    //                 if(not IssueTargetOrderById(N28, 852218, g_aiTarget[16 + player_id]))then
    //                     call IssueTargetOrderById(N28, 851983, g_aiTarget[16 + player_id])
    //                 endif
    //             elseif(not LL7(N28, S6))then
    //                 call IssueTargetOrderById(N28, 851983, g_aiTarget[16 + player_id])
    //             endif
    //         else
    //             set g_aiTarget[16 + player_id] = null
    //         endif
    //     endif
    // endif
    call OF8(XS8)
    set T8 = T8 + 1
    call SaveInteger(R8, (EC8), (28), (T8))
    if T8 > VL8 then
        // set g_aiStatBool[384 + player_id] = false
        // set g_aiTarget[16 + player_id] = null
        if U9 == false then
            call ForGroup(QHE, function Q9E)
        endif
        call RemoveUnit(QGE)
        call OF8(QHE)
        call PauseTimer(t)
        call FlushChildHashtable(R8, EC8)
        call DestroyTimer(t)
        set t = null
    endif
    set QGE = null
    set N28 = null
    set XS8 = null
    set QHE = null
endfunction
function QJE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, ('A0J1'))
    local real BM7 = GetSpellTargetX()
    local real BN7 = GetSpellTargetY()
    local unit QGE = CreateUnit(GetOwningPlayer(N28), 'u00L', BM7, BN7, 0)
    local timer t = CreateTimer()
    local integer EC8 = GetHandleId(t)
    local group QHE = OG8()
    local integer player_id = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    local group g
    local trigger t2
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1D7')
    endif
    // if IsComputer(GetOwningPlayer(GetTriggerUnit())) then
    //     set g_aiStatBool[384 + player_id] = true
    //     set g_aiTarget[16 + player_id] = null
    //     set g_aiStatReal[512 + player_id] = Bz + 3.5 + .5 * (TA8)
    // endif
    call SaveUnitHandle(R8, (EC8), (19), (QGE))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveGroupHandle(R8, (EC8), (220), (QHE))
    call SaveInteger(R8, (EC8), (28), (0))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call TimerStart(t, 0.1, true, function QFE)
    set AHGI = QGE
    set H04 = N28
    set g = OG8()
    call GroupEnumUnitsInRange(g, 0, 0, 25000, Condition(function AW54))
    call OF8(g)
    set t2 = CreateTrigger()
    set EC8 = GetHandleId(t2)
    call SaveUnitHandle(R8, (EC8), (2), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (QGE))
    call TriggerRegisterEnterRectSimple(t2, GetWorldBounds())
    call TriggerAddCondition(t2, Condition(function P2E))
    set g = null
    set t2 = null
    set N28 = null
    set QGE = null
    set QHE = null
    set t = null
endfunction
function CS8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P5E))
    call TriggerAddAction(t, function QJE)
    set t = null
endfunction
function QKE takes unit u, real QME returns nothing
    local integer d = R2I(QME)
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer QNE
    local real difference
    set EP7[0] = 'A23H'
    set EP7[1] = 'A23K'
    set EP7[2] = 'A23L'
    set EP7[3] = 'A23J'
    set EP7[4] = 'A23I'
    set EP7[5] = 'A23M'
    if d < 1 then
        call UnitRemoveAbility(u, EP7[0])
        call UnitRemoveAbility(u, EP7[1])
        call UnitRemoveAbility(u, EP7[2])
        call UnitRemoveAbility(u, EP7[3])
        call UnitRemoveAbility(u, EP7[4])
        call UnitRemoveAbility(u, EP7[5])
        return
    endif
    loop
        exitwhen c == 0
        set c = a / 2
        set b[i] = a - c * 2
        set a = c
        set i = i + 1
    endloop
    set QNE = 5
    set i = 0
    loop
        exitwhen i > QNE
        if b[i] == 1 then
            call O68(u, EP7[i])
            call SetPlayerAbilityAvailable(GetOwningPlayer(u), EP7[i], false)
        else
            call UnitRemoveAbility(u, EP7[i])
        endif
        set i = i + 1
    endloop
endfunction
function QOE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A23G')
    local real U89 = (LoadReal(R8, (GetHandleId(X77)), (682)))
    local integer C77 = (LoadInteger(R8, (GetHandleId(X77)), (683))) - 1
    call QKE(X77, C77 * ML8)
    call SaveInteger(R8, (GetHandleId(X77)), (683), (C77))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function QPE takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A23G')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer C77 = (LoadInteger(R8, (GetHandleId(X77)), (683))) + 1
    call QKE(X77, C77 * ML8)
    call SaveInteger(R8, (GetHandleId(X77)), (683), (C77))
    call SaveReal(R8, (GetHandleId(X77)), (682), ((TimerGetElapsed(E4)) + EQ7 - .01))
    call TriggerRegisterTimerEvent(t, EQ7, false)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function QOE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", X77, "origin"))
    set t = null
endfunction
function QQE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (W57), (30)))
    local unit X77 = KH8(V_8)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == Z77 then
            call DisableTrigger(t)
            if GetUnitAbilityLevel(X77, 'A04R') == 0 then
                call QPE(Z77, X77)
            endif
            call KG8(V_8)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    else
        call KG8(V_8)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function QRE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit X77 = GetTriggerUnit()
    local unit Z77 = GetAttacker()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 1, false)
    call TriggerAddCondition(t, Condition(function QQE))
    call SaveInteger(R8, (W57), (30), (KJ8(X77)))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set X77 = null
    set Z77 = null
    set t = null
endfunction
function QSE takes nothing returns nothing
    local unit Z77 = GetAttacker()
    if((LoadInteger(R8, (GetHandleId(Z77)), ((4307)))) == 1) == false then
        call ASCI(Z77, 4307, 0.3)
        call QRE()
    endif
    set Z77 = null
endfunction
function QTE takes nothing returns boolean
    if GetUnitAbilityLevel(GetAttacker(), 'A23G') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (14)))and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker()))then
        call QSE()
    endif
    return false
endfunction
function QUE takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function QTE))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (GetTriggerUnit()))
    set t = null
endfunction
function QVE takes nothing returns boolean
    if GetLearnedSkill() == 'A23G' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A23G') == 1 then
        call QUE()
    endif
    return false
endfunction
function CT8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function QVE))
    set t = null
endfunction
function QWE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetUnitAbilityLevel(Z77, 'B0C2') == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call SetUnitTimeScale(Z77, 1)
        call SaveInteger(R8, (GetHandleId((Z77))), ((4280)), (2))
    else
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", Z77, "origin"))
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function QXE takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SetUnitTimeScale(Z77, 0)
    call SaveInteger(R8, (GetHandleId((Z77))), ((4280)), (1))
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function QWE))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    if((LoadInteger(R8, (GetHandleId((Z77))), ((4306)))) == 1) == true then
        call V08(TC4, Z77, AB4, 30 + 10 * GetUnitAbilityLevel(TC4, 'A081'))
    endif
    set t = null
endfunction
function QYE takes nothing returns boolean
    if GetUnitAbilityLevel(GetFilterUnit(), 'B0C2') > 0 and((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((4280)))) == 1) == false then
        call QXE(GetFilterUnit())
    endif
    return false
endfunction
function QZE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local group g = OG8()
    set TC4 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 450, Condition(function QYE))
    call OF8(g)
    set t = null
    set Z77 = null
    set g = null
    return false
endfunction
function QAE takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function QZE))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    set t = null
endfunction
function QBE takes nothing returns boolean
    if GetLearnedSkill() == 'A081' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A081') == 1 then
        call QAE(GetTriggerUnit())
    endif
    return false
endfunction
function CQ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function QBE))
    set t = null
endfunction
function QCE takes unit Y47 returns boolean
    return(GetUnitTypeId(Y47) == 'H00I'or GetUnitTypeId(Y47) == 'H00J' or GetUnitTypeId(Y47) == GetUnitTypeId(GetTriggerUnit()))and GetUnitState(Y47, UNIT_STATE_LIFE) > .5 and GetOwningPlayer(Y47) == GetOwningPlayer(GetTriggerUnit())
endfunction
function Q3E takes nothing returns boolean
    return GetSpellAbilityId() == 'A0N8'
endfunction
function Q6E takes nothing returns boolean
    return QCE(GetFilterUnit())
endfunction
function QLE takes nothing returns nothing
    local unit Q1E = GetEnumUnit()
    local real yg = BI7(Q1E, HD)
    if yg < Y8 then
        set Y8 = yg
        set W8 = Q1E
    endif
    set Q1E = null
endfunction
function Q0E takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0
endfunction
function Q5E takes nothing returns nothing
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl", GetEnumUnit(), "origin"))
    call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), Y8, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE, WEAPON_TYPE_WHOKNOWS)
endfunction
function Q2E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local location V3D
    local real x
    local real y
    local real BJ7 = GetUnitX(Z77)
    local real BK7 = GetUnitY(Z77)
    local group QA9
    local boolexpr QZ9
    local boolean Q_E = false
    if X77 != null and QCE(X77)then
        set x = GetUnitX(X77)
        set y = GetUnitY(X77)
        set Q_E = true
    else
        set QZ9 = Condition(function Q6E)
        set QA9 = OG8()
        call GroupEnumUnitsInRange(QA9, 0, 0, 999999, QZ9)
        if X77 != null then
            set V3D = GetUnitLoc(X77)
        else
            set V3D = GetSpellTargetLoc()
        endif
        set W8 = FirstOfGroup(QA9)
        if W8 != null then
            set Q_E = true
            call GroupRemoveUnit(QA9, W8)
            set Y8 = BI7(W8, V3D)
            set HD = V3D
            call ForGroup(QA9, function QLE)
            set X77 = W8
            set x = GetUnitX(X77)
            set y = GetUnitY(X77)
        endif
        call OF8(QA9)
        call DestroyBoolExpr(QZ9)
        call RemoveLocation(V3D)
    endif
    if Q_E then
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl", BJ7, BK7))
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl", x, y))
        call SetUnitX(Z77, x)
        call SetUnitY(Z77, y)
        set Y8 = 60 + GetUnitAbilityLevel(GetTriggerUnit(), ('A0N8')) * 20
        set QZ9 = Condition(function Q0E)
        set QA9 = OG8()
        call GroupEnumUnitsInRange(QA9, BJ7, BK7, 400, QZ9)
        call ForGroup(QA9, function Q5E)
        call OF8(QA9)
        set QA9 = OG8()
        call GroupEnumUnitsInRange(QA9, x, y, 400, QZ9)
        call ForGroup(QA9, function Q5E)
        call OF8(QA9)
        call DestroyBoolExpr(QZ9)
    endif
    set Z77 = null
    set X77 = null
    set V3D = null
    set QA9 = null
    set QZ9 = null
endfunction
function R4E takes nothing returns boolean
    return GetSpellAbilityId() == ('A0N8')
endfunction
function R7E takes nothing returns nothing
    call SetUnitAnimationByIndex((LoadUnitHandle(R8, (GetHandleId(GetExpiredTimer())), (221))), 2)
endfunction
function R8E takes nothing returns nothing
    local timer t = CreateTimer()
    call SetUnitAnimationByIndex(GetTriggerUnit(), 2)
    call SaveUnitHandle(R8, (GetHandleId(t)), (221), (GetTriggerUnit()))
    call TimerStart(t, 1, false, function R7E)
    set t = null
endfunction
function EH9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call TriggerAddCondition(t, Condition(function R4E))
    call TriggerAddAction(t, function R8E)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Q3E))
    call TriggerAddAction(t, function Q2E)
    call GVD('A2QA')
    set t = null
endfunction
function R9E takes nothing returns boolean
    return GetSpellAbilityId() == 'A0NB'
endfunction
function RDE takes nothing returns boolean
    return GU8(GetFilterUnit()) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(W8))and(UN8(GetFilterUnit()) == false or IsUnitVisible(GetFilterUnit(), GetOwningPlayer(W8)))and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > .5 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitTypeId(GetFilterUnit()) != 'n00L'
endfunction
function REE takes nothing returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(GetEnumUnit()), 'e00E', Y8, MD, 0)
    call O68(oA, 'A0NC')
    call IssueTargetOrderById(oA, 852106, GetEnumUnit())
    set oA = null
endfunction
function RFE takes unit IJ, real x, real y returns nothing
    local boolexpr hP = Condition(function RDE)
    local group XS8 = OG8()
    set W8 = IJ
    call GroupEnumUnitsInRange(XS8, x, y, 245, hP)
    set Y8 = x
    set MD = y
    call ForGroup(XS8, function REE)
    call OF8(XS8)
    call DestroyBoolExpr(hP)
    set hP = null
    set XS8 = null
endfunction
function RGE takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local unit IJ = (LoadUnitHandle(R8, (EC8), (45)))
    local real hN = (LoadReal(R8, (EC8), (47)))
    local real ho = (LoadReal(R8, (EC8), (48)))
    local real RK = (LoadReal(R8, (EC8), (13)))
    local real iN = GetUnitX(IJ)
    local real io = GetUnitY(IJ)
    local real Il = GetUnitX(IJ) + 30 * Cos(RK)
    local real IL = GetUnitY(IJ) + 30 * Sin(RK)
    if(Il - hN) * (Il - hN) + (IL - ho) * (IL - ho) < 1200 then
        call SetUnitX(IJ, hN)
        call SetUnitY(IJ, ho)
        call RFE(IJ, hN, ho)
        call PauseTimer(t)
        call FlushChildHashtable(R8, EC8)
        call KillUnit(IJ)
        call DestroyTimer(t)
    else
        call SetUnitX(IJ, Il)
        call SetUnitY(IJ, IL)
    endif
    set t = null
    set IJ = null
endfunction
function RHE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real hN = PQ8(GetSpellTargetX())
    local real ho = PS8(GetSpellTargetY())
    local real iN = PQ8(GetUnitX(N28))
    local real io = PS8(GetUnitY(N28))
    local unit IJ = CreateUnit(GetOwningPlayer(N28), 'h00C', iN, io, 0)
    local real RK = Atan2(ho - io, hN - iN)
    local timer t = CreateTimer()
    local integer EC8 = GetHandleId(t)
    call SetUnitScale(IJ, 2, 2, 2)
    call SaveUnitHandle(R8, (EC8), (45), (IJ))
    call SaveReal(R8, (EC8), (47), (hN))
    call SaveReal(R8, (EC8), (48), (ho))
    call SaveReal(R8, (EC8), (13), (RK))
    call TimerStart(t, .035, true, function RGE)
    set IJ = null
    set N28 = null
    set t = null
endfunction
function EI9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function R9E))
    call TriggerAddAction(t, function RHE)
    set t = null
endfunction
function RIE takes unit Y47 returns boolean
    return GetUnitTypeId(Y47) == 'H00I'or GetUnitTypeId(Y47) == 'H00J'
endfunction
function RJE takes nothing returns nothing
    local integer yp = GetHandleId(GetTriggeringTrigger())
    local player j8 = (LoadPlayerHandle(R8, (yp), (370)))
    local integer yP = GetHandleId(j8)
    local unit YZ8 = (LoadUnitHandle(R8, (yp), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (yp), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (yp), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (yp), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (yp), (703)))
    local integer RKE = GetUnitAbilityLevel(YZ8, 'Aamk') * 2
    local integer RME = GetHeroAgi(YZ8, false)
    local integer RNE = GetHeroAgi(YZ8, true) - RME - RKE
    local integer ROE = GetHeroStr(YZ8, false)
    local integer RPE = GetHeroStr(YZ8, true) - ROE - RKE
    local integer RQE = GetHeroInt(YZ8, false)
    local integer RRE = GetHeroInt(YZ8, true) - RQE - RKE
    local real RSE = 0
    local integer RTE
    local integer RUE
    local integer RVE
    if LL4 then
        set RSE = 1.
    endif
    set RTE = R2I(RME + RNE * RSE)
    set RUE = R2I(ROE + RPE * RSE)
    set RVE = R2I(RQE + RRE * RSE)
    if GetUnitState(YZ8, UNIT_STATE_LIFE) > 1 then
        if YA8 != null then
            call SetHeroAgi(YA8, RTE, false)
            call SetHeroStr(YA8, RUE, false)
            call SetHeroInt(YA8, RVE, false)
        endif
        if YB8 != null then
            call SetHeroAgi(YB8, RTE, false)
            call SetHeroStr(YB8, RUE, false)
            call SetHeroInt(YB8, RVE, false)
        endif
        if YC8 != null then
            call SetHeroAgi(YC8, RTE, false)
            call SetHeroStr(YC8, RUE, false)
            call SetHeroInt(YC8, RVE, false)
        endif
        if Y38 != null then
            call SetHeroAgi(Y38, RTE, false)
            call SetHeroStr(Y38, RUE, false)
            call SetHeroInt(Y38, RVE, false)
        endif
    endif
    set j8 = null
    set YZ8 = null
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
endfunction
function RWE takes nothing returns nothing
    local integer RXE = GetHandleId(GetTriggeringTrigger())
    local player E5D = (LoadPlayerHandle(R8, (RXE), (370)))
    local integer RYE = GetHandleId(E5D)
    local unit YZ8 = (LoadUnitHandle(R8, (RYE), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (RYE), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (RYE), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (RYE), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (RYE), (703)))
    local integer RZE = GetHandleId(YZ8)
    local integer RAE = GetHandleId(YA8)
    local integer RBE = GetHandleId(YB8)
    local integer RCE = GetHandleId(YC8)
    local integer R3E = GetHandleId(Y38)
    local integer R6E = (LoadInteger(R8, (RZE), (367)))
    local integer RLE = (LoadInteger(R8, (RZE), (368)))
    local integer R1E = (LoadInteger(R8, (RAE), (367)))
    local integer R0E = (LoadInteger(R8, (RAE), (368)))
    local integer R5E = (LoadInteger(R8, (RBE), (367)))
    local integer R2E = (LoadInteger(R8, (RBE), (368)))
    local integer R_E = (LoadInteger(R8, (RCE), (367)))
    local integer S4E = (LoadInteger(R8, (RCE), (368)))
    local integer S7E = (LoadInteger(R8, (R3E), (367)))
    local integer S8E = (LoadInteger(R8, (R3E), (368)))
    local integer S9E = GetHeroXP(YZ8)
    local integer SDE = GetHeroXP(YA8)
    local integer SEE = GetHeroXP(YB8)
    local integer SFE = GetHeroXP(YC8)
    local integer SGE = GetHeroXP(Y38)
    local integer SHE = S9E - R6E - RLE
    local integer SIE = SDE - R1E - R0E
    local integer SJE = SEE - R5E - R2E
    local integer SKE = SFE - R_E - S4E
    local integer SME = SGE - S7E - S8E
    if GetUnitState(YZ8, UNIT_STATE_LIFE) > 1 then
        set R6E = R6E + SHE
        set R1E = R1E + SIE
        set R5E = R5E + SJE
        set R_E = R_E + SKE
        set S7E = S7E + SME
        if YZ8 != null then
            call AddHeroXP(YA8, SHE, false)
            if GetHeroXP(YA8) != SDE then
                set R0E = R0E + SHE
            endif
            call AddHeroXP(YB8, SHE, false)
            if GetHeroXP(YB8) != SEE then
                set R2E = R2E + SHE
            endif
            call AddHeroXP(YC8, SHE, false)
            if GetHeroXP(YC8) != SFE then
                set S4E = S4E + SHE
            endif
            call AddHeroXP(Y38, SHE, false)
            if GetHeroXP(Y38) != SGE then
                set S8E = S8E + SHE
            endif
        endif
        if YA8 != null then
            call AddHeroXP(YZ8, SIE, false)
            if GetHeroXP(YZ8) != S9E then
                set RLE = RLE + SIE
            endif
            call AddHeroXP(YB8, SIE, false)
            if GetHeroXP(YB8) != SEE then
                set R2E = R2E + SIE
            endif
            call AddHeroXP(YC8, SIE, false)
            if GetHeroXP(YC8) != SFE then
                set S4E = S4E + SIE
            endif
            call AddHeroXP(Y38, SIE, false)
            if GetHeroXP(Y38) != SGE then
                set S8E = S8E + SIE
            endif
        endif
        if YB8 != null then
            call AddHeroXP(YA8, SJE, false)
            if GetHeroXP(YA8) != SDE then
                set R0E = R0E + SJE
            endif
            call AddHeroXP(YZ8, SJE, false)
            if GetHeroXP(YZ8) != S9E then
                set RLE = RLE + SJE
            endif
            call AddHeroXP(YC8, SJE, false)
            if GetHeroXP(YC8) != SFE then
                set S4E = S4E + SJE
            endif
            call AddHeroXP(Y38, SJE, false)
            if GetHeroXP(Y38) != SGE then
                set S8E = S8E + SJE
            endif
        endif
        if YC8 != null then
            call AddHeroXP(YA8, SKE, false)
            if GetHeroXP(YA8) != SDE then
                set R0E = R0E + SKE
            endif
            call AddHeroXP(YB8, SKE, false)
            if GetHeroXP(YB8) != SEE then
                set R2E = R2E + SKE
            endif
            call AddHeroXP(YZ8, SKE, false)
            if GetHeroXP(YZ8) != S9E then
                set RLE = RLE + SKE
            endif
            call AddHeroXP(Y38, SKE, false)
            if GetHeroXP(Y38) != SGE then
                set S8E = S8E + SKE
            endif
        endif
        if Y38 != null then
            call AddHeroXP(YA8, SME, false)
            if GetHeroXP(YA8) != SDE then
                set R0E = R0E + SME
            endif
            call AddHeroXP(YB8, SME, false)
            if GetHeroXP(YB8) != SEE then
                set R2E = R2E + SME
            endif
            call AddHeroXP(YZ8, SME, false)
            if GetHeroXP(YZ8) != S9E then
                set RLE = RLE + SME
            endif
            call AddHeroXP(YC8, SME, false)
            if GetHeroXP(YC8) != SFE then
                set S4E = S4E + SME
            endif
        endif
        call SaveInteger(R8, (RZE), (367), (R6E))
        call SaveInteger(R8, (RZE), (368), (RLE))
        call SaveInteger(R8, (RAE), (367), (R1E))
        call SaveInteger(R8, (RAE), (368), (R0E))
        call SaveInteger(R8, (RBE), (367), (R5E))
        call SaveInteger(R8, (RBE), (368), (R2E))
        call SaveInteger(R8, (RCE), (367), (R_E))
        call SaveInteger(R8, (RCE), (368), (S4E))
        call SaveInteger(R8, (R3E), (367), (S7E))
        call SaveInteger(R8, (R3E), (368), (S8E))
    endif
    set E5D = null
    set YZ8 = null
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
endfunction
function SNE takes nothing returns boolean
    return RIE(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function SOE takes nothing returns nothing
    local unit PQ9 = GetTriggerUnit()
    local integer EC8 = GetHandleId(GetOwningPlayer(PQ9))
    local unit YZ8 = (LoadUnitHandle(R8, (EC8), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (EC8), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (EC8), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (EC8), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (EC8), (703)))
    local boolean XFv = false
    call DisableTrigger(ES)
    if YZ8 != null and YZ8 != PQ9 then
        call KillUnit(YZ8)
    endif
    if YA8 != null and YA8 != PQ9 then
        call KillUnit(YA8)
    endif
    if YB8 != null and YB8 != PQ9 then
        call KillUnit(YB8)
    endif
    if YC8 != null and YC8 != PQ9 then
        call KillUnit(YC8)
    endif
    if Y38 != null and Y38 != PQ9 then
        call KillUnit(Y38)
    endif
    call EnableTrigger(ES)
    set PQ9 = null
    set YZ8 = null
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
endfunction
function SPE takes nothing returns boolean
    return RIE(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function SQE takes unit H68, unit AM7 returns nothing
    local trigger t = (LoadTriggerHandle(R8, (GetHandleId(GetOwningPlayer(AM7))), (369)))
    local integer i = 0
    local boolean SRE = false
    local boolean SSE = false
    local boolean ASSE = false
    local boolean STE = false
    local boolean SUE = false
    local boolean SVE = false
    local boolean SWE = false
    local boolean SXE = false
    local boolean ASXE = false
    local boolean SYE = false
    local boolean SZE = false
    call DisableTrigger(t)
    call DisableTrigger(GW4)
    loop
        exitwhen i >= bj_MAX_INVENTORY
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[MV]then
            set SRE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[YC]then
            set SSE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[DFX]then
            set ASSE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[BC]then
            set STE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[AC]then
            set SUE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[ZC]then
            set SVE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[Z2]then
            set SWE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[ET4]then
            set SXE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == BU[IGM]then
            set ASXE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == (BU[CZ])then
            set SYE = true
        endif
        if GetItemTypeId(UnitItemInSlot(AM7, i)) == (BU[IA])then
            set SZE = true
        endif
        set i = i + 1
    endloop
    if SZE then
        call UnitAddItem(H68, CreateItem((BU[IA]), 0, 0))
    elseif SYE then
        call UnitAddItem(H68, CreateItem((BU[CZ]), 0, 0))
    elseif SXE then
        call UnitAddItem(H68, CreateItem(BU[ET4], 0, 0))
    elseif ASXE then
        call UnitAddItem(H68, CreateItem(BU[IGM], 0, 0))
    elseif SWE then
        call UnitAddItem(H68, CreateItem(BU[Z2], 0, 0))
    elseif SVE then
        call UnitAddItem(H68, CreateItem(BU[ZC], 0, 0))
    elseif SUE then
        call UnitAddItem(H68, CreateItem(BU[AC], 0, 0))
    elseif STE then
        call UnitAddItem(H68, CreateItem(BU[BC], 0, 0))
    elseif SSE then
        call UnitAddItem(H68, CreateItem(BU[YC], 0, 0))
    elseif ASSE then
        call UnitAddItem(H68, CreateItem(BU[DFX], 0, 0))
    elseif SRE then
        call UnitAddItem(H68, CreateItem(BU[MV], 0, 0))
    endif
    call EnableTrigger(t)
    call EnableTrigger(GW4)
    set t = null
endfunction
function SAE takes nothing returns nothing
    local unit Y68 = GetTriggerUnit()
    local integer i = 0
    local boolean SRE = false
    local boolean SSE = false
    local boolean ASSE = false
    local boolean STE = false
    local boolean SUE = false
    local boolean SVE = false
    local boolean SWE = false
    local boolean SXE = false
    local boolean ASXE = false
    local boolean SYE = false
    local boolean SZE = false
    local integer RYE = GetHandleId(GetOwningPlayer(Y68))
    local unit YZ8 = (LoadUnitHandle(R8, (RYE), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (RYE), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (RYE), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (RYE), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (RYE), (703)))
    local integer SBE
    local boolean SCE = false
    local integer S3E = 0
    local integer S6E = 0
    local integer AS6E = 0
    local integer SLE = 0
    local integer S1E = 0
    local integer S0E = 0
    local integer S5E = 0
    local integer S2E = 0
    local integer AS2E = 0
    local integer S_E = 0
    local integer T4E = 0
    call DisableTrigger(GetTriggeringTrigger())
    if GetUnitTypeId(Y68) == 'H00J'then
        call UnitRemoveItemFromSlot(Y68, 0)
        call EnableTrigger(GetTriggeringTrigger())
        return
    endif
    if not(GetItemTypeId(GetManipulatedItem()) == BU[MV]or GetItemTypeId(GetManipulatedItem()) == BU[YC]or GetItemTypeId(GetManipulatedItem()) == BU[DFX]or GetItemTypeId(GetManipulatedItem()) == BU[DFX]or GetItemTypeId(GetManipulatedItem()) == BU[BC]or GetItemTypeId(GetManipulatedItem()) == BU[AC]or GetItemTypeId(GetManipulatedItem()) == BU[ZC]or GetItemTypeId(GetManipulatedItem()) == BU[Z2]or GetItemTypeId(GetManipulatedItem()) == BU[ET4]or GetItemTypeId(GetManipulatedItem()) == BU[IGM]or GetItemTypeId(GetManipulatedItem()) == (BU[CZ])or GetItemTypeId(GetManipulatedItem()) == (BU[IA]))then
        call EnableTrigger(GetTriggeringTrigger())
        return
    endif
    call DisableTrigger(GW4)
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DROP_ITEM then
        set SCE = true
    endif
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set SBE = GetItemTypeId(UnitItemInSlot(Y68, i))
        if SBE == BU[MV]then
            set S3E = S3E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(S3E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set SRE = true
            endif
        endif
        if SBE == BU[YC]then
            set S6E = S6E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(S6E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set SSE = true
            endif
        endif
        if SBE == BU[DFX]then
            set AS6E = AS6E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(AS6E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set ASSE = true
            endif
        endif
        if SBE == BU[BC]then
            set SLE = SLE + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(SLE > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set STE = true
            endif
        endif
        if SBE == BU[AC]then
            set S1E = S1E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(S1E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set SUE = true
            endif
        endif
        if SBE == BU[ZC]then
            set S0E = S0E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(S0E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set SVE = true
            endif
        endif
        if SBE == BU[Z2]then
            set S5E = S5E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(S5E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set SWE = true
            endif
        endif
        if SBE == (BU[ET4])then
            set S2E = S2E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(S2E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set SXE = true
            endif
        endif
        if SBE == (BU[IGM])then
            set AS2E = AS2E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(AS2E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set ASXE = true
            endif
        endif
        if SBE == (BU[CZ])then
            set S_E = S_E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(S_E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set SYE = true
            endif
        endif
        if SBE == (BU[IA])then
            set T4E = T4E + 1
            if(not(SCE and SBE == GetItemTypeId(GetManipulatedItem())))or(S_E > 1 and SBE == GetItemTypeId(GetManipulatedItem()))then
                set SZE = true
            endif
        endif
        set i = i + 1
    endloop
    call RemoveItem(UnitRemoveItemFromSlot(YA8, 0))
    if YB8 != null then
        call RemoveItem(UnitRemoveItemFromSlot(YB8, 0))
    endif
    if YC8 != null then
        call RemoveItem(UnitRemoveItemFromSlot(YC8, 0))
    endif
    if Y38 != null then
        call RemoveItem(UnitRemoveItemFromSlot(Y38, 0))
    endif
    if SZE then
        call UnitAddItem(YA8, CreateItem((BU[IA]), 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem((BU[IA]), 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem((BU[IA]), 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[IA]), 0, 0))
        endif
    elseif SYE then
        call UnitAddItem(YA8, CreateItem((BU[CZ]), 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem((BU[CZ]), 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem((BU[CZ]), 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[CZ]), 0, 0))
        endif
    elseif ASXE then
        call UnitAddItem(YA8, CreateItem((BU[IGM]), 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem((BU[IGM]), 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem((BU[IGM]), 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[IGM]), 0, 0))
        endif
    elseif SXE then
        call UnitAddItem(YA8, CreateItem((BU[ET4]), 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem((BU[ET4]), 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem((BU[ET4]), 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[ET4]), 0, 0))
        endif
    elseif SWE then
        call UnitAddItem(YA8, CreateItem(BU[Z2], 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem(BU[Z2], 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem(BU[Z2], 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[Z2]), 0, 0))
        endif
    elseif SVE then
        call UnitAddItem(YA8, CreateItem(BU[ZC], 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem(BU[ZC], 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem(BU[ZC], 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[ZC]), 0, 0))
        endif
    elseif SUE then
        call UnitAddItem(YA8, CreateItem(BU[AC], 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem(BU[AC], 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem(BU[AC], 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[AC]), 0, 0))
        endif
    elseif STE then
        call UnitAddItem(YA8, CreateItem(BU[BC], 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem(BU[BC], 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem(BU[BC], 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[BC]), 0, 0))
        endif
    elseif SSE then
        call UnitAddItem(YA8, CreateItem(BU[YC], 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem(BU[YC], 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem(BU[YC], 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[YC]), 0, 0))
        endif
    elseif ASSE then
        call UnitAddItem(YA8, CreateItem(BU[DFX], 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem(BU[DFX], 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem(BU[DFX], 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[DFX]), 0, 0))
        endif
    elseif SRE then
        call UnitAddItem(YA8, CreateItem(BU[MV], 0, 0))
        if YB8 != null then
            call UnitAddItem(YB8, CreateItem(BU[MV], 0, 0))
        endif
        if YC8 != null then
            call UnitAddItem(YC8, CreateItem(BU[MV], 0, 0))
        endif
        if Y38 != null then
            call UnitAddItem(Y38, CreateItem((BU[MV]), 0, 0))
        endif
    endif
    call EnableTrigger(GetTriggeringTrigger())
    call EnableTrigger(GW4)
    set Y68 = null
    set YZ8 = null
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
endfunction
function T7E takes unit T8E, integer T9E returns nothing
    local integer yP = GetHandleId(GetOwningPlayer(T8E))
    local unit YZ8 = (LoadUnitHandle(R8, (yP), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (yP), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (yP), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (yP), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (yP), (703)))
    if YZ8 != null and YZ8 != T8E then
        call SelectHeroSkill(YZ8, T9E)
    endif
    if YA8 != null and YA8 != T8E then
        call SelectHeroSkill(YA8, T9E)
    endif
    if YB8 != null and YB8 != T8E then
        call SelectHeroSkill(YB8, T9E)
    endif
    if YC8 != null and YC8 != T8E then
        call SelectHeroSkill(YC8, T9E)
    endif
    if Y38 != null and Y38 != T8E then
        call SelectHeroSkill(Y38, T9E)
    endif
    set YZ8 = null
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
endfunction
function TDE takes integer N7, unit qf, unit qF returns nothing
    local integer T8 = 1
    local integer U8 = GetUnitAbilityLevel(qf, N7)
    loop
        exitwhen T8 > U8
        call SelectHeroSkill(qF, N7)
        set T8 = T8 + 1
    endloop
endfunction
function TEE takes unit H68, unit TFE returns nothing
    call AddHeroXP(H68, GetHeroXP(TFE), false)
    call SaveInteger(R8, (GetHandleId(H68)), (368), (GetHeroXP(TFE)))
    call SaveInteger(R8, (GetHandleId(H68)), (367), (0))
    call TDE('A0N8', TFE, H68)
    call TDE('A0NB', TFE, H68)
    call TDE('A0N7', TFE, H68)
    call TDE('Aamk', TFE, H68)
    call TDE('A0MW', TFE, H68)
    call TDE('A27C', TFE, H68)
endfunction
function TGE takes unit YA8, unit YB8, integer YJ, integer Yg, integer YG returns nothing
    if Yg > YG then
        call SelectHeroSkill(YB8, YJ)
    elseif YG > Yg then
        call SelectHeroSkill(YA8, YJ)
    endif
endfunction
function THE takes unit YA8, unit YB8 returns nothing
    local integer y8 = GetHeroXP(YA8)
    local integer y9 = GetHeroXP(YB8)
    local integer yW = GetHandleId(YA8)
    local integer yx = GetHandleId(YB8)
    local integer yZ = (LoadInteger(R8, (yW), (368)))
    local integer y4 = (LoadInteger(R8, (yx), (368)))
    local integer VX
    if y8 > y9 then
        set VX = y8 - y9
        call AddHeroXP(YB8, VX, true)
        if y9 != GetHeroXP(YB8)then
            call SaveInteger(R8, (yx), (368), (y4 + VX))
        endif
    elseif y8 < y9 then
        set VX = y9 - y8
        call AddHeroXP(YA8, VX, true)
        if y8 != GetHeroXP(YA8)then
            call SaveInteger(R8, (yW), (368), (yZ + VX))
        endif
    endif
endfunction
function TIE takes unit YA8, unit YB8 returns nothing
    local integer TJE = GetUnitAbilityLevel(YA8, 'A0N8')
    local integer TKE = GetUnitAbilityLevel(YA8, 'A0NB')
    local integer TME = GetUnitAbilityLevel(YA8, 'A0N7')
    local integer TNE = GetUnitAbilityLevel(YA8, 'A0MW')
    local integer TOE = GetUnitAbilityLevel(YA8, 'Aamk')
    local integer TPE = GetUnitAbilityLevel(YA8, 'A27C')
    local integer TQE = GetUnitAbilityLevel(YB8, 'A0N8')
    local integer TRE = GetUnitAbilityLevel(YB8, 'A0NB')
    local integer TSE = GetUnitAbilityLevel(YB8, 'A0N7')
    local integer TTE = GetUnitAbilityLevel(YB8, 'A0MW')
    local integer TUE = GetUnitAbilityLevel(YB8, 'Aamk')
    local integer TVE = GetUnitAbilityLevel(YB8, 'A27C')
    call THE(YA8, YB8)
    call TGE(YA8, YB8, 'A0N8', TJE, TQE)
    call TGE(YA8, YB8, 'A0NB', TKE, TRE)
    call TGE(YA8, YB8, 'A0N7', TME, TSE)
    call TGE(YA8, YB8, 'A0MW', TNE, TTE)
    call TGE(YA8, YB8, 'A27C', TPE, TVE)
    call TGE(YA8, YB8, 'Aamk', TOE, TUE)
endfunction
function TWE takes unit YA8, unit YB8 returns nothing
    if YA8 != null and YB8 != null then
        call TIE(YA8, YB8)
    endif
endfunction
function TXE takes nothing returns nothing
    local integer RYE = GetHandleId((LoadPlayerHandle(R8, (GetHandleId(GetTriggeringTrigger())), (370))))
    local unit YZ8 = (LoadUnitHandle(R8, (RYE), (699)))
    local unit YA8 = (LoadUnitHandle(R8, (RYE), (700)))
    local unit YB8 = (LoadUnitHandle(R8, (RYE), (701)))
    local unit YC8 = (LoadUnitHandle(R8, (RYE), (702)))
    local unit Y38 = (LoadUnitHandle(R8, (RYE), (703)))
    call DisableTrigger(PP4)
    call TWE(YZ8, YA8)
    call TWE(YZ8, YB8)
    call TWE(YZ8, YC8)
    call TWE(YZ8, Y38)
    call TWE(YA8, YB8)
    call TWE(YA8, YC8)
    call TWE(YA8, Y38)
    call TWE(YB8, YC8)
    call TWE(YB8, Y38)
    call TWE(YC8, Y38)
    call EnableTrigger(PP4)
    set YZ8 = null
    set YA8 = null
    set YB8 = null
    set YC8 = null
    set Y38 = null
endfunction
function TYE takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddAction(t, function TXE)
    call SavePlayerHandle(R8, (GetHandleId(t)), (370), (GetOwningPlayer(GetTriggerUnit())))
    set t = null
endfunction
function TZE takes unit Z77 returns nothing
    local trigger t
    call SaveUnitHandle(R8, (GetHandleId(GetOwningPlayer(Z77))), (699), (Z77))
    call SaveInteger(R8, (GetHandleId(Z77)), (367), (GetHeroXP(Z77)))
    call SaveInteger(R8, (GetHandleId(Z77)), (368), (0))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddAction(t, function RWE)
    call SavePlayerHandle(R8, (GetHandleId(t)), (370), (GetOwningPlayer(Z77)))
    call SaveTriggerHandle(R8, (GetHandleId(GetOwningPlayer(Z77))), (371), (t))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .3, true)
    call TriggerAddAction(t, function RJE)
    call SavePlayerHandle(R8, (GetHandleId(t)), (370), (GetOwningPlayer(Z77)))
    call SaveTriggerHandle(R8, (GetHandleId(GetOwningPlayer(Z77))), (372), (t))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function SOE)
    call TriggerAddCondition(t, Condition(function SNE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddAction(t, function SAE)
    call TriggerAddCondition(t, Condition(function SPE))
    call SaveTriggerHandle(R8, (GetHandleId(GetOwningPlayer(Z77))), (369), (t))
    call ExecuteFunc("TYE")
    set t = null
endfunction
function TAE takes unit Z77, boolean TBE returns nothing
    local player E5D = GetOwningPlayer(Z77)
    local integer W57 = GetHandleId(E5D)
    local unit H68
    set L64 = L64 + 1
    if L64 == 1 then
        call TZE(Z77)
    endif
    call TriggerExecute((LoadTriggerHandle(R8, (GetHandleId(GetOwningPlayer(Z77))), (371))))
    call TriggerExecute((LoadTriggerHandle(R8, (GetHandleId(GetOwningPlayer(Z77))), (372))))
    if TBE == false then
        call T7E(Z77, 'A0MW')
        call T7E(Z77, 'A27C')
    endif
    set H68 = CreateUnit(GetOwningPlayer(Z77), 'H00J', GetUnitX(Z77), GetUnitY(Z77), 0)
    call TEE(H68, Z77)
    call SQE(H68, Z77)
    call SaveUnitHandle(R8, (W57), (699 + L64), (H68))
    set H68 = null
endfunction
function TCE takes nothing returns nothing
    if LL4 == false then
        set LL4 = true
        call DisableTrigger(PP4)
        call TAE(H04, true)
        call EnableTrigger(PP4)
    endif
endfunction
function T3E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if IsUnitIllusion(GetTriggerUnit()) == false and GetOwningPlayer(GetTriggerUnit()) == GetOwningPlayer(Z77)and RIE(GetTriggerUnit())then
        if GetLearnedSkill() == 'A0MW' or GetLearnedSkill() == 'A27C' then
            call DisableTrigger(GetTriggeringTrigger())
            call TAE(GetTriggerUnit(), false)
            call EnableTrigger(GetTriggeringTrigger())
        elseif GetLearnedSkill() == 'Aamk' or GetLearnedSkill() == 'A0N8' or GetLearnedSkill() == 'A0NB' or GetLearnedSkill() == 'A0N7' then
            call TriggerExecute((LoadTriggerHandle(R8, (GetHandleId(GetOwningPlayer(GetTriggerUnit()))), (371))))
            call TriggerExecute((LoadTriggerHandle(R8, (GetHandleId(GetOwningPlayer(GetTriggerUnit()))), (372))))
            call DisableTrigger(GetTriggeringTrigger())
            call T7E(GetTriggerUnit(), GetLearnedSkill())
            call EnableTrigger(GetTriggeringTrigger())
        endif
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function T6E takes nothing returns nothing
    local unit Z77 = H04
    local integer W57
    set L34 = CreateTrigger()
    set PP4 = L34
    set W57 = GetHandleId(L34)
    call QQ8(L34, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(L34, Condition(function T3E))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set Z77 = null
endfunction
function Yu takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false and T79(GetFilterUnit()) == false)
endfunction
function YU takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local group g
    local unit u
    local real d
    local real a
    local real TLE
    local real T1E
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local real P99
    if GetTriggerEvalCount(t) > 40 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set g = OG8()
        set H04 = N28
        call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 500, Condition(function Yu))
        set u = GroupPickRandomUnit(g)
        if u == null then
            set d = GetRandomReal(175, 400)
            set a = GetRandomReal(0, 6)
            set TLE = GetUnitX(N28) + d * Cos(a)
            set T1E = GetUnitY(N28) + d * Sin(a)
            call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl", TLE, T1E))
        else
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl", u, "origin"))
            set P99 = 9 * TA8
            if IsUnitType(u, UNIT_TYPE_STRUCTURE) == true then
                set P99 = P99 * 1.4
            endif
            call V08(AC7, u, 2, P99)
        endif
        call OF8(g)
    endif
    set u = null
    set g = null
    set t = null
    set N28 = null
    set AC7 = null
    return false
endfunction
function Yv takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl", N28, "hand right"))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(N28, 'A20T')))
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function YU))
    set t = null
    set N28 = null
    set AC7 = null
endfunction
function T0E takes nothing returns boolean
    if GetSpellAbilityId() == 'A20T'then
        call Yv()
    endif
    return false
endfunction
function CU8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function T0E))
    set t = null
endfunction
function T5E takes nothing returns nothing
    local unit Z77 = A54
    local unit X77 = GetEnumUnit()
    call V08(Z77, X77, AB4, A24)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", X77, "origin"))
    set Z77 = null
    set X77 = null
endfunction
function T2E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A21F')
    local group g
    if ML8 != 0 then
        if ML8 == 1 then
            set A24 = 100
        elseif ML8 == 2 then
            set A24 = 130
        else
            set A24 = 160
        endif
    else
        set ML8 = GetUnitAbilityLevel(Z77, 'A21G')
        if ML8 == 1 then
            set A24 = 160
        elseif ML8 == 2 then
            set A24 = 190
        else
            set A24 = 220
        endif
    endif
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or GetUnitState(Z77, UNIT_STATE_MANA) < 20 * ML8 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) ==- 1 or(GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId() == 'A21H' or GetSpellAbilityId() == 'A27H'))then
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A21F' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21F', true)
        endif
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A21G' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21G', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21H', false)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        // call EY8(Z77, "AI|PulseNova")
    elseif GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT then
        call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) - 20 * ML8)
        set H04 = Z77
        set A54 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 475, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function T5E)
        call OF8(g)
        set g = null
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function T_E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", Z77, "origin"))
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21F', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21G', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A21H', true)
    call UnitAddAbility(Z77, 'A21H')
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function T2E))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call TriggerEvaluate(t)
    // call EW8(Z77, "AI|PulseNova")
    set Z77 = null
    set t = null
endfunction
function Yy takes nothing returns boolean
    if GetSpellAbilityId() == 'A21F'or GetSpellAbilityId() == 'A21G'then
        call T_E()
    endif
    return false
endfunction
function CV8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Yy))
    set t = null
endfunction
function U4E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit YVD = (LoadUnitHandle(R8, (W57), (374)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer U7E = (LoadInteger(R8, (W57), (233)))
    local integer VID = (LoadInteger(R8, (W57), (12)))
    local unit AC7
    local group g
    local real a
    local real x
    local real y
    local integer U8E = (LoadInteger(R8, (W57), (720)))
    if U8E > 0 then
        set U8E = U8E - 1
        call SaveInteger(R8, (W57), (720), (U8E))
        return false
    endif
    if Z87(GetUnitX(YVD), GetUnitY(YVD), GetUnitX(X77), GetUnitY(X77)) > 20 then
        set a = YI7(GetUnitX(YVD), GetUnitY(YVD), GetUnitX(X77), GetUnitY(X77))
        call SetUnitFacing(YVD, a)
        set x = GetUnitX(YVD) + 17 * Cos(a * bj_DEGTORAD)
        set y = GetUnitY(YVD) + 17 * Sin(a * bj_DEGTORAD)
        call SetUnitX(YVD, x)
        call SetUnitY(YVD, y)
    else
        if O18(X77) == false then
            set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
            call O68(AC7, 'A091')
            call SetUnitAbilityLevel(AC7, 'A091', ML8)
            call IssueTargetOrderById(AC7, 852226, X77)
        endif
        if U7E > VID then
            call RemoveUnit(YVD)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        else
            set g = OG8()
            set H04 = Z77
            call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 600, Condition(function U38))
            call GroupRemoveUnit(g, X77)
            set X77 = GroupPickRandomUnit(g)
            call OF8(g)
            if X77 == null then
                call RemoveUnit(YVD)
                call FlushChildHashtable(R8, W57)
                call EA8(t)
            else
                call SaveInteger(R8, (W57), (720), (10))
                call SaveInteger(R8, (W57), (233), (U7E + 1))
                call SaveUnitHandle(R8, (W57), (17), (X77))
            endif
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set YVD = null
    set AC7 = null
    set g = null
    return false
endfunction
function U9E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A05T')
    local integer VID = 10
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit YVD
    if GetSpellAbilityId() == 'A08H' then
        set ML8 = GetUnitAbilityLevel(Z77, 'A08H') + 1
        set VID = 100000
    endif
    set YVD = CreateUnit(GetOwningPlayer(Z77), 'e009', GetUnitX(Z77), GetUnitY(Z77), 0)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (374), (YVD))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (233), (1))
    call SaveInteger(R8, (W57), (12), (VID))
    call SaveInteger(R8, (W57), (720), (0))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function U4E))
    set Z77 = null
    set X77 = null
    set YVD = null
    set t = null
endfunction
function UDE takes nothing returns boolean
    if GetSpellAbilityId() == 'A05T' or GetSpellAbilityId() == 'A08H' then
        call U9E()
    endif
    return false
endfunction
function CX8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UDE))
    set t = null
endfunction
function ASA4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real LBD = (LoadReal(R8, (GetHandleId(target)), (813)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or LBD < (TimerGetElapsed(E4))then
        call UnitRemoveAbility(target, 'A2U1')
        call UnitRemoveAbility(target, 'B0GV')
        call UnitRemoveAbility(target, 'A2U2')
        call UnitRemoveAbility(target, 'B0GW')
        call UnitRemoveAbility(target, 'A2U4')
    endif
    set t = null
    set target = null
    return false
endfunction
function ASB4 takes unit target returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real VL8 = 3.0
    local integer ASC4 = 'A2U2'
    local integer ASD4 = 'B0GW'
    if IsUnitType(target, UNIT_TYPE_HERO)then
        set VL8 = 2.0
    endif
    set ASC4 = 'A2U1'
    set ASD4 = 'B0GV'
    call O68(target, ASC4)
    call O68(target, ASD4)
    call O68(target, 'A2U4')
    call TriggerRegisterDeathEvent(t, target)
    call TriggerRegisterTimerEvent(t, VL8, false)
    call TriggerAddCondition(t, Condition(function ASA4))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (GetHandleId(target)), (813), (((TimerGetElapsed(E4)) + VL8 - 0.1)))
    set t = null
endfunction
function ASE4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real LBD = (LoadReal(R8, (GetHandleId(target)), (812)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsNormalAttack() then
            call ASB4(GetEventDamageSource())
        endif
    elseif(TimerGetElapsed(E4)) > LBD then
        call UnitRemoveAbility(target, 'A2U0')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set target = null
    return false
endfunction
function ASF4 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t
    local integer EC8
    local integer VL8 = 40
    local integer TA8 = GetUnitAbilityLevel(p5, 'A08R')
    local real LBD = (LoadReal(R8, (GetHandleId(target)), (812)))
    call SaveReal(R8, (GetHandleId(target)), (812), (((TimerGetElapsed(E4)) + VL8)))
    call O68(target, 'A2U0')
    call SetUnitAbilityLevel(target, 'A2U0', TA8)
    if LBD < (TimerGetElapsed(E4))then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function ASE4))
        call SaveUnitHandle(R8, (EC8), (17), (target))
    endif
    set p5 = null
    set target = null
    set t = null
endfunction
function ASG4 takes nothing returns boolean
    if GetSpellAbilityId() == 'A08R' then
        call ASF4()
    endif
    return false
endfunction
function AKS1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ASG4))
    set t = null
endfunction
function ASY4 takes nothing returns nothing
    call AddHeroXP(GetEnumUnit(), AZ6I, true)
endfunction
function ASJ4 takes unit target returns nothing
    local group g = OG8()
    local integer ASK4 = AALO(target)
    local integer AZ5I
    set H04 = target
    call GroupEnumUnitsInRange(g, GetUnitX(target), GetUnitY(target), 1300 + 25, Condition(function GenericCondition_AllyUnitsExHeroes))
    set AZ5I = BlzGroupGetSize(g)
    if AZ5I > 0 then
        set AZ6I = ASK4 / AZ5I
        call ForGroup(g, function ASY4)
    endif
    call OF8(g)
    set g = null
endfunction
function NZH takes unit u, integer d returns nothing
    local texttag t = CreateTextTag()
    call SetTextTagText(t, "+" + I2S(d) + " " + GetObjectName('n0LQ'), 0.03)
    call SetTextTagPosUnit(t, u, 0)
    call SetTextTagColorBJ(t, 50, 75, 255, 15)
    call SetTextTagVelocity(t, 0, 0.035)
    call SetTextTagFadepoint(t, 3)
    call SetTextTagLifespan(t, 2.5)
    call SetTextTagPermanent(t, false)
    call SetTextTagVisibility(t, false)
    call SetTextTagVisibility(t, true)
    if IsUnitVisible(u, GetLocalPlayer())or N08(GetLocalPlayer())then
        call SetTextTagVisibility(t, true)
    else
        call SetTextTagVisibility(t, false)
    endif
    set t = null
endfunction
function NAH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit m5 = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A053')
    local real NN9 = GetUnitState(m5, UNIT_STATE_LIFE) * (TA8 * 0.15 + 0.1)
    call SetUnitState(p5, UNIT_STATE_MANA, GetUnitState(p5, UNIT_STATE_MANA) + NN9)
    call NZH(m5, R2I(NN9))
    call ASJ4(m5)
    call KillUnit(m5)
    set p5 = null
    set m5 = null
endfunction
function NBH takes nothing returns boolean
    if GetSpellAbilityId() == 'A053' and ZS7(GetSpellTargetUnit()) == false then
        call NAH()
    endif
    return false
endfunction
function AKR1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NBH))
    set t = null
endfunction
function UEE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit m5 = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A094')
    local integer UFE = GetHeroLevel(m5)
    local real P08 = GetUnitState(m5, UNIT_STATE_MAX_LIFE) * .2
    if ModuloInteger(UFE, 7 - TA8) == 0 or UFE == 25 then
        call V08(Z77, m5, AB4, P08)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl", m5, "chest"))
    endif
    set Z77 = null
    set m5 = null
endfunction
function UGE takes nothing returns boolean
    if GetSpellAbilityId() == 'A094' then
        call UEE()
    endif
    return false
endfunction
function CY8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UGE))
    set t = null
endfunction
function InfernalBladeEffectCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = LoadUnitHandle(R8, (EC8), (2))
    local unit X77 = LoadUnitHandle(R8, (EC8), (17))
    local integer TA8 = LoadInteger(R8, (EC8), (5))
    if GetTriggerEvalCount(t) > 4 or O18(X77) then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl", X77, "origin"))
        call V08(Z77, X77, AB4, 20. + GetUnitState(X77, UNIT_STATE_MAX_LIFE) * (0.0125 * TA8))
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function InfernalBladeAddEffect takes unit Z77, unit X77 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A3Q6')
    call BlzStartUnitAbilityCooldown(Z77, 'A3Q6', FbGetAbilityCooldown('A3Q6', TA8))
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function InfernalBladeEffectCondt))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (17), (X77))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call V18(Z77, X77, .3)
    set t = null
endfunction
function InfernalBladeCondt takes nothing returns boolean
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B3Q6') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A3Q6') > 0 then
        call UnitRemoveAbility(GetTriggerUnit(), 'B3Q6')
        call InfernalBladeAddEffect(GetEventDamageSource(), GetTriggerUnit())
    endif
    return false
endfunction
function Register_InfernalBlade takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function InfernalBladeCondt))
    set t = null
endfunction
function UHE takes unit Z77 returns nothing
    call UnitRemoveAbility(Z77, 'A1OQ')
    call UnitRemoveAbility(Z77, 'A1OR')
    call UnitRemoveAbility(Z77, 'A1OS')
    call UnitRemoveAbility(Z77, 'A1OT')
    call UnitRemoveAbility(Z77, 'A1OU')
    call UnitRemoveAbility(Z77, 'A1OV')
    call UnitRemoveAbility(Z77, 'A1OW')
    call UnitRemoveAbility(Z77, 'A1OX')
    call UnitRemoveAbility(Z77, 'A1OY')
    call UnitRemoveAbility(Z77, 'S00M')
    call UnitRemoveAbility(Z77, 'A1OZ')
    call UnitRemoveAbility(Z77, 'S00N')
    call UnitRemoveAbility(Z77, 'A1P0')
    call UnitRemoveAbility(Z77, 'A1P1')
    call UnitRemoveAbility(Z77, 'A1P7')
    call UnitRemoveAbility(Z77, 'A1PA')
    call UnitRemoveAbility(Z77, 'A1P3')
    call UnitRemoveAbility(Z77, 'A1P4')
    call UnitRemoveAbility(Z77, 'A1P5')
    call UnitRemoveAbility(Z77, 'A1P6')
    call UnitRemoveAbility(Z77, 'A2AG')
    call UnitRemoveAbility(Z77, 'A37H')
    call UnitRemoveAbility(Z77, 'A37K')
    call UnitRemoveAbility(Z77, 'A3MB')
endfunction
function UIE takes unit Z77, unit X77 returns nothing
    local integer UJE = GetUnitTypeId(X77)
    local integer UKE = 0
    local integer UME = 0
    if UJE == 'n0HX' then
        set UKE = 'A1OQ'
    elseif UJE == 'nomg' then
        set UKE = 'A1OR'
    elseif UJE == 'nfpc' then
        set UKE = 'A3MB'
    elseif UJE == 'ncen' then
        set UKE = 'A3MB'
    elseif UJE == 'nfpu' then
        set UKE = 'A1OS'
        set UME = 'S00N'
    elseif UJE == 'nstl' then
        set UKE = 'A1OT'
    elseif UJE == 'nsat' then
        set UKE = 'A1OU'
    elseif UJE == 'nsth' then
        set UKE = 'A1OV'
        set UME = 'A1OW'
    elseif UJE == 'n00S' then
        set UKE = 'A1OX'
        set UME = 'A1OY'
    elseif UJE == 'nkol' then
        set UKE = 'S00M'
    elseif UJE == 'nfsh' then
        set UKE = 'A1OZ'
        set UME = 'A2AG'
    elseif UJE == 'ncnk' then
        set UKE = 'A1P0'
    elseif UJE == 'ngns' then
        set UKE = 'A1P1'
    elseif UJE == 'ngh1' then
        set UKE = 'A1P7'
        set UME = 'A1PA'
    elseif UJE == 'nowe' then
        set UKE = 'A1P3'
        set UME = 'A1P4'
    elseif UJE == 'ndtw' then
        set UKE = 'A1P5'
        set UME = 'A1P6'
    elseif UJE == 'nwlg' then
        set UKE = 'A1OY'
    elseif UJE == 'n026' then
        set UKE = 'A37H'
        set UME = 'A37K'
    elseif UJE == 'n127' then
        set UKE = 'A37K'
    endif
    if UKE != 0 then
        call UHE(Z77)
        call O68(Z77, UKE)
    endif
    if UME != 0 then
        call O68(Z77, UME)
    endif
endfunction
function UNE takes real UOE returns string
    local string c1 = "|c00ff0303"
    local string c = "||"
    local string p = " "
    local string s = c1 + c + "|r"
    local string UPE
    if UOE > 85 then
        set UPE = s + p + s + p + s + p + s + p + s + p + s + p + s
    elseif UOE > 70 then
        set UPE = s + p + s + p + s + p + s + p + s + p + s + p + c
    elseif UOE > 55 then
        set UPE = s + p + s + p + s + p + s + p + s + p + c + p + c
    elseif UOE > 40 then
        set UPE = s + p + s + p + s + p + s + p + c + p + c + p + c
    elseif UOE > 25 then
        set UPE = s + p + s + p + s + p + c + p + c + p + c + p + c
    elseif UOE > 10 then
        set UPE = s + p + s + p + c + p + c + p + c + p + c + p + c
    elseif UOE > 0 then
        set UPE = s + p + c + p + c + p + c + p + c + p + c + p + c
    else
        set UPE = c + p + c + p + c + p + c + p + c + p + c + p + c
    endif
    return UPE
endfunction
function UQE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer URE = (LoadInteger(R8, (EC8), (230)))
    local real HP = (LoadReal(R8, (EC8), (232)))
    local texttag tt = (LoadTextTagHandle(R8, (EC8), (231)))
    local integer iX = GetTriggerEvalCount(t)
    local real USE = RMaxBJ(HP - iX, 0)
    local boolean UTE = true
    call SetTextTagText(tt, UNE(100 * USE / HP), .018)
    call SetTextTagPosUnit(tt, N28, 0)
    if IsUnitVisible(N28, GetLocalPlayer()) == false and N08(GetLocalPlayer()) == false then
        set UTE = false
    endif
    call SetTextTagVisibility(tt, UTE)
    if USE == 0 then
        call QO9(GetOwningPlayer(N28), 25 * TA8, N28, false, false)
    endif
    if USE == 0 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call BlzUnitHideAbility(N28, 'A10R', false)
        call UnitRemoveAbility(N28, 'A10S')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call DestroyTextTag(tt)
        set tt = null
    endif
    set t = null
    set N28 = null
    return false
endfunction
function UUE takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(AM7, 'A10R')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real HP = GetUnitState(X77, UNIT_STATE_LIFE)
    local integer UVE = GetUnitLevel(X77)
    local integer URE = GetUnitTypeId(X77)
    local texttag tt = CreateTextTag()
    local boolean UTE = true
    local unit AC7 = CreateUnit(GetOwningPlayer(AM7), 'e00E', 0, 0, 0)
    call QK8("SPLK", GetUnitX(AM7), GetUnitY(AM7), GetUnitX(X77), GetUnitY(X77), .1, .1, .2, .9, .5)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\Devour\\DevourEffectArt.mdl", GetUnitX(X77), GetUnitY(X77)))
    if IsUnitVisible(AM7, GetLocalPlayer()) == false then
        set UTE = false
    endif
    call UIE(AM7, X77)
    call SetTextTagText(tt, UNE(100), .018)
    call SetTextTagPosUnit(tt, AM7, 0)
    call SetTextTagVisibility(tt, UTE)
    call SetTextTagPermanent(tt, true)
    call BlzUnitHideAbility(AM7, 'A10R', true)
    call O68(AM7, 'A10S')
    call SaveUnitHandle(R8, (EC8), (14), (AM7))
    call SaveTextTagHandle(R8, (EC8), (231), (tt))
    call SaveInteger(R8, (EC8), (230), (URE))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (232), ((HP)))
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function UQE))
    call ShowUnit(X77, false)
    call UnitRemoveBuffs(X77, true, true)
    call UnitRemoveAbility(X77, 'Aetl')
    call UnitDamageTarget(AC7, X77, 100000000., true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    set t = null
    set tt = null
    set AM7 = null
    set X77 = null
    set AC7 = null
endfunction
function UWE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A10R')
    local integer UVE = GetUnitLevel(target)
    if(GetOwningPlayer(target) != G8[0]and GetOwningPlayer(target) != N8[0])and((TA8 == 1 and UVE > 2)or(TA8 == 2 and UVE > 4)or(TA8 == 3 and UVE > 5)or(TA8 == 4 and UVE > 6))then
    endif
    set N28 = null
    set target = null
endfunction
function UXE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer id = (LoadInteger(R8, (EC8), (34)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function UYE takes nothing returns nothing
    local integer id = GetSpellAbilityId()
    local trigger t
    local integer EC8
    if id == 'A1OQ' or id == 'A1OR' or id == 'A1OS' or id == 'A1OT' or id == 'A1OU' or id == 'A1OV' or id == 'A1OW' or id == 'A1OX' or id == 'A1OY' or id == 'S00M' or id == 'A1OZ' or id == 'S00N' or id == 'A1P0' or id == 'A1P1' or id == 'A1P2' or id == 'A1P3' or id == 'A1P4' or id == 'A1P5' or id == 'A1P6' or id == 'A37H' or id == 'A37K' then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DEATH)
        call TriggerRegisterTimerEvent(t, 1, false)
        call TriggerAddCondition(t, Condition(function UXE))
        call SaveUnitHandle(R8, (EC8), (2), (GetTriggerUnit()))
        call SaveInteger(R8, (EC8), (34), (id))
        set t = null
    endif
endfunction
function UZE takes nothing returns boolean
    if GetSpellAbilityId() == 'A10R' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call UWE()
        else
            call UUE()
        endif
    elseif GetUnitTypeId(GetTriggerUnit()) == 'UC42' then
        call UYE()
    endif
    return false
endfunction
function CZ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function UZE))
    set t = null
endfunction
function UAE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    call UnitRemoveAbility(Z77, 'A1OL')
    call UnitRemoveAbility(Z77, 'A1ON')
    call UnitRemoveAbility(Z77, 'A1OO')
    call UnitRemoveAbility(Z77, 'A1OM')
    call UnitRemoveAbility(Z77, 'B04J')
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function UBE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1OP')
    if ML8 == 1 then
        call O68(Z77, 'A1OL')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1OL', false)
    elseif ML8 == 2 then
        call O68(Z77, 'A1ON')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1ON', false)
    elseif ML8 == 3 then
        call O68(Z77, 'A1OO')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1OO', false)
    elseif ML8 == 4 then
        call O68(Z77, 'A1OM')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1OM', false)
    endif
    call TriggerRegisterTimerEvent(t, 8 + 2 * ML8, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function UAE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set Z77 = null
    set t = null
endfunction
function UCE takes nothing returns boolean
    if GetSpellAbilityId() == 'A1OP' then
        call UBE()
    endif
    return false
endfunction
function CA8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UCE))
    set t = null
endfunction
function ATR4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    if Z47(p5, target) > 900 or O18(p5) == true then
        set C77 = C77 + 1
        call SaveInteger(R8, (EC8), (34), (C77))
    endif
    if C77 > 16 * 10 then
        call UnitRemoveAbility(target, 'BNdo')
        call UnitRemoveAbility(target, 'B0HM')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetUnitAbilityLevel(target, 'BNdo') == 0 and GetUnitAbilityLevel(target, 'B0HM') == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function U3E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A0MU')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(p5, 'A0A2')
    endif
    if GetUnitAbilityLevel(target, 'BNdo') == 0 and GetUnitAbilityLevel(target, 'B0HM') == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call V08(p5, target, 7, 5 + 15 * TA8)
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function U6E takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function U3E))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    if GetSpellAbilityId() == 'A0A2' then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call UnitRemoveBuffs(target, true, false)
        call TriggerRegisterTimerEvent(t, 0.1, true)
        call TriggerAddCondition(t, Condition(function ATR4))
        call SaveUnitHandle(R8, (EC8), (2), (p5))
        call SaveUnitHandle(R8, (EC8), (17), (target))
        call SaveInteger(R8, (EC8), (34), (0))
    endif
    set p5 = null
    set target = null
    set t = null
endfunction
function ULE takes nothing returns boolean
    local unit u = GetSpellTargetUnit()
    if GetSpellAbilityId() == 'A0MU' or GetSpellAbilityId() == 'A0A2' then
        if OE8(u) == false then
            call U6E()
        endif
    endif
    set u = null
    return false
endfunction
function CB8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ULE))
    set t = null
endfunction
function U1E takes nothing returns boolean
    local real x
    local real y
    if(IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and(GetUnitAbilityLevel((GetFilterUnit()), 'Bcyc') > 0) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))then
        set x = A2 + GetRandomReal(20, 70) * Cos(GetUnitFacing(GetTriggerUnit()) * bj_DEGTORAD)
        set y = N2 + GetRandomReal(20, 70) * Sin(GetUnitFacing(GetTriggerUnit()) * bj_DEGTORAD)
        call SetUnitPosition(GetFilterUnit(), x, y)
    endif
    return false
endfunction
function U0E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A29L')
    set A2 = GetUnitX(Z77) + 100 * Cos(GetUnitFacing(Z77) * bj_DEGTORAD)
    set N2 = GetUnitY(Z77) + 100 * Sin(GetUnitFacing(Z77) * bj_DEGTORAD)
    call GroupEnumUnitsInRange(g, x, y, 410 + 24, Condition(function U1E))
    call OF8(g)
    call O68(AC7, 'A06F')
    call SetUnitAbilityLevel(AC7, 'A06F', ML8)
    call IssueImmediateOrderById(AC7, 852127)
    set Z77 = null
    set AC7 = null
    set g = null
endfunction
function U5E takes nothing returns boolean
    if GetSpellAbilityId() == 'A29L' then
        call U0E()
    endif
    return false
endfunction
function CC8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U5E))
    set t = null
endfunction
function U2E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer NZ8 = GetHandleId(t)
    local unit V5D = (LoadUnitHandle(R8, (NZ8), (17)))
    if GetUnitAbilityLevel(V5D, 'B00U') == 0 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(V5D, 'A1PZ')
        call UnitRemoveAbility(V5D, 'A2ZA')
        call UnitRemoveAbility(V5D, 'A1PI')
        call UnitRemoveAbility(V5D, 'A2ZB')
        call UnitRemoveAbility(V5D, 'A1PY')
        call UnitRemoveAbility(V5D, 'A2ZC')
        call UnitRemoveAbility(V5D, 'A1PX')
        call UnitRemoveAbility(V5D, 'A2ZD')
        call FlushChildHashtable(R8, NZ8)
        call EA8(t)
    endif
    set t = null
    set V5D = null
    return false
endfunction
function U_E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    local unit W8D = GetTriggerUnit()
    local unit V5D = GetSpellTargetUnit()
    local integer ZK7 = GetUnitAbilityLevel(W8D, 'A037')
    local integer V4E
    local integer V5E
    if ZK7 == 1 then
        set V4E = 'A1PZ'
        set V5E = 'A2ZA'
    elseif ZK7 == 2 then
        set V4E = 'A1PI'
        set V5E = 'A2ZB'
    elseif ZK7 == 3 then
        set V4E = 'A1PY'
        set V5E = 'A2ZC'
    elseif ZK7 == 4 then
        set V4E = 'A1PX'
        set V5E = 'A2ZD'
    endif
    call UnitRemoveAbility(V5D, 'A3IQ')
    call UnitRemoveAbility(V5D, 'A3IR')
    call O68(V5D, V4E)
    call O68(V5D, V5E)
    call BlzUnitHideAbility(V5D, V4E, true)
    call BlzUnitHideAbility(V5D, V5E, true)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerRegisterUnitEvent(t, V5D, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function U2E))
    call SaveUnitHandle(R8, (NZ8), (17), (V5D))
    set t = null
    set W8D = null
    set V5D = null
endfunction
function V7E takes nothing returns boolean
    if GetSpellAbilityId() == 'A037' then
        call U_E()
    endif
    return false
endfunction
function EmpowerAuraRemove takes nothing returns nothing
    call UnitRemoveAbility(GetEnumUnit(), 'A3IQ')
    call UnitRemoveAbility(GetEnumUnit(), 'A3IR')
endfunction
function EmpowerAuraGrant takes nothing returns nothing
    local unit u = GetEnumUnit()
    local ability a
    if GetUnitAbilityLevel(u, 'B00U') == 0 then
        if GetUnitAbilityLevel(u, 'A3IQ') == 0 then
            call O68(u, 'A3IQ')
            call BlzUnitHideAbility(u, 'A3IQ', true)
        endif
        if GetUnitAbilityLevel(u, 'A3IR') == 0 then
            call O68(u, 'A3IR')
            call BlzUnitHideAbility(u, 'A3IR', true)
        endif
        set a = BlzGetUnitAbility(u, 'A3IQ')
        call FbSetAbilityRealLevelField(a, ABILITY_RLF_ATTACK_DAMAGE_INCREASE_CAC1, 1, RMaxBJ(.1 + .1 * HB4, FbGetAbilityRealLevelField(a, ABILITY_RLF_ATTACK_DAMAGE_INCREASE_CAC1, 1)))
        set a = BlzGetUnitAbility(u, 'A3IR')
        if IsUnitType(u, UNIT_TYPE_RANGED_ATTACKER) then
            call FbSetAbilityRealLevelField(a, ABILITY_RLF_DISTRIBUTED_DAMAGE_FACTOR_NCA1, 1, RMaxBJ(.05 + .05 * HB4, FbGetAbilityRealLevelField(a, ABILITY_RLF_DISTRIBUTED_DAMAGE_FACTOR_NCA1, 1)))
        else
            call FbSetAbilityRealLevelField(a, ABILITY_RLF_DISTRIBUTED_DAMAGE_FACTOR_NCA1, 1, RMaxBJ(.1 + .1 * HB4, FbGetAbilityRealLevelField(a, ABILITY_RLF_DISTRIBUTED_DAMAGE_FACTOR_NCA1, 1)))
        endif
    else
        call EmpowerAuraRemove()
    endif
    set u = null
    set a = null
endfunction
function EmpowerAura takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group XIE = (LoadGroupHandle(R8, (W57), (340)))
    local group g
    if Z77 == null then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call ForGroup(XIE, function EmpowerAuraRemove)
        call OF8(XIE)
        return false
    endif
    set H04 = Z77
    set HB4 = GetUnitAbilityLevel(Z77, 'A037')
    if O18(Z77) == false and IsBroken(Z77) == false and (AV7(Z77, BU[AZMM]) != null or GetUnitAbilityLevel(Z77, 'A3E7') > 0) then
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 925, Condition(function GenericCondition_AllyUnitsExHeroes))
        call BlzGroupRemoveGroupFast(g, XIE)
        call ForGroup(XIE, function EmpowerAuraRemove)
        call ForGroup(g, function EmpowerAuraGrant)
        call SaveGroupHandle(R8, (W57), (340), (g))
        call OF8(XIE)
        if GetUnitAbilityLevel(Z77, 'A3IP') == 0 then
            call O68(Z77, 'A3IP')
            call BlzUnitHideAbility(Z77, 'A3IP', true)
        endif
    else
        if GetUnitAbilityLevel(Z77, 'A3IP') > 0 then
            call UnitRemoveAbility(Z77, 'A3IP')
        endif
        call ForGroup(XIE, function EmpowerAuraRemove)
        call GroupClear(XIE)
    endif
    set t = null
    set Z77 = null
    set XIE = null
    set g = null
    return false
endfunction
function EmpowerAuraRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .6, true)
    call TriggerAddCondition(t, Condition(function EmpowerAura))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveGroupHandle(R8, (W57), (340), (OG8()))
    set t = null
    set Z77 = null
endfunction
function EmpowerAuraAction takes nothing returns nothing
    if GetLearnedSkill() == 'A037' and GetUnitAbilityLevel(GetTriggerUnit(), 'A037') == 1 then
        call EmpowerAuraRegister()
    endif
endfunction
function C38 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V7E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddAction(t, function EmpowerAuraAction)
    set t = null
endfunction
function V8E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer NZ8 = GetHandleId(t)
    local unit V5D = (LoadUnitHandle(R8, (NZ8), (17)))
    call UnitRemoveAbility(V5D, 'A1Q5')
    call UnitRemoveAbility(V5D, 'B0CX')
    call FlushChildHashtable(R8, NZ8)
    call EA8(t)
    set t = null
    set V5D = null
    return false
endfunction
function V9E takes unit W8D, unit V5D, integer ZK7 returns nothing
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    call SetUnitPathing(V5D, true)
    call TriggerRegisterTimerEvent(t, 2.25 + .25 * ZK7, false)
    call TriggerRegisterUnitEvent(t, V5D, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function V8E))
    call SaveUnitHandle(R8, (NZ8), (17), (V5D))
    call O68(V5D, 'A1Q5')
    call SetUnitAbilityLevel(V5D, 'A1Q5', ZK7)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl", V5D, "chest"))
    call V08(W8D, V5D, AB4, 70 * ZK7)
    set t = null
endfunction
function VDE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer NZ8 = GetHandleId(t)
    local unit W8D = (LoadUnitHandle(R8, (NZ8), (2)))
    local unit VEE = (LoadUnitHandle(R8, (NZ8), (393)))
    local unit VFE = (LoadUnitHandle(R8, (NZ8), (394)))
    local unit VGE = (LoadUnitHandle(R8, (NZ8), (395)))
    local unit VHE = (LoadUnitHandle(R8, (NZ8), (396)))
    local unit ARB4 = (LoadUnitHandle(R8, (NZ8), (397)))
    local unit ARC4 = (LoadUnitHandle(R8, (NZ8), (398)))
    local unit ARD4 = (LoadUnitHandle(R8, (NZ8), (399)))
    local integer ZK7 = (LoadInteger(R8, (NZ8), (5)))
    local real VIE = (LoadReal(R8, (NZ8), (47)))
    local real VJE = (LoadReal(R8, (NZ8), (48)))
    local real VKE = (LoadReal(R8, (NZ8), (13)))
    local real VME = (LoadReal(R8, (NZ8), (6)))
    local real VNE = (LoadReal(R8, (NZ8), (7)))
    local real VOE = PR8(VME + 19 * Cos(VKE))
    local real VPE = PT8(VNE + 19 * Sin(VKE))
    local group g
    local integer VQE = (LoadInteger(R8, (NZ8), (12)))
    local location l
    call SetUnitPosition(W8D, VOE, VPE)
    call SetUnitFacing(W8D, VKE * bj_RADTODEG)
    call SaveReal(R8, (NZ8), (6), (VOE))
    call SaveReal(R8, (NZ8), (7), (VPE))
    if ModuloInteger(GetTriggerEvalCount(t), 4) == 0 then
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", VOE, VPE))
    endif
    if GetTriggerEvalCount(t) == 2 then
        call SetUnitAnimationByIndex(W8D, 3)
    endif
    if VEE == null or VFE == null or VGE == null or VHE == null or ARB4 == null or ARC4 == null or ARD4 == null then
        set H04 = W8D
        set g = OG8()
        call GroupEnumUnitsInRange(g, VOE, VPE, 125 + 25, Condition(function GenericCondition_EnemyHeroesExNoImmune))
        if FirstOfGroup(g) != null then
            if VEE != null then
                call GroupRemoveUnit(g, VEE)
            endif
            if VFE != null then
                call GroupRemoveUnit(g, VFE)
            endif
            if VGE != null then
                call GroupRemoveUnit(g, VGE)
            endif
            if ARB4 != null then
                call GroupRemoveUnit(g, ARB4)
            endif
            if ARC4 != null then
                call GroupRemoveUnit(g, ARC4)
            endif
            if ARD4 != null then
                call GroupRemoveUnit(g, ARD4)
            endif
            if FirstOfGroup(g) != null then
                if VEE == null then
                    set VEE = FirstOfGroup(g)
                    call SetUnitPathing(VEE, false)
                    call ASCI(VEE, 4404, 5)
                elseif VFE == null then
                    set VFE = FirstOfGroup(g)
                    call SetUnitPathing(VFE, false)
                    call ASCI(VFE, 4404, 5)
                elseif VGE == null then
                    set VGE = FirstOfGroup(g)
                    call SetUnitPathing(VGE, false)
                    call ASCI(VGE, 4404, 5)
                elseif VHE == null then
                    set VHE = FirstOfGroup(g)
                    call SetUnitPathing(VHE, false)
                    call ASCI(VHE, 4404, 5)
                elseif ARB4 == null then
                    set ARB4 = FirstOfGroup(g)
                    call SetUnitPathing(ARB4, false)
                    call ASCI(ARB4, 4404, 5)
                elseif ARC4 == null then
                    set ARC4 = FirstOfGroup(g)
                    call SetUnitPathing(ARC4, false)
                    call ASCI(ARC4, 4404, 5)
                elseif ARD4 == null then
                    set ARD4 = FirstOfGroup(g)
                    call SetUnitPathing(ARD4, false)
                    call ASCI(ARD4, 4404, 5)
                endif
            endif
        endif
        call OF8(g)
        set g = null
    endif
    call SaveUnitHandle(R8, (NZ8), (393), (VEE))
    call SaveUnitHandle(R8, (NZ8), (394), (VFE))
    call SaveUnitHandle(R8, (NZ8), (395), (VGE))
    call SaveUnitHandle(R8, (NZ8), (396), (VHE))
    call SaveUnitHandle(R8, (NZ8), (397), (ARB4))
    call SaveUnitHandle(R8, (NZ8), (398), (ARC4))
    call SaveUnitHandle(R8, (NZ8), (399), (ARD4))
    if VEE != null then
        call SetUnitPosition(VEE, VOE, VPE)
    endif
    if VFE != null then
        call SetUnitPosition(VFE, VOE, VPE)
    endif
    if VGE != null then
        call SetUnitPosition(VGE, VOE, VPE)
    endif
    if VHE != null then
        call SetUnitPosition(VHE, VOE, VPE)
    endif
    if ARB4 != null then
        call SetUnitPosition(ARB4, VOE, VPE)
    endif
    if ARC4 != null then
        call SetUnitPosition(ARC4, VOE, VPE)
    endif
    if ARD4 != null then
        call SetUnitPosition(ARD4, VOE, VPE)
    endif
    if ModuloInteger(GetTriggerEvalCount(t), 3) == 0 then
        call SC8(VOE, VPE, 200)
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > VQE then
        call DestroyEffect((LoadEffectHandle(R8, (NZ8), (175))))
        call SetUnitAnimationByIndex(W8D, 0)
        call SetUnitTimeScale(W8D, 1.)
        call SetUnitPathing(W8D, true)
        call FlushChildHashtable(R8, NZ8)
        call EA8(t)
        if VEE != null then
            if IsPointInRegion(IF4, GetUnitX(VEE), GetUnitY(VEE)) then
                set l = T89(GetUnitX(VEE), GetUnitY(VEE))
                call SetUnitX(VEE, PR8(GetLocationX(l)))
                call SetUnitY(VEE, PT8(GetLocationY(l)))
                call RemoveLocation(l)
                set l = null
            endif
            call V9E(W8D, VEE, ZK7)
            call SC8(GetUnitX(VEE), GetUnitY(VEE), 300)
        endif
        if VFE != null then
            if IsPointInRegion(IF4, GetUnitX(VFE), GetUnitY(VFE)) then
                set l = T89(GetUnitX(VFE), GetUnitY(VFE))
                call SetUnitX(VFE, PR8(GetLocationX(l)))
                call SetUnitY(VFE, PT8(GetLocationY(l)))
                call RemoveLocation(l)
                set l = null
            endif
            call V9E(W8D, VFE, ZK7)
            call SC8(GetUnitX(VFE), GetUnitY(VFE), 300)
        endif
        if VGE != null then
            if IsPointInRegion(IF4, GetUnitX(VGE), GetUnitY(VGE)) then
                set l = T89(GetUnitX(VGE), GetUnitY(VGE))
                call SetUnitX(VGE, PR8(GetLocationX(l)))
                call SetUnitY(VGE, PT8(GetLocationY(l)))
                call RemoveLocation(l)
                set l = null
            endif
            call V9E(W8D, VGE, ZK7)
            call SC8(GetUnitX(VGE), GetUnitY(VGE), 300)
        endif
        if VHE != null then
            if IsPointInRegion(IF4, GetUnitX(VHE), GetUnitY(VHE)) then
                set l = T89(GetUnitX(VHE), GetUnitY(VHE))
                call SetUnitX(VHE, PR8(GetLocationX(l)))
                call SetUnitY(VHE, PT8(GetLocationY(l)))
                call RemoveLocation(l)
                set l = null
            endif
            call V9E(W8D, VHE, ZK7)
            call SC8(GetUnitX(VHE), GetUnitY(VHE), 300)
        endif
        if ARB4 != null then
            if IsPointInRegion(IF4, GetUnitX(ARB4), GetUnitY(ARB4)) then
                set l = T89(GetUnitX(ARB4), GetUnitY(ARB4))
                call SetUnitX(ARB4, PR8(GetLocationX(l)))
                call SetUnitY(ARB4, PT8(GetLocationY(l)))
                call RemoveLocation(l)
                set l = null
            endif
            call V9E(W8D, ARB4, ZK7)
            call SC8(GetUnitX(ARB4), GetUnitY(ARB4), 300)
        endif
        if ARC4 != null then
            if IsPointInRegion(IF4, GetUnitX(ARC4), GetUnitY(ARC4)) then
                set l = T89(GetUnitX(ARC4), GetUnitY(ARC4))
                call SetUnitX(ARC4, PR8(GetLocationX(l)))
                call SetUnitY(ARC4, PT8(GetLocationY(l)))
                call RemoveLocation(l)
                set l = null
            endif
            call V9E(W8D, ARC4, ZK7)
            call SC8(GetUnitX(ARC4), GetUnitY(ARC4), 300)
        endif
        if ARD4 != null then
            if IsPointInRegion(IF4, GetUnitX(ARD4), GetUnitY(ARD4)) then
                set l = T89(GetUnitX(ARD4), GetUnitY(ARD4))
                call SetUnitX(ARD4, PR8(GetLocationX(l)))
                call SetUnitY(ARD4, PT8(GetLocationY(l)))
                call RemoveLocation(l)
                set l = null
            endif
            call V9E(W8D, ARD4, ZK7)
            call SC8(GetUnitX(ARD4), GetUnitY(ARD4), 300)
        endif
        if VEE != null and O18(VEE) == false then
            call IssueTargetOrderById(W8D, 851983, VEE)
        elseif VFE != null and O18(VFE) == false then
            call IssueTargetOrderById(W8D, 851983, VFE)
        elseif VGE != null and O18(VGE) == false then
            call IssueTargetOrderById(W8D, 851983, VGE)
        elseif VHE != null and O18(VHE) == false then
            call IssueTargetOrderById(W8D, 851983, VHE)
        elseif ARB4 != null and O18(ARB4) == false then
            call IssueTargetOrderById(W8D, 851983, ARB4)
        elseif ARC4 != null and O18(ARC4) == false then
            call IssueTargetOrderById(W8D, 851983, ARC4)
        elseif ARD4 != null and O18(ARD4) == false then
            call IssueTargetOrderById(W8D, 851983, ARD4)
        endif
        call SC8(VOE, VPE, 375)
        if IsPointInRegion(IF4, GetUnitX(W8D), GetUnitY(W8D)) then
            set l = T89(GetUnitX(W8D), GetUnitY(W8D))
            call SetUnitX(W8D, PR8(GetLocationX(l)))
            call SetUnitY(W8D, PT8(GetLocationY(l)))
            call RemoveLocation(l)
            set l = null
        endif
    endif
    set t = null
    set W8D = null
    set VEE = null
    set VFE = null
    set VGE = null
    set VHE = null
    set ARB4 = null
    set ARC4 = null
    set ARD4 = null
    return false
endfunction
function VRE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    local real VIE = PR8(GetSpellTargetX())
    local real VJE = PT8(GetSpellTargetY())
    local unit W8D = GetTriggerUnit()
    local real MME = GetUnitX(W8D)
    local real VSE = GetUnitY(W8D)
    local integer ZK7 = GetUnitAbilityLevel(W8D, 'A1RD')
    local real a = YI7(MME, VSE, VIE, VJE) * bj_DEGTORAD
    local real LW7 = 800 + 100 * ZK7 + 25
    if Z87(MME, VSE, VIE, VJE) > LW7 then
        set VIE = PR8(MME + LW7 * Cos(a))
        set VJE = PT8(VSE + LW7 * Sin(a))
    endif
    call SetUnitPathing(W8D, false)
    call SetUnitAnimationByIndex(W8D, 3)
    call SetUnitTimeScale(W8D, 1.5)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, W8D, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function VDE))
    call SaveUnitHandle(R8, (NZ8), (2), (W8D))
    call SaveInteger(R8, (NZ8), (5), (ZK7))
    call SaveUnitHandle(R8, (NZ8), (393), (null))
    call SaveUnitHandle(R8, (NZ8), (394), (null))
    call SaveUnitHandle(R8, (NZ8), (395), (null))
    call SaveUnitHandle(R8, (NZ8), (396), (null))
    call SaveUnitHandle(R8, (NZ8), (397), (null))
    call SaveUnitHandle(R8, (NZ8), (398), (null))
    call SaveUnitHandle(R8, (NZ8), (399), (null))
    call SaveReal(R8, (NZ8), (47), (VIE))
    call SaveReal(R8, (NZ8), (48), (VJE))
    call SaveReal(R8, (NZ8), (6), (MME))
    call SaveReal(R8, (NZ8), (7), (VSE))
    call SaveReal(R8, (NZ8), (13), (Atan2(VJE - VSE, VIE - MME)))
    call SaveInteger(R8, (NZ8), (12), (R2I(Z87(MME, VSE, VIE, VJE) / 19.)))
    call SaveEffectHandle(R8, (NZ8), (175), (AddSpecialEffectTarget("war3mapImported\\SkewerTuskGlow_1.mdx", W8D, "head")))
    set t = null
    set W8D = null
endfunction
function VTE takes nothing returns boolean
    if GetSpellAbilityId() == 'A1RD' then
        call VRE()
    endif
    return false
endfunction
function VUE takes nothing returns boolean
    if GetSpellAbilityId() == 'A1RD' then
        call SetUnitAnimationByIndex(GetTriggerUnit(), 7)
    endif
    return false
endfunction
function C68 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VTE))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function VUE))
    set t = null
endfunction
function VVE takes nothing returns boolean
    if GetSpellAbilityId() == 'A1C0' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1ET', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1ES', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1EQ', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1ER', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A23F', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A2WL', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A2WK', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A2WJ', false)
    endif
    return false
endfunction
function CL8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VVE))
    set t = null
endfunction
function VWE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2LB')
    call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + .1 * (20 + GetUnitState(X77, UNIT_STATE_MAX_LIFE) * (.02 + .01 * ML8)))
    if GetTriggerEvalCount(t) > 39 or(GetTriggerEvalCount(t) == 1 and IsUnitHidden(X77))then
        call UnitRemoveAbility(X77, 'A2LD')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (609))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (610))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (611))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (612))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (613))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (614))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (615))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (616))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (617))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function VXE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t
    local integer W57
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    call UnitAddAbility(AC7, 'A2LG')
    if IssueTargetOrderById(AC7, 852095, X77) then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call O68(X77, 'A2LD')
        call TriggerRegisterTimerEvent(t, .1, true)
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function VWE))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveEffectHandle(R8, (W57), (609), (AddSpecialEffectTarget(K67, X77, "hand right")))
        call SaveEffectHandle(R8, (W57), (610), (AddSpecialEffectTarget(K67, X77, "hand left")))
        call SaveEffectHandle(R8, (W57), (611), (AddSpecialEffectTarget(K67, X77, "foot right")))
        call SaveEffectHandle(R8, (W57), (612), (AddSpecialEffectTarget(K67, X77, "foot left")))
        call SaveEffectHandle(R8, (W57), (613), (AddSpecialEffectTarget(K67, X77, "foot right mount rear")))
        call SaveEffectHandle(R8, (W57), (614), (AddSpecialEffectTarget(K67, X77, "foot left mount rear")))
        call SaveEffectHandle(R8, (W57), (615), (AddSpecialEffectTarget(K67, X77, "head")))
        call SaveEffectHandle(R8, (W57), (616), (AddSpecialEffectTarget(K67, X77, "chest")))
        call SaveEffectHandle(R8, (W57), (617), (AddSpecialEffectTarget(K67, X77, "weapon")))
    endif
    set Z77 = null
    set X77 = null
    set AC7 = null
    set t = null
endfunction
function VYE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2LB' then
        call VXE()
    endif
    return false
endfunction
function IK9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VYE))
    set t = null
endfunction
function VZE takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    call DisableTrigger(K07)
    call UnitWakeUp(X77)
    call IssueTargetOrderById(X77, 851983, K57)
    call EnableTrigger(K07)
    set X77 = null
endfunction
function VAE takes nothing returns nothing
    call ASCI(GetEnumUnit(), 4328, .75)
    call UnitRemoveAbility(GetEnumUnit(), 'A38P')
    call UnitRemoveAbility(GetEnumUnit(), 'B38P')
endfunction
function VBE takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    if IsUnitInGroup(X77, K17) == false then
        call GroupAddUnit(K17, X77)
        call TriggerRegisterUnitEvent(K07, X77, EVENT_UNIT_ISSUED_TARGET_ORDER)
        call TriggerRegisterUnitEvent(K07, X77, EVENT_UNIT_ISSUED_POINT_ORDER)
        call TriggerRegisterUnitEvent(K07, X77, EVENT_UNIT_ISSUED_TARGET_ORDER)
        call TriggerRegisterUnitEvent(K07, X77, EVENT_UNIT_DAMAGED)
        call SaveInteger(R8, (GetHandleId(X77)), ((4328)), (1))
        call UnitAddAbility(X77, 'A38P')
    endif
    set X77 = null
endfunction
function VCE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local group XCD = (LoadGroupHandle(R8, (W57), (22)))
    local group g
    if GetTriggerEventId() != EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId() != EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId() != EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        set K17 = XCD
        set K07 = t
        set g = OG8()
        set H04 = Z77
        call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 500 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmune))
        call GroupRemoveUnit(g, X77)
        call ForGroup(g, function VBE)
        call OF8(g)
        set g = null
        if C77 == (2.5 + .75 * ML8) * 20 or O18(X77)then
            call ForGroup(XCD, function VAE)
            call OF8(XCD)
            call DestroyEffect(LoadEffectHandle(R8, (W57), (32)))
            call DestroyEffect(LoadEffectHandle(R8, (W57), (176)))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            set XCD = null
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) then
            call BlzSetEventDamage(0.)
        else
            set K07 = t
            set K57 = X77
            call ForGroup(XCD, function VZE)
            if ModuloInteger(C77, 20) == 0 or C77 == 0 then
            endif
        endif
    else
        if UnitIsSleeping(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'B008') == 0 and GetIssuedOrderId() != 851973 and HL7 == false then
            call DisableTrigger(t)
            call ClearSelectionForPlayer(GetOwningPlayer(GetTriggerUnit()))
            call IssueTargetOrderById(GetTriggerUnit(), 851983, X77)
            call EnableTrigger(t)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function V3E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0Z0')
    local unit X77 = GetSpellTargetUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local effect fx = AddSpecialEffect("war3mapImported\\WintersCurseAoE.mdx", GetUnitX(X77), GetUnitY(X77))
    call BlzSetSpecialEffectScale(fx, 500. / 350.)
    call UnitAddAbility(AC7, 'A2NJ')
    call SetUnitAbilityLevel(AC7, 'A2NJ', ML8)
    call IssueTargetOrderById(AC7, 852095, X77)
    set K27 = Z77
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveGroupHandle(R8, (W57), (22), (OG8()))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\WintersCurse.mdx", X77, "overhead")))
    call SaveEffectHandle(R8, (W57), (176), (fx))
    call TriggerAddCondition(t, Condition(function VCE))
    set Z77 = null
    set X77 = null
    set AC7 = null
    set fx = null
    set t = null
endfunction
function V6E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0Z0' and OE8(GetSpellTargetUnit()) == false then
        call V3E()
    endif
    return false
endfunction
function IM9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V6E))
    set t = null
endfunction
function VLE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2N3')
    call V08(Z77, X77, A34, (.032 + .002 * ML8) * GetUnitState(X77, UNIT_STATE_MAX_LIFE))
    if(TimerGetElapsed(E4)) >= (LoadReal(R8, (GetHandleId(Z77)), (782)))then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function V1E takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) * .8)
    if(LoadReal(R8, (GetHandleId(Z77)), (782))) > (TimerGetElapsed(E4))then
        call SaveReal(R8, (GetHandleId(Z77)), (782), ((TimerGetElapsed(E4)) + MD7))
    else
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function VLE))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx", X77, "chest")))
        call SaveReal(R8, (GetHandleId(Z77)), (782), ((TimerGetElapsed(E4)) + MD7))
    endif
    set t = null
endfunction
function V0E takes nothing returns boolean
    local real d
    local real U89
    local integer C77
    local unit Z77
    local unit X77
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B0G7') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A2N3') > 0 and(LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2))) == GetEventDamageSource()then
        call UnitRemoveAbility(GetTriggerUnit(), 'B0G7')
        set Z77 = GetEventDamageSource()
        set X77 = GetTriggerUnit()
        set C77 = (LoadInteger(R8, (GetHandleId(Z77)), (780)))
        set U89 = (LoadReal(R8, (GetHandleId(Z77)), (781)))
        if U89 + MD7 < (TimerGetElapsed(E4))then
            set C77 = 1
            set U89 = (TimerGetElapsed(E4))
            call SaveInteger(R8, (GetHandleId(Z77)), (780), (C77))
            call SaveReal(R8, (GetHandleId(Z77)), (781), (U89))
        else
            set C77 = C77 + 1
            set U89 = (TimerGetElapsed(E4))
            call SaveInteger(R8, (GetHandleId(Z77)), (780), (C77))
            call SaveReal(R8, (GetHandleId(Z77)), (781), (U89))
        endif
        if C77 == 4 then
            set C77 = 0
            call SaveInteger(R8, (GetHandleId(Z77)), (780), (C77))
            call V1E(Z77, X77)
        endif
        set Z77 = null
        set X77 = null
    endif
    return false
endfunction
function V_E takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function V0E))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
    set t = null
endfunction
function W4E takes nothing returns boolean
    if GetLearnedSkill() == 'A2N3' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A2N3') == 1 then
        call V_E()
    endif
    return false
endfunction
function IP9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function W4E))
    set t = null
endfunction
function W7E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call KillUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        set t = null
        set Z77 = null
        set AC7 = null
        return false
    endif
    if O18(Z77) == false then
        call SetUnitX(AC7, GetUnitX(Z77))
        call SetUnitY(AC7, GetUnitY(Z77))
    else
        if IsUnitAlly(AC7, G8[0]) then
            call SetUnitX(AC7, IK4)
            call SetUnitY(AC7, IM4)
        else
            call SetUnitX(AC7, JQ4)
            call SetUnitY(AC7, JR4)
        endif
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function W8E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if O18(X77) == false then
        call V08(Z77, X77, 1, GetUnitState(X77, UNIT_STATE_MAX_LIFE) * .08)
    endif
    if GetTriggerEvalCount(t) == 5 then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function W9E takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    local integer ML8
    local integer WDE
    local integer WEE
    if((LoadInteger(R8, (GetHandleId((X77))), ((4329)))) == 1) == false and GetUnitTypeId(X77) != 'n00L' then
        call ASCI(X77, 4329, MP7)
        set ML8 = GetUnitAbilityLevel(Z77, 'A2NE')
        if ML8 == 1 then
            set WDE = MF7
            set WEE = MG7
        elseif ML8 == 2 then
            set WDE = MH7
            set WEE = MI7
        elseif ML8 == 3 then
            set WDE = MJ7
            set WEE = MK7
        elseif ML8 == 4 then
            set WDE = MM7
            set WEE = MN7
        endif
        call T68(X77, WDE, 1, 5, MO7)
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), WDE, false)
        call UnitMakeAbilityPermanent(X77, true, WEE)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function W8E))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostDamage\\FrostDamage.mdl", X77, "chest")))
    endif
    set t = null
endfunction
function WGE takes nothing returns nothing
    local unit X77 = GetTriggerUnit()
    local unit Z77 = GetEventDamageSource()
    call W9E(Z77, X77)
    set X77 = null
    set Z77 = null
endfunction
function WHE takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        if IsNormalAttackHero() and GetEventDamageSource() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2)))and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitAlly(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) == false then
            if GetUnitTypeId(GetEventDamageSource()) == 'N0MB' or GetUnitTypeId(GetEventDamageSource()) == 'N0MC' or GetUnitTypeId(GetEventDamageSource()) == 'N0MO' or GetUnitTypeId(GetEventDamageSource()) == 'N0MA' then
                call WGE()
            endif
        endif
    else
        call W7E()
    endif
    return false
endfunction
function WIE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'o01Y', GetUnitX(Z77), GetUnitY(Z77), 0)
    if IsUnitIllusion(Z77) == false then
        call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    else
        call TriggerRegisterDeathEvent(t, Z77)
    endif
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function WHE))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (Z77))
    call SaveUnitHandle(R8, (GetHandleId(t)), (19), (AC7))
    set Z77 = null
    set AC7 = null
    set t = null
endfunction
function WJE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    call SetTerrainPathable(x, y, PATHING_TYPE_WALKABILITY, false)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    return false
endfunction
function WKE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    call SetTerrainPathable(x, y, PATHING_TYPE_WALKABILITY, true)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function WJE))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    set Z77 = null
    set t = null
endfunction
function WME takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_HERO_SKILL then
        if GetLearnedSkill() == 'A2NE' and GetUnitAbilityLevel(GetTriggerUnit(), 'A2NE') == 1 then
            call WIE()
        endif
    else
        if GetSpellAbilityId() == 'A2NE' then
            if GetUnitTypeId(GetTriggerUnit()) != 'N0M7' then
                call SC8(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 150)
                if IsTerrainPathable(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), PATHING_TYPE_WALKABILITY)then
                    call WKE()
                endif
            endif
        endif
    endif
    return false
endfunction
function ArcticSiegeDebug takes nothing returns nothing
    if GetSpellAbilityId() == 'A2NE' then
        call MUTransformDebug(GetTriggerUnit(), 'AU01', 6)
    endif
endfunction
function IQ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WME))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function ArcticSiegeDebug))
    set t = null
endfunction
function WNE takes nothing returns nothing
    call QG8("war3mapImported\\FortunesEndTarget.mdx", GetEnumUnit(), "origin", 3)
    call IssueTargetOrderById(M17, 852111, GetEnumUnit())
    if M57 != null and GetUnitAbilityLevel(GetEnumUnit(), 'A2T4') > 0 then
        call TriggerEvaluate(M57)
    endif
    call V08(ML7, GetEnumUnit(), AB4, 60 + 30 * M07)
endfunction
function WOE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = (LoadUnitHandle(R8, (GetHandleId(Z77)), (796)))
    local real WPE = RMinBJ((TimerGetElapsed(E4)) - (LoadReal(R8, (GetHandleId(Z77)), (358))), 3)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2QT')
    local integer WQE = R2I(2. * WPE)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
    local unit WRE
    local group g
    if X77 != null then
        set WRE = CreateUnit(GetOwningPlayer(Z77), 'o00Z', GetUnitX(X77), GetUnitY(X77), 0)
        call UnitApplyTimedLife(WRE, 'BTLF', .5)
        call UnitAddAbility(AC7, 'A2T2')
        call SetUnitAbilityLevel(AC7, 'A2T2', WQE)
        set H04 = Z77
        set ML7 = Z77
        set M17 = AC7
        set M07 = ML8
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 300 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g, function WNE)
        call OF8(g)
    endif
    set Z77 = null
    set X77 = null
    set AC7 = null
    set WRE = null
    set g = null
endfunction
function WSE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call SaveReal(R8, (GetHandleId(AM7)), (356), (GetUnitX(X77)))
        call SaveReal(R8, (GetHandleId(AM7)), (357), (GetUnitY(X77)))
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set AM7 = null
    set X77 = null
    return false
endfunction
function WTE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    call SaveReal(R8, (GetHandleId(AM7)), (358), (TimerGetElapsed(E4)))
    call SaveUnitHandle(R8, (GetHandleId(AM7)), (796), (GetSpellTargetUnit()))
    call DestroyEffect(AddSpecialEffect("war3mapImported\\CleanseTargetArea.mdx", GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit())))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveUnitHandle(R8, (W57), (17), (GetSpellTargetUnit()))
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerRegisterDeathEvent(t, GetSpellTargetUnit())
    call TriggerAddCondition(t, Condition(function WSE))
    set t = null
    set AM7 = null
endfunction
function WUE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2QT' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (360), (false))
            call WTE()
        elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            if OE8(GetSpellTargetUnit()) == false then
                call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (360), (true))
            endif
        elseif(LoadBoolean(R8, (GetHandleId(GetTriggerUnit())), (360))) then
            call WOE()
        endif
    endif
    return false
endfunction
function IL9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_ENDCAST)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WUE))
    set t = null
endfunction
function WVE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
    call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call UI8(X77)
    call UnitRemoveAbility(X77, 'A2T4')
    set M57 = null
    set t = null
    set X77 = null
    return false
endfunction
function WWE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2T5')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    set M57 = t
    call UG8(X77)
    call O68(X77, 'A2T4')
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2T4', false)
    call TriggerRegisterTimerEvent(t, 2.5 + .5 * ML8, false)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function WVE))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\Pacify.mdx", X77, "origin")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl", X77, "overhead")))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function WXE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2T5' then
        if IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == false or OE8(GetSpellTargetUnit()) == false then
            call WWE()
        endif
    endif
    return false
endfunction
function I69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WXE))
    set t = null
endfunction
function WYE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2SG')
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or C77 > 9 then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A2T2' and GetSpellTargetUnit() == X77 then
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + 11 * ML8)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function WZE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2SG')
    local real P08 = ML8 * 90
    local real WAE = .75
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterTimerEvent(t, 1, true)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WYE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\DarkMending.mdx", X77, "origin")))
    if IsUnitType(X77, UNIT_TYPE_HERO) == false then
        set WAE = 1.
    endif
    if GetUnitState(X77, UNIT_STATE_LIFE) <= P08 * WAE and IsUnitAlly(X77, GetOwningPlayer(Z77)) then
        set P08 = GetUnitState(X77, UNIT_STATE_LIFE) / .75 - 10
    endif
    call V08(Z77, X77, 1, P08)
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function WBE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2SG' then
        if IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == false or OE8(GetSpellTargetUnit()) == false then
            call WZE()
        endif
    endif
    return false
endfunction
function I19 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WBE))
    set t = null
endfunction
function WCE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer NKE = (LoadInteger(R8, (W57), (25)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer i = 0
    local real W3E = (LoadReal(R8, (W57), (697)))
    local real W6E = (LoadReal(R8, (W57), (811)))
    local real WLE = GetUnitState(X77, UNIT_STATE_LIFE)
    local real W1E = GetUnitState(X77, UNIT_STATE_MAX_LIFE)
    local real W0E = (LoadReal(R8, (W57), (808)))
    local real W5E
    local real P08
    if NKE > (ML8 + 6) * 50 or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call DisableTrigger(t)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        if GetTriggerEventId() != EVENT_WIDGET_DEATH then
            set W0E = W0E * 2
            loop
                exitwhen i > C77
                set i = i + 1
                set WLE = GetUnitState(X77, UNIT_STATE_LIFE)
                set W5E = RMinBJ(W1E - WLE, W0E)
                call SetUnitState(X77, UNIT_STATE_LIFE, WLE + W5E)
                set W0E = W0E - W5E
                set P08 = (LoadReal(R8, (W57), (20000 + i)))
                if(LoadUnitHandle(R8, (W57), (22000 + i))) == Z77 or((LoadInteger(R8, (GetHandleId(X77)), (2485))) == 1)then
                    if GetUnitState(X77, UNIT_STATE_LIFE) <= P08 + 2 then
                        set P08 = GetUnitState(X77, UNIT_STATE_LIFE) - 2
                    endif
                endif
                call V08((LoadUnitHandle(R8, (W57), (22000 + i))), X77, A14, P08)
            endloop
            set WLE = GetUnitState(X77, UNIT_STATE_LIFE)
            set W5E = RMinBJ(W1E - WLE, W0E)
            call SetUnitState(X77, UNIT_STATE_LIFE, WLE + W5E)
            set W0E = W0E - W5E
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED and W18(GetEventDamage())then
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        call SaveUnitHandle(R8, (W57), (22000 + C77), (GetEventDamageSource()))
        call SaveReal(R8, (W57), (20000 + C77), (GetEventDamage()))
        call P58(X77, GetEventDamage())
    elseif GetTriggerEventId() != EVENT_UNIT_DAMAGED and GetTriggerEventId() != EVENT_WIDGET_DEATH then
        set NKE = NKE + 1
        call SaveInteger(R8, (W57), (25), (NKE))
        if W1E != W6E then
            set W6E = W1E
            set W3E = WLE
            call SaveReal(R8, (W57), (697), (W3E))
            call SaveReal(R8, (W57), (811), (W6E))
        endif
        if WLE > W3E then
            if((LoadInteger(R8, (GetHandleId(X77)), (4298))) == 1) == false then
                set W0E = W0E + WLE - W3E
                call SaveReal(R8, (W57), (808), (W0E))
            else
                call SetUnitState(X77, UNIT_STATE_LIFE, WLE)
            endif
        endif
        call SetUnitState(X77, UNIT_STATE_LIFE, W3E)
    endif
    set t = null
    set X77 = null
    set Z77 = null
    return false
endfunction
function W2E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2TF')
    call UnitRemoveAbility(X77, 'B09Y')
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function WCE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveInteger(R8, (W57), (25), (0))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveReal(R8, (W57), (808), (0.))
    call SaveReal(R8, (W57), (697), (GetUnitState(X77, UNIT_STATE_LIFE)))
    call SaveReal(R8, (W57), (811), (GetUnitState(X77, UNIT_STATE_MAX_LIFE)))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\FalsePromise.mdx", X77, "chest")))
    call TF9(X77)
    call T99(X77, 0, 0)
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function W_E takes nothing returns boolean
    if GetSpellAbilityId() == 'A2TF' then
        call W2E()
    endif
    return false
endfunction
function I09 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W_E))
    set t = null
endfunction
function X4E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real x
    local real y
    local real a
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call KillUnit(S08)
    else
        set a = YI7(GetUnitX(S08), GetUnitY(S08), GetUnitX(X77), GetUnitY(X77))
        set x = GetUnitX(S08) + 20 * Cos(a * bj_DEGTORAD)
        set y = GetUnitY(S08) + 20 * Sin(a * bj_DEGTORAD)
        call SetUnitX(S08, x)
        call SetUnitY(S08, y)
        call SetUnitFacing(S08, a)
        if Z47(S08, X77) < 30 then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call V08(S08, X77, AB4, 100 + 50 * ML8)
            call KillUnit(S08)
            call SetUnitAnimationByIndex(S08, 3)
        endif
    endif
    set t = null
    set X77 = null
    set S08 = null
    return false
endfunction
function X7E takes integer ML8, unit S08, unit X77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SetUnitAnimationByIndex(S08, 2)
    call SetUnitVertexColor(S08, 255, 255, 255, 150)
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function X4E))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SetUnitAnimationByIndex(S08, 2)
    set t = null
endfunction
function X8E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local group g
    local unit X77
    if GetTriggerEvalCount(t) > MS7 / .05 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call KillUnit(S08)
    else
        set H04 = S08
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(S08), GetUnitY(S08), 375 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmune))
        set X77 = GUD(g, GetUnitX(S08), GetUnitY(S08))
        call OF8(g)
        if X77 != null then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call X7E(ML8, S08, X77)
        endif
        set g = null
        set X77 = null
    endif
    set t = null
    set S08 = null
    return false
endfunction
function X9E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerAddCondition(t, Condition(function X8E))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SetUnitAnimationByIndex(S08, 1)
    set t = null
    set S08 = null
    return false
endfunction
function XDE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), MR7, x, y, 270)
    local integer ML8 = GetUnitAbilityLevel(Z77, MQ7)
    call SetUnitAnimationByIndex(S08, 0)
    call TriggerRegisterTimerEvent(t, 3, false)
    call TriggerAddCondition(t, Condition(function X9E))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    set Z77 = null
    set S08 = null
    set t = null
endfunction
function XEE takes nothing returns boolean
    if GetSpellAbilityId() == MQ7 then
        call XDE()
    endif
    return false
endfunction
function IR9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XEE))
    set t = null
endfunction
function XFE takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A2M9') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A2M9')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A2MA') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A2MA')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A2LN') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A2LN')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A2M8') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A2M8')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A2NP') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A2NP')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A2NS') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A2NS')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A2NR') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A2NR')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A2NQ') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A2NQ')
    endif
endfunction
function XGE takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    if M37 == 1 then
        set M67 = 'A2M9'
    elseif M37 == 2 then
        set M67 = 'A2MA'
    elseif M37 == 3 then
        set M67 = 'A2LN'
    elseif M37 == 4 then
        set M67 = 'A2M8'
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), M67) == 0 then
        call O68(GetEnumUnit(), M67)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), M67, false)
        call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'ACes')
        if M67 == 'A2M9' then
            call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'A2M4')
        elseif M67 == 'A2MA' then
            call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'A2M5')
        elseif M67 == 'A2LN' then
            call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'A2M6')
        elseif M67 == 'A2M8' then
            call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'A2M7')
        elseif M67 == 'A2NP' then
            call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'A2NM')
        elseif M67 == 'A2NS' then
            call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'A2NL')
        elseif M67 == 'A2NR' then
            call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'A2NN')
        elseif M67 == 'A2NQ' then
            call UnitMakeAbilityPermanent(GetEnumUnit(), true, 'A2NO')
        endif
    endif
endfunction
function XHE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local real LBD = (LoadReal(R8, (W57), (442)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2LM')
    local group XIE = (LoadGroupHandle(R8, (W57), (340)))
    local group g = OG8()
    local group g1 = OG8()
    local group g2 = OG8()
    set M37 = ML8
    if(TimerGetElapsed(E4)) > LBD then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call ForGroup(XIE, function XFE)
        call OF8(XIE)
        call OF8(g)
        call OF8(g1)
        call OF8(g2)
        return false
    endif
    set H04 = Z77
    call GroupEnumUnitsInRange(g1, x, y, 275 + 25, Condition(function GenericCondition_AllyUnitsExHeroes))
    call GroupEnumUnitsInRange(g2, x, y, 275 + 144, Condition(function VR8))
    call BlzGroupAddGroupFast(g1, g)
    call BlzGroupAddGroupFast(g2, g)
    call OF8(g1)
    call OF8(g2)
    call BlzGroupRemoveGroupFast(g, XIE)
    call ForGroup(XIE, function XFE)
    call ForGroup(g, function XGE)
    call SaveGroupHandle(R8, (W57), (340), (g))
    call OF8(XIE)
    set t = null
    set Z77 = null
    set XIE = null
    set g = null
    set g1 = null
    set g2 = null
    return false
endfunction
function XJE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real BM7 = GetSpellTargetX()
    local real BN7 = GetSpellTargetY()
    local integer i
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2LM')
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function XHE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveGroupHandle(R8, (W57), (340), (OG8()))
    call SaveReal(R8, (W57), (6), (BM7))
    call SaveReal(R8, (W57), (7), (BN7))
    call SaveReal(R8, (W57), (442), ((TimerGetElapsed(E4)) + 3 + .5 * ML8))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("war3mapImported\\MagneticField04.mdl", BM7, BN7)))
    set i = 0
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call SetPlayerAbilityAvailable(G8[i], 'A2M9', false)
        call SetPlayerAbilityAvailable(N8[i], 'A2M9', false)
        call SetPlayerAbilityAvailable(G8[i], 'A2MA', false)
        call SetPlayerAbilityAvailable(N8[i], 'A2MA', false)
        call SetPlayerAbilityAvailable(G8[i], 'A2MA', false)
        call SetPlayerAbilityAvailable(N8[i], 'A2LN', false)
        call SetPlayerAbilityAvailable(G8[i], 'A2M8', false)
        call SetPlayerAbilityAvailable(N8[i], 'A2M8', false)
        set i = i + 1
    endloop
    set Z77 = null
    set t = null
endfunction
function XKE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2LM' then
        call XJE()
    endif
    return false
endfunction
function IS9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XKE))
    set t = null
endfunction
function XME takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, NB7)
    local integer abl_id1 = (LoadInteger(R8, (W57), (758)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local group g
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or C77 > 120 or GU8(X77)then
        call UnitRemoveAbility(X77, NC7)
        call UnitRemoveAbility(X77, N37)
        call UnitRemoveAbility(X77, N67)
        call UnitRemoveAbility(X77, NL7)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 225 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call GroupRemoveUnit(g, X77)
        if FirstOfGroup(g) == null then
            if abl_id1 == NC7 then
                if GetUnitAbilityLevel(X77, NC7) == 0 then
                    call O68(X77, NC7)
                    call UnitMakeAbilityPermanent(X77, true, 'A2LU')
                    call UnitMakeAbilityPermanent(X77, true, 'A2ME')
                endif
            else
                if GetUnitAbilityLevel(X77, N37) == 0 then
                    call O68(X77, N37)
                    call UnitMakeAbilityPermanent(X77, true, 'A2LT')
                    call UnitMakeAbilityPermanent(X77, true, 'A2ME')
                endif
            endif
            if ModuloInteger(C77, 10) == 0 then
                call V08(Z77, X77, AB4, ML8 * 15 * .5)
            endif
        else
            if abl_id1 == NC7 then
                if GetUnitAbilityLevel(X77, NC7) > 0 then
                    call UnitRemoveAbility(X77, NC7)
                    call UnitRemoveAbility(X77, N67)
                endif
            else
                if GetUnitAbilityLevel(X77, N37) > 0 then
                    call UnitRemoveAbility(X77, N37)
                    call UnitRemoveAbility(X77, NL7)
                endif
            endif
        endif
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function XNE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer abl_id1 = NC7
    if GetUnitTypeId(Z77) == 'N0MM' then
        set abl_id1 = N37
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), NC7, false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), N37, false)
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function XME))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (758), (abl_id1))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\Flux3.mdx", X77, "origin")))
    call TriggerEvaluate(t)
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function XOE takes nothing returns boolean
    if GetSpellAbilityId() == NB7 and OE8(GetSpellTargetUnit()) == false then
        call XNE()
    endif
    return false
endfunction
function IT9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XOE))
    set t = null
endfunction
function XSE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit XQE = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2M0')
    if GetTriggerEvalCount(t) == 200 or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call KillUnit(XQE)
        call DestroyEffect(AddSpecialEffect(N27, GetUnitX(XQE), GetUnitX(XQE)))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveUnitHandle(R8, (W57), (2), (XQE))
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function XRE))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 3, false)
        call TriggerAddCondition(t, Condition(function XPE))
        call SaveUnitHandle(R8, (W57), (17), (XQE))
    else
        call SuspendHeroXP(XQE, true)
        call UnitModifySkillPoints(XQE, - 25)
    endif
    set t = null
    set Z77 = null
    set XQE = null
    return false
endfunction
function XTE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit XQE = CreateUnit(GetOwningPlayer(Z77), 'N0MM', GetUnitX(Z77), GetUnitY(Z77), 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2M0')
    local integer i = 0
    local item Y98
    local integer XUE = 'I02M'
    call DestroyEffect(AddSpecialEffectTarget(N27, XQE, "chest"))
    if KN8(GetOwningPlayer(XQE)) == false then
        set XUE = 'I0PC'
    endif
    call SelectUnitAddForPlayer(XQE, GetOwningPlayer(Z77))
    loop
        exitwhen i >= bj_MAX_INVENTORY
        if UnitItemInSlot(Z77, i) != null and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[F1]and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[N5]and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[FB]and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[GB]and GetItemTypeId(UnitItemInSlot(Z77, i)) != BU[EC]then
            set Y98 = CreateItem(GetItemTypeId(UnitItemInSlot(Z77, i)), 0, 0)
            if GetItemCharges(UnitItemInSlot(Z77, i)) > 0 then
                call SetItemCharges(Y98, GetItemCharges(UnitItemInSlot(Z77, i)))
            endif
            call UnitAddItem(XQE, Y98)
            call SetItemPlayer(Y98, GetOwningPlayer(XQE), false)
            if GetItemTypeId(Y98) == BU[J0]or GetItemTypeId(Y98) == BU[N0]or GetItemTypeId(Y98) == BU[NW]then
                call SetItemDropOnDeath(Y98, false)
            endif
        else
            call UnitAddItem(XQE, CreateItem(XUE, 0, 0))
        endif
        set i = i + 1
    endloop
    call SetHeroLevel(XQE, GetHeroLevel(Z77), false)
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, 'Aamk')
        call SelectHeroSkill(XQE, 'Aamk')
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, MQ7)
        call SelectHeroSkill(XQE, MQ7)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, 'A2LM')
        call SelectHeroSkill(XQE, 'A2LM')
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, NB7)
        call SelectHeroSkill(XQE, NB7)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, KM7)
        call SelectHeroSkill(XQE, KM7)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > GetUnitAbilityLevel(Z77, 'A2M0')
        call SelectHeroSkill(XQE, 'A2M0')
        set i = i + 1
    endloop
    call UnitRemoveAbility(XQE, 'A2M0')
    call UnitModifySkillPoints(XQE, - 25)
    call SuspendHeroXP(XQE, true)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterDeathEvent(t, XQE)
    call TriggerAddCondition(t, Condition(function XSE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (XQE))
    call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) * (1 - (.45 - .15 * ML8)))
    call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) * (1 - (.45 - .15 * ML8)))
    call SetUnitState(XQE, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE))
    call SetUnitState(XQE, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA))
    set Z77 = null
    set XQE = null
    set Y98 = null
    set t = null
endfunction
function XVE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2M0' then
        call XTE()
    endif
    return false
endfunction
function IU9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XVE))
    set t = null
endfunction
function ADO6 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local group g = OG8()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A0VC')
    set H04 = p5
    call GroupEnumUnitsInRange(g, GetUnitX(p5), GetUnitY(p5), 400 + 25, Condition(function ADO1))
    if FirstOfGroup(g) == null then
        if GetUnitAbilityLevel(p5, 'A2NX') != TA8 then
            call O68(p5, 'A2NX')
            call SetUnitAbilityLevel(p5, 'A2NX', TA8)
        endif
    else
        if GetUnitAbilityLevel(p5, 'A2NX') > 0 then
            call UnitRemoveAbility(p5, 'A2NX')
        endif
    endif
    call OF8(g)
    set p5 = null
    set t = null
    set g = null
    return false
endfunction
function AD26 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function ADO6))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = null
    set p5 = null
endfunction
function AD36 takes nothing returns boolean
    if GetLearnedSkill() == 'A0VC' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0VC') == 1 then
        call AD26()
    endif
    return false
endfunction
function AQ61 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AD36))
    set t = null
endfunction
function XWE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit oA = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2O2')
    local integer AJJ3 = GetHeroAgi(Z77, true)
    local real AD56 = AJJ3 * (.14 + .06 * ML8)
    local integer AO93 = R2I(AD56 / 2. + .5)
    local integer AD66 = (LoadInteger(R8, (W57), (34)))
    local real LBD = (LoadReal(R8, (W57), (442)))
    if LBD < (TimerGetElapsed(E4))then
        set AD66 = 2
        call SaveInteger(R8, (W57), (34), (AD66))
        call UnitRemoveAbility(oA, 'A2O3')
    endif
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A2O2' then
        set AD66 = 1
        call SaveInteger(R8, (W57), (34), (AD66))
        call SaveReal(R8, (W57), (442), ((TimerGetElapsed(E4)) + 30.))
        call UnitRemoveAbility(oA, 'A2NY')
    endif
    if O18(Z77) == true then
        call UnitRemoveAbility(oA, 'A2NY')
        call UnitRemoveAbility(oA, 'A2O3')
    else
        if AD66 == 2 then
            if GetUnitAbilityLevel(oA, 'A2NY') == 0 then
                call O68(oA, 'A2NY')
            endif
            call SetUnitAbilityLevel(oA, 'A2NY', AO93)
        else
            if GetUnitAbilityLevel(oA, 'A2O3') == 0 then
                call O68(oA, 'A2O3')
            endif
            call SetUnitAbilityLevel(oA, 'A2O3', AO93)
        endif
        call SetUnitX(oA, GetUnitX(Z77))
        call SetUnitY(oA, GetUnitY(Z77))
    endif
    set Z77 = null
    set oA = null
    set t = null
    return false
endfunction
function XXE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'e01V', 0, 0, 0)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddCondition(t, Condition(function XWE))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveInteger(R8, (EC8), (34), (2))
    call O68(oA, 'A2NY')
    set t = null
    set p5 = null
    set oA = null
endfunction
function XYE takes nothing returns boolean
    if GetLearnedSkill() == 'A2O2' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A2O2') == 1 then
        call XXE()
    endif
    return false
endfunction
function IX9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function XYE))
    call PU8('A2NY')
    call PU8('A2O3')
    set t = null
endfunction
function AD96 takes unit p5, unit target, integer TA8 returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(target), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    call O68(oA, 'A2WG')
    call SetUnitAbilityLevel(oA, 'A2WG', TA8)
    call IssueTargetOrder(oA, "drunkenhaze", target)
    set oA = null
endfunction
function ADA6 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real CV7 = (LoadReal(R8, (EC8), (13)))
    local real d = (LoadReal(R8, (EC8), (138)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2WF')
    local real VL8 = (0.5 + 0.1 * TA8) / (.02)
    local real HHE = d / VL8
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer C77 = GetTriggerEvalCount(t)
    if C77 > VL8 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SC8(GetUnitX(target), GetUnitY(target), 100)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set x = PQ8(x + HHE * Cos(CV7))
        set y = PS8(y + HHE * Sin(CV7))
        call SetUnitX(target, x)
        call SetUnitY(target, y)
        call SaveReal(R8, (EC8), (6), (x))
        call SaveReal(R8, (EC8), (7), (y))
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function ADB6 takes unit oA, unit target, unit p5, real x, real y returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real CV7 = Atan2(GetUnitY(target) - GetUnitY(oA), GetUnitX(target) - GetUnitX(oA))
    local real UFD = Z87(x, y, GetUnitX(target), GetUnitY(target))
    local real d = RMaxBJ(1, 350 * (1 - UFD / 900))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (13), (CV7))
    call SaveReal(R8, (EC8), (138), (d))
    call SaveReal(R8, (EC8), (6), (GetUnitX(target)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(target)))
    call AD96(p5, target, GetUnitAbilityLevel(p5, 'A2WF'))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function ADA6))
    set t = null
endfunction
function ADC6 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false and GU8(GetEnumUnit()) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call ADB6(H04, GetEnumUnit(), H54, H64, HL4)
    endif
endfunction
function XZE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real x1 = (LoadReal(R8, (EC8), (64)))
    local real y1 = (LoadReal(R8, (EC8), (65)))
    local real x2 = (LoadReal(R8, (EC8), (66)))
    local real y2 = (LoadReal(R8, (EC8), (67)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local real x = GetUnitX(oA)
    local real y = GetUnitY(oA)
    local group g2
    if Z87(x, y, x2, y2) < 100 then
        set x = x2
        set y = y2
    else
        set x = x + 40 * Cos(a)
        set y = y + 40 * Sin(a)
    endif
    call SetUnitX(oA, PQ8(x))
    call SetUnitY(oA, PS8(y))
    set g2 = OG8()
    set H04 = oA
    set H54 = p5
    set H64 = x1
    set HL4 = y1
    set H24 = g
    call GroupEnumUnitsInRange(g2, x, y, 250 + 25, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g2, function ADC6)
    call OF8(g2)
    if(x == x2 and y == y2)or GetTriggerEvalCount(t) > 35 then
        set g2 = OG8()
        set H04 = oA
        set H54 = p5
        set H64 = x1
        set HL4 = y1
        set H24 = g
        call GroupEnumUnitsInRange(g2, x, y, 250 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g2, function ADC6)
        call OF8(g2)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call KillUnit(oA)
        call OF8(g)
    endif
    set t = null
    set p5 = null
    set oA = null
    set g = null
    set g2 = null
    return false
endfunction
function XCE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = Atan2(y - GetUnitY(p5), x - GetUnitX(p5))
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'n0NI', GetUnitX(p5), GetUnitY(p5), a * bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function XZE))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveReal(R8, (EC8), (137), (a))
    call SaveReal(R8, (EC8), (64), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (65), (GetUnitY(p5)))
    call SaveReal(R8, (EC8), (66), (GetUnitX(p5) + 900 * Cos(a)))
    call SaveReal(R8, (EC8), (67), (GetUnitY(p5) + 900 * Sin(a)))
    call SaveGroupHandle(R8, (EC8), (22), (OG8()))
    set t = null
    set p5 = null
    set oA = null
endfunction
function X3E takes nothing returns boolean
    if GetSpellAbilityId() == 'A2WF' then
        call XCE()
    endif
    return false
endfunction
function IW9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function X3E))
    set t = null
endfunction
function ADG6 takes nothing returns boolean
    return O18(GetFilterUnit()) == false and IsUnitEnemy(N47, GetOwningPlayer(GetFilterUnit()))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((809)))) == 1)
endfunction
function ADH6 takes unit target returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(target), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    call UnitAddAbility(oA, 'A2TG')
    call SetUnitAbilityLevel(oA, 'A2TG', N77)
    call IssueTargetOrder(oA, "soulburn", target)
    set oA = null
endfunction
function ADZ6 takes nothing returns nothing
    call ADH6(GetEnumUnit())
endfunction
function ADV6 takes unit target returns nothing
    local group g = OG8()
    if((LoadInteger(R8, (GetHandleId(target)), (809))) == 1) == true then
        call GroupEnumUnitsInRange(g, 0, 0, 99999, Condition(function ADG6))
    endif
    call GroupAddUnit(g, target)
    call ForGroup(g, function ADZ6)
    call OF8(g)
    set g = null
endfunction
function X6E takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    if GetUnitTypeId(X77) != 'o01X' then
        call SetUnitPathing(X77, true)
    endif
    call SaveInteger(R8, (GetHandleId((X77))), ((4336)), (2))
    set X77 = null
endfunction
function XLE takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), M_7) == false then
        call GroupAddUnit(M_7, GetEnumUnit())
        call ADV6(GetEnumUnit())
        if ND7 == 1 then
            call V08(N47, GetEnumUnit(), 1, 50 * N77)
        endif
    endif
    // if(IsComputer(GetOwningPlayer(GetEnumUnit())))then
    //     if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO)then
    //         set T67 = T67 + 1
    //         if GetUnitLifePercent(GetEnumUnit()) <= 35. or IsIdle(GetEnumUnit()) == false then
    //             set TL7 = true
    //         endif
    //     endif
    // endif
endfunction
function X1E takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    local real a = (LoadReal(R8, (GetHandleId(X77)), (801)))
    local real d = (LoadReal(R8, (GetHandleId(X77)), (802)))
    local real x = N87 + d * Cos(a)
    local real y = N97 + d * Sin(a)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", x, y))
    if GetUnitTypeId(X77) == 'o01X' or GetUnitTypeId(X77) == 'o020' then
        set ND7 = 1
        call SetUnitPosition(X77, x, y)
        call SetUnitX(X77, x)
        call SetUnitY(X77, y)
    else
        call SetUnitX(X77, x)
        call SetUnitY(X77, y)
    endif
    set X77 = null
endfunction
function X0E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AX7 = LoadUnitHandle(R8, W57, 'KAOL')
    local unit X77 = LoadUnitHandle(R8, W57, 'TARG')
    if RAbsBJ(YH7(X77, AX7) - LoadReal(R8, W57, 'KAOL')) <= 12 and BS7(AX7, X77) <= 275. then
        call IssueTargetOrderById(AX7, 852189, X77)
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set X77 = null
    set AX7 = null
    return false
endfunction
function X5E takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    if O18(X77) or((LoadInteger(R8, (GetHandleId((X77))), ((4306)))) == 1) or GetUnitAbilityLevel(X77, 'B08V') > 0 or((LoadInteger(R8, (GetHandleId((X77))), ((4335)))) == 1) then
        call GroupRemoveUnit(M_7, X77)
        call SaveInteger(R8, (GetHandleId((X77))), ((4336)), (2))
        if GetUnitTypeId(X77) != 'o01X' then
            call SetUnitPathing(X77, true)
        endif
    endif
    set X77 = null
endfunction
function X2E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group X_E = (LoadGroupHandle(R8, (W57), (803)))
    local real BM7 = (LoadReal(R8, (W57), (6)))
    local real BN7 = (LoadReal(R8, (W57), (7)))
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local real a = bj_DEGTORAD * YI7(PND, POD, BM7, BN7)
    local real x
    local real y
    local boolean Y4E = false
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g
    local trigger Y7E
    local integer Y8E
    set ND7 = 0
    set M_7 = X_E
    call ForGroup(X_E, function X5E)
    if GetTriggerEvalCount(t) > 200 or FirstOfGroup(X_E) == null then
        set Y4E = true
    else
        set x = PND + M27 * .03 * Cos(a)
        set y = POD + M27 * .03 * Sin(a)
        if Z87(x, y, BM7, BN7) < 30 then
            set x = BM7
            set y = BN7
            set Y4E = true
        endif
        set x = PQ8(x)
        set y = PS8(y)
        set M_7 = X_E
        set N87 = x
        set N97 = y
        call ForGroup(X_E, function X1E)
        call SaveReal(R8, (W57), (23), (x))
        call SaveReal(R8, (W57), (24), (y))
        set g = OG8()
        set H04 = Z77
        set M_7 = XCD
        set N47 = Z77
        set N77 = GetUnitAbilityLevel(Z77, 'A2QI')
        call GroupEnumUnitsInRange(g, x, y, 180 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function XLE)
        call OF8(g)
        set g = null
    endif
    if Y4E then
        // if GetPlayerController(GetOwningPlayer(Z77)) == MAP_CONTROL_COMPUTER then
        //     set T37 = TertiaryUnitOp(T67 == .0, null, T37)
        //     if T37 != null and not(IsUnitType(T37, UNIT_TYPE_HERO)and GetUnitLifePercent(T37) <= 60.)then
        //         set Y7E = CreateTrigger()
        //         set Y8E = GetHandleId(Y7E)
        //         call SaveUnitHandle(R8, Y8E, 'KAOL', Z77)
        //         call SaveUnitHandle(R8, Y8E, 'TARG', T37)
        //         call SaveReal(R8, Y8E, 'KAOL', (LoadReal(R8, (GetHandleId(T37)), (801))) * bj_RADTODEG)
        //         call TriggerRegisterTimerEvent(Y7E, 0, false)
        //         call TriggerAddCondition(Y7E, Condition(function X0E))
        //         set Y7E = null
        //     endif
        // endif
        call ForGroup(X_E, function X6E)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call OF8(XCD)
        call OF8(X_E)
    endif
    set Z77 = null
    set t = null
    set XCD = null
    set X_E = null
    return false
endfunction
function MagneticGrip_PullableTargetsFilter takes nothing returns boolean
    return((GetUnitTypeId(GetFilterUnit()) == 'o01X' or GetUnitTypeId(GetFilterUnit()) == 'o020')or(IsUnitEnemy(N47, GetOwningPlayer(GetFilterUnit())) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0))and O18(GetFilterUnit()) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((4336)))) == 1) == false
endfunction
function Y9E takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'o01X'
endfunction
function YDE takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    call SetUnitPathing(X77, false)
    call SaveInteger(R8, (GetHandleId((X77))), ((4336)), (1))
    call SaveReal(R8, (GetHandleId(X77)), (801), (bj_DEGTORAD * YI7(N87, N97, GetUnitX(X77), GetUnitY(X77))))
    call SaveReal(R8, (GetHandleId(X77)), (802), (Z87(N87, N97, GetUnitX(X77), GetUnitY(X77))))
    set X77 = null
endfunction
function YEE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t
    local integer W57
    local real BM7 = GetUnitX(GetSpellTargetUnit())
    local real BN7 = GetUnitY(GetSpellTargetUnit())
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local real a = YI7(x, y, BM7, BN7)
    local unit X77 = GetSpellTargetUnit()
    local group g
    if X77 == null then
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetSpellTargetX(), GetSpellTargetY(), 240 + 25, Condition(function Y9E))
        if FirstOfGroup(g) == null then
            call OF8(g)
            set Z77 = null
            set g = null
            return
        endif
        set X77 = FirstOfGroup(g)
        call OF8(g)
    endif
    set g = OG8()
    call GroupAddUnit(g, X77)
    set BM7 = GetUnitX(X77)
    set BN7 = GetUnitY(X77)
    set a = YI7(x, y, BM7, BN7)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    set N87 = BM7
    set N97 = BN7
    call ForGroup(g, function YDE)
    set x = x + 100 * Cos(a * bj_DEGTORAD)
    set y = y + 100 * Sin(a * bj_DEGTORAD)
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function X2E))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    call SaveReal(R8, (W57), (23), (BM7))
    call SaveReal(R8, (W57), (24), (BN7))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call SaveGroupHandle(R8, (W57), (803), (g))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\MagneticGripTarget.mdx", X77, "chest")))
    // if(GetPlayerController(GetOwningPlayer(Z77)) == MAP_CONTROL_COMPUTER)then
    //     set T37 = X77
    //     set T67 = .0
    //     set TL7 = false
    // endif
    set X77 = null
    set Z77 = null
    set t = null
    set g = null
endfunction
function YFE takes nothing returns nothing
    local unit X77 = GetSpellTargetUnit()
    local group g
    if X77 == null then
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetSpellTargetX(), GetSpellTargetY(), 240 + 25, Condition(function Y9E))
        if FirstOfGroup(g) == null then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0N5'))
        endif
        call OF8(g)
    elseif IsUnitType(X77, UNIT_TYPE_HERO) and (AV7(GetTriggerUnit(), BU[AL80]) == null or GetUnitAbilityLevel(GetTriggerUnit(), 'A3E7') > 0) then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0O1'))
    endif
    set g = null
    set X77 = null
endfunction
function YGE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2QI' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call YFE()
        else
            call YEE()
        endif
    endif
    return false
endfunction
function IA9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function YGE))
    set t = null
endfunction
function ADQ6 takes integer i returns boolean
    return NK7[0] == i or NK7[1] == i or NK7[2] == i or NK7[3] == i or NK7[4] == i or NK7[5] == i or NK7[6] == i
endfunction
function YHE takes nothing returns boolean
    return O18(GetFilterUnit()) == false and IsUnitEnemy(NG7, GetOwningPlayer(GetFilterUnit()))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((809)))) == 1)
endfunction
function YIE takes nothing returns nothing
    call T68((GetEnumUnit()), 'A2QN', 1, 2, 'B0GK')
endfunction
function YJE takes unit X77 returns nothing
    local group g = OG8()
    if((LoadInteger(R8, (GetHandleId((X77))), ((809)))) == 1) then
        call GroupEnumUnitsInRange(g, 0, 0, 99999, Condition(function YHE))
    endif
    call GroupAddUnit(g, X77)
    call ForGroup(g, function YIE)
    call OF8(g)
    set g = null
endfunction
function RollingBoulder_FindClosestMagnetizedTarget takes nothing returns nothing
    local real d = BS7(GetEnumUnit(), NP7)
    if d < H64 then
        set H64 = d
        set NH7 = GetEnumUnit()
    endif
endfunction
function YKE takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), NI7) == false then
        call GroupAddUnit(NI7, GetEnumUnit())
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
            set NM7 = true
            set NH7 = GetEnumUnit()
            if((LoadInteger(R8, (GetHandleId((GetEnumUnit()))), ((809)))) == 1)then
                set NP7 = GetEnumUnit()
            endif
            if NO7 == 1 then
                call V08(NG7, GetEnumUnit(), 1, NN7)
                call YJE(GetEnumUnit())
            else
                call V08(NG7, GetEnumUnit(), 1, NN7)
            endif
        else
            if NO7 == 1 then
                call V08(NG7, GetEnumUnit(), 1, NN7)
            else
                call V08(NG7, GetEnumUnit(), 1, NN7)
            endif
        endif
    endif
endfunction
function YME takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'o01X' or GetUnitTypeId(GetFilterUnit()) == 'o020'
endfunction
function YNE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local real YOE = (LoadReal(R8, (W57), (6)))
    local real YPE = (LoadReal(R8, (W57), (7)))
    local real PPD = GetUnitX(Z77)
    local real PQD = GetUnitY(Z77)
    local real d = Z87(YOE, YPE, PPD, PQD)
    local real x
    local real y
    local real a = (LoadReal(R8, (W57), (137)))
    local real r = NF7
    local integer YQE = (LoadInteger(R8, (W57), (34)))
    local real YRE = (LoadReal(R8, (W57), (138)))
    local boolean YSE = false
    local unit YTE = (LoadUnitHandle(R8, (W57), (810)))
    set NM7 = false
    call SetUnitTimeScale(Z77, 3)
    call SetUnitFacing(Z77, a)
    call SetUnitAnimationByIndex(Z77, 0)
    if GetTriggerEvalCount(t) > 30 then
        if YQE == 0 then
            set g = OG8()
            call GroupEnumUnitsInRange(g, PPD, PQD, 150 + 25, Condition(function YME))
            if FirstOfGroup(g) != null then
                if(GetUnitTypeId((FirstOfGroup(g))) == 'o020') == false then
                    call KillUnit(FirstOfGroup(g))
                endif
                set YQE = 1
                call SaveInteger(R8, (W57), (34), (YQE))
            endif
            call OF8(g)
        endif
        if YQE == 1 then
            set r = r * 2
        endif
        if YTE != null then
            set a = YH7(Z77, YTE)
            call SaveReal(R8, (W57), (137), (a))
        endif
        set x = YOE + .02 * r * Cos(a * bj_DEGTORAD)
        set y = YPE + .02 * r * Sin(a * bj_DEGTORAD)
        call SetUnitX(Z77, PQ8(x))
        call SetUnitY(Z77, PS8(y))
        call SaveReal(R8, (W57), (6), (GetUnitX(Z77)))
        call SaveReal(R8, (W57), (7), (GetUnitY(Z77)))
        call SetUnitX(AC7, GetUnitX(Z77))
        call SetUnitY(AC7, GetUnitY(Z77))
        call SC8(GetUnitX(Z77), GetUnitY(Z77), 100)
        set d = Z87(YOE, YPE, GetUnitX(Z77), GetUnitY(Z77))
        set YRE = YRE + d
        call SaveReal(R8, (W57), (138), (YRE))
        set g = OG8()
        set H04 = Z77
        set NG7 = Z77
        set NI7 = XCD
        set NJ7 = 1
        set NH7 = null
        set NN7 = 100
        set NO7 = YQE
        set NP7 = null
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 150 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function YKE)
        call OF8(g)
        if NP7 != null then
            set g = OG8()
            set NH7 = null
            set H64 = 9999
            call GroupEnumUnitsInRange(g, GetUnitX(NP7), GetUnitY(NP7), 600 + 25, Condition(function YHE))
            call OF8(g)
            if NH7 == null then
                set YSE = true
                set NH7 = NP7
            else
                set YTE = NH7
                call SaveUnitHandle(R8, (W57), (810), (YTE))
            endif
        endif
    else
        call SetUnitX(Z77, YOE)
        call SetUnitY(Z77, YPE)
        if S69(Z77)then
            set YSE = true
        endif
    endif
    if S69(Z77)or GetTriggerEventId() == EVENT_WIDGET_DEATH or YSE or(YTE == null and(GetTriggerEvalCount(t) > 130 or NM7 or(YQE == 0 and YRE > 800)or(YQE == 1 and YRE > 1600)))then
        if IsComputer(GetOwningPlayer(Z77)) then
            set bj_lastLoadedUnit = Z77
            call ExecuteFunc("AiRollingBoulderEnd")
        endif
        call KillUnit(AC7)
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitAddAbility(Z77, 'A2QR')
        call UnitRemoveAbility(Z77, 'A2QR')
        call SetUnitTimeScale(Z77, 1)
        if NM7 then
            set x = GetUnitX(NH7) + 50 * Cos(a * bj_DEGTORAD)
            set y = GetUnitY(NH7) + 50 * Sin(a * bj_DEGTORAD)
            call SetUnitX(Z77, PQ8(x))
            call SetUnitY(Z77, PS8(y))
            call IssueTargetOrderById(Z77, 851983, NH7)
        endif
    endif
    set Z77 = null
    set AC7 = null
    set t = null
    set g = null
    set XCD = null
    set YTE = null
    return false
endfunction
function YBE takes unit Z77, unit YCE returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'o01P', GetUnitX(Z77), GetUnitY(Z77), 0)
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), GetSpellTargetX(), GetSpellTargetY())
    call UnitAddAbility(Z77, 'A2QQ')
    call UnitRemoveAbility(Z77, 'A2QQ')
    call SetUnitTimeScale(Z77, 3)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function YNE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveReal(R8, (W57), (6), (GetUnitX(Z77)))
    call SaveReal(R8, (W57), (7), (GetUnitY(Z77)))
    call SaveReal(R8, (W57), (137), (a))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveReal(R8, (W57), (138), (0.))
    call SaveUnitHandle(R8, (W57), (810), (null))
    if YCE != null and GetUnitTypeId(YCE) == 'o01X' then
        call KillUnit(YCE)
    endif
    set t = null
    set AC7 = null
endfunction
function Y3E takes nothing returns boolean
    return((GetUnitTypeId(GetFilterUnit()) == 'o01X' and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(NG7))or(GetUnitTypeId((GetFilterUnit())) == 'o020'))and O18(GetFilterUnit()) == false
endfunction
function RollingBoulder_Loop takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group g
    if GetUnitTypeId(Z77) == 'N0MU' and O18(Z77) == false then
        set g = OG8()
        set NG7 = Z77
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 150 + 25, Condition(function Y3E))
        if FirstOfGroup(g) != null then
        endif
        call OF8(g)
        set g = null
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function AE96 takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'N0MU' and IsUnitIllusion(GetFilterUnit()) == false
endfunction
function Y6E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real PX9 = (LoadReal(R8, (W57), (442)))
    local integer YLE = (LoadInteger(R8, (GetHandleId(Z77)), (800)))
    local group g
    if Z77 == null then
        set g = OG8()
        call GroupEnumUnitsInRange(g, 0, 0, 99999, Condition(function AE96))
        set Z77 = FirstOfGroup(g)
        call OF8(g)
        set g = null
        if Z77 != null then
            call SaveUnitHandle(R8, (W57), (2), (Z77))
            call SaveInteger(R8, (GetHandleId(Z77)), (800), (6))
            call O68(Z77, NK7[6])
        endif
    endif
    if GetTriggerEventId() == EVENT_UNIT_SPELL_CAST then
        if(GetSpellAbilityId() == 'A2TH')and YLE <= 0 then
            call ZN7(Z77)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if ADQ6(GetSpellAbilityId()) or GetSpellAbilityId() == 'A2TJ' then
            if GetSpellAbilityId() == 'A2TJ' then
                call YBE(Z77, null)
            endif
        endif
    elseif YLE < 6 then
        set PX9 = PX9 - .2
        call SaveReal(R8, (W57), (442), (PX9))
        if PX9 <= 0.then
            call UnitRemoveAbility(Z77, NK7[YLE])
            set YLE = YLE + 1
            call O68(Z77, NK7[YLE])
            call SaveInteger(R8, (GetHandleId(Z77)), (800), (YLE))
            call SaveReal(R8, (W57), (442), (NE7))
        endif
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function Y1E takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_CAST)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Y6E))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (442), ((NE7) * 1.))
    call SaveInteger(R8, (GetHandleId(Z77)), (800), (6))
    call O68(Z77, NK7[6])
    set t = null
endfunction
function I39 takes nothing returns nothing
    call Y1E(H04)
endfunction
function Y0E takes unit Y5E returns nothing
    local unit Z77 = Y7[GetPlayerId(GetOwningPlayer(Y5E))]
    local integer W57 = GetHandleId(Z77)
    local integer Y2E = (LoadInteger(R8, (W57), (279)))
    local integer i = 1
    local integer x = 1
    local unit YCE
    loop
        exitwhen i > Y2E
        set YCE = (LoadUnitHandle(R8, (W57), (1400 + i)))
        if O18(YCE) == false then
            call SaveUnitHandle(R8, (W57), (1400 + x), (YCE))
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set Y2E = Y2E - 1
    call SaveInteger(R8, (W57), (279), (Y2E))
    set YCE = null
    set Z77 = null
endfunction
function Y_E takes nothing returns boolean
    if GetUnitTypeId(GetTriggerUnit()) == 'o01X' then
        call Y0E(GetTriggerUnit())
    endif
    return false
endfunction
function Z4E takes nothing returns nothing
    local unit YCE
    local unit Z77 = GetTriggerUnit()
    local integer W57 = GetHandleId(Z77)
    local integer Y2E = (LoadInteger(R8, (W57), (279)))
    local unit Z7E = (LoadUnitHandle(R8, (W57), (1400 + 1)))
    local real x
    local real y
    local unit X77 = GetSpellTargetUnit()
    local integer YLE = (LoadInteger(R8, (GetHandleId(Z77)), (800)))
    if YLE > 0 then
        if X77 == null then
            set x = GetSpellTargetX()
            set y = GetSpellTargetY()
        else
            set x = GetUnitX(X77)
            set y = GetUnitY(X77)
        endif
        call UnitRemoveAbility(Z77, NK7[YLE])
        set YLE = IMaxBJ(0, YLE - 1)
        call O68(Z77, NK7[YLE])
        call SaveInteger(R8, (GetHandleId(Z77)), (800), (YLE))
        set YCE = CreateUnit(GetOwningPlayer(Z77), 'o01X', x, y, 0)
        // if(GetPlayerController(GetOwningPlayer(Z77)) == MAP_CONTROL_COMPUTER)then
        //     set TD7 = YCE
        // endif
        call UnitApplyTimedLife(YCE, 'BTLF', 120)
        call SetUnitPathing(YCE, false)
        set Y2E = Y2E + 1
        call SaveUnitHandle(R8, (W57), (1400 + Y2E), (YCE))
        call SaveInteger(R8, (W57), (279), (Y2E))
        if(Y2E > 6)then
            call KillUnit(Z7E)
        endif
    endif
    set YCE = null
    set Z77 = null
    set Z7E = null
    set X77 = null
endfunction
function Z8E takes nothing returns boolean
    if ADQ6(GetSpellAbilityId()) then
        call Z4E()
    endif
    return false
endfunction
function IB9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z8E))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function Y_E))
    set NK7[0] = 'A31H'
    set NK7[1] = 'A31J'
    set NK7[2] = 'A31G'
    set NK7[3] = 'A2TH'
    set NK7[4] = 'A31L'
    set NK7[5] = 'A31I'
    set NK7[6] = 'A31K'
    set t = null
endfunction
function BoulderSmash_FindClosestMagnetizedTarget takes nothing returns nothing
    local real d = BS7(GetEnumUnit(), NY7)
    if d < H64 then
        set H64 = d
        set NT7 = GetEnumUnit()
    endif
endfunction
function Z9E takes nothing returns boolean
    return O18(GetFilterUnit()) == false and IsUnitEnemy(NS7, GetOwningPlayer(GetFilterUnit()))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((809)))) == 1)
endfunction
function ZDE takes unit X77 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    call UnitAddAbility(AC7, 'A2TG')
    call SetUnitAbilityLevel(AC7, 'A2TG', 2)
    call IssueTargetOrderById(AC7, 852668, X77)
    set AC7 = null
endfunction
function ZEE takes nothing returns nothing
    call ZDE(GetEnumUnit())
endfunction
function ZFE takes unit X77 returns nothing
    local group g = OG8()
    if((LoadInteger(R8, (GetHandleId((X77))), ((809)))) == 1) then
        call GroupEnumUnitsInRange(g, 0, 0, 99999, Condition(function Z9E))
    endif
    call GroupAddUnit(g, X77)
    call ForGroup(g, function ZEE)
    call OF8(g)
    set g = null
endfunction
function BoulderSmash_FindRock takes nothing returns boolean
    if IsUnitInGroup(GetFilterUnit(), NR7) == false and(GetUnitTypeId(GetFilterUnit()) == 'o01X' or GetUnitTypeId(GetFilterUnit()) == 'o020')and GetFilterUnit() != NT7 then
        call GroupAddUnit(NR7, GetFilterUnit())
        set NW7 = NW7 + 1
        if GetUnitTypeId(GetFilterUnit()) == 'o01X' then
            call KillUnit(GetFilterUnit())
        endif
    endif
    return false
endfunction
function ZGE takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), NR7) == false then
        call GroupAddUnit(NR7, GetEnumUnit())
        call V08(NS7, GetEnumUnit(), 1, NV7)
        if NX7 == 1 then
            call V18(NS7, GetEnumUnit(), .25 + .5 * NU7)
        endif
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) and((LoadInteger(R8, (GetHandleId((GetEnumUnit()))), ((809)))) == 1)then
            set NY7 = GetEnumUnit()
        endif
    endif
endfunction
function ZHE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real BM7 = (LoadReal(R8, (W57), (6)))
    local real BN7 = (LoadReal(R8, (W57), (7)))
    local real a
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local real x
    local real y
    local boolean Y4E = false
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g
    local integer RockBonusCount = (LoadInteger(R8, (W57), (34)))
    local integer HeroSTR = GetHeroStr(Z77, true)
    local unit YTE = (LoadUnitHandle(R8, (W57), (810)))
    if YTE != null then
        set BM7 = GetUnitX(YTE)
        set BN7 = GetUnitY(YTE)
    endif
    set a = bj_DEGTORAD * YI7(GetUnitX(X77), GetUnitY(X77), BM7, BN7)
    set x = PND + (NQ7) * .03 * Cos(a)
    set y = POD + (NQ7) * .03 * Sin(a)
    if Z87(x, y, BM7, BN7) < (5 + (NQ7) * .03)then
        set x = BM7
        set y = BN7
        set Y4E = true
    endif
    set x = PQ8(x)
    set y = PS8(y)
    set NR7 = XCD
    set NS7 = Z77
    set NU7 = GetUnitAbilityLevel(Z77, 'A2UU')
    set NV7 = 50 * NU7
    set NY7 = null
    if((LoadInteger(R8, (GetHandleId((X77))), ((4306)))) == 1) or GetTriggerEventId() == EVENT_UNIT_DEATH or GetUnitAbilityLevel(X77, 'B08V') > 0 or((LoadInteger(R8, (GetHandleId((X77))), ((4336)))) == 1) or(YTE == null and GetTriggerEvalCount(t) > 200)then
        set Y4E = true
    else
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", x, y))
        if GetUnitTypeId(X77) == 'o01X' or GetUnitTypeId(X77) == 'o020' then
            set NX7 = 1
            call SetUnitPosition(X77, x, y)
            call SetUnitX(X77, PQ8(x))
            call SetUnitY(X77, PS8(y))
        else
            set NX7 = 0
            call SetUnitX(X77, PQ8(x))
            call SetUnitY(X77, PS8(y))
        endif
        call SC8(x, y, 150)
        call SaveReal(R8, (W57), (23), (x))
        call SaveReal(R8, (W57), (24), (y))
        set g = OG8()
        set H04 = Z77
        call GroupEnumUnitsInRange(g, x, y, 160 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call GroupRemoveUnit(g, X77)
        call ForGroup(g, function ZGE)
        call OF8(g)
        if NY7 != null and NX7 == 1 then
            set g = OG8()
            set NT7 = null
            set H64 = 9999
            call GroupEnumUnitsInRange(g, GetUnitX(NY7), GetUnitY(NY7), 600 + 25, Condition(function Z9E))
            call OF8(g)
            if NT7 != null then
                set YTE = NT7
                call SaveUnitHandle(R8, (W57), (810), (YTE))
                set Y4E = false
            endif
        endif
        set g = null
    endif
    if Y4E then
        if GetUnitTypeId(X77) != 'o01X' then
            call SetUnitPathing(X77, true)
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call OF8(XCD)
        call SaveInteger(R8, (GetHandleId((X77))), ((4335)), (2))
        if GetTriggerEventId() != EVENT_UNIT_DEATH then
            if IsPlayerAlly(GetOwningPlayer(Z77), GetOwningPlayer(X77)) == false then
                call V08(NS7, X77, 1, NV7)
            endif
        endif
    endif
    set X77 = null
    set t = null
    set XCD = null
    set Z77 = null
    set YTE = null
    return false
endfunction
function AEX6 takes nothing returns boolean
    if GetUnitTypeId(GetFilterUnit()) == 'o01X' then
        return true
    endif
    return false
endfunction
function ZIE takes nothing returns nothing
    local unit target = GetSpellTargetUnit()
    local unit p5 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2UU')
    local trigger t
    local integer EC8
    local real a
    local real x
    local real y
    local integer i =- 1
    local boolean LFG = false
    local real d = 400 + 100 * TA8
    local group g
    if target == null then
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetSpellTargetX(), GetSpellTargetY(), 180 + 25, Condition(function AEX6))
        set target = FirstOfGroup(g)
        call OF8(g)
        set g = null
        set a = GetUnitFacing(p5)
    else
        set a = YH7(p5, target)
    endif
    if target == null then
        return
    endif
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    if p5 == target then
        set a = GetUnitFacing(p5)
    endif
    if GetUnitTypeId(target) == 'o01X' or GetUnitTypeId(target) == 'o020' then
        set d = 2000
    endif
    loop
        exitwhen LFG or i == 23
        set i = i + 1
        set x = PQ8(GetUnitX(target) + (d - i * 25) * Cos(a * bj_DEGTORAD))
        set y = PS8(GetUnitY(target) + (d - i * 25) * Sin(a * bj_DEGTORAD))
        if(IsPointInRegion(IF4, (x), (y))) == false then
            set LFG = true
        endif
    endloop
    call SetUnitPathing(target, false)
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function ZHE))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call SaveReal(R8, (EC8), (23), (GetUnitX(target)))
    call SaveReal(R8, (EC8), (24), (GetUnitY(target)))
    call SaveInteger(R8, (EC8), (34), (0))
    call SaveGroupHandle(R8, (EC8), (187), (OG8()))
    call SaveUnitHandle(R8, (EC8), (810), (null))
    call SaveInteger(R8, (GetHandleId((target))), ((4335)), (1))
    set target = null
    set p5 = null
    set t = null
endfunction
function AEJ6 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local group g
    if GetUnitTypeId(target) == 'n00L' then
        call ZN7(p5)
        call PN8(GetOwningPlayer(p5), GetObjectName('n0K9'))
    elseif target == null then
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetSpellTargetX(), GetSpellTargetY(), 180 + 25, Condition(function AEX6))
        if FirstOfGroup(g) == null then
            call ZN7(p5)
            call PN8(GetOwningPlayer(p5), GetObjectName('n0K9'))
        endif
        call OF8(g)
        set g = null
    endif
    set p5 = null
    set target = null
endfunction
function ZKE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2UU' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            if IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == false or OE8(GetSpellTargetUnit()) == false then
                call ZIE()
            endif
        else
            call AEJ6()
        endif
    endif
    return false
endfunction
function IC9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function ZKE))
    set t = null
endfunction
function AEL6 takes nothing returns nothing
    call V08(H04, GetEnumUnit(), 1, H64)
endfunction
function AEM6 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local group g
    local boolean AEN6 = false
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if ADQ6(GetSpellAbilityId())and GetSpellTargetUnit() == oA then
            set AEN6 = true
        endif
    endif
    if AEN6 == true or GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT then
        set g = OG8()
        call SetUnitX(target, GetUnitX(oA))
        call SetUnitY(target, GetUnitY(oA))
        call KillUnit(oA)
        call SetUnitInvulnerable(target, false)
        call PauseUnit(target, false)
        call ShowUnit(target, true)
        call ClearSelectionForPlayer(GetOwningPlayer(target))
        call SelectUnitAddForPlayer(target, GetOwningPlayer(target))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        set H04 = p5
        set H64 = 300
        call GroupEnumUnitsInRange(g, GetUnitX(target), GetUnitY(target), 300 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function AEL6)
        call OF8(g)
    endif
    set g = null
    set t = null
    set p5 = null
    set target = null
    set oA = null
    return false
endfunction
function AES6 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2S9')
    local trigger t
    local integer EC8
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'o020', GetUnitX(target), GetUnitY(target), 0)
    local integer YLE = (LoadInteger(R8, (GetHandleId(GetTriggerUnit())), (800)))
    if(IsUnitEnemy(target, GetOwningPlayer(p5))) == false or OE8(GetSpellTargetUnit()) == false then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call SelectUnitRemoveForPlayer(target, GetOwningPlayer(target))
        call SetUnitInvulnerable(target, true)
        call PauseUnit(target, true)
        call ShowUnit(target, false)
        call SaveUnitHandle(R8, (EC8), (2), (p5))
        call SaveUnitHandle(R8, (EC8), (17), (target))
        call SaveUnitHandle(R8, (EC8), (19), (oA))
        call TriggerRegisterTimerEvent(t, 3, false)
        call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_EFFECT)
        call TriggerAddCondition(t, Condition(function AEM6))
    endif
    set oA = CreateUnit(GetOwningPlayer(target), 'o021', GetUnitX(target), GetUnitY(target), 0)
    call UnitApplyTimedLife(oA, 'BTLF', 3)
    set p5 = null
    set target = null
    set oA = null
    set t = null
endfunction
function AET6 takes nothing returns boolean
    if GetSpellAbilityId() == 'A2S9' and OE8(GetSpellTargetUnit()) == false then
        call AES6()
    endif
    return false
endfunction
function AER6 takes nothing returns nothing
    if IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))and(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139)))and GetSpellTargetUnit() != GetTriggerUnit()then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
    endif
endfunction
function AEP6 takes nothing returns boolean
    if GetSpellAbilityId() == 'A2S9' then
        call AER6()
    endif
    return false
endfunction
function AQC1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AET6))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function AEP6))
    set t = null
endfunction
function ZME takes nothing returns nothing
    set NA7 = GetEnumUnit()
    call ExecuteFunc("ZNE")
endfunction
function ZOE takes nothing returns boolean
    return O18(GetFilterUnit()) == false and GetUnitTypeId(GetFilterUnit()) == 'o01X' and((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((4335)))) == 1) == false and((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((4340)))) == 1) == false
endfunction
function ZPE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local group g = OG8()
    local integer C77 = GetTriggerEvalCount(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2TI')
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (807)))
    if ModuloInteger(C77, 5) == 0 then
        call V08(Z77, X77, 1, (25 + 25 * ML8) / 2)
    endif
    set NZ7 = Z77
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 400 + 25, Condition(function ZOE))
    call ForGroup(g, function ZME)
    call OF8(g)
    if(TimerGetElapsed(E4)) > LBD or O18(X77)then
        call SaveInteger(R8, (GetHandleId((X77))), ((809)), (2))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set g = null
    return false
endfunction
function ZQE takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (807)))
    call SaveReal(R8, (GetHandleId(X77)), (807), (((TimerGetElapsed(E4)) + 6) * 1.))
    if LBD < (TimerGetElapsed(E4))then
        call SaveInteger(R8, (GetHandleId((X77))), ((809)), (1))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\MagnetizeTargetOverhead.mdx", X77, "origin")))
        call TriggerRegisterTimerEvent(t, .1, true)
        call TriggerAddCondition(t, Condition(function ZPE))
    endif
    set t = null
endfunction
function ZRE takes nothing returns nothing
    call ZQE(NZ7, GetEnumUnit())
endfunction
function ZSE takes unit Z77, unit X77 returns nothing
    local group g = OG8()
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local real HS8 = 300
    if GetUnitTypeId(X77) == 'o01X' then
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherMissile\\DemolisherMissile.mdx", GetUnitX(X77), GetUnitY(X77)))
        call UnitApplyTimedLife(X77, 'BTLF', 8)
        call SaveInteger(R8, (GetHandleId((X77))), ((4340)), (1))
        call SetUnitVertexColor(X77, 0, 0, 0, 100)
        set HS8 = 600
    else
        call DestroyEffect(AddSpecialEffect("war3mapImported\\MagnetizeCastAoE.mdx", GetUnitX(X77), GetUnitY(X77)))
    endif
    set H04 = Z77
    set NZ7 = Z77
    set NA7 = X77
    call GroupEnumUnitsInRange(g, x, y, HS8 + 25, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function ZRE)
    call OF8(g)
    set Z77 = null
    set g = null
endfunction
function ZNE takes nothing returns nothing
    call ZSE(NZ7, NA7)
endfunction
function ZTE takes nothing returns boolean
    if GetSpellAbilityId() == 'A2TI' then
        call ZSE(GetTriggerUnit(), GetTriggerUnit())
    endif
    return false
endfunction
function IZ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZTE))
    set t = null
endfunction
function ZUE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call SetUnitAnimationByIndex(Z77, 8)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function ZVE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SetUnitAnimationByIndex(Z77, 7)
    call TriggerRegisterTimerEvent(t, 2.5, false)
    call TriggerAddCondition(t, Condition(function ZUE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function ZWE takes nothing returns boolean
    if GetUnitTypeId(GetTriggerUnit()) == 'N0MU' or GetUnitTypeId(GetTriggerUnit()) == 'N0MW' then
        call ZVE()
    endif
    return false
endfunction
function IY9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function ZWE))
    set t = null
endfunction
function ZXE takes nothing returns boolean
    local real d
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(SF4)) and IsUnitInGroup(GetFilterUnit(), SH4) == false and UR8(GetFilterUnit(), GetOwningPlayer(SG4)) then
        set d = Z87(GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()), GetUnitX(SF4), GetUnitY(SF4))
        if d < VZ then
            set SE4 = GetFilterUnit()
            set VZ = d
        endif
    endif
    return false
endfunction
function ZYE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer QRD = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(QRD)
    local group ZZE = (LoadGroupHandle(R8, (EC8), (187)))
    local real ZAE = (LoadReal(R8, (EC8), (222)))
    local real ZBE = (LoadReal(R8, (EC8), (223)))
    local real ZCE = (LoadReal(R8, (EC8), (224)))
    local real NN9
    local group g
    local real a
    local real x
    local real y
    local integer ARJ4 = GetUnitAbilityLevel(Z77, 'A1AT')
    set a = Atan2(GetUnitY(target) - GetUnitY(AC7), GetUnitX(target) - GetUnitX(AC7))
    if Z77 == target then
        set x = GetUnitX(AC7) + 24 * Cos(a)
        set y = GetUnitY(AC7) + 24 * Sin(a)
    else
        set x = GetUnitX(AC7) + 24 * Cos(a)
        set y = GetUnitY(AC7) + 24 * Sin(a)
    endif
    call SetUnitX(AC7, x)
    call SetUnitY(AC7, y)
    if Z87(x, y, GetUnitX(target), GetUnitY(target)) < 60 then
        call SetUnitX(AC7, GetUnitX(target))
        call SetUnitY(AC7, GetUnitY(target))
        if Z77 == target then
            call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) + ZAE)
            call KillUnit(AC7)
            call OF8(ZZE)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        else
            if UN8(target) == false or IsUnitVisible(target, GetOwningPlayer(AC7)) then
                if(GetUnitAbilityLevel(target, 'A2TL') > 0)then
                    call V08(Z77, target, 3, ((40 + 40 * TA8) + 0.35 * ZCE * (40 + 40 * TA8)) / (1.2 + .1 * ARJ4))
                else
                    call V08(Z77, target, AB4, (40 + 40 * TA8) + .35 * ZCE * (40 + 40 * TA8))
                endif
                set ZCE = ZCE + 1
                if GetUnitState(target, UNIT_STATE_MANA) > 0 then
                    set NN9 = GetUnitState(target, UNIT_STATE_MANA) * (.08 + .03 * TA8)
                    call SetUnitState(target, UNIT_STATE_MANA, GetUnitState(target, UNIT_STATE_MANA) - NN9)
                    call S68(oI, GetUnitX(target), GetUnitY(target))
                    set ZAE = ZAE + NN9
                    set ZBE = ZBE + 1
                endif
            endif
            call SaveReal(R8, (EC8), (222), ((ZAE)))
            call SaveReal(R8, (EC8), (224), ((ZCE)))
            call SaveReal(R8, (EC8), (223), ((ZBE)))
            set g = OG8()
            set SE4 = null
            set SF4 = target
            set SH4 = ZZE
            set VZ = 99999
            set SG4 = Z77
            call GroupEnumUnitsInRange(g, GetUnitX(target), GetUnitY(target), 500, Condition(function ZXE))
            call OF8(g)
            if SE4 == null or ZCE == (2 + TA8)then
                call SaveInteger(R8, (EC8), (30), (KJ8(Z77)))
            else
                call SaveInteger(R8, (EC8), (30), (KJ8(SE4)))
                call GroupAddUnit(ZZE, SE4)
            endif
        endif
        call KG8(QRD)
    endif
    set t = null
    set Z77 = null
    set target = null
    set g = null
    set AC7 = null
    set ZZE = null
    return false
endfunction
function Z3E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0G2')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = OG8()
    local real ZCE = 0
    local real ZBE = 0
    local real NN9 = 0
    local real ZAE = 0
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'h090', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
    call S68(eI, GetUnitX(Z77), GetUnitY(Z77))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function ZYE))
    call SaveGroupHandle(R8, (EC8), (187), (g))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (30), (KJ8(target)))
    call SaveInteger(R8, (EC8), (34), (0))
    call SaveReal(R8, (EC8), (222), ((ZAE)))
    call SaveReal(R8, (EC8), (224), ((ZCE)))
    call SaveReal(R8, (EC8), (223), ((ZBE)))
    call GroupAddUnit(g, target)
    set Z77 = null
    set target = null
    set t = null
    set g = null
    set AC7 = null
endfunction
function Z6E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0G2' then
        call Z3E()
    endif
    return false
endfunction
function C18 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z6E))
    set t = null
endfunction
function ZLE takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    call SaveReal(R8, (GetHandleId(X77)), (799), ((0) * 1.))
    set X77 = null
endfunction
function Z1E takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    call UnitRemoveAbility(X77, 'A2S3')
    call UnitRemoveAbility(X77, 'A2TM')
    call UnitRemoveAbility(X77, 'B0BQ')
    call SetUnitTurnSpeed(X77, GetUnitDefaultTurnSpeed(X77))
    set X77 = null
endfunction
function Z0E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1AT')
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        call DisableTrigger(t)
        call V08(GetEventDamageSource(), X77, 7, GetEventDamage() * (.2 + .1 * ML8))
        call EnableTrigger(t)
        if O18(X77) then
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call UnitRemoveAbility(X77, 'A2S1')
            call UnitRemoveAbility(X77, 'A2TL')
        endif
    else
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(X77, 'A2S1')
        call UnitRemoveAbility(X77, 'A2TL')
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function Z5E takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    if IsUnitIllusion(X77) then
        call KillUnit(X77)
        return
    endif
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call V18(Z77, X77, 3.)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 3, false)
    call TriggerAddCondition(t, Condition(function Z0E))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl", X77, "chest")))
    call O68(X77, 'A2S1')
    call O68(X77, 'A2TL')
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2S1', false)
    set t = null
endfunction
function Z2E takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    call SaveReal(R8, (GetHandleId(X77)), (799), (((LoadReal(R8, (GetHandleId(X77)), (799))) + .02) * 1.))
    if GetUnitAbilityLevel(X77, 'A2S3') == 0 then
        call O68(X77, 'A2S3')
        call O68(X77, 'A2TM')
        call SetUnitTurnSpeed(X77, GetUnitDefaultTurnSpeed(X77) * .5)
    endif
    if(LoadReal(R8, (GetHandleId(X77)), (799))) == 2. then
        call Z5E(SI4, X77)
    endif
    set X77 = null
endfunction
function Z_E takes unit Z77, unit X77 returns boolean
    local real a = YH7(X77, Z77)
    local real A4E = GetUnitFacing(X77)
    local real c1
    local real c2
    local real d1 =- 1.
    local real d2 =- 1.
    local real e1
    local real e2
    local real f1 =- 1.
    local real f2 =- 1.
    set c1 = RMaxBJ(A4E - 85, 0)
    set c2 = A4E
    if A4E - 85 <= 0 then
        set d1 = 360 - (85 - (c2 - c1))
        set d2 = 360
    endif
    set e1 = A4E
    set e2 = RMinBJ(A4E + 85, 360)
    if A4E + 85 >= 360 then
        set f1 = 0
        set f2 = 0 + (85 - (e2 - e1))
    endif
    if a < 0 then
        set a = a + 360
    elseif a > 360 then
        set a = a - 360
    endif
    if(a > c1 and a < c2)or(d1 !=- 1 and a > d1 and a < d2)or(a > e1 and a < e2)or(f1 !=- 1 and a > f1 and a < f2)then
        return true
    endif
    return false
endfunction
function A7E takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false))and Z_E(H04, GetFilterUnit())
endfunction
function A8E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1AT')
    local group g1 = OG8()
    local group g2 = OG8()
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    set SJ4 = XCD
    set SI4 = Z77
    set H04 = Z77
    call GroupEnumUnitsInRange(g1, GetUnitX(Z77), GetUnitY(Z77), 1025, Condition(function A7E))
    call ForGroup(g1, function Z2E)
    call BlzGroupAddGroupFast(g1, XCD)
    call BlzGroupAddGroupFast(XCD, g2)
    call BlzGroupRemoveGroupFast(g1, g2)
    call OF8(g1)
    call OF8(g2)
    call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
    if GetTriggerEvalCount(t) > R2I(SK4 / .02)then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call ForGroup(XCD, function Z1E)
        call ForGroup(XCD, function ZLE)
        call OF8(XCD)
    else
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl", Z77, "chest")))
    endif
    set Z77 = null
    set g1 = null
    set g2 = null
    set XCD = null
    set t = null
    return false
endfunction
function A9E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function A8E))
    call SaveUnitHandle(R8, (W57), (2), (GetTriggerUnit()))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl", GetTriggerUnit(), "chest")))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call TriggerEvaluate(t)
    set t = null
endfunction
function ADE takes nothing returns boolean
    if GetSpellAbilityId() == 'A1AT' then
        call A9E()
    endif
    return false
endfunction
function C08 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ADE))
    set t = null
endfunction
function zS takes nothing returns nothing
    if HB4 <= HC4 then
        set HB4 = HB4 + 1
        call GroupAddUnit(H24, GetEnumUnit())
    endif
endfunction
function zt takes unit Z77, unit target returns nothing
    call QK8("SPLK", GetUnitX(Z77), GetUnitY(Z77), GetUnitX(target), GetUnitY(target), .1, .6, .44, .9, .6)
endfunction
function zT takes nothing returns nothing
    local integer P99 = 14 + 4 * GetUnitAbilityLevel(H54, 'A0R5')
    if GetUnitTypeId(GetEnumUnit()) != 'n0F5' then
        call V08(H04, GetEnumUnit(), A14, P99)
    endif
    call zt(GetEnumUnit(), H04)
endfunction
function zu takes nothing returns nothing
    local integer P99 = 14 + 4 * GetUnitAbilityLevel(H54, 'A0R5')
    if GetUnitTypeId(GetEnumUnit()) != 'n0F5' then
        call V08(H04, GetEnumUnit(), A14, P99)
    endif
    call zt(GetEnumUnit(), H04)
endfunction
function zU takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local group g = OG8()
    local integer zv = GetUnitAbilityLevel(N28, 'A0R5') * 2 + 8
    local integer P99 = 14 + 4 * GetUnitAbilityLevel(N28, 'A0R5')
    set H24 = OG8()
    set HB4 = 0
    set HC4 = zv
    set H04 = N28
    call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 1300 + 25, Condition(function ny))
    call GroupRemoveUnit(g, N28)
    call GroupRemoveUnit(g, GetSpellTargetUnit())
    call ForGroup(g, function zS)
    call OF8(g)
    set g = H24
    set H04 = GetSpellTargetUnit()
    set H54 = N28
    if IsUnitAlly(H04, GetOwningPlayer(N28))then
        if GetUnitTypeId(H04) == 'n0FJ' or GetUnitTypeId(H04) == 'n0FI' or GetUnitTypeId(H04) == 'n0F6' or GetUnitTypeId(H04) == 'n0FH' then
            call SetUnitState(H04, UNIT_STATE_LIFE, GetUnitState(H04, UNIT_STATE_LIFE) + GetUnitAbilityLevel(N28, 'A0R5') * 1.)
        else
            call SetUnitState(H04, UNIT_STATE_LIFE, GetUnitState(H04, UNIT_STATE_LIFE) + BlzGroupGetSize(g) * P99)
        endif
        call ForGroup(g, function zT)
    else
        call V08(N28, H04, AB4, BlzGroupGetSize(g) * P99)
        call ForGroup(g, function zu)
    endif
    call OF8(g)
    set N28 = null
    set g = null
endfunction
function AEE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0R5' and(IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_STRUCTURE) == false or GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(GetTriggerUnit()))then
        call zU()
    endif
    return false
endfunction
function E_9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call BJDebugMsg("registered")
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AEE))
    set t = null
endfunction
function AAE takes unit C4D returns boolean
    return(AV7(C4D, BU[FI4]) != null or GetUnitAbilityLevel(C4D, 'A3E7') > 0)
endfunction
function AFE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer AGE = (LoadInteger(R8, (EC8), (29)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if(LoadBoolean(R8, (EC8), (276))) == false and GetTriggerUnit() == (LoadUnitHandle(R8, (EC8), (2)))then
            call SaveBoolean(R8, (EC8), (276), (true))
            call SetHeroStr((LoadUnitHandle(R8, (EC8), (2))), GetHeroStr((LoadUnitHandle(R8, (EC8), (2))), false) - AGE, true)
        elseif(LoadBoolean(R8, (EC8), (277))) == false and GetTriggerUnit() == (LoadUnitHandle(R8, (EC8), (17)))then
            call SaveBoolean(R8, (EC8), (277), (true))
            call SetHeroStr((LoadUnitHandle(R8, (EC8), (17))), GetHeroStr((LoadUnitHandle(R8, (EC8), (17))), false) + AGE, true)
        endif
    else
        if(LoadBoolean(R8, (EC8), (276))) == false then
            call SaveBoolean(R8, (EC8), (276), (true))
            call SetHeroStr((LoadUnitHandle(R8, (EC8), (2))), GetHeroStr((LoadUnitHandle(R8, (EC8), (2))), false) - AGE, true)
        endif
        if(LoadBoolean(R8, (EC8), (277))) == false then
            call SaveBoolean(R8, (EC8), (277), (true))
            call SetHeroStr((LoadUnitHandle(R8, (EC8), (17))), GetHeroStr((LoadUnitHandle(R8, (EC8), (17))), false) + AGE, true)
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    return false
endfunction
function AHE takes nothing returns nothing
    local unit Z77 = sZ
    local unit target = GetEnumUnit()
    local integer AGE
    local integer TA8 = tZ
    local trigger t
    local integer EC8
    if IsUnitType(target, UNIT_TYPE_HERO) and XC8(GetUnitTypeId(target)) == false then
        if AAE(Z77) then
            set AGE = IMinBJ(GetHeroStr(target, false) - 1, 10)
        else
            set AGE = IMinBJ(GetHeroStr(target, false) - 1, 4)
        endif
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call SetHeroStr(Z77, GetHeroStr(Z77, false) + AGE, true)
        call SetHeroStr(target, GetHeroStr(target, false) - AGE, true)
        call TriggerRegisterTimerEvent(t, 40, false)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function AFE))
        call SaveBoolean(R8, (EC8), (276), (false))
        call SaveBoolean(R8, (EC8), (277), (false))
        call SaveUnitHandle(R8, (EC8), (2), (Z77))
        call SaveUnitHandle(R8, (EC8), (17), (target))
        call SaveInteger(R8, (EC8), (29), (AGE))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", Z77, "origin"))
    endif
    call V08(Z77, target, AB4, 40 * TA8 - 20)
    set Z77 = null
    set target = null
    set t = null
endfunction
function AIE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local group g = OG8()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A15S')
    local unit oA = CreateUnit(GetOwningPlayer(Z77), 'h07J', x, y, 0)
    call DestroyEffect(AddSpecialEffect("effects\\DecayGreen_Groundonly_1.mdx", x, y))
    set H04 = Z77
    set sZ = Z77
    set tZ = TA8
    call GroupEnumUnitsInRange(g, x, y, 325 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmune))
    call ForGroup(g, function AHE)
    call OF8(g)
    call KillUnit(oA)
    set Z77 = null
    set g = null
    set oA = null
endfunction
function AJE takes nothing returns boolean
    if GetSpellAbilityId() == 'A15S' then
        call AIE()
    endif
    return false
endfunction
function E59 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AJE))
    set t = null
endfunction
function AKE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer QRD = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(QRD)
    local unit AME = (LoadUnitHandle(R8, (EC8), (269)))
    local real KTE = GetUnitState(target, UNIT_STATE_LIFE)
    local real ANE = GetUnitState(target, UNIT_STATE_MAX_LIFE)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call KG8(QRD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        if GetTriggerUnit() == target then
            call KillUnit(AME)
        endif
    elseif U9 then
        call KG8(QRD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call PauseUnit(AME, true)
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER then
        call DisableTrigger(t)
        call IssueTargetOrderById(AME, 851983, target)
        call EnableTrigger(t)
    elseif(KTE < (100 * SW4)or KTE / ANE < (.15 + .05 * SW4))and GetUnitAbilityLevel(AME, 'B0AN') == 0 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(AME), 'A176', true)
        call IssueTargetOrderById(wZ[GetPlayerId(GetOwningPlayer(AME))], 852101, AME)
        call SetPlayerAbilityAvailable(GetOwningPlayer(AME), 'A176', false)
    elseif IsUnitVisible(target, GetOwningPlayer(AME)) == false then
        if(LoadBoolean(R8, (EC8), (270))) == true then
            if(LoadBoolean(R8, (EC8), (271))) == true then
                if(LoadBoolean(R8, (EC8), (272))) == true then
                    call FlushChildHashtable(R8, EC8)
                    call EA8(t)
                    call KillUnit(AME)
                else
                    call SaveBoolean(R8, (EC8), (272), (true))
                endif
            else
                call SaveBoolean(R8, (EC8), (271), (true))
            endif
        else
            call SaveBoolean(R8, (EC8), (270), (true))
        endif
    else
        call SaveBoolean(R8, (EC8), (270), (false))
        call SaveBoolean(R8, (EC8), (271), (false))
        call SaveBoolean(R8, (EC8), (272), (false))
    endif
    set t = null
    set target = null
    set AME = null
    return false
endfunction
function APE takes nothing returns boolean
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = GetEnumUnit()
    local unit AME = CreateUnit(TZ, 'n0F5', GetUnitX(target), GetUnitY(target), 0)
    call IssueTargetOrderById(AME, 851983, target)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, AME, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, AME, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, AME, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, AME, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function AKE))
    call SaveInteger(R8, (EC8), (30), (KJ8(target)))
    call SaveUnitHandle(R8, (EC8), (269), (AME))
    call SaveInteger(R8, (EC8), (5), (SW4))
    set t = null
    set target = null
    set AME = null
    return false
endfunction
function AQE takes nothing returns boolean
    if GetUnitTypeId(GetFilterUnit()) == 'n0F5' and O18(GetFilterUnit()) == false then
        call KillUnit(GetFilterUnit())
    endif
    return false
endfunction
function ARE takes player p returns nothing
    local group g = OG8()
    call GroupEnumUnitsOfPlayer(g, p, Condition(function AQE))
    call OF8(g)
    set g = null
endfunction
function ASE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit ATE = (LoadUnitHandle(R8, (EC8), (266)))
    local unit AUE = (LoadUnitHandle(R8, (EC8), (267)))
    local unit AVE = (LoadUnitHandle(R8, (EC8), (268)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local group g
    local player AWE
    if KN8(GetOwningPlayer(Z77))then
        set AWE = N8[0]
    else
        set AWE = G8[0]
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if(LoadBoolean(R8, (EC8), (265)))then
            call S18(AWE, .4, GetUnitX(Z77), GetUnitY(Z77), 600)
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call ShowUnit(Z77, false)
        call RemoveUnit(ATE)
        call RemoveUnit(AUE)
        call RemoveUnit(AVE)
        call ARE(GetOwningPlayer(Z77))
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 1 then
            if IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) then
                call BlzSetEventDamage(1.)
            else
                call BlzSetEventDamage(.5)
            endif
        endif
    else
        if IsUnitVisible(Z77, AWE)then
            call SaveBoolean(R8, (EC8), (265), (true))
        endif
        set g = OG8()
        set H04 = Z77
        set TZ = GetOwningPlayer(Z77)
        set SW4 = TA8
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 25 + 400 + 200 * TA8, Condition(function U38))
        if U9 == false then
            call ForGroup(g, function APE)
        endif
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    set ATE = null
    set AUE = null
    set AVE = null
    set AWE = null
    return false
endfunction
function AXE takes nothing returns nothing
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit Z77
    local real PTD
    local real PUD
    local real AYE
    local unit ATE
    local unit AUE
    local unit AVE
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A15V')
    local integer id
    if TA8 == 1 then
        set Z77 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n0FJ', x, y, 0)
    elseif TA8 == 2 then
        set Z77 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n0FI', x, y, 0)
    elseif TA8 == 3 then
        set Z77 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n0F6', x, y, 0)
    else
        set Z77 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n0FH', x, y, 0)
    endif
    call S68(B54, x, y)
    set id = GetPlayerId(GetOwningPlayer(Z77))
    if wZ[id] == null then
        set wZ[id] = CreateUnit(GetOwningPlayer(Z77), 'e01V', x, y, 0)
        call O68(wZ[id], 'A176')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A176', false)
    endif
    call SetUnitPosition(Z77, PQ8(x), PS8(y))
    call UnitApplyTimedLife(Z77, 'BTLF', 10 + 5 * TA8)
    call SC8(x, y, 300)
    set PTD = x + 200 * Cos(0 * bj_DEGTORAD)
    set PUD = y + 200 * Sin(0 * bj_DEGTORAD)
    set AYE = YI7(PTD, PUD, x, y)
    set ATE = CreateUnit(GetOwningPlayer(Z77), 'h07H', PTD, PUD, AYE)
    call SetUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    call QueueUnitAnimation(ATE, "Stand Work Gold")
    set PTD = x + 200 * Cos(120 * bj_DEGTORAD)
    set PUD = y + 200 * Sin(120 * bj_DEGTORAD)
    set AYE = YI7(PTD, PUD, x, y)
    set AUE = CreateUnit(GetOwningPlayer(Z77), 'h07H', PTD, PUD, AYE)
    call SetUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    call QueueUnitAnimation(AUE, "Stand Work Gold")
    set PTD = x + 200 * Cos(240 * bj_DEGTORAD)
    set PUD = y + 200 * Sin(240 * bj_DEGTORAD)
    set AYE = YI7(PTD, PUD, x, y)
    set AVE = CreateUnit(GetOwningPlayer(Z77), 'h07H', PTD, PUD, AYE)
    call SetUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call QueueUnitAnimation(AVE, "Stand Work Gold")
    call SetUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call QueueUnitAnimation(Z77, "Stand Work")
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 3, true)
    call TriggerAddCondition(t, Condition(function ASE))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (266), (ATE))
    call SaveUnitHandle(R8, (EC8), (267), (AUE))
    call SaveUnitHandle(R8, (EC8), (268), (AVE))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveBoolean(R8, (EC8), (265), (false))
    call TriggerEvaluate(t)
    set Z77 = null
    set ATE = null
    set AUE = null
    set AVE = null
    set t = null
endfunction
function AZE takes nothing returns boolean
    if GetSpellAbilityId() == 'A15V' then
        call AXE()
    endif
    return false
endfunction
function E29 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AZE))
    set t = null
endfunction
function ABE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A15J')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A17A', false)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function ACE takes nothing returns nothing
    if IsUnitType(H04, UNIT_TYPE_HERO) then
        call SetUnitState(H54, UNIT_STATE_LIFE, GetUnitState(H54, UNIT_STATE_LIFE) + GetUnitState(H54, UNIT_STATE_MAX_LIFE) * .06)
    else
        call SetUnitState(H54, UNIT_STATE_LIFE, GetUnitState(H54, UNIT_STATE_LIFE) + GetUnitState(H54, UNIT_STATE_MAX_LIFE) * .02)
    endif
endfunction
function A3E takes nothing returns boolean
    local trigger t2 = GetTriggeringTrigger()
    local integer QYD = GetHandleId(t2)
    local trigger t1 = (LoadTriggerHandle(R8, (QYD), (274)))
    local integer EVE = GetHandleId(t1)
    local unit Z77 = (LoadUnitHandle(R8, (QYD), (2)))
    local integer TA8 = (LoadInteger(R8, (QYD), (5)))
    local unit target
    local real d
    local real a
    if(GetTriggerEventId() == EVENT_UNIT_DEATH and GetTriggerUnit() == Z77)or(GetTriggerEventId() != EVENT_UNIT_DAMAGED and GetTriggerEventId() != EVENT_UNIT_DEATH)then
        call FlushChildHashtable(R8, EVE)
        call EA8(t1)
        call FlushChildHashtable(R8, QYD)
        call EA8(t2)
    elseif GetTriggerEventId() == EVENT_UNIT_DEATH then
        if IsUnitIllusion(GetDyingUnit()) == false then
            call T88(GetDyingUnit(), Z77, 'h07Y', "ACE", 600, false)
        endif
    else
        set target = GetTriggerUnit()
        set d = Z47(Z77, target)
        if d < 775 and GetEventDamage() > 2 then
            set a = 15 + 5 * TA8
            if d > 200 then
                set a = a - 15 * ((d - 150) / (775 - 150))
            endif
            call BlzSetEventDamage(GetEventDamage() * (1 + a / 100))
        endif
    endif
    set t2 = null
    set t1 = null
    set Z77 = null
    set target = null
    return false
endfunction
function ALE takes nothing returns boolean
    local trigger t1 = GetTriggeringTrigger()
    local integer EVE = GetHandleId(t1)
    local trigger t2 = (LoadTriggerHandle(R8, (EVE), (275)))
    local integer QYD = GetHandleId(t2)
    local unit target = GetTriggerUnit()
    local unit Z77 = (LoadUnitHandle(R8, (EVE), (2)))
    if IsUnitEnemy(Z77, GetOwningPlayer(target)) and IsUnitType(target, UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(target, 'A04R') == 0 then
        if(LoadBoolean(R8, (QYD), (GetHandleId(target)))) == false then
            call TriggerRegisterUnitEvent(t2, target, EVENT_UNIT_DAMAGED)
            call TriggerRegisterUnitEvent(t2, target, EVENT_UNIT_DEATH)
            call SaveBoolean(R8, (QYD), (GetHandleId(target)), (true))
        endif
    endif
    set t1 = null
    set t2 = null
    set target = null
    set Z77 = null
    return false
endfunction
function A1E takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t1 = CreateTrigger()
    local integer EVE = GetHandleId(t1)
    local trigger t2 = CreateTrigger()
    local integer QYD = GetHandleId(t2)
    local trigger t3 = CreateTrigger()
    local integer A0E = GetHandleId(t3)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A15J')
    call TriggerRegisterUnitInRange(t1, Z77, 750, Condition(function KF8))
    call TriggerAddCondition(t1, Condition(function ALE))
    call SaveTriggerHandle(R8, (EVE), (275), (t2))
    call SaveUnitHandle(R8, (EVE), (2), (Z77))
    call TriggerRegisterTimerEvent(t2, 30, false)
    call TriggerRegisterUnitEvent(t2, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t2, Condition(function A3E))
    call SaveTriggerHandle(R8, (QYD), (274), (t1))
    call SaveUnitHandle(R8, (QYD), (2), (Z77))
    call SaveInteger(R8, (QYD), (5), (TA8))
    call TriggerRegisterTimerEvent(t3, .01, false)
    call TriggerAddCondition(t3, Condition(function ABE))
    call SaveUnitHandle(R8, (A0E), (2), (Z77))
    set Z77 = null
    set t1 = null
    set t2 = null
    set t3 = null
endfunction
function A5E takes nothing returns boolean
    if GetSpellAbilityId() == 'A15J' and GetUnitTypeId(GetTriggerUnit()) == 'H00R' then
        call A1E()
    endif
    return false
endfunction
function F49 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function A5E))
    call PU8('A17A')
    set t = null
endfunction
function A2E takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    local unit Z77 = SA4
    local real WLE = GetUnitState(X77, UNIT_STATE_LIFE)
    local real A_E = GetUnitState(X77, UNIT_STATE_MAX_LIFE)
    local real B4E = ((.003 + .003 * SB4) * A_E) / 2
    if WLE < B4E then
        call SetUnitState(X77, UNIT_STATE_LIFE, 1)
        call V08(Z77, X77, A34, 50)
        call V08(Z77, X77, AB4, 50)
        call V08(Z77, X77, AC4, 50)
    else
        call V08(Z77, X77, A14, B4E)
    endif
    set X77 = null
    set Z77 = null
endfunction
function B7E takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false and(GetUnitAbilityLevel((GetFilterUnit()), 'Bcyc') > 0) == false))and GetUnitAbilityLevel(GetFilterUnit(), 'B084') > 0
endfunction
function B8E takes nothing returns boolean
    local integer EC8 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local group g
    if O18(Z77) == false and IsBroken(Z77) == false then
        set g = OG8()
        set H04 = Z77
        set SA4 = Z77
        set SB4 = GetUnitAbilityLevel(Z77, 'A01N')
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1225, Condition(function B7E))
        call ForGroup(g, function A2E)
        call OF8(g)
    endif
    set g = null
    set Z77 = null
    return false
endfunction
function B9E takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function B8E))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (N28))
    set t = null
endfunction
function BDE takes nothing returns boolean
    if GetLearnedSkill() == 'A01N' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A01N') == 1 then
        call B9E(GetTriggerUnit())
    endif
    return false
endfunction
function L48 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function BDE))
    set t = null
endfunction
function BEE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A060')
    local real BFE = 2 * ML8
    local real BGE = ML8
    local integer R2D = (LoadInteger(R8, (W57), (34)))
    if ML8 == 4 then
        set BFE = 12
        set BGE = 6
    endif
    set BGE = BGE * R2D
    set BFE = BFE * R2D
    call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) + BFE)
    call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) + BGE)
    if GetTriggerEvalCount(t) > 5 or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function BHE takes unit Z77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A060')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", Z77, "origin"))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function BEE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) then
        call SaveInteger(R8, (W57), (34), (10))
    else
        call SaveInteger(R8, (W57), (34), (1))
    endif
    set t = null
endfunction
function BIE takes nothing returns boolean
    if GetUnitAbilityLevel(GetKillingUnit(), 'B02R') > 0 and IsBroken(GetTriggerUnit()) == false then
        call BHE(GetKillingUnit())
    elseif((LoadInteger(R8, (GetHandleId((GetTriggerUnit()))), ((4333)))) == 1) and IsBroken(GetTriggerUnit()) == false then
        call BHE(PR4)
    endif
    return false
endfunction
function C58 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function BIE))
    set t = null
endfunction
function BJE takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H04
    local unit X77 = H54
    local real P08 = (LoadReal(R8, (W57), (20)))
    local real D7E = (LoadReal(R8, (W57), (21)))
    if IsUnitAlly(X77, GetOwningPlayer(Z77))then
        call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + D7E)
    else
        call V08(Z77, X77, AB4, P08)
    endif
    set Z77 = null
    set X77 = null
endfunction
function BKE takes nothing returns nothing
    local trigger t = T88(H04, GetEnumUnit(), 'h00W', "BJE", 400, false)
    local integer EC8 = GetHandleId(t)
    call SaveReal(R8, (EC8), (20), (H64))
    call SaveReal(R8, (EC8), (21), (HL4))
    set t = null
endfunction
function BME takes nothing returns nothing
    call BKE()
endfunction
function BNE takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local group g = OG8()
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A05V')
    local real r
    local real P08
    local real D7E
    if ML8 == 1 then
        set P08 = 125
        set D7E = 70
        set r = 500
    elseif ML8 == 2 then
        set P08 = 175
        set D7E = 90
        set r = 500
    elseif ML8 == 3 then
        set P08 = 225
        set D7E = 110
        set r = 500
    elseif ML8 == 4 then
        set P08 = 275
        set D7E = 130
        set r = 500
    endif
    set H04 = AM7
    set H64 = P08
    set HL4 = D7E
    call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), r, Condition(function VG8))
    call GroupRemoveUnit(g, AM7)
    call ForGroup(g, function BME)
    call OF8(g)
    call SetUnitState(AM7, UNIT_STATE_LIFE, GetUnitState(AM7, UNIT_STATE_LIFE) + D7E)
    set AM7 = null
    set g = null
endfunction
function BOE takes nothing returns boolean
    if GetSpellAbilityId() == 'A05V' then
        call BNE()
    endif
    return false
endfunction
function C28 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BOE))
    set t = null
endfunction
function BPE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real R2D = (LoadReal(R8, (W57), (680)))
    local integer BQE = GetUnitAbilityLevel(Z77, 'A08P')
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", X77, "origin"))
    if BQE > 0 then
        set KF7 = true
        call V08(Z77, X77, AB4, R2D * (GetUnitState(X77, UNIT_STATE_MAX_LIFE) - GetUnitState(X77, UNIT_STATE_LIFE)))
        set KF7 = false
    else
        call V08(Z77, X77, AB4, R2D * (GetUnitState(X77, UNIT_STATE_MAX_LIFE) - GetUnitState(X77, UNIT_STATE_LIFE)))
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function BRE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer BSE = GetUnitAbilityLevel(Z77, 'A067')
    local integer BTE = GetUnitAbilityLevel(Z77, 'A08P')
    local real R2D
    if BSE == 1 then
        set R2D = .4
    elseif BSE == 2 or BTE == 1 then
        set R2D = .6
    elseif BSE == 3 or BTE == 2 then
        set R2D = .9
    elseif BTE == 3 then
        set R2D = 1.2
    endif
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (W57), (680), (R2D))
    call TriggerRegisterTimerEvent(t, 1.5, false)
    call TriggerAddCondition(t, Condition(function BPE))
    call ASCI(X77, 4333, 1.5)
    if BTE > 0 then
        call ASCI(X77, 4418, 1.51)
    endif
    set PR4 = Z77
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function BUE takes nothing returns boolean
    if(GetSpellAbilityId() == 'A067' or GetSpellAbilityId() == 'A08P')and OE8(GetSpellTargetUnit()) == false then
        call BRE()
    endif
    return false
endfunction
function C_8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BUE))
    set t = null
endfunction
function BVE takes nothing returns boolean
    return GetSpellAbilityId() == 'A0EY'or GetSpellAbilityId() == 'A0FH'or GetSpellAbilityId() == 'A0F0'
endfunction
function BWE takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') != 1
endfunction
function BXE takes nothing returns nothing
    call V08(GetTriggerUnit(), GetEnumUnit(), AB4, 25 + 75 * GetUnitAbilityLevel(GetTriggerUnit(), GetSpellAbilityId()))
endfunction
function BYE takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit AC7
    local group QA9 = OG8()
    local boolexpr QZ9 = Condition(function BWE)
    local real OV8 = GetUnitFacing(AM7)
    local real x
    local real y
    if GetSpellAbilityId() == 'A0EY'then
        set x = GetUnitX(AM7) + 200 * Cos(OV8 * bj_DEGTORAD)
        set y = GetUnitY(AM7) + 200 * Sin(OV8 * bj_DEGTORAD)
        set AC7 = CreateUnit(GetOwningPlayer(AM7), 'e006', x, y, 0)
        call UnitApplyTimedLife(AC7, 'BTLF', 2.)
        call GroupEnumUnitsInRange(QA9, x, y, 275., QZ9)
        call ForGroup(QA9, function BXE)
        call GroupClear(QA9)
    elseif GetSpellAbilityId() == 'A0FH'then
        set x = GetUnitX(AM7) + 450 * Cos(OV8 * bj_DEGTORAD)
        set y = GetUnitY(AM7) + 450 * Sin(OV8 * bj_DEGTORAD)
        set AC7 = CreateUnit(GetOwningPlayer(AM7), 'e006', x, y, 0)
        call UnitApplyTimedLife(AC7, 'BTLF', 2.)
        call GroupEnumUnitsInRange(QA9, x, y, 275., QZ9)
        call ForGroup(QA9, function BXE)
        call GroupClear(QA9)
    elseif GetSpellAbilityId() == 'A0F0'then
        set x = GetUnitX(AM7) + 700 * Cos(OV8 * bj_DEGTORAD)
        set y = GetUnitY(AM7) + 700 * Sin(OV8 * bj_DEGTORAD)
        set AC7 = CreateUnit(GetOwningPlayer(AM7), 'e006', x, y, 0)
        call UnitApplyTimedLife(AC7, 'BTLF', 2.)
        call GroupEnumUnitsInRange(QA9, x, y, 275., QZ9)
        call ForGroup(QA9, function BXE)
        call GroupClear(QA9)
    endif
    call OF8(QA9)
    call DestroyBoolExpr(QZ9)
    set AM7 = null
    set AC7 = null
    set QA9 = null
    set QZ9 = null
endfunction
function L88 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(t, function BYE)
    call TriggerAddCondition(t, Condition(function BVE))
    set t = null
endfunction
function BZE takes nothing returns nothing
    if(GetLearnedSkill() == 'A0EY')then
        if(GetUnitAbilityLevel(GetTriggerUnit(), 'A0EY') == 1)then
            call UnitAddAbility(GetTriggerUnit(), 'A0F0')
            call UnitAddAbility(GetTriggerUnit(), 'A0FH')
        else
            call SetUnitAbilityLevel(GetTriggerUnit(), 'A0F0', GetUnitAbilityLevel(GetTriggerUnit(), 'A0EY'))
            call SetUnitAbilityLevel(GetTriggerUnit(), 'A0FH', GetUnitAbilityLevel(GetTriggerUnit(), 'A0EY'))
        endif
    endif
    if(GetLearnedSkill() == 'A0BR')then
        if(GetUnitAbilityLevel(GetTriggerUnit(), 'A0BR') == 1)then
            call UnitAddAbility(GetTriggerUnit(), 'A0CQ')
        endif
    endif
endfunction
function RM takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddAction(t, function BZE)
    set t = null
endfunction
function BAE takes nothing returns boolean
    return GetSpellAbilityId() == 'A29J' or GetSpellAbilityId() == 'A1MP'
endfunction
function RequiemOfSoulsAghanimVampireCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer U8 = LoadInteger(R8, (EC8), (3100))
    local integer Zd
    local unit N28 = LoadUnitHandle(R8, (EC8), (14))
    local unit AC7 = null
    local real P08
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        set Zd = 1
        loop
            exitwhen Zd > U8
            set AC7 = LoadUnitHandle(R8, (EC8), (3100 + Zd))
            exitwhen GetEventDamageSource() == AC7
            set Zd = Zd + 1
        endloop
        if GetEventDamageSource() == AC7 then
            set P08 = GetEventDamage() * 0.4
            call BlzSetEventDamage(P08)
            call SetUnitState(N28, UNIT_STATE_LIFE, GetUnitState(N28, UNIT_STATE_LIFE) + P08)
        endif
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set AC7 = null
    set t = null
    set N28 = null
    return false
endfunction
function RequiemOfSoulsAghanim takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = LoadInteger(R8, (EC8), (5))
    local integer B3E = LoadInteger(R8, (EC8), (710))
    local unit N28 = LoadUnitHandle(R8, (EC8), (14))
    local location Mk = Location(LoadReal(R8, (EC8), (6)), LoadReal(R8, (EC8), (7)))
    local location sA
    local unit AC7
    local integer Zd
    local integer U8
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    set B3E = B3E / 2
    set Zd = 1
    set U8 = B3E
    loop
        exitwhen Zd > U8
        set sA = ZP7(Mk, 1000., (I2R(Zd) * (360 / B3E)))
        set AC7 = CreateUnitAtLoc(GetOwningPlayer(N28), 'e00C', sA, 0)
        call UnitAddAbility(AC7, 'A0HG')
        call SetUnitAbilityLevel(AC7, 'A0HG', TA8)
        call UnitApplyTimedLife(AC7, 'BTLF', 2.)
        call IssuePointOrderById(AC7, 852218, GetUnitX(N28), GetUnitY(N28))
        call SetUnitPathing(AC7, false)
        call SetUnitInvulnerable(AC7, true)
        call UnitAddAbility(AC7, 'Aloc')
        call SaveUnitHandle(R8, (EC8), (3100 + Zd), (AC7))
        call RemoveLocation(sA)
        set Zd = Zd + 1
    endloop
    call RemoveLocation(Mk)
    call SaveInteger(R8, (EC8), (3100), (U8))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function RequiemOfSoulsAghanimVampireCondt))
    call TriggerRegisterTimerEvent(t, 2., false)
    set Mk = null
    set N28 = null
    set sA = null
    set t = null
    set AC7 = null
endfunction
function BBE takes unit N28, integer BCE returns nothing
    local integer B3E = BCE
    local integer Zd
    local integer U8
    local location Mk = GetUnitLoc(GetTriggerUnit())
    local location sA
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A29J')
    local unit AC7
    local trigger t
    local integer EC8
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A1MP')
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 1000. / 700., false)
        call TriggerAddAction(t, function RequiemOfSoulsAghanim)
        call SaveInteger(R8, (EC8), (5), (TA8))
        call SaveInteger(R8, (EC8), (710), (B3E))
        call SaveUnitHandle(R8, (EC8), (14), (N28))
        call SaveReal(R8, (EC8), (6), (GetLocationX(Mk)))
        call SaveReal(R8, (EC8), (7), (GetLocationY(Mk)))
        set t = null
    endif
    set B3E = B3E / 2
    set Zd = 1
    set U8 = B3E
    loop
        exitwhen Zd > U8
        set sA = ZP7(Mk, 50., (I2R(Zd) * (360 / B3E)))
        set AC7 = CreateUnitAtLoc(GetOwningPlayer(N28), 'e00C', Mk, 0)
        call UnitAddAbility(AC7, 'A0HG')
        call SetUnitAbilityLevel(AC7, 'A0HG', TA8)
        call UnitApplyTimedLife(AC7, 'BTLF', 2.)
        call IssuePointOrderByIdLoc(AC7, 852218, sA)
        call SetUnitPathing(AC7, false)
        call SetUnitInvulnerable(AC7, true)
        call UnitAddAbility(AC7, 'Aloc')
        call RemoveLocation(sA)
        set Zd = Zd + 1
    endloop
    call RemoveLocation(Mk)
    set Mk = null
    set N28 = null
    set sA = null
    set AC7 = null
endfunction
function B6E takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local integer B3E = (LoadInteger(R8, (GetHandleId(O4D)), (710)))
    call BBE(O4D, B3E)
    set O4D = null
endfunction
function L98 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BAE))
    call TriggerAddAction(t, function B6E)
    set t = null
endfunction
function BLE takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H54
    local unit X77 = H04
    local integer B3E = GetUnitAbilityLevel(Z77, 'A0CQ')
    local integer B1E
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0BR')
    if ML8 == 1 then
        set B1E = 15
    elseif ML8 == 2 then
        set B1E = 22
    elseif ML8 == 3 then
        set B1E = 29
    else
        set B1E = 36
    endif
    set B1E = B1E + 1
    if IsUnitType(X77, UNIT_TYPE_HERO) == false then
        set B3E = B3E + 1
    else
        set B3E = B3E + 12
    endif
    set B3E = IMinBJ(B1E, B3E)
    call SetUnitAbilityLevel(Z77, 'A0CQ', B3E)
    call SaveInteger(R8, (GetHandleId(Z77)), (710), (B3E))
    set Z77 = null
    set X77 = null
endfunction
function B0E takes nothing returns nothing
    local integer B3E
    local integer ML8
    local integer B1E
    local unit Z77 = GetKillingUnit()
    if GetUnitTypeId(Z77) == 'e00C' then
        set Z77 = Y7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]
    endif
    set B3E = GetUnitAbilityLevel(Z77, 'A0CQ')
    set ML8 = GetUnitAbilityLevel(Z77, 'A0BR')
    if ML8 == 1 then
        set B1E = 15
    elseif ML8 == 2 then
        set B1E = 22
    elseif ML8 == 3 then
        set B1E = 29
    else
        set B1E = 36
    endif
    if B3E <= B1E then
        call T88(GetTriggerUnit(), Z77, 'h0CR', "BLE", 500, false)
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
    endif
    set Z77 = null
endfunction
function B5E takes nothing returns nothing
    local integer B2E = (LoadInteger(R8, (GetHandleId(GetTriggerUnit())), (710)))
    call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (710), (R2I(GetUnitAbilityLevel(GetTriggerUnit(), 'A0CQ') * .5) + 1))
    call SetUnitAbilityLevel(GetTriggerUnit(), 'A0CQ', R2I(GetUnitAbilityLevel(GetTriggerUnit(), 'A0CQ') * .5) + 1)
    call BBE(GetTriggerUnit(), B2E - (LoadInteger(R8, (GetHandleId(GetTriggerUnit())), (710))))
endfunction
function B_E takes nothing returns boolean
    if GetUnitAbilityLevel(GetKillingUnit(), 'A0BR') > 0 and IsUnitIllusion(GetTriggerUnit()) == false then
        call B0E()
    elseif GetUnitAbilityLevel(Y7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))], 'A0BR') > 0 and GetUnitTypeId(GetKillingUnit()) == 'e00C' then
        call B0E()
    endif
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0BR') > 0 and IsUnitIllusion(GetTriggerUnit()) == false then
        call B5E()
    endif
    return false
endfunction
function C4E takes nothing returns boolean
    local unit AM7 = Y7[GetPlayerId(GetTriggerPlayer())]
    local integer C7E = GetUnitAbilityLevel(AM7, 'A0CQ') - 1
    local integer C8E = 0
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0BR')
    if ML8 == 1 then
        set C8E = 12
    elseif ML8 == 2 then
        set C8E = 20
    elseif ML8 == 3 then
        set C8E = 28
    elseif ML8 == 4 then
        set C8E = 36
    endif
    set C7E = IMaxBJ(IMinBJ(C7E, C8E), 0)
    if GetUnitTypeId(AM7) == 'Nfir' then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., GetObjectName('n0KE') + " " + I2S(C7E) + "/" + I2S(C8E))
    endif
    set AM7 = null
    return false
endfunction
function L78 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i = 1
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function B_E))
    set t = CreateTrigger()
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-st", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-st", true)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function C4E))
    set t = null
endfunction
function C9E takes nothing returns boolean
    if(IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true)then
        return false
    endif
    if(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 1)then
        return false
    endif
    if(IsUnitAliveBJ(GetFilterUnit()) == false)then
        return false
    endif
    if(GetUnitTypeId(GetFilterUnit()) == 'o003')then
        return false
    endif
    if(IsUnitEnemy(GetFilterUnit(), GetTriggerPlayer()) == false)then
        return false
    endif
    if(GetTriggerUnit() == GetFilterUnit())then
        return false
    endif
    if(IsUnitVisible(GetFilterUnit(), GetTriggerPlayer()) == false)then
        return false
    endif
    return true
endfunction
function CDE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(GetEnumUnit()), 'e00C', GetUnitX(N28), GetUnitY(N28), 0)
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A29J')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A1MP')
    endif
    call UnitAddAbility(AC7, 'A0HH')
    call SetUnitAbilityLevel(AC7, 'A0HH', TA8)
    call UnitApplyTimedLife(AC7, 'BTLF', 2.)
    call SetUnitPathing(AC7, false)
    call SetUnitInvulnerable(AC7, true)
    call UnitAddAbility(AC7, 'Aloc')
    call IssueTargetOrderById(AC7, 852189, GetEnumUnit())
    set N28 = null
    set AC7 = null
endfunction
function CEE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(GetEnumUnit()), 'e00C', GetUnitX(N28), GetUnitY(N28), 0)
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A29J')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A1MP')
    endif
    call UnitAddAbility(AC7, 'A0HH')
    call SetUnitAbilityLevel(AC7, 'A0HH', TA8)
    call UnitApplyTimedLife(AC7, 'BTLF', 2.)
    call SetUnitPathing(AC7, false)
    call SetUnitInvulnerable(AC7, true)
    call UnitAddAbility(AC7, 'Aloc')
    call IssueTargetOrderById(AC7, 852189, GetEnumUnit())
    set N28 = null
    set AC7 = null
endfunction
function CFE takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(GetEnumUnit()), 'e00C', GetUnitX(N28), GetUnitY(N28), 0)
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A29J')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A1MP')
    endif
    call UnitAddAbility(AC7, 'A0HH')
    call SetUnitAbilityLevel(AC7, 'A0HH', TA8)
    call UnitApplyTimedLife(AC7, 'BTLF', 2.)
    call SetUnitPathing(AC7, false)
    call SetUnitInvulnerable(AC7, true)
    call UnitAddAbility(AC7, 'Aloc')
    call IssueTargetOrderById(AC7, 852189, GetEnumUnit())
    set N28 = null
    set AC7 = null
endfunction
function CGE takes nothing returns nothing
    local location Mk = GetUnitLoc(GetTriggerUnit())
    local unit N28 = GetTriggerUnit()
    local group XS8
    set XS8 = OG8()
    call GroupEnumUnitsInRangeOfLoc(XS8, Mk, 700, Condition(function C9E))
    call ForGroup(XS8, function CDE)
    call OF8(XS8)
    set XS8 = OG8()
    call GroupEnumUnitsInRangeOfLoc(XS8, Mk, 400, Condition(function C9E))
    call ForGroup(XS8, function CEE)
    call OF8(XS8)
    set XS8 = OG8()
    call GroupEnumUnitsInRangeOfLoc(XS8, Mk, 200, Condition(function C9E))
    call ForGroup(XS8, function CFE)
    call OF8(XS8)
    call RemoveLocation(Mk)
    set Mk = null
    set N28 = null
    set XS8 = null
endfunction
function LD8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BAE))
    call TriggerAddAction(t, function CGE)
    set t = null
endfunction
function CHE takes nothing returns boolean
    return GetSpellAbilityId() == 'A02H'
endfunction
function CIE takes nothing returns nothing
    local unit oA
    if(PO8() == false)then
        set oA = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()), bj_UNIT_FACING)
        call O68(oA, 'A02R')
        call SetUnitAbilityLevel(oA, 'A02R', GetUnitAbilityLevel(GetTriggerUnit(), 'A02H'))
        call IssueTargetOrderById(oA, 852075, GetSpellTargetUnit())
    else
        set oA = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()), bj_UNIT_FACING)
        call O68(oA, 'A1H1')
        call IssueTargetOrderById(oA, 852075, GetSpellTargetUnit())
    endif
    set oA = null
endfunction
function LF8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CHE))
    call TriggerAddAction(t, function CIE)
    set t = null
endfunction
function CJE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer NZ8 = GetHandleId(t)
    local unit W8D = (LoadUnitHandle(R8, (NZ8), (2)))
    local unit CKE = (LoadUnitHandle(R8, (NZ8), (19)))
    call ResetUnitAnimation(W8D)
    call RemoveUnit(CKE)
    call FlushChildHashtable(R8, (NZ8))
    call EA8(t)
    set W8D = null
    set CKE = null
    set t = null
    return false
endfunction
function CME takes nothing returns nothing
    local unit W8D = GetTriggerUnit()
    local unit CKE = CreateUnit(GetOwningPlayer(W8D), 'u01I', GetUnitX(W8D), GetUnitY(W8D), GetUnitFacing(W8D))
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, W8D, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function CJE))
    call SaveUnitHandle(R8, (NZ8), (2), (W8D))
    call SaveUnitHandle(R8, (NZ8), (19), (CKE))
    call SetUnitVertexColorBJ(CKE, 0, 0, 0, 75)
    call SetUnitAnimation(CKE, "spell third")
    set W8D = null
    set CKE = null
    set t = null
endfunction
function CNE takes nothing returns boolean
    if GetSpellAbilityId() == 'A08C' and GetUnitAbilityLevel(GetTriggerUnit(), 'A08C') < 5 then
        call CME()
    endif
    return false
endfunction
function LG8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function CNE))
    set t = null
endfunction
function AUH4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function AUZ4 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer VL8
    local integer TA8 = GetUnitAbilityLevel(p5, 'A03K')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(p5, 'A1B0')
    endif
    if TA8 == 1 then
        set VL8 = 25
    elseif TA8 == 2 then
        set VL8 = 50
    elseif TA8 == 3 then
        set VL8 = 80
    endif
    call TriggerRegisterTimerEvent(t, VL8, false)
    call TriggerAddCondition(t, Condition(function AUH4))
    set p5 = null
    set t = null
endfunction
function AUV4 takes nothing returns boolean
    if GetSpellAbilityId() == 'A03K' or GetSpellAbilityId() == 'A1B0' then
        call AUZ4()
    endif
    return false
endfunction
function ALG1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function AUV4))
    set t = null
endfunction
function CUE takes nothing returns boolean
    return(GetLearnedSkill() == 'A086' or GetLearnedSkill() == 'A08E')and IsUnitIllusion(GetTriggerUnit()) == false
endfunction
function COE takes nothing returns boolean
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit CPE = (LoadUnitHandle(R8, (W57), (304)))
    local unit CQE = (LoadUnitHandle(R8, (W57), (305)))
    if CPE == null or O18(CPE)or PO8()or AV7(CPE, BU[FX4]) == null then
        call ShowUnit(CQE, false)
    else
        call ShowUnit(CQE, true)
        call SetUnitX(CQE, GetUnitX(CPE))
        call SetUnitY(CQE, GetUnitY(CPE))
    endif
    if GetOwningPlayer(CQE) != GetOwningPlayer(CPE)then
        call SetUnitOwner(CQE, GetOwningPlayer(CPE), true)
    endif
    set CPE = null
    set CQE = null
    return false
endfunction
function CRE takes nothing returns nothing
    local integer EC8 = GetHandleId(GetTriggeringTrigger())
    local unit CPE = (LoadUnitHandle(R8, (EC8), (304)))
    if CPE != null and PO8() and (O18(CPE) == false or IsBroken(CPE)) then
        call UnitRemoveAbility(CPE, 'A116')
        call UnitRemoveAbility(CPE, 'A117')
        call SetUnitAbilityLevel(CPE, 'S00A', 5)
        call SetUnitAbilityLevel(CPE, 'A08C', 5)
    elseif CPE != null and PO8() == false and O18(CPE) == false and IsBroken(CPE) == false then
        call O68(CPE, 'A116')
        call O68(CPE, 'A117')
        call SetUnitAbilityLevel(CPE, 'S00A', GetUnitAbilityLevel(CPE, 'A086'))
        call SetUnitAbilityLevel(CPE, 'A08C', GetUnitAbilityLevel(CPE, 'A08E'))
    endif
    set CPE = null
endfunction
function CSE takes nothing returns nothing
    local unit CPE = GetTriggerUnit()
    local integer CTE = GetLearnedSkill()
    local integer W57 = GetHandleId(CPE)
    local trigger t
    if((LoadBoolean(R8, (W57), (306))) == false) then
        call SaveBoolean(R8, (W57), (306), (true))
        set t = CreateTrigger()
        call TriggerRegisterTimerEventPeriodic(t, 2.)
        call TriggerRegisterGameStateEventTimeOfDay(t, LESS_THAN, 6.)
        call TriggerRegisterGameStateEventTimeOfDay(t, GREATER_THAN, 18.)
        call TriggerAddAction(t, function CRE)
        call SaveUnitHandle(R8, (GetHandleId(t)), (304), CPE)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .5, true)
        call TriggerAddCondition(t, Condition(function COE))
        call SaveUnitHandle(R8, (W57), (304), CPE)
        call SaveUnitHandle(R8, (W57), (305), (CreateUnit(GetOwningPlayer(CPE), 'o01A', GetUnitX(CPE), GetUnitY(CPE), 0)))
        set t = null
    endif
    if(CTE == 'A086')then
        call O68(CPE, 'S00A')
        if(PO8())then
            call SetUnitAbilityLevel(CPE, 'S00A', 5)
        else
            call SetUnitAbilityLevel(CPE, 'S00A', GetUnitAbilityLevel(CPE, 'A086'))
        endif
    endif
    if(CTE == 'A08E')then
        call UnitAddAbility(CPE, 'A08C')
        if(PO8())then
            call SetUnitAbilityLevel(CPE, 'A08C', 5)
        else
            call SetUnitAbilityLevel(CPE, 'A08C', GetUnitAbilityLevel(CPE, 'A08E'))
        endif
    endif
    set CPE = null
endfunction
function LE8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function CUE))
    call TriggerAddAction(t, function CSE)
    set t = null
endfunction
function CVE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(V_8)
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(p5, 'A1CO')
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        if IsNormalAttackHero() and GetEventDamageSource() == p5 and GetTriggerUnit() != target then
            call UnitRemoveAbility(p5, 'A1CO')
            call KG8(V_8)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        elseif IsNormalAttackHero() and GetTriggerUnit() == target and GetEventDamageSource() == p5 then
            set C77 = C77 + 1
            call SaveInteger(R8, (EC8), (34), (C77))
            if C77 == 4 then
                call UnitRemoveAbility(p5, 'A1CO')
                call KG8(V_8)
                call FlushChildHashtable(R8, EC8)
                call EA8(t)
            endif
        endif
    else
        call UnitRemoveAbility(p5, 'A1CO')
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function CWE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer SUI = GetUnitAbilityLevel(Z77, 'A0PL')
    local trigger t
    local integer EC8
    call DestroyEffect(AddSpecialEffect("war3mapImported\\PhantomStrike.mdx", GetUnitX(Z77), GetUnitY(Z77)))
    call SetUnitX(Z77, GetUnitX(target))
    call SetUnitY(Z77, GetUnitY(target))
    if IsUnitAlly(Z77, GetOwningPlayer(target)) == false then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call O68(Z77, 'A1CO')
        call IssueTargetOrder(Z77, "attack", target)
        call TriggerRegisterTimerEvent(t, 3, false)
        call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function CVE))
        call SaveUnitHandle(R8, (EC8), (2), (Z77))
        call SaveInteger(R8, (EC8), (30), (KJ8(target)))
    endif
    set Z77 = null
    set target = null
    set t = null
endfunction
function CXE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0PL' then
        call CWE()
    endif
    return false
endfunction
function LJ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CXE))
    set t = null
endfunction
function CAE takes unit Z77, boolean CBE returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A03P')
    if CBE == false then
        call UnitRemoveAbility(Z77, 'A13F')
        call UnitRemoveAbility(Z77, 'B0A2')
    else
        call O68(Z77, 'A13F')
    endif
endfunction
function CCE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group g
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local boolean C3E = (LoadBoolean(R8, (W57), (674)))
    set C77 = C77 + 1
    call SaveInteger(R8, (W57), (34), (C77))
    if Z77 != null and O18(Z77) == false and GetUnitAbilityLevel(Z77, 'A03P') > 0 then
        set H04 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1625, Condition(function GenericCondition_EnemyUnitsExHeroes))
        if FirstOfGroup(g) != null then
            if C3E and C77 > 7 then
                set C3E = false
                call SaveBoolean(R8, (W57), (674), (C3E))
                set C77 = 0
                call SaveInteger(R8, (W57), (34), (C77))
            endif
            if C3E == false then
                set C77 = 0
                call SaveInteger(R8, (W57), (34), (C77))
                call SaveInteger(R8, (GetHandleId((Z77))), ((4302)), (2))
                call CAE(Z77, false)
                call SetUnitVertexColorBJ(Z77, 100, 100, 100, 0)
                if GetUnitAbilityLevel(Z77, 'A20S') == 0 then
                    call UnitSetUsesAltIcon(Z77, false)
                endif
            endif
        else
            if C3E == false and C77 > 7 then
                set C3E = true
                set C77 = 0
                call SaveBoolean(R8, (W57), (674), (C3E))
                call SaveInteger(R8, (W57), (34), (C77))
            endif
            if C3E then
                set C77 = 0
                call SaveInteger(R8, (W57), (34), (C77))
                call SaveInteger(R8, (GetHandleId((Z77))), ((4302)), (1))
                call CAE(Z77, true)
                call SetUnitVertexColorBJ(Z77, 100, 100, 100, 75)
                if IsPlayerEnemy(GetOwningPlayer(Z77), GetLocalPlayer()) and N08(GetLocalPlayer()) == false then
                    call UnitSetUsesAltIcon(Z77, true)
                else
                    call UnitSetUsesAltIcon(Z77, false)
                endif
            endif
        endif
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function C6E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function CCE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveBoolean(R8, (W57), (674), (false))
    set t = null
    set Z77 = null
endfunction
function CLE takes nothing returns boolean
    if GetLearnedSkill() == 'A03P' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A03P') == 1 then
        call C6E()
    endif
    return false
endfunction
function LH8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function CLE))
    set t = null
endfunction
function C1E takes nothing returns nothing
    local unit AC7
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        set AC7 = CreateUnit(GetOwningPlayer(GetEnumUnit()), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
        call O68(AC7, 'A0RI')
        call SetUnitAbilityLevel(AC7, 'A0RI', GetUnitAbilityLevel(LK4, 'A0RA'))
        call IssueTargetOrderById(AC7, 852106, GetEnumUnit())
        call V08(LK4, GetEnumUnit(), AB4, 100)
    endif
    set AC7 = null
endfunction
function C0E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer i
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local group C5E = OG8()
    local unit O4D = (LoadUnitHandle(R8, (EC8), (221)))
    set H04 = O4D
    set LK4 = O4D
    call GroupEnumUnitsInRange(C5E, x, y, 300, Condition(function GenericCondition_EnemyUnitsEx))
    set H24 = g
    call ForGroup(C5E, function C1E)
    call OF8(C5E)
    if GetTriggerEvalCount(t) > LI4 * 10 then
        set i = 1
        loop
            exitwhen i >= bj_MAX_PLAYER_SLOTS
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (2700 + i))))
            set i = i + 1
        endloop
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set g = null
    set C5E = null
    set O4D = null
    return false
endfunction
function C2E takes nothing returns nothing
    local integer i = 1
    local real C_E = GetSpellTargetX()
    local real L4E = GetSpellTargetY()
    local real x
    local real y
    local integer L7E = 16
    local string fx = "Abilities\\Spells\\Undead\\Graveyard\\GraveMarker.mdl"
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local group g = OG8()
    call S68(AN, C_E, L4E)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function C0E))
    call SaveGroupHandle(R8, (W57), (22), (g))
    call SaveUnitHandle(R8, (W57), (221), (GetTriggerUnit()))
    call SaveReal(R8, (W57), (6), ((C_E)))
    call SaveReal(R8, (W57), (7), ((L4E)))
    loop
        exitwhen i > L7E
        set x = C_E + LJ4 * Cos(i * 360 / L7E * bj_DEGTORAD)
        set y = L4E + LJ4 * Sin(i * 360 / L7E * bj_DEGTORAD)
        call SaveEffectHandle(R8, (W57), (2700 + i), (AddSpecialEffect(fx, x, y)))
        if i == 1 or i == 5 or i == 9 or i == 13 then
            set x = C_E + 275 * Cos(i * 360 / L7E * bj_DEGTORAD)
            set y = L4E + 275 * Sin(i * 360 / L7E * bj_DEGTORAD)
        endif
        set i = i + 1
    endloop
    set t = null
    set g = null
endfunction
function L8E takes nothing returns boolean
    if GetSpellAbilityId() == 'A0RA'then
        call C2E()
    endif
    return false
endfunction
function EC9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function L8E))
    set t = null
endfunction
function L9E takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (393)))
    local integer TA8 = (LoadInteger(R8, (W57), (5)))
    local integer LDE = 90
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A2MB' then
        call KillUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
    endif
    if TA8 == 1 then
        set LDE = 160
    elseif TA8 == 2 then
        set LDE = 120
    endif
    call SetUnitX(AC7, GetUnitX(Z77))
    call SetUnitY(AC7, GetUnitY(Z77))
    if C77 > LDE then
        call KillUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif C77 > 30 then
        call UnitRemoveAbility(AC7, 'Aloc')
        call ShowUnit(AC7, true)
        call O68(AC7, 'Aloc')
    endif
    set t = null
    set AC7 = null
    set Z77 = null
    return false
endfunction
function LEE takes nothing returns nothing
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
    call ASCI(GetEnumUnit(), 4406, 1)
    call SetUnitPosition(GetEnumUnit(), H64, HL4)
    call PanCameraToTimedForPlayer(GetOwningPlayer(GetEnumUnit()), H64, HL4, 0)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
    // call MH8(GetEnumUnit())
endfunction
function LFE takes unit Z77, unit target returns nothing
    local group g = OG8()
    call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl", GetUnitX(Z77), GetUnitY(Z77)))
    call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl", GetUnitX(target), GetUnitY(target)))
    set H64 = GetUnitX(target)
    set HL4 = GetUnitY(target)
    set H04 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 475, Condition(function GenericCondition_AllyUnitsExHeroes))
    call ForGroup(g, function LEE)
    call OF8(g)
    set g = null
endfunction
function LGE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit target = (LoadUnitHandle(R8, (W57), (17)))
    call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or target == null or O18(target)then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveType(target, UNIT_TYPE_PEON)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A0R0', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2MB', false)
        call PN8(GetOwningPlayer(Z77), GetObjectName('n03F'))
        // call XK7("Portal_Main called")
    elseif Z77 == null or O18(Z77)then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveType(target, UNIT_TYPE_PEON)
        call PN8(GetOwningPlayer(Z77), GetObjectName('n03G'))
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A0R0', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2MB', false)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A2MB' then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call UnitRemoveType(target, UNIT_TYPE_PEON)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A0R0', true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2MB', false)
        endif
    else
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveType(target, UNIT_TYPE_PEON)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A0R0', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2MB', false)
        call LFE(Z77, target)
    endif
    set t = null
    set Z77 = null
    set target = null
    return false
endfunction
function LHE takes nothing returns boolean
    local real d
    if IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == false or GetUnitAbilityLevel(GetFilterUnit(), 'A04R') > 0 or GetOwningPlayer(GetFilterUnit()) == Player(PLAYER_NEUTRAL_PASSIVE)then
        return false
    endif
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE)or(HB4 > 0 and BX9(GetFilterUnit()))then
        set d = Z87(HL4, H14, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < H64 then
            set H64 = d
            set H04 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function LIE takes unit Z77 returns unit
    local group g
    local real x
    local real y
    set x = GetSpellTargetX()
    set y = GetSpellTargetY()
    set g = OG8()
    set HB4 = GetUnitAbilityLevel(Z77, 'A0R0')
    set H04 = null
    set H64 = 9999
    set HL4 = x
    set H14 = y
    call GroupEnumUnitsInRange(g, x, y, 4000, Condition(function LHE))
    call OF8(g)
    set g = null
    return H04
endfunction
function LJE takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit target = GetSpellTargetUnit()
    local unit u
    if target == null then
        set target = LIE(Z77)
    endif
    if target == null then
        call PN8(GetOwningPlayer(Z77), GetObjectName('n03H'))
        return
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A0R0', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2MB', true)
    call O68(Z77, 'A2MB')
    call TriggerRegisterTimerEvent(t, 6 - GetUnitAbilityLevel(Z77, 'A0R0'), false)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LGE))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\DarkHands.mdl", target, "overhead")))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (target))
    call UnitAddType(target, UNIT_TYPE_PEON)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function L9E))
    call SaveInteger(R8, (W57), (5), (GetUnitAbilityLevel(Z77, 'A0R0')))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set u = CreateUnit(GetOwningPlayer(Z77), 'h098', GetUnitX(Z77), GetUnitY(Z77), 0)
    call SaveUnitHandle(R8, (W57), (393), (u))
    call ShowUnit(u, false)
    set t = null
    set target = null
    set u = null
endfunction
function LKE takes nothing returns nothing
    local unit X77 = GetSpellTargetUnit()
    local unit AM7 = GetTriggerUnit()
    if X77 != null then
        if IsUnitAlly(X77, GetOwningPlayer(AM7)) == false then
            call ZN7(AM7)
            call PN8(GetOwningPlayer(AM7), GetObjectName('n041'))
        elseif GetUnitAbilityLevel(AM7, 'A0R0') > 0 and BX9(X77) == false then
            call ZN7(AM7)
            call PN8(GetOwningPlayer(AM7), GetObjectName('n041'))
        endif
    endif
    if X77 == null then
        set X77 = LIE(AM7)
    endif
    if X77 == null then
        call ZN7(AM7)
        call PN8(GetOwningPlayer(AM7), GetObjectName('n040'))
    endif
    set X77 = null
    set AM7 = null
endfunction
function LME takes nothing returns boolean
    if GetSpellAbilityId() == 'A0R0' then
        call LKE()
    endif
    return false
endfunction
function LNE takes nothing returns boolean
    if GetSpellAbilityId() == 'A0R0' then
        call LJE(GetTriggerUnit())
    endif
    return false
endfunction
function EA9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function LME))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LNE))
    set t = null
    call O28('h094')
    call O28('h095')
    call O28('h096')
endfunction
function LOE takes nothing returns nothing
    call V08(LN4, GetEnumUnit(), AB4, LM4)
endfunction
function LPE takes nothing returns nothing
    call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + LM4 * .5)
endfunction
function LQE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local group g = OG8()
    local real r1 = 600
    local real r2 = 600
    local unit LRE
    set x = GetUnitX(AM7)
    set y = GetUnitY(AM7)
    call GroupEnumUnitsInRange(g, x, y, r1, Condition(function VK8))
    set LRE = FirstOfGroup(g)
    call OF8(g)
    if LRE == null then
        if(LoadBoolean(R8, (W57), (307))) == true and(LoadBoolean(R8, (W57), (308))) == true then
            call UnitRemoveAbility(AM7, 'A283')
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        else
            if(LoadBoolean(R8, (W57), (307))) == false then
                call SaveBoolean(R8, (W57), (307), (true))
            else
                call SaveBoolean(R8, (W57), (308), (true))
            endif
        endif
    else
        set x = GetUnitX(LRE)
        set y = GetUnitY(LRE)
        call SaveBoolean(R8, (W57), (307), (false))
        call SaveBoolean(R8, (W57), (308), (false))
        call DestroyEffect(AddSpecialEffect("war3mapImported\\CorpseExplosion.mdx", x, y))
        call FlushChildHashtable(R8, GetHandleId(LRE))
        call RemoveUnit(LRE)
        set g = OG8()
        set H04 = AM7
        set LN4 = AM7
        set LM4 = 20 * GetUnitAbilityLevel(AM7, 'A288')
        call GroupEnumUnitsInRange(g, x, y, r2, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function LOE)
        set H04 = AM7
        call GroupEnumUnitsInRange(g, x, y, r2, Condition(function U08))
        call ForGroup(g, function LPE)
        call OF8(g)
    endif
    set g = null
    set AM7 = null
    set LRE = null
    set t = null
    return false
endfunction
function LSE takes nothing returns nothing
    local real x = GetUnitX(GetTriggerUnit())
    local real y = GetUnitY(GetTriggerUnit())
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call S68(CK4, x, y)
    call TriggerRegisterTimerEvent(t, 1.5, true)
    call TriggerAddCondition(t, Condition(function LQE))
    call O68(GetTriggerUnit(), 'A283')
    call SaveUnitHandle(R8, (W57), (14), (GetTriggerUnit()))
    call SaveReal(R8, (W57), (6), ((x)))
    call SaveReal(R8, (W57), (7), ((y)))
    call SaveBoolean(R8, (W57), (307), (false))
    call SaveBoolean(R8, (W57), (308), (false))
    set t = null
endfunction
function LTE takes nothing returns boolean
    if GetSpellAbilityId() == 'A288'then
        call LSE()
    endif
    return false
endfunction
function EB9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LTE))
    set t = null
endfunction
function LUE takes nothing returns nothing
endfunction
function LVE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local group g = OG8()
    set H04 = Z77
    set KG7 = GetUnitAbilityLevel(Z77, 'A01I') * 10 + 10
    call GroupEnumUnitsInRange(g, GetUnitX(AC7), GetUnitY(AC7), 475, Condition(function U08))
    call ForGroup(g, function LUE)
    call OF8(g)
    if GetTriggerEvalCount(t) == 5 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    set g = null
    return false
endfunction
function LWE takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A01I')
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    call TriggerAddCondition(t, Condition(function LVE))
    call TriggerRegisterTimerEvent(t, 1, true)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call O68(AC7, 'A262')
    call SetUnitAbilityLevel(AC7, 'A262', ML8)
    call IssuePointOrderById(AC7, 852238, x, y)
    set Z77 = null
    set AC7 = null
    set t = null
endfunction
function LXE takes nothing returns boolean
    if GetSpellAbilityId() == 'A01I'then
        call LWE()
    endif
    return false
endfunction
function E39 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LXE))
    set t = null
endfunction
function LYE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A24Q')
    local integer LZE
    local real WAE
    local real LAE = 3 + ML8
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or GetTriggerEvalCount(t) > 4 * LAE then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(X77, 'A24Z')
        call UnitRemoveAbility(X77, 'A250')
        call UnitRemoveAbility(X77, 'A24X')
        call UnitRemoveAbility(X77, 'A251')
        call UnitRemoveAbility(X77, 'A24Y')
        call UnitRemoveAbility(X77, 'B0EH')
    else
        set WAE = 100 * GetUnitState(X77, UNIT_STATE_LIFE) / GetUnitState(X77, UNIT_STATE_MAX_LIFE)
        if WAE < 20 then
            set LZE = 5
        elseif WAE < 40 then
            set LZE = 4
        elseif WAE < 60 then
            set LZE = 3
        elseif WAE < 80 then
            set LZE = 2
        else
            set LZE = 1
        endif
        if LZE == 1 then
            if GetUnitAbilityLevel(X77, 'A24Z') == 0 then
                call UnitRemoveAbility(X77, 'A250')
                call UnitRemoveAbility(X77, 'A24X')
                call UnitRemoveAbility(X77, 'A251')
                call UnitRemoveAbility(X77, 'A24Y')
                call UnitRemoveAbility(X77, 'B0EH')
                call UnitAddAbility(X77, 'A24Z')
            endif
        elseif LZE == 2 then
            if GetUnitAbilityLevel(X77, 'A250') == 0 then
                call UnitRemoveAbility(X77, 'A24Z')
                call UnitRemoveAbility(X77, 'A24X')
                call UnitRemoveAbility(X77, 'A251')
                call UnitRemoveAbility(X77, 'A24Y')
                call UnitRemoveAbility(X77, 'B0EH')
                call UnitAddAbility(X77, 'A250')
            endif
        elseif LZE == 3 then
            if GetUnitAbilityLevel(X77, 'A24X') == 0 then
                call UnitRemoveAbility(X77, 'A24Z')
                call UnitRemoveAbility(X77, 'A250')
                call UnitRemoveAbility(X77, 'A251')
                call UnitRemoveAbility(X77, 'A24Y')
                call UnitRemoveAbility(X77, 'B0EH')
                call UnitAddAbility(X77, 'A24X')
            endif
        elseif LZE == 4 then
            if GetUnitAbilityLevel(X77, 'A251') == 0 then
                call UnitRemoveAbility(X77, 'A24Z')
                call UnitRemoveAbility(X77, 'A250')
                call UnitRemoveAbility(X77, 'A24X')
                call UnitRemoveAbility(X77, 'A24Y')
                call UnitRemoveAbility(X77, 'B0EH')
                call UnitAddAbility(X77, 'A251')
            endif
        elseif LZE == 5 then
            if GetUnitAbilityLevel(X77, 'A24Y') == 0 then
                call UnitRemoveAbility(X77, 'A24Z')
                call UnitRemoveAbility(X77, 'A250')
                call UnitRemoveAbility(X77, 'A24X')
                call UnitRemoveAbility(X77, 'A251')
                call UnitRemoveAbility(X77, 'B0EH')
                call UnitAddAbility(X77, 'A24Y')
            endif
        endif
        call V08(Z77, X77, AB4, .01 * 4 * .25 * GetUnitState(X77, UNIT_STATE_MAX_LIFE))
        if ModuloInteger(GetTriggerEvalCount(t), 4) == 0 then
            call CreateCorpse(GetOwningPlayer(Z77), 'ugho', GetUnitX(X77), GetUnitY(X77), 0)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function LBE takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A24Q')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("effects\\EntanglingBonesTarget.mdx", X77, "chest")))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function LYE))
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A24Z', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A250', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A24X', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A251', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A24Y', false)
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function LCE takes nothing returns boolean
    if GetSpellAbilityId() == 'A24Q' and OE8(GetSpellTargetUnit()) == false then
        call LBE()
    endif
    return false
endfunction
function E69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LCE))
    set t = null
endfunction
function L3E takes unit Z77, integer L6E returns nothing
    call SaveInteger(R8, (GetHandleId(Z77)), (687), (L6E))
    call UnitRemoveAbility(Z77, 'A25X')
    call UnitRemoveAbility(Z77, 'A25Y')
    call UnitRemoveAbility(Z77, 'A25Z')
    call UnitRemoveAbility(Z77, 'A25T')
    call UnitRemoveAbility(Z77, 'A25V')
    call UnitRemoveAbility(Z77, 'A25U')
    call UnitRemoveAbility(Z77, 'A25S')
    call UnitRemoveAbility(Z77, 'A25R')
    call UnitRemoveAbility(Z77, 'A25W')
    call UnitRemoveAbility(Z77, 'A260')
    call UnitRemoveAbility(Z77, 'A26M')
    call UnitRemoveAbility(Z77, 'A26L')
    call UnitRemoveAbility(Z77, 'A26G')
    call UnitRemoveAbility(Z77, 'A26H')
    call UnitRemoveAbility(Z77, 'A26F')
    call UnitRemoveAbility(Z77, 'A26E')
    call UnitRemoveAbility(Z77, 'A256')
    call UnitRemoveAbility(Z77, 'A26I')
    call UnitRemoveAbility(Z77, 'A26J')
    call UnitRemoveAbility(Z77, 'A26K')
    call UnitRemoveAbility(Z77, 'A26D')
    if L6E == 0 then
        call UnitAddAbility(Z77, 'A26M')
    endif
    if L6E == 1 then
        call O68(Z77, 'A25X')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25X', false)
        call UnitAddAbility(Z77, 'A26L')
    elseif L6E == 2 then
        call O68(Z77, 'A25Y')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25Y', false)
        call UnitAddAbility(Z77, 'A26G')
    elseif L6E == 3 then
        call O68(Z77, 'A25Z')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25Z', false)
        call UnitAddAbility(Z77, 'A26H')
    elseif L6E == 4 then
        call O68(Z77, 'A25T')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25T', false)
        call UnitAddAbility(Z77, 'A26F')
    elseif L6E == 5 then
        call O68(Z77, 'A25V')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25V', false)
        call UnitAddAbility(Z77, 'A26E')
    elseif L6E == 6 then
        call O68(Z77, 'A25U')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25U', false)
        call UnitAddAbility(Z77, 'A256')
    elseif L6E == 7 then
        call O68(Z77, 'A25S')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25S', false)
        call UnitAddAbility(Z77, 'A26I')
    elseif L6E == 8 then
        call O68(Z77, 'A25R')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25R', false)
        call UnitAddAbility(Z77, 'A26J')
    elseif L6E == 9 then
        call O68(Z77, 'A25W')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A25W', false)
        call UnitAddAbility(Z77, 'A26K')
    elseif L6E == 10 then
        call O68(Z77, 'A260')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A260', false)
        call UnitAddAbility(Z77, 'A26D')
    endif
endfunction
function LLE takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer L6E = (LoadInteger(R8, (GetHandleId(Z77)), (687)))
    local group g
    local unit LRE
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A261')
    local integer L1E = 2 + 2 * ML8
    if L6E < L1E and O18(Z77) == false then
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 925, Condition(function VK8))
        set LRE = FirstOfGroup(g)
        call OF8(g)
        if LRE != null then
            set L6E = L6E + 1
            call L3E(Z77, L6E)
            call T88((LRE), (Z77), 'h0D6', "CorpseCollector_FX_Nothing", 400, false)
            call RemoveUnit(LRE)
        endif
    endif
    set t = null
    set Z77 = null
    set LRE = null
    set g = null
    return false
endfunction
function L0E takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 4, true)
    call TriggerAddCondition(t, Condition(function LLE))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function L5E takes nothing returns nothing
    call V08(LO4, GetEnumUnit(), AB4, LP4)
endfunction
function L2E takes unit Z77, integer ML8, real BM7, real BN7, integer L6E, boolean LX9 returns nothing
    local group g = OG8()
    set LO4 = Z77
    set LP4 = 30 * L6E
    if LX9 then
        set LP4 = LP4 + 10 * L6E
    endif
    set H04 = Z77
    call GroupEnumUnitsInRange(g, BM7, BN7, 350, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function L5E)
    call OF8(g)
    set g = null
endfunction
function L_E takes unit Z77, real PPD, real PQD returns boolean
    local real BM7 = (LoadReal(R8, (GetHandleId(Z77)), (690)))
    local real BN7 = (LoadReal(R8, (GetHandleId(Z77)), (691)))
    if BM7 == 0 and BN7 == 0 then
        return false
    endif
    if Z87(PPD, PQD, BM7, BN7) < 425 then
        return true
    endif
    return false
endfunction
function D4F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer L6E = (LoadInteger(R8, (W57), (34)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A261')
    local integer i = 1
    local unit AC7
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local real x
    local real y
    local real a = (LoadReal(R8, (W57), (137)))
    local boolean LX9 = (LoadBoolean(R8, (W57), (688)))
    local boolean D7F = (LoadBoolean(R8, (W57), (689)))
    local real D8F = (LoadReal(R8, (W57), (549)))
    local real D9F = (LoadReal(R8, (W57), (567)))
    set D8F = PQ8(D8F + 10 * Cos(a))
    set D9F = PS8(D9F + 10 * Sin(a))
    call SaveReal(R8, (W57), (549), ((D8F) * 1.))
    call SaveReal(R8, (W57), (567), ((D9F) * 1.))
    if LX9 == false then
        set LX9 = L_E(Z77, D8F, D9F)
        if LX9 then
            call SaveBoolean(R8, (W57), (688), (LX9))
        endif
    endif
    if LX9 and D7F == false then
        set D7F = true
        call SaveBoolean(R8, (W57), (689), (D7F))
        loop
            exitwhen i > L6E
            set AC7 = (LoadUnitHandle(R8, (W57), (393 + i)))
            call SaveEffectHandle(R8, (W57), (609 + i), (AddSpecialEffectTarget("war3mapImported\\CorpseFire.mdx", AC7, "origin")))
            set i = i + 1
        endloop
    endif
    set i = 1
    if Z87(D8F, D9F, BM7, BN7) < 15 then
        loop
            exitwhen i > L6E
            if LX9 then
                call DestroyEffect((LoadEffectHandle(R8, (W57), (609 + i))))
            endif
            call KillUnit((LoadUnitHandle(R8, (W57), (393 + i))))
            set i = i + 1
        endloop
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call L2E(Z77, ML8, BM7, BN7, L6E, LX9)
    else
        loop
            exitwhen i > L6E
            set AC7 = (LoadUnitHandle(R8, (W57), (393 + i)))
            set x = (LoadReal(R8, (W57), (549 + i)))
            set y = (LoadReal(R8, (W57), (567 + i)))
            set x = PQ8(x + 10 * Cos(a))
            set y = PS8(y + 10 * Sin(a))
            call SaveReal(R8, (W57), (549 + i), (x))
            call SaveReal(R8, (W57), (567 + i), (y))
            call SetUnitX(AC7, x)
            call SetUnitY(AC7, y)
            set i = i + 1
        endloop
    endif
    set t = null
    set AC7 = null
    set Z77 = null
    return false
endfunction
function DDF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real BM7 = GetSpellTargetX()
    local real BN7 = GetSpellTargetY()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A261')
    local integer L6E = (LoadInteger(R8, (GetHandleId(Z77)), (687)))
    local integer i = 1
    local unit AC7
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), BM7, BN7) * bj_DEGTORAD
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (34), (L6E))
    call SaveReal(R8, (W57), (47), (BM7))
    call SaveReal(R8, (W57), (48), (BN7))
    call SaveReal(R8, (W57), (137), (a))
    call SaveReal(R8, (W57), (549), (x))
    call SaveReal(R8, (W57), (567), (y))
    call SaveBoolean(R8, (W57), (688), (false))
    call SaveBoolean(R8, (W57), (689), (false))
    loop
        exitwhen i > L6E
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'h0D7', x + GetRandomInt(- 200, 200), y + GetRandomInt(- 200, 200), 0)
        call SaveUnitHandle(R8, (W57), (393 + i), (AC7))
        call SaveReal(R8, (W57), (549 + i), (GetUnitX(AC7)))
        call SaveReal(R8, (W57), (567 + i), (GetUnitY(AC7)))
        set i = i + 1
    endloop
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function D4F))
    call L3E(Z77, 0)
    set Z77 = null
    set t = null
    set AC7 = null
endfunction
function DEF takes nothing returns boolean
    if GetSpellAbilityId() == 'A261' then
        call DDF()
    endif
    return false
endfunction
function DFF takes nothing returns boolean
    if GetLearnedSkill() == 'A261' and GetUnitAbilityLevel(GetTriggerUnit(), 'A261') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call L0E()
    endif
    return false
endfunction
function EL9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DEF))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function DFF))
    set t = null
endfunction
function DGF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    if GetTriggerEventId() == EVENT_UNIT_SPELL_FINISH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call KillUnit(AC7)
        call UnitApplyTimedLife(AC7, 'BTLF', .1)
    elseif O18(AC7)then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call SaveReal(R8, (W57), (6), (GetUnitX(AC7)))
        call SaveReal(R8, (W57), (7), (GetUnitY(AC7)))
        if x != GetUnitX(AC7)or y != GetUnitY(AC7)then
            call UnitRemoveAbility(AC7, 'A2L4')
        else
            call UnitAddAbility(AC7, 'A2L4')
        endif
    endif
    set AC7 = null
    set Z77 = null
    set t = null
    return false
endfunction
function DIF takes nothing returns boolean
    return GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(KH7)and GetUnitTypeId(GetFilterUnit()) == 'u01Y'
endfunction
function DJF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'u01Y', GetUnitX(Z77) + 100, GetUnitY(Z77) + 100, 0)
    local group g
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2L6')
    local real PX9
    local unit DKF
    local unit DMF
    call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_SPELL_FINISH)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function DGF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveReal(R8, (W57), (6), (GetUnitX(AC7)))
    call SaveReal(R8, (W57), (7), (GetUnitY(AC7)))
    call UnitAddAbility(AC7, 'A2L4')
    call SetUnitAbilityLevel(AC7, 'A2L5', GetUnitAbilityLevel(Z77, 'A2L6'))
    call SaveReal(R8, (GetHandleId(AC7)), (34), (TimerGetElapsed(E4)))
    set KH7 = Z77
    set g = OG8()
    call GroupEnumUnitsInRange(g, 0, 0, 99999, Condition(function DIF))
    if BlzGroupGetSize(g) > ML8 + 1 then
        set DMF = FirstOfGroup(g)
        set PX9 = (LoadReal(R8, (GetHandleId(DMF)), (34)))
        set DKF = DMF
        call GroupRemoveUnit(g, DMF)
        loop
            exitwhen DMF == null
            if PX9 > (LoadReal(R8, (GetHandleId(DMF)), (34)))then
                set PX9 = (LoadReal(R8, (GetHandleId(DMF)), (34)))
                set DKF = DMF
            endif
            set DMF = FirstOfGroup(g)
            call GroupRemoveUnit(g, DMF)
        endloop
        call KillUnit(DKF)
    endif
    call OF8(g)
    set g = null
    set AC7 = null
    set Z77 = null
    set DKF = null
    set DMF = null
    set t = null
endfunction
function DNF takes nothing returns boolean
    if GetSpellAbilityId() == 'A2L6' then
        call DJF()
    endif
    return false
endfunction
function E19 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DNF))
    set t = null
endfunction
function DOF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer LX9 = (LoadInteger(R8, (W57), (34)))
    call SaveInteger(R8, (GetHandleId(Z77)), (783), ((LoadInteger(R8, (GetHandleId(Z77)), (783))) - LX9))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set Z77 = null
    set t = null
    return false
endfunction
function DPF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit PL9 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'AIcd')
    local integer LX9
    local integer TD9
    if IsUnitInRange(Z77, PL9, 900 + 25)and O18(Z77) == false and IsUnitAlly(Z77, GetOwningPlayer(PL9)) == false and GetUnitTypeId(PL9) != 'n0F5' and IsUnitIllusion(PL9) == false and XC8(GetUnitTypeId(PL9)) == false and GetUnitAbilityLevel(PL9, 'A04R') == 0 then
        set TD9 = (LoadInteger(R8, (GetHandleId(Z77)), (783)))
        if IsUnitType(PL9, UNIT_TYPE_HERO) then
            set LX9 = 30
        else
            set LX9 = 5
        endif
        set TD9 = TD9 + LX9
        call SaveInteger(R8, (GetHandleId(Z77)), (783), (TD9))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 25 + ML8 * 5, false)
        call TriggerRegisterDeathEvent(t, Z77)
        call TriggerAddCondition(t, Condition(function DOF))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveInteger(R8, (W57), (34), (LX9))
    endif
    set t = null
    set Z77 = null
    set PL9 = null
    return false
endfunction
function DQF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer TD9 = (LoadInteger(R8, (GetHandleId(Z77)), (783)))
    local integer J_E = (LoadInteger(R8, (W57), (238)))
    if J_E != TD9 then
        call W78(Z77, TD9)
        call SaveInteger(R8, (W57), (238), (TD9))
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function DRF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function DPF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function DQF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set Z77 = null
    set t = null
endfunction
function DSF takes nothing returns boolean
    if GetLearnedSkill() == 'AIcd' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'AIcd') == 1 then
        call DRF()
    endif
    return false
endfunction
function E09 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function DSF))
    set t = null
endfunction
function DTF takes nothing returns boolean
    return GetUnitAbilityLevel(GetTriggerUnit(), 'A06K') > 0
endfunction
function DUF takes nothing returns nothing
    if(GetIssuedOrderId() == 852177)then
        call O68(GetTriggerUnit(), 'A0AZ')
        call SetUnitAbilityLevel(GetTriggerUnit(), 'A0AZ', GetUnitAbilityLevel(GetTriggerUnit(), 'A06K'))
    endif
    if(GetIssuedOrderId() == 852178)then
        call UnitRemoveAbility(GetTriggerUnit(), 'A0AZ')
    endif
endfunction
function LK8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call AUSI(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function DTF))
    call TriggerAddAction(t, function DUF)
    set t = null
endfunction
function DVF takes nothing returns nothing
    local integer W57 = GetHandleId(GetEnumUnit())
    if GetTriggerUnit() != GetEnumUnit()then
        call SaveInteger(R8, (W57), (672), ((LoadInteger(R8, (W57), (672))) + 1))
    endif
endfunction
function DWF takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'U00F' and IsUnitIllusion(GetFilterUnit()) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function DXF takes nothing returns boolean
    local group g
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and XC8(GetUnitTypeId(GetTriggerUnit())) == false and IsUnitIllusion(GetTriggerUnit()) == false then
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 475, Condition(function DWF))
        if GetUnitTypeId(GetKillingUnit()) == 'U00F' then
            call GroupAddUnit(g, GetKillingUnit())
        endif
        call ForGroup(g, function DVF)
        call OF8(g)
        set g = null
    endif
    return false
endfunction
function DYF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEvalCount(t) == 1 then
        call ShowUnit(Z77, false)
    elseif GetTriggerEvalCount(t) > 80 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function DZF takes nothing returns boolean
    local unit AC7
    local unit Z77
    local unit PL9
    local trigger t
    local integer W57
    if GetUnitTypeId(GetTriggerUnit()) == 'U00F' then
        set Z77 = GetTriggerUnit()
        set PL9 = GetKillingUnit()
        if Z77 == PL9 then
            set AC7 = CreateUnit(GetOwningPlayer(Z77), 'h0BB', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
            call SetUnitTimeScale(AC7, .75)
            call UnitApplyTimedLife(AC7, 'BTLF', 1.)
            call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodAbomination.mdl", AC7, "origin"))
            set AC7 = null
            call SetSoundPosition(KP, GetUnitX(Z77), GetUnitY(Z77), 50)
            call SetSoundVolumeBJ(KP, 100)
            call PlaySoundBJ(KP)
            call SetSoundPosition(OP, GetUnitX(Z77), GetUnitY(Z77), 50)
            call SetSoundVolumeBJ(OP, 100)
            call PlaySoundBJ(OP)
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, .1, true)
            call TriggerAddCondition(t, Condition(function DYF))
            call SaveUnitHandle(R8, (W57), (2), (Z77))
            set t = null
        endif
        set Z77 = null
        set PL9 = null
    endif
    return false
endfunction
function DAF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local unit Z77 = (LoadUnitHandle(R8, (GetHandleId(t)), (2)))
    local integer W57 = GetHandleId(Z77)
    local integer DBF = (LoadInteger(R8, (W57), (672)))
    local integer DCF = (LoadInteger(R8, (W57), (673)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A06D')
    local integer D3F = R2I(I2R(DBF) * (.5 + .5 * ML8))
    if D3F > DCF then
        call ModifyHeroStat(0, Z77, 0, D3F - DCF)
        call SaveInteger(R8, (W57), (673), (D3F))
        call QM8("+" + I2S(D3F - DCF) + " " + GetObjectName('n0MJ'), 3, Z77, .023, 0, 255, 0, 230)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function D6F takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function DAF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set Z77 = null
    set t = null
endfunction
function DLF takes nothing returns boolean
    if GetLearnedSkill() == 'A06D' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A06D') == 1 then
        call D6F()
    endif
    return false
endfunction
function D1F takes nothing returns boolean
    if GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())]) == 'U00F' then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., GetObjectName('n09R') + " " + I2S((LoadInteger(R8, (GetHandleId(Y7[GetPlayerId(GetTriggerPlayer())])), (673)))) + " " + GetObjectName('n09S'))
    endif
    return false
endfunction
function LM8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i = 1
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function DLF))
    set t = CreateTrigger()
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-st", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-st", true)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function D1F))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function DZF))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function DXF))
    set t = null
endfunction
function D0F takes unit Z77, unit X77 returns nothing
    local unit DHF = CreateUnit(GetOwningPlayer(Z77), 'e02A', GetUnitX(X77), GetUnitY(X77), 0)
    call V18(X77, Z77, .01)
    call UnitApplyTimedLife(DHF, 'BTLF', 1)
    set DHF = null
endfunction
function D5F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer D2F = (LoadInteger(R8, (EC8), (376)))
    local boolean D_F = (LoadBoolean(R8, (EC8), (377)))
    local unit target
    local unit E4F = (LoadUnitHandle(R8, (EC8), (2100 + D2F)))
    if D_F then
        set target = (LoadUnitHandle(R8, (EC8), (17)))
        call SetUnitX(target, GetUnitX(E4F))
        call SetUnitY(target, GetUnitY(E4F))
    endif
    call RemoveUnit(E4F)
    set D2F = D2F - 1
    call SaveInteger(R8, (EC8), (376), (D2F))
    if D2F == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        if IsUnitInRegion(AMN, target)then
            call AB41(target)
        endif
    endif
    set t = null
    set target = null
    set E4F = null
    return false
endfunction
function E7F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer D2F = (LoadInteger(R8, (EC8), (376)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real l4 = (LoadReal(R8, (EC8), (13)))
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local trigger E8F = (LoadTriggerHandle(R8, (EC8), (11)))
    local integer E9F = GetHandleId(E8F)
    local group g
    local unit u
    local real x
    local real y
    local real rc = ALR(N28, 900 + 100. * TA8) / 50.
    if D2F < rc then
        set D2F = D2F + 1
        call SaveInteger(R8, (EC8), (376), (D2F))
        set x = GetUnitX(N28) + D2F * 50 * Cos(l4 * bj_DEGTORAD)
        set y = GetUnitY(N28) + D2F * 50 * Sin(l4 * bj_DEGTORAD)
        call SaveUnitHandle(R8, (E9F), (2100 + D2F), (CreateUnit(GetOwningPlayer(N28), 'u00H', x, y, l4)))
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 125, Condition(function VF8))
        call GroupRemoveUnit(g, N28)
        set u = GroupPickRandomUnit(g)
        call OF8(g)
        if u != null then
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call TriggerRegisterTimerEvent(E8F, .03, true)
            call TriggerAddCondition(E8F, Condition(function D5F))
            call SaveInteger(R8, (E9F), (376), (D2F))
            call SaveBoolean(R8, (E9F), (377), (true))
            call SaveUnitHandle(R8, (E9F), (17), (u))
            if IsUnitEnemy(u, GetOwningPlayer(N28))then
                if IsUnitType(u, UNIT_TYPE_HERO) then
                    call X48("HA_Hits" + I2S(GetPlayerId(GetOwningPlayer(N28))), S74[GetPlayerId(GetOwningPlayer(N28))])
                    set S74[GetPlayerId(GetOwningPlayer(N28))] = S74[GetPlayerId(GetOwningPlayer(N28))] + 1
                    call ASCI(N28, 4400, 1.5)
                endif
                set S84[GetPlayerId(GetOwningPlayer(N28))] = S84[GetPlayerId(GetOwningPlayer(N28))] + 1
                call X48("HA_Total" + I2S(GetPlayerId(GetOwningPlayer(N28))), S84[GetPlayerId(GetOwningPlayer(N28))])
                call D0F(N28, u)
                if GetUnitAbilityLevel(N28, 'A06I') > 0 then
                    call V08(N28, u, A34, 90 * TA8)
                else
                    call V08(N28, u, A34, 90 * TA8 + 90)
                endif
                call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", u, "origin"))
            endif
        endif
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        set S84[GetPlayerId(GetOwningPlayer(N28))] = S84[GetPlayerId(GetOwningPlayer(N28))] + 1
        call TriggerRegisterTimerEvent(E8F, .03, true)
        call TriggerAddCondition(E8F, Condition(function D5F))
        call SaveInteger(R8, (E9F), (376), (D2F))
        call SaveBoolean(R8, (E9F), (377), (false))
    endif
    set t = null
    set N28 = null
    set E8F = null
    set g = null
    set u = null
    return false
endfunction
function EDF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real l4 = YI7(GetUnitX(N28), GetUnitY(N28), GetSpellTargetX(), GetSpellTargetY())
    local integer TA8 = GetUnitAbilityLevel(N28, 'A06I')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1CX')
    endif
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (13), (l4))
    call SaveInteger(R8, (EC8), (376), (0))
    call SaveTriggerHandle(R8, (EC8), (11), (CreateTrigger()))
    call TriggerRegisterTimerEvent(t, .0375, true)
    call TriggerAddCondition(t, Condition(function E7F))
    set N28 = null
    set t = null
endfunction
function EEF takes nothing returns boolean
    if GetSpellAbilityId() == 'A06I' or GetSpellAbilityId() == 'A1CX' then
        call EDF()
    endif
    return false
endfunction
function EFF takes nothing returns boolean
    local integer Z2D = S74[GetPlayerId(GetTriggerPlayer())]
    local integer D5 = S84[GetPlayerId(GetTriggerPlayer())]
    if GetUnitTypeId(Y7[GetPlayerId(GetTriggerPlayer())]) == 'U00F' and D5 > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, V9, 10., (GetObjectName(('n0EL'))) + " " + R2S(I2R(Z2D) / I2R(D5) * 100) + "% (" + I2S(Z2D) + "/" + I2S(D5) + ")")
    endif
    return false
endfunction
function LN8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i = 1
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EEF))
    set t = CreateTrigger()
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-stats", true)
        call TriggerRegisterPlayerChatEvent(t, G8[i], "-st", true)
        call TriggerRegisterPlayerChatEvent(t, N8[i], "-st", true)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function EFF))
    set t = null
endfunction
function EGF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real P99 = (30 + 30 * TA8) + (.2 + .1 * TA8) * GetHeroStr(Z77, true)
    local integer P89 = (LoadInteger(R8, (EC8), (34)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        if GetTriggerEventId() == EVENT_UNIT_DEATH or(GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId() == 'A0FL')then
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    elseif GetTriggerEvalCount(t) > 4 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call ZN7(Z77)
    else
        if TA8 > 0 then
            set P89 = P89 + 1
            if(P89 < 4 and IsUnitType(target, UNIT_TYPE_HERO))or(P89 < 8 and IsUnitType(target, UNIT_TYPE_HERO) == false)then
                call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) + P99)
                call V08(Z77, target, AB4, P99)
            endif
            call SaveInteger(R8, (EC8), (34), (P89))
        endif
    endif
    set t = null
    set Z77 = null
    set target = null
    return false
endfunction
function EHF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0FL')
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function EGF))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (34), (0))
    call TriggerEvaluate(t)
    set t = null
    set Z77 = null
    set target = null
endfunction
function EIF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0FL' and OE8(GetSpellTargetUnit()) == false then
        call EHF()
    endif
    return false
endfunction
function LO8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EIF))
    set t = null
endfunction
function EJF takes nothing returns boolean
    return GetSpellAbilityId() == 'A09D'
endfunction
function EKF takes nothing returns nothing
endfunction
function EMF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local group g
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) then
            call BlzSetEventDamage(1.)
        else
            call BlzSetEventDamage(.25)
        endif
    else
        set g = OG8()
        set H04 = AC7
        call GroupEnumUnitsInRange(g, GetUnitX(AC7), GetUnitY(AC7), 400 + 300 * 4 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function EKF)
        call OF8(g)
        set g = null
    endif
    set t = null
    set AC7 = null
    return false
endfunction
function ENF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = PQ8(GetSpellTargetX())
    local real y = PS8(GetSpellTargetY())
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A09D')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7
    local integer id
    if ML8 == 1 then
        set id = 'o00M'
    elseif ML8 == 2 then
        set id = 'o00L'
    elseif ML8 == 3 then
        set id = 'o00O'
    elseif ML8 == 4 then
        set id = 'o00N'
    endif
    set AC7 = CreateUnit(GetOwningPlayer(Z77), id, x, y, 0)
    call TriggerRegisterDeathEvent(t, AC7)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function EMF))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SetUnitAbilityLevel(AC7, 'A08T', ML8)
    call SetUnitAbilityLevel(AC7, 'A0CF', ML8)
    call IssueImmediateOrderById(AC7, 852512)
    call UnitApplyTimedLife(AC7, 'BTLF', 30.)
    set AC7 = null
    set Z77 = null
    set t = null
endfunction
function LQ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EJF))
    call TriggerAddAction(t, function ENF)
    set t = null
endfunction
function AAH5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        if IsUnitAlly(Z77, GetOwningPlayer(X77)) == true then
            call BlzSetEventDamage(GetEventDamage() * .892857)
        else
            call BlzSetEventDamage(GetEventDamage() * 1.071428)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function EOF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    call SetUnitVertexColor(X77, 255, 255, 255, 255)
    call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set X77 = null
    return false
endfunction
function EPF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2TD')
    local trigger t
    local integer W57
    if IsUnitAlly(X77, GetOwningPlayer(Z77)) then
        call UnitAddAbility(AC7, 'A2ZK')
        call SetUnitAbilityLevel(AC7, 'A2ZK', ML8)
    else
        call UnitAddAbility(AC7, 'A0CE')
        call SetUnitAbilityLevel(AC7, 'A0CE', ML8)
    endif
    call IssueTargetOrderById(AC7, 852486, X77)
    if GetUnitTypeId(X77) == 'n0FJ' or GetUnitTypeId(X77) == 'n0FI' or GetUnitTypeId(X77) == 'n0F6' or GetUnitTypeId(X77) == 'n0FH' then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 3.5, false)
        call TriggerRegisterDeathEvent(t, X77)
        call TriggerAddCondition(t, Condition(function EOF))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SetUnitVertexColor(X77, 50, 255, 50, 150)
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", GetUnitX(X77), GetUnitY(X77))))
        set t = null
    endif
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 3.5, false)
    call TriggerAddCondition(t, Condition(function AAH5))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function EQF takes nothing returns boolean
    if GetSpellAbilityId() == 'A2TD' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            if(IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_STRUCTURE) == false and GU8(GetSpellTargetUnit()) == false)or GetUnitTypeId(GetSpellTargetUnit()) == 'n0FJ' or GetUnitTypeId(GetSpellTargetUnit()) == 'n0FI' or GetUnitTypeId(GetSpellTargetUnit()) == 'n0F6' or GetUnitTypeId(GetSpellTargetUnit()) == 'n0FH' then
            else
                call ZN7(GetTriggerUnit())
                call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0K9'))
            endif
        else
            call EPF()
        endif
    endif
    return false
endfunction
function LR8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EQF))
    set t = null
endfunction
function AAX5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A0CC')
    local real WQD = 115 + 35 * TA8
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(p5, 'A02Z')
        set WQD = 120 + 60 * TA8
    endif
    set WQD = WQD * .25
    if GetUnitAbilityLevel(p5, 'Bdcl') == 0 or(GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId() == 'A0CC' or GetSpellAbilityId() == 'A02Z'))then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() != EVENT_UNIT_SPELL_ENDCAST then
        if GetUnitState(p5, UNIT_STATE_LIFE) + WQD >= GetUnitState(p5, UNIT_STATE_MAX_LIFE)then
            call SetUnitState(p5, UNIT_STATE_MANA, GetUnitState(p5, UNIT_STATE_MANA) + WQD + GetUnitState(p5, UNIT_STATE_LIFE) - GetUnitState(p5, UNIT_STATE_MAX_LIFE))
        endif
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function AAY5 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function AAX5))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    set p5 = null
    set target = null
    set t = null
endfunction
function AAJ5 takes nothing returns boolean
    if(GetSpellAbilityId() == 'A0CC' or GetSpellAbilityId() == 'A02Z')and IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_HERO)then
        call AAY5()
    endif
    return false
endfunction
function ALL1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AAJ5))
    set t = null
endfunction
function ERF takes unit Z77, unit X77 returns nothing
    local real ESF = 20 + 40 * T44
    local real ETF = 70 + 30 * T44
    local real EUF = (ESF + ETF * T74 / 700) * .5
    call V08(Z77, X77, AB4, EUF)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl", X77, "chest"))
endfunction
function EVF takes nothing returns nothing
    local unit target = GetEnumUnit()
    local group PBD = t0
    local unit Z77 = U0
    if IsUnitInGroup(target, PBD) == false then
        call GroupAddUnit(PBD, target)
        call ERF(Z77, target)
    endif
    set target = null
    set PBD = null
    set Z77 = null
endfunction
function EWF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local group PBD = (LoadGroupHandle(R8, (EC8), (133)))
    local effect fx
    local integer OUD = GetTriggerEvalCount(t)
    local real x
    local real x0 = GetUnitX(Z77)
    local real y
    local real y0 = GetUnitY(Z77)
    local integer i
    local integer d
    local group g = OG8()
    call SetUnitX(AC7, GetUnitX(Z77))
    call SetUnitY(AC7, GetUnitY(Z77))
    set t0 = PBD
    set U0 = Z77
    set T44 = GetUnitAbilityLevel(Z77, 'A1E7')
    if OUD > 20 then
        set d = 21 * 36 + (20 - OUD) * 36
        set T74 = d
        set i = 0
        loop
            exitwhen i > 36
            set x = x0 + d * Cos(360 * i / 36 * bj_DEGTORAD)
            set y = y0 + d * Sin(360 * i / 36 * bj_DEGTORAD)
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 100, Condition(function GenericCondition_EnemyUnitsExWithAncient))
            call ForGroup(g, function EVF)
            set i = i + 1
        endloop
    else
        set d = OUD * 36
        set T74 = d
        set i = 0
        loop
            exitwhen i > 36
            set x = x0 + d * Cos(360 * i / 36 * bj_DEGTORAD)
            set y = y0 + d * Sin(360 * i / 36 * bj_DEGTORAD)
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 100, Condition(function GenericCondition_EnemyUnitsExWithAncient))
            call ForGroup(g, function EVF)
            set i = i + 1
        endloop
    endif
    call OF8(g)
    if OUD == 40 then
        call KillUnit(AC7)
        call OF8(PBD)
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif OUD == 20 then
        call GroupClear(PBD)
        set fx = null
    endif
    set t = null
    set AC7 = null
    set PBD = null
    set Z77 = null
    set g = null
    return false
endfunction
function EXF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'h092', x, y, 0)
    local integer i = 0
    local group PBD = OG8()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx", N28, "origin")))
    call SaveGroupHandle(R8, (EC8), (133), (PBD))
    call SaveUnitHandle(R8, (EC8), (2), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call TriggerRegisterTimerEvent(t, .06, true)
    call TriggerAddCondition(t, Condition(function EWF))
    set t = null
    set AC7 = null
    set N28 = null
    set PBD = null
endfunction
function EYF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1E7' then
        call EXF()
    endif
    return false
endfunction
function EO9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EYF))
    set t = null
endfunction
function EZF takes integer EAF returns boolean
    return EAF != 'A09V' and EAF != 'A026' and EAF != 'A0LZ' and EAF != 'A0QN' and EAF != 'A0OI' and EAF != 'A0DY' and EAF != 'A1WB' and EAF != 'AHfa'
endfunction
function EBF takes unit ECF, unit Z77, unit target, integer TA8 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(ECF), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    call O68(AC7, 'A1AK')
    call SetUnitAbilityLevel(AC7, 'A1AK', TA8)
    call IssueTargetOrderById(AC7, 852119, target)
    call O68(AC7, 'A18D')
    call SetUnitAbilityLevel(AC7, 'A18D', TA8)
    call IssueTargetOrderById(AC7, 852111, target)
    set AC7 = null
endfunction
function E3F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8
    if GetSpellTargetUnit() == Z77 and EZF(GetSpellAbilityId()) and IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(Z77)) == false and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) then
        set TA8 = GetUnitAbilityLevel(Z77, 'A1E6')
        call EBF(Z77, Z77, GetTriggerUnit(), TA8)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function E6F takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function E3F))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    set Z77 = null
    set t = null
endfunction
function ELF takes nothing returns boolean
    if GetLearnedSkill() == 'A1E6' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1E6') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call E6F(GetTriggerUnit())
    endif
    return false
endfunction
function EP9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function ELF))
    set t = null
endfunction
function E1F takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer WG8
    if d < 1 then
        call UnitRemoveAbility(u, W0[0])
        call UnitRemoveAbility(u, W0[1])
        call UnitRemoveAbility(u, W0[2])
        call UnitRemoveAbility(u, W0[3])
        call UnitRemoveAbility(u, W0[4])
        call UnitRemoveAbility(u, W0[5])
        call UnitRemoveAbility(u, W0[6])
        call UnitRemoveAbility(u, W0[7])
        return
    endif
    loop
        exitwhen c == 0
        set c = a / 2
        set b[i] = a - c * 2
        set a = c
        set i = i + 1
    endloop
    set WG8 = i
    set i = 0
    loop
        exitwhen i > WG8
        if b[i] == 1 then
            call O68(u, W0[i])
        else
            call UnitRemoveAbility(u, W0[i])
        endif
        set i = i + 1
    endloop
endfunction
function E0F takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer WG8
    if d < 1 then
        call UnitRemoveAbility(u, z0[0])
        call UnitRemoveAbility(u, z0[1])
        call UnitRemoveAbility(u, z0[2])
        call UnitRemoveAbility(u, z0[3])
        call UnitRemoveAbility(u, z0[4])
        call UnitRemoveAbility(u, z0[5])
        call UnitRemoveAbility(u, z0[6])
        call UnitRemoveAbility(u, z0[7])
        return
    endif
    loop
        exitwhen c == 0
        set c = a / 2
        set b[i] = a - c * 2
        set a = c
        set i = i + 1
    endloop
    set WG8 = i
    set i = 0
    loop
        exitwhen i > WG8
        if b[i] == 1 then
            call O68(u, z0[i])
        else
            call UnitRemoveAbility(u, z0[i])
        endif
        set i = i + 1
    endloop
endfunction
function E5F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if GetTriggerUnit() == Z77 then
            call E1F(Z77, 0)
            call SaveUnitHandle(R8, (EC8), (2), (null))
        else
            call E0F(target, 0)
            call SaveUnitHandle(R8, (EC8), (17), (null))
        endif
    else
        if Z77 != null then
            call E1F(Z77, 0)
        endif
        if target != null then
            call E0F(target, 0)
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set target = null
    return false
endfunction
function E2F takes unit Z77, unit X77, unit O7D returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    if O7D == null then
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
    elseif O7D == X77 then
        call E0F(X77, 0)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (null))
    else
        call E1F(Z77, 0)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
        call SaveUnitHandle(R8, (W57), (2), (null))
        call SaveUnitHandle(R8, (W57), (17), (X77))
    endif
    call TriggerRegisterTimerEvent(t, 18, false)
    call TriggerAddCondition(t, Condition(function E5F))
    set t = null
endfunction
function E_F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local lightning F4F = (LoadLightningHandle(R8, (W57), (196)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = GetTriggerEvalCount(t)
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    call MoveLightning(F4F, true, GetUnitX(Z77), GetUnitY(Z77), GetUnitX(X77), GetUnitY(X77))
    call SetUnitX(AC7, GetUnitX(X77))
    call SetUnitY(AC7, GetUnitY(X77))
    if Z87(GetUnitX(Z77), GetUnitY(Z77), GetUnitX(X77), GetUnitY(X77)) > 700 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyLightning(F4F)
        call KillUnit(AC7)
        if GetTriggerEventId() == EVENT_UNIT_DEATH then
            call E2F(Z77, X77, GetTriggerUnit())
        else
            call E2F(Z77, X77, null)
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif C77 > 160 then
        call DestroyLightning(F4F)
        call KillUnit(AC7)
        call E2F(Z77, X77, null)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif ModuloInteger(C77, 20) == 0 or C77 == 1 then
        call E1F(Z77, (ML8 * 7) * R2I(C77 / 20))
        call E0F(X77, (ML8 * 7) * R2I(C77 / 20))
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set F4F = null
    set AC7 = null
    return false
endfunction
function F7F takes unit Z77, unit target, lightning F8F, unit AC7 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1DP')
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function E_F))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveLightningHandle(R8, (EC8), (196), (F8F))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    set t = null
endfunction
function F9F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local lightning F8F = (LoadLightningHandle(R8, (EC8), (196)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local real FDF = GetUnitX(Z77)
    local real FEF = GetUnitY(Z77)
    local real KDE = (LoadReal(R8, (EC8), (64)))
    local real KEE = (LoadReal(R8, (EC8), (65)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local unit target = null
    local group g = OG8()
    set KDE = PQ8(KDE + 25 * Cos(a))
    set KEE = PS8(KEE + 25 * Sin(a))
    call SaveReal(R8, (EC8), (64), ((KDE)))
    call SaveReal(R8, (EC8), (65), ((KEE)))
    call MoveLightning(F8F, true, FDF, FEF, KDE, KEE)
    call SetUnitX(AC7, KDE)
    call SetUnitY(AC7, KEE)
    set H04 = Z77
    call GroupEnumUnitsInRange(g, KDE, KEE, 225, Condition(function VV8))
    set target = FirstOfGroup(g)
    call OF8(g)
    if target != null then
        call F7F(Z77, target, F8F, AC7)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEvalCount(t) > 25 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyLightning(F8F)
        call KillUnit(AC7)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set F8F = null
    set target = null
    set g = null
    set AC7 = null
    return false
endfunction
function FFF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t
    local integer EC8
    local location l
    local lightning F8F = AddLightning("CLSB", true, GetUnitX(Z77), GetUnitY(Z77), GetUnitX(Z77), GetUnitY(Z77))
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'h088', GetUnitX(Z77), GetUnitY(Z77), 0)
    call SetLightningColor(F8F, .3, .5, 1, 1)
    if target == null then
        set l = GetSpellTargetLoc()
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .02, true)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function F9F))
        call SaveUnitHandle(R8, (EC8), (2), (Z77))
        call SaveLightningHandle(R8, (EC8), (196), (F8F))
        call SaveUnitHandle(R8, (EC8), (19), (AC7))
        call SaveReal(R8, (EC8), (137), ((Atan2(GetLocationY(l) - GetUnitY(Z77), GetLocationX(l) - GetUnitX(Z77)))))
        call SaveReal(R8, (EC8), (64), ((GetUnitX(Z77))))
        call SaveReal(R8, (EC8), (65), ((GetUnitY(Z77))))
        call RemoveLocation(l)
        set l = null
        set t = null
    else
        call F7F(Z77, target, F8F, AC7)
    endif
    set target = null
    set Z77 = null
    set l = null
    set t = null
    set AC7 = null
endfunction
function FGF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1DP' and OE8(GetSpellTargetUnit()) == false then
        call FFF()
    endif
    return false
endfunction
function EQ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FGF))
    set t = null
    set W0[0] = 'A1DV'
    set W0[1] = 'A1DQ'
    set W0[2] = 'A1DR'
    set W0[3] = 'A1DS'
    set W0[4] = 'A1DT'
    set W0[5] = 'A1DU'
    set W0[6] = 'A1DW'
    set W0[7] = 'A1DX'
    set z0[0] = 'A1E4'
    set z0[1] = 'A1E3'
    set z0[2] = 'A1E2'
    set z0[3] = 'A1E1'
    set z0[4] = 'A1E0'
    set z0[5] = 'A1E5'
    set z0[6] = 'A1DZ'
    set z0[7] = 'A1DY'
endfunction
function FHF takes integer EC8 returns nothing
    local integer i = 1
    local integer FIF = (LoadInteger(R8, (EC8), (136)))
    local unit target
    local integer QRD
    if FIF == 0 then
        return
    endif
    loop
        exitwhen i > FIF
        set QRD = (LoadInteger(R8, (EC8), (2200 + i)))
        set target = KH8(QRD)
        call KG8(QRD)
        call UnitRemoveAbility(target, n1[0])
        call UnitRemoveAbility(target, n1[1])
        call UnitRemoveAbility(target, n1[2])
        call UnitRemoveAbility(target, n1[3])
        call UnitRemoveAbility(target, n1[4])
        call UnitRemoveAbility(target, n1[5])
        set i = i + 1
    endloop
    set target = null
endfunction
function FJF takes unit target, integer EC8 returns nothing
    local integer QRD = KJ8(target)
    local integer FIF = (LoadInteger(R8, (EC8), (136)))
    set FIF = FIF + 1
    call SaveInteger(R8, (EC8), (136), (FIF))
    call SaveInteger(R8, (EC8), (2200 + FIF), (QRD))
endfunction
function FKF takes unit u returns integer
    return GetUnitAbilityLevel(u, n1[0]) * 1 + GetUnitAbilityLevel(u, n1[1]) * 2 + GetUnitAbilityLevel(u, n1[2]) * 4 + GetUnitAbilityLevel(u, n1[3]) * 8 + GetUnitAbilityLevel(u, n1[4]) * 16
endfunction
function FMF takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer WG8
    if d < 1 then
        call UnitRemoveAbility(u, n1[0])
        call UnitRemoveAbility(u, n1[1])
        call UnitRemoveAbility(u, n1[2])
        call UnitRemoveAbility(u, n1[3])
        call UnitRemoveAbility(u, n1[4])
        call UnitRemoveAbility(u, n1[5])
        return
    endif
    loop
        exitwhen c == 0
        set c = a / 2
        set b[i] = a - c * 2
        set a = c
        set i = i + 1
    endloop
    set WG8 = i
    set i = 0
    loop
        exitwhen i > WG8
        if b[i] == 1 then
            call O68(u, n1[i])
        else
            call UnitRemoveAbility(u, n1[i])
        endif
        set i = i + 1
    endloop
endfunction
function FNF takes unit u, integer d returns nothing
    if IsUnitType(u, UNIT_TYPE_STRUCTURE) == false then
        call FMF(u, d + FKF(u))
        call FJF(u, TD4)
    endif
endfunction
function FOF takes unit Z77, unit AC7, unit X77, integer ML8 returns nothing
    call IssueTargetOrderById(AC7, 852119, X77)
    call W48(Z77, X77, AC4, (50 + 25 * ML8) / 2., .3)
    call FNF(X77, 1)
endfunction
function FPF takes nothing returns boolean
    if(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false))and GetUnitTypeId(GetFilterUnit()) != 'n00L' then
        if GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) < T94 then
            set T94 = GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE)
            set T84 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function FQF takes nothing returns boolean
    if(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04))and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false))and GetUnitTypeId(GetFilterUnit()) != 'emow' and GetUnitTypeId(GetFilterUnit()) != 'uzig' and GetUnitTypeId(GetFilterUnit()) != 'n00L' then
        if GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) < T94 then
            set T94 = GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE)
            set T84 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function FRF takes unit Z77, unit AC7, integer TA8 returns nothing
    local group g = OG8()
    set T84 = null
    set T94 = 999999
    set Z0 = 30 + 30 * TA8
    set v1 = Z77
    set H04 = Z77
    if GetUnitAbilityLevel(Z77, 'A1UV') > 0 then
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 525, Condition(function FQF))
    else
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 525, Condition(function FPF))
    endif
    call OF8(g)
    if T84 != null then
        call FOF(Z77, AC7, T84, TA8)
    endif
    set g = null
endfunction
function FSF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = GetTriggerEvalCount(t)
    local real LZE
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FHF(W57)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if GetTriggerUnit() == Z77 then
            call KillUnit(AC7)
        endif
    else
        if GetUnitAbilityLevel(Z77, 'A1UV') > 0 then
            if ML8 == 1 then
                set LZE = .55
            elseif ML8 == 2 then
                set LZE = .45
            else
                set LZE = .35
            endif
        else
            if ML8 == 1 then
                set LZE = .7
            elseif ML8 == 2 then
                set LZE = .6
            else
                set LZE = .5
            endif
        endif
        set LZE = LZE / KI7
        if ModuloInteger(C77, R2I(LZE)) == 0 or C77 == 1 then
            set TD4 = W57
            call FRF(Z77, AC7, ML8)
        endif
        call SetUnitX(AC7, GetUnitX(Z77))
        call SetUnitY(AC7, GetUnitY(Z77))
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function FTF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1AO')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'h081', GetUnitX(Z77), GetUnitY(Z77), 0)
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(Z77, 'A1UV')
    endif
    call UnitApplyTimedLife(AC7, 'BTLF', 30.)
    call SetUnitAbilityLevel(AC7, 'A1DJ', ML8)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, KI7, true)
    call TriggerAddCondition(t, Condition(function FSF))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (5), (ML8))
    set Z77 = null
    set t = null
    set AC7 = null
endfunction
function FUF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1AO' or GetSpellAbilityId() == 'A1UV' then
        call FTF()
    endif
    return false
endfunction
function ER9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FUF))
    set t = null
    set n1[0] = 'A1DK'
    set n1[1] = 'A1DL'
    set n1[2] = 'A1DN'
    set n1[3] = 'A1DM'
    set n1[4] = 'A1DO'
endfunction
function FVF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer ADF1 = (LoadInteger(R8, (EC8), (73)))
    local unit N28 = KH8(ADF1)
    local integer FWF = GetTriggerEvalCount(t)
    local real y = (FWF - 13) * (FWF - 13)
    if FWF < 26 then
        if H7E(N28) == false then
            call SetUnitFlyHeight(N28, 375 - y, 0)
        endif
    else
        call PauseUnit(N28, false)
        if H7E(N28) == false then
            call SetUnitFlyHeight(N28, GetUnitDefaultFlyHeight(N28), 0)
        endif
        call V08((LoadUnitHandle(R8, (EC8), (2))), N28, AB4, (LoadReal(R8, (EC8), (20))))
        call V18((LoadUnitHandle(R8, (EC8), (2))), N28, (LoadReal(R8, (EC8), (57))))
        call KG8(ADF1)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function FXF takes unit N28, unit Z77, real Hk, real FYF, real FZF returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call PauseUnit(N28, true)
    if H7E(N28) == false then
        call UnitAddAbility(N28, 'Amrf')
        call UnitRemoveAbility(N28, 'Amrf')
    endif
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl", GetUnitX(N28), GetUnitY(N28)))
    call SaveInteger(R8, (EC8), (73), (KJ8(N28)))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveReal(R8, (EC8), (20), ((FYF)))
    call SaveReal(R8, (EC8), (57), ((Hk)))
    call TriggerRegisterTimerEvent(t, .02 / .52 * FZF, true)
    call TriggerAddCondition(t, Condition(function FVF))
    set t = null
endfunction
function FAF takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false and GU8(GetEnumUnit()) == false and((LoadInteger(R8, (GetHandleId((GetEnumUnit()))), ((4253)))) == 1) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call FXF(GetEnumUnit(), H04, HL4, H64, H14)
    endif
endfunction
function FBF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local real FYF = (LoadReal(R8, (EC8), (20)))
    local real Hk = (LoadReal(R8, (EC8), (57)))
    local real x1 = (LoadReal(R8, (EC8), (64)))
    local real y1 = (LoadReal(R8, (EC8), (65)))
    local real x2 = (LoadReal(R8, (EC8), (66)))
    local real y2 = (LoadReal(R8, (EC8), (67)))
    local real w = (LoadReal(R8, (EC8), (68)))
    local real FCF = (LoadReal(R8, (EC8), (44)))
    local real a = Atan2(y2 - y1, x2 - x1)
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local group F3F = OG8()
    local real FZF = FCF * 0.0625
    local real F6F = (LoadReal(R8, (EC8), (71)))
    local real FLF = (LoadReal(R8, (EC8), (72)))
    local real F1F = (LoadReal(R8, (EC8), (70)))
    local real F0F = (LoadReal(R8, (EC8), (63)))
    if FZF > Z87(x1, y1, x2, y2)then
        set x1 = x2
        set y1 = y2
    else
        set x1 = x1 + FZF * Cos(a)
        set y1 = y1 + FZF * Sin(a)
    endif
    set H04 = Z77
    set H64 = FYF
    set HL4 = Hk
    set H14 = F0F
    set H24 = g
    call GroupEnumUnitsInRange(F3F, x1, y1, w, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(F3F, function FAF)
    call OF8(F3F)
    if Z87(x1, y1, F6F, FLF) >= F1F then
        call SaveReal(R8, (EC8), (71), ((x1)))
        call SaveReal(R8, (EC8), (72), ((y1)))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl", x1, y1))
    endif
    call SaveReal(R8, (EC8), (64), ((x1)))
    call SaveReal(R8, (EC8), (65), ((y1)))
    if x1 == x2 and y1 == y2 then
        if(LoadBoolean(R8, (EC8), (69))) == true then
            call OF8(g)
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set g = null
    set F3F = null
    set Z77 = null
    set t = null
    return false
endfunction
function F5F takes real F2F, real F_F returns integer
    if F2F / F_F - R2I(F2F / F_F) >= .5 then
        return R2I(F2F / F_F) + 1
    endif
    return R2I(F2F / F_F)
endfunction
function G4F takes unit Z77, unit target, real FYF, real Hk, real F0F, real x1, real y1, real x2, real y2, real w, group G7F, boolean G8F, real FCF returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real G9F = Z87(x1, y1, x2, y2)
    local integer GDF = F5F(G9F, ON)
    local real F1F = G9F / GDF
    local group g
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveReal(R8, (EC8), (20), ((FYF)))
    call SaveReal(R8, (EC8), (57), ((Hk)))
    call SaveReal(R8, (EC8), (63), ((F0F)))
    call SaveReal(R8, (EC8), (64), ((x1)))
    call SaveReal(R8, (EC8), (65), ((y1)))
    call SaveReal(R8, (EC8), (66), ((x2)))
    call SaveReal(R8, (EC8), (67), ((y2)))
    call SaveReal(R8, (EC8), (68), ((w)))
    call SaveReal(R8, (EC8), (44), ((FCF)))
    if G7F == null then
        set g = OG8()
        if target != null and IsUnitIllusion(target) == false then
            call GroupAddUnit(g, target)
        endif
        call SaveGroupHandle(R8, (EC8), (22), (g))
        call SaveBoolean(R8, (EC8), (69), (G8F))
    else
        call SaveGroupHandle(R8, (EC8), (22), (G7F))
        call SaveBoolean(R8, (EC8), (69), (G8F))
    endif
    call SaveReal(R8, (EC8), (70), ((F1F)))
    call SaveReal(R8, (EC8), (71), ((x1)))
    call SaveReal(R8, (EC8), (72), ((y1)))
    call TriggerRegisterTimerEvent(t, .0625, true)
    call TriggerAddCondition(t, Condition(function FBF))
    set t = null
    set g = null
endfunction
function CausticFinaleCallBack takes nothing returns nothing
    if ZS7(GetEnumUnit()) == false then
        call V08(H04, GetEnumUnit(), AB4, H64)
        call T68(GetEnumUnit(), 'A38I', 1, 3., 'B38I')
    endif
endfunction
function CausticFinaleAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = LoadUnitHandle(R8, (EC8), (2))
    local unit X77 = LoadUnitHandle(R8, (EC8), (17))
    local integer TA8 = LoadInteger(R8, (EC8), (5))
    local real P99 = 50. + 40. * TA8
    local group g = OG8()
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    if GetTriggerEventId() != EVENT_UNIT_DEATH then
        set P99 = P99 * .5
    endif
    call QH8("Abilities\\Spells\\Undead\\PlagueCloud\\PlagueCloudCaster.mdl", x, y, 1.)
    set H04 = Z77
    set H64 = P99
    call GroupEnumUnitsInRange(g, x, y, 400 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(g, function CausticFinaleCallBack)
    call UnitRemoveAbility(X77, 'A38H')
    call UnitRemoveAbility(X77, 'B03F')
    call OF8(g)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set X77 = null
    set Z77 = null
    set g = null
    set t = null
endfunction
function CausticFinaleEffect takes unit Z77, unit X77 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call O68(X77, 'A38H')
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (17), (X77))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(Z77, 'A0FA')))
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 6., false)
    call TriggerAddAction(t, function CausticFinaleAction)
    set t = null
endfunction
function CausticFinale takes nothing returns boolean
    if IsNormalAttackHero() then
        if GetUnitAbilityLevel(GetEventDamageSource(), 'A0FA') > 0 and IsUnitType(BlzGetEventDamageTarget(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(BlzGetEventDamageTarget(), GetOwningPlayer(GetEventDamageSource())) and GetUnitAbilityLevel(BlzGetEventDamageTarget(), 'B03F') == 0 then
            call CausticFinaleEffect(GetEventDamageSource(), BlzGetEventDamageTarget())
        endif
    endif
    return false
endfunction
function Register_CausticFinale takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function CausticFinale))
    set t = null
endfunction
function GEF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    call SetUnitPosition(N28, x, y)
    call SetUnitAnimation(N28, "morph ALTERNATE")
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function GFF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A06O')
    local location l
    local real GGF
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local real GHF
    local real GIF
    local unit oA
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real P99
    local real Hk = 1.65
    local unit m5 = null
    if GetSpellTargetUnit() != null and OE8(GetSpellTargetUnit())then
        set m5 = GetSpellTargetUnit()
    endif
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1B4')
        if GetUnitAbilityLevel(N28, 'A0FA') > 0 then
            call CausticFinaleEffect(N28, m5)
        endif
    endif
    if TA8 == 1 then
        set P99 = 100
    elseif TA8 == 2 then
        set P99 = 160
    elseif TA8 == 3 then
        set P99 = 220
    elseif TA8 == 4 then
        set P99 = 280
    endif
    if GetSpellTargetUnit() != null then
        set l = GetUnitLoc(GetSpellTargetUnit())
    else
        set l = GetSpellTargetLoc()
    endif
    set GHF = GetLocationX(l)
    set GIF = GetLocationY(l)
    call RemoveLocation(l)
    set GGF = YI7(x, y, GHF, GIF)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveReal(R8, (EC8), (6), ((GHF)))
    call SaveReal(R8, (EC8), (7), ((GIF)))
    call TriggerRegisterTimerEvent(t, Z87(x, y, GHF, GIF) / 2000, false)
    call TriggerAddCondition(t, Condition(function GEF))
    if Z87(x, y, GHF, GIF) < 150 then
        set GHF = x + 150 * Cos(GGF * bj_DEGTORAD)
        set GIF = y + 150 * Sin(GGF * bj_DEGTORAD)
    endif
    call G4F(N28, m5, P99, Hk, 0.52, x, y, GHF, GIF, 175, null, true, 1600)
    set N28 = null
    set oA = null
    set l = null
    set N28 = null
    set m5 = null
    set t = null
endfunction
function GMF takes nothing returns boolean
    if GetSpellAbilityId() == 'A06O' or GetSpellAbilityId() == 'A1B4' then
        call GFF()
    endif
    return false
endfunction
function LS8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GMF))
    call PU8('A0X6')
    set t = null
endfunction
function GNF takes nothing returns nothing
    call V08(e0, GetEnumUnit(), AB4, 110)
    if GetPlayerController(GetOwningPlayer(o0)) == MAP_CONTROL_COMPUTER then
        call UnitAddAbility(o0, 'A17B')
    endif
    call IssueTargetOrderById(o0, 852075, GetEnumUnit())
endfunction
function GOF takes unit Z77, real x, real y, integer TA8, integer GPF returns nothing
    local group g = OG8()
    local real r
    local string fx
    if GPF == 8 then
        set r = 675
    elseif GPF == 9 then
        set r = 700
    elseif GPF == 10 then
        set r = 725
    else
        set r = 250 + 50 * GPF
    endif
    if GPF < 4 then
        set fx = "war3mapImported\\EpiPulse_1_4.mdx"
    elseif GPF < 8 then
        set fx = "war3mapImported\\EpiPulse_5_8.mdx"
    else
        set fx = "war3mapImported\\EpiPulse_9_12.mdx"
    endif
    call DestroyEffect(AddSpecialEffect(fx, x, y))
    set H04 = Z77
    set e0 = Z77
    set o0 = v0[GetPlayerId(GetOwningPlayer(Z77))]
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function GNF)
    call OF8(g)
    call nm(.03, false, x, y, 150 + 100 * GPF, 150 + 100 * GPF, 72, .03, 512)
    set g = null
endfunction
function GQF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real GRF = (LoadReal(R8, (EC8), (23)))
    local real GSF = (LoadReal(R8, (EC8), (24)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer GPF = (LoadInteger(R8, (EC8), (25)))
    local integer GTF = 4 + TA8 * 2
    local real x = GRF
    local real y = GSF
    if GPF > GTF then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if N28 != null and O18(N28) == false then
            set x = GetUnitX(N28)
            set y = GetUnitY(N28)
        endif
        call GOF(N28, x, y, TA8, GPF)
        call SaveInteger(R8, (EC8), (25), (GPF + 1))
        call SaveReal(R8, (EC8), (23), ((x)))
        call SaveReal(R8, (EC8), (24), ((y)))
    endif
    set t = null
    set p = null
    set N28 = null
    return false
endfunction
function GUF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local player p = GetOwningPlayer(N28)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A06R')
    if KN8(p)then
        set v0[GetPlayerId(p)] = CreateUnit(N8[0], 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    else
        set v0[GetPlayerId(p)] = CreateUnit(G8[0], 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    endif
    call O68(v0[GetPlayerId(p)], 'A17B')
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SavePlayerHandle(R8, (EC8), (54), (GetOwningPlayer(N28)))
    call SaveReal(R8, (EC8), (23), ((GetUnitX(N28))))
    call SaveReal(R8, (EC8), (24), ((GetUnitY(N28))))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (25), (2))
    call TriggerRegisterTimerEvent(t, .35, true)
    call TriggerAddCondition(t, Condition(function GQF))
    call GOF(N28, GetUnitX(N28), GetUnitY(N28), TA8, 1)
    set N28 = null
    set p = null
    set t = null
endfunction
function GVF takes nothing returns boolean
    if GetSpellAbilityId() == 'A06R' then
        call GUF()
    endif
    return false
endfunction
function LT8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function GVF))
    call PU8('A17B')
    set t = null
endfunction
function GWF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    if((LoadInteger(R8, (GetHandleId((AM7))), ((4299)))) == 1) == false then
        call UnitRemoveAbility(AM7, 'B04R')
    endif
    call RemoveUnit((LoadUnitHandle(R8, (W57), (379))))
    call RemoveUnit((LoadUnitHandle(R8, (W57), (380))))
    call RemoveUnit((LoadUnitHandle(R8, (W57), (381))))
    call RemoveUnit((LoadUnitHandle(R8, (W57), (382))))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set AM7 = null
    return false
endfunction
function GXF takes unit AM7, integer ML8, unit GYF, unit GZF, unit GAF, unit GBF returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real VL8 = 1.5
    call SaveInteger(R8, (GetHandleId((AM7))), ((4299)), (2))
    call TriggerRegisterTimerEvent(t, VL8, false)
    call TriggerAddCondition(t, Condition(function GWF))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveUnitHandle(R8, (W57), (379), (GYF))
    call SaveUnitHandle(R8, (W57), (380), (GZF))
    call SaveUnitHandle(R8, (W57), (381), (GAF))
    call SaveUnitHandle(R8, (W57), (382), (GBF))
    set t = null
endfunction
function GCF takes nothing returns boolean
    if(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))then
        call V08(SZ7, GetFilterUnit(), AB4, SY7)
    endif
    return false
endfunction
function G3F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local unit GYF = (LoadUnitHandle(R8, (W57), (379)))
    local unit GZF = (LoadUnitHandle(R8, (W57), (380)))
    local unit GAF = (LoadUnitHandle(R8, (W57), (381)))
    local unit GBF = (LoadUnitHandle(R8, (W57), (382)))
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0H0')
    local integer C77 = GetTriggerEvalCount(t)
    local group g
    local integer CW7 = 550
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST or C77 > ML8 * 20 / .5 then
        call GXF(AM7, ML8, GYF, GZF, GAF, GBF)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set g = OG8()
        set H04 = AM7
        set SZ7 = AM7
        set SY7 = ML8 * 20 * .5
        call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), CW7, Condition(function GCF))
        call OF8(g)
    endif
    set t = null
    set AM7 = null
    set GYF = null
    set GZF = null
    set GAF = null
    set GBF = null
    set g = null
    return false
endfunction
function G6F takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit GYF = CreateUnit(GetOwningPlayer(AM7), 'e00Q', GetUnitX(AM7) + 150, GetUnitY(AM7) + 150, 0)
    local unit GZF = CreateUnit(GetOwningPlayer(AM7), 'e00Q', GetUnitX(AM7) + 150, GetUnitY(AM7) - 150, 0)
    local unit GAF = CreateUnit(GetOwningPlayer(AM7), 'e00Q', GetUnitX(AM7) - 150, GetUnitY(AM7) + 150, 0)
    local unit GBF = CreateUnit(GetOwningPlayer(AM7), 'e00Q', GetUnitX(AM7) - 150, GetUnitY(AM7) - 150, 0)
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0H0')
    local unit AC7 = CreateUnit(GetOwningPlayer(AM7), 'e00E', GetUnitX(AM7), GetUnitY(AM7), 0)
    call SaveInteger(R8, (GetHandleId((AM7))), ((4299)), (1))
    call O68(AC7, 'A0HO')
    call SetUnitAbilityLevel(AC7, 'A0HO', ML8)
    call IssueTargetOrderById(AC7, 852069, AM7)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function G3F))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveUnitHandle(R8, (W57), (379), (GYF))
    call SaveUnitHandle(R8, (W57), (380), (GZF))
    call SaveUnitHandle(R8, (W57), (381), (GAF))
    call SaveUnitHandle(R8, (W57), (382), (GBF))
    call SetUnitTimeScale(GYF, 0)
    call SetUnitTimeScale(GZF, 0)
    call SetUnitTimeScale(GAF, 0)
    call SetUnitTimeScale(GBF, 0)
    set t = null
    set AM7 = null
    set AC7 = null
    set GYF = null
    set GZF = null
    set GAF = null
    set GBF = null
endfunction
function GLF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0H0' then
        call G6F()
    endif
    return false
endfunction
function LU8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GLF))
    set t = null
endfunction
function G1F takes nothing returns nothing
    call V08(m0, GetEnumUnit(), AC4, 25 + 50 * M0)
endfunction
function G0F takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    local group g = OG8()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A29K')
    call O68(AC7, 'A0M9')
    call SetUnitAbilityLevel(AC7, 'A0M9', TA8)
    call IssueImmediateOrderById(AC7, 852096)
    call O68(AC7, 'A01W')
    call SetUnitAbilityLevel(AC7, 'A01W', TA8)
    call IssueImmediateOrderById(AC7, 852127)
    set m0 = Z77
    set M0 = TA8
    call GroupEnumUnitsInRange(g, x, y, 350 + 25, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function G1F)
    call OF8(g)
    set Z77 = null
    set AC7 = null
    set g = null
endfunction
function G5F takes nothing returns boolean
    if GetSpellAbilityId() == 'A29K' then
        call G0F()
    endif
    return false
endfunction
function LV8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function G5F))
    set t = null
endfunction
function G2F takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0JJ')
    local real P08 = 40 + 20 * ML8
    if GetUnitAbilityLevel(X77, 'A04R') == 0 then
        call V08(Z77, X77, AC4, P08)
    endif
endfunction
function H4F takes nothing returns nothing
    local unit X77 = GetTriggerUnit()
    local unit Z77 = GetEventDamageSource()
    if GetUnitAbilityLevel(X77, 'B0GG') > 0 and IsBroken(Z77) == false then
        call G2F(Z77, X77)
    endif
    set X77 = null
    set Z77 = null
endfunction
function H8F takes nothing returns boolean
    if GetUnitAbilityLevel(GetEventDamageSource(), 'A0JJ') > 0 and IsNormalAttackHero() and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetEventDamageSource() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (14)))and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit()))then
        call H4F()
    endif
    return false
endfunction
function H9F takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function H8F))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (GetTriggerUnit()))
    set t = null
endfunction
function HDF takes nothing returns boolean
    if GetLearnedSkill() == 'A0JJ' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0JJ') == 1 then
        call H9F()
    endif
    return false
endfunction
function LW8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function HDF))
    set t = null
endfunction
function HEF takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (221)))
    local unit HFF = (LoadUnitHandle(R8, (EC8), (383)))
    local unit AC7
    local real TL8 = (LoadReal(R8, (EC8), (57)))
    local integer TA8 = GetUnitAbilityLevel(HFF, ('A0HW'))
    local real HGF = (LoadReal(R8, (EC8), (6)))
    local real HHF = (LoadReal(R8, (EC8), (7)))
    local real X0D = GetUnitX(N28)
    local real X5D = GetUnitY(N28)
    if(X0D - HGF) * (X0D - HGF) + (X5D - HHF) * (X5D - HHF) > 900 then
        set AC7 = CreateUnit(GetOwningPlayer(HFF), ('h002'), GetUnitX(N28), GetUnitY(N28), 0)
        call SetUnitAbilityLevel(AC7, ('A0I2'), TA8)
        call SetUnitAbilityLevel(AC7, ('A0HY'), TA8)
        call UnitApplyTimedLife(AC7, 'BTLF', 7)
        call SaveReal(R8, (EC8), (6), ((X0D)))
        call SaveReal(R8, (EC8), (7), ((X5D)))
    endif
    set TL8 = TL8 + 0.2
    call SaveReal(R8, (EC8), (57), (TL8))
    if TL8 > 7 or GetUnitState(N28, UNIT_STATE_LIFE) < 1 then
        call PauseTimer(t)
        call FlushChildHashtable(R8, EC8)
        call DestroyTimer(t)
    endif
    set t = null
    set N28 = null
    set HFF = null
    set AC7 = null
endfunction
function HIF takes nothing returns nothing
    local unit m5 = GetEnumUnit()
    local sound SL8
    local timer t
    local integer EC8
    call UnitDamageTarget(W8, m5, Y8, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call GroupAddUnit(C8, m5)
    if IsUnitType(m5, UNIT_TYPE_HERO) == true then
        set t = CreateTimer()
        set EC8 = GetHandleId(t)
        set SL8 = CreateSound("Sounds\\Spectral Dagger.mp3", false, true, true, 10, 10, "DefaultEAXON")
        call SetSoundPosition(SL8, GetUnitX(m5), GetUnitY(m5), 0)
        call SetSoundDistanceCutoff(SL8, 700)
        call StartSound(SL8)
        call KillSoundWhenDone(SL8)
        call SaveUnitHandle(R8, (EC8), (221), (m5))
        call SaveUnitHandle(R8, (EC8), (383), (W8))
        call SaveReal(R8, (EC8), (6), ((GetUnitX(m5))))
        call SaveReal(R8, (EC8), (7), ((GetUnitY(m5))))
        call TimerStart(t, 0.2, true, function HEF)
    endif
    set m5 = null
    set t = null
    set SL8 = null
endfunction
function HJF takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(W8))and IsUnitInGroup(GetFilterUnit(), C8) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction
function HKF takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local group PBD = (LoadGroupHandle(R8, (EC8), (133)))
    local group XS8 = OG8()
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit S08 = (LoadUnitHandle(R8, (EC8), (45)))
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit m5 = KH8(V_8)
    local real Y5 = GetUnitX(m5)
    local real Z5 = GetUnitY(m5)
    local real t5 = GetUnitX(S08)
    local real w5 = GetUnitY(S08)
    local real l4 = Atan2(Z5 - w5, Y5 - t5)
    local real X0D = PQ8(GetUnitX(S08) + 30 * Cos(l4))
    local real X5D = PS8(GetUnitY(S08) + 30 * Sin(l4))
    local unit AC7
    local integer TA8 = GetUnitAbilityLevel(N28, ('A0HW'))
    if(LoadBoolean(R8, (EC8), (384)))then
        call SaveBoolean(R8, (EC8), (384), (false))
        set AC7 = CreateUnit(GetOwningPlayer(N28), ('h002'), t5, w5, 0)
        call SetUnitAbilityLevel(AC7, 'A0I2', TA8)
        call SetUnitAbilityLevel(AC7, 'A0HY', TA8)
        call UnitApplyTimedLife(AC7, 'BTLF', 12.)
    else
        call SaveBoolean(R8, (EC8), (384), (true))
    endif
    call SetUnitX(S08, X0D)
    call SetUnitY(S08, X5D)
    call SetUnitFacing(S08, l4 * bj_RADTODEG)
    set C8 = PBD
    set W8 = N28
    set Y8 = 50 * GetUnitAbilityLevel(N28, ('A0HW'))
    call GroupEnumUnitsInRange(XS8, X0D, X5D, 150, Condition(function HJF))
    call ForGroup(XS8, function HIF)
    call OF8(XS8)
    if(X0D - Y5) * (X0D - Y5) + (X5D - Z5) * (X5D - Z5) < 1600 then
        call PauseTimer(t)
        call FlushChildHashtable(R8, EC8)
        call DestroyTimer(t)
        call KG8(V_8)
        call KillUnit(S08)
        call OF8(PBD)
    endif
    set PBD = null
    set XS8 = null
    set N28 = null
    set S08 = null
    set m5 = null
    set AC7 = null
    set t = null
endfunction
function HMF takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local group PBD = (LoadGroupHandle(R8, (EC8), (133)))
    local group XS8 = OG8()
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit VA8 = (LoadUnitHandle(R8, (EC8), (45)))
    local real Y5 = (LoadReal(R8, (EC8), (47)))
    local real Z5 = (LoadReal(R8, (EC8), (48)))
    local real t5 = GetUnitX(VA8)
    local real w5 = GetUnitY(VA8)
    local real l4 = (LoadReal(R8, (EC8), (13)))
    local real X0D = PQ8(GetUnitX(VA8) + 30 * Cos(l4))
    local real X5D = PS8(GetUnitY(VA8) + 30 * Sin(l4))
    local unit AC7
    local integer TA8 = GetUnitAbilityLevel(N28, ('A0HW'))
    if(LoadBoolean(R8, (EC8), (384)))then
        call SaveBoolean(R8, (EC8), (384), (false))
        set AC7 = CreateUnit(GetOwningPlayer(N28), ('h002'), t5, w5, 0)
        call SetUnitAbilityLevel(AC7, ('A0I2'), TA8)
        call SetUnitAbilityLevel(AC7, ('A0HY'), TA8)
        call UnitApplyTimedLife(AC7, 'BTLF', 12)
    else
        call SaveBoolean(R8, (EC8), (384), (true))
    endif
    call SetUnitX(VA8, X0D)
    call SetUnitY(VA8, X5D)
    set C8 = PBD
    set W8 = N28
    set Y8 = 50 * GetUnitAbilityLevel(N28, ('A0HW'))
    call GroupEnumUnitsInRange(XS8, X0D, X5D, 150, Condition(function HJF))
    call ForGroup(XS8, function HIF)
    call OF8(XS8)
    if(X0D - Y5) * (X0D - Y5) + (X5D - Z5) * (X5D - Z5) < 1600 then
        call PauseTimer(t)
        call DestroyTimer(t)
        call FlushChildHashtable(R8, EC8)
        call KillUnit(VA8)
        call OF8(PBD)
    endif
    set N28 = null
    set VA8 = null
    set PBD = null
    set XS8 = null
    set AC7 = null
    set t = null
endfunction
function HOF takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real VL8 = (LoadReal(R8, (EC8), (57)))
    set VL8 = VL8 + 0.2
    call SaveReal(R8, (EC8), (57), (VL8))
    if GetUnitAbilityLevel(N28, ('B047')) == 0 then
        call SetUnitPathing(N28, true)
    else
        call SetUnitPathing(N28, false)
    endif
    if VL8 > 30 then
        call PauseTimer(t)
        call FlushChildHashtable(R8, EC8)
        call SetUnitPathing(N28, true)
        call DestroyTimer(t)
    endif
    set N28 = null
    set t = null
endfunction
function HPF takes nothing returns boolean
    return GetSpellAbilityId() == ('A0HW')
endfunction
function HQF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit m5 = GetSpellTargetUnit()
    local real PPD = PQ8(GetUnitX(N28))
    local real PQD = PS8(GetUnitY(N28))
    local unit S08 = CreateUnit(GetOwningPlayer(N28), ('h003'), PPD, PQD, 0)
    local timer t = CreateTimer()
    local integer EC8 = GetHandleId(t)
    local group PBD = OG8()
    local location HRF
    local real l4
    local real Y5
    local real Z5
    call SetUnitPathing(S08, false)
    call SaveGroupHandle(R8, (EC8), (133), (PBD))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (45), (S08))
    if m5 != null then
        call SaveInteger(R8, (EC8), (30), (KJ8(m5)))
        call TimerStart(t, 0.0375, true, function HKF)
    else
        set HRF = GetSpellTargetLoc()
        set Y5 = GetLocationX(HRF)
        set Z5 = GetLocationY(HRF)
        set l4 = Atan2(Z5 - PQD, Y5 - PPD)
        call SetUnitFacing(S08, l4 * bj_RADTODEG)
        set Y5 = PQ8(PPD + 2100 * Cos(l4))
        set Z5 = PS8(PQD + 2100 * Sin(l4))
        call SaveReal(R8, (EC8), (47), (Y5))
        call SaveReal(R8, (EC8), (48), (Z5))
        call SaveReal(R8, (EC8), (13), (l4))
        call TimerStart(t, 0.035, true, function HMF)
        call RemoveLocation(HRF)
    endif
    set t = CreateTimer()
    set EC8 = GetHandleId(t)
    call SetUnitPathing(N28, false)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TimerStart(t, 0.2, true, function HOF)
    set N28 = null
    set m5 = null
    set S08 = null
    set t = null
    set PBD = null
    set HRF = null
endfunction
function DS9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HPF))
    call TriggerAddAction(t, function HQF)
    call CreateSound("Sounds\\Spectral Dagger.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call PU8('A0I2')
    call PU8('A0HY')
    set t = null
endfunction
function HSF takes nothing returns boolean
    return GetUnitAbilityLevel(GetEventDamageSource(), 'A0FX') > 0 and IsNormalAttackHero() and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsBroken(GetEventDamageSource()) == false
endfunction
function HTF takes nothing returns boolean
    return IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction
function HUF takes nothing returns nothing
    local unit N99 = GetEventDamageSource()
    local unit sE = GetTriggerUnit()
    local group XS8 = OG8()
    call GroupEnumUnitsInRange(XS8, GetUnitX(sE), GetUnitY(sE), 325 + 25, Condition(function HTF))
    call GroupRemoveUnit(XS8, sE)
    if FirstOfGroup(XS8) == null then
        call UnitDamageTarget(N99, sE, 5 + 15 * GetUnitAbilityLevel(N99, 'A0FX'), true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_DIVINE, WEAPON_TYPE_WHOKNOWS)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl", sE, "overhead"))
    endif
    call OF8(XS8)
    set N99 = null
    set sE = null
    set XS8 = null
endfunction
function DT9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function HSF))
    call TriggerAddAction(t, function HUF)
    set t = null
endfunction
function HVF takes nothing returns nothing
    local real d = Z47(GetTriggerUnit(), GetEnumUnit()) - 25
    local real HWF = 0
    if d < 300 then
        set HWF = 1
    elseif d < 1000 then
        set HWF = (1000 - d) / 700
    endif
    if HWF > 0 then
        set X64[GetPlayerId(GetOwningPlayer(GetEnumUnit()))] = true
        call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), WS * HWF, true, true, BlzGetEventAttackType(), BlzGetEventDamageType(), WEAPON_TYPE_METAL_MEDIUM_BASH)
        set X64[GetPlayerId(GetOwningPlayer(GetEnumUnit()))] = false
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl", GetEnumUnit(), "chest"))
    endif
endfunction
function HXF takes nothing returns boolean
    local unit AM7 = GetTriggerUnit()
    local real P08 = GetEventDamage()
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0NA')
    local group g
    if W18(P08)and IsBroken(AM7) == false then
        set g = OG8()
        set WS = P08 * (.06 + .04 * ML8)
        call BlzSetEventDamage(P08 - WS)
        call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 1025, Condition(function GenericCondition_EnemyUnitsWithAncient))
        call ForGroup(g, function HVF)
        call OF8(g)
    endif
    set AM7 = null
    set g = null
    return false
endfunction
function HYF takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function HXF))
    set t = null
endfunction
function HZF takes nothing returns boolean
    if GetLearnedSkill() == 'A0NA' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0NA') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call HYF(GetTriggerUnit())
    endif
    return false
endfunction
function DU9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function HZF))
    set t = null
endfunction
function HAF takes nothing returns boolean
    return GetSpellAbilityId() == 'A0H9'
endfunction
function HBF takes nothing returns nothing
    local unit target = GetEnumUnit()
    local unit N28 = GetTriggerUnit()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    call SaveUnitHandle(R8, (GetHandleId(oA)), (387), (target))
    call O68(oA, 'A0N9')
    call SetUnitAbilityLevel(oA, 'A0N9', GetUnitAbilityLevel(N28, 'A0H9'))
    call IssueTargetOrderById(oA, 852274, N28)
    set target = null
    set N28 = null
    set oA = null
endfunction
function HCF takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO)and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function H3F takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit XU = (LoadUnitHandle(R8, (EC8), (386)))
    local unit target = (LoadUnitHandle(R8, (EC8), (387)))
    local integer H6F = (LoadInteger(R8, (EC8), (385)))
    if GetTriggerEventId() != EVENT_UNIT_DEATH and GetTriggerEventId() != EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId() != EVENT_UNIT_ISSUED_POINT_ORDER then
        set H6F = H6F + 1
        call SaveInteger(R8, (EC8), (385), (H6F))
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        if target == GetTriggerUnit()then
            call KillUnit(XU)
        endif
    elseif IsUnitPaused(XU) == false then
        if H6F == 2 then
            call SetUnitVertexColor(XU, 255, 255, 255, 255)
        endif
        if H6F > 1 then
            call DisableTrigger(t)
            call IssueTargetOrderById(XU, 851983, target)
            call EnableTrigger(t)
        else
            call DisableTrigger(t)
            call IssueTargetOrderById(XU, 851986, target)
            call EnableTrigger(t)
        endif
    endif
    set XU = null
    set target = null
    set t = null
endfunction
function HLF takes nothing returns boolean
    return GetUnitAbilityLevel(GetSummonedUnit(), 'B06L') > 0
endfunction
function H1F takes nothing returns nothing
    local unit oA = GetSummoningUnit()
    local unit XU = GetSummonedUnit()
    local unit target = (LoadUnitHandle(R8, (GetHandleId(oA)), (387)))
    local trigger t = CreateTrigger()
    call SaveUnitHandle(R8, GetHandleId(Y7[GetPlayerId(GetOwningPlayer(oA))]), 7100 + GetHandleId(XU), target)
    call SetUnitPathing(XU, false)
    call SetUnitMoveSpeed(XU, 400)
    call SetUnitX(XU, GetUnitX(target))
    call SetUnitY(XU, GetUnitY(target))
    call IssueTargetOrderById(XU, 851986, target)
    call SetUnitVertexColor(XU, 255, 255, 255, 50)
    call TriggerRegisterUnitEvent(t, XU, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, XU, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, XU, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddAction(t, function H3F)
    call DestroyEffect(AddSpecialEffect("units\\nightelf\\SpiritOfVengeance\\SpiritOfVengeance.mdl", GetUnitX(XU), GetUnitY(XU)))
    call SaveUnitHandle(R8, (GetHandleId(t)), (387), (target))
    call SaveUnitHandle(R8, (GetHandleId(t)), (386), (XU))
    call SaveInteger(R8, (GetHandleId(t)), (385), (0))
    // if(EG8(GetHandleId(GetOwningPlayer(GetSummoningUnit())), "MGrp") != null)then
    //     call GroupAddUnit(EG8(GetHandleId(GetOwningPlayer(GetSummoningUnit())), "MGrp"), GetSummonedUnit())
    //     call SetUnitUserData(GetSummonedUnit(), GetPlayerId(GetOwningPlayer(LoadUnitHandle(R8, GetHandleId(oA), (387)))))
    // endif
    call FlushChildHashtable(R8, GetHandleId(oA))
    set t = null
    set target = null
    set XU = null
    set oA = null
endfunction
function H0F takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local group XS8 = OG8()
    local boolexpr hP = Condition(function HCF)
    local sound HT
    call O68(GetTriggerUnit(), ('A0HA'))
    // if(EG8(GetHandleId(GetOwningPlayer(GetTriggerUnit())), "MGrp") != null)then
    //     call GroupClear(EG8(GetHandleId(GetOwningPlayer(GetTriggerUnit())), "MGrp"))
    // endif
    call SetUnitPathing(AM7, false)
    call GroupEnumUnitsInRect(XS8, bj_mapInitialPlayableArea, hP)
    call ForGroup(XS8, function HBF)
    call SetUnitPathing(AM7, true)
    if FirstOfGroup(XS8) != null then
        set HT = CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav", false, false, false, 10, 10, "DefaultEAXON")
        call StartSound(HT)
        call KillSoundWhenDone(HT)
        set HT = null
    endif
    call DestroyBoolExpr(hP)
    call OF8(XS8)
    set AM7 = null
    set XS8 = null
    set hP = null
endfunction
function H5F takes nothing returns boolean
    return GetLearnedSkill() == 'A0H9'and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0H9') == 1
endfunction
function H2F takes nothing returns nothing
    call O68(GetTriggerUnit(), 'A0HA')
endfunction
function DV9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HAF))
    call TriggerAddAction(t, function H0F)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function HLF))
    call TriggerAddAction(t, function H1F)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function H5F))
    call TriggerAddAction(t, function H2F)
    call CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav", false, false, false, 10, 10, "DefaultEAXON")
    call PU8('A0N9')
    set t = null
endfunction
function I4F takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'B06L') > 0
endfunction
function I7F takes nothing returns nothing
    local real in = BI7(GetEnumUnit(), GetSpellTargetLoc())
    if in < Y8 then
        set W8 = GetEnumUnit()
        set Y8 = in
    endif
endfunction
function I8F takes nothing returns unit
    local group XS8 = OG8()
    local boolexpr hP = Condition(function I4F)
    set W8 = null
    set Y8 = 9999999
    call GroupEnumUnitsOfPlayer(XS8, GetOwningPlayer(GetTriggerUnit()), hP)
    call ForGroup(XS8, function I7F)
    set Zz = XS8
    call DestroyBoolExpr(hP)
    set XS8 = null
    set hP = null
    return W8
endfunction
function I9F takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = I8F()
    local unit IDF = (LoadUnitHandle(R8, (GetHandleId(N28)), (7100 + GetHandleId(target))))
    local real hN
    local real ho
    if target == null then
        call PN8(GetOwningPlayer(N28), GetObjectName('n03Z'))
    else
        set hN = GetUnitX(target)
        set ho = GetUnitY(target)
        call SetUnitX(target, GetUnitX(N28))
        call SetUnitY(target, GetUnitY(N28))
        call OF8(Zz)
        set Zz = null
        call SetUnitX(N28, hN)
        call SetUnitY(N28, ho)
        if Z87(GetCameraEyePositionX(), GetCameraEyePositionY(), GetUnitX(target), GetUnitY(target)) > 1400 then
            call PanCameraToTimedForPlayer(GetOwningPlayer(N28), hN, ho, 0)
        endif
        call IssueTargetOrderById(N28, 851983, IDF)
    endif
    set N28 = null
    set target = null
    set IDF = null
endfunction
function H_F takes nothing returns boolean
    if GetSpellAbilityId() == 'A0HA' then
        call I9F()
    endif
    return false
endfunction
function DW9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function H_F))
    set t = null
endfunction
function ADF5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A30F')
    call UnitRemoveAbility(p5, 'A30W')
    call UnitRemoveAbility(p5, 'A30P')
    call O68(p5, 'A30W')
    call SetUnitAbilityLevel(p5, 'A30W', TA8)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    return false
endfunction
function ADG5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A30F')
    call UnitRemoveAbility(p5, 'A30W')
    call UnitRemoveAbility(p5, 'A30H')
    call O68(p5, 'A30P')
    call SetUnitAbilityLevel(p5, 'A30P', TA8)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function ADF5))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = null
    set p5 = null
    return false
endfunction
function ADH5 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A30F')
    call TriggerRegisterTimerEvent(t, 6, false)
    call TriggerAddCondition(t, Condition(function ADG5))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call UnitRemoveAbility(p5, 'A30W')
    call UnitRemoveAbility(p5, 'A30P')
    call O68(p5, 'A30H')
    call SetUnitAbilityLevel(p5, 'A30H', TA8)
    set t = null
    set p5 = null
endfunction
function ADZ5 takes nothing returns boolean
    if GetSpellAbilityId() == 'A30F' then
        call ADH5()
    endif
    return false
endfunction
function IGF takes unit N28 returns nothing
    local integer TA8 = GetUnitAbilityLevel(N28, 'A30F')
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A30H', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A30W', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A30P', false)
    call O68(N28, 'A30W')
    call SetUnitAbilityLevel(N28, 'A30W', TA8)
endfunction
function IHF takes nothing returns boolean
    if GetLearnedSkill() == 'A30F' and IsUnitIllusion(GetTriggerUnit()) == false then
        call IGF(GetTriggerUnit())
    endif
    return false
endfunction
function LY8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function IHF))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ADZ5))
    set t = null
endfunction
function IIF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real LBD = (LoadReal(R8, (GetHandleId(Z77)), (685)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if LBD < (TimerGetElapsed(E4))or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call SaveReal(R8, (GetHandleId(Z77)), (685), (0))
        call UnitRemoveAbility(Z77, 'A24H')
        call UnitRemoveAbility(Z77, 'B0EC')
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function IJF takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(Z77, 'A24H')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A24H', false)
    call SaveReal(R8, (GetHandleId(Z77)), (685), (TimerGetElapsed(E4) + BV4 - .01))
    call TriggerRegisterTimerEvent(t, BV4, false)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function IIF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
endfunction
function IKF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real CV7 = (LoadReal(R8, (W57), (13)))
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local integer C77 = GetTriggerEvalCount(t)
    local real HHE = (LoadReal(R8, (W57), (193)))
    local integer VID = (LoadInteger(R8, (W57), (12)))
    if C77 > 35 then
        call SaveReal(R8, (W57), (193), (HHE * .98))
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH or C77 > VID then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", x, y))
        call SC8(x, y, 150)
        set x = PQ8(x + HHE * Cos(CV7))
        set y = PS8(y + HHE * Sin(CV7))
        if(IsPointInRegion(IF4, (x), (y))) == false then
            call SetUnitX(X77, x)
            call SetUnitY(X77, y)
        endif
        if C77 == 1 and(LoadBoolean(R8, (W57), (698))) == false then
            call IssueTargetOrderById(Z77, 851983, X77)
        endif
    endif
    set t = null
    set X77 = null
    set Z77 = null
    return false
endfunction
function IMF takes unit Z77, unit X77, boolean IOF returns nothing
    local trigger t
    local integer W57
    local real CV7 = Atan2(GetUnitY(X77) - GetUnitY(Z77), GetUnitX(X77) - GetUnitX(Z77))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0G5')
    local unit AC7
    if ML8 > 0 then
        set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
        call O68(AC7, 'A1WQ')
        call SetUnitAbilityLevel(AC7, 'A1WQ', ML8)
        if IssueTargetOrderById(AC7, 852095, X77)then
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl", Z77, "weapon"))
            call SaveUnitHandle(R8, (W57), (2), (Z77))
            call SaveUnitHandle(R8, (W57), (17), (X77))
            call SaveReal(R8, (W57), (13), (CV7))
            call SaveReal(R8, (W57), (193), (2.))
            call SaveBoolean(R8, (W57), (698), (IOF))
            call SaveInteger(R8, (W57), (12), (80 + 20 * ML8))
            call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
            call TriggerRegisterTimerEvent(t, .01, true)
            call TriggerAddCondition(t, Condition(function IKF))
            call V08(Z77, X77, AB4, GetUnitMoveSpeed(Z77) * .1 * ML8)
            call IJF(Z77)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function IPF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0G5')
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if IsNormalAttackHero() and Z77 == GetEventDamageSource() and IsUnitIllusion(Z77) == false and IsUnitType(X77, UNIT_TYPE_STRUCTURE) == false and GetUnitTypeId(X77) != 'n00L'and IsUnitEnemy(Z77, GetOwningPlayer(X77)) then
        if GetRandomInt(0, 100) <= (C77 + 1) * 3.020 then
            call SaveInteger(R8, (W57), (34), (0))
            call IMF(Z77, X77, false)
        else
            call SaveInteger(R8, (W57), (34), (C77 + 1))
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function GreaterBashLearnedAction takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function IPF))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (GetTriggerUnit()))
    call SaveInteger(R8, (GetHandleId(t)), (34), (4))
    set t = null
endfunction
function GreaterBashLearnedCondt takes nothing returns boolean
    if GetLearnedSkill() == 'A0G5' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0G5') == 1 then
        call GreaterBashLearnedAction()
    endif
    return false
endfunction
function LZ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function GreaterBashLearnedCondt))
    set t = null
endfunction
function ADT5 takes unit p5 returns nothing
    call StartHeroCooldownReduced(p5, 'A1P8')
    call BlzUnitDisableAbility(p5, 'A1P8', false, false)
endfunction
function IQF takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), BC4) == false then
        call GroupAddUnit(BC4, GetEnumUnit())
        call IMF(BZ4, GetEnumUnit(), true)
    endif
endfunction
function IRF takes integer id returns boolean
    return(id == 'A1P8' or id == 'A30F' or id == 'A0G4' or id == 'A1D8' or id == 'A0G5' or id == 'Aamk')or(id == 852002 or id == 852003 or id == 852004 or id == 852005 or id == 852006 or id == 852007)or(id > 1000000)
endfunction
function ISF takes nothing returns boolean
    if(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(BZ4)) then
        if Z47(BA4, GetFilterUnit()) < BB4 then
            set BB4 = Z47(BA4, GetFilterUnit())
            set BW4 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function ITF takes unit Z77, unit X77 returns unit
    local group g = OG8()
    set H04 = Z77
    set BZ4 = Z77
    set BW4 = null
    set BB4 = 999999
    set BA4 = X77
    call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 4000, Condition(function ISF))
    call OF8(g)
    set g = null
    return BW4
endfunction
function IUF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real AQD = (550 + 50 * ML8) * .02
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local real x
    local real y
    local real a
    local real d
    local string fx
    local group g
    if(GetTriggerEventId() == EVENT_WIDGET_DEATH and GetTriggerUnit() == Z77)or GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER or SL9(Z77)or(LoadReal(R8, (W57), (442))) < (TimerGetElapsed(E4))then
        if(GetTriggerEventId() != EVENT_UNIT_ISSUED_ORDER and GetTriggerEventId() != EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId() != EVENT_UNIT_ISSUED_TARGET_ORDER)or((GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER)and IRF(GetIssuedOrderId()) == false)then
            call ADT5(Z77)
            call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
            call UnitRemoveAbility(X77, 'A24L')
            call UnitRemoveAbility(X77, 'B0ED')
            call OF8((LoadGroupHandle(R8, (W57), (187))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call SetUnitTimeScale(Z77, 1)
            call KillUnit(AC7)
            call SetUnitPathing(Z77, true)
            call SetUnitVertexColor(Z77, 255, 255, 255, 255)
            call UnitRemoveAbility(Z77, 'A179')
            call SC8(GetUnitX(Z77), GetUnitY(Z77), 200)
            if GetTriggerEventId() != EVENT_WIDGET_DEATH then
                call ResetUnitAnimation(Z77)
            endif
            call SaveBoolean(R8, GetHandleId(Z77), 'DARK', false)
            call RemoveSavedHandle(R8, GetHandleId(Z77), 'DARK')
        endif
    elseif GetTriggerEventId() == EVENT_WIDGET_DEATH and GetTriggerUnit() == X77 then
        set fx = ""
        if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(Z77))or N08(GetLocalPlayer())then
            set fx = "Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
        endif
        call UnitRemoveAbility(X77, 'A24L')
        call UnitRemoveAbility(X77, 'B0ED')
        set X77 = ITF(Z77, X77)
        if X77 != null then
            call SaveUnitHandle(R8, (W57), (17), (X77))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
            call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget(fx, X77, "overhead")))
            call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget(fx, X77, "overhead")))
            call SaveReal(R8, (W57), (442), (TimerGetElapsed(E4) + 50.))
            call TriggerRegisterDeathEvent(t, X77)
            call SaveUnitHandle(R8, GetHandleId(Z77), 'DARK', X77)
        else
            call ADT5(Z77)
            call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
            call UnitRemoveAbility(X77, 'A24L')
            call UnitRemoveAbility(X77, 'B0ED')
            call OF8((LoadGroupHandle(R8, (W57), (187))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call SetUnitTimeScale(Z77, 1)
            call KillUnit(AC7)
            call SetUnitPathing(Z77, true)
            call ResetUnitAnimation(Z77)
            call SetUnitVertexColor(Z77, 255, 255, 255, 255)
            call UnitRemoveAbility(Z77, 'A179')
            call SetUnitPosition(Z77, GetUnitX(Z77), GetUnitY(Z77))
            call SC8(GetUnitX(Z77), GetUnitY(Z77), 500)
            call SaveBoolean(R8, GetHandleId(Z77), 'DARK', false)
            call RemoveSavedHandle(R8, GetHandleId(Z77), 'DARK')
        endif
    else
        set d = Z87(GetUnitX(Z77), GetUnitY(Z77), GetUnitX(X77), GetUnitY(X77))
        if d < 100 then
            call ADT5(Z77)
            call DestroyEffect(LoadEffectHandle(R8, (W57), (175)))
            call DestroyEffect(LoadEffectHandle(R8, (W57), (176)))
            call DestroyEffect(LoadEffectHandle(R8, (W57), (177)))
            call UnitRemoveAbility(X77, 'A24L')
            call UnitRemoveAbility(X77, 'B0ED')
            call OF8(LoadGroupHandle(R8, (W57), (187)))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call SetUnitTimeScale(Z77, 1)
            call KillUnit(AC7)
            call V18(Z77, X77, .8 + ML8 * .4)
            call SetUnitPathing(Z77, true)
            call SetUnitVertexColor(Z77, 255, 255, 255, 255)
            call UnitRemoveAbility(Z77, 'A179')
            call SetUnitPosition(Z77, GetUnitX(Z77), GetUnitY(Z77))
            call SC8(GetUnitX(Z77), GetUnitY(Z77), 200)
            call SaveBoolean(R8, GetHandleId(Z77), 'DARK', false)
            call RemoveSavedHandle(R8, GetHandleId(Z77), 'DARK')
            set B34 = ML8
            call IssueTargetOrderById(Z77, 851983, X77)
            // if IsComputer(GetOwningPlayer(Z77))then
            //     set g_aiStatReal[832 + GetPlayerId(GetOwningPlayer(Z77))] = 0
            // endif
        else
            if GetTriggerEvalCount(t) == 1 then
                call DisableTrigger(t)
                call IssueImmediateOrderById(Z77, 851993)
                call EnableTrigger(t)
            endif
            if ModuloInteger(GetTriggerEvalCount(t), 65) == 0 then
                if GetUnitTypeId(Z77) == 'E02X' then
                    call SetUnitAnimationByIndex(Z77, 1)
                else
                    call SetUnitAnimationByIndex(Z77, 2)
                endif
            endif
            if GetPlayerController(GetOwningPlayer(Z77)) == MAP_CONTROL_COMPUTER then
                if GetUnitAbilityLevel(Z77, 'A0IH') < 1 or(d < 350 and LoadReal(R8, W57, 'MARK' - 1) >- 50)then
                    call SaveReal(R8, W57, 'MARK' - 1, LoadReal(R8, W57, 'MARK' - 1) - 1)
                else
                    call IssueImmediateOrderById(Z77, 851993)
                endif
            endif
            set a = YH7(Z77, X77) * bj_DEGTORAD
            call SetUnitFacing(Z77, a * bj_RADTODEG)
            set x = PND + AQD * Cos(a)
            set y = POD + AQD * Sin(a)
            call SetUnitX(Z77, x)
            call SetUnitY(Z77, y)
            call SetUnitX(AC7, GetUnitX(X77))
            call SetUnitY(AC7, GetUnitY(X77))
            call SaveReal(R8, (W57), (23), (x))
            call SaveReal(R8, (W57), (24), (y))
            set BC4 = (LoadGroupHandle(R8, (W57), (187)))
            set g = OG8()
            set H04 = Z77
            set BZ4 = Z77
            call GroupEnumUnitsInRange(g, x, y, 325, Condition(function GenericCondition_EnemyUnitsEx))
            set B34 = ML8
            call ForGroup(g, function IQF)
            call OF8(g)
            set g = null
            // if IsComputer(GetOwningPlayer(Z77))then
            //     set g_aiStatReal[832 + GetPlayerId(GetOwningPlayer(Z77))] = Bz + 1.
            // endif
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
    return false
endfunction
function IVF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'o00Q', GetUnitX(X77), GetUnitY(X77), 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1P8')
    local string fx = ""
    call SaveBoolean(R8, GetHandleId(Z77), 'DARK', true)
    call SaveUnitHandle(R8, GetHandleId(Z77), 'DARK', X77)
    call BlzUnitDisableAbility(Z77, 'A1P8', true, false)
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(Z77))or N08(GetLocalPlayer())then
        set fx = "Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
        call PingMinimapEx(GetUnitX(X77), GetUnitY(X77), 2, 255, 255, 255, false)
    endif
    call IssueTargetOrderById(Z77, 851986, X77)
    call SetUnitPathing(Z77, false)
    if GetUnitTypeId(Z77) == 'E02X' then
        call SetUnitAnimationByIndex(Z77, 1)
    else
        call SetUnitAnimationByIndex(Z77, 2)
    endif
    call SetUnitTimeScale(Z77, 2.5)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A179', false)
    call SetUnitVertexColor(Z77, 255, 255, 255, 100)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveReal(R8, (W57), (442), ((TimerGetElapsed(E4)) + 50.))
    call SaveReal(R8, (W57), (23), (GetUnitX(Z77)))
    call SaveReal(R8, (W57), (24), (GetUnitY(Z77)))
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget(fx, X77, "overhead")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget(fx, X77, "overhead")))
    call SaveEffectHandle(R8, (W57), (177), (AddSpecialEffectTarget("war3mapImported\\ShockwaveMissilePurple.mdx", Z77, "origin")))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerAddCondition(t, Condition(function IUF))
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function IWF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1P8' then
        if OE8(GetSpellTargetUnit()) then
            call UnitRemoveAbility(GetSpellTargetUnit(), 'B0BI')
            call IssueImmediateOrder(GetTriggerUnit(), "stop")
            call BlzUnitDisableAbility(GetTriggerUnit(), 'A1P8', true, false)
            call ADT5(GetTriggerUnit())
        else
            call IVF()
        endif
    endif
    return false
endfunction
function LX8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IWF))
    set t = null
    call PU8('A0X6')
endfunction
function IYF takes nothing returns nothing
    call IMF(YE4, GetEnumUnit(), true)
endfunction
function IZF takes unit Z77, unit X77 returns nothing
    local group g = OG8()
    set H04 = Z77
    set YE4 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 275, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function IYF)
    call OF8(g)
    set g = null
endfunction
function IAF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = GetTriggerEvalCount(t)
    local integer IBF
    local integer ML8
    local real CV7
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local real d = Z87(x, y, PND, POD)
    call SaveReal(R8, (W57), (23), ((x)))
    call SaveReal(R8, (W57), (24), ((y)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or C77 == 200 or d > 1800 then
        call SetUnitVertexColor(Z77, 255, 255, 255, 255)
        call UnitShareVision(X77, GetOwningPlayer(Z77), false)
        call UnitRemoveAbility(Z77, 'A179')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        if C77 < 100 then
            set IBF = C77
        else
            set IBF = 200 - C77
        endif
        call SetUnitVertexColor(Z77, 255, 255, 255, 255 * (100 - IBF) / 100)
        if C77 == 100 then
            set ML8 = (LoadInteger(R8, (W57), (5)))
            set CV7 = Atan2(GetUnitY(X77) - GetUnitY(Z77), GetUnitX(X77) - GetUnitX(Z77))
            call SetUnitPosition(Z77, GetUnitX(X77) + 80 * Cos(CV7), GetUnitY(X77) + 80 * Sin(CV7))
            call SetUnitAnimation(Z77, "attack")
            call IssueTargetOrder(Z77, "attack", X77)
            if GetUnitAbilityLevel(Z77, 'A0G4') > 0 then
                call IMF(Z77, X77, true)
            else
                call IZF(Z77, X77)
            endif
            call V08(Z77, X77, 1, 50 + 100 * ML8)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function ICF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0G4')
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(Z77, 'A1D8')
    endif
    call UnitShareVision(X77, GetOwningPlayer(Z77), true)
    call IssueImmediateOrder(Z77, "halt")
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveReal(R8, (W57), (23), ((GetUnitX(X77))))
    call SaveReal(R8, (W57), (24), ((GetUnitY(X77))))
    call TriggerRegisterTimerEvent(t, 0.001, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function IAF))
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A179', false)
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function AE75 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    call SetUnitAnimation(p5, "spell morph")
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    return false
endfunction
function AE85 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    call UnitShareVision(target, GetOwningPlayer(p5), false)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function AE95 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call TriggerRegisterTimerEvent(t, 0., false)
    call TriggerAddCondition(t, Condition(function AE75))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (GetSpellTargetUnit()))
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function AE85))
    call UnitShareVision(GetSpellTargetUnit(), GetOwningPlayer(p5), true)
    set t = null
    set p5 = null
endfunction
function I3F takes nothing returns boolean
    if(GetSpellAbilityId() == 'A0G4' or GetSpellAbilityId() == 'A1D8')and OE8(GetSpellTargetUnit()) == false then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call ICF()
        else
            call AE95()
        endif
    endif
    return false
endfunction
function LA8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call TriggerAddCondition(t, Condition(function I3F))
    set t = null
endfunction
function I6F takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A275')
    if ML8 == 1 then
        call O68(Z77, 'A276')
    elseif ML8 == 2 then
        call UnitRemoveAbility(Z77, 'A276')
        call O68(Z77, 'A279')
    elseif ML8 == 3 then
        call UnitRemoveAbility(Z77, 'A276')
        call UnitRemoveAbility(Z77, 'A279')
        call O68(Z77, 'A277')
    elseif ML8 == 4 then
        call UnitRemoveAbility(Z77, 'A276')
        call UnitRemoveAbility(Z77, 'A279')
        call UnitRemoveAbility(Z77, 'A277')
        call O68(Z77, 'A278')
    endif
    set Z77 = null
endfunction
function ILF takes nothing returns boolean
    if GetLearnedSkill() == 'A275' and IsUnitIllusion(GetTriggerUnit()) == false then
        call I6F()
    endif
    return false
endfunction
function L38 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function ILF))
    set t = null
endfunction
function I1F takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real I0F = (LoadReal(R8, (W57), (295)))
    local real I5F = (LoadReal(R8, (W57), (296)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A07Q')
    local real I2F = .2
    if GetSpellTargetUnit() == Z77 then
        call SetUnitState(Z77, UNIT_STATE_LIFE, RMaxBJ(GetUnitState(Z77, UNIT_STATE_MAX_LIFE) * I5F * .01, GetUnitState(Z77, UNIT_STATE_MAX_LIFE) * I2F))
    endif
    if GetSpellTargetUnit() == X77 then
        call SetUnitLifePercentBJ(X77, I0F)
        if GetUnitLifePercent(X77) < 25. and ML8 == 1 and GetUnitState(X77, UNIT_STATE_LIFE) > 1 then
            call SetUnitLifePercentBJ(X77, 25.)
        endif
        if GetUnitLifePercent(X77) < 20. and ML8 == 2 and GetUnitState(X77, UNIT_STATE_LIFE) > 1 then
            call SetUnitLifePercentBJ(X77, 25.)
        endif
        if GetUnitLifePercent(X77) < 15. and ML8 == 3 and GetUnitState(X77, UNIT_STATE_LIFE) > 1 then
            call SetUnitLifePercentBJ(X77, 25.)
        endif
    endif
    if GetTriggerEvalCount(t) == 2 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function I_F takes nothing returns boolean
    if GetSpellAbilityId() == 'A07R' then
        call I1F()
    endif
    return false
endfunction
function J4F takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (W57), (295), ((GetUnitLifePercent(Z77))))
    call SaveReal(R8, (W57), (296), ((GetUnitLifePercent(X77))))
    call TriggerAddCondition(t, Condition(function I_F))
    set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00Y', GetUnitX(X77), GetUnitY(X77), 0)
    call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_SPELL_EFFECT)
    call O68(AC7, 'A07R')
    call IssueTargetOrderById(AC7, 852095, Z77)
    call ShowUnit(AC7, false)
    call SetUnitPathing(AC7, false)
    call SetUnitInvulnerable(AC7, true)
    call UnitApplyTimedLife(AC7, 'BTLF', .2)
    set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00Y', GetUnitX(Z77), GetUnitY(Z77), 0)
    call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_SPELL_EFFECT)
    call O68(AC7, 'A07R')
    call IssueTargetOrderById(AC7, 852095, X77)
    call ShowUnit(AC7, false)
    call SetUnitPathing(AC7, false)
    call SetUnitInvulnerable(AC7, true)
    call UnitApplyTimedLife(AC7, 'BTLF', .2)
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function J7F takes nothing returns boolean
    if GetSpellAbilityId() == 'A07Q' and OE8(GetSpellTargetUnit()) == false then
        call J4F()
    endif
    return false
endfunction
function LB8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J7F))
    set t = null
endfunction
function J8F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Q89 = (LoadUnitHandle(R8, (W57), (335)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call UnitRemoveAbility(X77, 'A26V')
        call UnitRemoveAbility(X77, 'B0EJ')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if GetTriggerUnit() != Q89 then
            call KillUnit(Q89)
        endif
    else
        call IssueTargetOrderById(Q89, 851983, X77)
        if GU8(X77) then
            call UnitRemoveAbility(X77, 'A26V')
            call UnitRemoveAbility(X77, 'B0EJ')
        endif
    endif
    set t = null
    set Q89 = null
    set X77 = null
    return false
endfunction
function J9F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local unit Q89
    if GetSummoningUnit() == AC7 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        set Q89 = GetSummonedUnit()
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterDeathEvent(t, Q89)
        call TriggerRegisterDeathEvent(t, X77)
        call TriggerRegisterTimerEvent(t, .2, true)
        call TriggerAddCondition(t, Condition(function J8F))
        call SaveUnitHandle(R8, (W57), (335), (Q89))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call UnitAddAbility(Q89, 'Aloc')
        call SetUnitPosition(Q89, GetUnitX(X77) + 100, GetUnitY(X77) + 100)
        call IssueTargetOrderById(Q89, 851983, X77)
        call SetUnitMoveSpeed(Q89, 522)
        call SetUnitVertexColorBJ(Q89, 100, 100, 100, 60)
        set Q89 = null
    endif
    set t = null
    set X77 = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function JDF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2KZ')
    local unit AC7
    local trigger t
    local integer W57
    local group g = OG8()
    set H04 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 925, Condition(function GenericCondition_EnemyUnitsExHeroesVision))
    loop
        set X77 = FirstOfGroup(g)
        exitwhen X77 == null
        call GroupRemoveUnit(g, X77)
        if S_9(X77) == false then
            call T68(X77, 'A26V', 1, 1.5 + ML8, 'B0EJ')
        endif
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
        call TriggerAddCondition(t, Condition(function J9F))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveUnitHandle(R8, (W57), (19), (AC7))
        call O68(AC7, 'A24K')
        call SetUnitAbilityLevel(AC7, 'A24K', ML8)
        call IssueTargetOrderById(AC7, 852274, X77)
        call S68(BL4, GetUnitX(X77), GetUnitY(X77))
    endloop
    call OF8(g)
    set Z77 = null
    set X77 = null
    set AC7 = null
    set g = null
    set t = null
endfunction
function JEF takes nothing returns boolean
    if GetSpellAbilityId() == 'A2KZ' then
        call JDF()
    endif
    return false
endfunction
function LC8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JEF))
    call GVD('A26V')
    set t = null
endfunction
function JFF takes nothing returns nothing
    local unit Z77 = GetSummoningUnit()
    local unit Q89 = GetSummonedUnit()
    call SelectUnitAddForPlayer(Q89, GetOwningPlayer(Z77))
    call UnitAddAbility(Q89, 'A2KY')
    call UnitRemoveAbility(Q89, 'A2KY')
    call SetUnitState(Q89, UNIT_STATE_LIFE, GetUnitState(Q89, UNIT_STATE_MAX_LIFE))
    call SetUnitPosition(Q89, GetUnitX(Q89), GetUnitY(Q89))
    set Z77 = null
    set Q89 = null
endfunction
function JGF takes nothing returns boolean
    if GetUnitAbilityLevel(GetSummonedUnit(), 'B0EI') > 0 then
        call JFF()
    endif
    return false
endfunction
function JHF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit AC7
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2KX')
    set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    call O68(AC7, 'A08Q')
    call SetUnitAbilityLevel(AC7, 'A08Q', ML8)
    call IssueTargetOrderById(AC7, 852274, Z77)
    set Z77 = null
    set AC7 = null
endfunction
function JIF takes nothing returns boolean
    if GetSpellAbilityId() == 'A2KX' and GetUnitTypeId(GetTriggerUnit()) == 'Eevi' then
        call JHF()
    endif
    return false
endfunction
function L18 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JIF))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function JGF))
    set t = null
endfunction
function JJF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > (4 * (4 + ML8))or GU8(X77)or Z47(Z77, X77) > 700 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call KillUnit(AC7)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetTriggerEvalCount(t) > 1 and GetSpellAbilityId() == 'A1RA' then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call UnitRemoveAbility(Z77, 'A1RA')
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1PH', true)
            call KillUnit(AC7)
        endif
    elseif IsUnitVisible(X77, GetOwningPlayer(Z77)) == false then
        if(LoadInteger(R8, (W57), (34))) == 1 then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call KillUnit(AC7)
        else
            call SaveInteger(R8, (W57), (34), (1))
        endif
    else
        call SaveInteger(R8, (W57), (34), (0))
        if IsUnitAlly(Z77, GetOwningPlayer(X77)) == false then
            call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) + ML8 * 25. / 4.)
        else
            call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + ML8 * 50. / 4.)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
    return false
endfunction
function JKF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(Z77, 'A1RA')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1PH', true)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        if GetTriggerEvalCount(t) == 1 then
            call IssueImmediateOrderById(Z77, 851993)
        endif
        if IsUnitAlly(Z77, GetOwningPlayer(X77)) == false then
            call SetUnitX(AC7, GetUnitX(Z77))
            call SetUnitY(AC7, GetUnitY(Z77))
        else
            call SetUnitX(AC7, GetUnitX(X77))
            call SetUnitY(AC7, GetUnitY(X77))
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
    return false
endfunction
function JMF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1PH')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7
    if IsUnitAlly(Z77, GetOwningPlayer(X77)) == false then
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'u01G', 0, 0, 0)
        call O68(AC7, 'A04L')
        call SetUnitAbilityLevel(AC7, 'A04L', ML8)
        call SetUnitX(AC7, GetUnitX(Z77))
        call SetUnitY(AC7, GetUnitY(Z77))
        call IssueTargetOrderById(AC7, 852487, X77)
    else
        call O68(Z77, 'A1RA')
        call UnitMakeAbilityPermanent(Z77, true, 'A1RA')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1PH', false)
        set AC7 = CreateUnit(O8, 'u01G', 0, 0, 0)
        call O68(AC7, 'A04L')
        call SetUnitAbilityLevel(AC7, 'A04L', ML8)
        call SetUnitX(AC7, GetUnitX(X77))
        call SetUnitY(AC7, GetUnitY(X77))
        call IssueTargetOrderById(AC7, 852487, Z77)
    endif
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JJF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (34), (0))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .01, true)
    call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JKF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    set Z77 = null
    set X77 = null
    set AC7 = null
    set t = null
endfunction
function JNF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1PH' and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' and(IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))or OE8(GetSpellTargetUnit()) == false)then
        call JMF()
    endif
    return false
endfunction
function LL8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JNF))
    set t = null
endfunction
function DragonLancePostMorphDelayCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = LoadUnitHandle(R8, (EC8), (14))
    if IsUnitType(AM7, UNIT_TYPE_RANGED_ATTACKER) then
        call IncreaseUnitWeapon1RangeFixed(AM7, 130)
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function DragonLancePostMorphDelay takes unit AM7 returns nothing
    local trigger t
    if AV7(AM7, BU[IDL]) != null then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 0., false)
        call TriggerAddCondition(t, Condition(function DragonLancePostMorphDelayCondt))
        call SaveUnitHandle(R8, (GetHandleId(t)), (14), (AM7))
    endif
    set t = null
endfunction
function XUF takes unit u returns boolean
    local integer id = GetUnitTypeId(u)
    return id == 'Eevi' or id == 'Eevm' or id == 'E02V' or id == 'E02W' or id == 'E02U'
endfunction
function ConjureImageMorphEnumCondt takes nothing returns boolean
    return O18(GetFilterUnit()) == false and IsUnitIllusion(GetFilterUnit()) == false and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(H04) and XUF(GetFilterUnit())
endfunction
function ConjureImageMorphCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = LoadUnitHandle(R8, (EC8), (14))
    local group g = LoadGroupHandle(R8, (EC8), (22))
    local unit u
    local integer i1 = GetUnitTypeId(AM7)
    local integer i2
    local integer id1
    local integer id2
    if O18(AM7) == false then
        set H04 = AM7
        call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 925, Condition(function ConjureImageMorphEnumCondt))
        set u = FirstOfGroup(g)
        if u != null then
            set i2 = GetUnitTypeId(u)
        elseif i1 != GetUnitUserData(AM7) then
            set i2 = GetUnitUserData(AM7)
        else
            set i2 = i1
        endif
        if i1 != i2 then
            if i1 == 'Eevm'then
                set id1 = 'A3IV'
            elseif i1 == 'E02V' then
                set id1 = 'A3IW'
            elseif i1 == 'E02W' then
                set id1 = 'A3IX'
            elseif i1 == 'E02U' then
                set id1 = 'A3IY'
            else
                set id1 = 0
            endif
            if i2 == 'Eevm'then
                set id2 = 'A3IZ'
            elseif i2 == 'E02V' then
                set id2 = 'A3J0'
            elseif i2 == 'E02W' then
                set id2 = 'A3J1'
            elseif i2 == 'E02U' then
                set id2 = 'A3J2'
            else
                set id2 = 0
            endif
            if i1 == 'Eevi' and id2 != 0 then
                call UnitAddAbility(AM7, id2)
                call UnitRemoveAbility(AM7, id2)
                call DragonLancePostMorphDelay(AM7)
                call AddUnitAnimationProperties(AM7, "alternate", true)
                call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", AM7, "chest"))
            elseif id1 != 0 then
                call UnitAddAbility(AM7, id1)
                call UnitRemoveAbility(AM7, id1)
                call DragonLancePostMorphDelay(AM7)
                call AddUnitAnimationProperties(AM7, "alternate", false)
                call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", AM7, "chest"))
            endif
            call SetUnitVertexColor(AM7, 150, 150, 150, 200)
        endif
    else
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set g = null
    set t = null
    return false
endfunction
function ConjureImageCatchSummoned takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SUMMON then
        set AM7 = GetSummonedUnit()
        if XUF(AM7) and IsUnitIllusion(AM7) then
            call SetUnitVertexColor(AM7, 150, 150, 150, 200)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            set t = CreateTrigger()
            set EC8 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, .5, true)
            call TriggerAddCondition(t, Condition(function ConjureImageMorphCondt))
            call SaveUnitHandle(R8, (EC8), (14), (AM7))
            call SaveGroupHandle(R8, (EC8), (22), (OG8()))
            call SetUnitUserData(AM7, GetUnitTypeId(AM7))
        endif
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set AM7 = null
    set t = null
    return false
endfunction
function JOF takes nothing returns boolean
    return GetSpellAbilityId() == 'A0H4'
endfunction
function JPF takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(O4D, 'A0H4')
    local unit AC7 = CreateUnit(GetOwningPlayer(O4D), 'e00E', GetUnitX(O4D), GetUnitY(O4D), 0)
    local trigger t = CreateTrigger()
    call UnitAddAbility(AC7, 'A2JN')
    call SetUnitAbilityLevel(AC7, 'A2JN', ML8)
    call TriggerRegisterPlayerUnitEvent(t, GetOwningPlayer(AC7), EVENT_PLAYER_UNIT_SUMMON, Condition(function KF8))
    call TriggerRegisterTimerEvent(t, .5, false)
    call TriggerAddCondition(t, Condition(function ConjureImageCatchSummoned))
    call IssueTargetOrderById(AC7, 852274, O4D)
    set O4D = null
    set AC7 = null
    set t = null
endfunction
function L68 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JOF))
    call TriggerAddAction(t, function JPF)
    set t = null
endfunction
function JQF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = GetEventDamageSource()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A04E')
    local real d = GetEventDamage()
    local real KU9 = (LoadReal(R8, (EC8), (412)))
    local real JRF = (LoadReal(R8, (EC8), (411)))
    local real AF25 = 650 - 50 * TA8
    if KP8(GetOwningPlayer(target))then
        if(JRF + M2) < (TimerGetElapsed(E4))then
            set KU9 = 0
        endif
        set JRF = (TimerGetElapsed(E4))
        set KU9 = KU9 + d
        if KU9 > AF25 and IsBroken(Z77) == false then
            set KU9 = 0
            call TF9(Z77)
            call T99(Z77, 0, 0)
            call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", Z77, "origin"))
        endif
        call SaveReal(R8, (EC8), (412), ((KU9)))
        call SaveReal(R8, (EC8), (411), ((JRF)))
    endif
    set t = null
    set Z77 = null
    set target = null
    return false
endfunction
function JSF takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function JQF))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveReal(R8, (EC8), (412), ((0)))
    call SaveReal(R8, (EC8), (411), (((TimerGetElapsed(E4)))))
    set t = null
endfunction
function JTF takes nothing returns boolean
    if GetLearnedSkill() == 'A04E' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A04E') == 1 then
        call JSF(GetTriggerUnit())
    endif
    return false
endfunction
function L08 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function JTF))
    set t = null
endfunction
function JUF takes nothing returns boolean
    return GetSpellAbilityId() == 'A046' or GetSpellAbilityId() == 'A3OH'
endfunction
function GushAghanimEffectEnum takes nothing returns nothing
    local unit AC7
    local unit X77 = GetEnumUnit()
    if IsUnitInGroup(X77, H24) == false then
        call GroupAddUnit(H24, X77)
        set AC7 = CreateUnit(GetOwningPlayer(H04), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
        call O68(AC7, 'A3EI')
        call SetUnitAbilityLevel(AC7, 'A3EI', HB4)
        call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", X77, "chest"))
        call IssueTargetOrderById(AC7, 852662, X77)
        call V08(H04, X77, AB4, 60. + (50. * HB4))
    endif
    set AC7 = null
    set X77 = null
endfunction
function GushAghanimEffectCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local group XCD = (LoadGroupHandle(R8, (EC8), (22)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local group g
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    if GetTriggerEvalCount(t) > 1800. / (1500. * .02) then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call OF8(XCD)
    else
        set x = x + 1500 * .02 * GetTriggerEvalCount(t) * Cos(a * bj_DEGTORAD)
        set y = y + 1500 * .02 * GetTriggerEvalCount(t) * Sin(a * bj_DEGTORAD)
        set H04 = p5
        set HB4 = TA8
        set H24 = XCD
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 265, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function GushAghanimEffectEnum)
        call OF8(g)
        set g = null
    endif
    set XCD = null
    set t = null
    set p5 = null
    return false
endfunction
function JVF takes nothing returns nothing
    local trigger t
    local integer EC8
    local real a
    local unit Z77 = GetTriggerUnit()
    local unit X77
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    local real x
    local real y
    if GetSpellAbilityId() == 'A046' and OE8(GetSpellTargetUnit()) == false then
        set X77 = GetSpellTargetUnit()
        call O68(AC7, 'A3EI')
        call SetUnitAbilityLevel(AC7, 'A3EI', GetUnitAbilityLevel(Z77, 'A046'))
        call IssueTargetOrderById(AC7, 852662, X77)
        call V08(Z77, X77, AB4, 60. + (50. * GetUnitAbilityLevel(Z77, 'A046')))
        call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", X77, "chest"))
    elseif GetSpellAbilityId() == 'A3OH' then
        set x = GetSpellTargetX()
        set y = GetSpellTargetY()
        call O68(AC7, 'A3EJ')
        call IssuePointOrderById(AC7, 852125, x, y)
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        set a = YI7(GetUnitX(Z77), GetUnitY(Z77), x, y)
        call TriggerRegisterTimerEvent(t, .02, true)
        call TriggerAddCondition(t, Condition(function GushAghanimEffectCondt))
        call SaveUnitHandle(R8, (EC8), (2), (Z77))
        call SaveGroupHandle(R8, (EC8), (22), (OG8()))
        call SaveReal(R8, (EC8), (137), (a))
        call SaveReal(R8, (EC8), (6), (GetUnitX(Z77)))
        call SaveReal(R8, (EC8), (7), (GetUnitY(Z77)))
        call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(Z77, 'A3OH')))
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    set X77 = null
endfunction
function L58 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JUF))
    call TriggerAddAction(t, function JVF)
    set t = null
endfunction
function JXF takes nothing returns boolean
    return GetSpellAbilityId() == 'A0OR'
endfunction
function JYF takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(W8))and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0
endfunction
function JZF takes nothing returns nothing
    call V08(W8, GetEnumUnit(), AC4, Y8)
endfunction
function JAF takes unit Z77, unit X77, real P08 returns nothing
    local group QA9 = OG8()
    local boolexpr QZ9 = Condition(function JYF)
    set W8 = Z77
    set Y8 = P08
    call GroupEnumUnitsInRange(QA9, GetUnitX(X77), GetUnitY(X77), 185 + 25, QZ9)
    call ForGroup(QA9, function JZF)
    call DestroyBoolExpr(QZ9)
    call OF8(QA9)
    set QA9 = null
    set QZ9 = null
endfunction
function JBF takes nothing returns boolean
    return IsUnitInGroup(GetFilterUnit(), C8) == false and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false and GetFilterUnit() != H17
endfunction
function JCF takes group J3F, unit J6F, unit Z77, unit pzv returns unit
    local group QA9 = OG8()
    local boolexpr QZ9 = Condition(function JBF)
    local unit JLF = null
    local unit J1F
    set C8 = J3F
    set W8 = Z77
    call GroupEnumUnitsInRange(QA9, GetUnitX(J6F), GetUnitY(J6F), 500, QZ9)
    set J1F = FirstOfGroup(QA9)
    set JLF = J1F
    loop
        exitwhen J1F == null
        if GetUnitState(J1F, UNIT_STATE_LIFE) != GetUnitState(J1F, UNIT_STATE_MAX_LIFE)then
            if J1F != Z77 and IsUnitType(J1F, UNIT_TYPE_HERO) and IsUnitType(JLF, UNIT_TYPE_HERO) == false then
                set JLF = J1F
            elseif J1F != Z77 and GetUnitState(J1F, UNIT_STATE_LIFE) < GetUnitState(JLF, UNIT_STATE_LIFE)and IsUnitType(J1F, UNIT_TYPE_HERO) and IsUnitType(JLF, UNIT_TYPE_HERO) then
                set JLF = J1F
            elseif J1F != Z77 and IsUnitType(JLF, UNIT_TYPE_HERO) == false and GetUnitState(J1F, UNIT_STATE_LIFE) < GetUnitState(JLF, UNIT_STATE_LIFE)then
                set JLF = J1F
            elseif J1F == Z77 then
                set JLF = J1F
            endif
        endif
        call GroupRemoveUnit(QA9, J1F)
        set J1F = FirstOfGroup(QA9)
    endloop
    call OF8(QA9)
    call DestroyBoolExpr(QZ9)
    set QA9 = null
    set QZ9 = null
    set J1F = null
    set H27 = JLF
    set JLF = null
    return H27
endfunction
function J0F takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local string J5F = "Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl"
    local string J2F = "origin"
    local unit J_F
    local unit J6F
    local integer x
    local integer i = 1
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0OR')
    local real P08 = 60 + ML8 * 20
    local group J3F = OG8()
    local integer K4F
    local boolean K7F = false
    set H17 = AM7
    if ML8 == 1 then
        set K4F = 3
    elseif ML8 == 2 then
        set K4F = 4
    elseif ML8 == 3 then
        set K4F = 5
    elseif ML8 == 4 then
        set K4F = 6
    endif
    call SetUnitState(AM7, UNIT_STATE_LIFE, GetUnitState(AM7, UNIT_STATE_LIFE) + P08)
    call JAF(AM7, AM7, P08)
    call GroupAddUnit(J3F, AM7)
    call QG8(J5F, AM7, J2F, 2)
    if X77 == AM7 then
        set J_F = JCF(J3F, AM7, AM7, X77)
    else
        set J_F = X77
    endif
    if J_F == null then
        call OF8(J3F)
        set AM7 = null
        set X77 = null
        set J3F = null
        return
    endif
    call SetUnitState(J_F, UNIT_STATE_LIFE, GetUnitState(J_F, UNIT_STATE_LIFE) + P08)
    call JAF(AM7, J_F, P08)
    call GroupAddUnit(J3F, J_F)
    call QG8(J5F, J_F, J2F, 2)
    call QK8("SPLK", GetUnitX(AM7), GetUnitY(AM7), GetUnitX(J_F), GetUnitY(J_F), .3, .5, .9, 1., .7)
    set J6F = J_F
    set i = 2
    loop
        exitwhen i > K4F or K7F
        set J_F = JCF(J3F, J6F, AM7, X77)
        if J_F == null then
            set K7F = true
        else
            call GroupAddUnit(J3F, J_F)
            call QG8(J5F, J_F, J2F, 2)
            call SetUnitState(J_F, UNIT_STATE_LIFE, GetUnitState(J_F, UNIT_STATE_LIFE) + P08)
            call JAF(AM7, J_F, P08)
            call QK8("SPLK", GetUnitX(J6F), GetUnitY(J6F), GetUnitX(J_F), GetUnitY(J_F), .3, .5, .9, 1., .7)
            set J6F = J_F
            set i = i + 1
        endif
    endloop
    set J_F = null
    set J6F = null
    call OF8(J3F)
    set AM7 = null
    set X77 = null
    set J3F = null
endfunction
function EJ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JXF))
    call TriggerAddAction(t, function J0F)
    set t = null
endfunction
function K8F takes nothing returns boolean
    return GetSpellAbilityId() == ('A2X6')and OE8(GetSpellTargetUnit()) == false
endfunction
function K9F takes unit Z77, unit target, integer TA8 returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    call O68(oA, 'A0NJ')
    call SetUnitAbilityLevel(oA, 'A0NJ', TA8)
    call IssueTargetOrderById(oA, 852075, target)
    set oA = null
endfunction
function KEF takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A2X6')
    local integer NKE = GetTriggerExecCount(t)
    local real P99 = 8 + 6 * TA8
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    if TA8 == 4 then
        set P99 = P99 + 4
    endif
    if TA8 == 1 then
        call O68(X77, ('A0OW'))
        if NKE == 1 then
            call K9F(Z77, X77, 1)
        elseif NKE == 2 then
            call K9F(Z77, X77, 1)
        elseif NKE > 2 then
            call V08(AC7, X77, 2, P99)
        endif
        if NKE == 8 then
            call UnitRemoveAbility(X77, 'A0OW')
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    endif
    if TA8 == 2 then
        call O68(X77, ('A0OW'))
        if NKE == 1 then
            call K9F(Z77, X77, 1)
        elseif NKE == 2 then
            call K9F(Z77, X77, 2)
        elseif NKE > 2 then
            call V08(AC7, X77, 2, P99)
        endif
        if NKE == 8 then
            call UnitRemoveAbility(X77, 'A0OW')
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    endif
    if TA8 == 3 then
        call O68(X77, ('A0OW'))
        if NKE == 1 then
            call K9F(Z77, X77, 2)
        elseif NKE == 2 then
            call K9F(Z77, X77, 3)
        elseif NKE > 2 then
            call V08(AC7, X77, 2, P99)
        endif
        if NKE == 8 then
            call UnitRemoveAbility(X77, 'A0OW')
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    endif
    if TA8 == 4 then
        call O68(X77, ('A0OW'))
        if NKE == 1 then
            call K9F(Z77, X77, 2)
        elseif NKE == 2 then
            call V18(Z77, X77, 1.0)
        elseif NKE > 2 then
            call V08(AC7, X77, 2, P99)
        endif
        if NKE == 8 then
            call UnitRemoveAbility(X77, 'A0OW')
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    endif
    set AC7 = null
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function KDF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = H04
    local unit m5 = H54
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(m5), GetUnitY(m5), 0)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddAction(t, function KEF)
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (m5))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call V18(p5, m5, .01)
    call K9F(p5, m5, 1)
    set p5 = null
    set m5 = null
    set oA = null
    set t = null
endfunction
function KFF takes nothing returns nothing
    call T88(GetTriggerUnit(), GetSpellTargetUnit(), 'h0EQ', "KDF", 1300, true)
endfunction
function EK9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function K8F))
    call TriggerAddAction(t, function KFF)
    call PU8('A0NJ')
    call PU8('A0NK')
    set t = null
endfunction
function KGF takes string QO8, unit X77, unit AM7 returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, QO8, .033)
    call SetTextTagPosUnit(tt, X77, 64)
    call SetTextTagColor(tt, 160, 0, 255, 255)
    call SetTextTagVelocity(tt, 0, .0355)
    call SetTextTagFadepoint(tt, .15)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, .65)
    if IsUnitAlly(AM7, GetLocalPlayer())or N08(GetLocalPlayer())then
        call SetTextTagVisibility(tt, true)
    else
        call SetTextTagVisibility(tt, false)
    endif
    set tt = null
endfunction
function KHF takes real VL8 returns string
    if VL8 > 4.5 then
        return"5.0"
    elseif VL8 > 4. then
        return"4.5"
    elseif VL8 > 3.5 then
        return"4.0"
    elseif VL8 > 3. then
        return"3.5"
    elseif VL8 > 2.5 then
        return"3.0"
    elseif VL8 > 2. then
        return"2.5"
    elseif VL8 > 1.5 then
        return"2.0"
    elseif VL8 > 1. then
        return"1.5"
    elseif VL8 > .5 then
        return"1.0"
    elseif VL8 > .0 then
        return"0.5"
    else
        return"0.0"
    endif
    return" "
endfunction
function KIF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = GetTriggerEvalCount(t)
    if C77 > 11 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call KGF(KHF(5.5 - .5 * C77), X77, X77)
    endif
    set t = null
    set X77 = null
    return false
endfunction
function KJF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real KKF = (LoadReal(R8, (EC8), (20)))
    local real KMF = RMaxBJ(GetUnitState(target, UNIT_STATE_LIFE) - KKF, 1)
    local real KNF = (LoadReal(R8, (GetHandleId(target)), (243)))
    call SetUnitState(target, UNIT_STATE_LIFE, KMF)
    call SaveReal(R8, (GetHandleId(target)), (243), ((KNF - KKF)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set target = null
    return false
endfunction
function KOF takes unit target, real KKF returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real KNF = (LoadReal(R8, (GetHandleId(target)), (243)))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (20), ((KKF)))
    call SaveReal(R8, (GetHandleId(target)), (243), ((KNF + KKF)))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function KJF))
    set t = null
endfunction
function KPF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target
    local real Wx
    local real KKF
    local integer iX = GetTriggerEvalCount(t)
    local real KNF
    local real KQF = (LoadReal(R8, (EC8), (389)))
    local real KRF = (LoadReal(R8, (EC8), (390)))
    if KQF != (TimerGetElapsed(E4))then
        set KQF = (TimerGetElapsed(E4))
        set KRF = 0
        call SaveReal(R8, (EC8), (389), ((KQF)))
        call SaveReal(R8, (EC8), (390), ((KRF)))
    endif
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        set target = GetTriggerUnit()
        set KNF = (LoadReal(R8, (GetHandleId(target)), (243)))
        set Wx = GetUnitState(target, UNIT_STATE_LIFE)
        set KKF = GetEventDamage()
        if((Wx - KNF - KRF) - KKF) < 1 then
            call SetUnitState(target, UNIT_STATE_LIFE, Wx + KKF + KRF)
            call KOF(target, KKF)
        else
            set KRF = KRF + KKF
            call SaveReal(R8, (EC8), (390), ((KRF)))
        endif
    else
        call SaveInteger(R8, (GetHandleId(LoadUnitHandle(R8, (EC8), (17)))), ((2485)), (2))
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call UnitRemoveAbility((LoadUnitHandle(R8, (EC8), (17))), 'A21I')
        call UnitRemoveAbility((LoadUnitHandle(R8, (EC8), (17))), 'B07D')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set target = null
    set t = null
    return false
endfunction
function KSF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    call O68(X77, 'A21I')
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function KPF))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\DarkHands.mdx", X77, "overhead")))
    call SaveReal(R8, (GetHandleId(X77)), (243), ((0)))
    call SaveReal(R8, (W57), (389), (((TimerGetElapsed(E4)))))
    call SaveReal(R8, (W57), (390), ((0)))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (GetHandleId((X77))), ((2485)), (1))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function KIF))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function KTF takes nothing returns boolean
    if GetSpellAbilityId() == 'A10L' then
        call KSF()
    endif
    return false
endfunction
function EM9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KTF))
    set t = null
endfunction
function KUF takes nothing returns nothing
    local unit target = GetEnumUnit()
    if O18(target) == false then
        call UnitRemoveAbility(target, 'A0NU')
        call UnitRemoveAbility(target, 'A0NW')
    elseif IsUnitType(target, UNIT_TYPE_HERO) then
        call TD8(target, 'A0NU', 5.1)
        call TD8(target, 'A0NW', 5.1)
    endif
    set target = null
endfunction
function KVF takes nothing returns nothing
    local unit target = GetEnumUnit()
    if O18(target) == false then
        if IsUnitAlly(target, I44) == false then
            if HB4 == 0 then
                call O68(target, 'A0NU')
            else
                call SetUnitAbilityLevel(target, 'A0NU', R2I(AVQI * (HB4 + 1)))
            endif
        else
            if HB4 == 0 then
                call O68(target, 'A0NW')
            else
                call SetUnitAbilityLevel(target, 'A0NW', R2I(AVQI * (HB4 + 1)))
            endif
        endif
    endif
    set target = null
endfunction
function KWF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local integer P89 = GetTriggerEvalCount(t)
    local integer TL8 = (LoadInteger(R8, (EC8), (188)))
    local real AG45 = (LoadReal(R8, EC8, (68)))
    set AVQI = AG45
    set I44 = p
    set HB4 = P89
    if P89 == TL8 / 1 then
        call ForGroup(g, function KUF)
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call ForGroup(g, function KVF)
    endif
    set t = null
    set g = null
    set p = null
    return false
endfunction
function KXF takes nothing returns nothing
    call QG8(I74, GetEnumUnit(), "chest", 3)
    call QG8(I74, GetEnumUnit(), "chest", 3)
    call QG8(I74, GetEnumUnit(), "right hand", 3)
    call QG8(I74, GetEnumUnit(), "left hand", 3)
endfunction
function KYF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local group g = OG8()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A10Q')
    local integer TL8 = 24
    local real AG45 = .5 + .25 * TA8
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'h007', x, y, 0)
    local boolean C7D = false
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1DB')
        set TL8 = 24
        set AG45 = 1 + .25 * TA8
        set C7D = true
    endif
    set I74 = ""
    set HB4 = TL8
    set I74 = "Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"
    call SetUnitVertexColor(AC7, 255, 255, 255, 255)
    call UnitApplyTimedLife(AC7, 'BTLF', 5)
    if C7D then
        call GroupEnumUnitsInRange(g, x, y, 800, Condition(function VJ8))
        call S18(GetOwningPlayer(N28), 3., x, y, 800)
    else
        call GroupEnumUnitsInRange(g, x, y, 600, Condition(function VJ8))
        call S18(GetOwningPlayer(N28), 3., x, y, 600)
    endif
    call ForGroup(g, function KXF)
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SavePlayerHandle(R8, (EC8), (54), (GetOwningPlayer(N28)))
    call SaveInteger(R8, (EC8), (188), (TL8))
    call SaveReal(R8, EC8, (68), AG45)
    call TriggerRegisterTimerEvent(t, KJ7, true)
    call TriggerAddCondition(t, Condition(function KWF))
    call TriggerEvaluate(t)
    set N28 = null
    set g = null
    set t = null
    set AC7 = null
endfunction
function KZF takes nothing returns boolean
    if GetSpellAbilityId() == 'A10Q' or GetSpellAbilityId() == 'A1DB' then
        call KYF()
    endif
    return false
endfunction
function EN9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KZF))
    call PU8('A0NU')
    call PU8('A0NW')
    set t = null
endfunction
function AGW5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    if GetTriggerEvalCount(t) > 5 or GetUnitAbilityLevel(target, 'B0AQ') == 0 or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call V08(p5, target, 1, 30 * TA8 - 20)
        call QM8(I2S(30 * TA8 - 30), 3, target, 0.025, 160, 255, 0, 230)
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function AGX5 takes unit p5, unit target, integer TA8 returns nothing
    local unit oA = CreateUnit(GetOwningPlayer(target), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    local trigger t
    local integer EC8
    call O68(oA, 'A17N')
    call SetUnitAbilityLevel(oA, 'A17N', TA8)
    if IssueTargetOrder(oA, "shadowstrike", target)then
        call V08(p5, target, 1, 25 * TA8)
        call QM8(I2S(25 * TA8) + "!", 3, target, 0.025, 160, 255, 0, 230)
        if TA8 > 1 then
            set t = CreateTrigger()
            set EC8 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, 3, true)
            call TriggerRegisterDeathEvent(t, target)
            call TriggerAddCondition(t, Condition(function AGW5))
            call SaveUnitHandle(R8, (EC8), (2), (p5))
            call SaveUnitHandle(R8, (EC8), (17), (target))
            call SaveInteger(R8, (EC8), (5), (TA8))
            set t = null
        endif
    endif
    set oA = null
endfunction
function KAF takes nothing returns nothing
    local unit target = GetEnumUnit()
    if IsUnitInGroup(target, H24) == false then
        call AGX5(AW0I, target, S94)
        call GroupAddUnit(H24, target)
    endif
    set target = null
endfunction
function KBF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real RK = (LoadReal(R8, (EC8), (13)))
    local group XS8
    local real x
    local real y
    local real KCF
    local real K3F
    local real K6F = 30
    local unit KLF
    set S94 = TA8
    if GetTriggerEvalCount(t) > 28 then
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call ShowUnit(oA, false)
        call KillUnit(oA)
    else
        set x = GetUnitX(oA)
        set y = GetUnitY(oA)
        set XS8 = OG8()
        set H24 = g
        set H04 = N28
        set AW0I = N28
        call GroupEnumUnitsInRange(XS8, x, y, 150, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(XS8, function KAF)
        call OF8(XS8)
        set KCF = PQ8(x + K6F * Cos(RK * bj_DEGTORAD))
        set K3F = PS8(y + K6F * Sin(RK * bj_DEGTORAD))
        call SetUnitX(oA, KCF)
        call SetUnitY(oA, K3F)
        if ModuloInteger(GetTriggerEvalCount(t), 3) == 0 then
            set KLF = CreateUnit(GetOwningPlayer(oA), 'o01W', KCF, K3F, 0)
            call KillUnit(KLF)
            set KLF = null
        endif
    endif
    set t = null
    set g = null
    set XS8 = null
    set oA = null
    set N28 = null
    return false
endfunction
function K1F takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local group g = OG8()
    local unit N28 = GetTriggerUnit()
    local real x1 = GetUnitX(N28)
    local real y1 = GetUnitY(N28)
    local real x2 = GetSpellTargetX()
    local real y2 = GetSpellTargetY()
    local real RK = YI7(x1, y1, x2, y2)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A173')
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'h07K', x1, y1, RK)
    call S68(QR, x1, y1)
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveReal(R8, (EC8), (13), ((RK)))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TriggerRegisterTimerEvent(t, .025, true)
    call TriggerAddCondition(t, Condition(function KBF))
    set t = null
    set oA = null
    set g = null
    set N28 = null
endfunction
function K0F takes nothing returns boolean
    if GetSpellAbilityId() == 'A173' then
        call K1F()
    endif
    return false
endfunction
function D49 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function K0F))
    set t = null
endfunction
function AHO5 takes nothing returns nothing
    local unit p5 = GetSummoningUnit()
    local unit target = GetSummonedUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A0MY')
    if TA8 > 0 then
        call O68(target, 'A0MY')
        call SetUnitAbilityLevel(target, 'A0MY', TA8)
    endif
    set p5 = null
    set target = null
endfunction
function AH25 takes nothing returns boolean
    local integer MB8 = GetUnitTypeId(GetSummonedUnit())
    if MB8 == 'o00T' or MB8 == 'o00U' or MB8 == 'o00V' or MB8 == 'o00W' then
        call AHO5()
    endif
    return false
endfunction
function AMB1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function AH25))
    set t = null
endfunction
function AGT5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real P99 = (LoadReal(R8, (EC8), (20)))
    local real VL8 = (LoadReal(R8, (EC8), (57)))
    local real AIS5 = 0.75
    if IsUnitType(target, UNIT_TYPE_HERO) == false and IsUnitIllusion(target) == false then
        set AIS5 = 1.0
    endif
    if GetUnitState(target, UNIT_STATE_LIFE) <= P99 * AIS5 then
        set P99 = RMaxBJ(GetUnitState(target, UNIT_STATE_LIFE) / AIS5 - 2, 0)
    endif
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call UnitRemoveAbility(target, 'A1W5')
        call UnitRemoveAbility(target, 'B028')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set VL8 = VL8 - 1
        call SaveReal(R8, (EC8), (57), ((VL8)))
        call V08(p5, target, 1, P99)
        if VL8 <= 0 then
            call UnitRemoveAbility(target, 'A1W5')
            call UnitRemoveAbility(target, 'B028')
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function AGR5 takes unit target, unit p5, real VL8, real P99 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call O68(target, 'A1W5')
    call TriggerRegisterDeathEvent(t, target)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function AGT5))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (20), ((P99)))
    call SaveReal(R8, (EC8), (57), ((VL8)))
    call TriggerEvaluate(t)
    set t = null
endfunction
function AGP5 takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1W5') == 0 then
        call AGR5(GetEnumUnit(), AWII, AW1I, AWOI)
    endif
endfunction
function AGQ5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit S08 = (LoadUnitHandle(R8, (EC8), (45)))
    local real VL8 = (LoadReal(R8, (EC8), (57)))
    local real P99 = (LoadReal(R8, (EC8), (20)))
    local group g
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set g = OG8()
        set H04 = p5
        set AWII = p5
        set AW1I = VL8
        set AWOI = P99
        call GroupEnumUnitsInRange(g, GetUnitX(S08), GetUnitY(S08), 256 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function AGP5)
        call OF8(g)
        set g = null
    endif
    set t = null
    set p5 = null
    set S08 = null
    return false
endfunction
function AGU5 takes unit S08, unit p5, real VL8, real P99 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterDeathEvent(t, S08)
    call TriggerAddCondition(t, Condition(function AGQ5))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (45), (S08))
    call SaveReal(R8, (EC8), (20), ((P99)))
    call SaveReal(R8, (EC8), (57), ((VL8)))
    set t = null
endfunction
function M4F takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real P99
    local real VL8 = 16
    local integer i = 1
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local unit oA
    if GetSpellAbilityId() == 'A013'then
        set P99 = 5 + 25 * GetUnitAbilityLevel(N28, 'A013')
    else
        set P99 = 35 + 25 * GetUnitAbilityLevel(N28, 'A0A6')
    endif
    loop
        exitwhen i > 18
        set oA = CreateUnit(GetOwningPlayer(N28), 'e017', x, y, 0)
        if(GetPlayerController(GetOwningPlayer(N28)) == MAP_CONTROL_COMPUTER)then
            call RemoveGuardPosition(oA)
        endif
        call IssuePointOrderById(oA, 851986, x + 675 * Cos(i * 20 * bj_DEGTORAD), y + 675 * Sin(i * 20 * bj_DEGTORAD))
        call UnitApplyTimedLife(oA, 'BTLF', 1.15)
        call AGU5(oA, N28, VL8, P99)
        set i = i + 1
    endloop
    set N28 = null
    set oA = null
endfunction
function M7F takes nothing returns boolean
    if GetSpellAbilityId() == 'A013'or GetSpellAbilityId() == 'A0A6'then
        call M4F()
    endif
    return false
endfunction
function D79 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M7F))
    set t = null
endfunction
function M9F takes nothing returns nothing
    local unit N99 = GetEventDamageSource()
    local unit target = GetTriggerUnit()
    local real MDF = 100 * GetUnitState(target, UNIT_STATE_LIFE) / GetUnitState(target, UNIT_STATE_MAX_LIFE)
    local real MEF = 2.5 * GetUnitAbilityLevel(N99, 'A1A3')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real P08
    if IsUnitType(target, UNIT_TYPE_HERO) == false then
        set MEF = MEF / 2
    endif
    if MDF > 80 then
        set P08 = MEF
    elseif MDF > 60 then
        set P08 = MEF * 2
    elseif MDF > 40 then
        set P08 = MEF * 2 * 2
    elseif MDF > 20 then
        set P08 = MEF * 2 * 2 * 2
    else
        set P08 = MEF * 2 * 2 * 2 * 2
    endif
    call BlzSetEventDamage(GetEventDamage() + P08)
    set N99 = null
    set target = null
    set t = null
endfunction
function MFF takes nothing returns boolean
    if GetUnitAbilityLevel(GetEventDamageSource(), 'A1A3') > 0 and IsNormalAttackHero() and IsUnitIllusion(GetEventDamageSource()) == false and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) and IsBroken(GetEventDamageSource()) == false then
        call M9F()
    endif
    return false
endfunction
function D89 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function MFF))
    set t = null
endfunction
function MGF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (684)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or LBD < (TimerGetElapsed(E4))or GU8(X77)then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveReal(R8, (GetHandleId(X77)), (684), ((0) * 1.))
        call UnitRemoveAbility(X77, 'A23W')
        call UnitRemoveAbility(X77, 'A23U')
        call UnitRemoveAbility(X77, 'A23V')
        call UnitRemoveAbility(X77, 'A23X')
        call UnitRemoveAbility(X77, 'B0EA')
    else
        set AW3I = false
        call V08(Z77, X77, AB4, 5 + 5 * ML8)
        set AW3I = true
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function MHF takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (684)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0MM')
    if LBD > (TimerGetElapsed(E4))then
        call SaveReal(R8, (GetHandleId(X77)), (684), (((TimerGetElapsed(E4)) + KK7) * 1.))
    else
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveReal(R8, (GetHandleId(X77)), (684), (((TimerGetElapsed(E4)) + KK7) * 1.))
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerRegisterDeathEvent(t, X77)
        call TriggerAddCondition(t, Condition(function MGF))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveInteger(R8, (W57), (5), (ML8))
        if S_9(X77) == false then
            if ML8 == 1 then
                call O68(X77, 'A23W')
                call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A23W', false)
            elseif ML8 == 2 then
                call O68(X77, 'A23U')
                call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A23U', false)
            elseif ML8 == 3 then
                call O68(X77, 'A23V')
                call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A23V', false)
            elseif ML8 == 4 then
                call O68(X77, 'A23X')
                call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A23X', false)
            endif
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function MIF takes nothing returns boolean
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEventDamageSource()
    if WL8(X77)then
        set X77 = (Y7[GetPlayerId(GetOwningPlayer((X77)))])
    endif
    if AW3I and Z47(Z77, X77) < 1400 and IsUnitType(X77, UNIT_TYPE_STRUCTURE) == false and GetEventDamage() > 0 and IsUnitEnemy(Z77, GetOwningPlayer(X77))and IsBroken(Z77) == false then
        call MHF(Z77, X77)
    endif
    set Z77 = null
    set X77 = null
    return false
endfunction
function MJF takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function MIF))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (GetTriggerUnit()))
    set t = null
endfunction
function MKF takes nothing returns boolean
    if GetLearnedSkill() == 'A0MM' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0MM') == 1 then
        call MJF()
    endif
    return false
endfunction
function D99 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function MKF))
    set t = null
endfunction
function MMF takes nothing returns nothing
    local unit X77 = GetSpellTargetUnit()
    call UnitRemoveAbility(X77, 'BEsh')
    call UnitRemoveAbility(X77, 'B0AQ')
    set X77 = null
endfunction
function MNF takes nothing returns boolean
    if GetSpellAbilityId() == 'A080' or GetSpellAbilityId() == 'A1UZ' then
        call MMF()
    endif
    return false
endfunction
function DD9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MNF))
    set t = null
endfunction
function MOF takes nothing returns boolean
    return GetSpellAbilityId() == 'A08X'
endfunction
function MPF takes nothing returns nothing
    local unit N28 = GetSpellAbilityUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    call UnitAddAbility(AC7, 'A09C')
    call SetUnitAbilityLevel(AC7, 'A09C', GetUnitAbilityLevel(N28, 'A08X'))
    call IssueTargetOrder(AC7, "bloodlust", N28)
    set N28 = null
    set AC7 = null
endfunction
function DF9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MOF))
    call TriggerAddAction(t, function MPF)
    set t = null
endfunction
function MQF takes unit Z77, integer TA8, integer MRF returns nothing
    call UnitRemoveAbility(Z77, 'A1KR')
    call UnitRemoveAbility(Z77, 'A1KS')
    call UnitRemoveAbility(Z77, 'A1KQ')
    call UnitRemoveAbility(Z77, 'A1KP')
    call UnitRemoveAbility(Z77, 'A1K1')
    call UnitRemoveAbility(Z77, 'A1KW')
    call UnitRemoveAbility(Z77, 'A1KX')
    call UnitRemoveAbility(Z77, 'A1KY')
    call UnitRemoveAbility(Z77, 'A1L4')
    call UnitRemoveAbility(Z77, 'A1L3')
    call UnitRemoveAbility(Z77, 'A1L2')
    call UnitRemoveAbility(Z77, 'A1L1')
    call UnitRemoveAbility(Z77, 'A1L8')
    call UnitRemoveAbility(Z77, 'A1L7')
    call UnitRemoveAbility(Z77, 'A1L9')
    call UnitRemoveAbility(Z77, 'A1LB')
    if TA8 == 1 then
        if MRF == 1 then
            call O68(Z77, 'A1KR')
        elseif MRF == 2 then
            call O68(Z77, 'A1KS')
        elseif MRF == 3 then
            call O68(Z77, 'A1KQ')
        elseif MRF == 4 then
            call O68(Z77, 'A1KP')
        endif
    elseif TA8 == 2 then
        if MRF == 1 then
            call O68(Z77, 'A1K1')
        elseif MRF == 2 then
            call O68(Z77, 'A1KW')
        elseif MRF == 3 then
            call O68(Z77, 'A1KX')
        elseif MRF == 4 then
            call O68(Z77, 'A1KY')
        endif
    elseif TA8 == 3 then
        if MRF == 1 then
            call O68(Z77, 'A1L4')
        elseif MRF == 2 then
            call O68(Z77, 'A1L3')
        elseif MRF == 3 then
            call O68(Z77, 'A1L2')
        elseif MRF == 4 then
            call O68(Z77, 'A1L1')
        endif
    elseif TA8 == 4 then
        if MRF == 1 then
            call O68(Z77, 'A1L8')
        elseif MRF == 2 then
            call O68(Z77, 'A1L7')
        elseif MRF == 3 then
            call O68(Z77, 'A1L9')
        elseif MRF == 4 then
            call O68(Z77, 'A1LB')
        endif
    endif
endfunction
function MSF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer MTF = (LoadInteger(R8, (EC8), (426)))
    local unit Z77 = (LoadUnitHandle(R8, (MTF), (2)))
    local integer MRF = (LoadInteger(R8, (MTF), (425)))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0VX')
    set MRF = IMinBJ(MRF + 1, 4)
    call SaveInteger(R8, (MTF), (425), (MRF))
    call MQF(Z77, TA8, MRF)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function MUF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer MRF = (LoadInteger(R8, (EC8), (425)))
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A0VX')
    if GetEventDamage() > 2 and GetEventDamageSource() != GetTriggerUnit()and KP8(GetOwningPlayer(GetEventDamageSource()))then
        if MRF > 0 and IsBroken(Z77) then
            set MRF = 0
        endif
        set MRF = IMaxBJ(MRF - 1, 0)
        call SaveInteger(R8, (EC8), (425), (MRF))
        call MQF(Z77, TA8, MRF)
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 4, false)
        call TriggerAddCondition(t, Condition(function MSF))
        call SaveInteger(R8, (EC8), (426), (GetHandleId(GetTriggeringTrigger())))
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function MVF takes nothing returns nothing
    local trigger t
    local integer EC8
    local unit Z77 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A0VX')
    if TA8 == 1 then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function MUF))
        call SaveUnitHandle(R8, (EC8), (2), (Z77))
        call SaveInteger(R8, (EC8), (425), (4))
    endif
    call MQF(Z77, TA8, 4)
    set t = null
    set Z77 = null
endfunction
function MWF takes nothing returns boolean
    if GetLearnedSkill() == 'A0VX' and IsUnitIllusion(GetTriggerUnit()) == false then
        call MVF()
    endif
    return false
endfunction
function MXF takes player p returns nothing
    call SetPlayerAbilityAvailable(p, 'A1KR', false)
    call SetPlayerAbilityAvailable(p, 'A1KS', false)
    call SetPlayerAbilityAvailable(p, 'A1KQ', false)
    call SetPlayerAbilityAvailable(p, 'A1KP', false)
    call SetPlayerAbilityAvailable(p, 'A1KU', false)
    call SetPlayerAbilityAvailable(p, 'A1KV', false)
    call SetPlayerAbilityAvailable(p, 'A1K1', false)
    call SetPlayerAbilityAvailable(p, 'A1KW', false)
    call SetPlayerAbilityAvailable(p, 'A1KX', false)
    call SetPlayerAbilityAvailable(p, 'A1KY', false)
    call SetPlayerAbilityAvailable(p, 'A1KZ', false)
    call SetPlayerAbilityAvailable(p, 'A1KT', false)
    call SetPlayerAbilityAvailable(p, 'A1L4', false)
    call SetPlayerAbilityAvailable(p, 'A1L3', false)
    call SetPlayerAbilityAvailable(p, 'A1L2', false)
    call SetPlayerAbilityAvailable(p, 'A1L1', false)
    call SetPlayerAbilityAvailable(p, 'A1L0', false)
    call SetPlayerAbilityAvailable(p, 'A1L5', false)
    call SetPlayerAbilityAvailable(p, 'A1L8', false)
    call SetPlayerAbilityAvailable(p, 'A1L7', false)
    call SetPlayerAbilityAvailable(p, 'A1L9', false)
    call SetPlayerAbilityAvailable(p, 'A1LB', false)
    call SetPlayerAbilityAvailable(p, 'A1LA', false)
    call SetPlayerAbilityAvailable(p, 'A1L6', false)
    call SetPlayerAbilityAvailable(p, 'A1LH', false)
    call SetPlayerAbilityAvailable(p, 'A1M3', false)
    call SetPlayerAbilityAvailable(p, 'A1M4', false)
    call SetPlayerAbilityAvailable(p, 'A1MC', false)
    call SetPlayerAbilityAvailable(p, 'A1M7', false)
    call SetPlayerAbilityAvailable(p, 'A1M8', false)
    call SetPlayerAbilityAvailable(p, 'A1M9', false)
    call SetPlayerAbilityAvailable(p, 'A1MA', false)
    call SetPlayerAbilityAvailable(p, 'A1M5', false)
    call SetPlayerAbilityAvailable(p, 'A1MB', false)
    call SetPlayerAbilityAvailable(p, 'A1M6', false)
endfunction
function DH9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i = 0
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function MWF))
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        call MXF(G8[i])
        call MXF(N8[i])
        set i = i + 1
    endloop
    set t = null
endfunction
function MYF takes nothing returns nothing
    local integer TA8
    local unit Z77 = GetTriggerUnit()
    local unit oA
    if GetUnitTypeId(Z77) == 'u017' or GetUnitTypeId(Z77) == 'u019' or GetUnitTypeId(Z77) == 'u018' or GetUnitTypeId(Z77) == 'u01A' or GetUnitTypeId(Z77) == 'u01B' or GetUnitTypeId(Z77) == 'u01C' or GetUnitTypeId(Z77) == 'u01U' or GetUnitTypeId(Z77) == 'u01V' or GetUnitTypeId(Z77) == 'u01W' then
        return
    endif
    set oA = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    if GetUnitTypeId(Z77) == 'u014' or GetUnitTypeId(Z77) == 'u01D' or GetUnitTypeId(Z77) == 'u01R' then
        set TA8 = 1
    elseif GetUnitTypeId(Z77) == 'u015' or GetUnitTypeId(Z77) == 'u01E' or GetUnitTypeId(Z77) == 'u01S' then
        set TA8 = 2
    else
        set TA8 = 3
    endif
    call O68(oA, 'A1NF')
    call SetUnitAbilityLevel(oA, 'A1NF', TA8)
    call IssueImmediateOrder(oA, "stomp")
    set Z77 = null
    set oA = null
endfunction
function MZF takes unit MAF, integer ST9, integer TA8 returns nothing
    local integer MBF
    if TA8 == 1 then
        set MBF = 8
    elseif TA8 == 2 then
        set MBF = 14
    elseif TA8 == 3 then
        set MBF = 22
    endif
    call W78(MAF, ST9 * MBF)
endfunction
function M3F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit MAF = (LoadUnitHandle(R8, (EC8), (2)))
    local unit Z77 = MAF
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer VHD = (LoadInteger(R8, (EC8), (28)))
    local integer ST9 = (LoadInteger(R8, (EC8), (194)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) and GetEventDamage() > 5 then
            call BlzSetEventDamage(GetUnitState(MAF, UNIT_STATE_MAX_LIFE) / 4.)
        elseif MZ8(GetEventDamageSource()) > 0 then
            call BlzSetEventDamage(GetUnitState(MAF, UNIT_STATE_MAX_LIFE) / 16.)
        else
            call BlzSetEventDamage(GetUnitState(MAF, UNIT_STATE_MAX_LIFE) / 32.)
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetAttacker() == MAF then
            set ST9 = IMaxBJ(ST9 - 1, 0)
            call SaveInteger(R8, (EC8), (194), (ST9))
            call MZF(MAF, ST9, TA8)
        endif
    else
        set VHD = VHD + 1
        call SaveInteger(R8, (EC8), (28), (VHD))
        if ModuloInteger(VHD, 15) == 0 then
            set ST9 = IMinBJ(ST9 + 1, 7)
            call SaveInteger(R8, (EC8), (194), (ST9))
        endif
        if GetUnitTypeId(Z77) == 'u017' or GetUnitTypeId(Z77) == 'u019' or GetUnitTypeId(Z77) == 'u018' or GetUnitTypeId(Z77) == 'u01A' or GetUnitTypeId(Z77) == 'u01B' or GetUnitTypeId(Z77) == 'u01C' or GetUnitTypeId(Z77) == 'u01U' or GetUnitTypeId(Z77) == 'u01V' or GetUnitTypeId(Z77) == 'u01W' then
            set ST9 = 7
            call SaveInteger(R8, (EC8), (194), (ST9))
        endif
        call MZF(MAF, ST9, TA8)
        if GetUnitTypeId(MAF) == 'u017' or GetUnitTypeId(MAF) == 'u019' or GetUnitTypeId(MAF) == 'u018' or GetUnitTypeId(MAF) == 'u01A' or GetUnitTypeId(MAF) == 'u01B' or GetUnitTypeId(MAF) == 'u01C' or GetUnitTypeId(MAF) == 'u01U' or GetUnitTypeId(MAF) == 'u01V' or GetUnitTypeId(MAF) == 'u01W' then
            call SetUnitState(MAF, UNIT_STATE_LIFE, GetUnitState(MAF, UNIT_STATE_LIFE) + 31.25 + 18.75 * TA8)
        endif
    endif
    set t = null
    set Z77 = null
    set MAF = null
    return false
endfunction
function M6F takes nothing returns boolean
    if GetUnitTypeId(GetFilterUnit()) == 'u014' or GetUnitTypeId(GetFilterUnit()) == 'u015' or GetUnitTypeId(GetFilterUnit()) == 'u016' or GetUnitTypeId(GetFilterUnit()) == 'u01D' or GetUnitTypeId(GetFilterUnit()) == 'u01E' or GetUnitTypeId(GetFilterUnit()) == 'u01F' or GetUnitTypeId(GetFilterUnit()) == 'u01R' or GetUnitTypeId(GetFilterUnit()) == 'u01S' or GetUnitTypeId(GetFilterUnit()) == 'u01T' or GetUnitTypeId(GetFilterUnit()) == 'u017' or GetUnitTypeId(GetFilterUnit()) == 'u019' or GetUnitTypeId(GetFilterUnit()) == 'u018' or GetUnitTypeId(GetFilterUnit()) == 'u01A' or GetUnitTypeId(GetFilterUnit()) == 'u01B' or GetUnitTypeId(GetFilterUnit()) == 'u01C' or GetUnitTypeId(GetFilterUnit()) == 'u01U' or GetUnitTypeId(GetFilterUnit()) == 'u01V' or GetUnitTypeId(GetFilterUnit()) == 'u01W' then
        call KillUnit(GetFilterUnit())
    endif
    return false
endfunction
function MLF takes nothing returns nothing
    local group g = OG8()
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1NE')
    local unit M1F
    local unit M0F
    local unit M5F
    local trigger t
    local integer EC8
    local boolean MBE = false
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(Z77), Condition(function M6F))
    call OF8(g)
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(Z77, 'A2IG')
        set MBE = true
    endif
    if TA8 == 1 then
        set M1F = CreateUnit(GetOwningPlayer(Z77), 'u014', x + 75, y + 75, GetUnitFacing(Z77))
        set M0F = CreateUnit(GetOwningPlayer(Z77), 'u01D', x - 75, y - 75, GetUnitFacing(Z77))
    elseif TA8 == 2 then
        set M1F = CreateUnit(GetOwningPlayer(Z77), 'u015', x + 75, y + 75, GetUnitFacing(Z77))
        set M0F = CreateUnit(GetOwningPlayer(Z77), 'u01E', x - 75, y - 75, GetUnitFacing(Z77))
    elseif TA8 == 3 then
        set M1F = CreateUnit(GetOwningPlayer(Z77), 'u016', x + 75, y + 75, GetUnitFacing(Z77))
        set M0F = CreateUnit(GetOwningPlayer(Z77), 'u01F', x - 75, y - 75, GetUnitFacing(Z77))
    endif
    call SelectUnitAddForPlayer(M1F, GetOwningPlayer(Z77))
    call SelectUnitAddForPlayer(M0F, GetOwningPlayer(Z77))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", M1F, "origin"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", M0F, "origin"))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, M1F, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, M1F, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function M3F))
    call SaveUnitHandle(R8, (EC8), (2), (M1F))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (28), (0))
    call SaveInteger(R8, (EC8), (194), (7))
    call MZF(M1F, 7, TA8)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, M0F, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, M0F, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function M3F))
    call SaveUnitHandle(R8, (EC8), (2), (M0F))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (28), (0))
    call SaveInteger(R8, (EC8), (194), (7))
    call MZF(M0F, 7, TA8)
    if MBE then
        if TA8 == 1 then
            set M5F = CreateUnit(GetOwningPlayer(Z77), 'u01R', x + 75, y, GetUnitFacing(Z77))
        elseif TA8 == 2 then
            set M5F = CreateUnit(GetOwningPlayer(Z77), 'u01S', x + 75, y, GetUnitFacing(Z77))
        elseif TA8 == 3 then
            set M5F = CreateUnit(GetOwningPlayer(Z77), 'u01T', x + 75, y, GetUnitFacing(Z77))
        endif
        call SelectUnitAddForPlayer(M5F, GetOwningPlayer(Z77))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", M5F, "origin"))
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerRegisterUnitEvent(t, M5F, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, M5F, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function M3F))
        call SaveUnitHandle(R8, (EC8), (2), (M5F))
        call SaveInteger(R8, (EC8), (5), (TA8))
        call SaveInteger(R8, (EC8), (28), (0))
        call SaveInteger(R8, (EC8), (194), (7))
        call MZF(M5F, 7, TA8)
    endif
    set g = null
    set Z77 = null
    set M1F = null
    set M0F = null
    set M5F = null
    set t = null
endfunction
function M2F takes nothing returns boolean
    if GetSpellAbilityId() == 'A1NE' or GetSpellAbilityId() == 'A2IG' then
        call MLF()
    elseif GetSpellAbilityId() == 'A1NB' or GetSpellAbilityId() == 'A1NC' or GetSpellAbilityId() == 'A1ND' or GetSpellAbilityId() == 'A1NL' or GetSpellAbilityId() == 'A1NM' or GetSpellAbilityId() == 'A1NN' or GetSpellAbilityId() == 'A2IZ' or GetSpellAbilityId() == 'A2J0' or GetSpellAbilityId() == 'A2J1' then
        call MYF()
    endif
    return false
endfunction
function DE9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M2F))
    set t = null
endfunction
function M_F takes unit Z77, integer YLE, integer N4F returns nothing
    local string c1 = "|c0000cc00"
    local string c = "||"
    local string p = " "
    local string s = c1 + "|||r"
    local string N7F
    local boolean N8F = false
    local texttag tt = (LoadTextTagHandle(R8, (GetHandleId(Z77)), (451)))
    if YLE == 0 then
        set N7F = " "
    elseif N4F == 1 then
        if YLE == 0 then
            set N7F = c + p + c + p + c
        elseif YLE == 1 then
            set N7F = s + p + c + p + c
        elseif YLE == 2 then
            set N7F = s + p + s + p + c
        elseif YLE == 3 then
            set N7F = s + p + s + p + s
        endif
    elseif N4F == 2 then
        if YLE == 0 then
            set N7F = c + p + c + p + c + p + c
        elseif YLE == 1 then
            set N7F = s + p + c + p + c + p + c
        elseif YLE == 2 then
            set N7F = s + p + s + p + c + p + c
        elseif YLE == 3 then
            set N7F = s + p + s + p + s + p + c
        elseif YLE == 4 then
            set N7F = s + p + s + p + s + p + s
        endif
    elseif N4F == 3 then
        if YLE == 0 then
            set N7F = c + p + c + p + c + p + c + p + c
        elseif YLE == 1 then
            set N7F = s + p + c + p + c + p + c + p + c
        elseif YLE == 2 then
            set N7F = s + p + s + p + c + p + c + p + c
        elseif YLE == 3 then
            set N7F = s + p + s + p + s + p + c + p + c
        elseif YLE == 4 then
            set N7F = s + p + s + p + s + p + s + p + c
        elseif YLE == 5 then
            set N7F = s + p + s + p + s + p + s + p + s
        endif
    elseif N4F == 4 then
        if YLE == 0 then
            set N7F = c + p + c + p + c + p + c + p + c + p + c
        elseif YLE == 1 then
            set N7F = s + p + c + p + c + p + c + p + c + p + c
        elseif YLE == 2 then
            set N7F = s + p + s + p + c + p + c + p + c + p + c
        elseif YLE == 3 then
            set N7F = s + p + s + p + s + p + c + p + c + p + c
        elseif YLE == 4 then
            set N7F = s + p + s + p + s + p + s + p + c + p + c
        elseif YLE == 5 then
            set N7F = s + p + s + p + s + p + s + p + s + p + c
        elseif YLE == 6 then
            set N7F = s + p + s + p + s + p + s + p + s + p + s
        endif
    endif
    call SetTextTagText(tt, N7F, 0.023)
    if GetOwningPlayer(Z77) == GetLocalPlayer()then
        set N8F = true
    endif
    if O18(Z77)then
        set N8F = false
    endif
    call SetTextTagPosUnit(tt, Z77, 0)
    call SetTextTagVisibility(tt, N8F)
    call SetTextTagPermanent(tt, true)
    set tt = null
endfunction
function N9F takes unit N28, integer TA8 returns nothing
    local integer N4F = GetUnitAbilityLevel(N28, 'A1NA')
    call M_F(N28, TA8, N4F)
    if TA8 == 0 or((LoadInteger(R8, (GetHandleId((N28))), ((2484)))) == 1) == true then
        call UnitRemoveAbility(N28, 'A1O7')
        call UnitRemoveAbility(N28, 'A1O8')
        call UnitRemoveAbility(N28, 'A1O9')
        call O68(N28, 'A1O1')
        call UnitRemoveAbility(N28, 'A1O2')
        call UnitRemoveAbility(N28, 'A1NZ')
        call UnitRemoveAbility(N28, 'A1N9')
        call UnitRemoveAbility(N28, 'A1NY')
        call UnitRemoveAbility(N28, 'A1O0')
        call UnitRemoveAbility(N28, 'A1O3')
        call UnitRemoveAbility(N28, 'A0LR')
        call UnitRemoveAbility(N28, 'A0YP')
        call UnitRemoveAbility(N28, 'A0OG')
        call UnitRemoveAbility(N28, 'A0YO')
        call UnitRemoveAbility(N28, 'A0NF')
        call UnitRemoveAbility(N28, 'A0MD')
    elseif TA8 == 1 then
        call UnitRemoveAbility(N28, 'A1O7')
        call UnitRemoveAbility(N28, 'A1O8')
        call UnitRemoveAbility(N28, 'A1O9')
        call UnitRemoveAbility(N28, 'A1O1')
        call O68(N28, 'A1O2')
        call UnitRemoveAbility(N28, 'A1NZ')
        call UnitRemoveAbility(N28, 'A1N9')
        call UnitRemoveAbility(N28, 'A1NY')
        call UnitRemoveAbility(N28, 'A1O0')
        call UnitRemoveAbility(N28, 'A1O3')
        call O68(N28, 'A0LR')
        call UnitRemoveAbility(N28, 'A0YP')
        call UnitRemoveAbility(N28, 'A0OG')
        call UnitRemoveAbility(N28, 'A0YO')
        call UnitRemoveAbility(N28, 'A0NF')
        call UnitRemoveAbility(N28, 'A0MD')
    elseif TA8 == 2 then
        call UnitRemoveAbility(N28, 'A1O7')
        call UnitRemoveAbility(N28, 'A1O8')
        call UnitRemoveAbility(N28, 'A1O9')
        call UnitRemoveAbility(N28, 'A1O1')
        call UnitRemoveAbility(N28, 'A1O2')
        call O68(N28, 'A1NZ')
        call UnitRemoveAbility(N28, 'A1N9')
        call UnitRemoveAbility(N28, 'A1NY')
        call UnitRemoveAbility(N28, 'A1O0')
        call UnitRemoveAbility(N28, 'A1O3')
        call UnitRemoveAbility(N28, 'A0LR')
        call O68(N28, 'A0YP')
        call UnitRemoveAbility(N28, 'A0OG')
        call UnitRemoveAbility(N28, 'A0YO')
        call UnitRemoveAbility(N28, 'A0NF')
        call UnitRemoveAbility(N28, 'A0MD')
    elseif TA8 == 3 then
        call UnitRemoveAbility(N28, 'A1O7')
        call UnitRemoveAbility(N28, 'A1O8')
        call UnitRemoveAbility(N28, 'A1O9')
        call UnitRemoveAbility(N28, 'A0LR')
        call UnitRemoveAbility(N28, 'A0YP')
        call O68(N28, 'A0OG')
        call UnitRemoveAbility(N28, 'A0YO')
        call UnitRemoveAbility(N28, 'A0NF')
        call UnitRemoveAbility(N28, 'A0MD')
        call UnitRemoveAbility(N28, 'A1O1')
        call UnitRemoveAbility(N28, 'A1O2')
        call UnitRemoveAbility(N28, 'A1NZ')
        call UnitRemoveAbility(N28, 'A1N9')
        call UnitRemoveAbility(N28, 'A1NY')
        call UnitRemoveAbility(N28, 'A1O0')
        call UnitRemoveAbility(N28, 'A1O3')
        if N4F == 1 then
            call O68(N28, 'A1O7')
        else
            call O68(N28, 'A1N9')
        endif
    elseif TA8 == 4 then
        call UnitRemoveAbility(N28, 'A1O7')
        call UnitRemoveAbility(N28, 'A1O8')
        call UnitRemoveAbility(N28, 'A1O9')
        call UnitRemoveAbility(N28, 'A0LR')
        call UnitRemoveAbility(N28, 'A0YP')
        call UnitRemoveAbility(N28, 'A0OG')
        call O68(N28, 'A0YO')
        call UnitRemoveAbility(N28, 'A0NF')
        call UnitRemoveAbility(N28, 'A0MD')
        call UnitRemoveAbility(N28, 'A1O1')
        call UnitRemoveAbility(N28, 'A1O2')
        call UnitRemoveAbility(N28, 'A1NZ')
        call UnitRemoveAbility(N28, 'A1N9')
        call UnitRemoveAbility(N28, 'A1NY')
        call UnitRemoveAbility(N28, 'A1O0')
        call UnitRemoveAbility(N28, 'A1O3')
        if N4F == 2 then
            call O68(N28, 'A1O8')
        else
            call O68(N28, 'A1NY')
        endif
    elseif TA8 == 5 then
        call UnitRemoveAbility(N28, 'A1O7')
        call UnitRemoveAbility(N28, 'A1O8')
        call UnitRemoveAbility(N28, 'A1O9')
        call UnitRemoveAbility(N28, 'A1O1')
        call UnitRemoveAbility(N28, 'A1O2')
        call UnitRemoveAbility(N28, 'A1NZ')
        call UnitRemoveAbility(N28, 'A1N9')
        call UnitRemoveAbility(N28, 'A1NY')
        call O68(N28, 'A1O0')
        call UnitRemoveAbility(N28, 'A1O3')
        call UnitRemoveAbility(N28, 'A0LR')
        call UnitRemoveAbility(N28, 'A0YP')
        call UnitRemoveAbility(N28, 'A0OG')
        call UnitRemoveAbility(N28, 'A0YO')
        call O68(N28, 'A0NF')
        call UnitRemoveAbility(N28, 'A0MD')
        call UnitRemoveAbility(N28, 'A1O1')
        call UnitRemoveAbility(N28, 'A1O2')
        call UnitRemoveAbility(N28, 'A1NZ')
        call UnitRemoveAbility(N28, 'A1N9')
        call UnitRemoveAbility(N28, 'A1NY')
        call UnitRemoveAbility(N28, 'A1O0')
        call UnitRemoveAbility(N28, 'A1O3')
        if N4F == 3 then
            call O68(N28, 'A1O9')
        else
            call O68(N28, 'A1O0')
        endif
    elseif TA8 == 6 then
        call UnitRemoveAbility(N28, 'A1O7')
        call UnitRemoveAbility(N28, 'A1O8')
        call UnitRemoveAbility(N28, 'A1O9')
        call UnitRemoveAbility(N28, 'A1O1')
        call UnitRemoveAbility(N28, 'A1O2')
        call UnitRemoveAbility(N28, 'A1NZ')
        call UnitRemoveAbility(N28, 'A1N9')
        call UnitRemoveAbility(N28, 'A1NY')
        call UnitRemoveAbility(N28, 'A1O0')
        call O68(N28, 'A1O3')
        call UnitRemoveAbility(N28, 'A0LR')
        call UnitRemoveAbility(N28, 'A0YP')
        call UnitRemoveAbility(N28, 'A0OG')
        call UnitRemoveAbility(N28, 'A0YO')
        call UnitRemoveAbility(N28, 'A0NF')
        call O68(N28, 'A0MD')
    endif
    if(GetUnitAbilityLevel(N28, 'A1NA') + 2) == TA8 then
        call O68(N28, 'A1NJ')
    else
        call UnitRemoveAbility(N28, 'A1NJ')
    endif
endfunction
function NEF takes unit Z77, real P99 returns nothing
    local integer TA8 = 0
    local real NFF = 110
    if P99 > NFF * 6 then
        set TA8 = 6
    elseif P99 > NFF * 5 then
        set TA8 = 5
    elseif P99 > NFF * 4 then
        set TA8 = 4
    elseif P99 > NFF * 3 then
        set TA8 = 3
    elseif P99 > NFF * 2 then
        set TA8 = 2
    elseif P99 > NFF * 1 then
        set TA8 = 1
    endif
    set TA8 = IMinBJ(TA8, 2 + GetUnitAbilityLevel(Z77, 'A1NA'))
    call SaveInteger(R8, (GetHandleId(Z77)), (450), (TA8))
    call N9F(Z77, TA8)
endfunction
function NGF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer N4F = GetUnitAbilityLevel(Z77, 'A1NA')
    call M_F(Z77, (LoadInteger(R8, (GetHandleId((Z77))), (450))), N4F)
    call NEF(Z77, (LoadReal(R8, (GetHandleId(Z77)), (443))))
    set t = null
    set Z77 = null
    return false
endfunction
function NHF takes nothing returns nothing
    local integer EC8 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H04
    local unit target = H54
    local real P99 = (LoadReal(R8, (EC8), (20)))
    if IsUnitAlly(target, GetOwningPlayer(Z77)) == false then
        set f3 = true
        call V08(Z77, target, AB4, P99)
        set f3 = false
    else
        call SetUnitState(target, UNIT_STATE_LIFE, GetUnitState(target, UNIT_STATE_LIFE) + P99)
    endif
    set Z77 = null
    set target = null
endfunction
function NIF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    call NEF(Z77, (LoadReal(R8, (GetHandleId(Z77)), (443))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function NJF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer TA8 = (LoadInteger(R8, (GetHandleId((Z77))), (450)))
    local trigger t = T88(Z77, target, 'h0BE', "NHF", 1000, false)
    local integer EC8 = GetHandleId(t)
    call SaveReal(R8, (EC8), (20), ((20 + TA8 * 65)))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShell.mdl", Z77, "chest"))
    call SaveReal(R8, (GetHandleId(Z77)), (443), ((0)))
    call NEF(Z77, 0)
    call ASCI(Z77, 2484, 4)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerAddCondition(t, Condition(function NIF))
    call TriggerRegisterTimerEvent(t, 4, false)
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    set Z77 = null
    set target = null
    set t = null
endfunction
function NKF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local real P99 = (LoadReal(R8, (EC8), (20)))
    if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A1NA')then
        if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT then
            call SaveReal(R8, (GetHandleId(Z77)), (443), (LoadReal(R8, (GetHandleId(Z77)), (443)) - P99))
        endif
        call NEF(Z77, (LoadReal(R8, (GetHandleId(Z77)), (443))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function NMF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer EC8 = GetHandleId(Z77)
    local texttag tt = CreateTextTag()
    local boolean N8F = false
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function NGF))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (Z77))
    if GetOwningPlayer(Z77) == GetLocalPlayer()then
        set N8F = true
    endif
    call SetTextTagText(tt, " ", 0.023)
    call SetTextTagPosUnit(tt, Z77, 0)
    call SetTextTagVisibility(tt, N8F)
    call SetTextTagPermanent(tt, true)
    set D3[GetPlayerId(GetOwningPlayer(Z77))] = Z77
    call SaveReal(R8, (EC8), (443), ((0)))
    call NEF(Z77, 0)
    call SaveTextTagHandle(R8, (EC8), (451), (tt))
    set Z77 = null
    set t = null
    set tt = null
endfunction
function NNF takes unit NOF, unit NPF returns nothing
    local real P99 = GetEventDamage()
    local integer TA8 = GetUnitAbilityLevel(NOF, 'A1NA')
    local real NQF = (LoadReal(R8, (GetHandleId(NOF)), (443)))
    local trigger t
    local integer EC8
    if Z47(NOF, NPF) < 1400 and f3 == false then
        if W18(P99)and GetEventDamageSource() != GetTriggerUnit()and(KP8(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource()) == 'n00L')then
            set NQF = NQF + P99
            call SaveReal(R8, (GetHandleId(NOF)), (443), ((NQF)))
            set t = CreateTrigger()
            set EC8 = GetHandleId(t)
            call SaveUnitHandle(R8, (EC8), (2), (NOF))
            call SaveReal(R8, (EC8), (20), ((P99)))
            call TriggerRegisterTimerEvent(t, 6, false)
            call TriggerRegisterUnitEvent(t, NOF, EVENT_UNIT_DEATH)
            call TriggerRegisterUnitEvent(t, NOF, EVENT_UNIT_SPELL_EFFECT)
            call TriggerAddCondition(t, Condition(function NKF))
            call NEF(NOF, NQF)
        endif
    endif
    set t = null
endfunction
function NRF takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i > 12
        if D3[i] != null then
            call NNF(D3[i], GetTriggerUnit())
        endif
        set i = i + 1
    endloop
endfunction
function NSF takes nothing returns boolean
    if GetLearnedSkill() == 'A1NA' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1NA') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call NMF()
    endif
    return false
endfunction
function NTF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1NA' then
        call NJF()
    endif
    return false
endfunction
function DG9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function NSF))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NTF))
    set t = null
    call NF9("NRF")
endfunction
function NUF takes nothing returns boolean
    return GetSpellAbilityId() == 'A06P'
endfunction
function NVF takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(W8))and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1
endfunction
function NWF takes nothing returns nothing
    local unit target = GetEnumUnit()
    local unit oA = CreateUnit(GetOwningPlayer(W8), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    call O68(oA, 'A0JE')
    call SetUnitAbilityLevel(oA, 'A0JE', X8)
    call IssueTargetOrder(oA, "slow", target)
    set target = null
    set oA = null
endfunction
function NXF takes unit oA, unit N28 returns nothing
    local group XS8 = OG8()
    local boolexpr hP = Condition(function NVF)
    set W8 = N28
    call GroupEnumUnitsInRange(XS8, GetUnitX(oA), GetUnitY(oA), 675, hP)
    call ForGroup(XS8, function NWF)
    call OF8(XS8)
    call DestroyBoolExpr(hP)
    set XS8 = null
    set hP = null
endfunction
function NYF takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call KillUnit(oA)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEvalCount(t) > 32 then
        call KillUnit(oA)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call ZN7(LoadUnitHandle(R8, (EC8), (14)))
    else
        call SetUnitAnimation(oA, "birth")
        set N28 = (LoadUnitHandle(R8, (EC8), (14)))
        set X8 = GetTriggerExecCount(t) * GetUnitAbilityLevel(N28, ('A06P')) / 2
        call NXF(oA, N28)
    endif
    set t = null
    set oA = null
    set N28 = null
endfunction
function NZF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e01G', x, y, 0)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddAction(t, function NYF)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    set t = null
    set N28 = null
    set oA = null
endfunction
function E49 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(t, function NZF)
    call TriggerAddCondition(t, Condition(function NUF))
    call PU8('A0JE')
    set t = null
endfunction
function NAF takes nothing returns boolean
    return GetSpellAbilityId() == 'A0J5'
endfunction
function NBF takes nothing returns nothing
    call O68(GetEnumUnit(), 'A0P2')
endfunction
function NCF takes nothing returns nothing
    call UnitRemoveAbility(GetEnumUnit(), 'A0P2')
endfunction
function N3F takes unit N6F, unit NLF returns nothing
    if N6F != null and NLF != null then
        call QK8("CLPB", GetUnitX(N6F), GetUnitY(N6F), GetUnitX(NLF), GetUnitY(NLF), .7, .1, .9, 1, .3)
    endif
endfunction
function N1F takes nothing returns nothing
    local unit N28 = (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (14)))
    local real P99 = .25 * GetEventDamage()
    set P99 = RMinBJ(P99, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE))
    if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > 1 and GetEnumUnit() != GetTriggerUnit()then
        if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) < P99 then
            call V08(N28, GetEnumUnit(), A34, P99)
        else
            call V08(N28, GetEnumUnit(), A14, P99)
        endif
    endif
    set N28 = null
endfunction
function N0F takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local group XS8 = (LoadGroupHandle(R8, (EC8), (220)))
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call ForGroup(XS8, function NCF)
        call OF8(XS8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetEventDamage() > 2 and GetEventDamage() < 6000 then
        call DisableTrigger(t)
        call ForGroup(XS8, function N1F)
        call EnableTrigger(t)
    endif
    set t = null
    set XS8 = null
endfunction
function N5F takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1
endfunction
function N2F takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local group XS8 = OG8()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0J5')
    local boolexpr hP = Condition(function N5F)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer i = 2
    local group N_F = OG8()
    local unit O4F
    local string O7F = "Abilities\\Spells\\Undead\\Curse\\CurseTarget.mdl"
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call N3F(N28, target)
    call QG8(O7F, target, "overhead", 25)
    call SaveUnitHandle(R8, (EC8), (246), (target))
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call GroupEnumUnitsInRange(XS8, GetUnitX(target), GetUnitY(target), 700 + 25, hP)
    call GroupRemoveUnit(XS8, target)
    call GroupAddUnit(N_F, target)
    call SaveGroupHandle(R8, (EC8), (220), (N_F))
    loop
        exitwhen i > (2 + TA8)or FirstOfGroup(XS8) == null
        set O4F = GUD(XS8, GetUnitX(target), GetUnitY(target))
        call N3F(target, O4F)
        call TriggerRegisterUnitEvent(t, O4F, EVENT_UNIT_DAMAGED)
        call GroupAddUnit(N_F, O4F)
        call GroupRemoveUnit(XS8, O4F)
        call QG8(O7F, O4F, "overhead", 25)
        set target = O4F
        set i = i + 1
    endloop
    call SaveInteger(R8, (EC8), (245), (i - 1))
    set X8 = GetUnitAbilityLevel(N28, 'A0J5')
    call ForGroup(N_F, function NBF)
    call TriggerRegisterTimerEvent(t, 25, false)
    call TriggerAddAction(t, function N0F)
    call DestroyBoolExpr(hP)
    set N28 = null
    set target = null
    set O4F = null
    call OF8(XS8)
    set XS8 = null
    set hP = null
    set t = null
    set N_F = null
endfunction
function E79 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NAF))
    call TriggerAddAction(t, function N2F)
    call PU8('A0J9')
    set t = null
endfunction
function O8F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A0AS')
    if GetTriggerEvalCount(t) > 11 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (32)))
        call UnitRemoveAbility(target, 'A17K')
        call UnitRemoveAbility(target, 'B0AP')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call V08(Z77, target, AB4, ML8 * 10 + 5)
    endif
    set Z77 = null
    set target = null
    set t = null
    return false
endfunction
function O9F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0AS')
    if GetTriggerEvalCount(t) > 12 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect(LoadEffectHandle(R8, (EC8), (32)))
        call UnitRemoveAbility(target, 'A0P0')
        call UnitRemoveAbility(target, 'B073')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SetUnitState(target, UNIT_STATE_LIFE, GetUnitState(target, UNIT_STATE_LIFE) + TA8 * 10 + 5)
    endif
    set Z77 = null
    set target = null
    set t = null
    return false
endfunction
function ODF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    if IsUnitAlly(target, GetOwningPlayer(Z77))then
        call TriggerAddCondition(t, Condition(function O9F))
        call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl", target, "chest")))
        call O68(target, 'A0P0')
    elseif OE8(GetSpellTargetUnit()) == false then
        call TriggerAddCondition(t, Condition(function O8F))
        call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl", target, "overhead")))
        call O68(target, 'A17K')
    endif
    set Z77 = null
    set target = null
    set t = null
endfunction
function OEF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0AS' then
        call ODF()
    endif
    return false
endfunction
function E89 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OEF))
    call PU8('A0P0')
    call PU8('A17K')
    set t = null
endfunction
function OFF takes nothing returns nothing
    call V08(Y94, GetEnumUnit(), AB4, 20 + 10 * YD4)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Immolation\\ImmolationDamage.mdl", GetEnumUnit(), "head"))
endfunction
function OGF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8
    local integer MB8 = GetUnitTypeId(Z77)
    local group g
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        if MB8 == 'n00U' or MB8 == 'n0KU' then
            set ML8 = 1
        elseif MB8 == 'n00Y' or MB8 == 'n0KV' then
            set ML8 = 2
        elseif MB8 == 'n00Z' or MB8 == 'n0KW' then
            set ML8 = 3
        endif
        set H04 = Z77
        set Y94 = Z77
        set YD4 = ML8
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 275, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function OFF)
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function OHF takes unit u returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function OGF))
    call SaveUnitHandle(R8, (W57), (2), (u))
    set t = null
endfunction
function OIF takes nothing returns boolean
    local integer MB8 = GetUnitTypeId(GetTriggerUnit())
    if MB8 == 'n00U' or MB8 == 'n0KU' or MB8 == 'n00Y' or MB8 == 'n0KV' or MB8 == 'n00Z' or MB8 == 'n0KW' then
        call OHF(GetTriggerUnit())
    endif
    return false
endfunction
function OJF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local real ZLD = (LoadReal(R8, (W57), (191)))
    local real Z1D = (LoadReal(R8, (W57), (192)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'S00U')
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', ZLD, Z1D, 0)
    call O68(AC7, 'S00U')
    call SetUnitAbilityLevel(AC7, 'S00U', ML8)
    call IssuePointOrderById(AC7, 852224, x, y)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set Z77 = null
    set AC7 = null
    set t = null
    return false
endfunction
function OKF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .3, false)
    call TriggerAddCondition(t, Condition(function OJF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (GetSpellTargetX()))
    call SaveReal(R8, (W57), (7), (GetSpellTargetY()))
    call SaveReal(R8, (W57), (191), (GetUnitX(Z77)))
    call SaveReal(R8, (W57), (192), (GetUnitY(Z77)))
    set Z77 = null
    set t = null
endfunction
function OMF takes nothing returns boolean
    if GetSpellAbilityId() == 'S00U' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) then
        call OKF()
    endif
    return false
endfunction
function E99 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OMF))
    set t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, GetWorldBounds())
    call TriggerAddCondition(t, Condition(function OIF))
    set t = null
endfunction
function ONF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    if GetUnitAbilityLevel(N28, 'BHfs') == 0 then
        call UnitRemoveAbility(N28, 'A0C9')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function OOF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    call O68(N28, 'A0C9')
    call SetUnitAbilityLevel(N28, 'A0C9', GetUnitAbilityLevel(N28, 'A0CA'))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddCondition(t, Condition(function ONF))
    set N28 = null
    set t = null
endfunction
function OPF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0CA'then
        call OOF()
    endif
    return false
endfunction
function DI9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OPF))
    set t = null
endfunction
function OQF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call SetUnitState((LoadUnitHandle(R8, (EC8), (26))), UNIT_STATE_MANA, (LoadReal(R8, (EC8), (242))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function ORF takes unit u, real OSF returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function OQF))
    call SaveUnitHandle(R8, (EC8), (26), (u))
    call SaveReal(R8, (EC8), (242), ((OSF)))
    set t = null
endfunction
function OTF takes nothing returns boolean
    return GetSpellAbilityId() == 'A0CT' or GetSpellAbilityId() == 'A3DM'
endfunction
function OUF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer EC8
    local real Wx
    local real Tw
    local real x
    local real y
    if GetSpellAbilityId() == 'A3DM' then
        set N28 = GetSpellTargetUnit()
    endif
    set EC8 = GetHandleId(N28)
    set Wx = RMaxBJ((LoadReal(R8, (EC8), (7200 + 1))), 1)
    set Tw = RMaxBJ((LoadReal(R8, (EC8), (7250 + 1))), 1)
    set x = (LoadReal(R8, (EC8), (7300 + 1)))
    set y = (LoadReal(R8, (EC8), (7350 + 1)))
    if(LoadReal(R8, (EC8), (7200 + 1))) > 1 and GetUnitState(N28, UNIT_STATE_LIFE) > 1 then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", GetUnitX(N28), GetUnitY(N28)))
        call SetUnitX(N28, x)
        call SetUnitY(N28, y)
        call SetUnitState(N28, UNIT_STATE_LIFE, Wx)
        call SetUnitState(N28, UNIT_STATE_MANA, Tw)
        call UnitRemoveBuffs(N28, false, true)
        call TF9(N28)
        call ORF(N28, Tw)
    endif
    set N28 = null
endfunction
function OVF takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local unit N28 = (LoadUnitHandle(R8, (GetHandleId(t)), (221)))
    local integer EC8 = GetHandleId(N28)
    local integer T8 = 1
    local integer U8 = 10
    loop
        exitwhen T8 > U8
        call SaveReal(R8, (EC8), (7300 + (T8 - 1)), (((LoadReal(R8, (EC8), (7300 + (T8)))))))
        call SaveReal(R8, (EC8), (7350 + (T8 - 1)), (((LoadReal(R8, (EC8), (7350 + (T8)))))))
        call SaveReal(R8, (EC8), (7200 + (T8 - 1)), (((LoadReal(R8, (EC8), (7200 + (T8)))))))
        call SaveReal(R8, (EC8), (7250 + (T8 - 1)), (((LoadReal(R8, (EC8), (7250 + (T8)))))))
        set T8 = T8 + 1
    endloop
    call SaveReal(R8, (EC8), (7300 + 10), ((GetUnitX(N28))))
    call SaveReal(R8, (EC8), (7350 + 10), ((GetUnitY(N28))))
    call SaveReal(R8, (EC8), (7200 + 10), ((GetUnitState(N28, UNIT_STATE_LIFE))))
    call SaveReal(R8, (EC8), (7250 + 10), ((GetUnitState(N28, UNIT_STATE_MANA))))
    set t = null
    set N28 = null
endfunction
function OWF takes unit O4D returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddAction(t, function OVF)
    call SaveUnitHandle(R8, (GetHandleId(t)), (221), (O4D))
    set t = null
endfunction
function TimeLapseStateRegEnum takes nothing returns nothing
    call OWF(GetEnumUnit())
endfunction
function TimeLapseStateRegCondt takes nothing returns nothing
    call OWF(GetTriggerUnit())
endfunction
function TimeLapseStateRegFilter takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and J79(GetFilterUnit()) and IsUnitIllusion(GetFilterUnit()) == false
endfunction
function DJ9 takes nothing returns nothing
    local region HZE
    local group g
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OTF))
    call TriggerAddAction(t, function OUF)
    set t = CreateTrigger()
    set g = OG8()
    set HZE = CreateRegion()
    call GroupEnumUnitsInRect(g, GetWorldBounds(), Condition(function TimeLapseStateRegFilter))
    call ForGroup(g, function TimeLapseStateRegEnum)
    call OF8(g)
    call RegionAddRect(HZE, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, HZE, Condition(function TimeLapseStateRegFilter))
    call TriggerAddCondition(t, Condition(function TimeLapseStateRegCondt))
    set t = null
    set g = null
    set HZE = null
endfunction
function DK9 takes nothing returns nothing
endfunction
function OXF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer NZ8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (NZ8), (2)))
    local unit X77 = (LoadUnitHandle(R8, (NZ8), (17)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(X77, 'A1QZ')
        call SaveInteger(R8, (GetHandleId((X77))), ((4290)), (2))
        call FlushChildHashtable(R8, NZ8)
        call EA8(t)
        if GetTriggerUnit() == X77 then
            call KillUnit(Z77)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == Z77 then
            call SetUnitAbilityLevel(X77, 'A1QZ', GetUnitAbilityLevel(X77, 'A1QZ') + 1)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SkeletalMageMissile\\SkeletalMageMissile.mdl", X77, "chest"))
        endif
    else
        call SetUnitX(Z77, GetUnitX(X77) - 40)
        call SetUnitY(Z77, GetUnitY(X77) - 40)
        if UN8(X77)and IsUnitVisible(X77, GetOwningPlayer(Z77)) == false then
            call KillUnit(Z77)
        elseif ModuloInteger(GetTriggerEvalCount(t), 5) == 0 then
            call IssueTargetOrderById(Z77, 851983, X77)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function OYF takes unit OZF, unit X77, integer ML8 returns nothing
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    call UnitRemoveAbility(OZF, 'Avul')
    call SaveUnitHandle(R8, (NZ8), (2), (OZF))
    call SaveUnitHandle(R8, (NZ8), (17), (X77))
    call O68(X77, 'A1QZ')
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterUnitEvent(t, OZF, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function OXF))
    call TriggerEvaluate(t)
    call UnitApplyTimedLife(OZF, 'BTLF', 12)
    set t = null
endfunction
function OAF takes nothing returns boolean
    return(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false))and((LoadInteger(R8, (GetHandleId((GetFilterUnit()))), ((4290)))) == 1) == false and(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)) or UN8(GetFilterUnit()) == false)
endfunction
function OBF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local group g
    local integer i = 1
    local unit W8D = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local real a = (LoadReal(R8, (W57), (137)))
    local unit OCF
    local unit V5D
    local real VIE = (LoadReal(R8, (W57), (47)))
    local real VJE = (LoadReal(R8, (W57), (48)))
    set x = PQ8(x + 18 * Cos(a))
    set y = PS8(y + 18 * Sin(a))
    call SaveReal(R8, (W57), (6), ((x) * 1.))
    call SaveReal(R8, (W57), (7), ((y) * 1.))
    if GetTriggerEvalCount(t) > 166 then
        loop
            exitwhen i > 12
            if(LoadBoolean(R8, (W57), (511 + i - 1))) == false then
                call KillUnit((LoadUnitHandle(R8, (W57), (393 + i - 1))))
            endif
            set i = i + 1
        endloop
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set g = OG8()
        set H04 = W8D
        call GroupEnumUnitsInRange(g, x, y, 400, Condition(function OAF))
        loop
            exitwhen i > 12
            if(LoadBoolean(R8, (W57), (511 + i - 1))) == false then
                set OCF = (LoadUnitHandle(R8, (W57), (393 + i - 1)))
                set x = (LoadReal(R8, (W57), (549 + i - 1)))
                set y = (LoadReal(R8, (W57), (567 + i - 1)))
                set x = PQ8(x + 18 * Cos(a))
                set y = PS8(y + 18 * Sin(a))
                call SaveReal(R8, (W57), (549 + i - 1), (x))
                call SaveReal(R8, (W57), (567 + i - 1), (y))
                call SetUnitX(OCF, x)
                call SetUnitY(OCF, y)
                set V5D = FirstOfGroup(g)
                if V5D != null then
                    call GroupRemoveUnit(g, V5D)
                    call SaveInteger(R8, (GetHandleId((V5D))), ((4290)), (1))
                    call SaveBoolean(R8, (W57), (511 + i - 1), (true))
                    call OYF(OCF, V5D, GetUnitAbilityLevel(W8D, 'A1QW'))
                endif
            endif
            set i = i + 1
        endloop
        call OF8(g)
        set g = null
        set OCF = null
        set V5D = null
    endif
    set t = null
    set W8D = null
    return false
endfunction
function O3F takes nothing returns nothing
    local real O6F = GetSpellTargetX()
    local real OLF = GetSpellTargetY()
    local unit W8D = GetTriggerUnit()
    local real x = GetUnitX(W8D)
    local real y = GetUnitY(W8D)
    local real a = YI7(x, y, O6F, OLF) * bj_DEGTORAD
    local unit L1D
    local real VOE = PQ8(x + 3000 * Cos(a))
    local real VPE = PS8(y + 3000 * Sin(a))
    local integer i = 1
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    local real DSE
    local integer ZK7 = GetUnitAbilityLevel(W8D, 'A1QW')
    local integer O1F
    if ZK7 == 1 then
        set O1F = 'u01K'
    elseif ZK7 == 2 then
        set O1F = 'u01H'
    elseif ZK7 == 3 then
        set O1F = 'u01J'
    elseif ZK7 == 4 then
        set O1F = 'u01L'
    endif
    loop
        exitwhen i > 12
        set L1D = CreateUnit(GetOwningPlayer(W8D), O1F, x + GetRandomInt(- 300, 300), y + GetRandomInt(- 300, 300), a * bj_RADTODEG)
        call SaveUnitHandle(R8, (NZ8), (393 + i - 1), (L1D))
        call SaveBoolean(R8, (NZ8), (511 + i - 1), (false))
        call SaveReal(R8, (NZ8), (549 + i - 1), (GetUnitX(L1D)))
        call SaveReal(R8, (NZ8), (567 + i - 1), (GetUnitY(L1D)))
        set i = i + 1
    endloop
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function OBF))
    call SaveUnitHandle(R8, (NZ8), (2), (W8D))
    call SaveReal(R8, (NZ8), (6), (x))
    call SaveReal(R8, (NZ8), (7), (y))
    call SaveReal(R8, (NZ8), (137), (a))
    call SaveReal(R8, (NZ8), (47), (VOE))
    call SaveReal(R8, (NZ8), (48), (VPE))
    set W8D = null
    set L1D = null
    set t = null
endfunction
function O0F takes nothing returns boolean
    if GetSpellAbilityId() == 'A1QW' then
        call O3F()
    endif
    return false
endfunction
function DM9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function O0F))
    call O28('u01K')
    call O28('u01H')
    call O28('u01J')
    call O28('u01L')
    call PU8('A1QZ')
    set t = null
endfunction
function AC91 takes nothing returns boolean
    return IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(UN8(GetFilterUnit()) == false or IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)) == true)
endfunction
function O5F takes unit Z77, unit NY, unit O2F, integer TA8, boolean O_F returns real
    local unit oA = CreateUnit(GetOwningPlayer(O2F), 'e00E', GetUnitX(NY), GetUnitY(NY), 0)
    if O_F then
        call O68(oA, 'A0WY')
    else
        call O68(oA, 'A0NL')
    endif
    call IssueTargetOrder(oA, "thunderbolt", O2F)
    if IsUnitType(O2F, UNIT_TYPE_HERO) == false then
        call W48(Z77, O2F, 1, 50 + 25 * TA8, 0.4)
    else
        call W48(Z77, O2F, 1, 50, 0.4)
    endif
    if O_F then
        return((GetUnitX(O2F) - GetUnitX(NY)) * (GetUnitX(O2F) - GetUnitX(NY)) + (GetUnitY(O2F) - GetUnitY(NY)) * (GetUnitY(O2F) - GetUnitY(NY))) / 1000000
    endif
    set oA = null
    return((GetUnitX(O2F) - GetUnitX(NY)) * (GetUnitX(O2F) - GetUnitX(NY)) + (GetUnitY(O2F) - GetUnitY(NY)) * (GetUnitY(O2F) - GetUnitY(NY))) / 360000
endfunction
function P4F takes unit Z77, unit NY returns unit
    local group g = OG8()
    set H04 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(NY), GetUnitY(NY), 600, Condition(function AC91))
    call GroupRemoveUnit(g, NY)
    set H04 = GroupPickRandomUnit(g)
    call OF8(g)
    set g = null
    return H04
endfunction
function P7F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer AW15 = (LoadInteger(R8, (EC8), (391)))
    local unit NY = KH8(AW15)
    local integer iX = (LoadInteger(R8, (EC8), (34)))
    local unit O2F
    local real Hk
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    if iX < (TA8 * 2 + 1)then
        set O2F = P4F(Z77, NY)
        if O2F != null then
            set Hk = O5F(Z77, NY, O2F, TA8, false)
            set t = CreateTrigger()
            set EC8 = GetHandleId(t)
            call SaveUnitHandle(R8, (EC8), (2), (Z77))
            call SaveInteger(R8, (EC8), (5), (TA8))
            call SaveInteger(R8, (EC8), (391), (KJ8(O2F)))
            call SaveInteger(R8, (EC8), (34), (iX + 1))
            call TriggerRegisterTimerEvent(t, Hk + 0.4, false)
            call TriggerAddCondition(t, Condition(function P7F))
        endif
    endif
    call KG8(AW15)
    set t = null
    set Z77 = null
    set NY = null
    set O2F = null
    return false
endfunction
function P8F takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit P9F = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0NM')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real Hk = O5F(N28, N28, P9F, TA8, true)
    call SaveUnitHandle(R8, (EC8), (2), (N28))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (391), (KJ8(P9F)))
    call SaveInteger(R8, (EC8), (34), (1))
    call TriggerRegisterTimerEvent(t, Hk, false)
    call TriggerAddCondition(t, Condition(function P7F))
    set N28 = null
    set P9F = null
    set t = null
endfunction
function PDF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0NM' and OE8(GetSpellTargetUnit()) == false then
        call P8F()
    endif
    return false
endfunction
function DX9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PDF))
    set t = null
endfunction
function PEF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0NE')
    call UnitRemoveAbility(N28, 'A0NE')
    call O68(N28, 'A0NE')
    call SetUnitAbilityLevel(N28, 'A0NE', TA8)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function PFF takes unit target, integer TA8 returns nothing
    local real PGF = (8 + TA8 * 8) / 3
    call SetUnitState(target, UNIT_STATE_LIFE, GetUnitState(target, UNIT_STATE_LIFE) + PGF)
endfunction
function PHF takes nothing returns boolean
    if (IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))then
        call PFF(GetFilterUnit(), HB4)
    endif
    return false
endfunction
function PIF takes unit N28 returns nothing
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0NE')
    local group g = OG8()
    set H04 = N28
    set HB4 = TA8
    call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 525, Condition(function PHF))
    call OF8(g)
    set g = null
endfunction
function PJF takes unit N28 returns nothing
    local integer ML8 = GetUnitAbilityLevel(N28, 'A0NE')
    local real PKF = 4 + 4 * ML8
    call SetUnitState(N28, UNIT_STATE_MANA, GetUnitState(N28, UNIT_STATE_MANA) - (PKF / 3))
    if GetUnitState(N28, UNIT_STATE_MANA) < PKF then
        if((LoadInteger(R8, (GetHandleId((N28))), ((4265)))) == 1) == false then
            call IssueImmediateOrderById(N28, 852178)
        endif
    endif
endfunction
function PMF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    if GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if GetIssuedOrderId() == 852178 then
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            set t = CreateTrigger()
            set EC8 = GetHandleId(t)
            call SaveUnitHandle(R8, (EC8), (14), (N28))
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function PEF))
        endif
    else
        call PIF(N28)
        call PJF(N28)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function PNF takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TriggerRegisterTimerEvent(t, .33, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function PMF))
    set N28 = null
    set t = null
endfunction
function POF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0NE' then
        call PNF()
    endif
    return false
endfunction
function DZ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function POF))
    set t = null
endfunction
function PPF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0NO')
    local integer iX = GetTriggerEvalCount(t)
    local real PQF = (LoadReal(R8, (EC8), (392)))
    local real PRF = 0
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if iX == 4 or iX == 8 or iX == 12 then
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
            if iX == 12 then
                call FlushChildHashtable(R8, EC8)
                call EA8(t)
            elseif iX == 4 or iX == 8 then
                call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("effects\\NetherInferno.mdx", m5, "origin")))
            endif
            set PRF = (.08 + TA8 * .08) * RMaxBJ(PQF - GetUnitState(m5, UNIT_STATE_LIFE), 0)
            if PRF > 0 then
                call QM8("+" + I2S(R2I(PRF)), 2, m5, .023, 68, 0, 187, 216)
            endif
        endif
        call V08(Z77, m5, AB4, 5 * TA8 + PRF)
    endif
    set t = null
    set Z77 = null
    set m5 = null
    return false
endfunction
function PSF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit m5 = GetEnumUnit()
    call DestroyEffect(AddSpecialEffectTarget("effects\\NetherInferno.mdx", m5, "origin"))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PPF))
    call SaveUnitHandle(R8, (EC8), (17), (m5))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("effects\\NetherInferno.mdx", m5, "origin")))
    call SaveReal(R8, (EC8), (392), (GetUnitState(m5, UNIT_STATE_LIFE)))
    set t = null
    set Z77 = null
    set m5 = null
endfunction
function PTF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local group g = OG8()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A0NO')
    call GroupEnumUnitsInRange(g, x, y, 180 + 25, Condition(function V98))
    call ForGroup(g, function PSF)
    call OF8(g)
    set g = null
    set Z77 = null
endfunction
function PUF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0NO' then
        call PTF()
    endif
    return false
endfunction
function DY9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PUF))
    set t = null
endfunction
function PVF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, EC8, (2)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    if GetTriggerEventId() != EVENT_UNIT_SPELL_ENDCAST then
        call ZN7(p5)
    endif
    set p5 = null
    set t = null
    return false
endfunction
function PWF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function PVF))
    set t = null
    set Z77 = null
endfunction
function PXF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0NT' or GetSpellAbilityId() == 'A0NX' then
        call PWF()
    endif
    return false
endfunction
function PYF takes nothing returns boolean
    if GetUnitTypeId(GetSummonedUnit()) == 'o000' or GetUnitTypeId(GetSummonedUnit()) == 'o001' or GetUnitTypeId(GetSummonedUnit()) == 'o00A' or GetUnitTypeId(GetSummonedUnit()) == 'o00X' then
        call ASCI(GetSummoningUnit(), 4265, 8)
    endif
    return false
endfunction
function DA9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function PYF))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PXF))
    set t = null
endfunction
function PZF takes nothing returns boolean
    local integer id = 0
    local unit target
    local real WR8 = (TimerGetElapsed(E4))
    local real mp
    local real hp
    loop
        exitwhen id > 12
        set target = Y7[id]
        if target != null and GetUnitAbilityLevel(target, 'B0CD') == 0 and T64[id] > WR8 then
            set T64[id] = 0
        endif
        if target != null and GetUnitAbilityLevel(target, 'B0CD') > 0 then
            if T64[id] > WR8 and O18(target) == false then
                set hp = GetUnitState(target, UNIT_STATE_LIFE)
                set mp = GetUnitState(target, UNIT_STATE_MANA)
                if hp < TL4[id]then
                    set TL4[id] = hp
                else
                endif
                if mp < T14[id]then
                    set T14[id] = mp
                else
                endif
                call SetUnitState(target, UNIT_STATE_LIFE, TL4[id])
                set T54[id] = T54[id] + 1
                if T54[id] == 10 then
                    set T54[id] = 0
                    if T24[id] == 1 then
                        call V08(T04[id], target, 1, 12.5)
                    elseif T24[id] == 2 then
                        call V08(T04[id], target, 1, 20)
                    elseif T24[id] == 3 then
                        call V08(T04[id], target, 1, 32)
                    endif
                endif
            elseif T64[id] > WR8 and O18(target) == true then
                set T64[id] = 0
                set TL4[id] = 9999
                set T14[id] = 9999
            endif
            if(GetUnitAbilityLevel(target, 'B0CD') > 0 and T64[id] < WR8)then
                call UnitRemoveAbility(target, 'A1JA')
                call UnitRemoveAbility(target, 'B0CD')
                call UnitRemoveAbility(target, 'A1LD')
            endif
        endif
        set id = id + 1
    endloop
    set target = null
    return false
endfunction
function PAF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit oA
    if GetUnitAbilityLevel(target, 'B0CD') == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetOwningPlayer(target) != GetOwningPlayer(GetEventDamageSource())and GetUnitState(target, UNIT_STATE_MAX_LIFE) * (0.09 + 0.01 * TA8) > GetUnitState(target, UNIT_STATE_LIFE)and((LoadInteger(R8, (GetHandleId((target))), ((2485)))) == 1) == false then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call UnitRemoveAbility(target, 'A1JA')
        call UnitRemoveAbility(target, 'B0CD')
        call UnitRemoveAbility(target, 'A1LD')
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "overhead"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "chest"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "origin"))
        set oA = CreateUnit(GetOwningPlayer(GetEventDamageSource()), 'e00E', 0, 0, 0)
        call UnitRemoveBuffs(target, true, true)
        call UnitRemoveAbility(target, 'Aetl')
        call UnitDamageTarget(oA, target, 100000000.00, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        set oA = null
    endif
    set t = null
    set target = null
    return false
endfunction
function PBF takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1MI')
    local integer id = GetPlayerId(GetOwningPlayer(X77))
    local trigger t
    local integer W57
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(Z77, 'A2QE')
    endif
    if ML8 > 0 and IsUnitType(X77, UNIT_TYPE_HERO) and IsUnitIllusion(X77) == false and XC8(GetUnitTypeId(X77)) == false then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function PAF))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveInteger(R8, (W57), (5), (ML8))
        call O68(X77, 'A1JA')
        call O68(X77, 'A1LD')
        if GetUnitAbilityLevel(Z77, 'A2QE') > 0 then
            set T64[id] = (TimerGetElapsed(E4)) + T_4
        else
            set T64[id] = (TimerGetElapsed(E4)) + 7 + ML8
        endif
        set TL4[id] = GetUnitState(X77, UNIT_STATE_LIFE)
        set T14[id] = GetUnitState(X77, UNIT_STATE_MANA)
        set T04[id] = Z77
        set T24[id] = ML8
    endif
    set t = null
endfunction
function GY9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer id = 0
    local integer i = 0
    local player p
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function PZF))
    loop
        exitwhen id > 12
        set T64[id] = 0
        set TL4[id] = 9999
        set T14[id] = 9999
        set id = id + 1
    endloop
    call GVD('A1LD')
    set t = null
    set p = null
endfunction
function PCF takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1HZ') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1HZ')
        call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1I4') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1I4')
        call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1I3') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1I3')
        call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1I6') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1I6')
        call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
    endif
endfunction
function P3F takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    if GU8(GetEnumUnit()) == false then
        if HB4 == 1 then
            if GetUnitAbilityLevel(GetEnumUnit(), 'A1HZ') == 0 then
                call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
                call O68(GetEnumUnit(), 'A1HZ')
            endif
        elseif HB4 == 2 then
            if GetUnitAbilityLevel(GetEnumUnit(), 'A1I4') == 0 then
                call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
                call O68(GetEnumUnit(), 'A1I4')
            endif
        elseif HB4 == 3 then
            if GetUnitAbilityLevel(GetEnumUnit(), 'A1I3') == 0 then
                call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
                call O68(GetEnumUnit(), 'A1I3')
            endif
        elseif HB4 == 4 then
            if GetUnitAbilityLevel(GetEnumUnit(), 'A1I6') == 0 then
                call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
                call O68(GetEnumUnit(), 'A1I6')
            endif
        endif
    endif
endfunction
function P6F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local group PLF = (LoadGroupHandle(R8, (EC8), (340)))
    local real x = GetUnitX(AC7)
    local real y = GetUnitY(AC7)
    local group g = OG8()
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call ForGroup(PLF, function PCF)
        call OF8(g)
        call OF8(PLF)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call ShowUnit(AC7, false)
        set t = null
        set Z77 = null
        set AC7 = null
        set PLF = null
        set g = null
        return false
    endif
    set HB4 = GetUnitAbilityLevel(Z77, 'A1HS')
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 300, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call BlzGroupRemoveGroupFast(g, PLF)
    call ForGroup(PLF, function PCF)
    call ForGroup(g, function P3F)
    call SaveGroupHandle(R8, (EC8), (340), (g))
    call OF8(PLF)
    set t = null
    set Z77 = null
    set AC7 = null
    set PLF = null
    set g = null
    return false
endfunction
function P1F takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1HS')
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'n0HQ', x, y, 0)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call UnitApplyTimedLife(AC7, 'BTLF', 16)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P6F))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveGroupHandle(R8, (EC8), (340), (OG8()))
    set Z77 = null
    set AC7 = null
    set t = null
endfunction
function P0F takes nothing returns boolean
    if GetSpellAbilityId() == 'A1HS' then
        call P1F()
    endif
    return false
endfunction
function GV9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P0F))
    call GVD('A1HZ')
    call GVD('A1I4')
    call GVD('A1I3')
    call GVD('A1I6')
    set t = null
endfunction
function P5F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit AC7
    local real P99 = (100 + 50 * TA8) / 4
    if GetTriggerEventId() == EVENT_UNIT_DEATH or Z87(x, y, GetUnitX(target), GetUnitY(target)) > 765 or GetUnitAbilityLevel(target, 'B0CC') == 0 then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
        call UnitRemoveAbility(target, 'A1J9')
        call UnitRemoveAbility(target, 'B0CC')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEvalCount(t) == (10 * .8)then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx", target, "overhead")))
        call V08(Z77, target, AB4, P99)
    elseif GetTriggerEvalCount(t) == (10 * 1.6)then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx", target, "overhead")))
        call V08(Z77, target, AB4, P99)
    elseif GetTriggerEvalCount(t) == (10 * 2.5)then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx", target, "overhead")))
        call V08(Z77, target, AB4, P99)
    elseif GetTriggerEvalCount(t) == (10 * 3.4)then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call V08(Z77, target, AB4, P99)
    elseif GetTriggerEvalCount(t) > (10 * 3.9)then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
        call UnitRemoveAbility(target, 'A1J9')
        call UnitRemoveAbility(target, 'B0CC')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        set AC7 = CreateUnit(GetOwningPlayer(target), 'e00E', GetUnitX(target), GetUnitY(target), 0)
        call O68(AC7, 'A1MJ')
        call SetUnitAbilityLevel(AC7, 'A1MJ', TA8)
        call IssueTargetOrderById(AC7, 852095, target)
        set AC7 = null
    endif
    set t = null
    set Z77 = null
    set target = null
    return false
endfunction
function P2F takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1MG')
    local string s = "Doodads\\Cinematic\\GlowingRunes\\GlowingRunes4.mdl"
    if GetLocalPlayer() == GetOwningPlayer(target)then
    endif
    call O68(target, 'A1J9')
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (6), (GetUnitX(target)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(target)))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx", target, "overhead")))
    call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffect(s, GetUnitX(target), GetUnitY(target))))
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P5F))
    set Z77 = null
    set target = null
    set t = null
endfunction
function P_F takes nothing returns boolean
    if GetSpellAbilityId() == 'A1MG' and OE8(GetSpellTargetUnit()) == false then
        call P2F()
    endif
    return false
endfunction
function GW9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P_F))
    set t = null
endfunction
function Q4F takes nothing returns nothing
    local unit Z77 = E3
    local unit X77 = GetEnumUnit()
    local integer ML8 = V3
    call PBF(Z77, X77)
    call V08(Z77, X77, 1, 150 + 100 * ML8)
    call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\PlasmaShot.mdl", X77, "chest"))
    set Z77 = null
    set X77 = null
endfunction
function Q7F takes nothing returns nothing
    local unit Z77 = E3
    local unit X77 = GetEnumUnit()
    call PBF(Z77, X77)
    set Z77 = null
    set X77 = null
endfunction
function Q8F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit VA8 = (LoadUnitHandle(R8, (EC8), (45)))
    local real Y5 = (LoadReal(R8, (EC8), (47)))
    local real Z5 = (LoadReal(R8, (EC8), (48)))
    local real l4 = (LoadReal(R8, (EC8), (13)))
    local real Q9F = (LoadReal(R8, (EC8), (432)))
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real x = GetUnitX(VA8) + 30 * Cos(l4)
    local real y = GetUnitY(VA8) + 30 * Sin(l4)
    local group g
    local fogmodifier QDF
    if Z87(x, y, Y5, Z5) < 35 or x != PQ8(x)or y != PS8(y)then
        set x = Y5
        set y = Z5
        call SetUnitX(VA8, x)
        call SetUnitY(VA8, y)
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        set QDF = (LoadFogModifierHandle(R8, (EC8), (440)))
        call FogModifierStop(QDF)
        call DestroyFogModifier(QDF)
        set QDF = null
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call KillUnit(VA8)
        set H04 = Z77
        set E3 = Z77
        set V3 = TA8
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, Q9F + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function Q4F)
        call OF8(g)
        set g = null
    else
        call SetUnitX(VA8, x)
        call SetUnitY(VA8, y)
        set H04 = Z77
        set E3 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 300, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function Q7F)
        call OF8(g)
        set g = null
    endif
    set t = null
    set VA8 = null
    set Z77 = null
    return false
endfunction
function QEF takes unit Z77, real x, real y, real WPE, effect FX, fogmodifier N4E returns nothing
    local real CV7 = Atan2(y - GetUnitY(Z77), x - GetUnitX(Z77))
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0B6', GetUnitX(Z77), GetUnitY(Z77), CV7 * bj_RADTODEG)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1MI')
    local real QFF = RMinBJ(25 + 250 + 25 * WPE * 2, 1000)
    local real LW7 = Z87(GetUnitX(Z77), GetUnitY(Z77), x, y)
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(Z77, 'A2QE')
    endif
    if IsUnitEnemy(S08, GetLocalPlayer())and N08(GetLocalPlayer()) == false then
        call UnitSetUsesAltIcon(S08, true)
    endif
    call TriggerRegisterTimerEvent(t, RMinBJ(2.0 / (LW7 / 30), 0.04), true)
    call TriggerAddCondition(t, Condition(function Q8F))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveReal(R8, (W57), (47), (x))
    call SaveReal(R8, (W57), (48), (y))
    call SaveReal(R8, (W57), (13), (CV7))
    call SaveReal(R8, (W57), (432), (QFF))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveFogModifierHandle(R8, (W57), (440), (N4E))
    call SaveEffectHandle(R8, (W57), (32), (FX))
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1MI', true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2QE', true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1MN', false)
    set t = null
    set S08 = null
endfunction
function QGF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real l4 = (LoadReal(R8, (W57), (13)))
    local real x
    local real y
    local real WPE = (TimerGetElapsed(E4)) - (LoadReal(R8, (W57), (431)))
    local string s
    local fogmodifier QDF
    local effect FX
    local real QHF = GetUnitX(S08) + 30 * Cos(l4)
    local real QIF = GetUnitY(S08) + 30 * Sin(l4)
    local boolean J4
    local integer i
    set x = PQ8(QHF)
    set y = PS8(QIF)
    call SetUnitX(S08, x)
    call SetUnitY(S08, y)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or(GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A1MN')or x != QHF or y != QIF then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call RemoveUnit(S08)
        set s = ""
        if IsPlayerAlly(GetOwningPlayer(Z77), GetLocalPlayer())or N08(GetLocalPlayer())then
            set s = "war3mapImported\\IceWindGroundFX.mdl"
        endif
        set QDF = CreateFogModifierRadius(GetOwningPlayer(Z77), FOG_OF_WAR_VISIBLE, x, y, 500, true, true)
        call FogModifierStart(QDF)
        set FX = AddSpecialEffect(s, x, y)
        call QEF(Z77, x, y, WPE, FX, QDF)
        set QDF = null
        set FX = null
        // elseif IsComputer(GetOwningPlayer(Z77))then
        //     set F37 = Z87(x, y, EO8(W57, "AI|TgtX"), EO8(W57, "AI|TgtY"))
        //     if F37 > EO8(W57, "AI|MaxDist")or EP8(W57, "AI|Blast")then
        //         if IsIdle(Z77)then
        //             call DE8(Z77, 852526, 'A1MN')
        //         else
        //             call DT8(W57, "AI|Blast", true)
        //         endif
        //     else
        //         call DR8(W57, "AI|MaxDist", F37)
        //         if Bz > EO8(W57, "AI|NextUp")then
        //             call DR8(W57, "AI|NextUp", Bz + 1)
        //             set J4 = false
        //             set i = EN8(GetHandleId(Z77), "AI|IBClose")
        //             if(i == 1)then
        //                 set J4 = (aiAnticipateLoc(Z77, E88(GetHandleId(Z77), "AI|IBTgt"), 500., .02, 1500.) != null)
        //             elseif(i == 0)then
        //                 set J4 = (aiAnticipateLoc(Z77, E88(GetHandleId(Z77), "AI|IBTgt"), 1500., 2.02, 99999.) != null)
        //             elseif(i == 2)then
        //                 call MoveLocTo(E88(GetHandleId(Z77), "AI|IBTgt"))
        //                 call MoveLocation(TempLoc1, GetLocationX(TempLoc0), GetLocationY(TempLoc0))
        //             endif
        //             if J4 then
        //                 call DR8(W57, "AI|TgtX", GetLocationX(TempLoc1))
        //                 call DR8(W57, "AI|TgtY", GetLocationY(TempLoc1))
        //                 call DR8(W57, "AI|MaxDist", 99999.)
        //             endif
        //         endif
        //     endif
    endif
    set t = null
    set S08 = null
    set Z77 = null
    return false
endfunction
function QJF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(Z77), x - GetUnitX(Z77))
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'H0B8', GetUnitX(Z77), GetUnitY(Z77), a * bj_RADTODEG)
    if IsUnitEnemy(S08, GetLocalPlayer())and N08(GetLocalPlayer()) == false then
        call UnitSetUsesAltIcon(S08, true)
    endif
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (13), (a))
    call SaveReal(R8, (W57), (431), TimerGetElapsed(E4))
    // if IsComputer(GetOwningPlayer(Z77))then
    //     call DR8(W57, "AI|TgtX", x)
    //     call DR8(W57, "AI|TgtY", y)
    //     call DR8(W57, "AI|MaxDist", 99999.)
    //     call DR8(W57, "AI|NextUp", Bz + 1)
    // endif
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function QGF))
    call SetUnitColor(S08, GetPlayerColor(Player(26)))
    call RemoveLocation(l)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1MI', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2QE', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1MN', true)
    call O68(Z77, 'A1MN')
    if IsComputer(GetOwningPlayer(Z77))then
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1MN', false)
    endif
    set Z77 = null
    set t = null
    set S08 = null
    set l = null
endfunction
function QKF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1MI' or GetSpellAbilityId() == 'A2QE' then
        call QJF()
    endif
    return false
endfunction
function GX9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QKF))
    set t = null
endfunction
function QOF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer QNF = (LoadInteger(R8, (GetHandleId(Z77)), (449)))
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_DAMAGED or QNF == 0 then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call SaveInteger(R8, (GetHandleId(Z77)), (449), (0))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(Z77, 'A1HN')
        call UnitRemoveAbility(Z77, 'B0CJ')
        call UnitRemoveAbility(Z77, 'A1IP')
    elseif IsNormalAttackHero() and GetEventDamageSource() == Z77 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
        if QNF > 0 then
            call SaveInteger(R8, (GetHandleId(Z77)), (449), (QNF - 1))
            call QM8("+" + I2S(40 + 10 * ML8), 1, GetTriggerUnit(), .024, 100, 200, 255, 255)
            call V08(Z77, GetTriggerUnit(), AB4, 40 + 10 * ML8)
        endif
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function QPF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEnumUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1HQ')
    call O68(X77, 'A1HN')
    call O68(X77, 'A1IP')
    call SaveInteger(R8, (GetHandleId(X77)), (449), (2 + ML8))
    call SaveUnitHandle(R8, (W57), (2), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx", X77, "right,hand")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx", X77, "left,hand")))
    call TriggerRegisterTimerEvent(t, 30, false)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function QOF))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function QQF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    call DestroyEffect(AddSpecialEffect("war3mapImported\\IcyWind.mdl", x, y))
    call GroupEnumUnitsInRange(g, x, y, 525 + 25, Condition(function VI8))
    call GroupAddUnit(g, Z77)
    call ForGroup(g, function QPF)
    call OF8(g)
    set Z77 = null
    set g = null
endfunction
function QRF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1HQ' then
        call QQF()
    endif
    return false
endfunction
function GZ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QRF))
    set t = null
endfunction
function QSF takes nothing returns nothing
    call V08(A3, GetEnumUnit(), AB4, (GetUnitAbilityLevel(A3, 'A1IM') * 75.) / 10)
endfunction
function QTF takes unit Z77 returns nothing
    local real EUF = (GetUnitAbilityLevel(Z77, 'A1IM') * 75) / 2
    set EUF = EUF / 10.
    if GetUnitState(Z77, UNIT_STATE_LIFE) <= EUF * .75 then
        set EUF = GetUnitState(Z77, UNIT_STATE_LIFE) / .75 - 10
    endif
    call V08(Z77, Z77, AB4, EUF)
endfunction
function QUF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g
    local real P99
    local unit AC7
    local integer TA8 = 0
    local integer C77 = GetTriggerEvalCount(t)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        return false
    else
        if GetTriggerEvalCount(t) == 1 then
            set AC7 = CreateUnit(GetOwningPlayer(Z77), 'h0B2', x, y, 0)
            call UnitApplyTimedLife(AC7, 'BTLF', 1)
            set AC7 = null
            call TriggerRegisterTimerEvent(t, .1, true)
            set g = OG8()
            set A3 = Z77
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 350, Condition(function GenericCondition_EnemyUnitsEx))
            call ForGroup(g, function QSF)
            call QTF(Z77)
            call OF8(g)
        else
            if C77 == 10 then
                call FlushChildHashtable(R8, EC8)
                call EA8(t)
            endif
            set g = OG8()
            set A3 = Z77
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 350, Condition(function GenericCondition_EnemyUnitsExWithAncient))
            call ForGroup(g, function QSF)
            call QTF(Z77)
            call OF8(g)
            call TF9(Z77)
            call T99(Z77, 0, 0)
        endif
    endif
    set t = null
    set g = null
    set Z77 = null
    return false
endfunction
function QVF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real P99 = (GetUnitAbilityLevel(Z77, 'A1IM') * 75.) / 2
    call TriggerRegisterTimerEvent(t, 1.5, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function QUF))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function QWF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1IM' then
        call QVF()
    endif
    return false
endfunction
function G39 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QWF))
    set t = null
endfunction
function QXF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local player QYF
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1IN')
    local real WR8 = (TimerGetElapsed(E4))
    local real QZF = (LoadReal(R8, (EC8), (415)))
    local real QAF = (LoadReal(R8, (EC8), (416)))
    if O18(Z77)then
        set t = null
        set Z77 = null
        return false
    endif
    if KN8(GetOwningPlayer(Z77))then
        set QYF = N8[1]
    else
        set QYF = G8[1]
    endif
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED and GetOwningPlayer(GetEventDamageSource()) == O8 then
        if GetUnitAbilityLevel(Z77, 'A1IE') > 0 then
            call UnitRemoveAbility(Z77, 'A1IE')
            call UnitRemoveAbility(Z77, 'B0C9')
        endif
        if GetUnitAbilityLevel(Z77, 'A1IF') > 0 then
            call UnitRemoveAbility(Z77, 'A1IF')
            call UnitRemoveAbility(Z77, 'B0C9')
        endif
        if GetUnitAbilityLevel(Z77, 'A1IG') > 0 then
            call UnitRemoveAbility(Z77, 'A1IG')
            call UnitRemoveAbility(Z77, 'B0C9')
        endif
        call SaveReal(R8, (EC8), (414), (WR8 + 2.))
        set t = null
        set Z77 = null
        return false
    endif
    if(LoadReal(R8, (EC8), (414))) > WR8 then
        set t = null
        set Z77 = null
        return false
    endif
    if(IsUnitVisible(Z77, QYF)and ABM1(Z77) == false)or IsBroken(Z77) then
        set QAF = 0
        if GetUnitAbilityLevel(Z77, 'A1IE') > 0 or GetUnitAbilityLevel(Z77, 'A1IF') > 0 or GetUnitAbilityLevel(Z77, 'A1IG') > 0 then
            set QZF = QZF + 0.1
            if QZF > 0.4 then
                set QZF = 0
                if GetUnitAbilityLevel(Z77, 'A1IE') > 0 then
                    call UnitRemoveAbility(Z77, 'A1IE')
                    call UnitRemoveAbility(Z77, 'B0C9')
                endif
                if GetUnitAbilityLevel(Z77, 'A1IF') > 0 then
                    call UnitRemoveAbility(Z77, 'A1IF')
                    call UnitRemoveAbility(Z77, 'B0C9')
                endif
                if GetUnitAbilityLevel(Z77, 'A1IG') > 0 then
                    call UnitRemoveAbility(Z77, 'A1IG')
                    call UnitRemoveAbility(Z77, 'B0C9')
                endif
            endif
        endif
        call SaveReal(R8, (EC8), (415), (QZF))
        call SaveReal(R8, (EC8), (416), (QAF))
    elseif IsUnitVisible(Z77, QYF) == false or ABM1(Z77)then
        set QZF = 0
        if(TA8 == 1 and GetUnitAbilityLevel(Z77, 'A1IE') == 0)or(TA8 == 2 and GetUnitAbilityLevel(Z77, 'A1IF') == 0)or(TA8 == 3 and GetUnitAbilityLevel(Z77, 'A1IG') == 0)then
            set QAF = QAF + 0.1
            if QAF > 0.4 then
                set QAF = 0
                if TA8 == 1 then
                    if GetUnitAbilityLevel(Z77, 'A1IE') == 0 then
                        call O68(Z77, 'A1IE')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1I7')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1I8')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1IC')
                    endif
                endif
                if TA8 == 2 then
                    if GetUnitAbilityLevel(Z77, 'A1IE') > 0 then
                        call UnitRemoveAbility(Z77, 'A1IE')
                        call UnitRemoveAbility(Z77, 'B0C9')
                    endif
                    if GetUnitAbilityLevel(Z77, 'A1IF') == 0 then
                        call O68(Z77, 'A1IF')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1I7')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1I9')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1ID')
                    endif
                endif
                if TA8 == 3 then
                    if GetUnitAbilityLevel(Z77, 'A1IE') > 0 then
                        call UnitRemoveAbility(Z77, 'A1IE')
                        call UnitRemoveAbility(Z77, 'B0C9')
                    endif
                    if GetUnitAbilityLevel(Z77, 'A1IF') > 0 then
                        call UnitRemoveAbility(Z77, 'A1IF')
                        call UnitRemoveAbility(Z77, 'B0C9')
                    endif
                    if GetUnitAbilityLevel(Z77, 'A1IG') == 0 then
                        call O68(Z77, 'A1IG')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1I7')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1IA')
                        call UnitMakeAbilityPermanent(Z77, true, 'A1IB')
                    endif
                endif
            endif
        endif
        call SaveReal(R8, (EC8), (415), ((QZF)))
        call SaveReal(R8, (EC8), (416), ((QAF)))
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function QBF takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveReal(R8, (EC8), (415), (0.))
    call SaveReal(R8, (EC8), (416), (0.))
    call SaveReal(R8, (EC8), (414), (TimerGetElapsed(E4)))
    call SaveUnitHandle(R8, (EC8), (2), (N28))
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function QXF))
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A1IE', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A1IF', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A1IG', false)
    set t = null
endfunction
function QCF takes nothing returns boolean
    if GetLearnedSkill() == 'A1IN' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A1IN') == 1 then
        call QBF(GetTriggerUnit())
    endif
    return false
endfunction
function GC9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function QCF))
    set t = null
endfunction
function Q6F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer QLF = (LoadInteger(R8, (W57), (422)))
    local integer Q1F = (LoadInteger(R8, (W57), (423)))
    local integer OAE = (LoadInteger(R8, (W57), (424)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if(LoadBoolean(R8, (W57), (276))) == false and GetTriggerUnit() == Z77 then
            call SaveBoolean(R8, (W57), (276), (true))
            call SetHeroAgi(Z77, GetHeroAgi(Z77, false) - QLF - Q1F - OAE, true)
        elseif(LoadBoolean(R8, (W57), (277))) == false and GetTriggerUnit() == X77 then
            call SaveBoolean(R8, (W57), (277), (true))
            call SetHeroAgi(X77, GetHeroAgi(X77, false) + QLF, true)
            call SetHeroStr(X77, GetHeroStr(X77, false) + Q1F, true)
            call SetHeroInt(X77, GetHeroInt(X77, false) + OAE, true)
        endif
    else
        if(LoadBoolean(R8, (W57), (276))) == false then
            call SaveBoolean(R8, (W57), (276), (true))
            call SetHeroAgi(Z77, GetHeroAgi(Z77, false) - QLF - Q1F - OAE, true)
        endif
        if(LoadBoolean(R8, (W57), (277))) == false then
            call SaveBoolean(R8, (W57), (277), (true))
            call SetHeroAgi(X77, GetHeroAgi(X77, false) + QLF, true)
            call SetHeroStr(X77, GetHeroStr(X77, false) + Q1F, true)
            call SetHeroInt(X77, GetHeroInt(X77, false) + OAE, true)
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function Q0F takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1HR')
    local integer VWD = N58(X77)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer QLF
    local integer Q1F
    local integer OAE
    local real VL8
    if VWD == 2 then
        set QLF = IMinBJ(GetHeroAgi(X77, false) - 1, 1)
        set Q1F = IMinBJ(GetHeroStr(X77, false) - 1, 1)
        set OAE = IMinBJ(GetHeroInt(X77, false) - 1, 1)
    elseif VWD == 3 then
        set QLF = IMinBJ(GetHeroAgi(X77, false) - 1, 1)
        set Q1F = IMinBJ(GetHeroStr(X77, false) - 1, 1)
        set OAE = IMinBJ(GetHeroInt(X77, false) - 1, 1)
    elseif VWD == 1 then
        set QLF = IMinBJ(GetHeroAgi(X77, false) - 1, 1)
        set Q1F = IMinBJ(GetHeroStr(X77, false) - 1, 1)
        set OAE = IMinBJ(GetHeroInt(X77, false) - 1, 1)
    endif
    call SetHeroAgi(Z77, GetHeroAgi(Z77, false) + QLF + OAE + Q1F, true)
    call SetHeroAgi(X77, GetHeroAgi(X77, false) - QLF, true)
    call SetHeroStr(X77, GetHeroStr(X77, false) - Q1F, true)
    call SetHeroInt(X77, GetHeroInt(X77, false) - OAE, true)
    call SaveInteger(R8, (W57), (422), (QLF))
    call SaveInteger(R8, (W57), (424), (OAE))
    call SaveInteger(R8, (W57), (423), (Q1F))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveBoolean(R8, (W57), (276), (false))
    call SaveBoolean(R8, (W57), (277), (false))
    if ML8 == 1 then
        set VL8 = 15
    elseif ML8 == 2 then
        set VL8 = 30
    elseif ML8 == 3 then
        set VL8 = 60
    elseif ML8 == 4 then
        set VL8 = 120
    endif
    call TriggerRegisterTimerEvent(t, VL8, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function Q6F))
    set t = null
endfunction
function Q_F takes nothing returns nothing
    local unit X77 = GetTriggerUnit()
    local unit Z77 = GetEventDamageSource()
    if IsBroken(Z77) == false then
        call Q0F(Z77, X77)
    endif
    set X77 = null
    set Z77 = null
endfunction
function R7F takes nothing returns boolean
    if GetUnitAbilityLevel(GetEventDamageSource(), 'A1HR') > 0 and IsNormalAttackHero() and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and GetEventDamageSource() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (14)))and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit()))then
        call Q_F()
    endif
    return false
endfunction
function R8F takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function R7F))
    call SaveUnitHandle(R8, (W57), (14), (GetTriggerUnit()))
    set t = null
endfunction
function R9F takes nothing returns boolean
    if GetLearnedSkill() == 'A1HR' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A1HR') == 1 then
        call R8F()
    endif
    return false
endfunction
function GA9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function R9F))
    set t = null
endfunction
function AY35 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    if C77 > (4.0) / 0.03 or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        if((LoadInteger(R8, (GetHandleId((p5))), ((4420)))) == 1) == false then
            call UnitSetUsesAltIcon(p5, false)
        endif
        call SaveInteger(R8, (GetHandleId((p5))), ((4421)), (2))
        call UnitAddAbility(p5, 'A2VV')
        call UnitRemoveAbility(p5, 'A2VV')
        call KillUnit(oA)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetTriggerUnit() == p5 then
            call IssueImmediateOrder(GetAttacker(), "stop")
        endif
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (EC8), (34), (C77))
        call SetUnitX(oA, GetUnitX(p5))
        call SetUnitY(oA, GetUnitY(p5))
    endif
    set t = null
    set p5 = null
    set oA = null
    return false
endfunction
function REF takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A1IN')
    local real d = 4.0
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'h0B1', GetUnitX(p5), GetUnitY(p5), 0)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(p5)) == false and N08(GetLocalPlayer()) == false then
        call UnitSetUsesAltIcon(p5, true)
    endif
    call TZ8(p5, 'A1HW', 1, d)
    call TZ8(p5, 'A1HX', 1, d)
    call SaveInteger(R8, (GetHandleId((p5))), ((4421)), (1))
    call UnitAddAbility(p5, 'A2VU')
    call UnitRemoveAbility(p5, 'A2VU')
    if GetUnitTypeId(p5) != 'E02X' then
        call UnitAddAbility(p5, 'Aloc')
        call UnitRemoveAbility(p5, 'Aloc')
    endif
    call ShowUnit(p5, false)
    call ShowUnit(p5, true)
    call SelectUnitAddForPlayer(p5, GetOwningPlayer(p5))
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterDeathEvent(t, p5)
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function AY35))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (34), (0))
    set p5 = null
    set oA = null
    set t = null
endfunction
function RFF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1IN' then
        call REF()
    endif
    return false
endfunction
function GB9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RFF))
    set t = null
endfunction
function RGF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer OUD = GetTriggerEvalCount(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local lightning RHF = (LoadLightningHandle(R8, (EC8), (196)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real t5 = (LoadReal(R8, (EC8), (189)))
    local real w5 = (LoadReal(R8, (EC8), (190)))
    local real Y5 = GetUnitX(target)
    local real Z5 = GetUnitY(target)
    local real RIF
    local real RJF
    local real GRF = (LoadReal(R8, (EC8), (23)))
    local real GSF = (LoadReal(R8, (EC8), (24)))
    local real l4
    local real AYE = Z87(GRF, GSF, Y5, Z5)
    call SaveReal(R8, (EC8), (23), (Y5))
    call SaveReal(R8, (EC8), (24), (Z5))
    if AYE > 100 or OUD > (3.5 / .03)or GU8(target) then
        call DestroyLightning(RHF)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call MoveLightning(RHF, true, t5, w5, Y5, Z5)
        if Z87(t5, w5, Y5, Z5) > 325 then
            set l4 = Atan2(Z5 - w5, Y5 - t5)
            set RIF = t5 + (325) * Cos(l4)
            set RJF = w5 + (325) * Sin(l4)
            call SetUnitX(target, RIF)
            call SetUnitY(target, RJF)
        endif
    endif
    set t = null
    set Z77 = null
    set target = null
    set RHF = null
    return false
endfunction
function RKF takes unit Z77, unit X77, integer ML8 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local lightning F4F = AddLightning("PONC", true, GetUnitX(Z77), GetUnitY(Z77), GetUnitX(X77), GetUnitY(X77))
    call SetLightningColor(F4F, 1, 1, 1, 1)
    call SaveLightningHandle(R8, (W57), (196), (F4F))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveReal(R8, (W57), (189), ((GetUnitX(Z77))))
    call SaveReal(R8, (W57), (190), ((GetUnitY(Z77))))
    call SaveReal(R8, (W57), (23), ((GetUnitX(X77))))
    call SaveReal(R8, (W57), (24), ((GetUnitY(X77))))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function RGF))
    call V08(Z77, X77, AB4, 50 * ML8)
    call IssueTargetOrderById(Z77, 851983, X77)
    set t = null
    set F4F = null
endfunction
function RMF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer C77 = GetTriggerEvalCount(t)
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real CV7 = (LoadReal(R8, (W57), (13)))
    local real ZLD = (LoadReal(R8, (W57), (189)))
    local real Z1D = (LoadReal(R8, (W57), (190)))
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local real S_8 = ZLD + (30 * (20 + 4 * 2) / 30) * C77 * Cos(CV7 * bj_DEGTORAD)
    local real T48 = Z1D + (30 * (20 + 4 * 2) / 30) * C77 * Sin(CV7 * bj_DEGTORAD)
    local real RNF = SquareRoot((S_8 - BM7) * (S_8 - BM7) + (T48 - BN7) * (T48 - BN7))
    local real ROF = 700
    local real RPF = 175
    local real RQF = (1 - RNF / ROF) * RPF * 2
    local group g = OG8()
    local unit X77
    if C77 == 1 then
        call SetUnitAnimationByIndex(Z77, 5)
        call SetUnitTimeScale(Z77, 1.5)
    endif
    if RQF > RPF then
        call SetUnitAnimationByIndex(Z77, 5)
        set RQF = RPF * 2 - RQF
    endif
    call SetUnitFlyHeight(Z77, RMaxBJ(RQF, 0), 0)
    call SetUnitX(Z77, PQ8(S_8))
    call SetUnitY(Z77, PS8(T48))
    call SetUnitFacing(Z77, CV7)
    set H04 = Z77
    call GroupEnumUnitsInRange(g, S_8, T48, 120, Condition(function GenericCondition_EnemyHeroesExNoImmune))
    set X77 = FirstOfGroup(g)
    call OF8(g)
    if RNF < 30 or X77 != null or GetTriggerEvalCount(t) > 75 then
        call SetUnitFlyHeight(Z77, 0, 0)
        call SetUnitFacing(Z77, CV7)
        call SetUnitTimeScale(Z77, 1)
        call SetUnitAnimation(Z77, "stand")
        call SetUnitPathing(Z77, true)
        call UnitRemoveAbility(Z77, 'A1J6')
        call SC8(GetUnitX(Z77), GetUnitY(Z77), 100)
        if X77 != null and GU8(X77) == false then
            call ASCI(X77, 4408, 5)
            call RKF(Z77, X77, ML8)
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set g = null
    return false
endfunction
function RRF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1J7')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real LW7 = 700
    local real CV7 = GetUnitFacing(Z77)
    local real BJ7 = GetUnitX(Z77)
    local real BK7 = GetUnitY(Z77)
    local real BM7 = PQ8(BJ7 + LW7 * Cos(CV7 * bj_DEGTORAD))
    local real BN7 = PS8(BK7 + LW7 * Sin(CV7 * bj_DEGTORAD))
    call O68(Z77, 'Amrf')
    call UnitRemoveAbility(Z77, 'Amrf')
    call SetUnitPathing(Z77, false)
    call O68(Z77, 'A1J6')
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function RMF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveReal(R8, (W57), (13), ((CV7)))
    call SaveReal(R8, (W57), (189), ((BJ7)))
    call SaveReal(R8, (W57), (190), ((BK7)))
    call SaveReal(R8, (W57), (47), ((BM7)))
    call SaveReal(R8, (W57), (48), ((BN7)))
    set Z77 = null
    set t = null
endfunction
function RSF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1J7' then
        call RRF()
    endif
    return false
endfunction
function G69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RSF))
    set t = null
endfunction
function RTF takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H04
    local unit target = H54
    local real P99 = (LoadReal(R8, (W57), (20)))
    call V08(Z77, target, AB4, P99)
    set Z77 = null
    set target = null
endfunction
function RUF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit target = GetEnumUnit()
    local trigger t = T88(Z77, target, 'h0BP', "RTF", 700, false)
    local integer W57 = GetHandleId(t)
    local real P08 = 75 * GetUnitAbilityLevel(Z77, 'A04A')
    call SaveReal(R8, (W57), (20), ((P08)))
    set Z77 = null
    set target = null
    set t = null
endfunction
function RVF takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A04A')
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 500, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function RUF)
    call OF8(g)
    call PlaySoundOnUnitBJ(PP, 100, Z77)
    set Z77 = null
    set g = null
endfunction
function RWF takes nothing returns boolean
    if GetSpellAbilityId() == 'A04A' then
        call RVF()
    endif
    return false
endfunction
function GL9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RWF))
    set t = null
endfunction
function AB11 takes nothing returns boolean
    if GetSpellAbilityId() == 'A063' or GetSpellAbilityId() == 'A03O' or GetSpellAbilityId() == 'A0B8' or GetSpellAbilityId() == 'A1WE' or GetSpellAbilityId() == 'Aibk' or GetSpellAbilityId() == 'A2FV' or GetSpellAbilityId() == 'A0ME' then
        call ASCI(GetTriggerUnit(), 4422, .2)
    endif
    return false
endfunction
function AYF5 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call V08(H04, GetEnumUnit(), 7, H64)
    endif
endfunction
function AYG5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit S08 = (LoadUnitHandle(R8, (EC8), (45)))
    local group XCD = (LoadGroupHandle(R8, (EC8), (22)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real d = Z47(p5, S08)
    local real T3G = PQ8(GetUnitX(S08) + 900 * .02 * Cos(a * bj_DEGTORAD))
    local real T6G = PS8(GetUnitY(S08) + 900 * .02 * Sin(a * bj_DEGTORAD))
    local group g
    local real r = 100 + 350 * d / 900
    local integer TA8 = GetUnitAbilityLevel(p5, 'A306')
    local real P99
    if TA8 > 0 then
        set P99 = 190 + 100 * TA8
    else
        set TA8 = GetUnitAbilityLevel(p5, 'A307')
        set P99 = 200 + 125 * TA8
    endif
    if d > 900 or GetTriggerEvalCount(t) > 1 / .02 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call OF8(XCD)
        call KillUnit(S08)
    else
        call SetUnitX(S08, T3G)
        call SetUnitY(S08, T6G)
        set H04 = p5
        set H24 = XCD
        set H64 = P99
        set g = OG8()
        call GroupEnumUnitsInRange(g, T3G, T6G, r, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function AYF5)
        call OF8(g)
        set g = null
    endif
    set XCD = null
    set t = null
    set p5 = null
    set S08 = null
    return false
endfunction
function AYH5 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit S08 = CreateUnit(GetOwningPlayer(p5), 'h0EW', GetUnitX(p5), GetUnitY(p5), GetUnitFacing(p5))
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = YI7(GetUnitX(p5), GetUnitY(p5), x, y)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function AYG5))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (45), (S08))
    call SaveGroupHandle(R8, (EC8), (22), (OG8()))
    call SaveReal(R8, (EC8), (137), (a))
    set p5 = null
    set t = null
    set S08 = null
endfunction
function AYZ5 takes nothing returns boolean
    if GetSpellAbilityId() == 'A306' or GetSpellAbilityId() == 'A307' then
        call AYH5()
    endif
    return false
endfunction
function AR91 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AYZ5))
    set t = null
endfunction
function RYF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call ZN7(p5)
    endif
    set t = null
    set p5 = null
    return false
endfunction
function RZF takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A00P')
    call TriggerRegisterTimerEvent(t, 2 + .75 * TA8, false)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function RYF))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set p5 = null
    set t = null
endfunction
function RAF takes nothing returns boolean
    if GetSpellAbilityId() == 'A00P' then
        call RZF()
    endif
    return false
endfunction
function G09 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RAF))
    set t = null
endfunction
function MassSerpentWardDamagedAction takes nothing returns nothing
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 5 then
            call BlzSetEventDamage(GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) / 2)
        endif
    else
        call EA8(GetTriggeringTrigger())
    endif
endfunction
function CreateMassSerpentWard takes player p, integer id, real x, real y, real facing, real duration returns nothing
    local trigger t = CreateTrigger()
    local unit u = CreateUnit(p, id, x, y, facing)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DAMAGED)
    call TriggerRegisterDeathEvent(t, u)
    call TriggerAddAction(t, function MassSerpentWardDamagedAction)
    call UnitApplyTimedLife(u, 'BTLF', duration)
    set u = null
    set t = null
endfunction
function AYY5 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A00H')
    local integer MB8
    local real BM7 = GetSpellTargetX()
    local real BN7 = GetSpellTargetY()
    local real x
    local real y
    local real d
    local real h
    local real VL8 = 40
    local player p = GetOwningPlayer(p5)
    local real a = GetUnitFacing(p5)
    if TA8 == 0 then
        set VL8 = 45
        set TA8 = GetUnitAbilityLevel(p5, 'A0A1')
        if TA8 == 1 then
            set MB8 = 'o01C'
        elseif TA8 == 2 then
            set MB8 = 'o01D'
        elseif TA8 == 3 then
            set MB8 = 'o01E'
        endif
    else
        if TA8 == 1 then
            set MB8 = 'osp4'
        elseif TA8 == 2 then
            set MB8 = 'o008'
        elseif TA8 == 3 then
            set MB8 = 'o009'
        endif
    endif
    set d = 65
    set h = 65
    set x = BM7 + 0 * d
    set y = BN7 + 1 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 + 1 * d
    set y = BN7 + 1 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 + 2 * d
    set y = BN7 + 1 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 - 1 * d
    set y = BN7 + 1 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 - 2 * d
    set y = BN7 + 1 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 - 1 * d
    set y = BN7 + 0 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 + 1 * d
    set y = BN7 + 0 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 - 1 * d
    set y = BN7 - 1 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 + 0 * d
    set y = BN7 - 1 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set x = BM7 + 1 * d
    set y = BN7 - 1 * h
    call CreateMassSerpentWard(p, MB8, x, y, a, VL8)
    set p5 = null
    set p = null
endfunction
function AYJ5 takes nothing returns boolean
    if GetSpellAbilityId() == 'A00H' or GetSpellAbilityId() == 'A0A1' then
        call AYY5()
    endif
    return false
endfunction
function ARB1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AYJ5))
    set t = null
endfunction
function RBF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or GetTriggerEvalCount(t) == 4 or GU8(X77)then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call UnitRemoveAbility(X77, 'A2O7')
        call UnitRemoveAbility(X77, 'B0GC')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    if GetTriggerEventId() != EVENT_WIDGET_DEATH then
        call V08(Z77, X77, AB4, 20 * ML8 - 10)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function RCF takes unit Z77, unit X77, integer ML8 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(X77, 'A2O7')
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function RBF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", X77, "chest")))
    set t = null
endfunction
function R3F takes nothing returns boolean
    if IsUnitInGroup(GetEnumUnit(), Y04) == false and GU8(GetEnumUnit()) == false then
        call GroupAddUnit(Y04, GetEnumUnit())
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBlast.mdx", GetEnumUnit(), "chest"))
        call RCF(Y24, GetEnumUnit(), Y54)
    endif
    return false
endfunction
function R6F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real BJ7 = (LoadReal(R8, (W57), (189)))
    local real BK7 = (LoadReal(R8, (W57), (190)))
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local real a = (LoadReal(R8, (W57), (13)))
    local real d = (LoadReal(R8, (W57), (138)))
    local real RLF = (1 - I2R(C77) / 50) * bj_PI
    local real R1F = d / 2 * Cos(RLF)
    local real R0F = 500 / 2 * Sin(RLF)
    local real x = PQ8(BM7 + R1F * Cos(a) - R0F * Sin(a))
    local real y = PS8(BN7 + R1F * Sin(a) + R0F * Cos(a))
    local group PLD = (LoadGroupHandle(R8, (W57), (133)))
    local group g
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1RJ')
    if GetTriggerEventId() == EVENT_UNIT_DEATH or(GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and C77 > 0 and(GetSpellAbilityId() == 'A20N' or GetSpellAbilityId() == 'A1RK'))or C77 > 100 or SL9(Z77) then
        call SC8(x, y, 300)
        call SetUnitVertexColor(Z77, 255, 255, 255, 255)
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1RJ' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1RJ', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A20N', false)
        call SetUnitPathing(Z77, true)
        call OF8(PLD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        if ModuloInteger(C77, 10) == 0 then
            call SC8(x, y, 200)
        endif
        call SaveInteger(R8, (W57), (34), (C77 + 1))
        call SetUnitX(Z77, x)
        call SetUnitY(Z77, y)
        call SetUnitFacing(Z77, (a + RLF - bj_PI / 2) * bj_RADTODEG)
        set g = OG8()
        set Y04 = PLD
        set H04 = Z77
        set Y24 = Z77
        set Y54 = GetUnitAbilityLevel(Z77, 'A1RJ')
        call GroupEnumUnitsInRange(g, x, y, 200 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmune))
        call ForGroup(g, function R3F)
        call OF8(g)
    endif
    set t = null
    set Z77 = null
    set g = null
    set PLD = null
    return false
endfunction
function R5F takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real BJ7 = GetUnitX(Z77)
    local real BK7 = GetUnitY(Z77)
    local real a = YI7(BJ7, BK7, GetSpellTargetX(), GetSpellTargetY()) * bj_DEGTORAD
    local real d = ALR(Z77, 1400)
    local real BM7 = BJ7 + d / 2 * Cos(a)
    local real BN7 = BK7 + d / 2 * Sin(a)
    call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) - GetUnitState(Z77, UNIT_STATE_LIFE) * .15)
    call ASCI(Z77, 4301, 2)
    call ASCI(Z77, 4415, 2)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function R6F))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (189), (BJ7))
    call SaveReal(R8, (W57), (190), (BK7))
    call SaveReal(R8, (W57), (47), (BM7))
    call SaveReal(R8, (W57), (48), (BN7))
    call SaveReal(R8, (W57), (13), (a))
    call SaveReal(R8, (W57), (138), (d))
    call SaveGroupHandle(R8, (W57), (133), (OG8()))
    call SetUnitPathing(Z77, false)
    call SetUnitVertexColor(Z77, 255, 255, 255, 50)
    call O68(Z77, 'A20N')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1RJ', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A20N', true)
    set t = null
    set Z77 = null
endfunction
function R2F takes nothing returns boolean
    if GetSpellAbilityId() == 'A1RJ' then
        call R5F()
    endif
    return false
endfunction
function G59 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function R2F))
    set t = null
endfunction
function R_F takes nothing returns nothing
    local unit Z77 = ZM4
    local unit X77 = GetEnumUnit()
    call V08(Z77, X77, AB4, 40 + 20 * ZN4)
    call QG8("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl", X77, "origin", 1)
    set Z77 = null
    set X77 = null
endfunction
function S4F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1RK')
    local group g
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set H04 = Z77
        set ZM4 = Z77
        set ZN4 = ML8
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1000 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g, function R_F)
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function S7F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit S8F = (LoadUnitHandle(R8, (W57), (589)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) then
            call BlzSetEventDamage(0.)
        endif
    else
        if GetUnitX(S8F) != x or GetUnitY(S8F) != y then
            call SetUnitPosition(S8F, x, y)
        endif
        if GetUnitY(Z77) != x or GetUnitY(Z77) != y then
            call SetUnitPosition(Z77, x, y)
        endif
        call SetUnitX(AC7, GetUnitX(Z77))
        call SetUnitY(AC7, GetUnitY(Z77))
    endif
    if GetTriggerEvalCount(t) == 1 then
        call PauseUnit(Z77, true)
    endif
    set t = null
    set S8F = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function S9F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit SDF = (LoadUnitHandle(R8, (W57), (588)))
    local unit S8F = (LoadUnitHandle(R8, (W57), (589)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local unit XAD = (LoadUnitHandle(R8, (W57), (239)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1RK')
    local unit AC7
    local integer SEF
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call StopSound(WJ4, false, false)
        call ShowUnit(SDF, false)
        call ShowUnit(XAD, false)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call ShowUnit(Z77, true)
        call SaveInteger(R8, (GetHandleId((Z77))), ((4326)), (2))
        call UnitRemoveAbility(Z77, 'A04R')
        call SetUnitInvulnerable(Z77, false)
        call PauseUnit(Z77, false)
        if GetLocalPlayer() == GetOwningPlayer(Z77)then
            call ClearSelection()
            call SelectUnit(Z77, true)
        endif
        call SetUnitState(Z77, UNIT_STATE_LIFE, 1)
        set AC7 = CreateUnit(GetOwningPlayer(GetKillingUnit()), 'e00E', 0, 0, 0)
        call UnitRemoveBuffs(Z77, true, true)
        call UnitRemoveAbility(Z77, 'Aetl')
        call UnitDamageTarget(AC7, Z77, 100000000., true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        set AC7 = null
    else
        if GetTriggerEvalCount(t) == 1 then
            call SetUnitFlyHeight(S8F, 0, 200)
        elseif GetTriggerEvalCount(t) == 2 then
            call PauseUnit(S8F, false)
            call UnitApplyTimedLife(S8F, 'BTLF', .1)
            call StopSound(WJ4, false, false)
            call StartSound(WK4)
            call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx", GetUnitX(SDF), GetUnitY(SDF)))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call ShowUnit(Z77, true)
            call SaveInteger(R8, (GetHandleId(Z77)), (4326), (2))
            call UnitRemoveAbility(Z77, 'A04R')
            call SetUnitInvulnerable(Z77, false)
            call SetUnitAnimationByIndex(Z77, 8)
            call QueueUnitAnimation(Z77, "idle")
            call PauseUnit(Z77, false)
            if GetLocalPlayer() == GetOwningPlayer(Z77)then
                call ClearSelection()
                call SelectUnit(Z77, true)
            endif
            call ShowUnit(SDF, false)
            call ShowUnit(XAD, false)
            call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_MAX_LIFE))
            call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MAX_MANA))
            set SEF = GetUnitAbilityLevel(Z77, 'A1RJ')
            if SEF > 0 then
                call UnitRemoveAbility(Z77, 'A1RJ')
                call UnitAddAbility(Z77, 'A1RJ')
                call SetUnitAbilityLevel(Z77, 'A1RJ', SEF)
            endif
            set SEF = GetUnitAbilityLevel(Z77, 'A1YX')
            if SEF > 0 then
                call UnitRemoveAbility(Z77, 'A1YX')
                call UnitAddAbility(Z77, 'A1YX')
                call SetUnitAbilityLevel(Z77, 'A1YX', SEF)
            endif
            set SEF = GetUnitAbilityLevel(Z77, 'A1YY')
            if SEF > 0 then
                call UnitRemoveAbility(Z77, 'A1YY')
                call UnitAddAbility(Z77, 'A1YY')
                call SetUnitAbilityLevel(Z77, 'A1YY', SEF)
            endif
            set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
            call O68(AC7, 'A1ZT')
            call SetUnitAbilityLevel(AC7, 'A1ZT', ML8)
            call IssueImmediateOrderById(AC7, 852127)
            set AC7 = null
        endif
    endif
    set t = null
    set Z77 = null
    set SDF = null
    set XAD = null
    set S8F = null
    return false
endfunction
function SFF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local unit SDF
    local unit S8F
    local unit XAD = CreateUnit(GetOwningPlayer(Z77), 'h0CL', GetUnitX(Z77), GetUnitY(Z77), 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1RK')
    local unit AC7
    local unit SGF = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    set SDF = CreateUnit(GetOwningPlayer(Z77), 'h0BX', x, y, 0)
    if ML8 == 1 then
        set S8F = CreateUnit(GetOwningPlayer(Z77), 'h0CV', x, y, 0)
    elseif ML8 == 2 then
        set S8F = CreateUnit(GetOwningPlayer(Z77), 'h0CX', x, y, 0)
    elseif ML8 == 3 then
        set S8F = CreateUnit(GetOwningPlayer(Z77), 'h0CW', x, y, 0)
    endif
    call AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl", SDF, "origin")
    if GetLocalPlayer() == GetOwningPlayer(Z77)then
        call ClearSelection()
        call SelectUnit(S8F, true)
    endif
    call SC8(x, y, 400)
    call ShowUnit(Z77, false)
    call SaveInteger(R8, (GetHandleId((Z77))), ((4326)), (1))
    call O68(Z77, 'A04R')
    call T99(Z77, 0, 0)
    call SetUnitInvulnerable(Z77, true)
    call UnitRemoveBuffs(Z77, true, true)
    call StartSound(WJ4)
    call UnitRemoveAbility(S8F, 'Arav')
    call UnitApplyTimedLife(SDF, 'BTLF', 6.1)
    call UnitApplyTimedLife(XAD, 'BTLF', 6.1)
    call UnitApplyTimedLife(S8F, 'BTLF', 6.1)
    call TriggerRegisterTimerEvent(t, 5.2, false)
    call TriggerRegisterTimerEvent(t, 6, false)
    call TriggerAddCondition(t, Condition(function S9F))
    call TriggerRegisterUnitEvent(t, S8F, EVENT_UNIT_DEATH)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (588), (SDF))
    call SaveUnitHandle(R8, (W57), (589), (S8F))
    call SaveUnitHandle(R8, (W57), (239), (XAD))
    call SaveReal(R8, (W57), (6), (GetUnitX(Z77)))
    call SaveReal(R8, (W57), (7), (GetUnitY(Z77)))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, S8F, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function S4F))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, S8F, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, S8F, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function S7F))
    call SaveUnitHandle(R8, (W57), (589), (S8F))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (GetUnitX(Z77)))
    call SaveReal(R8, (W57), (7), (GetUnitY(Z77)))
    call SaveUnitHandle(R8, (W57), (19), (SGF))
    if AEA1(Z77, 'I0A8')then
        call UnitAddAbility(SGF, 'A04I')
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    set SDF = null
    set S8F = null
    set XAD = null
    set SGF = null
endfunction
function SHF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1RK' then
        call SFF()
    endif
    return false
endfunction
function H99 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SHF))
    call PU8('A0X6')
    call PU8('A1ZT')
    set t = null
endfunction
function AJ75 takes nothing returns nothing
    local unit target = GetEnumUnit()
    call V08(H04, target, 1, 30 + 30 * HB4)
    call QG8("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl", target, "origin", 1)
    set target = null
endfunction
function AJ85 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2YR')
    local group g
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set H04 = p5
        set HB4 = TA8
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(p5), GetUnitY(p5), 1000 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function AJ75)
        call OF8(g)
        set g = null
    endif
    set t = null
    set p5 = null
    return false
endfunction
function AJ95 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AJ15 = (LoadUnitHandle(R8, (EC8), (589)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsUnitIllusion(GetEventDamageSource()) == true then
            call BlzSetEventDamage(0.)
        endif
    else
        if GetUnitX(AJ15) != x or GetUnitY(AJ15) != y then
            call SetUnitPosition(AJ15, x, y)
        endif
        if GetUnitY(p5) != x or GetUnitY(p5) != y then
            call SetUnitPosition(p5, x, y)
        endif
        call SetUnitX(oA, GetUnitX(p5))
        call SetUnitY(oA, GetUnitY(p5))
        if target != null and(GetUnitY(target) != x or GetUnitY(target) != y)then
            call SetUnitPosition(target, x, y)
        endif
    endif
    if GetTriggerEvalCount(t) == 1 then
        call PauseUnit(p5, true)
    endif
    set t = null
    set AJ15 = null
    set p5 = null
    set target = null
    set oA = null
    return false
endfunction
function AJA5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit AJ25 = (LoadUnitHandle(R8, (EC8), (588)))
    local unit AJ15 = (LoadUnitHandle(R8, (EC8), (589)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local unit AZK3 = (LoadUnitHandle(R8, (EC8), (239)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2YR')
    local unit oA
    local integer AJ35
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call StopSound(WJ4, false, false)
        call ShowUnit(AJ25, false)
        call ShowUnit(AZK3, false)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call ShowUnit(p5, true)
        call SaveInteger(R8, (GetHandleId((p5))), ((4326)), (2))
        call UnitRemoveAbility(p5, 'A04R')
        call SetUnitInvulnerable(p5, false)
        call PauseUnit(p5, false)
        if GetLocalPlayer() == GetOwningPlayer(p5)then
            call ClearSelection()
            call SelectUnit(p5, true)
        endif
        call SetUnitState(p5, UNIT_STATE_LIFE, 1)
        set oA = CreateUnit(GetOwningPlayer(GetKillingUnit()), 'e00E', 0, 0, 0)
        call UnitRemoveBuffs(p5, true, true)
        call UnitRemoveAbility(p5, 'Aetl')
        call UnitDamageTarget(oA, p5, 100000000, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        if target != null then
            call ShowUnit(target, true)
            call SaveInteger(R8, (GetHandleId((target))), ((4326)), (2))
            call UnitRemoveAbility(target, 'A04R')
            call SetUnitInvulnerable(target, false)
            call PauseUnit(target, false)
            if GetLocalPlayer() == GetOwningPlayer(target)then
                call ClearSelection()
                call SelectUnit(target, true)
            endif
            call SetUnitState(target, UNIT_STATE_LIFE, 1)
            set oA = CreateUnit(GetOwningPlayer(GetKillingUnit()), 'e00E', 0, 0, 0)
            call UnitRemoveBuffs(target, true, true)
            call UnitRemoveAbility(target, 'Aetl')
            call UnitDamageTarget(oA, target, 100000000, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        endif
        set oA = null
    else
        if GetTriggerEvalCount(t) == 1 then
            call SetUnitFlyHeight(AJ15, 0, 200)
        elseif GetTriggerEvalCount(t) == 2 then
            call PauseUnit(AJ15, false)
            call UnitApplyTimedLife(AJ15, 'BTLF', .1)
            call StopSound(WJ4, false, false)
            call StartSound(WK4)
            call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx", GetUnitX(AJ25), GetUnitY(AJ25)))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call ShowUnit(p5, true)
            call SaveInteger(R8, (GetHandleId((p5))), ((4326)), (2))
            call UnitRemoveAbility(p5, 'A04R')
            call SetUnitInvulnerable(p5, false)
            call SetUnitAnimationByIndex(p5, 8)
            call QueueUnitAnimation(p5, "idle")
            call PauseUnit(p5, false)
            if GetLocalPlayer() == GetOwningPlayer(p5)then
                call ClearSelection()
                call SelectUnit(p5, true)
            endif
            call ShowUnit(AJ25, false)
            call ShowUnit(AZK3, false)
            call SetUnitState(p5, UNIT_STATE_LIFE, GetUnitState(p5, UNIT_STATE_MAX_LIFE))
            call SetUnitState(p5, UNIT_STATE_MANA, GetUnitState(p5, UNIT_STATE_MAX_MANA))
            if target != null then
                call ShowUnit(target, true)
                call SaveInteger(R8, (GetHandleId((target))), ((4326)), (2))
                call UnitRemoveAbility(target, 'A04R')
                call SetUnitInvulnerable(target, false)
                call PauseUnit(target, false)
                if GetLocalPlayer() == GetOwningPlayer(target)then
                    call ClearSelection()
                    call SelectUnit(target, true)
                endif
                call SetUnitState(target, UNIT_STATE_LIFE, GetUnitState(target, UNIT_STATE_MAX_LIFE))
                call SetUnitState(target, UNIT_STATE_MANA, GetUnitState(target, UNIT_STATE_MAX_MANA))
            endif
            set AJ35 = GetUnitAbilityLevel(p5, 'A1RJ')
            if AJ35 > 0 then
                call UnitRemoveAbility(p5, 'A1RJ')
                call UnitAddAbility(p5, 'A1RJ')
                call SetUnitAbilityLevel(p5, 'A1RJ', AJ35)
            endif
            set AJ35 = GetUnitAbilityLevel(p5, 'A1YX')
            if AJ35 > 0 then
                call UnitRemoveAbility(p5, 'A1YX')
                call UnitAddAbility(p5, 'A1YX')
                call SetUnitAbilityLevel(p5, 'A1YX', AJ35)
            endif
            set AJ35 = GetUnitAbilityLevel(p5, 'A1YY')
            if AJ35 > 0 then
                call UnitRemoveAbility(p5, 'A1YY')
                call UnitAddAbility(p5, 'A1YY')
                call SetUnitAbilityLevel(p5, 'A1YY', AJ35)
            endif
            set oA = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(p5), GetUnitY(p5), 0)
            call O68(oA, 'A1ZT')
            call SetUnitAbilityLevel(oA, 'A1ZT', TA8)
            call IssueImmediateOrder(oA, "stomp")
            set oA = null
        endif
    endif
    set t = null
    set p5 = null
    set target = null
    set AJ25 = null
    set AZK3 = null
    set AJ15 = null
    return false
endfunction
function AJB5 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real x = GetUnitX(p5)
    local real y = GetUnitY(p5)
    local unit AJ25
    local unit AJ15
    local unit AZK3 = CreateUnit(GetOwningPlayer(p5), 'h0CL', GetUnitX(p5), GetUnitY(p5), 0)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2YR')
    local unit oA
    local unit AJ55 = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(p5), GetUnitY(p5), 0)
    if target == p5 then
        set target = null
    endif
    set AJ25 = CreateUnit(GetOwningPlayer(p5), 'h0BX', x, y, 0)
    if TA8 == 1 then
        set AJ15 = CreateUnit(GetOwningPlayer(p5), 'h0CV', x, y, 0)
    elseif TA8 == 2 then
        set AJ15 = CreateUnit(GetOwningPlayer(p5), 'h0CX', x, y, 0)
    elseif TA8 == 3 then
        set AJ15 = CreateUnit(GetOwningPlayer(p5), 'h0CW', x, y, 0)
    endif
    call AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl", AJ25, "origin")
    if GetLocalPlayer() == GetOwningPlayer(p5)then
        call ClearSelection()
        call SelectUnit(AJ15, true)
    endif
    call SC8(x, y, 400)
    call ShowUnit(p5, false)
    call SaveInteger(R8, (GetHandleId(p5)), ((4326)), (1))
    call O68(p5, 'A04R')
    call T99(p5, 0, 0)
    call SetUnitInvulnerable(p5, true)
    call UnitRemoveBuffs(p5, true, true)
    if target != null then
        call ShowUnit(target, false)
        call SaveInteger(R8, (GetHandleId(target)), ((4326)), (1))
        call O68(target, 'A04R')
        call T99(target, 0, 0)
        call SetUnitInvulnerable(target, true)
        call UnitRemoveBuffs(target, true, true)
    endif
    call StartSound(WJ4)
    call UnitRemoveAbility(AJ15, 'Arav')
    call UnitApplyTimedLife(AJ25, 'BTLF', 6.1)
    call UnitApplyTimedLife(AZK3, 'BTLF', 6.1)
    call UnitApplyTimedLife(AJ15, 'BTLF', 6.1)
    call TriggerRegisterTimerEvent(t, 5.2, false)
    call TriggerRegisterTimerEvent(t, 6, false)
    call TriggerAddCondition(t, Condition(function AJA5))
    call TriggerRegisterUnitEvent(t, AJ15, EVENT_UNIT_DEATH)
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (588), (AJ25))
    call SaveUnitHandle(R8, (EC8), (589), (AJ15))
    call SaveUnitHandle(R8, (EC8), (239), (AZK3))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, AJ15, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function AJ85))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, AJ15, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, AJ15, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function AJ95))
    call SaveUnitHandle(R8, (EC8), (589), (AJ15))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    call SaveUnitHandle(R8, (EC8), (19), (AJ55))
    if AEA1(p5, 'I0A8')then
        call UnitAddAbility(AJ55, 'A04I')
    endif
    set t = null
    set p5 = null
    set target = null
    set AJ25 = null
    set AJ15 = null
    set AZK3 = null
    set oA = null
    set AJ55 = null
endfunction
function AJC5 takes nothing returns boolean
    if GetSpellAbilityId() == 'A2YR' then
        call AJB5()
    endif
    return false
endfunction
function ARV1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AJC5))
    call PU8('A0X6')
    call PU8('A1ZT')
    set t = null
endfunction
function SIF takes nothing returns nothing
    call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + LW4)
    call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BirdShitTarget_1.mdx", GetEnumUnit(), "origin"))
endfunction
function SJF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local group g
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A27B')
    call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
    call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx", x, y))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set g = OG8()
    set LW4 = 50 + 75 * ML8
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 425, Condition(function U08))
    call ForGroup(g, function SIF)
    call OF8(g)
    set t = null
    set Z77 = null
    set g = null
    return false
endfunction
function SKF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    call TriggerRegisterTimerEvent(t, 3, false)
    call TriggerAddCondition(t, Condition(function SJF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), ((x) * 1.))
    call SaveReal(R8, (W57), (7), ((y) * 1.))
    if IsPlayerAlly(GetOwningPlayer(Z77), GetLocalPlayer())or N08(GetLocalPlayer())then
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("war3mapImported\\BirdShit_1.mdx", x, y)))
    else
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("", x, y)))
    endif
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(Z77))or N08(GetLocalPlayer())then
        call PingMinimapEx(x, y, 3, 255, 0, 0, false)
        call S68(YB4, x, y)
    endif
    call S18(GetOwningPlayer(Z77), 4, x, y, 500)
    call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) * .9)
    set t = null
    set Z77 = null
endfunction
function SMF takes nothing returns boolean
    if GetSpellAbilityId() == 'A27B' then
        call SKF()
    endif
    return false
endfunction
function G_9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SMF))
    set t = null
endfunction
function SNF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call UnitRemoveAbility(X77, 'A270')
        call UnitRemoveAbility(X77, 'B0EK')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEvalCount(t) > 4 then
        call UnitRemoveAbility(X77, 'A270')
        call UnitRemoveAbility(X77, 'B0EK')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call V08(Z77, X77, AB4, 16 + 12 * ML8)
    else
        call V08(Z77, X77, AB4, 16 + 12 * ML8)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function SOF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local real a = (LoadReal(R8, (W57), (137)))
    local real x = PND + 12 * Cos(a)
    local real y = POD + 12 * Sin(a)
    call SetUnitX(X77, x)
    call SetUnitY(X77, y)
    call SaveReal(R8, (W57), (23), (x))
    call SaveReal(R8, (W57), (24), (y))
    if GetTriggerEvalCount(t) > 25 then
        call SC8(x, y, 100)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function SPF takes unit Z77, unit X77, real x, real y, real a returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A271')
    call SetUnitPosition(X77, GetUnitX(X77), GetUnitY(X77))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (W57), (137), ((a * bj_DEGTORAD) * 1.))
    call SaveReal(R8, (W57), (23), ((GetUnitX(X77)) * 1.))
    call SaveReal(R8, (W57), (24), ((GetUnitY(X77)) * 1.))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function SOF))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", X77, "chest")))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function SNF))
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A270', false)
    call O68(X77, 'A270')
    set t = null
endfunction
function SQF takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), LX4) == false then
        if Z47(LZ4, GetEnumUnit()) < 24 or RAbsBJ(Cos(YH7(LZ4, GetEnumUnit()) - LC4)) < .26 then
            call GroupAddUnit(LX4, GetEnumUnit())
            if Sin((YH7(LZ4, GetEnumUnit()) - LC4) * bj_DEGTORAD) < 0 then
                call SPF(LY4, GetEnumUnit(), LA4, LB4, LC4 - 90)
            else
                call SPF(LY4, GetEnumUnit(), LA4, LB4, LC4 + 90)
            endif
        endif
    endif
endfunction
function SRF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local real a = (LoadReal(R8, (W57), (137)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g
    if GetTriggerEvalCount(t) > 125 then
        call KillUnit(S08)
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set x = x + 8 * Cos(a)
        set y = y + 8 * Sin(a)
        call SetUnitX(S08, x)
        call SetUnitY(S08, y)
        call SaveReal(R8, (W57), (6), ((x) * 1.))
        call SaveReal(R8, (W57), (7), ((y) * 1.))
        set H04 = Z77
        set LA4 = x
        set LB4 = y
        set LC4 = a * bj_RADTODEG
        set LX4 = XCD
        set LY4 = Z77
        set LZ4 = S08
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 225, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function SQF)
        call OF8(g)
    endif
    set t = null
    set Z77 = null
    set S08 = null
    set XCD = null
    set g = null
    return false
endfunction
function SSF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real BM7 = GetSpellTargetX()
    local real BN7 = GetSpellTargetY()
    local real CV7 = Atan2(BN7 - GetUnitY(Z77), BM7 - GetUnitX(Z77))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A271')
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0DA', GetUnitX(Z77), GetUnitY(Z77), CV7 * bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, .01, true)
    call TriggerAddCondition(t, Condition(function SRF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveReal(R8, (W57), (137), (CV7))
    call SaveReal(R8, (W57), (6), (GetUnitX(Z77)))
    call SaveReal(R8, (W57), (7), (GetUnitY(Z77)))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    set t = null
    set Z77 = null
    set S08 = null
endfunction
function STF takes nothing returns boolean
    if GetSpellAbilityId() == 'A271' then
        call SSF()
    endif
    return false
endfunction
function H89 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function STF))
    set t = null
endfunction
function SUF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer TG8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (TG8), (2)))
    local real SVF = (LoadReal(R8, (GetHandleId(Z77)), (681)))
    call FlushChildHashtable(R8, TG8)
    call EA8(t)
    if((TimerGetElapsed(E4)) - SVF < .49) == false or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(Z77, 'A1Z4')
        call UnitRemoveAbility(Z77, 'A1ZA')
        call UnitRemoveAbility(Z77, 'A1ZB')
        call UnitRemoveAbility(Z77, 'A1Z9')
        call UnitRemoveAbility(Z77, 'B0DV')
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function SWF takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer SXF
    call TriggerRegisterTimerEvent(t, .5, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function SUF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (GetHandleId(Z77)), (681), (TimerGetElapsed(E4)))
    if ZF4 == 1 then
        set SXF = 'A1Z4'
        call UnitRemoveAbility(Z77, 'A1ZA')
        call UnitRemoveAbility(Z77, 'A1ZB')
        call UnitRemoveAbility(Z77, 'A1Z9')
    elseif ZF4 == 2 then
        set SXF = 'A1ZA'
        call UnitRemoveAbility(Z77, 'A1Z4')
        call UnitRemoveAbility(Z77, 'A1ZB')
        call UnitRemoveAbility(Z77, 'A1Z9')
    elseif ZF4 == 3 then
        set SXF = 'A1ZB'
        call UnitRemoveAbility(Z77, 'A1Z4')
        call UnitRemoveAbility(Z77, 'A1ZA')
        call UnitRemoveAbility(Z77, 'A1Z9')
    elseif ZF4 == 4 then
        set SXF = 'A1Z9'
        call UnitRemoveAbility(Z77, 'A1Z4')
        call UnitRemoveAbility(Z77, 'A1ZA')
        call UnitRemoveAbility(Z77, 'A1ZB')
    endif
    call O68(Z77, SXF)
    call UnitMakeAbilityPermanent(Z77, true, SXF)
    set t = null
endfunction
function SYF takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    local real SZF = ZI4
    local real SAF = ZJ4
    local real P08 = SZF + SAF * GetUnitState(X77, UNIT_STATE_MAX_LIFE)
    set P08 = P08 / 5
    if IsUnitEnemy(X77, GetOwningPlayer(ZG4)) then
        call V08(ZG4, X77, A34, P08)
        if GU8(X77) == false then
            call SWF(X77)
        endif
    else
        call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + P08 * .5)
    endif
    call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireRayTarget.mdx", X77, "origin"))
    call S18(GetOwningPlayer(X77), 2, GetUnitX(ZG4), GetUnitY(ZG4), 500)
    set X77 = null
endfunction
function SBF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real SCF = GetUnitFacing(Z77)
    local real a = SCF * bj_DEGTORAD
    local location l1 = GetUnitLoc(Z77)
    local real S3F = GetLocationZ(l1)
    local real d = (LoadReal(R8, (W57), (138)))
    local location l2 = Location(GetUnitX(Z77) + d * Cos(a), GetUnitY(Z77) + d * Sin(a))
    local real S6F = GetLocationZ(l2)
    local lightning SLF = (LoadLightningHandle(R8, (W57), (676)))
    local lightning S1F = (LoadLightningHandle(R8, (W57), (677)))
    local lightning S0F = (LoadLightningHandle(R8, (W57), (678)))
    local lightning S5F = (LoadLightningHandle(R8, (W57), (679)))
    local lightning S2F = (LoadLightningHandle(R8, (W57), (680)))
    local real S_F = 1
    local real BJ7
    local real BK7
    local real T4F
    local real T7F
    local real T8F
    local real T9F
    local real TDF
    local real TEF
    local real TFF
    local real TGF
    local real THF
    local real TIF
    local real TJF
    local real TKF
    local real TMF
    local real TNF
    local real TOF
    local real TPF
    local real TQF
    local real TRF
    local real TSF
    local real TTF
    local real TUF
    local real TVF
    local real TWF
    local real TXF
    local real TYF
    local real TZF
    local real TAF
    local real TBF
    local real TCF
    local real T3F
    local real T6F
    local group g
    local real x
    local real y
    local integer i
    local real TLF
    local real T1F
    local real T0F
    local boolean T5F = FALSE
    local boolean T2F = false
    local unit T_F = (LoadUnitHandle(R8, (W57), (17)))
    local real U4F
    local real U7F
    local real U8F
    local real U9F = (LoadReal(R8, (W57), (688)))
    local boolean UDF = (LoadBoolean(R8, (W57), (689)))
    local boolean UEF = (LoadBoolean(R8, (W57), (672)))
    local real UFF
    local ubersplat UGF
    local real O32 = (LoadReal(R8, (W57), (23)))
    local real O42 = (LoadReal(R8, (W57), (24)))
    local real SZF
    local real SAF
    local real UHF
    local real UIF = 5
    if GetUnitCurrentOrder(Z77) == 852001 then
        call DisableTrigger(t)
        call ZN7(Z77)
        call EnableTrigger(t)
    endif
    call RemoveLocation(l1)
    call RemoveLocation(l2)
    if IsUnitPaused(Z77) == false and(GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER)then
        set BJ7 = GetUnitX(Z77)
        set BK7 = GetUnitY(Z77)
        if GetIssuedOrderId() != 852490 and GetIssuedOrderId() != 852185 and GetIssuedOrderId() != 852600 then
            call DisableTrigger(t)
            call ZN7(Z77)
            call EnableTrigger(t)
        endif
        if GetIssuedOrderId() == 851971 then
            if GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER then
                set x = GetUnitX(GetOrderTargetUnit())
                set y = GetUnitY(GetOrderTargetUnit())
            else
                set x = GetOrderPointX()
                set y = GetOrderPointY()
            endif
            set TLF = YI7(x, y, BJ7, BK7)
            if TLF < 0 then
                set TLF = TLF + 360
            endif
            set T0F = SCF - TLF
            if T0F < 0 then
                set T0F = T0F + 360
            endif
            if T0F < 180 then
                set T5F = true
                set T1F = SCF + 6
            else
                set T2F = true
                set T1F = SCF - 6
            endif
            set U9F = YI7(x, y, BJ7, BK7) + 180
            call SaveReal(R8, (W57), (688), (U9F))
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT or GetTriggerEventId() == EVENT_WIDGET_DEATH or(LoadInteger(R8, (GetHandleId(Z77)), (704))) ==- 1 or C77 >= 6. / .02 or S69(Z77)or CI7(Z77)then
        if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId() == 'A1Z3' or GetSpellAbilityId() == 'A1RK' or GetSpellAbilityId() == 'A27H'))then
            call SaveInteger(R8, (GetHandleId((Z77))), ((4312)), (2))
            call UI8(Z77)
            call SetUnitPathing(Z77, true)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call UnitRemoveAbility(Z77, 'A205')
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1Z3', false)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A205', false)
            if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1YY' then
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1YY', true)
            endif
            call DestroyLightning(SLF)
            call DestroyLightning(S1F)
            call DestroyLightning(S0F)
            call DestroyLightning(S5F)
            call DestroyLightning(S2F)
            call StopSound(YA4, false, true)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if GetIssuedOrderId() == 852177 then
            set UDF = true
        endif
        if GetIssuedOrderId() == 852178 then
            set UDF = false
        endif
        call SaveBoolean(R8, (W57), (689), (UDF))
    else
        set TLF = SCF - U9F
        if TLF <- 180 then
            set TLF = TLF + 360
        elseif TLF > 180 then
            set TLF = TLF - 360
        endif
        set UFF = 1
        if C77 < 35 and UEF then
            set UFF = 9
        endif
        if TLF < (- 1 * UFF)then
            set SCF = SCF + UFF
        elseif TLF > UFF then
            set SCF = SCF - UFF
        else
            set UEF = false
            call SaveBoolean(R8, (W57), (672), (UEF))
            set SCF = U9F
        endif
        if((LoadInteger(R8, (GetHandleId((Z77))), ((4301)))) == 1) == false then
            call SetUnitFacing(Z77, SCF)
        endif
        set a = SCF * bj_DEGTORAD
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        set T4F = d
        set BJ7 = GetUnitX(Z77) + 50 * Cos(a)
        set BK7 = GetUnitY(Z77) + 50 * Sin(a)
        if UDF and UD8(Z77) == false and S69(Z77) == false then
            if((LoadInteger(R8, (GetHandleId((Z77))), ((4331)))) == 1) then
                set UIF = UIF * 2
            endif
            set U8F = a
            set U4F = PQ8(GetUnitX(Z77) + UIF * Cos(U8F))
            set U7F = PS8(GetUnitY(Z77) + UIF * Sin(U8F))
            call SC8(U4F, U7F, 200)
            call SetUnitX(Z77, U4F)
            call SetUnitY(Z77, U7F)
        endif
        call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) - GetUnitState(Z77, UNIT_STATE_LIFE) * .06 * .02)
        call SC8(BJ7, BK7, 200)
        if ModuloInteger(C77, 10) == 0 then
            set ZH4 = OG8()
            set H04 = Z77
            set i = 0
            loop
                exitwhen i * 50 > d
                set x = BJ7 + i * 50 * Cos(a)
                set y = BK7 + i * 50 * Sin(a)
                set g = OG8()
                call GroupEnumUnitsInRange(g, x, y, 130 + 25, Condition(function GenericCondition_EnemyUnitsEx))
                call BlzGroupAddGroupFast(g, ZH4)
                call GroupEnumUnitsInRange(g, x, y, 130 + 25, Condition(function U08))
                call BlzGroupAddGroupFast(g, ZH4)
                call OF8(g)
                if ModuloInteger(i, 3) == 0 then
                    call S18(GetOwningPlayer(Z77), 2, x, y, 225)
                endif
                set i = i + 1
            endloop
            set ZG4 = Z77
            set ZF4 = GetUnitAbilityLevel(Z77, 'A1YY')
            set UHF = (I2R(C77) / 50.) / 6
            set ZI4 = (5 * ZF4 + 10) + (5 * ZF4 + 10) * UHF
            set ZJ4 = (1.25 * ZF4 + UHF * (1.25 * ZF4)) / 100
            call GroupRemoveUnit(ZH4, Z77)
            call ForGroup(ZH4, function SYF)
            call OF8(ZH4)
            set g = null
            set ZH4 = null
        endif
        if O18(Z77) == false then
            if T_F != null then
                set T4F = Z47(Z77, T_F)
            endif
            set T7F = BJ7
            set T8F = BK7
            set T9F = S3F + 200
            set TDF = T7F + T4F * Cos(a)
            set TEF = T8F + T4F * Sin(a)
            set TFF = S6F
            set TGF = BJ7 + Z84 * Cos((SCF - 90) * bj_DEGTORAD)
            set THF = BK7 + Z94 * Cos((SCF - 90) * bj_DEGTORAD)
            set TIF = S3F + 200
            set TJF = TGF + T4F * Cos(a)
            set TKF = THF + T4F * Sin(a)
            set TMF = S6F
            set TNF = BJ7 + Z84 * Cos((SCF + 90) * bj_DEGTORAD)
            set TOF = BK7 + Z94 * Cos((SCF + 90) * bj_DEGTORAD)
            set TPF = S3F + 200
            set TQF = TNF + T4F * Cos(a)
            set TRF = TOF + T4F * Sin(a)
            set TSF = S6F
            set TTF = BJ7
            set TUF = BK7
            set TVF = S3F + 200 + ZD4
            set TWF = TTF + T4F * Cos(a)
            set TXF = TUF + T4F * Sin(a)
            set TYF = S6F
            set TZF = BJ7
            set TAF = BK7
            set TBF = S3F + 200 - ZD4
            set TCF = TZF + T4F * Cos(a)
            set T3F = TAF + T4F * Sin(a)
            set T6F = S6F
            if ModuloInteger(C77, 10) == 0 and T4F == d then
                set x = GetUnitX(Z77) + (d) * Cos(a)
                set y = GetUnitY(Z77) + (d) * Sin(a)
                call DestroyEffect(AddSpecialEffect("war3mapImported\\FireRayTarget.mdx", x, y))
            endif
            if ModuloInteger(C77, 10) == 0 then
                call SetSoundPosition(YA4, GetUnitX(Z77), GetUnitY(Z77), 100)
                set x = GetUnitX(Z77) + (T4F) * Cos(a)
                set y = GetUnitY(Z77) + (T4F) * Sin(a)
                set UGF = CreateUbersplat(x, y, "SRAY", 255, 255, 255, 255, false, false)
                call SetUbersplatRenderAlways(UGF, true)
                call GSD(UGF, 10)
                set UGF = null
            endif
            call MoveLightningEx(SLF, false, T7F, T8F, T9F, TDF, TEF, TFF)
            call MoveLightningEx(S1F, false, TGF, THF, TIF, TJF, TKF, TMF)
            call MoveLightningEx(S0F, false, TNF, TOF, TPF, TQF, TRF, TSF)
            call MoveLightningEx(S5F, false, TTF, TUF, TVF, TWF, TXF, TYF)
            call MoveLightningEx(S2F, false, TZF, TAF, TBF, TCF, T3F, T6F)
            if N08(GetLocalPlayer())then
                set S_F = 1
            endif
            call SetLightningColor(SLF, 1., 1., 1., S_F)
            call SetLightningColor(S1F, 1., 1., 1., S_F)
            call SetLightningColor(S0F, 1., 1., 1., S_F)
            call SetLightningColor(S5F, 1., 1., 1., S_F)
            call SetLightningColor(S2F, 1., 1., 1., S_F)
        endif
    endif
    set t = null
    set Z77 = null
    set SLF = null
    set S1F = null
    set S0F = null
    set S5F = null
    set S2F = null
    set T_F = null
    set l1 = null
    set l2 = null
    return false
endfunction
function UJF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), GetSpellTargetX(), GetSpellTargetY()) * bj_DEGTORAD
    local real d = ALR(Z77, Z74)
    local real BM7 = PQ8(GetUnitX(Z77) + d * Cos(a))
    local real BN7 = PS8(GetUnitY(Z77) + d * Sin(a))
    local lightning SLF = AddLightning("SRAY", false, GetUnitX(Z77), GetUnitY(Z77), BM7, BN7)
    local lightning S1F = AddLightning("SRAY", false, GetUnitX(Z77), GetUnitY(Z77), BM7, BN7)
    local lightning S0F = AddLightning("SRAY", false, GetUnitX(Z77), GetUnitY(Z77), BM7, BN7)
    local lightning S5F = AddLightning("SRAY", false, GetUnitX(Z77), GetUnitY(Z77), BM7, BN7)
    local lightning S2F = AddLightning("SRAY", false, GetUnitX(Z77), GetUnitY(Z77), BM7, BN7)
    call SetUnitFacing(Z77, a * bj_RADTODEG)
    call StartSound(YA4)
    call SetSoundPosition(YA4, GetUnitX(Z77), GetUnitY(Z77), 100)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SBF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (13), (a))
    call SaveReal(R8, (W57), (138), (d))
    call SaveReal(R8, (W57), (688), (a * bj_RADTODEG))
    call SaveLightningHandle(R8, (W57), (676), (SLF))
    call SaveLightningHandle(R8, (W57), (677), (S1F))
    call SaveLightningHandle(R8, (W57), (678), (S0F))
    call SaveLightningHandle(R8, (W57), (679), (S5F))
    call SaveLightningHandle(R8, (W57), (680), (S2F))
    call SaveBoolean(R8, (W57), (689), (false))
    call SaveBoolean(R8, (W57), (672), (true))
    call SaveReal(R8, (W57), (688), (a * bj_RADTODEG))
    call SaveReal(R8, (W57), (23), (GetUnitX(Z77)))
    call SaveReal(R8, (W57), (24), (GetUnitY(Z77)))
    call UG8(Z77)
    call SaveInteger(R8, (GetHandleId(Z77)), (4312), (1))
    call SetUnitPathing(Z77, false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1Z3', true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A205', true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1YY', false)
    call O68(Z77, 'A1Z3')
    call UnitMakeAbilityPermanent(Z77, true, 'A1Z3')
    call O68(Z77, 'A205')
    call UnitMakeAbilityPermanent(Z77, true, 'A205')
    call TriggerEvaluate(t)
    set t = null
    set Z77 = null
    set Z77 = null
    set SLF = null
    set S1F = null
    set S0F = null
    set S5F = null
    set S2F = null
endfunction
function UKF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1YY' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
        else
            call UJF()
        endif
    endif
    return false
endfunction
function H79 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function UKF))
    call GVD('A1Z4')
    call GVD('A1ZA')
    call GVD('A1ZB')
    call GVD('A1Z9')
    set t = null
endfunction
function UMF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1YX')
    if GetTriggerEventId() == EVENT_UNIT_DEATH or(TimerGetElapsed(E4)) >= (LoadReal(R8, (GetHandleId(X77)), (757)))or GU8(X77) then
        call UnitRemoveAbility(X77, 'A2W7')
        call UnitRemoveAbility(X77, 'A2W9')
        call UnitRemoveAbility(X77, 'A2L8')
        call UnitRemoveAbility(X77, 'A2W8')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    if ModuloInteger(GetTriggerEvalCount(t), 4) == 0 then
        call V08(Z77, X77, AB4, 20 * ML8 - 10)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function UNF takes nothing returns nothing
    local unit Z77 = ZO4
    local unit X77 = GetEnumUnit()
    local trigger t
    local integer W57
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A1YX')
    local integer ALH5
    call SaveReal(R8, (GetHandleId(X77)), (757), ((TimerGetElapsed(E4)) + 4.))
    if GetUnitAbilityLevel(X77, 'A2W7') == 0 and GetUnitAbilityLevel(X77, 'A2W9') == 0 and GetUnitAbilityLevel(X77, 'A2L8') == 0 and GetUnitAbilityLevel(X77, 'A2W8') == 0 then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .25, true)
        call TriggerAddCondition(t, Condition(function UMF))
        call TriggerRegisterDeathEvent(t, X77)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", X77, "chest")))
        if S_9(X77) == false then
            if TA8 == 1 then
                set ALH5 = 'A2W7'
            elseif TA8 == 2 then
                set ALH5 = 'A2W9'
            elseif TA8 == 3 then
                set ALH5 = 'A2L8'
            elseif TA8 == 4 then
                set ALH5 = 'A2W8'
            endif
            call UnitAddAbility(X77, ALH5)
            call UnitMakeAbilityPermanent(X77, true, ALH5)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), ALH5, false)
    endif
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function UOF takes unit Z77, unit S08, real WAE, unit AC7, unit X77 returns nothing
    local real x = GetUnitX(S08)
    local real y = GetUnitY(S08)
    local group g = OG8()
    set H04 = Z77
    set ZO4 = Z77
    call GroupEnumUnitsInRange(g, x, y, 175 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmuneWithAncient))
    call ForGroup(g, function UNF)
    call OF8(g)
    call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx", x, y))
    call S18(GetOwningPlayer(S08), 1., x, y, 200)
    call KillUnit(S08)
    call ShowUnit(S08, false)
    set g = null
endfunction
function UPF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local unit UQF = (LoadUnitHandle(R8, (W57), (393)))
    local real WAE = (LoadReal(R8, (W57), (685)))
    local real BM7
    local real BN7
    local real x
    local real y
    local real a
    local real r = 18
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1YX')
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        set BM7 = GetUnitX(X77)
        set BN7 = GetUnitY(X77)
        call SaveReal(R8, (W57), (47), (BM7))
        call SaveReal(R8, (W57), (48), (BN7))
        call RemoveSavedHandle(R8, (W57), (17))
        call SaveUnitHandle(R8, (W57), (17), (null))
    elseif X77 == null then
        set BM7 = (LoadReal(R8, (W57), (47)))
        set BN7 = (LoadReal(R8, (W57), (48)))
    else
        set BM7 = GetUnitX(X77)
        set BN7 = GetUnitY(X77)
    endif
    set a = YI7(GetUnitX(UQF), GetUnitY(UQF), BM7, BN7)
    call SetUnitFacing(UQF, a)
    set x = GetUnitX(UQF) + r * Cos(a * bj_DEGTORAD)
    set y = GetUnitY(UQF) + r * Sin(a * bj_DEGTORAD)
    call SetUnitX(UQF, x)
    call SetUnitY(UQF, y)
    if Z87(x, y, BM7, BN7) < r * 2 then
        call UOF(Z77, UQF, WAE, AC7, X77)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set UQF = null
    set AC7 = null
    return false
endfunction
function URF takes unit Z77, unit UQF, unit X77, real WAE, unit AC7 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    if Z77 == X77 then
        call KillUnit(UQF)
        call ShowUnit(UQF, false)
    else
        call SetUnitVertexColor(UQF, 255, 255, 255, 255)
        call TriggerRegisterTimerEvent(t, .02, true)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function UPF))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveUnitHandle(R8, (W57), (393), (UQF))
        call SaveReal(R8, (W57), (47), (GetSpellTargetX()))
        call SaveReal(R8, (W57), (48), (GetSpellTargetY()))
        call SaveReal(R8, (W57), (685), (WAE))
        call SaveUnitHandle(R8, (W57), (19), (AC7))
    endif
    set t = null
endfunction
function USF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real BJ7 = GetUnitX(Z77)
    local real BK7 = GetUnitY(Z77)
    local unit UTF = (LoadUnitHandle(R8, (W57), (393)))
    local unit UUF = (LoadUnitHandle(R8, (W57), (394)))
    local unit UVF = (LoadUnitHandle(R8, (W57), (395)))
    local unit UWF = (LoadUnitHandle(R8, (W57), (396)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1YX')
    local real a = GetUnitFacing(Z77)
    local real x
    local real y
    local real AQD =- 1 * 360 * .02 / 4
    local real a2
    local real KQD
    local real WAE = (LoadReal(R8, (W57), (685)))
    local real UXF
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer UYF = GetHandleId(Z77)
    local player pl = GetOwningPlayer(Z77)
    local integer UZF = 800
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A1Z2' then
            if O18(UTF) == false then
                call URF(Z77, UTF, GetSpellTargetUnit(), WAE, AC7)
                call RemoveSavedHandle(R8, (W57), (393))
            elseif O18(UUF) == false then
                call URF(Z77, UUF, GetSpellTargetUnit(), WAE, AC7)
                call RemoveSavedHandle(R8, (W57), (394))
            elseif O18(UVF) == false then
                call URF(Z77, UVF, GetSpellTargetUnit(), WAE, AC7)
                call RemoveSavedHandle(R8, (W57), (395))
            elseif O18(UWF) == false then
                call URF(Z77, UWF, GetSpellTargetUnit(), WAE, AC7)
                call RemoveSavedHandle(R8, (W57), (396))
                // if(IsComputer(pl))then
                //     call DO8(UYF, "Bird4")
                // endif
                call UnitRemoveAbility(Z77, 'A1Z2')
                if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1YX' then
                    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1YX', true)
                endif
                call FlushChildHashtable(R8, W57)
                call EA8(t)
            endif
        elseif GetSpellAbilityId() == 'A1RK' then
            if UTF != null and O18(UTF) == false then
                call URF(Z77, UTF, Z77, WAE, AC7)
            endif
            if UUF != null and O18(UUF) == false then
                call URF(Z77, UUF, Z77, WAE, AC7)
            endif
            if UVF != null and O18(UVF) == false then
                call URF(Z77, UVF, Z77, WAE, AC7)
            endif
            if UWF != null and O18(UWF) == false then
                call URF(Z77, UWF, Z77, WAE, AC7)
            endif
            call UnitRemoveAbility(Z77, 'A1Z2')
            if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1YX' then
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1YX', true)
            endif
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            // if(IsComputer(pl))then
            //     call DO8(UYF, "Bird4")
            // endif
        endif
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        if UTF != null and O18(UTF) == false then
            set KQD = 360 * 4 / 4.
            set a2 = KQD + AQD * C77
            set x = PQ8(BJ7 + 200 * Cos(a2 * bj_DEGTORAD))
            set y = PS8(BK7 + 200 * Sin(a2 * bj_DEGTORAD))
            call SetUnitFacing(UTF, a2 - 90)
            call SetUnitX(UTF, x)
            call SetUnitY(UTF, y)
        endif
        if UUF != null and O18(UUF) == false then
            set KQD = 360 * 3 / 4.
            set a2 = KQD + AQD * C77
            set x = PQ8(BJ7 + 200 * Cos(a2 * bj_DEGTORAD))
            set y = PS8(BK7 + 200 * Sin(a2 * bj_DEGTORAD))
            call SetUnitFacing(UUF, a2 - 90)
            call SetUnitX(UUF, x)
            call SetUnitY(UUF, y)
        endif
        if UVF != null and O18(UVF) == false then
            set KQD = 360 * 2 / 4.
            set a2 = KQD + AQD * C77
            set x = PQ8(BJ7 + 200 * Cos(a2 * bj_DEGTORAD))
            set y = PS8(BK7 + 200 * Sin(a2 * bj_DEGTORAD))
            call SetUnitFacing(UVF, a2 - 90)
            call SetUnitX(UVF, x)
            call SetUnitY(UVF, y)
        endif
        if UWF != null and O18(UWF) == false then
            set KQD = 360 * 1 / 4.
            set a2 = KQD + AQD * C77
            set x = PQ8(BJ7 + 200 * Cos(a2 * bj_DEGTORAD))
            set y = PS8(BK7 + 200 * Sin(a2 * bj_DEGTORAD))
            call SetUnitFacing(UWF, a2 - 90)
            call SetUnitX(UWF, x)
            call SetUnitY(UWF, y)
        endif
        if C77 > UZF or GetTriggerEventId() == EVENT_UNIT_DEATH then
            if UTF != null and O18(UTF) == false then
                call URF(Z77, UTF, Z77, WAE, AC7)
            endif
            if UUF != null and O18(UUF) == false then
                call URF(Z77, UUF, Z77, WAE, AC7)
            endif
            if UVF != null and O18(UVF) == false then
                call URF(Z77, UVF, Z77, WAE, AC7)
            endif
            if UWF != null and O18(UWF) == false then
                call URF(Z77, UWF, Z77, WAE, AC7)
            endif
            call UnitRemoveAbility(Z77, 'A1Z2')
            if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1YX' then
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1YX', true)
            endif
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            // if(IsComputer(pl))then
            //     call DO8(UYF, "Bird4")
            // endif
        else
            set WAE = RMinBJ(.25 + .75 * (I2R(C77) / 500.), 1)
            call SaveReal(R8, (W57), (685), ((WAE) * 1.))
            set UXF = .25 + (1 - .2) * 2.5
            call SetUnitScale(UTF, UXF, UXF, UXF)
            call SetUnitScale(UUF, UXF, UXF, UXF)
            call SetUnitScale(UVF, UXF, UXF, UXF)
            call SetUnitScale(UWF, UXF, UXF, UXF)
            if C77 == (UZF - 175)then
                call TP8(YB4, GetOwningPlayer(Z77))
            endif
            if C77 > (UZF - 200)then
                if ModuloInteger(C77, 10) == 0 or ModuloInteger(C77, 10) == 1 or ModuloInteger(C77, 10) == 2 or ModuloInteger(C77, 10) == 3 or ModuloInteger(C77, 10) == 4 then
                    call SetUnitVertexColor(UTF, 255, 0, 0, 255)
                    call SetUnitVertexColor(UUF, 255, 0, 0, 255)
                    call SetUnitVertexColor(UVF, 255, 0, 0, 255)
                    call SetUnitVertexColor(UWF, 255, 0, 0, 255)
                else
                    call SetUnitVertexColor(UTF, 255, 255, 255, 255)
                    call SetUnitVertexColor(UUF, 255, 255, 255, 255)
                    call SetUnitVertexColor(UVF, 255, 255, 255, 255)
                    call SetUnitVertexColor(UWF, 255, 255, 255, 255)
                endif
            endif
        endif
    endif
    set t = null
    set Z77 = null
    set UTF = null
    set UUF = null
    set UVF = null
    set UWF = null
    set AC7 = null
    return false
endfunction
function UAF takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real BJ7 = GetUnitX(Z77)
    local real BK7 = GetUnitY(Z77)
    local real x
    local real y
    local unit UTF
    local unit UUF
    local unit UVF
    local unit UWF
    local real a = GetUnitFacing(Z77)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', BJ7, BK7, 0)
    local integer UYF = GetHandleId(Z77)
    local player pl = GetOwningPlayer(Z77)
    call UnitAddAbility(AC7, 'A21U')
    call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) - GetUnitState(Z77, UNIT_STATE_LIFE) * .2)
    call O68(Z77, 'A1Z2')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1YX', false)
    set x = GetUnitX(Z77) + 200 * Cos(bj_DEGTORAD * 360 * 4 / 4. *- 1.)
    set y = GetUnitY(Z77) + 200 * Sin(bj_DEGTORAD * 360 * 4 / 4. *- 1.)
    set UTF = CreateUnit(GetOwningPlayer(Z77), 'h0CU', x, y, 360 * 4 / 4. *- 1.)
    set x = GetUnitX(Z77) + 200 * Cos(bj_DEGTORAD * 360 * 3 / 4. *- 1.)
    set y = GetUnitY(Z77) + 200 * Sin(bj_DEGTORAD * 360 * 3 / 4. *- 1.)
    set UUF = CreateUnit(GetOwningPlayer(Z77), 'h0CU', x, y, 360 * 3 / 4. *- 1.)
    set x = GetUnitX(Z77) + 200 * Cos(bj_DEGTORAD * 360 * 2 / 4. *- 1.)
    set y = GetUnitY(Z77) + 200 * Sin(bj_DEGTORAD * 360 * 2 / 4. *- 1.)
    set UVF = CreateUnit(GetOwningPlayer(Z77), 'h0CU', x, y, 360 * 2 / 4. *- 1.)
    set x = GetUnitX(Z77) + 200 * Cos(bj_DEGTORAD * 360 * 1 / 4. *- 1.)
    set y = GetUnitY(Z77) + 200 * Sin(bj_DEGTORAD * 360 * 1 / 4. *- 1.)
    set UWF = CreateUnit(GetOwningPlayer(Z77), 'h0CU', x, y, 360 * 1 / 4. *- 1.)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function USF))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (393), (UTF))
    call SaveUnitHandle(R8, (W57), (394), (UUF))
    call SaveUnitHandle(R8, (W57), (395), (UVF))
    call SaveUnitHandle(R8, (W57), (396), (UWF))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    // if(IsComputer(pl))then
    //     call DU8(UYF, "Bird4", UWF)
    // endif
    set Z77 = null
    set UTF = null
    set UUF = null
    set UVF = null
    set UWF = null
    set AC7 = null
    set t = null
endfunction
function UBF takes nothing returns boolean
    if GetSpellAbilityId() == 'A1YX' then
        call UAF()
    endif
    return false
endfunction
function H49 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UBF))
    set t = null
endfunction
function UCF takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, ZR4)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > 4 then
        call UnitRemoveAbility(X77, ZT4)
        call SaveInteger(R8, (GetHandleId((X77))), ((4311)), (2))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    call V08(Z77, X77, AB4, 20 * ML8)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function U3F takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEnumUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function UCF))
    call TriggerRegisterDeathEvent(t, X77)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", X77, "chest")))
    call UnitAddAbility(X77, ZT4)
    call UnitMakeAbilityPermanent(X77, true, ZT4)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), ZT4, false)
    call SaveInteger(R8, (GetHandleId((X77))), ((4311)), (1))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function U6F takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local group g = OG8()
    call DestroyEffect(AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", x, y))
    call GroupEnumUnitsInRange(g, x, y, 275 + 25, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function U3F)
    call OF8(g)
    set g = null
    set Z77 = null
endfunction
function ULF takes nothing returns boolean
    if GetSpellAbilityId() == ZR4 then
        call U6F()
    endif
    return false
endfunction
function G29 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ULF))
    set t = null
endfunction
function ASP4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl", N28, "origin"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", N28, "origin"))
    set t = null
    set N28 = null
    return false
endfunction
function ShapeshiftCriticalStrikeRemoveEnum takes nothing returns nothing
    call UnitRemoveAbility(GetEnumUnit(), 'A03B')
endfunction
function U1F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call KillUnit(oA)
    endif
    call ForGroup(g, function ShapeshiftCriticalStrikeRemoveEnum)
    call OF8(g)
    call UnitRemoveAbility(N28, 'A0ZC')
    call UnitRemoveAbility(N28, 'B00V')
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1.25, false)
    call TriggerRegisterDeathEvent(t, N28)
    call TriggerAddCondition(t, Condition(function ASP4))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    set t = null
    set N28 = null
    set oA = null
    set g = null
    return false
endfunction
function ASU4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call SaveInteger(R8, (GetHandleId(N28)), ((4424)), (2))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SaveInteger(R8, (GetHandleId(N28)), ((4424)), (1))
        call AH61(N28, x, y, 650)
        call SaveReal(R8, (EC8), (6), (GetUnitX(N28)))
        call SaveReal(R8, (EC8), (7), (GetUnitY(N28)))
    endif
    set t = null
    set N28 = null
    return false
endfunction
function ShapeshiftCriticalStrikeGrantEnum takes nothing returns nothing
    call O68(GetEnumUnit(), 'A03B')
    call SetUnitAbilityLevel(GetEnumUnit(), 'A03B', HB4)
endfunction
function U0F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local group g = OG8()
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set H04 = N28
    set HB4 = GetUnitAbilityLevel(N28, 'A093')
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(N28), Condition(function T08))
    call ForGroup(g, function ShapeshiftCriticalStrikeGrantEnum)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl", N28, "origin"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", N28, "origin"))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 18 - 0.1, false)
    call TriggerRegisterDeathEvent(t, N28)
    call TriggerAddCondition(t, Condition(function U1F))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.005, true)
    call TriggerRegisterDeathEvent(t, oA)
    call TriggerAddCondition(t, Condition(function ASU4))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveReal(R8, (EC8), (6), (GetUnitX(N28)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(N28)))
    set t = null
    set N28 = null
    set oA = null
    return false
endfunction
function U5F takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e01V', 0, 0, 0)
    local real VL8 = 18
    call O68(oA, 'A0ZC')
    call UnitApplyTimedLife(oA, 'BTLF', VL8)
    call P98(N28, VL8, 175)
    call TriggerRegisterTimerEvent(t, 0.1, false)
    call TriggerAddCondition(t, Condition(function U0F))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    set t = null
    set N28 = null
    set oA = null
endfunction
function V4F takes nothing returns boolean
    if GetSpellAbilityId() == 'A093' and GetUnitTypeId(GetTriggerUnit()) == 'U008' then
        call U5F()
    endif
    return false
endfunction
function ShapeShiftDebug takes nothing returns nothing
    if GetSpellAbilityId() == 'A093' then
        call MUTransformDebug(GetTriggerUnit(), 'AU00', 18)
    endif
endfunction
function F69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V4F))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function ShapeShiftDebug))
    set t = null
endfunction
function FGD takes nothing returns nothing
    local unit p5 = B2
    local unit target = C2
    local unit AC7 = (LoadUnitHandle(R8, (GetHandleId(p5)), (219)))
    call SaveUnitHandle(R8, (GetHandleId(p5)), (219), (AC7))
    call SetUnitOwner(AC7, GetOwningPlayer(target), true)
    set p5 = null
    set target = null
    set AC7 = null
endfunction
function RY9 takes nothing returns nothing
    local unit AM7 = IE4
    local unit AC7 = (LoadUnitHandle(R8, (GetHandleId(AM7)), (219)))
    if AC7 != null and GetUnitTypeId(AC7) == 'e01V' then
        call RemoveUnit(AC7)
    endif
    set AM7 = null
    set AC7 = null
endfunction
function V7F takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if AC7 != null and GetUnitTypeId(AC7) == 'e01V' then
        if O18(Z77) == false then
            call SetUnitX(AC7, GetUnitX(Z77))
            call SetUnitY(AC7, GetUnitY(Z77))
        endif
    endif
    set t = null
    set AC7 = null
    set Z77 = null
    return false
endfunction
function V8F takes unit AM7 returns nothing
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A03E')
    local unit AC7
    local trigger t
    local integer W57
    if ML8 == 1 then
        set AC7 = CreateUnit(GetOwningPlayer(AM7), 'e01V', 0, 0, 0)
        call O68(AC7, 'A0ZJ')
        call SaveUnitHandle(R8, (GetHandleId(AM7)), (219), (AC7))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerAddCondition(t, Condition(function V7F))
        call TriggerRegisterTimerEvent(t, .2, true)
        call SaveUnitHandle(R8, (W57), (2), (AM7))
        call SaveUnitHandle(R8, (W57), (19), (AC7))
    else
        set AC7 = (LoadUnitHandle(R8, (GetHandleId(AM7)), (219)))
    endif
    if ML8 == 2 then
        call UnitRemoveAbility(AC7, 'A0ZJ')
        call O68(AC7, 'A0ZI')
    elseif ML8 == 3 then
        call UnitRemoveAbility(AC7, 'A0ZJ')
        call UnitRemoveAbility(AC7, 'A0ZI')
        call O68(AC7, 'A0ZH')
    elseif ML8 == 4 then
        call UnitRemoveAbility(AC7, 'A0ZJ')
        call UnitRemoveAbility(AC7, 'A0ZI')
        call UnitRemoveAbility(AC7, 'A0ZH')
        call O68(AC7, 'A0ZG')
    endif
    set AC7 = null
    set t = null
endfunction
function V9F takes nothing returns boolean
    if GetLearnedSkill() == 'A03E' and IsUnitIllusion(GetTriggerUnit()) == false then
        call V8F(GetTriggerUnit())
    endif
    return false
endfunction
function FL9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function V9F))
    set t = null
endfunction
function VDF takes nothing returns nothing
    local unit hn = GetTriggerUnit()
    local unit U2F
    local integer i = 1
    local boolean VEF = KN8(GetOwningPlayer(hn))
    local player p
    local integer VFF
    local integer VGF
    local integer VHF = GetUnitAbilityLevel(hn, 'A0ZF')
    if VHF == 1 then
        set VFF = 'A104'
        set VGF = 'A107'
    elseif VHF == 2 then
        set VFF = 'A101'
        set VGF = 'A106'
    elseif VHF == 3 then
        set VFF = 'A102'
        set VGF = 'A105'
    elseif VHF == 4 then
        set VFF = 'A103'
        set VGF = 'A108'
    endif
    loop
        exitwhen i > MAX_TEAM_PLAYERS
        if VEF then
            set p = G8[i]
        else
            set p = N8[i]
        endif
        set U2F = CreateUnit(p, 'e01V', 0, 0, 0)
        call O68(U2F, VFF)
        call O68(U2F, VGF)
        call UnitApplyTimedLife(U2F, 'BTLF', 10)
        set i = i + 1
    endloop
    set hn = null
    set U2F = null
    set p = null
endfunction
function VIF takes nothing returns boolean
    if GetSpellAbilityId() == 'A0ZF' then
        call VDF()
    endif
    return false
endfunction
function F19 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VIF))
    set t = null
endfunction
function WolfCrippleActionCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real PX9 = (LoadReal(R8, (W57), (805)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if IsNormalAttack() and GetUnitAbilityLevel(GetEventDamageSource(), 'A3NH') > 0 then
            call SaveReal(R8, (W57), (805), (TimerGetElapsed(E4) + 4))
            if GetEventDamageSource() != Z77 then
                call SaveUnitHandle(R8, (W57), (2), (GetEventDamageSource()))
            endif
        endif
    else
        if(TimerGetElapsed(E4)) > PX9 or GetUnitAbilityLevel(X77, 'B3NI') == 0 then
            call UnitRemoveAbility(X77, 'A3NI')
            call UnitRemoveAbility(X77, 'B3NI')
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
        call V08(Z77, X77, 1, 8)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function WolfCripple takes unit Z77, unit X77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(X77, 'A3NI')
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function WolfCrippleActionCondt))
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (W57), (805), (TimerGetElapsed(E4) + 4))
    set t = null
endfunction
function WolfCrippleCondt takes nothing returns boolean
    local unit Z77 = GetEventDamageSource()
    local unit X77 = GetTriggerUnit()
    if IsNormalAttack() and IsUnitEnemy(Z77, GetOwningPlayer(X77)) and IsUnitType(X77, UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(Z77, 'A3NH') > 0 and GetUnitAbilityLevel(X77, 'B3NI') == 0 then
        if GetRandomInt(1, 100) <= 20 then
            call WolfCripple(Z77, X77)
        endif
    endif
    set Z77 = null
    set X77 = null
    return false
endfunction
function Register_WolfCripple takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function WolfCrippleCondt))
    set t = null
endfunction
function VJF takes nothing returns nothing
    call SY9()
    call SA9()
endfunction
function WBF takes nothing returns boolean
    if CH9(GetTriggerUnit())and(LoadBoolean(R8, (GetHandleId(GetTriggerUnit())), (142))) == false then
        call C79(GetTriggerUnit())
        // if(GetPlayerController(GetOwningPlayer(GetTriggerUnit())) == MAP_CONTROL_COMPUTER)then
        //     if(GetUnitTypeId(GetTriggerUnit()) != 'H00J')then
        //         call ExecuteFunc("AiRegSth")
        //     else
        //         call ExecuteFunc("xh")
        //     endif
        // elseif(GetUnitTypeId(GetTriggerUnit()) != 'H00J')then
        //     if not(((AiHeroPickTrig != null)and(IsTriggerEnabled(AiHeroPickTrig)))and(((GetOwningPlayer(GetTriggerUnit()) == CaptainSent)and(RV4 != null))or((GetOwningPlayer(GetTriggerUnit()) == CaptainScrg)and(RW4 != null))))then
        //         set bj_lastLoadedUnit = GetTriggerUnit()
        //         call WAF(GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)), bj_lastLoadedUnit, GetUnitTypeId(bj_lastLoadedUnit))
        //         call ExecuteFunc("WCF")
        //     endif
        // endif
    endif
    return false
endfunction
function QWG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer QRD = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(QRD)
    local real P08 = (LoadReal(R8, (EC8), (20)))
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED or GetUnitAbilityLevel(GetTriggerUnit(), 'B031') == 0 then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call KG8(QRD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        set I67 = true
        call V08(p5, target, AB4, P08)
        set I67 = false
        if P08 > 0 then
            call QM8("+" + I2S(R2I(P08)), 1, target, .023, 255, 0, 0, 216)
        endif
    elseif GetEventDamage() > 1 then
        call SaveReal(R8, (EC8), (20), ((P08 + GetEventDamage() * 0.3)))
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function QXG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveInteger(R8, (EC8), (30), (KJ8(target)))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Other\\Silence\\SilenceTarget.mdl", target, "overhead")))
    call SaveReal(R8, (EC8), (20), ((0)))
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerAddCondition(t, Condition(function QWG))
    set p5 = null
    set target = null
    set t = null
    return false
endfunction
function QYG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function QXG))
    call SaveUnitHandle(R8, (EC8), (17), (GetSpellTargetUnit()))
    call SaveUnitHandle(R8, (EC8), (2), (GetTriggerUnit()))
    set t = null
endfunction
function QZG takes nothing returns nothing
    if GetSpellAbilityId() == 'A0FD' and OE8(GetSpellTargetUnit()) == false then
        call QYG()
    endif
endfunction
function QAG takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local item JB9
    local integer i = 0
    local real x = GetUnitX(u)
    local real y = GetUnitY(u)
    local integer TK9
    local item QBG
    call DisableTrigger(GW4)
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set JB9 = UnitItemInSlot(u, i)
        set TK9 = ZU7(JB9)
        if TK9 == QC then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[AX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[SY], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == WC or TK9 == XC then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[DY], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[IY], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == T2 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[WX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[NX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[EH4], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == W2 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[WX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[NX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[EH4], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == A5 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[RW], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[B3], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[EM4], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == ET4 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[MV], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[EW], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == H6 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[QW], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[YW], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == N6 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[QW], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[YW], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == H1 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[U3], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[PY], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[DC4], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == EQ4 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[LV], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[DG4], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == CZ then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[MV], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[DY], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[EY], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == A6 then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[W3], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[U3], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == QA or TK9 == VA then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[N3], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[WC], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == NC then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[GY], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[X3], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == PC then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[OC], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[SX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == NA then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[RW], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[RW], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == ILO then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[QC], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[WX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[ILM], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == JC then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[W3], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[RZ], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        elseif TK9 == IDL then
            set I44 = GetItemPlayer(JB9)
            call RemoveItem(JB9)
            set QBG = CreateItem(AU[RX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
            set QBG = CreateItem(AU[ZX], x, y)
            call SetItemPlayer(QBG, I44, false)
            call SetItemUserData(QBG, 1)
        endif
        set i = i + 1
    endloop
    call EnableTrigger(GW4)
    set u = null
    set JB9 = null
    set QBG = null
endfunction
function QCG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0K5' or GetSpellAbilityId() == 'A1RF' then
        call QAG()
    endif
    return false
endfunction
function Q3G takes nothing returns nothing
    local unit target = GetEnumUnit()
    local group PBD = pw
    local unit p5 = qw
    if IsUnitInGroup(target, PBD) == false then
        call GroupAddUnit(PBD, target)
        call IssueTargetOrderById(Qw, 852075, target)
        set I67 = true
        call V08(p5, target, AB4, 200)
        set I67 = false
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", target, "origin"))
    endif
    set target = null
    set PBD = null
    set p5 = null
endfunction
function Q6G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local group PBD = (LoadGroupHandle(R8, (EC8), (133)))
    local real d
    local real x
    local real x0 = GetUnitX(p5)
    local real y
    local real y0 = GetUnitY(p5)
    local group g = OG8()
    local integer OUD = GetTriggerEvalCount(t)
    local integer i
    call SetUnitX(AC7, GetUnitX(p5))
    call SetUnitY(AC7, GetUnitY(p5))
    set pw = PBD
    set qw = p5
    set Qw = (LoadUnitHandle(R8, (EC8), (132)))
    if GetTriggerEvalCount(t) > 37 then
        call KillUnit(AC7)
        call OF8(PBD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set d = OUD * 21
        set i = 0
        loop
            exitwhen i > 36
            set x = x0 + d * Cos(360 * i / 36 * bj_DEGTORAD)
            set y = y0 + d * Sin(360 * i / 36 * bj_DEGTORAD)
            set H04 = p5
            call GroupEnumUnitsInRange(g, x, y, 150, Condition(function GenericCondition_EnemyUnitsExVisionWithAncient))
            call ForGroup(g, function Q3G)
            set i = i + 1
        endloop
    endif
    call OF8(g)
    set t = null
    set AC7 = null
    set PBD = null
    set p5 = null
    set g = null
    return false
endfunction
function QLG takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real x = GetUnitX(N28)
    local real y = GetUnitY(N28)
    local group PBD = OG8()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'h091', x, y, 0)
    local unit Q1G = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    call UnitAddAbility(Q1G, 'A0T0')
    call SaveGroupHandle(R8, (EC8), (133), (PBD))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveUnitHandle(R8, (EC8), (132), (Q1G))
    call SaveUnitHandle(R8, (EC8), (2), (N28))
    call TriggerRegisterTimerEvent(t, .06, true)
    call TriggerAddCondition(t, Condition(function Q6G))
    set t = null
    set PBD = null
    set AC7 = null
    set Q1G = null
    set N28 = null
endfunction
function Q0G takes nothing returns nothing
    if GetSpellAbilityId() == 'A0T9' then
        call QLG()
    endif
endfunction
function Q5G takes unit Z77, integer YLE returns nothing
    local integer W57 = GetHandleId(Z77)
    call SaveInteger(R8, (W57), (750), (YLE))
endfunction
function Q2G takes nothing returns nothing
    local integer i = 0
    local integer Q_G = 0
    local boolean R4G = false
    if GetSpellAbilityId() == 'A0JY' then
        loop
            exitwhen i >= bj_MAX_INVENTORY
            if IsEnabledItem(UnitItemInSlot(GetTriggerUnit(), i), HZ) or IsEnabledItem(UnitItemInSlot(GetTriggerUnit(), i), D44) then
                set Q_G = GetItemCharges(UnitItemInSlot(GetTriggerUnit(), i))
                if Q_G > 0 then
                    call SetItemCharges(UnitItemInSlot(GetTriggerUnit(), i), 0)
                    call Q5G(GetTriggerUnit(), 0)
                    if R4G == false then
                        set R4G = true
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_MANA, GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) + 15 * Q_G)
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 15 * Q_G)
                        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", GetTriggerUnit(), "origin"))
                    endif
                endif
                return
            endif
            set i = i + 1
        endloop
    endif
endfunction
function R7G takes integer id returns boolean
    local integer i = 1
    loop
        exitwhen i > MZ4
        if id == MY4[i]then
            return false
        endif
        set i = i + 1
    endloop
    return true
endfunction
function R8G takes unit R9G, unit p5 returns nothing
    if IsUnitVisible(R9G, GetOwningPlayer(p5)) == false and GetRandomInt(1, 100) < 10 then
        call PlaySoundOnUnitBJ(RI, 100, p5)
    endif
endfunction
function RDG takes nothing returns nothing
    local unit N28 = GetEnumUnit()
    local integer i = 0
    loop
        exitwhen i >= bj_MAX_INVENTORY
        if IsUnitVisible(GetTriggerUnit(), GetOwningPlayer(GetEnumUnit())) then
            if IsEnabledItem(UnitItemInSlot(N28, i), HZ) or IsEnabledItem(UnitItemInSlot(N28, i), D44) then
                if IsEnabledItem(UnitItemInSlot(N28, i), D44) then
                    if GetItemCharges(UnitItemInSlot(N28, i)) == 17 then
                        call R8G(GetTriggerUnit(), N28)
                    endif
                    call Q5G(N28, IMinBJ(GetItemCharges(UnitItemInSlot(N28, i)) + 1, 17))
                    call SetItemCharges(UnitItemInSlot(N28, i), IMinBJ(GetItemCharges(UnitItemInSlot(N28, i)) + 1, 17))
                else
                    if GetItemCharges(UnitItemInSlot(N28, i)) == 10 then
                        call R8G(GetTriggerUnit(), N28)
                    endif
                    call Q5G(N28, IMinBJ(GetItemCharges(UnitItemInSlot(N28, i)) + 1, 10))
                    call SetItemCharges(UnitItemInSlot(N28, i), IMinBJ(GetItemCharges(UnitItemInSlot(N28, i)) + 1, 10))
                endif
                call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", N28, "chest"))
                set i = bj_MAX_INVENTORY - 1
            endif
        endif
        set i = i + 1
    endloop
    set N28 = null
endfunction
function REG takes nothing returns nothing
    local group g = OG8()
    local unit p5 = GetTriggerUnit()
    local real x = GetUnitX(p5)
    local real y = GetUnitY(p5)
    call GroupEnumUnitsInRange(g, x, y, 1225, Condition(function V98))
    call ForGroup(g, function RDG)
    call OF8(g)
    set g = null
    set p5 = null
endfunction
function RFG takes nothing returns nothing
    if R7G(GetSpellAbilityId()) and MY8(GetSpellAbilityId()) and GetUnitAbilityLevel(GetTriggerUnit(), 'A04R') == 0 and XL8(GetSpellAbilityId()) == false then
        call REG()
    endif
endfunction
function RJG takes nothing returns nothing
    local unit p5 = GetEventDamageSource()
    local unit target = GetTriggerUnit()
    local real P08 = (.035 + .01 * GetUnitAbilityLevel(p5, 'A0SS')) * GetUnitState(target, UNIT_STATE_LIFE)
    if IsUnitIllusion(p5) == false then
        call BlzSetEventDamage(GetEventDamage() + P08)
        call SetUnitState(p5, UNIT_STATE_LIFE, P08 + GetUnitState(p5, UNIT_STATE_LIFE))
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", p5, "origin"))
    set p5 = null
    set target = null
endfunction
function RKG takes nothing returns boolean
    if IsNormalAttackHero() then
        if GetUnitAbilityLevel(GetEventDamageSource(), 'A0SS') > 0 and IsUnitType(BlzGetEventDamageTarget(), UNIT_TYPE_STRUCTURE) == false and GetUnitTypeId(BlzGetEventDamageTarget()) != 'n00L' and IsUnitEnemy(BlzGetEventDamageTarget(), GetOwningPlayer(GetEventDamageSource())) then
            call RJG()
        endif
    endif
    return false
endfunction
function FQ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function RKG))
    set t = null
endfunction
function ROG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    if GetUnitTypeId(N28) == 'E02X' then
        call SetUnitVertexColor(N28, 255, 255, 255, 255)
    else
        call SetUnitVertexColor(N28, 100, 100, 100, 255)
    endif
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
    call UnitRemoveAbility(N28, 'A0SR')
    call UnitRemoveAbility(N28, 'A0ST')
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function RPG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A2TT')
    call SetUnitVertexColor(N28, 0, 0, 0, 255)
    call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A0ST', false)
    call O68(N28, 'A0ST')
    call O68(N28, 'A0SR')
    call SetUnitAbilityLevel(N28, 'A0SR', TA8)
    call T99(N28, 0, 0)
    call UnitRemoveAbility(N28, 'BHtc')
    call UnitRemoveAbility(N28, 'B02U')
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl", N28, "right hand")))
    call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl", N28, "left hand")))
    call TriggerRegisterTimerEvent(t, 2 + TA8, false)
    call TriggerAddCondition(t, Condition(function ROG))
    set N28 = null
    set t = null
endfunction
function RQG takes nothing returns boolean
    if GetSpellAbilityId() == 'A2TT' then
        call RPG()
    endif
    return false
endfunction
function FR9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RQG))
    set t = null
endfunction
function Snatch_Damage takes nothing returns nothing
    call V08(D37, GetEnumUnit(), AB4, D67 * 125 + 25)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl", GetEnumUnit(), "overhead"))
endfunction
function Snatch_Process takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H04
    local unit X77 = H54
    local real P08 = (LoadReal(R8, (W57), (20)))
    call V08(Z77, X77, AB4, P08)
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl", X77, "overhead"))
    set Z77 = null
    set X77 = null
endfunction
function RRG takes nothing returns nothing
    local unit Z77 = D37
    local unit X77 = GetEnumUnit()
    local integer ML8 = D67
    local trigger t = T88(Z77, X77, 'h0DF', "BJE", 600, false)
    local integer W57 = GetHandleId(t)
    call SaveReal(R8, (W57), (20), ((ML8 * 125 + 25)))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function RSG takes unit Z77, unit X77, integer ML8 returns nothing
    local group g = OG8()
    set H04 = Z77
    set D37 = Z77
    set D67 = ML8
    call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 700 + 25, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function RRG)
    call OF8(g)
    set g = null
endfunction
// function RTG takes nothing returns boolean
//     local trigger t = GetTriggeringTrigger()
//     local integer NR8 = GetHandleId(t)
//     local integer YC7 = EN8(NR8, "HeroPID")
//     local unit RUG = E88(NR8, "ConsumeCaster")
//     call DisableTrigger(R04[YC7])
//     call IssueImmediateOrderById(RUG, 852597)
//     call EnableTrigger(R04[YC7])
//     call FlushChildHashtable(R8, NR8)
//     call EA8(t)
//     set t = null
//     set RUG = null
//     return false
// endfunction
function RVG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call UnitShareVision(X77, GetOwningPlayer(AM7), false)
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", GetUnitX(X77), GetUnitY(X77)))
        call SetUnitPosition(AM7, GetUnitX(X77), GetUnitY(X77))
        call PauseUnit(AM7, false)
        call ShowUnit(AM7, true)
        call SetUnitPathing(AM7, true)
        call ClearSelectionForPlayer(GetOwningPlayer(AM7))
        call SelectUnitForPlayerSingle(AM7, GetOwningPlayer(AM7))
        call SetUnitInvulnerable(AM7, false)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
        call RemoveUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call RSG(AM7, X77, ML8)
        call SaveInteger(R8, (GetHandleId((AM7))), ((4310)), (2))
    elseif IsUnitType(X77, UNIT_TYPE_HERO) == false and IsUnitEnemy(X77, GetOwningPlayer(AM7)) then
        call UnitShareVision(X77, GetOwningPlayer(AM7), false)
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", GetUnitX(X77), GetUnitY(X77)))
        call SetUnitPosition(AM7, GetUnitX(X77), GetUnitY(X77))
        call PauseUnit(AM7, false)
        call ShowUnit(AM7, true)
        call SetUnitPathing(AM7, true)
        call ClearSelectionForPlayer(GetOwningPlayer(AM7))
        call SelectUnitForPlayerSingle(AM7, GetOwningPlayer(AM7))
        call SetUnitInvulnerable(AM7, false)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
        call RemoveUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call RSG(AM7, X77, ML8)
        call SaveInteger(R8, (GetHandleId((AM7))), ((4310)), (2))
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0SX' then
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", GetUnitX(X77), GetUnitY(X77)))
        if IsUnitType(X77, UNIT_TYPE_HERO) == false then
            call SetUnitState(AM7, UNIT_STATE_LIFE, GetUnitState(AM7, UNIT_STATE_LIFE) + GetUnitState(X77, UNIT_STATE_LIFE))
        endif
        call UnitShareVision(X77, GetOwningPlayer(AM7), false)
        call SetUnitPosition(AM7, GetUnitX(X77), GetUnitY(X77))
        call PauseUnit(AM7, false)
        call ShowUnit(AM7, true)
        call SetUnitPathing(AM7, true)
        call SetUnitAnimation(AM7, "Stand Victory")
        call TK8(AM7, 1.5)
        call ClearSelectionForPlayer(GetOwningPlayer(AM7))
        call SelectUnitForPlayerSingle(AM7, GetOwningPlayer(AM7))
        call SetUnitInvulnerable(AM7, false)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
        call RemoveUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call RSG(AM7, X77, ML8)
        if IsUnitType(X77, UNIT_TYPE_HERO) == false then
            if KN8(GetOwningPlayer(X77))then
                set AC7 = CreateUnit(N8[0], 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
                call SetUnitOwner(X77, N8[0], false)
            else
                set AC7 = CreateUnit(G8[0], 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
                call SetUnitOwner(X77, G8[0], false)
            endif
            call UnitAddAbility(AC7, 'A313')
            call IssueTargetOrder(AC7, "charm", X77)
            call UnitRemoveBuffs(X77, true, true)
            call T99(X77, 0, 0)
            call V08(AM7, X77, AB4, 100000)
            call V08(AM7, X77, AC4, 100000)
            call V08(AM7, X77, A34, 100000)
        endif
        call SaveInteger(R8, (GetHandleId((AM7))), ((4310)), (2))
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SELECTED then
        if IsUnitType(X77, UNIT_TYPE_HERO) == true or IsUnitIllusion(X77) == true then
            call ClearSelectionForPlayer(GetOwningPlayer(AM7))
            call SelectUnitAddForPlayer(AC7, GetOwningPlayer(AM7))
        endif
    else
        call SetUnitPosition(AM7, GetUnitX(X77), GetUnitY(X77))
    endif
    set t = null
    set X77 = null
    set AM7 = null
    set AC7 = null
    return false
endfunction
function RWG takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local trigger RXG
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'e010', 7260, - 7732, 0)
    local string RYG = "Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"
    local string RZG = "Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"
    local string RAG = "Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"
    if IsPlayerEnemy(GetLocalPlayer(), GetOwningPlayer(N28))and N08(GetLocalPlayer()) == false then
        set RYG = ""
        set RZG = ""
        set RAG = ""
    endif
    call UnitRemoveBuffs(N28, true, true)
    call T99(N28, 0, 0)
    call SetUnitInvulnerable(AC7, true)
    call UnitShareVision(target, GetOwningPlayer(N28), true)
    call SetUnitInvulnerable(N28, true)
    call ShowUnit(N28, false)
    call PauseUnit(N28, true)
    call SetUnitPathing(N28, false)
    call DestroyEffect(AddSpecialEffectTarget(RYG, target, "overhead"))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget(RZG, target, "overhead")))
    call SaveEffectHandle(R8, (EC8), (177), (AddSpecialEffectTarget(RAG, target, "overhead")))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(N28, 'A0SW')))
    call TriggerRegisterDeathEvent(t, target)
    if IsUnitType(target, UNIT_TYPE_HERO) == false and IsUnitIllusion(target) == false then
        call O68(target, 'A0SX')
        call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_SPELL_EFFECT)
        set AC7 = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(target), GetUnitY(target), 0)
        call UnitAddAbility(AC7, 'A313')
        call IssueTargetOrder(AC7, "charm", target)
        call ClearSelectionForPlayer(GetOwningPlayer(N28))
        call SelectUnitForPlayerSingle(target, GetOwningPlayer(N28))
        call SetUnitState(target, UNIT_STATE_MANA, GetUnitState(target, UNIT_STATE_MAX_MANA))
    else
        call O68(AC7, 'A0SX')
        call ClearSelectionForPlayer(GetOwningPlayer(N28))
        call SelectUnitForPlayerSingle(AC7, GetOwningPlayer(N28))
        call TriggerRegisterPlayerUnitEvent(t, GetOwningPlayer(N28), EVENT_PLAYER_UNIT_SELECTED, Condition(function KF8))
        call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_SPELL_EFFECT)
    endif
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddCondition(t, Condition(function RVG))
    call SaveInteger(R8, (GetHandleId((N28))), ((4310)), (1))
    // if IsComputer(GetOwningPlayer(N28))then
    //     set RXG = CreateTrigger()
    //     if IsUnitType(target, UNIT_TYPE_HERO) == false and IsUnitIllusion(target) == false then
    //         call DU8(GetHandleId(RXG), "ConsumeCaster", target)
    //     else
    //         call DU8(GetHandleId(RXG), "ConsumeCaster", AC7)
    //     endif
    //     call DQ8(GetHandleId(RXG), "HeroPID", GetPlayerId(GetOwningPlayer(N28)))
    //     call TriggerRegisterTimerEvent(RXG, 1., false)
    //     call TriggerAddCondition(RXG, Condition(function RTG))
    //     set RXG = null
    // endif
    set t = null
    set N28 = null
    set target = null
    set AC7 = null
endfunction
function AssimulateConsume takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call UnitShareVision(X77, GetOwningPlayer(AM7), false)
        call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", GetUnitX(X77), GetUnitY(X77)))
        call SetUnitPosition(AM7, GetUnitX(X77), GetUnitY(X77))
        call PauseUnit(AM7, false)
        call ShowUnit(AM7, true)
        call SetUnitPathing(AM7, true)
        call ClearSelectionForPlayer(GetOwningPlayer(AM7))
        call SelectUnitForPlayerSingle(AM7, GetOwningPlayer(AM7))
        call SetUnitInvulnerable(AM7, false)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
        call RemoveUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call RSG(AM7, X77, ML8)
        call SaveInteger(R8, (GetHandleId((AM7))), ((4310)), (2))
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A0SX' or GetSpellAbilityId() == 'A3DO' or GetSpellAbilityId() == 'A0SW' then
            call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", GetUnitX(X77), GetUnitY(X77)))
            call SetUnitPosition(AM7, GetUnitX(X77), GetUnitY(X77))
            call PauseUnit(AM7, false)
            call ShowUnit(AM7, true)
            call SetUnitPathing(AM7, true)
            call SetUnitAnimation(AM7, "Stand Victory")
            call TK8(AM7, 1.5)
            call ClearSelectionForPlayer(GetOwningPlayer(AM7))
            call SelectUnitForPlayerSingle(AM7, GetOwningPlayer(AM7))
            call SetUnitInvulnerable(AM7, false)
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
            call RemoveUnit(AC7)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call RSG(AM7, X77, ML8)
            call SaveInteger(R8, (GetHandleId((AM7))), ((4310)), (2))
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SELECTED then
        if IsUnitType(X77, UNIT_TYPE_HERO) == true or IsUnitIllusion(X77) == true then
            call ClearSelectionForPlayer(GetOwningPlayer(AM7))
            call SelectUnitAddForPlayer(AC7, GetOwningPlayer(AM7))
        endif
    else
        call SetUnitPosition(AM7, GetUnitX(X77), GetUnitY(X77))
    endif
    set t = null
    set X77 = null
    set AM7 = null
    set AC7 = null
    return false
endfunction
// function AiAssimilated takes nothing returns boolean
//     local trigger t = GetTriggeringTrigger()
//     local integer NR8 = GetHandleId(t)
//     local integer YC7 = EN8(NR8, "HeroPID")
//     local unit RUG = E88(NR8, "ConsumeCaster")
//     local group g = LoadGroupHandle(R8, (NR8), (22))
//     call GroupClear(g)
//     set H04 = RUG
//     call GroupEnumUnitsInRange(g, GetUnitX(RUG), GetUnitY(RUG), 700., Condition(function GenericCondition_EnemyUnitsExHeroes))
//     if BlzGroupGetSize(g) >= 1 then
//         call DisableTrigger(R04[YC7])
//         call IssueImmediateOrderById(RUG, 852597)
//         call EnableTrigger(R04[YC7])
//         call OF8(g)
//         call FlushChildHashtable(R8, NR8)
//         call EA8(t)
//     endif
//     set g = null
//     set t = null
//     set RUG = null
//     return false
// endfunction
function AssimilateEffect takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local trigger RXG
    local unit AC7 = CreateUnit(GetOwningPlayer(target), 'e010', 7260, - 7732, 0)
    local string RYG = "Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"
    local string RZG = "Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"
    local string RAG = "Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"
    if IsPlayerEnemy(GetLocalPlayer(), GetOwningPlayer(N28))and N08(GetLocalPlayer()) == false then
        set RYG = ""
        set RZG = ""
        set RAG = ""
    endif
    call UnitRemoveBuffs(target, true, true)
    call T99(target, 0, 0)
    call SetUnitInvulnerable(AC7, true)
    call O68(AC7, 'A0SX')
    call ClearSelectionForPlayer(GetOwningPlayer(target))
    call SelectUnitForPlayerSingle(AC7, GetOwningPlayer(target))
    call UnitShareVision(target, GetOwningPlayer(target), true)
    call SetUnitInvulnerable(target, true)
    call ShowUnit(target, false)
    call PauseUnit(target, true)
    call SetUnitPathing(target, false)
    call DestroyEffect(AddSpecialEffectTarget(RYG, N28, "overhead"))
    call SaveUnitHandle(R8, (EC8), (17), (N28))
    call SaveUnitHandle(R8, (EC8), (14), (target))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget(RZG, N28, "overhead")))
    call SaveEffectHandle(R8, (EC8), (177), (AddSpecialEffectTarget(RAG, N28, "overhead")))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(N28, 'A0SW')))
    call TriggerRegisterDeathEvent(t, N28)
    call TriggerRegisterPlayerUnitEvent(t, GetOwningPlayer(target), EVENT_PLAYER_UNIT_SELECTED, Condition(function KF8))
    call TriggerRegisterUnitEvent(t, AC7, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddCondition(t, Condition(function AssimulateConsume))
    call SaveInteger(R8, (GetHandleId(target)), (4310), (1))
    // if IsComputer(GetOwningPlayer(target))then
    //     set RXG = CreateTrigger()
    //     call DU8(GetHandleId(RXG), "ConsumeCaster", AC7)
    //     call DQ8(GetHandleId(RXG), "HeroPID", GetPlayerId(GetOwningPlayer(target)))
    //     call SaveGroupHandle(R8, GetHandleId(RXG), (22), (OG8()))
    //     call TriggerRegisterTimerEvent(RXG, 1.5, true)
    //     call TriggerAddCondition(RXG, Condition(function AiAssimilated))
    //     set RXG = null
    // endif
    set t = null
    set N28 = null
    set target = null
    set AC7 = null
endfunction
function RBG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0SW' then
        call RWG()
    elseif GetSpellAbilityId() == 'A3DO' then
        call AssimilateEffect()
    endif
    return false
endfunction
function RCG takes nothing returns boolean
    if (GetSpellAbilityId() == 'A0SW' or GetSpellAbilityId() == 'A3DO') and IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))and(IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_HERO) or IsUnitIllusion(GetSpellTargetUnit()))then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0LV'))
    endif
    return false
endfunction
function FT9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RBG))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function RCG))
    set t = null
endfunction
function R3G takes integer C77, unit Z77, unit X77 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    if C77 == 0 then
        call IssueTargetOrderById(Z77, 851983, X77)
    elseif C77 == 1 then
        call O68(AC7, 'A0TH')
        call SetUnitAbilityLevel(AC7, 'A0TH', 1)
        call IssueTargetOrderById(AC7, 852075, X77)
    elseif C77 == 2 then
        call O68(AC7, 'A0TH')
        call SetUnitAbilityLevel(AC7, 'A0TH', 1)
        call IssueTargetOrderById(AC7, 852075, X77)
    elseif C77 == 3 then
        call O68(AC7, 'A0TH')
        call SetUnitAbilityLevel(AC7, 'A0TH', 2)
        call IssueTargetOrderById(AC7, 852075, X77)
    elseif C77 == 4 then
        call O68(AC7, 'A0TH')
        call SetUnitAbilityLevel(AC7, 'A0TH', 3)
        call IssueTargetOrderById(AC7, 852075, X77)
    elseif C77 == 5 then
        call O68(AC7, 'A0TH')
        call SetUnitAbilityLevel(AC7, 'A0TH', 4)
        call IssueTargetOrderById(AC7, 852075, X77)
    elseif C77 == 6 then
        call O68(AC7, 'A0TH')
        call SetUnitAbilityLevel(AC7, 'A0TH', 5)
        call IssueTargetOrderById(AC7, 852075, X77)
    endif
    set AC7 = null
endfunction
function R6G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer P89 = (LoadInteger(R8, (EC8), (34)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer QRD = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(QRD)
    local real RLG = .5
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        set P89 = P89 + 1
        call R3G(P89, p5, target)
        if P89 == 9 then
            call KG8(QRD)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        else
            call SaveInteger(R8, (EC8), (34), (P89))
        endif
    elseif W18(GetEventDamage())and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource()))and IsUnitType(GetEventDamageSource(), UNIT_TYPE_STRUCTURE) == false then
        if IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(), 'A04R') == 0 then
            call SetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE, GetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE) + GetEventDamage() * RLG)
        else
            call SetUnitState(Y7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))], UNIT_STATE_LIFE, GetUnitState(Y7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))], UNIT_STATE_LIFE) + GetEventDamage() * RLG)
        endif
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", GetEventDamageSource(), "origin"))
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function R1G takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call R3G(0, p5, target)
    call SaveInteger(R8, (EC8), (375), (0))
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(p5, 'A194')))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveInteger(R8, (EC8), (30), (KJ8(target)))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function R6G))
    set t = null
    set p5 = null
    set target = null
endfunction
function R0G takes nothing returns boolean
    if GetSpellAbilityId() == 'A194' and OE8(GetSpellTargetUnit()) == false then
        call R1G()
    endif
    return false
endfunction
function FS9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function R0G))
    set t = null
    call PU8('A0TH')
endfunction
function R2G takes nothing returns nothing
    local integer i1 = GetSpellAbilityId()
    if(i1 == 'A0AA' or i1 == 'A0AP' or i1 == 'A262' or i1 == 'A1EV' or i1 == 'A0SX' or i1 == 'A0GJ' or i1 == 'A0GE' or i1 == 'A0GS' or i1 == 'A0AB' or i1 == 'A1HR' or i1 == 'A1S5' or i1 == 'A1IN' or i1 == 'A1S8' or i1 == 'A0AC' or i1 == 'A0AD' or i1 == 'A0AE' or i1 == 'A1AO' or i1 == 'A1UV' or i1 == 'A1DJ' or i1 == 'A1U7')or i1 == 'A1S7' or i1 == 'A0X6' or i1 == 'A284' or i1 == 'A0HM' or(i1 == 'A07X' or i1 == 'A0AL')or i1 == 'A07T' or i1 == 'A0X6' or i1 == 'A0HG' or i1 == 'A0FZ' then
    else
        call UnitRemoveAbility(GetTriggerUnit(), i1)
    endif
endfunction
function R_G takes nothing returns nothing
    local unit u = GetTriggerUnit()
    if GetUnitAbilityLevel(u, 'Aloc') > 0 and GetPlayerController(GetOwningPlayer(u)) == MAP_CONTROL_COMPUTER then
        if (GetUnitAbilityLevel(u, 'A0SX') == 0 and GetUnitAbilityLevel(u, 'A3DJ') == 0 and GetUnitAbilityLevel(u, 'A1HW') == 0 and GetUnitAbilityLevel(u, 'A04U') == 0 and GetUnitAbilityLevel(u, 'A2XN') == 0 and GetUnitAbilityLevel(u, 'A0GR') == 0 and GetUnitAbilityLevel(u, 'A1HX') == 0 and GetUnitAbilityLevel(u, 'A1NF') == 0 and GetUnitAbilityLevel(u, 'A0FZ') == 0 and GetUnitAbilityLevel(u, 'A1FM') == 0 and GetUnitAbilityLevel(u, 'A1DJ') == 0 and GetUnitAbilityLevel(u, 'A1U7') == 0 and GetUnitTypeId(u) != 'h0B1' and GetUnitTypeId(u) != 'e010' and GetUnitTypeId(u) != 'h0C3' and GetUnitTypeId(u) != 'e02P' and GetUnitTypeId(u) != 'h00O' and GetUnitTypeId(u) != 'e02D' and GetUnitTypeId(u) != 'e01V' and GetUnitTypeId(u) != 'h081' and GetUnitTypeId(u) != 'o019')then
            if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_ENDCAST then
                call R2G()
            endif
        endif
    endif
    set u = null
endfunction
function S7G takes unit Y47, integer TS9 returns item
    local integer V37
    local item S8G
    set V37 = 0
    loop
        exitwhen V37 >= bj_MAX_INVENTORY
        set S8G = UnitItemInSlot(Y47, V37)
        if(S8G != null)and(IsTheItem(S8G, TS9))then
            set S8G = null
            return UnitItemInSlot(Y47, V37)
        endif
        set V37 = V37 + 1
    endloop
    set S8G = null
    return null
endfunction
function J39 takes nothing returns nothing
    local unit N28 = H04
    local integer i = 1
    local integer S9G
    if GetUnitTypeId(N28) != 'H00U' then
        return
    endif
    loop
        exitwhen i > 11
        set S9G = YS[i]
        call O68(N28, S9G)
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), S9G, false)
        set i = i + 1
    endloop
    set N28 = null
endfunction
function DragonhideArmorAuraRemove takes nothing returns nothing
    call BlzSetUnitArmor(GetEnumUnit(), BlzGetUnitArmor(GetEnumUnit()) - 3.)
endfunction
function DragonhideArmorAuraGrant takes nothing returns nothing
    call BlzSetUnitArmor(GetEnumUnit(), BlzGetUnitArmor(GetEnumUnit()) + 3.)
endfunction
function DragonhideArmorAura takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local group XIE = (LoadGroupHandle(R8, (EC8), (340)))
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    local group g2 = OG8()
    if Z77 == null or O18(Z77) then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call ForGroup(XIE, function DragonhideArmorAuraRemove)
        call OF8(XIE)
        call OF8(g2)
        call OF8(g)
        return false
    endif
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 900 + 25, Condition(function GenericCondition_AllyUnitsExWithAncient))
    call BlzGroupAddGroupFast(g, g2)
    call BlzGroupRemoveGroupFast(XIE, g2)
    call BlzGroupRemoveGroupFast(g, XIE)
    call ForGroup(XIE, function DragonhideArmorAuraRemove)
    call ForGroup(g2, function DragonhideArmorAuraGrant)
    call SaveGroupHandle(R8, (EC8), (340), (g))
    call OF8(XIE)
    call OF8(g2)
    set t = null
    set Z77 = null
    set XIE = null
    set g = null
    set g2 = null
    return false
endfunction
function DragonhideAura takes nothing returns nothing
    local unit N28 = H04
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function DragonhideArmorAura))
    call SaveUnitHandle(R8, (EC8), (2), (N28))
    call SaveGroupHandle(R8, (EC8), (340), (OG8()))
    set t = null
    set N28 = null
endfunction
function SDG takes nothing returns boolean
    local integer id = GetUnitTypeId(GetTriggerUnit())
    if id == 'H00U' and IsUnitIllusion(GetTriggerUnit()) == false then
        set H04 = GetTriggerUnit()
        call J39()
    elseif id == 'H00I' and IsUnitIllusion(GetTriggerUnit()) == false then
        set H04 = GetTriggerUnit()
        call T6E()
    elseif id == 'n127' and IsUnitIllusion(GetTriggerUnit()) == false then
        call UnitApplyTimedLife(GetTriggerUnit(), 'BTLF', 60.)
    elseif id == 'nbwm' and GetUnitAbilityLevel(GetTriggerUnit(), 'A3IK') > 0 then
        set H04 = GetTriggerUnit()
        call DragonhideAura()
    endif
    return false
endfunction
function AXW4 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    call UnitRemoveAbility(m5, 'A0VJ')
    call UnitRemoveAbility(m5, 'A109')
    if GetUnitAbilityLevel(m5, 'A0VJ') == 0 or GetUnitAbilityLevel(m5, 'A109') == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set m5 = null
    return false
endfunction
function SEG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call UnitRemoveAbility(m5, 'A0VJ')
    call UnitRemoveAbility(m5, 'A109')
    if GetUnitAbilityLevel(m5, 'A0VJ') > 0 or GetUnitAbilityLevel(m5, 'A109') > 0 then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call SaveUnitHandle(R8, (EC8), (17), (m5))
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function AXW4))
    endif
    set t = null
    set m5 = null
    return false
endfunction
function SFG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    local unit m5 = GetSpellTargetUnit()
    local integer SIG = (LoadInteger(R8, (GetHandleId(N28)), (3000)))
    local integer TXG = (LoadInteger(R8, (GetHandleId(N28)), (3002)))
    call O68(m5, 'A0VJ')
    call FbSetAbilityRealLevelField(BlzGetUnitAbility(m5, 'A0VJ'), ABILITY_RLF_ATTACK_SPEED_INCREASE_ISX1, 2, .15 * SIG - .05)
    call SetUnitAbilityLevel(m5, 'A0VJ', 2)
    call O68(m5, 'A109')
    call SetUnitAbilityLevel(m5, 'A109', TXG)
    call TriggerRegisterTimerEvent(t, 9, false)
    call TriggerAddCondition(t, Condition(function SEG))
    call SaveUnitHandle(R8, (EC8), (17), (m5))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl", m5, "origin")))
    set t = null
    set N28 = null
    set m5 = null
endfunction
function SKG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VQ' then
        call SFG()
    endif
    return false
endfunction
function SMG takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SKG))
    call PY8('A0VJ', GetRandomReal(1, 25))
    call PY8('A109', GetRandomReal(1, 25))
    set t = null
endfunction
function SOG takes unit Z77, unit X77, integer SPG, integer SQG returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local unit SRG = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local real SSG = 0.5 + 0.3 * SQG
    local ability a
    call O68(AC7, 'A0XK')
    set a = BlzGetUnitAbility(AC7, 'A0XK')
    call FbSetAbilityRealLevelField(a, ABILITY_RLF_DURATION_NORMAL, 1, SSG)
    call FbSetAbilityRealLevelField(a, ABILITY_RLF_DURATION_HERO, 1, SSG)
    call IssueTargetOrder(AC7, "cyclone", X77)
    call W48(SRG, X77, 1, 70 + (SPG + SPG + SPG) * 15.0, SSG)
    set AC7 = null
    set SRG = null
    set a = null
endfunction
function STG takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call SOG(H04, GetEnumUnit(), HB4, HC4)
    endif
endfunction
function SUG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local real x2 = (LoadReal(R8, (EC8), (66)))
    local real y2 = (LoadReal(R8, (EC8), (67)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local integer SIG = (LoadInteger(R8, (EC8), (3000)))
    local integer SVG = (LoadInteger(R8, (EC8), (3001)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local real x = GetUnitX(oA) + 25 * Cos(a)
    local real y = GetUnitY(oA) + 25 * Sin(a)
    local group SWG = OG8()
    local real SXG = Z87(x, y, x2, y2)
    if SXG <= 30 then
        set x = x2
        set y = y2
    endif
    call SetUnitX(oA, PQ8(x))
    call SetUnitY(oA, PQ8(y))
    set H04 = oA
    set H24 = g
    set HB4 = SIG
    set HC4 = SVG
    call GroupEnumUnitsInRange(SWG, x, y, 200 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(SWG, function STG)
    call OF8(SWG)
    if SXG <= 30 or GetTriggerEvalCount(t) > 125 then
        call OF8(g)
        call KillUnit(oA)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set oA = null
    set g = null
    set SWG = null
    return false
endfunction
function SYG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = Atan2(y - GetUnitY(p5), x - GetUnitX(p5))
    local unit oA
    set x = GetUnitX(p5)
    set y = GetUnitY(p5)
    set oA = CreateUnit(GetOwningPlayer(p5), 'n01U', x, y, a * bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function SUG))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveReal(R8, (EC8), (66), (x + (400 + 400.0 * (LoadInteger(R8, (GetHandleId((p5))), (3000)))) * Cos(a)))
    call SaveReal(R8, (EC8), (67), (y + (400 + 400.0 * (LoadInteger(R8, (GetHandleId((p5))), (3000)))) * Sin(a)))
    call SaveInteger(R8, (EC8), (3000), ((LoadInteger(R8, (GetHandleId(p5)), (3000)))))
    call SaveInteger(R8, (EC8), (3001), ((LoadInteger(R8, (GetHandleId(p5)), (3001)))))
    call SaveReal(R8, (EC8), (137), (a))
    call SaveGroupHandle(R8, (EC8), (22), (OG8()))
    set t = null
    set p5 = null
    set oA = null
endfunction
function SZG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VK' then
        call SYG()
    endif
    return false
endfunction
function SAG takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SZG))
    call PY8('A0XK', GetRandomReal(1, 25))
    set t = null
endfunction
function SBG takes nothing returns nothing
    local real SCG = RMaxBJ(RMinBJ(GetUnitState(GetEnumUnit(), UNIT_STATE_MANA), pB), 0)
    local real S3G = SCG * 0.5
    if GU8(GetEnumUnit()) == false and SCG > 0 and NH8(GetEnumUnit()) == false then
        if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > (S3G + 0.5)then
            call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) - S3G)
        else
            call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, 1)
            call V08(PB, GetEnumUnit(), 1, S3G)
        endif
        call SetUnitState(GetEnumUnit(), UNIT_STATE_MANA, GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) - SCG)
        if(IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO))then
            call SetUnitState(PB, UNIT_STATE_MANA, GetUnitState(PB, UNIT_STATE_MANA) + SCG * 0.5)
        endif
    endif
endfunction
function S6G takes unit p5, unit oA, integer SIG, integer TXG returns nothing
    local group g = OG8()
    set PB = p5
    set H04 = p5
    set pB = SIG * 75 + 50
    call GroupEnumUnitsInRange(g, GetUnitX(oA), GetUnitY(oA), 700, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(g, function SBG)
    call OF8(g)
    set g = null
endfunction
function SLG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer iX = GetTriggerEvalCount(t)
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit S1G
    local real S0G = 2.9
    local real S5G = VN + (EN - VN) * iX / (S0G / 0.05)
    call SetUnitScale(oA, S5G, S5G, S5G)
    if iX > (S0G / 0.05)then
        call S6G(p5, oA, (LoadInteger(R8, (EC8), (3000))), (LoadInteger(R8, (EC8), (3002))))
        set S1G = CreateUnit(GetOwningPlayer(oA), 'e01O', GetUnitX(oA), GetUnitY(oA), 0)
        call SetUnitTimeScale(S1G, 0.3)
        call RemoveUnit(oA)
        call KillUnit(S1G)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set oA = null
    set S1G = null
    set p5 = null
    return false
endfunction
function S2G takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local location l = GetSpellTargetLoc()
    local unit p5 = GetTriggerUnit()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(p5), x - GetUnitX(p5))
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'e01M', x, y, a * bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function SLG))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveInteger(R8, (EC8), (3000), ((LoadInteger(R8, (GetHandleId(p5)), (3000)))))
    call SaveInteger(R8, (EC8), (3001), ((LoadInteger(R8, (GetHandleId(p5)), (3001)))))
    call SaveInteger(R8, (EC8), (3002), ((LoadInteger(R8, (GetHandleId(p5)), (3002)))))
    call RemoveLocation(l)
    set t = null
    set l = null
    set p5 = null
    set oA = null
endfunction
function S_G takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VS' then
        call S2G()
    endif
    return false
endfunction
function T4G takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function S_G))
    set t = null
endfunction
function T7G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit T8G = (LoadUnitHandle(R8, (EC8), (19)))
    local unit hn = (LoadUnitHandle(R8, (EC8), (14)))
    if GetUnitAbilityLevel(hn, 'B08X') == 0 then
        call KillUnit(T8G)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SetUnitX(T8G, GetUnitX(hn))
        call SetUnitY(T8G, GetUnitY(hn))
    endif
    set t = null
    set T8G = null
    set hn = null
    return false
endfunction
function T9G takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit hn = GetTriggerUnit()
    local unit T8G = CreateUnit(GetOwningPlayer(hn), 'e01V', GetUnitX(hn), GetUnitY(hn), 0)
    call O68(T8G, 'A0VH')
    call FbSetAbilityRealLevelField(BlzGetUnitAbility(T8G, 'A0VH'), ABILITY_RLF_MOVEMENT_SPEED_FACTOR_SLO1, 1, - 0.15 - 0.05 * (LoadInteger(R8, (GetHandleId(T8G)), (3001))))
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function T7G))
    call SaveUnitHandle(R8, (EC8), (19), (T8G))
    call SaveUnitHandle(R8, (EC8), (14), (hn))
    set t = null
    set hn = null
    set T8G = null
endfunction
function TDG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0XL' then
        call T9G()
    endif
    return false
endfunction
function TEG takes unit hn returns nothing
    if GetUnitAbilityLevel(hn, 'A0XL') > 0 then
        call FbSetAbilityRealLevelField(BlzGetUnitAbility(hn, 'A0XL'), ABILITY_RLF_MOVEMENT_SPEED_INCREASE_PERCENT_OWK2, 1, - 0.4 + 0.1 * (LoadInteger(R8, (GetHandleId(hn)), (3000))))
    endif
endfunction
function TFG takes nothing returns boolean
    if IsUnitIllusion(GetTriggerUnit()) == false then
        call TEG(GetTriggerUnit())
    endif
    return false
endfunction
function TGG takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TDG))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function TFG))
    call PY8('A0VH', GetRandomReal(1, 25))
    set t = null
endfunction
function THG takes unit TIG, unit target, integer SIG returns nothing
    local unit TJG = CreateUnit(GetOwningPlayer(target), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    local ability a
    call O68(TJG, 'A0VT')
    set a = BlzGetUnitAbility(TJG, 'A0VT')
    call FbSetAbilityRealLevelField(a, ABILITY_RLF_DURATION_NORMAL, 1, .5 + .5 * SIG)
    call FbSetAbilityRealLevelField(a, ABILITY_RLF_DURATION_HERO, 1, .5 + .5 * SIG)
    call IssueTargetOrder(TJG, "drunkenhaze", target)
    set TJG = null
    set a = null
endfunction
function TKG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit TIG = (LoadUnitHandle(R8, (EC8), (2)))
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    local real TMG = (LoadReal(R8, (EC8), (13)))
    local real TNG = (LoadReal(R8, (EC8), (193)))
    local integer SIG = (LoadInteger(R8, (EC8), (3000)))
    local integer SVG = (LoadInteger(R8, (EC8), (3001)))
    local integer TOG = SVG * 25 / 3
    local real x
    local real y
    local integer FWF = GetTriggerEvalCount(t)
    if FWF > TOG / 3 then
        call SaveReal(R8, (EC8), (193), ((TNG * 0.98)))
    endif
    if FWF > TOG or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set x = PQ8(GetUnitX(m5) + TNG * Cos(TMG))
        set y = PS8(GetUnitY(m5) + TNG * Sin(TMG))
        call SC8(x, y, 150)
        call SetUnitPosition(m5, x, y)
    endif
    set t = null
    set TIG = null
    set m5 = null
    return false
endfunction
function TPG takes unit TIG, unit m5, integer SIG, integer SVG, integer TQG returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real TMG = Atan2(GetUnitY(m5) - GetUnitY(TIG), GetUnitX(m5) - GetUnitX(TIG))
    call V08(TIG, m5, 1, TQG * 40)
    call SaveUnitHandle(R8, (EC8), (2), (TIG))
    call SaveUnitHandle(R8, (EC8), (17), (m5))
    call SaveReal(R8, (EC8), (13), ((TMG)))
    call SaveReal(R8, (EC8), (193), ((6)))
    call SaveInteger(R8, (EC8), (3000), (SIG))
    call SaveInteger(R8, (EC8), (3001), (SVG))
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function TKG))
    call THG(TIG, m5, SIG)
    set t = null
endfunction
function TRG takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false and GU8(GetEnumUnit()) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call TPG(H04, GetEnumUnit(), HB4, HC4, H34)
    endif
endfunction
function TSG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit TIG = (LoadUnitHandle(R8, (EC8), (2)))
    local unit TJG = (LoadUnitHandle(R8, (EC8), (19)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real x2 = (LoadReal(R8, (EC8), (66)))
    local real y2 = (LoadReal(R8, (EC8), (67)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local integer SIG = (LoadInteger(R8, (EC8), (3000)))
    local integer SVG = (LoadInteger(R8, (EC8), (3001)))
    local integer TXG = (LoadInteger(R8, (EC8), (3002)))
    local real x = GetUnitX(TJG)
    local real y = GetUnitY(TJG)
    local group g2
    if Z87(x, y, x2, y2) < 100 then
        set x = x2
        set y = y2
    else
        set x = x + 33 * Cos(a)
        set y = y + 33 * Sin(a)
    endif
    call SetUnitX(TJG, PQ8(x))
    call SetUnitY(TJG, PS8(y))
    set g2 = OG8()
    set H04 = TIG
    set H24 = g
    set HB4 = SIG
    set HC4 = SVG
    set H34 = TXG
    call GroupEnumUnitsInRange(g2, x, y, 200, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(g2, function TRG)
    call OF8(g2)
    if(x == x2 and y == y2)or GetTriggerEvalCount(t) > 35 then
        set g2 = OG8()
        set H04 = TIG
        set H24 = g
        set HB4 = SIG
        set HC4 = SVG
        set H34 = TXG
        call GroupEnumUnitsInRange(g2, x, y, 250, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g2, function TRG)
        call OF8(g2)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call KillUnit(TJG)
        call OF8(g)
    endif
    set t = null
    set TIG = null
    set TJG = null
    set g = null
    set g2 = null
    return false
endfunction
function DefeaningBlastAlmightyCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit TIG = (LoadUnitHandle(R8, (EC8), (2)))
    local unit TJG = (LoadUnitHandle(R8, (EC8), (19)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local integer SIG = (LoadInteger(R8, (EC8), (3000)))
    local integer SVG = (LoadInteger(R8, (EC8), (3001)))
    local integer TXG = (LoadInteger(R8, (EC8), (3002)))
    local real r = 33 * GetTriggerEvalCount(t)
    local real d = (LoadReal(R8, (EC8), (138)))
    local group g1
    local group g2
    if r < d - 100 then
        call SetUnitX(TJG, PQ8(x + r * Cos(a)))
        call SetUnitY(TJG, PS8(y + r * Sin(a)))
        set g1 = OG8()
        set g2 = OG8()
        set H04 = TIG
        set H24 = g
        set HB4 = SIG
        set HC4 = SVG
        set H34 = TXG
        call GroupEnumUnitsInRange(g2, x, y, r + 100, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call GroupEnumUnitsInRange(g1, x, y, RMaxBJ(r - 100, 0), Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call BlzGroupRemoveGroupFast(g1, g2)
        call ForGroup(g2, function TRG)
        call OF8(g1)
        call OF8(g2)
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call KillUnit(TJG)
        call OF8(g)
    endif
    set t = null
    set TIG = null
    set TJG = null
    set g = null
    set g2 = null
    return false
endfunction
function TTG takes nothing returns nothing
    local location l = GetSpellTargetLoc()
    local unit TIG = GetTriggerUnit()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(TIG), x - GetUnitX(TIG))
    local integer SIG = (LoadInteger(R8, (GetHandleId(TIG)), (3000)))
    local integer SVG = (LoadInteger(R8, (GetHandleId(TIG)), (3001)))
    local integer TXG = (LoadInteger(R8, (GetHandleId(TIG)), (3002)))
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit TJG = CreateUnit(GetOwningPlayer(TIG), 'n01X', GetUnitX(TIG), GetUnitY(TIG), a * bj_RADTODEG)
    local real d = ALR(TIG, 1000)
    if SIG < 6 or SVG < 6 or TXG < 6 then
        call TriggerAddCondition(t, Condition(function TSG))
        call SaveReal(R8, (EC8), (66), ((GetUnitX(TIG) + d * Cos(a))))
        call SaveReal(R8, (EC8), (67), ((GetUnitY(TIG) + d * Sin(a))))
    else
        call TriggerAddCondition(t, Condition(function DefeaningBlastAlmightyCondt))
        call SaveReal(R8, (EC8), (6), (GetUnitX(TIG)))
        call SaveReal(R8, (EC8), (7), (GetUnitY(TIG)))
        call SaveReal(R8, (EC8), (138), (d))
    endif
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call SaveUnitHandle(R8, (EC8), (2), (TIG))
    call SaveUnitHandle(R8, (EC8), (19), (TJG))
    call SaveGroupHandle(R8, (EC8), (22), (OG8()))
    call SaveReal(R8, (EC8), (137), (a))
    call SaveInteger(R8, (EC8), (3000), (SIG))
    call SaveInteger(R8, (EC8), (3001), (SVG))
    call SaveInteger(R8, (EC8), (3002), (TXG))
    set l = null
    set t = null
    set TIG = null
    set TJG = null
endfunction
function TUG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VM' then
        call TTG()
    endif
    return false
endfunction
function TVG takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TUG))
    call PY8('A0VT', GetRandomReal(1, 25))
    set t = null
endfunction
function TWG takes unit N28 returns real
    local integer TXG = (LoadInteger(R8, (GetHandleId(N28)), (3002)))
    return(80 + TXG * 35.0) / 2
endfunction
function TYG takes unit N28 returns real
    local integer SPG = (LoadInteger(R8, (GetHandleId(N28)), (3000)))
    return 325 + SPG * 175.0
endfunction
function TZG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit TIG = (LoadUnitHandle(R8, (EC8), (2)))
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit m5 = KH8(V_8)
    local real P99 = (LoadReal(R8, (EC8), (20)))
    local effect FX = (LoadEffectHandle(R8, (EC8), (32)))
    local integer FWF = GetTriggerEvalCount(t)
    call V08(TIG, m5, 1, P99)
    if FWF == 3 then
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call DestroyEffect(FX)
    endif
    set t = null
    set TIG = null
    set m5 = null
    set FX = null
    return false
endfunction
function TAG takes unit TIG, unit m5, real P99 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (2), (TIG))
    call SaveInteger(R8, (EC8), (30), (KJ8(m5)))
    call SaveReal(R8, (EC8), (20), ((P99)))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Environment\\SmallBuildingFire\\SmallBuildingFire2.mdl", m5, "chest")))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function TZG))
    set t = null
endfunction
function TBG takes nothing returns nothing
    call TAG(H04, GetEnumUnit(), H64 / 5)
    call V08(H04, GetEnumUnit(), 1, H64)
endfunction
function TCG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local integer FWF = GetTriggerEvalCount(t) - 26
    local unit TIG = (LoadUnitHandle(R8, (EC8), (2)))
    local real T3G
    local real T6G
    local unit TLG
    local group g
    if FWF == 1 then
        set TLG = CreateUnit(GetOwningPlayer(TIG), 'e01L', x, y, a * bj_RADTODEG)
        call SaveUnitHandle(R8, (EC8), (19), (TLG))
    elseif FWF > 1 then
        set TLG = (LoadUnitHandle(R8, (EC8), (19)))
    endif
    if FWF > 0 then
        set T3G = PQ8(GetUnitX(TLG) + 15 * Cos(a))
        set T6G = PS8(GetUnitY(TLG) + 15 * Sin(a))
        call SetUnitX(TLG, T3G)
        call SetUnitY(TLG, T6G)
        if(FWF > 1 and ModuloInteger(FWF, 10) == 0)or FWF == 1 then
            set g = OG8()
            set H04 = TIG
            set H64 = TWG(TIG)
            call GroupEnumUnitsInRange(g, T3G, T6G, 300, Condition(function GenericCondition_EnemyUnitsExWithAncient))
            call ForGroup(g, function TBG)
            call OF8(g)
            call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", T3G, T6G))
        endif
        if FWF > TYG(TIG) / 16.6 then
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call KillUnit(TLG)
        endif
    endif
    set t = null
    set g = null
    set TLG = null
    set TIG = null
    return false
endfunction
function T1G takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local location l = GetSpellTargetLoc()
    local unit TIG = GetTriggerUnit()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(TIG), x - GetUnitX(TIG))
    local unit T0G = CreateUnit(GetOwningPlayer(TIG), 'e01K', x, y, a * bj_RADTODEG)
    call SetUnitTimeScale(T0G, 0.58)
    call UnitApplyTimedLife(T0G, 'BTLF', 1.75)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function TCG))
    call SaveUnitHandle(R8, (EC8), (2), (TIG))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call SaveReal(R8, (EC8), (137), (a))
    call RemoveLocation(l)
    set t = null
    set l = null
    set TIG = null
    set T0G = null
endfunction
function T5G takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VN' then
        call T1G()
    endif
    return false
endfunction
function T2G takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function T5G))
    set t = null
endfunction
function T_G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit m5 = KH8(V_8)
    local real U4G = (LoadReal(R8, (GetHandleId(m5)), (3007)))
    if U4G + 5 <= (TimerGetElapsed(E4))then
        call UnitRemoveAbility(m5, 'A0VW')
    endif
    call KG8(V_8)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set m5 = null
    return false
endfunction
function U7G takes unit m5 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(m5, 'A0VW')
    if TA8 == 0 then
        call O68(m5, 'A0VW')
    endif
    call SetUnitAbilityLevel(m5, 'A0VW', TA8 + 1)
    call SaveInteger(R8, (EC8), (30), (KJ8(m5)))
    call SaveReal(R8, (GetHandleId(m5)), (3007), (TimerGetElapsed(E4)))
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerAddCondition(t, Condition(function T_G))
    set t = null
endfunction
function U9G takes nothing returns nothing
    local trigger t
    local unit m5
    local unit p5
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        set m5 = GetSpellTargetUnit()
        set p5 = GetTriggerUnit()
    else
        set m5 = GetTriggerUnit()
        set p5 = GetEventDamageSource()
    endif
    if IsUnitIllusion(p5) == false then
        call U7G(m5)
    endif
    set m5 = null
    set p5 = null
endfunction
function UDG takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        if GetUnitAbilityLevel(GetEventDamageSource(), 'A0VV') > 0 and IsNormalAttack() and(LoadBoolean(R8, (GetHandleId(GetTriggeringTrigger())), (3008)))and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetEventDamageSource() == (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2)))then
            call U9G()
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if(GetIssuedOrderId() == OrderId("poisonarrows"))then
            call SaveBoolean(R8, (GetHandleId(GetTriggeringTrigger())), (3008), (true))
        elseif(GetIssuedOrderId() == OrderId("unpoisonarrows"))then
            call SaveBoolean(R8, (GetHandleId(GetTriggeringTrigger())), (3008), (false))
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0VV' then
        call U9G()
    endif
    return false
endfunction
function UEG takes unit p5 returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function UDG))
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (p5))
    call SaveBoolean(R8, (GetHandleId(t)), (3008), (true))
    set t = null
endfunction
function UFG takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction
function UGG takes nothing returns boolean
    if GetUnitTypeId(GetFilterUnit()) == 'n027' then
        return true
    endif
    return false
endfunction
function UHG takes player p returns nothing
    local group g = OG8()
    call GroupEnumUnitsOfPlayer(g, p, Condition(function UGG))
    call ForGroup(g, function UFG)
    call OF8(g)
    set g = null
endfunction
function UIG takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit oA
    local integer SVG = (LoadInteger(R8, (GetHandleId(p5)), (3001)))
    local integer SJG = (LoadInteger(R8, (GetHandleId(p5)), (3002)))
    call UHG(GetOwningPlayer(p5))
    set oA = CreateUnit(GetOwningPlayer(p5), 'n027', GetUnitX(p5), GetUnitY(p5), GetUnitFacing(p5))
    call SetUnitColor(oA, GetPlayerColor(G8[0]))
    call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", oA, "chest")
    call UnitApplyTimedLife(oA, 'BTLF', 10 + 10 * SVG)
    call FbSetAbilityRealLevelField(BlzGetUnitAbility(oA, 'A0VV'), ABILITY_RLF_CAST_RANGE, 1, 200 + 100 * SJG)
    call UEG(oA)
    if Ab[GetPlayerId(GetOwningPlayer(p5))]then
        call SelectUnitAddForPlayer(oA, GetOwningPlayer(p5))
    endif
    if SVG > 3 and SJG > 3 then
        set oA = CreateUnit(GetOwningPlayer(p5), 'n027', GetUnitX(p5), GetUnitY(p5), GetUnitFacing(p5))
        call SetUnitColor(oA, GetPlayerColor(G8[0]))
        call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", oA, "chest")
        call UnitApplyTimedLife(oA, 'BTLF', 10 + 10 * SVG)
        call FbSetAbilityRealLevelField(BlzGetUnitAbility(oA, 'A0VV'), ABILITY_RLF_CAST_RANGE, 1, 200 + 100 * SJG)
        call UEG(oA)
        if Ab[GetPlayerId(GetOwningPlayer(p5))]then
            call SelectUnitAddForPlayer(oA, GetOwningPlayer(p5))
        endif
    endif
    call SetPlayerTechResearched(GetOwningPlayer(p5), 'R00G', SJG)
    call SetPlayerTechResearched(GetOwningPlayer(p5), 'R00H', SVG)
    set p5 = null
    set oA = null
endfunction
function UJG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VO' then
        call UIG()
    endif
    return false
endfunction
function UKG takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UJG))
    call PY8('A0VV', GetRandomReal(1, 25))
    call PY8('A0VW', GetRandomReal(1, 25))
    set t = null
endfunction
function UOG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (681)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or LBD < (TimerGetElapsed(E4))then
        call UnitRemoveAbility(X77, 'A230')
        call UnitRemoveAbility(X77, 'B08Z')
    endif
    set t = null
    set X77 = null
    return false
endfunction
function UPG takes nothing returns nothing
    local unit Z77 = H04
    local unit X77 = GetEnumUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (681)))
    if LBD < (TimerGetElapsed(E4))then
        call O68(X77, 'A230')
        call FbSetAbilityRealLevelField(BlzGetUnitAbility(X77, 'A230'), ABILITY_RLF_MOVEMENT_SPEED_FACTOR_SLO1, 1, H64)
    endif
    call SaveReal(R8, (GetHandleId(X77)), (681), ((TimerGetElapsed(E4)) + 2.))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call TriggerRegisterTimerEvent(t, 2.01, false)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function UOG))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function UQG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real BJ7 = (LoadReal(R8, (W57), (6)))
    local real BK7 = (LoadReal(R8, (W57), (7)))
    local real a = (LoadReal(R8, (W57), (137)))
    local real VL8 = (LoadReal(R8, (W57), (57)))
    local integer ML8 = (LoadInteger(R8, (GetHandleId(Z77)), (3001)))
    local real x
    local real y
    local integer i = 1
    local integer C77 = GetTriggerEvalCount(t)
    local group g
    if C77 * 0.1 > VL8 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set g = OG8()
        set H04 = Z77
        set H64 =- 0.2 * ML8
        loop
            exitwhen i > 7
            set x = BJ7 + 80 * i * Cos((a + 90) * bj_DEGTORAD)
            set y = BK7 + 80 * i * Sin((a + 90) * bj_DEGTORAD)
            call GroupEnumUnitsInRange(g, x, y, 105, Condition(function GenericCondition_EnemyUnitsExNoImmuneWithAncient))
            call ForGroup(g, function UPG)
            set x = BJ7 + 80 * i * Cos((a - 90) * bj_DEGTORAD)
            set y = BK7 + 80 * i * Sin((a - 90) * bj_DEGTORAD)
            call GroupEnumUnitsInRange(g, x, y, 105, Condition(function GenericCondition_EnemyUnitsExNoImmuneWithAncient))
            call ForGroup(g, function UPG)
            set i = i + 1
        endloop
        call OF8(g)
        set g = null
    endif
    set t = null
    set g = null
    set Z77 = null
    return false
endfunction
function URG takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local real a = GetUnitFacing(p5)
    local integer i = 1
    local unit oA
    local real x
    local real y
    local real BJ7 = GetUnitX(p5) + 225 * Cos(a * bj_DEGTORAD)
    local real BK7 = GetUnitY(p5) + 225 * Sin(a * bj_DEGTORAD)
    local integer SVG = (LoadInteger(R8, (GetHandleId(p5)), (3001)))
    local integer SJG = (LoadInteger(R8, (GetHandleId(p5)), (3002)))
    local real VL8 = 1.5 + 1.5 * SVG
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    loop
        exitwhen i > 7
        set x = BJ7 + 80 * i * Cos((a + 90) * bj_DEGTORAD)
        set y = BK7 + 80 * i * Sin((a + 90) * bj_DEGTORAD)
        set oA = CreateUnit(GetOwningPlayer(p5), 'u00O', x, y, GetRandomReal(0, 360))
        call FbSetAbilityRealLevelField(BlzGetUnitAbility(oA, 'A0XN'), ABILITY_RLF_DAMAGE_PER_SECOND_TDG1, 1, 6 * SJG)
        call SetUnitAnimation(oA, "birth")
        call QueueUnitAnimation(oA, "stand")
        call UnitApplyTimedLife(oA, 'BTLF', VL8)
        set x = BJ7 + 80 * i * Cos((a - 90) * bj_DEGTORAD)
        set y = BK7 + 80 * i * Sin((a - 90) * bj_DEGTORAD)
        set oA = CreateUnit(GetOwningPlayer(p5), 'u00O', x, y, GetRandomReal(0, 360))
        call FbSetAbilityRealLevelField(BlzGetUnitAbility(oA, 'A0XN'), ABILITY_RLF_DAMAGE_PER_SECOND_TDG1, 1, 6 * SJG)
        call SetUnitAnimation(oA, "birth")
        call QueueUnitAnimation(oA, "stand")
        call UnitApplyTimedLife(oA, 'BTLF', VL8)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function UQG))
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call SaveReal(R8, (W57), (6), (BJ7))
    call SaveReal(R8, (W57), (7), (BK7))
    call SaveReal(R8, (W57), (137), (a))
    call SaveUnitHandle(R8, (W57), (2), (p5))
    call SaveReal(R8, (W57), (57), (VL8))
    set oA = null
    set p5 = null
    set t = null
endfunction
function USG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VP' then
        call URG()
    endif
    return false
endfunction
function UTG takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function USG))
    set t = null
endfunction
function UUG takes nothing returns nothing
    if ZS7(GetEnumUnit()) == false then
        call V08(H04, GetEnumUnit(), 3, H64)
    endif
endfunction
function UVG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit hn = (LoadUnitHandle(R8, (EC8), (14)))
    local real P99 = (LoadReal(R8, (EC8), (20)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local group g = OG8()
    local integer FWF
    set H04 = hn
    call GroupEnumUnitsInRange(g, x, y, 200, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    set FWF = BlzGroupGetSize(g)
    if FWF < 1 then
        set FWF = 1
    endif
    set H64 = P99 / FWF
    call ForGroup(g, function UUG)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", x, y))
    call OF8(g)
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set hn = null
    set g = null
    return false
endfunction
function UWG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit hn = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real P99 = (LoadInteger(R8, (GetHandleId(hn)), (3002))) * 62.5 + 12.5 + 25
    local string s = ""
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(hn)) == true or(L8 and(GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4))then
        set s = "Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl"
    endif
    call S18(GetOwningPlayer(hn), 5.7, x, y, 400)
    call TriggerRegisterTimerEvent(t, 1.7, false)
    call TriggerAddCondition(t, Condition(function UVG))
    call SaveUnitHandle(R8, (EC8), (14), (hn))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call SaveReal(R8, (EC8), (20), (P99))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffect(s, x, y)))
    call RemoveLocation(l)
    set t = null
    set hn = null
    set l = null
endfunction
function UXG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VG' then
        call UWG()
    endif
    return false
endfunction
function UYG takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UXG))
    set t = null
endfunction
function UZG takes unit TIG, unit target, integer TA8 returns nothing
    call V18(TIG, target, .4)
    if GU8(target) == false then
        call V08(TIG, target, AB4, TA8 * 7)
    endif
endfunction
function AS4I takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveInteger(R8, (GetHandleId(((LoadTriggerHandle(R8, (EC8), (35)))))), (((LoadInteger(R8, (EC8), (33))))), (2))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function AS6I takes trigger t, integer AS7I, real Hk returns nothing
    local trigger t2 = CreateTrigger()
    call TriggerAddCondition(t2, Condition(function AS4I))
    call TriggerRegisterTimerEvent(t2, Hk, false)
    call SaveInteger(R8, (GetHandleId((t))), ((AS7I)), (1))
    call SaveTriggerHandle(R8, (GetHandleId(t2)), (35), (t))
    call SaveInteger(R8, (GetHandleId(t2)), (33), (AS7I))
    set t2 = null
endfunction
function UBG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit m5 = KH8(V_8)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit TIG = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 10 and((LoadInteger(R8, (GetHandleId((t))), ((4263)))) == 1) == false and GetOwningPlayer(GetEventDamageSource()) != GetOwningPlayer(GetTriggerUnit())then
            call DisableTrigger(t)
            call UZG(TIG, m5, TA8)
            call EnableTrigger(t)
            call AS6I(t, 4263, 0.8 - TA8 * 0.0285)
        endif
    else
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set m5 = null
    set TIG = null
    return false
endfunction
function UCG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit hn = GetTriggerUnit()
    local unit m5 = GetSpellTargetUnit()
    local integer TA8 = (LoadInteger(R8, (GetHandleId(hn)), (3001)))
    call TriggerRegisterTimerEvent(t, 2.5 + TA8 * .5, false)
    call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function UBG))
    call SaveInteger(R8, (EC8), (30), (KJ8(m5)))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveUnitHandle(R8, (EC8), (2), (hn))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl", m5, "overhead")))
    call UZG(hn, m5, TA8)
    set t = null
    set hn = null
    set m5 = null
endfunction
function U3G takes nothing returns boolean
    if GetSpellAbilityId() == 'A0VZ' then
        call UCG()
    endif
    return false
endfunction
function U6G takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U3G))
    set t = null
endfunction
function VIG takes unit AM7, integer VJG, integer VKG, integer VMG returns nothing
    local integer Orb1 = 0
    local integer Orb2 = 0
    local integer Orb3 = 0
    local integer VNG
    local integer VOG
    local integer VPG
    local integer VQG
    local integer VRG
    local integer VSG
    local integer VTG
    local integer VUG
    local integer VVG
    call UnitRemoveAbility(AM7, 'A0DN')
    call UnitRemoveAbility(AM7, 'A0DG')
    call UnitRemoveAbility(AM7, 'A0IX')
    call UnitRemoveAbility(AM7, 'A0I1')
    call UnitRemoveAbility(AM7, 'A0I0')
    call UnitRemoveAbility(AM7, 'A0HZ')
    call UnitRemoveAbility(AM7, 'A0IC')
    call UnitRemoveAbility(AM7, 'A0IB')
    call UnitRemoveAbility(AM7, 'A0ID')
    call UnitRemoveAbility(AM7, 'A22C')
    call UnitRemoveAbility(AM7, 'A22D')
    call UnitRemoveAbility(AM7, 'A22E')
    call UnitRemoveAbility(AM7, 'A22F')
    call UnitRemoveAbility(AM7, 'A22G')
    call UnitRemoveAbility(AM7, 'A22H')
    call UnitRemoveAbility(AM7, 'A22I')
    call UnitRemoveAbility(AM7, 'A22J')
    call UnitRemoveAbility(AM7, 'A22K')
    if S7G(AM7, FB4) == null then
        set VNG = 'A0DN'
        set VOG = 'A0DG'
        set VPG = 'A0IX'
        set VQG = 'A0I1'
        set VRG = 'A0I0'
        set VSG = 'A0HZ'
        set VTG = 'A0IC'
        set VUG = 'A0IB'
        set VVG = 'A0ID'
    else
        set VNG = 'A22C'
        set VOG = 'A22D'
        set VPG = 'A22E'
        set VQG = 'A22F'
        set VRG = 'A22G'
        set VSG = 'A22H'
        set VTG = 'A22I'
        set VUG = 'A22J'
        set VVG = 'A22K'
    endif
    if VJG == 1 and VKG == 0 and VMG == 0 then
        call O68(AM7, VNG)
    elseif VJG == 0 and VKG == 1 and VMG == 0 then
        call O68(AM7, VQG)
    elseif VJG == 0 and VKG == 0 and VMG == 1 then
        call O68(AM7, VTG)
    elseif VJG == 2 and VKG == 0 and VMG == 0 then
        call O68(AM7, VNG)
        call O68(AM7, VOG)
    elseif VJG == 1 and VKG == 1 and VMG == 0 then
        call O68(AM7, VNG)
        call O68(AM7, VRG)
    elseif VJG == 1 and VKG == 0 and VMG == 1 then
        call O68(AM7, VNG)
        call O68(AM7, VUG)
    elseif VJG == 0 and VKG == 2 and VMG == 0 then
        call O68(AM7, VQG)
        call O68(AM7, VRG)
    elseif VJG == 0 and VKG == 1 and VMG == 1 then
        call O68(AM7, VQG)
        call O68(AM7, VUG)
    elseif VJG == 0 and VKG == 0 and VMG == 2 then
        call O68(AM7, VTG)
        call O68(AM7, VUG)
    elseif VJG == 3 and VKG == 0 and VMG == 0 then
        call O68(AM7, VNG)
        call O68(AM7, VOG)
        call O68(AM7, VPG)
    elseif VJG == 2 and VKG == 1 and VMG == 0 then
        call O68(AM7, VNG)
        call O68(AM7, VOG)
        call O68(AM7, VSG)
    elseif VJG == 2 and VKG == 0 and VMG == 1 then
        call O68(AM7, VNG)
        call O68(AM7, VOG)
        call O68(AM7, VVG)
    elseif VJG == 1 and VKG == 2 and VMG == 0 then
        call O68(AM7, VNG)
        call O68(AM7, VRG)
        call O68(AM7, VSG)
    elseif VJG == 1 and VKG == 1 and VMG == 1 then
        call O68(AM7, VNG)
        call O68(AM7, VRG)
        call O68(AM7, VVG)
    elseif VJG == 1 and VKG == 0 and VMG == 2 then
        call O68(AM7, VNG)
        call O68(AM7, VUG)
        call O68(AM7, VVG)
    elseif VJG == 0 and VKG == 1 and VMG == 2 then
        call O68(AM7, VTG)
        call O68(AM7, VUG)
        call O68(AM7, VSG)
    elseif VJG == 0 and VKG == 2 and VMG == 1 then
        call O68(AM7, VQG)
        call O68(AM7, VRG)
        call O68(AM7, VVG)
    elseif VJG == 0 and VKG == 0 and VMG == 3 then
        call O68(AM7, VTG)
        call O68(AM7, VUG)
        call O68(AM7, VVG)
    elseif VJG == 0 and VKG == 3 and VMG == 0 then
        call O68(AM7, VQG)
        call O68(AM7, VRG)
        call O68(AM7, VSG)
    endif
endfunction
function A8F takes nothing returns nothing
    local unit AM7 = H04
    local integer W57 = GetHandleId(AM7)
    local integer VWG = (LoadInteger(R8, (W57), (3010)))
    local integer VXG = (LoadInteger(R8, (W57), (3011)))
    local integer VYG = (LoadInteger(R8, (W57), (3012)))
    local integer VJG = 0
    local integer VKG = 0
    local integer VMG = 0
    if VWG == 'A21X' then
        set VJG = VJG + 1
    elseif VWG == 'A21W' then
        set VKG = VKG + 1
    elseif VWG == 'A21V' then
        set VMG = VMG + 1
    endif
    if VXG == 'A21X' then
        set VJG = VJG + 1
    elseif VXG == 'A21W' then
        set VKG = VKG + 1
    elseif VXG == 'A21V' then
        set VMG = VMG + 1
    endif
    if VYG == 'A21X' then
        set VJG = VJG + 1
    elseif VYG == 'A21W' then
        set VKG = VKG + 1
    elseif VYG == 'A21V' then
        set VMG = VMG + 1
    endif
    call SaveInteger(R8, (W57), (3000), (LoadInteger(R8, (W57), (3000)) + 1))
    call SaveInteger(R8, (W57), (3001), (LoadInteger(R8, (W57), (3001)) + 1))
    call SaveInteger(R8, (W57), (3002), (LoadInteger(R8, (W57), (3002)) + 1))
    call VIG(AM7, VJG, VKG, VMG)
    set AM7 = null
endfunction
function InvokerAghanimOff takes nothing returns nothing
    local unit AM7 = H04
    local integer W57 = GetHandleId(AM7)
    local integer VWG = (LoadInteger(R8, (W57), (3010)))
    local integer VXG = (LoadInteger(R8, (W57), (3011)))
    local integer VYG = (LoadInteger(R8, (W57), (3012)))
    local integer VJG = 0
    local integer VKG = 0
    local integer VMG = 0
    if VWG == 'A21X' then
        set VJG = VJG + 1
    elseif VWG == 'A21W' then
        set VKG = VKG + 1
    elseif VWG == 'A21V' then
        set VMG = VMG + 1
    endif
    if VXG == 'A21X' then
        set VJG = VJG + 1
    elseif VXG == 'A21W' then
        set VKG = VKG + 1
    elseif VXG == 'A21V' then
        set VMG = VMG + 1
    endif
    if VYG == 'A21X' then
        set VJG = VJG + 1
    elseif VYG == 'A21W' then
        set VKG = VKG + 1
    elseif VYG == 'A21V' then
        set VMG = VMG + 1
    endif
    call SaveInteger(R8, (W57), (3000), (LoadInteger(R8, (W57), (3000)) - 1))
    call SaveInteger(R8, (W57), (3001), (LoadInteger(R8, (W57), (3001)) - 1))
    call SaveInteger(R8, (W57), (3002), (LoadInteger(R8, (W57), (3002)) - 1))
    call VIG(AM7, VJG, VKG, VMG)
    set AM7 = null
endfunction
function U0G takes unit N28 returns nothing
    local integer EC8 = GetHandleId(N28)
    local boolean U5G = (LoadBoolean(R8, (EC8), (3003)))
    local trigger t
    if U5G then
        call SaveBoolean(R8, (EC8), (3003), (false))
        set t = (LoadTriggerHandle(R8, (EC8), (3006)))
        call FlushChildHashtable(R8, (GetHandleId(t)))
        call EA8(t)
        call RemoveSavedHandle(R8, (EC8), (3006))
    endif
    set t = null
endfunction
function ULG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    call SetUnitState(N28, UNIT_STATE_LIFE, GetUnitState(N28, UNIT_STATE_LIFE) + TA8 * 1)
    set t = null
    set N28 = null
    return false
endfunction
function U1G takes unit N28, integer TA8 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(N28)
    call SaveBoolean(R8, (EC8), (3003), (true))
    call SaveTriggerHandle(R8, (EC8), (3006), (t))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (N28))
    call SaveInteger(R8, (GetHandleId(t)), (5), (TA8))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function ULG))
    set t = null
endfunction
function VDG takes nothing returns nothing
    local integer VEG = 0
    local unit N28 = GetTriggerUnit()
    local integer EC8 = GetHandleId(N28)
    local integer U_G = (LoadInteger(R8, (EC8), (3013)))
    local integer V4G = (LoadInteger(R8, (EC8), (3014)))
    local integer V7G = (LoadInteger(R8, (EC8), (3015)))
    local integer K38 = (LoadInteger(R8, (EC8), (3016)))
    local integer K68 = (LoadInteger(R8, (EC8), (3017)))
    local integer TA8 = GetUnitAbilityLevel(N28, 'A21Y')
    local boolean MBE = false
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1GU')
        set MBE = true
    endif
    if U_G == 3 and V4G == 0 and V7G == 0 then
        set VEG = 1
    elseif U_G == 2 and V4G == 1 and V7G == 0 then
        set VEG = 2
    elseif U_G == 2 and V4G == 0 and V7G == 1 then
        set VEG = 3
    elseif U_G == 1 and V4G == 2 and V7G == 0 then
        set VEG = 4
    elseif U_G == 1 and V4G == 1 and V7G == 1 then
        set VEG = 5
    elseif U_G == 1 and V4G == 0 and V7G == 2 then
        set VEG = 6
    elseif U_G == 0 and V4G == 1 and V7G == 2 then
        set VEG = 7
    elseif U_G == 0 and V4G == 2 and V7G == 1 then
        set VEG = 8
    elseif U_G == 0 and V4G == 0 and V7G == 3 then
        set VEG = 9
    elseif U_G == 0 and V4G == 3 and V7G == 0 then
        set VEG = 10
    endif
    if K38 != 0 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), K38, false)
    endif
    if K68 != 0 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), K68, false)
    endif
    if YS[VEG] == K68 or YS[VEG] == K38 then
        if MBE then
            call UnitRemoveAbility(N28, 'A1GU')
            call UnitAddAbility(N28, 'A1GU')
            call SetUnitAbilityLevel(N28, 'A1GU', TA8)
        else
            call UnitRemoveAbility(N28, 'A21Y')
            call UnitAddAbility(N28, 'A21Y')
            call SetUnitAbilityLevel(N28, 'A21Y', TA8)
        endif
        if YS[VEG] == K68 then
            set K68 = K38
        endif
    endif
    set K38 = K68
    set K68 = YS[VEG]
    call SaveInteger(R8, (EC8), (3016), (K38))
    call SaveInteger(R8, (EC8), (3017), (K68))
    if K38 != 0 then
        call BlzSetAbilityIntegerField(BlzGetUnitAbility(N28, K38), ABILITY_IF_BUTTON_POSITION_NORMAL_X, 2)
        call BlzSetAbilityIntegerField(BlzGetUnitAbility(N28, K38), ABILITY_IF_BUTTON_POSITION_NORMAL_Y, 1)
    endif
    if K68 != 0 then
        call BlzSetAbilityIntegerField(BlzGetUnitAbility(N28, K68), ABILITY_IF_BUTTON_POSITION_NORMAL_X, 1)
        call BlzSetAbilityIntegerField(BlzGetUnitAbility(N28, K68), ABILITY_IF_BUTTON_POSITION_NORMAL_Y, 1)
    endif
    if K38 != 0 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), K38, true)
    endif
    if K68 != 0 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), K68, true)
    endif
    call TEG(N28)
    set N28 = null
endfunction
function U2G takes unit N28 returns nothing
    local integer EC8 = GetHandleId(N28)
    local integer U_G = (LoadInteger(R8, (EC8), (3013)))
    local integer V4G = (LoadInteger(R8, (EC8), (3014)))
    local integer V7G = (LoadInteger(R8, (EC8), (3015)))
    local integer SIG = (LoadInteger(R8, (EC8), (3000)))
    local integer SVG = (LoadInteger(R8, (EC8), (3001)))
    local integer SJG = (LoadInteger(R8, (EC8), (3002)))
    call UnitRemoveAbility(N28, 'A0WD')
    call UnitRemoveAbility(N28, 'A0VE')
    call U0G(N28)
    call UnitRemoveAbility(N28, 'A0V7')
    if U_G > 0 then
        call O68(N28, 'A0WD')
        call O68(N28, 'A0VE')
        call SetUnitAbilityLevel(N28, 'A0WD', U_G * SIG)
        call SetUnitAbilityLevel(N28, 'A0VE', U_G * SIG)
        call SetPlayerAbilityAvailable(GetOwningPlayer(N28), 'A0WD', false)
    endif
    if V4G > 0 then
        call U1G(N28, V4G * SVG)
    endif
    if V7G > 0 then
        call O68(N28, 'A0V7')
        call SetUnitAbilityLevel(N28, 'A0V7', V7G * SJG)
    endif
endfunction
function VZG takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer EC8 = GetHandleId(N28)
    local integer AJR4 = GetSpellAbilityId()
    local integer VBG = (LoadInteger(R8, (EC8), (3010)))
    local integer VCG = (LoadInteger(R8, (EC8), (3011)))
    local integer V3G = (LoadInteger(R8, (EC8), (3012)))
    local integer U_G = 0
    local integer V4G = 0
    local integer V7G = 0
    set VBG = VCG
    set VCG = V3G
    set V3G = AJR4
    if VBG == 'A21X' then
        set U_G = U_G + 1
    elseif VBG == 'A21W' then
        set V4G = V4G + 1
    elseif VBG == 'A21V' then
        set V7G = V7G + 1
    endif
    if VCG == 'A21X' then
        set U_G = U_G + 1
    elseif VCG == 'A21W' then
        set V4G = V4G + 1
    elseif VCG == 'A21V' then
        set V7G = V7G + 1
    endif
    if V3G == 'A21X' then
        set U_G = U_G + 1
    elseif V3G == 'A21W' then
        set V4G = V4G + 1
    elseif V3G == 'A21V' then
        set V7G = V7G + 1
    endif
    call SaveInteger(R8, (EC8), (3010), (VBG))
    call SaveInteger(R8, (EC8), (3011), (VCG))
    call SaveInteger(R8, (EC8), (3012), (V3G))
    call SaveInteger(R8, (EC8), (3013), (U_G))
    call SaveInteger(R8, (EC8), (3014), (V4G))
    call SaveInteger(R8, (EC8), (3015), (V7G))
    call VIG(N28, U_G, V4G, V7G)
    call U2G(N28)
    call TEG(N28)
    set N28 = null
endfunction
function V8G takes nothing returns boolean
    if IsUnitIllusion(GetTriggerUnit()) == false and(GetLearnedSkill() == 'A21X' or GetLearnedSkill() == 'A21W' or GetLearnedSkill() == 'A21V')then
        if GetLearnedSkill() == 'A21X' then
            call SetHeroAgi(GetTriggerUnit(), GetHeroAgi(GetTriggerUnit(), false) + 2, true)
            call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (3000), (LoadInteger(R8, (GetHandleId(GetTriggerUnit())), (3000)) + 1))
        endif
        if GetLearnedSkill() == 'A21W' then
            call SetHeroStr(GetTriggerUnit(), GetHeroStr(GetTriggerUnit(), false) + 2, true)
            call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (3001), (LoadInteger(R8, (GetHandleId(GetTriggerUnit())), (3001)) + 1))
        endif
        if GetLearnedSkill() == 'A21V' then
            call SetHeroInt(GetTriggerUnit(), GetHeroInt(GetTriggerUnit(), false) + 2, true)
            call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (3002), (LoadInteger(R8, (GetHandleId(GetTriggerUnit())), (3002)) + 1))
        endif
        call U2G(GetTriggerUnit())
    endif
    return false
endfunction
function V6G takes nothing returns boolean
    if GetSpellAbilityId() == 'A21X' or GetSpellAbilityId() == 'A21W' or GetSpellAbilityId() == 'A21V' then
        call VZG()
    elseif GetSpellAbilityId() == 'A21Y' or GetSpellAbilityId() == 'A1GU' then
        call VDG()
    endif
    return false
endfunction
function FU9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call PU8(YS[1])
    call PU8(YS[2])
    call PU8(YS[3])
    call PU8(YS[4])
    call PU8(YS[5])
    call PU8(YS[6])
    call PU8(YS[7])
    call PU8(YS[8])
    call PU8(YS[9])
    call PU8(YS[10])
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V6G))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function V8G))
    set t = null
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15., GetObjectName('n06G'))
    call PY8('A0XO', GetRandomReal(1, 25))
    call PY8('A0WD', GetRandomReal(1, 25))
    call PY8('A0VE', GetRandomReal(1, 25))
    call PY8('A0V7', GetRandomReal(1, 25))
    call PY8('A21V', GetRandomReal(1, 25))
    call PY8('A21X', GetRandomReal(1, 25))
    call PY8('A21W', GetRandomReal(1, 25))
    call SMG()
    call SAG()
    call T4G()
    call TGG()
    call TVG()
    call T2G()
    call UKG()
    call UTG()
    call UYG()
    call U6G()
endfunction
function VLG takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    call T68(GetEnumUnit(), S64, 1, 8, 'B0BV')
    call UnitMakeAbilityPermanent(GetEnumUnit(), true, S64)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), S64, false)
endfunction
function V1G takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2IS')
    local group g = OG8()
    if ML8 == 1 then
        set S64 = 'A1F6'
    elseif ML8 == 2 then
        set S64 = 'A1F7'
    elseif ML8 == 3 then
        set S64 = 'A1F3'
    elseif ML8 == 4 then
        set S64 = 'A1F5'
    endif
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 925, Condition(function U48))
    call ForGroup(g, function VLG)
    call OF8(g)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", Z77, "overhead"))
    set Z77 = null
    set g = null
endfunction
function V0G takes nothing returns boolean
    if GetSpellAbilityId() == 'A2IS' then
        call V1G()
    endif
    return false
endfunction
function FW9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V0G))
    set t = null
endfunction
function V5G takes nothing returns nothing
    call V18(SL4, GetEnumUnit(), 2)
    call V08(SL4, GetEnumUnit(), AB4, KD7 * 75 + 25)
endfunction
function V2G takes unit p5, unit target, integer TA8 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    local integer abl_id
    local group g = OG8()
    set KD7 = TA8
    set H04 = p5
    call GroupEnumUnitsInRange(g, GetUnitX(target), GetUnitY(target), 280, Condition(function GenericCondition_EnemyUnitsEx))
    call GroupAddUnit(g, target)
    set SL4 = AC7
    call ForGroup(g, function V5G)
    call OF8(g)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl", target, "origin"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl", target, "origin"))
    set AC7 = null
    set g = null
endfunction
function V_G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (14)))
    local integer QRD = (LoadInteger(R8, (EC8), (30)))
    local unit m5 = KH8(QRD)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local unit VA8 = (LoadUnitHandle(R8, (EC8), (45)))
    local real x = GetUnitX(VA8)
    local real y = GetUnitY(VA8)
    local real Y5 = GetUnitX(m5)
    local real Z5 = GetUnitY(m5)
    local real F4 = 1000 * .035
    local real l4 = YI7(x, y, Y5, Z5)
    local real X0D = x + F4 * Cos(l4 * bj_DEGTORAD)
    local real X5D = y + F4 * Sin(l4 * bj_DEGTORAD)
    local boolean UN9 = (LoadBoolean(R8, (EC8), (249)))
    call SetUnitX(VA8, X0D)
    call SetUnitY(VA8, X5D)
    call SetUnitFacing(VA8, l4)
    if((LoadInteger(R8, (GetHandleId(m5)), (4422))) == 1)then
        set UN9 = false
        call SaveBoolean(R8, (EC8), (249), (UN9))
    endif
    if Z87(Y5, Z5, X0D, X5D) <= F4 then
        if UN9 then
            call V2G(p5, m5, TA8)
        endif
        call KillUnit(VA8)
        call KG8(QRD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set m5 = null
    set VA8 = null
    return false
endfunction
function W4G takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A190')
    local unit m5 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit VA8 = CreateUnit(GetOwningPlayer(p5), 'h07Q', GetUnitX(p5), GetUnitY(p5), YI7(GetUnitX(p5), GetUnitY(p5), GetUnitX(m5), GetUnitY(m5)))
    local boolean UN9 = OE8(GetSpellTargetUnit()) == false
    call SaveBoolean(R8, (EC8), (249), (UN9))
    call SaveUnitHandle(R8, (EC8), (14), (p5))
    call SaveInteger(R8, (EC8), (30), (KJ8(m5)))
    call SaveUnitHandle(R8, (EC8), (45), (VA8))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call TriggerRegisterTimerEvent(t, .035, true)
    call TriggerAddCondition(t, Condition(function V_G))
    set t = null
    set p5 = null
    set m5 = null
    set VA8 = null
endfunction
function W7G takes nothing returns boolean
    if GetSpellAbilityId() == 'A190' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl", GetTriggerUnit(), "weapon"))
        else
            call W4G()
        endif
    endif
    return false
endfunction
function FV9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function W7G))
    set t = null
endfunction
function W8G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer TA8 = (LoadInteger(R8, (W57), (5)))
    local boolean C7D = (AV7(AM7, BU[AL50]) != null or GetUnitAbilityLevel(AM7, 'A3E7') > 0)
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT then
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
    endif
    if(GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT and C77 > 1)or(GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and TG9(GetSpellAbilityId())and GetSpellTargetUnit() == AM7)then
        if(GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT and C77 > 1)then
            if O18(AM7) == false then
                call UnitRemoveAbility(AM7, 'A2Z7')
                call UnitRemoveAbility(AM7, 'A2Z9')
                call UnitRemoveAbility(AM7, 'A2Z8')
                call UnitRemoveAbility(AM7, 'A0WO')
                call UnitRemoveAbility(AM7, 'A31E')
                call UnitRemoveAbility(AM7, 'B009')
                call UnitRemoveAbility(AM7, 'B0DP')
                call UnitRemoveAbility(AM7, 'B0HN')
                call UnitRemoveAbility(AM7, 'B0HO')
                call UnitRemoveAbility(AM7, 'A31V')
                call UnitRemoveAbility(AM7, 'A31U')
                call UnitRemoveAbility(AM7, 'A31W')
            endif
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    elseif GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT then
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BattleCryCaster.mdx", AM7, "overhead"))
        if C7D then
            if TA8 == 1 then
                call O68(AM7, 'A2Z7')
                call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A2Z7', false)
                call O68(AM7, 'A31V')
                call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A31V', false)
            endif
            if TA8 == 2 then
                call O68(AM7, 'A2Z9')
                call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A2Z9', false)
                call O68(AM7, 'A31U')
                call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A31U', false)
            endif
            if TA8 == 3 then
                call O68(AM7, 'A2Z8')
                call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A2Z8', false)
                call O68(AM7, 'A31W')
                call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A31W', false)
            endif
        else
            call O68(AM7, 'A0WO')
            call SetUnitAbilityLevel(AM7, 'A0WO', GetUnitAbilityLevel(AM7, 'A1WH'))
            call UnitMakeAbilityPermanent(AM7, true, 'A0WO')
            call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A0WO', false)
        endif
    endif
    set t = null
    set AM7 = null
    return false
endfunction
function W9G takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(AM7, 'A1WH')
    call TriggerRegisterTimerEvent(t, 25, false)
    call TriggerRegisterTimerEvent(t, 0.31, false)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W8G))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveInteger(R8, (W57), (5), (TA8))
    set t = null
    set AM7 = null
endfunction
function WDG takes nothing returns boolean
    if GetSpellAbilityId() == 'A1WH' and GetUnitTypeId(GetTriggerUnit()) == 'H001' then
        call W9G()
    endif
    return false
endfunction
function FX9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WDG))
    set t = null
endfunction
function WEG takes nothing returns nothing
    local location l
    local unit N28 = GetTriggerUnit()
    local real x1 = GetUnitX(N28)
    local real y1 = GetUnitY(N28)
    local real a
    local real x2
    local real y2
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0X5')
    local real P99
    local real Hk
    local unit m5 = null
    local real d = ALR(N28, 700)
    if GetSpellTargetUnit() != null then
        set l = GetUnitLoc(GetSpellTargetUnit())
    else
        set l = GetSpellTargetLoc()
    endif
    set x2 = GetLocationX(l)
    set y2 = GetLocationY(l)
    set a = Atan2(y2 - y1, x2 - x1)
    set x2 = x1 + d * Cos(a)
    set y2 = y1 + d * Sin(a)
    if TA8 == 1 then
        set P99 = 80
        set Hk = .5
    elseif TA8 == 2 then
        set P99 = 140
        set Hk = 1
    elseif TA8 == 3 then
        set P99 = 200
        set Hk = 1.5
    elseif TA8 == 4 then
        set P99 = 260
        set Hk = 2
    endif
    if GetSpellTargetUnit() != null and OE8(GetSpellTargetUnit())then
        set m5 = GetSpellTargetUnit()
    endif
    call G4F(N28, m5, P99, Hk, .58, x1, y1, x2, y2, 150, null, true, 1600)
    call RemoveLocation(l)
    set l = null
    set N28 = null
    set m5 = null
endfunction
function WFG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0X5' then
        call WEG()
    endif
    return false
endfunction
function FY9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WFG))
    call PU8('A0X6')
    set t = null
endfunction
function WGG takes nothing returns boolean
    if(GetSpellAbilityId() == 'A095' or GetSpellAbilityId() == 'A09W')and GU8(GetSpellTargetUnit())then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0LR'))
    endif
    return false
endfunction
function FZ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function WGG))
    set t = null
endfunction
function WHG takes nothing returns nothing
    local location l
    local unit N28 = GetTriggerUnit()
    local real x1 = GetUnitX(N28)
    local real y1 = GetUnitY(N28)
    local real a
    local real x2
    local real y2
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0X7')
    local real P99
    local real Hk
    local unit m5 = null
    local real r = 700.
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A3D0')
        set r = 1225.
    endif
    set r = ALR(N28, r)
    if GetSpellTargetUnit() != null then
        set l = GetUnitLoc(GetSpellTargetUnit())
    else
        set l = GetSpellTargetLoc()
    endif
    set x2 = GetLocationX(l)
    set y2 = GetLocationY(l)
    set a = Atan2(y2 - y1, x2 - x1)
    set x2 = x1 + r * Cos(a)
    set y2 = y1 + r * Sin(a)
    if TA8 == 1 then
        set P99 = 80
        set Hk = 1.
    elseif TA8 == 2 then
        set P99 = 140
        set Hk = 1.4
    elseif TA8 == 3 then
        set P99 = 200
        set Hk = 1.8
    elseif TA8 == 4 then
        set P99 = 260
        set Hk = 2.2
    endif
    if GetSpellTargetUnit() != null and OE8(GetSpellTargetUnit())then
        set m5 = GetSpellTargetUnit()
    endif
    call G4F(N28, m5, P99, Hk, .6, x1, y1, x2, y2, 150, null, true, 1600)
    call RemoveLocation(l)
    set l = null
    set N28 = null
    set m5 = null
endfunction
function WIG takes nothing returns boolean
    if GetSpellAbilityId() == 'A0X7' or GetSpellAbilityId() == 'A3D0' then
        call WHG()
    endif
    return false
endfunction
function FA9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WIG))
    call PU8('A0X6')
    set t = null
endfunction
function WJG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1H5') + GetUnitAbilityLevel(Z77, 'A3CY')
    local real r = GetHeroInt(X77, true) * (3 + .5 * ML8)
    local integer P8D = IMinBJ(R2I(r), R2I(GetUnitState(X77, UNIT_STATE_MANA)))
    call SetUnitState(X77, UNIT_STATE_MANA, GetUnitState(X77, UNIT_STATE_MANA) - P8D)
    call V08(Z77, X77, AB4, P8D)
    call GMD("MBUR", Z77, X77, 1, 1, 1, 1, .5)
    call QM8("-" + I2S(P8D), 3, X77, .023, 82, 82, 255, 255)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl", X77, "chest"))
    set Z77 = null
    set X77 = null
endfunction
function WKG takes nothing returns boolean
    if (GetSpellAbilityId() == 'A1H5' or GetSpellAbilityId() == 'A3CY') and OE8(GetSpellTargetUnit()) == false then
        call WJG()
    endif
    return false
endfunction
function FB9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WKG))
    set t = null
endfunction
function WMG takes nothing returns nothing
    call IssueTargetOrderById(U54, 852668, GetEnumUnit())
endfunction
function WNG takes nothing returns nothing
    local unit W8D = GetTriggerUnit()
    local real x = GetUnitX(W8D)
    local real y = GetUnitY(W8D)
    local unit CKE = CreateUnit(GetOwningPlayer(W8D), 'e00E', x, y, 0)
    local group g = OG8()
    set U54 = CKE
    call O68(CKE, 'A1GG')
    call GroupEnumUnitsInRange(g, x, y, 325, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function WMG)
    call OF8(g)
    call KillUnit(W8D)
    call SetUnitAnimation(W8D, "death")
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl", x, y))
    set W8D = null
    set CKE = null
    set g = null
endfunction
function WOG takes nothing returns boolean
    if GetSpellAbilityId() == 'A1HH' then
        call WNG()
    endif
    return false
endfunction
function FC9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WOG))
    call PU8('A1GG')
    set t = null
endfunction
function WPG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2KO') + GetUnitAbilityLevel(Z77, 'A3CZ')
    local group XCD = (LoadGroupHandle(R8, (W57), (22)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 0 and IsPlayerEnemy(GetOwningPlayer(GetEventDamageSource()), GetOwningPlayer(Z77)) then
            if KP8(GetOwningPlayer(GetEventDamageSource()))and W18(GetEventDamage())then
                set X77 = GetEventDamageSource()
                if GetUnitAbilityLevel(X77, 'A04R') > 0 then
                    set X77 = Y7[GetPlayerId(GetOwningPlayer(X77))]
                endif
                if IsUnitInGroup(X77, XCD) == false then
                    call GroupAddUnit(XCD, X77)
                    if O18(X77) == false then
                        call V18(Z77, X77, .6 * ML8)
                        call V08(Z77, X77, A34, GetEventDamage())
                    endif
                    call BlzSetEventDamage(0.)
                    set X77 = null
                endif
            endif
        endif
    else
        call UnitRemoveAbility(Z77, 'A2KP')
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set XCD = null
    return false
endfunction
function SpikedAghanimStunt takes nothing returns nothing
    call V18(H04, GetEnumUnit(), .6 * GetUnitAbilityLevel(H04, 'A3CZ'))
endfunction
function WQG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local group g = OG8()
    if GetSpellAbilityId() == 'A3CZ' then
        set H04 = Z77
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 325, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g, function SpikedAghanimStunt)
    endif
    call TriggerRegisterTimerEvent(t, 2.25, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function WPG))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveGroupHandle(R8, (W57), (22), (g))
    call O68(Z77, 'A2KP')
    set Z77 = null
    set g = null
    set t = null
endfunction
function WRG takes nothing returns boolean
    if GetSpellAbilityId() == 'A2KO' or GetSpellAbilityId() == 'A3CZ' then
        call WQG()
    endif
    return false
endfunction
function F39 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WRG))
    set t = null
endfunction
function UnburrowAdjust takes unit Z77 returns nothing
    call UnitRemoveAbility(Z77, 'A3D3')
    call UnitAddAbility(Z77, 'A3CU')
    call UnitRemoveAbility(Z77, 'A3CU')
    call SetUnitAnimation(Z77, "morph defend")
    call BlzUnitHideAbility(Z77, 'A3CT', false)
    call QueueUnitAnimation(Z77, "stand")
endfunction
function BurrowMorphAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = LoadUnitHandle(R8, (EC8), (14))
    call SetUnitAnimation(N28, "morph")
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set N28 = null
    set t = null
endfunction
function BurrowMorph takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerAddAction(t, function BurrowMorphAction)
    call SaveUnitHandle(R8, GetHandleId(t), (14), (N28))
    set t = null
endfunction
function BurrowAftermath takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = LoadUnitHandle(R8, (EC8), (2))
    local real x = LoadReal(R8, (EC8), (6))
    local real y = LoadReal(R8, (EC8), (7))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnburrowAdjust(Z77)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetUnitTypeId(Z77) != 'U0A9' or GetHandleId(Z77) == 0 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if O18(Z77) == false then
            call SetWidgetLife(Z77, GetWidgetLife(Z77) + GetUnitState(Z77, UNIT_STATE_MAX_LIFE) * .003)
            call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) + GetUnitState(Z77, UNIT_STATE_MAX_MANA) * .003)
            if GetUnitX(Z77) != x or GetUnitY(Z77) != y then
                call SetUnitPosition(Z77, GetUnitX(Z77), GetUnitY(Z77))
                call SaveReal(R8, EC8, (6), GetUnitX(Z77))
                call SaveReal(R8, EC8, (7), GetUnitY(Z77))
            endif
        endif
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function BurrowEffect takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call UnitAddAbility(Z77, 'A3CS')
    call UnitRemoveAbility(Z77, 'A3CS')
    call UnitAddAbility(Z77, 'A3D3')
    call BlzUnitHideAbility(Z77, 'A3CT', true)
    call UnitRemoveAbility(Z77, 'Amov')
    call BurrowMorph(Z77)
    call AddUnitAnimationProperties(GetTriggerUnit(), "alternate", false)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function BurrowAftermath))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveReal(R8, (EC8), (6), GetUnitX(Z77))
    call SaveReal(R8, (EC8), (7), GetUnitY(Z77))
    set t = null
    set Z77 = null
endfunction
function Burrow_Condt takes nothing returns boolean
    if GetSpellAbilityId() == 'A3CT' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call BurrowMorph(GetTriggerUnit())
        else
            call BurrowEffect()
        endif
    elseif GetSpellAbilityId() == 'A3CV' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call UnburrowAdjust(GetTriggerUnit())
        endif
    elseif GetSpellAbilityId() == 'A09U' and GetUnitTypeId(GetTriggerUnit()) == 'U0A9' then
        call UnburrowAdjust(GetTriggerUnit())
    endif
    return false
endfunction
function Register_Burrow takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function Burrow_Condt))
    call GVD('A3D3')
    set t = null
endfunction
function WSG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local group g = (LoadGroupHandle(R8, (W57), (22)))
    call OF8(g)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set g = null
    return false
endfunction
function WTG takes group g returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveGroupHandle(R8, (W57), (22), (g))
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function WSG))
    set t = null
endfunction
function WUG takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit AC7
    local integer i = 1
    local real x1 = GetUnitX(AM7)
    local real y1 = GetUnitY(AM7)
    local real x2
    local real y2
    local real P08
    local real VL8
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A29I')
    local group g = OG8()
    if ML8 == 1 then
        set VL8 = 1.4
        set P08 = 200
    elseif ML8 == 2 then
        set VL8 = 1.8
        set P08 = 290
    elseif ML8 == 3 then
        set VL8 = 2.2
        set P08 = 380
    endif
    loop
        exitwhen i > 16
        set x2 = x1 + 800. * Cos(22.5 * i * bj_DEGTORAD)
        set y2 = y1 + 800. * Sin(22.5 * i * bj_DEGTORAD)
        call G4F(AM7, null, P08, VL8, .6, x1, y1, x2, y2, 250, g, false, 775)
        set i = i + 1
    endloop
    call WTG(g)
    set AM7 = null
    set AC7 = null
    set g = null
endfunction
function WVG takes nothing returns boolean
    if GetSpellAbilityId() == 'A29I' then
        call WUG()
    endif
    return false
endfunction
function L28 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WVG))
    call PU8('A0X6')
    set t = null
endfunction
function WWG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real LBD = (LoadReal(R8, (GetHandleId(X77)), (715)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or LBD < (TimerGetElapsed(E4))then
        call UnitRemoveAbility(X77, 'A228')
        call UnitRemoveAbility(X77, 'A2Y7')
        call UnitRemoveAbility(X77, 'A2Y6')
        call UnitRemoveAbility(X77, 'A2Y5')
        call UnitRemoveAbility(X77, 'B0HA')
        call UnitRemoveAbility(X77, 'B0E8')
        call UnitRemoveAbility(X77, 'B0HB')
        call UnitRemoveAbility(X77, 'B0H9')
    endif
    set t = null
    set X77 = null
    return false
endfunction
function WXG takes unit X77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(CM4, 'A226')
    if TA8 == 1 then
        call O68(X77, 'A228')
    elseif TA8 == 2 then
        call O68(X77, 'A2Y7')
    elseif TA8 == 3 then
        call O68(X77, 'A2Y6')
    elseif TA8 == 4 then
        call O68(X77, 'A2Y5')
    endif
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterTimerEvent(t, 6., false)
    call TriggerAddCondition(t, Condition(function WWG))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (GetHandleId(X77)), (715), ((5.9 + (TimerGetElapsed(E4))) * 1.))
    set t = null
endfunction
function WYG takes nothing returns nothing
    if S_9(GetEnumUnit()) == false then
        call WXG(GetEnumUnit())
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A228', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A2Y7', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A2Y6', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A2Y5', false)
    call V08(CM4, GetEnumUnit(), AC4, 25 + 50 * CN4)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl", GetEnumUnit(), "chest"))
endfunction
function WZG takes nothing returns nothing
    local group g = OG8()
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A226')
    set H04 = Z77
    set CN4 = ML8
    set CM4 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 375 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(g, function WYG)
    call OF8(g)
    set g = null
    set Z77 = null
endfunction
function WAG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call SetUnitTimeScale(Z77, 1)
    set t = null
    set Z77 = null
    return false
endfunction
function WBG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .3, false)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function WAG))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SetUnitTimeScale(Z77, 2)
    set t = null
    set Z77 = null
endfunction
function WCG takes nothing returns boolean
    if GetSpellAbilityId() == 'A226' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call WZG()
        else
            call WBG()
        endif
    endif
    return false
endfunction
function L_8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function WCG))
    set t = null
endfunction
function W3G takes nothing returns nothing
    local integer EC8 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H04
    local unit X77 = H54
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real P99 = 20 + TA8 * 40
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A03Q')
    if IsUnitType(X77, UNIT_TYPE_HERO) == true then
        set P99 = P99 / 2
    endif
    if ML8 > 0 and GetRandomReal(0, 100) < 15 then
        set P99 = P99 * (1.2 + 1.1 * ML8)
        call QM8(I2S(R2I(P99)) + "!", 3, X77, 0.02, 255, 0, 0, 255)
    endif
    call O68(AC7, 'A0YL')
    call SetUnitAbilityLevel(AC7, 'A0YL', TA8)
    call IssueTargetOrder(AC7, "slow", X77)
    call UnitDamageTarget(Z77, X77, P99, true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function W6G takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = T88(AM7, X77, 'h010', "W3G", 1200, true)
    local integer EC8 = GetHandleId(t)
    call SaveInteger(R8, (EC8), (5), (GetUnitAbilityLevel(AM7, 'A0YM')))
    set AM7 = null
    set X77 = null
    set t = null
endfunction
function W1G takes nothing returns boolean
    if GetSpellAbilityId() == 'A0YM' and OE8(GetSpellTargetUnit()) == false then
        call W6G()
    endif
    return false
endfunction
function LI8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W1G))
    set t = null
endfunction
function W0G takes nothing returns nothing
    local location l = GetSpellTargetLoc()
    call QH8("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl", GetLocationX(l), GetLocationY(l), 2)
    call TerrainDeformationRippleBJ(.3, false, l, 0, 300, 100, .4, 20)
    call RemoveLocation(l)
    set l = null
endfunction
function W5G takes nothing returns boolean
    if GetSpellAbilityId() == 'A06W' then
        call W0G()
    endif
    return false
endfunction
function CW8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W5G))
    set t = null
endfunction
function ASO4 takes unit p5, unit target, real t returns nothing
    call T68(target, 'A2WZ', 1, t, 'B0H6')
endfunction
function AS24 takes nothing returns nothing
    local real d
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        set d = Z47(GetEnumUnit(), AZ1I)
        if d < AZ2I then
            set AZ2I = d
            set AZII = GetEnumUnit()
        endif
    endif
endfunction
function AS34 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local group XCD = (LoadGroupHandle(R8, (EC8), (187)))
    local real x = GetUnitX(target)
    local real y = GetUnitY(target)
    local group g = OG8()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A06V')
    call GroupAddUnit(XCD, target)
    if TA8 == 1 then
        call ASO4(p5, target, 0.7)
    elseif TA8 == 2 then
        call ASO4(p5, target, 0.8)
    elseif TA8 == 3 then
        call ASO4(p5, target, 0.9)
    elseif TA8 == 4 then
        call ASO4(p5, target, 1.0)
    endif
    set H04 = p5
    set AZII = null
    set AZ1I = target
    set H24 = XCD
    set AZ2I = 999999
    call GroupEnumUnitsInRange(g, x, y, 475 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmuneVisible))
    call ForGroup(g, function AS24)
    call OF8(g)
    if AZII == null or GetTriggerEvalCount(t) > 3 + TA8 then
        call OF8(XCD)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set target = AZII
        call SaveUnitHandle(R8, (EC8), (17), (target))
    endif
    set g = null
    set t = null
    set p5 = null
    set target = null
    set XCD = null
    return false
endfunction
function AS44 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local group XCD = OG8()
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveGroupHandle(R8, (EC8), (187), (XCD))
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerAddCondition(t, Condition(function AS34))
    set p5 = null
    set target = null
    set XCD = null
    set t = null
endfunction
function AS54 takes nothing returns boolean
    if GetSpellAbilityId() == 'A06V' and OE8(GetSpellTargetUnit()) == false then
        call AS44()
    endif
    return false
endfunction
function AKM1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AS54))
    set t = null
endfunction
function W2G takes itemtype iType, integer iLevel returns nothing
    local group g
    set bj_stockPickedItemType = iType
    set bj_stockPickedItemLevel = iLevel
    set g = CreateGroup()
    call GroupEnumUnitsOfType(g, "marketplace", bH)
    call ForGroup(g, function UpdateEachStockBuildingEnum)
    call DestroyGroup(g)
    set g = null
endfunction
function X7G takes nothing returns nothing
    local integer pickedItemId
    local itemtype pickedItemType
    local integer pickedItemLevel = 0
    local integer allowedCombinations = 0
    local integer iLevel
    set iLevel = 1
    loop
        if(bj_stockAllowedPermanent[iLevel])then
            set allowedCombinations = allowedCombinations + 1
            if(GetRandomInt(1, allowedCombinations) == 1)then
                set pickedItemType = ITEM_TYPE_PERMANENT
                set pickedItemLevel = iLevel
            endif
        endif
        if(bj_stockAllowedCharged[iLevel])then
            set allowedCombinations = allowedCombinations + 1
            if(GetRandomInt(1, allowedCombinations) == 1)then
                set pickedItemType = ITEM_TYPE_CHARGED
                set pickedItemLevel = iLevel
            endif
        endif
        if(bj_stockAllowedArtifact[iLevel])then
            set allowedCombinations = allowedCombinations + 1
            if(GetRandomInt(1, allowedCombinations) == 1)then
                set pickedItemType = ITEM_TYPE_ARTIFACT
                set pickedItemLevel = iLevel
            endif
        endif
        set iLevel = iLevel + 1
        exitwhen iLevel > bj_MAX_ITEM_LEVEL
    endloop
    if(allowedCombinations == 0)then
        return
    endif
    call W2G(pickedItemType, pickedItemLevel)
endfunction
function XEG takes nothing returns nothing
    call X7G()
    call TimerStart(bj_stockUpdateTimer, bj_STOCK_RESTOCK_INTERVAL, true, function X7G)
endfunction
function XFG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer ZW7 = (LoadInteger(R8, (W57), (74)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local player p = (LoadPlayerHandle(R8, (W57), (54)))
    local boolean XGG = (LoadBoolean(R8, (W57), (75)))
    local integer P29 = (LoadInteger(R8, (W57), (76)))
    local item XHG = CreateItem(ZW7, x, y)
    call SetItemPlayer(XHG, p, true)
    call SetItemUserData(XHG, 0)
    if XGG then
        call SetItemCharges(XHG, P29)
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    // set g_aiStatInt[512 + GetPlayerId(p)] = 3
    // set OI7[288 + GetPlayerId(p)] = XHG
    set t = null
    set p = null
    set XHG = null
    return false
endfunction
function XIG takes integer ZW7, real x, real y, player p, boolean XGG, integer P29 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveInteger(R8, (W57), (74), (ZW7))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    call SavePlayerHandle(R8, (W57), (54), (p))
    call SaveBoolean(R8, (W57), (75), (XGG))
    call SaveInteger(R8, (W57), (76), (P29))
    call TriggerAddCondition(t, Condition(function XFG))
    call TriggerRegisterTimerEvent(t, 0, false)
    set g_aiStatInt[512 + GetPlayerId(p)] = 2
    set t = null
endfunction
function XJG takes player p, unit Y47, integer TS9, item XKG returns item
    local integer V37
    local item S8G
    set V37 = 0
    loop
        exitwhen V37 >= bj_MAX_INVENTORY
        set S8G = UnitItemInSlot(Y47, V37)
        if S8G != null and S8G != XKG and IsTheItem(S8G, TS9) and(GetItemPlayer(S8G) == p or TS9 == FB or TS9 == GB)then
            set S8G = null
            return UnitItemInSlot(Y47, V37)
        endif
        set V37 = V37 + 1
    endloop
    set S8G = null
    return null
endfunction
function XMG takes player p, unit Y47, integer TS9 returns item
    local integer V37
    local item S8G
    set V37 = 0
    loop
        exitwhen V37 >= bj_MAX_INVENTORY
        set S8G = UnitItemInSlot(Y47, V37)
        if(S8G != null)and(IsTheItem(S8G, TS9))and(GetItemPlayer(S8G) == p or TS9 == FB or TS9 == GB)then
            set S8G = null
            return UnitItemInSlot(Y47, V37)
        endif
        set V37 = V37 + 1
    endloop
    set S8G = null
    return null
endfunction
function XNG takes item Z4 returns integer
    local integer n5
    local integer i = 1
    if Z4 == null then
        return - 2
    endif
    set n5 = GetItemTypeId(Z4)
    loop
        exitwhen i > JV
        if LU[i] == n5 then
            return BU[i]
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function XOG takes item ZV7 returns boolean
    return GetItemType(ZV7) == ITEM_TYPE_POWERUP or GetItemType(ZV7) == ITEM_TYPE_PURCHASABLE or GetItemType(ZV7) == ITEM_TYPE_MISCELLANEOUS
endfunction
function XPG takes nothing returns nothing
    local item Y98 = GetEnumItem()
    if GetWidgetLife(Y98) > 0 and GetItemPlayer(Y98) == GS4 and UT4 == 0 and IsItemVisible(Y98) then
        set UT4 = UT4 + 1
        call UnitAddItem(GT4, Y98)
    endif
    set Y98 = null
endfunction
function XQG takes nothing returns nothing
    local item Y98 = GetEnumItem()
    if GetWidgetLife(Y98) > 0 and GetItemPlayer(Y98) == GS4 and IsItemVisible(Y98) then
        call UnitAddItem(zh, Y98)
    endif
    set Y98 = null
endfunction
function XRG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit ZC9 = (LoadUnitHandle(R8, (EC8), (92)))
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local rect r = Rect(x - 300, y - 300, x + 300, y + 300)
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        set GS4 = p
        set GT4 = p5
        set zh = ZC9
        call EnumItemsInRect(r, Condition(function KF8), function XQG)
    else
        if GetTriggerEvalCount(t) > 19 then
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            set GS4 = p
            set GT4 = p5
            set zh = ZC9
            call EnumItemsInRect(r, Condition(function KF8), function XQG)
        elseif GetTriggerEvalCount(t) < 10 then
            set GS4 = p
            set GT4 = p5
            set UT4 = 0
            call EnumItemsInRect(r, Condition(function KF8), function XPG)
        endif
    endif
    call RemoveRect(r)
    set t = null
    set p5 = null
    set ZC9 = null
    set r = null
    return false
endfunction
function XSG takes unit ZC9, unit p5 returns nothing
    local player p = GetOwningPlayer(p5)
    local integer i
    local item Y98
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = GetUnitX(ZC9)
    local real y = GetUnitY(ZC9)
    local integer TS9
    if IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY)then
        set x = GetUnitX(p5)
        set y = GetUnitY(p5)
    endif
    call TriggerRegisterDeathEvent(t, p5)
    call TriggerRegisterTimerEvent(t, .01, true)
    call TriggerAddCondition(t, Condition(function XRG))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (92), (ZC9))
    call SavePlayerHandle(R8, (EC8), (54), (p))
    call SaveReal(R8, (EC8), (6), ((x)))
    call SaveReal(R8, (EC8), (7), ((y)))
    set i = 0
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set Y98 = UnitItemInSlot(ZC9, i)
        set TS9 = ZU7(Y98)
        if Y98 != null and GetItemPlayer(Y98) == p and BV9(Y98) == false and(TS9 != AY and TS9 != BY and TS9 != CY and TS9 != DZ and TS9 != EZ and TS9 != AHJ0 and TS9 != AASP)then
            call UnitRemoveItem(ZC9, Y98)
            call SetItemPosition(Y98, x, y)
        endif
        set i = i + 1
    endloop
    set t = null
    set Y98 = null
endfunction
function ZA7 takes unit ZB7 returns boolean
    local integer ZC7 = GetUnitCurrentOrder(ZB7)
    return(ZC7 == 0)or(ZC7 == 851973)or(ZC7 == 851975)or(ZC7 == 851987)or(ZC7 == 851993)
endfunction
function XTG takes trigger t returns nothing
    local integer W57 = GetHandleId(t)
    local unit SS9 = (LoadUnitHandle(R8, (W57), (92)))
    local unit AM7 = (LoadUnitHandle(R8, (W57), (2)))
    local real x
    local real y
    local real XUG
    local real XVG
    local real XWG
    local real XXG
    local real XYG
    local real LW7
    local real XZG
    local real XAG = GetUnitX(AM7)
    local real XBG = GetUnitY(AM7)
    if(ZA7(AM7) == false)then
        set x = GetUnitX(AM7)
        set y = GetUnitY(AM7)
        set XXG = (LoadReal(R8, (W57), (677)))
        set XYG = (LoadReal(R8, (W57), (678)))
        call SaveReal(R8, (W57), (677), (x))
        call SaveReal(R8, (W57), (678), (y))
        set XWG = Atan2(y - XYG, x - XXG)
        set XUG = SquareRoot((x - XXG) * (x - XXG) + (y - XYG) * (y - XYG)) / .2
        set XVG = GetUnitMoveSpeed(SS9)
        set LW7 = Z87(GetUnitX(AM7), GetUnitY(AM7), GetUnitX(SS9), GetUnitY(SS9))
        set XZG = RAbsBJ(XWG * bj_RADTODEG - GetUnitFacing(SS9))
        if(LW7 < XVG - XUG and XVG > XUG)or(LW7 < RMaxBJ(XVG, XUG)and XZG >= 90)then
        else
            set XAG = x + XUG * Cos(XWG)
            set XBG = y + XUG * Sin(XWG)
        endif
    endif
    call SaveInteger(R8, (W57), (679), (1))
    call IssuePointOrderById(SS9, 851986, XAG, XBG)
    set SS9 = null
    set AM7 = null
endfunction
function XCG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit ZC9 = (LoadUnitHandle(R8, (W57), (92)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x
    local real y
    local integer i
    local player p = GetOwningPlayer(Z77)
    local integer player_id = GetPlayerId(p)
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        if GetTriggerUnit() == Z77 then
            call Z69(ZC9)
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER then
        if(LoadInteger(R8, (W57), (679))) == 1 then
            call SaveInteger(R8, (W57), (679), (0))
        elseif GetIssuedOrderId() != 852100 and GetIssuedOrderId() != 852090 then
            // elseif GetIssuedOrderId() != 852100 and GetIssuedOrderId() != 852090 and(not IsAiFlag[player_id])then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
        // elseif(IsAiFlag[player_id]and HA4[player_id])then
        //     call Z69(ZC9)
    else
        if Z47(ZC9, Z77) < 300 then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            // if IsAiFlag[player_id]and EN8(GetHandleId(ZC9), "aiCrow|CurrentOwner") == player_id then
            //     set g_aiItemInt[432 + player_id] = 2
            //     call ABF(player_id, Y7[player_id], false)
            //     set g_aiItemInt[432 + player_id] = 0
            // else
            call XSG(ZC9, Z77)
            // endif
            call Z69(ZC9)
        else
            // if IsAiFlag[player_id]then
            //     set H04 = ZC9
            //     set i = UnitCountInRangeOfUnit(1000., H04, Condition(function VW8))
            //     if(i == 0)then
            //         call XTG(t)
            //     else
            //         call IssuePointOrderByIdLoc(ZC9, 851986, MoveLocTo(KR4[player_id]))
            //         if Z47(ZC9, Y7[player_id]) < 800 and is(Y7[player_id])and g_aiTarget[player_id] == null then
            //             call IssuePointOrderByIdLoc(Y7[player_id], 851986, MoveLocTo(KR4[player_id]))
            //         endif
            //     endif
            // else
            call XTG(t)
            // endif
            // if(Bz > g_aiStatReal[880 + player_id])and IsComputer(p)and(Z47(ZC9, Z77) < 1800)then
            //     call IssueImmediateOrderById(ZC9, 852100)
            //     set g_aiStatReal[880 + player_id] = Bz + 5
            // endif
        endif
    endif
    set t = null
    set ZC9 = null
    set Z77 = null
    return false
endfunction
function X3G takes unit AM7, boolean X6G returns nothing
    local trigger t = null
    local integer W57 = 0
    local unit SS9 = GetSellingUnit()
    local integer XLG = (LoadInteger(R8, (GetHandleId(SS9)), (8000)))
    local integer player_id = GetPlayerId(GetOwningPlayer(AM7))
    if AM7 != null then
        // if IsAiFlag[player_id]and(EN8(GetHandleId(SS9), "aiCrow|CurrentOwner") == player_id)then
        //     set t = EF8(GetHandleId(SS9), "aiCrow|DeliverTrigger")
        //     if(t != null and IsTriggerEnabled(t))then
        //         set t = null
        //         set SS9 = null
        //         return
        //     endif
        // endif
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        if AM7 != (LoadUnitHandle(R8, (GetHandleId(SS9)), (8002 + XLG)))and X6G then
            set XLG = XLG + 1
            call SaveInteger(R8, (GetHandleId(SS9)), (8000), (XLG))
            call SaveUnitHandle(R8, (GetHandleId(SS9)), (8002 + XLG), (AM7))
        endif
        call SaveReal(R8, (W57), (677), ((GetUnitX(AM7))))
        call SaveReal(R8, (W57), (678), ((GetUnitY(AM7))))
        call IssueTargetOrderById(SS9, 851986, AM7)
        call TriggerRegisterDeathEvent(t, SS9)
        call TriggerRegisterDeathEvent(t, AM7)
        call TriggerRegisterUnitEvent(t, SS9, EVENT_UNIT_ISSUED_ORDER)
        call TriggerRegisterUnitEvent(t, SS9, EVENT_UNIT_ISSUED_TARGET_ORDER)
        call TriggerRegisterUnitEvent(t, SS9, EVENT_UNIT_ISSUED_POINT_ORDER)
        call TriggerRegisterTimerEvent(t, .2, true)
        call TriggerAddCondition(t, Condition(function XCG))
        call SaveUnitHandle(R8, (W57), (2), (AM7))
        call SaveUnitHandle(R8, (W57), (92), (SS9))
        // call DW8(GetHandleId(SS9), "aiCrow|DeliverTrigger", t)
    endif
    set t = null
    set SS9 = null
endfunction
function X1G takes nothing returns nothing
    local item Y98 = GetEnumItem()
    local unit u = OF4
    local player p = GetOwningPlayer(u)
    local integer id = GetPlayerId(p)
    if GetWidgetLife(Y98) > 0 and GetItemPlayer(Y98) == p and IsItemVisible(Y98) then
        call SetItemPosition(Y98, KS4[id], KT4[id])
        call UnitAddItem(OG4, Y98)
    endif
    set Y98 = null
    set u = null
    set p = null
endfunction
function X0G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit u = (LoadUnitHandle(R8, (W57), (53)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    set OF4 = u
    set OG4 = Z77
    if KN8(GetOwningPlayer(u))then
        call EnumItemsInRect(BD, Condition(function KF8), function X1G)
    else
        call EnumItemsInRect(LD, Condition(function KF8), function X1G)
    endif
    if GetTriggerEvalCount(t) == 3 then
        call KillUnit(u)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set u = null
    set Z77 = null
    return false
endfunction
function X5G takes unit LSD returns nothing
    local unit u = GetSoldUnit()
    local integer i = 0
    local item Y98
    local integer id = GetPlayerId(GetOwningPlayer(u))
    local region r = CreateRegion()
    local trigger t
    local integer W57
    local unit Z77 = GetSellingUnit()
    if KN8(GetOwningPlayer(u))then
        call RegionAddRect(r, BD)
    else
        call RegionAddRect(r, LD)
    endif
    if IsUnitInRegion(r, Z77)then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .05, true)
        call TriggerAddCondition(t, Condition(function X0G))
        call SaveUnitHandle(R8, (W57), (53), (u))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        loop
            exitwhen i >= bj_MAX_INVENTORY
            set Y98 = UnitItemInSlot(Z77, i)
            if NB8(ZU7(Y98)) == false and not IsTheItem(Y98, F1) and BV9(Y98) == false then
                call UnitRemoveItemFromSlot(Z77, i)
                if IsUnitInRegion(r, Z77)and IsPlayerAlly(GetItemPlayer(Y98), GetOwningPlayer(Z77)) then
                    set id = GetPlayerId(GetItemPlayer(Y98))
                    call SetItemPosition(Y98, KS4[id], KT4[id])
                endif
            endif
            set i = i + 1
        endloop
    endif
    call RemoveRegion(r)
    set u = null
    set Y98 = null
    set t = null
    set r = null
    set Z77 = null
endfunction
function X2G takes nothing returns nothing
    if GetUnitTypeId(GetSoldUnit()) == 'h085' then
        if Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] != null and O18(Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]) == false then
            call X3G(Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))], true)
        endif
        call KillUnit(GetSoldUnit())
    elseif GetUnitTypeId(GetSoldUnit()) == 'h0BV' then
        if Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] != null then
            call X5G(Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
        endif
        call KillUnit(GetSoldUnit())
    elseif GetUnitTypeId(GetSoldUnit()) == 'h0DE' then
        if Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] != null then
            call X3G((LoadUnitHandle(R8, (GetHandleId(GetSellingUnit())), (8002 + (LoadInteger(R8, (GetHandleId(GetSellingUnit())), (8000))) - 1))), false)
        endif
        call KillUnit(GetSoldUnit())
    elseif WO8(GetUnitTypeId(GetSoldUnit()))then
        if Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] != null then
            if O18(Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]) and GetOwningPlayer(GetSoldUnit()) == GetOwningPlayer(GetSellingUnit())and((LoadInteger(R8, (GetHandleId((Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]))), ((4304)))) == 1) == false and(IH4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))] == false)then
                call PC9(Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
                set HC7 = true
                call ReviveHero(Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))], GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), true)
                set HC7 = false
                call SetUnitState(Y7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))], UNIT_STATE_MANA, 10000)
                set WQ4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] = IMaxBJ(0, WQ4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] - FD[WQ8(GetHeroLevel(Y7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
                call WC8(GetOwningPlayer(GetSoldUnit()))
            else
                call SetPlayerState(GetOwningPlayer(GetSoldUnit()), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetOwningPlayer(GetSoldUnit()), PLAYER_STATE_RESOURCE_GOLD) + FD[WQ8(GetHeroLevel(Y7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
                if(IH4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))] == false) == false then
                    call PN8(GetOwningPlayer(GetSoldUnit()), GetObjectName('n0N4'))
                endif
            endif
        endif
        call KillUnit(GetSoldUnit())
    endif
endfunction
function X_G takes player p4, unit S4, integer Y2F, integer Y_F, integer B8D, integer B9D, integer BDD, integer Z4F, integer Z7F returns nothing
    local item Y98
    call DisableTrigger(T34)
    if Y_F > 0 then
        set Y98 = UnitItemInSlot(S4, 0)
        call ZT7(Y98)
    endif
    if B8D > 0 then
        set Y98 = UnitItemInSlot(S4, 1)
        call ZT7(Y98)
    endif
    if B9D > 0 then
        set Y98 = UnitItemInSlot(S4, 2)
        call ZT7(Y98)
    endif
    if BDD > 0 then
        set Y98 = UnitItemInSlot(S4, 3)
        call ZT7(Y98)
    endif
    if Z4F > 0 then
        set Y98 = UnitItemInSlot(S4, 4)
        call ZT7(Y98)
    endif
    if Z7F > 0 then
        set Y98 = UnitItemInSlot(S4, 5)
        call ZT7(Y98)
    endif
    set OO7 = Y2F
    set ON7 = p4
    set Y98 = UnitAddItemById(S4, BU[Y2F])
    call SetItemPlayer(Y98, p4, true)
    call SetItemUserData(Y98, 0)
    // if IsPlayerInForce(p4, AiForce)and(S4 == E88(GetHandleId(p4), "aiBearDummy"))then
    //     set PD7 = (LoadUnitHandle(R8, (GetHandleId(p4)), (333)))
    //     if PD7 != null and GetUnitState(PD7, UNIT_STATE_LIFE) > 0 then
    //         call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl", PD7, "origin"))
    //     endif
    // else
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl", S4, "origin"))
    // endif
    if IsTheItem(Y98, E2) then
        call SetItemCharges(Y98, 8)
    endif
    call EnableTrigger(T34)
    if IsPlayerAlly(GetLocalPlayer(), p4) then
        if Y2F == X6 then
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 4, W[GetPlayerId(p4)] + (KW4[GetPlayerId((p4))]) + "|r |c00ffff00" + GetObjectName('n0LX') + "|r")
        elseif Y2F == J0 then
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 4, W[GetPlayerId(p4)] + (KW4[GetPlayerId((p4))]) + "|r |c00ffff00" + GetObjectName('n0LY') + "|r")
        endif
    endif
    // set OI7[288 + GetPlayerId(p4)] = Y98
    set Y98 = null
endfunction
function XVF takes unit AM7, item Y98 returns nothing
    local unit u = AM7
    local integer WP8 = GetUnitTypeId(u)
    local integer TS9 = ZX7(Y98)
    if IsUnitType(u, UNIT_TYPE_MELEE_ATTACKER) or IsUnitType(u, UNIT_TYPE_HERO) == false then
        if TS9 == J5 then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[G5])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == OY then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[MY])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == DD4 then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[D94])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == T5 then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[S5])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == J1 then
            if XUF(u) == false then
                set I44 = GetItemPlayer(Y98)
                call ZT7(Y98)
                set HK4 = UnitAddItemById(u, BU[H1])
                call SetItemPlayer(HK4, I44, false)
                call SetItemUserData(HK4, 1)
            endif
        elseif TS9 == H1 then
            if XUF(u) then
                set I44 = GetItemPlayer(Y98)
                call ZT7(Y98)
                set HK4 = UnitAddItemById(u, BU[J1])
                call SetItemPlayer(HK4, I44, false)
                call SetItemUserData(HK4, 1)
            endif
        elseif TS9 == XZ then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[UZ])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == Z2 then
            call FbSetAbilityRealLevelField(BlzGetItemAbility(Y98, 'A12W'), ABILITY_RLF_MOVEMENT_SPEED_INCREASE_PERCENT_OWK2, 1, .24)
        elseif TS9 == AZ40 then
            call FbSetAbilityRealLevelField(BlzGetItemAbility(Y98, 'A3SF'), ABILITY_RLF_IGNORED_DAMAGE, 1, 32)
        endif
    else
        if TS9 == G5 then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[J5])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == MY then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[OY])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == D94 then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[DD4])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == S5 then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[T5])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == H1 then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[J1])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == UZ then
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = UnitAddItemById(u, BU[XZ])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == Z2 then
            call FbSetAbilityRealLevelField(BlzGetItemAbility(Y98, 'A12W'), ABILITY_RLF_MOVEMENT_SPEED_INCREASE_PERCENT_OWK2, 1, .20)
        elseif TS9 == AZ40 then
            call FbSetAbilityRealLevelField(BlzGetItemAbility(Y98, 'A3SF'), ABILITY_RLF_IGNORED_DAMAGE, 1, 16)
        endif
    endif
    set u = null
endfunction
function XWF takes unit AM7, item Y98 returns nothing
    local unit u = AM7
    local integer WP8 = GetUnitTypeId(u)
    local integer TS9 = ZX7(Y98)
    if IsUnitType(u, UNIT_TYPE_MELEE_ATTACKER) == false or IsUnitType(u, UNIT_TYPE_HERO) == false then
        if TS9 == J5 then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[G5])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == OY then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[MY])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == DD4 then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[D94])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == T5 then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[S5])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == J1 then
            if XUF(u) == false then
                set I44 = GetItemPlayer(Y98)
                call RemoveItem(Y98)
                set HK4 = UnitAddItemById(u, BU[H1])
                call SetItemPlayer(HK4, I44, false)
                call SetItemUserData(HK4, 1)
            endif
        elseif TS9 == XZ then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[UZ])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == Z2 then
            call FbSetAbilityRealLevelField(BlzGetItemAbility(Y98, 'A12W'), ABILITY_RLF_MOVEMENT_SPEED_INCREASE_PERCENT_OWK2, 1, .24)
        elseif TS9 == AZ40 then
            call FbSetAbilityRealLevelField(BlzGetItemAbility(Y98, 'A3SF'), ABILITY_RLF_IGNORED_DAMAGE, 1, 32)
        endif
    else
        if TS9 == G5 then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[J5])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == MY then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[OY])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == D94 then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[DD4])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == S5 then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[T5])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == H1 then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[J1])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == UZ then
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = UnitAddItemById(u, BU[XZ])
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TS9 == Z2 then
            call FbSetAbilityRealLevelField(BlzGetItemAbility(Y98, 'A12W'), ABILITY_RLF_MOVEMENT_SPEED_INCREASE_PERCENT_OWK2, 1, .20)
        elseif TS9 == AZ40 then
            call FbSetAbilityRealLevelField(BlzGetItemAbility(Y98, 'A3SF'), ABILITY_RLF_IGNORED_DAMAGE, 1, 16)
        endif
    endif
    set u = null
endfunction
function XXF takes unit AM7, boolean isMorphed returns nothing
    local integer i = 0
    local item Y98
    call DisableTrigger(GW4)
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set Y98 = UnitItemInSlot(AM7, i)
        if Y98 != null then
            if isMorphed == false then
                call XWF(AM7, Y98)
            else
                call XVF(AM7, Y98)
            endif
        endif
        set i = i + 1
    endloop
    call EnableTrigger(GW4)
    set Y98 = null
endfunction
function XYF takes unit S4 returns integer
    local integer i = 0
    local integer n = 0
    local integer WG8 = UnitInventorySize(S4) - 1
    loop
        exitwhen i > WG8
        if UnitItemInSlot(S4, i) == null then
            set n = n + 1
        endif
        set i = i + 1
    endloop
    return n
endfunction
function Y4G takes player p, unit S4, integer TK9 returns boolean
    local integer i
    local integer x
    local integer y
    local integer array ZDF
    local boolean array ZEF
    local integer array ZFF
    local boolean array ZGF
    local boolean array ZHF
    local integer array ZIF
    local player ZJF
    local integer Y7G = 1
    local integer k
    local player array ZKF
    local integer m
    local item ZMF
    local item ZNF
    local item ZOF
    local item ZPF
    local item ZQF
    local item ZRF
    local player ZSF
    local player ZTF
    local player ZUF
    local player ZVF
    local player ZWF
    local player ZXF
    local integer ZYF
    local integer ZZF
    local integer ZAF
    local integer ZBF
    local integer ZCF
    local integer Z3F
    local integer Z6F
    local integer ZLF
    local integer Z1F
    local integer Z0F
    local integer Z5F
    local integer Z2F
    local boolean Y8G = false
    local boolean Z_F = true
    set ZMF = UnitItemInSlot(S4, 0)
    set ZNF = UnitItemInSlot(S4, 1)
    set ZOF = UnitItemInSlot(S4, 2)
    set ZPF = UnitItemInSlot(S4, 3)
    set ZQF = UnitItemInSlot(S4, 4)
    set ZRF = UnitItemInSlot(S4, 5)
    set ZSF = GetItemPlayer(ZMF)
    set ZTF = GetItemPlayer(ZNF)
    set ZUF = GetItemPlayer(ZOF)
    set ZVF = GetItemPlayer(ZPF)
    set ZWF = GetItemPlayer(ZQF)
    set ZXF = GetItemPlayer(ZRF)
    set ZYF = GetItemUserData(ZMF)
    set ZZF = GetItemUserData(ZNF)
    set ZAF = GetItemUserData(ZOF)
    set ZBF = GetItemUserData(ZPF)
    set ZCF = GetItemUserData(ZQF)
    set Z3F = GetItemUserData(ZRF)
    set Z6F = ZU7(ZMF)
    set ZLF = ZU7(ZNF)
    set Z1F = ZU7(ZOF)
    set Z0F = ZU7(ZPF)
    set Z5F = ZU7(ZQF)
    set Z2F = ZU7(ZRF)
    if(GetPlayerSlotState((p)) == PLAYER_SLOT_STATE_LEFT)then
        set Y7G = MAX_TEAM_PLAYERS
        set Y8G = true
    endif
    set ZKF[1] = p
    if Y8G then
        set k = 2
        set m = 1
        loop
            exitwhen k > Y7G
            if KN8(p)then
                if p != G8[m]then
                    set ZKF[k] = G8[m]
                    set k = k + 1
                endif
            else
                if p != N8[m]then
                    set ZKF[k] = N8[m]
                    set k = k + 1
                endif
            endif
            set m = m + 1
        endloop
    endif
    set k = 1
    loop
        exitwhen k > Y7G
        set ZJF = ZKF[k]
        set i = 0
        if ZMF != null and ZYF == 1 and(ZSF == ZJF or PI4 or(GetPlayerSlotState((ZSF)) == PLAYER_SLOT_STATE_LEFT))then
            set ZDF[i + 1] = Z6F
        else
            set ZDF[i + 1] = 0
        endif
        set i = 1
        if ZNF != null and ZZF == 1 and(ZTF == ZJF or PI4 or(GetPlayerSlotState((ZTF)) == PLAYER_SLOT_STATE_LEFT))then
            set ZDF[i + 1] = ZLF
        else
            set ZDF[i + 1] = 0
        endif
        set i = 2
        if ZOF != null and ZAF == 1 and(ZUF == ZJF or PI4 or(GetPlayerSlotState((ZUF)) == PLAYER_SLOT_STATE_LEFT))then
            set ZDF[i + 1] = Z1F
        else
            set ZDF[i + 1] = 0
        endif
        set i = 3
        if ZPF != null and ZBF == 1 and(ZVF == ZJF or PI4 or(GetPlayerSlotState((ZVF)) == PLAYER_SLOT_STATE_LEFT))then
            set ZDF[i + 1] = Z0F
        else
            set ZDF[i + 1] = 0
        endif
        set i = 4
        if ZQF != null and ZCF == 1 and(ZWF == ZJF or PI4 or(GetPlayerSlotState((ZWF)) == PLAYER_SLOT_STATE_LEFT))then
            set ZDF[i + 1] = Z5F
        else
            set ZDF[i + 1] = 0
        endif
        set i = 5
        if ZRF != null and Z3F == 1 and(ZXF == ZJF or PI4 or(GetPlayerSlotState((ZXF)) == PLAYER_SLOT_STATE_LEFT))then
            set ZDF[i + 1] = Z2F
        else
            set ZDF[i + 1] = 0
        endif
        set ZDF[0] = TK9
        set i = 1
        loop
            exitwhen i > (E54)
            set ZFF[0] = EC4[i]
            set ZFF[1] = E34[i]
            set ZFF[2] = E64[i]
            set ZFF[3] = EL4[i]
            set ZFF[4] = E14[i]
            if Z_F then
                set ZGF[0] = true
                set ZGF[1] = true
                set ZGF[2] = true
                set ZGF[3] = true
                set ZGF[4] = true
                set ZGF[5] = true
                set ZGF[6] = true
                set ZEF[0] = true
                set ZEF[1] = true
                set ZEF[2] = true
                set ZEF[3] = true
                set ZEF[4] = true
                set ZEF[5] = true
                set ZEF[6] = true
                set ZIF[0] = 0
                set ZIF[1] = 0
                set ZIF[2] = 0
                set ZIF[3] = 0
                set ZIF[4] = 0
                set ZIF[5] = 0
                set ZIF[6] = 0
                set Z_F = false
            endif
            set ZHF[0] = false
            set ZHF[1] = false
            set ZHF[2] = false
            set ZHF[3] = false
            set ZHF[4] = false
            set x = 0
            loop
                exitwhen x == 5
                if ZFF[x] == 0 then
                    set ZHF[x] = true
                else
                    set y = 0
                    loop
                        exitwhen y == 7
                        if ZDF[y] == ZFF[x]and ZEF[y]and ZGF[x]then
                            set ZEF[y] = false
                            set ZGF[x] = false
                            set ZHF[x] = true
                            set ZIF[y] = 1
                            set y = 7
                            set Z_F = true
                        else
                            set y = y + 1
                        endif
                    endloop
                endif
                if ZHF[x] then
                    set x = x + 1
                else
                    set x = 5
                endif
            endloop
            if ZHF[0]and ZHF[1]and ZHF[2]and ZHF[3]and ZHF[4]then
                call X_G(ZJF, S4, E04[i], ZIF[1], ZIF[2], ZIF[3], ZIF[4], ZIF[5], ZIF[6])
                set i = E54 + 2
            else
                set i = i + 1
            endif
        endloop
        set EL = ZIF[0] == 1
        if i == (E54 + 2)then
            set ZMF = null
            set ZNF = null
            set ZOF = null
            set ZPF = null
            set ZQF = null
            set ZRF = null
            return true
        endif
        set k = k + 1
    endloop
    set ZMF = null
    set ZNF = null
    set ZOF = null
    set ZPF = null
    set ZQF = null
    set ZRF = null
    return false
endfunction
function Y9G takes player p4, unit S4, integer TK9 returns boolean
    local boolean UY9
    set EL = false
    set UY9 = Y4G(p4, S4, TK9)
    return UY9
endfunction
function YDG takes nothing returns boolean
    if IsUnitAlly(GetFilterUnit(), GetOwningPlayer(H04)) and GetUnitAbilityLevel(GetFilterUnit(), 'Aloc') == 0 and UnitInventorySize(GetFilterUnit()) > 1 and GetUnitTypeId(GetFilterUnit()) != 'ncop' and GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()), GetOwningPlayer(H04), ALLIANCE_SHARED_CONTROL)and GetOwningPlayer(H04) != GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit()) == false and O18(GetFilterUnit()) == false then
        if ZS7(GetFilterUnit()) then
            set HB4 = HB4 + 1
            set H54 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function YEG takes nothing returns boolean
    if IsUnitAlly(GetFilterUnit(), GetOwningPlayer(H04)) and GetUnitAbilityLevel(GetFilterUnit(), 'Aloc') == 0 and UnitInventorySize(GetFilterUnit()) > 1 and GetUnitTypeId(GetFilterUnit()) != 'ncop' and IsUnitIllusion(GetFilterUnit()) == false and O18(GetFilterUnit()) == false then
        if GetOwningPlayer(H04) == GetOwningPlayer(GetFilterUnit())then
            if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) then
                if GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 then
                    set H54 = GetFilterUnit()
                endif
            elseif IsUnitType(H54, UNIT_TYPE_HERO) == false then
                set H54 = GetFilterUnit()
            endif
        endif
    endif
    return false
endfunction
function YFG takes unit S4, integer YGG returns unit
    local group g = OG8()
    set H04 = S4
    set H54 = null
    call GroupEnumUnitsInRange(g, GetUnitX(eH), GetUnitY(eH), 1300 + YGG, Condition(function YEG))
    if H54 == null then
        set HB4 = 0
        call OF8(g)
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(eH), GetUnitY(eH), 1100 + YGG, Condition(function YDG))
        if HB4 > 1 then
            set H54 = null
        endif
    endif
    call OF8(g)
    set g = null
    return H54
endfunction
function YHG takes player p4, unit S4, unit YIG, integer TK9, real x, real y, integer Q_G, integer YJG returns nothing
    local unit YKG
    local item QBG = null
    set eH = YIG
    if GetUnitPointValue(S4) == 200 then
        set YKG = YFG(S4, 0)
        if YKG == null then
            set YKG = YFG(S4, 300)
        endif
    else
        set YKG = S4
    endif
    set OO7 = TK9
    set ON7 = p4
    if YKG == null or Y9G(p4, YKG, TJ9(TK9)) == false or EL == false then
        if TU9(TJ9(TK9))then
            if XYF(YKG) == 0 or YKG == null then
                call XIG(AU[TK9], x, y, p4, true, Q_G)
            else
                set QBG = UnitAddItemById(YKG, BU[TK9])
                call SetItemCharges(QBG, Q_G)
                call SetItemPlayer(QBG, p4, true)
                call SetItemUserData(QBG, YJG)
            endif
        elseif TT9(TJ9(TK9))then
            if YKG == null or(XYF(YKG) == 0 and AV7(YKG, BU[TK9]) == null)then
                call XIG(AU[TK9], x, y, p4, true, TV9(TK9))
            else
                set QBG = CreateItem(AU[TK9], x, y)
                call SetItemPlayer(QBG, p4, true)
                call SetItemUserData(QBG, YJG)
                call SetItemCharges(QBG, TV9(TK9))
                call UnitAddItem(YKG, QBG)
            endif
        else
            if XYF(YKG) == 0 or YKG == null then
                call XIG(AU[TK9], x, y, p4, false, 0)
            else
                set QBG = UnitAddItemById(YKG, BU[TK9])
                call SetItemPlayer(QBG, p4, true)
                call SetItemUserData(QBG, 0)
            endif
        endif
    else
        if IsUnitType(YKG, UNIT_TYPE_HERO) == true then
            if YJG == 0 then
                call X48("PUI_" + I2S(GetPlayerId(GetOwningPlayer(YKG))), BU[TJ9(TK9)])
            endif
        endif
    endif
    if QBG != null then
        // set OI7[288 + GetPlayerId(p4)] = QBG
    endif
    set YKG = null
    set QBG = null
endfunction
function YMG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit YNG = (LoadUnitHandle(R8, (EC8), (134)))
    if GetTriggerEventId() != EVENT_UNIT_DEATH then
        call UnitRemoveAbility(YNG, 'A17R')
        call UnitRemoveAbility(YNG, 'A24F')
    endif
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set YNG = null
    return false
endfunction
function YOG takes nothing returns boolean
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > .5 and IsUnitAlly(GetFilterUnit(), Sh) and GetOwningPlayer(GetFilterUnit()) != P8 and GetUnitTypeId(GetFilterUnit()) != 'ncop' and GetUnitTypeId(GetFilterUnit()) != 'n0FJ' and GetUnitTypeId(GetFilterUnit()) != 'n0FI' and GetUnitTypeId(GetFilterUnit()) != 'n0F6' and GetUnitTypeId(GetFilterUnit()) != 'n0FH'
endfunction
function YPG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit S4 = GetEnumUnit()
    local string s
    call UnitAddAbility(S4, 'A17R')
    call UnitAddAbility(S4, 'A24F')
    if KN8(Sh)then
        set s = "effects\\GlyphSent.mdx"
    else
        set s = "effects\\GlyphScourge.mdx"
    endif
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget(s, S4, "origin")))
    call SaveUnitHandle(R8, (EC8), (134), (S4))
    call TriggerRegisterUnitEvent(t, S4, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, JW7, false)
    call TriggerAddCondition(t, Condition(function YMG))
    set t = null
    set S4 = null
endfunction
function YQG takes unit YRG, player p returns nothing
    //! textmacro YQGMac takes PLAYER_ID
        if KR4[$PLAYER_ID$] != null and YRG != KR4[$PLAYER_ID$]then
            call IssueImmediateOrderById(KR4[$PLAYER_ID$], 852244)
        endif
    //! endtextmacro
    if KN8(p)then
        //! runtextmacro YQGMac("1")
        //! runtextmacro YQGMac("2")
        //! runtextmacro YQGMac("3")
        //! runtextmacro YQGMac("4")
        //! runtextmacro YQGMac("5")
        //! runtextmacro YQGMac("12")
        //! runtextmacro YQGMac("13")
        //! runtextmacro YQGMac("14")
        //! runtextmacro YQGMac("15")
        //! runtextmacro YQGMac("16")
        //! runtextmacro YQGMac("17")
    else
        //! runtextmacro YQGMac("7")
        //! runtextmacro YQGMac("8")
        //! runtextmacro YQGMac("9")
        //! runtextmacro YQGMac("10")
        //! runtextmacro YQGMac("11")
        //! runtextmacro YQGMac("18")
        //! runtextmacro YQGMac("19")
        //! runtextmacro YQGMac("20")
        //! runtextmacro YQGMac("21")
        //! runtextmacro YQGMac("22")
        //! runtextmacro YQGMac("23")
    endif
endfunction
function YSG takes nothing returns nothing
    local group g
    local unit YRG = GetTriggerUnit()
    local player p = GetOwningPlayer(YRG)
    if(KN8(p)and Th == false)or(KN8(p) == false and Uh == false)then
        set g = OG8()
        set Sh = p
        call GroupEnumUnitsInRange(g, 0, 0, 12000, Condition(function YOG))
        call ForGroup(g, function YPG)
        call OF8(g)
        if KN8(p)then
            set Th = true
            call YQG(YRG, p)
            set Th = false
            // call DR8(S44, "AI|Glyph|Sent", Bz + 300.)
        else
            set Uh = true
            call YQG(YRG, p)
            set Uh = false
            // call DR8(S44, "AI|Glyph|Scrg", Bz + 300.)
        endif
    endif
    set g = null
    set YRG = null
    set p = null
endfunction
function YTG takes nothing returns nothing
    if GetSpellAbilityId() == 'A141' or GetSpellAbilityId() == 'A1WI' then
        call YSG()
    endif
endfunction
function YUG takes player p, integer TK9 returns nothing
    local integer i = GetPlayerId(p)
    if TK9 == WA then
        set Zh[i] = Zh[i] + 1
    elseif TK9 == ZA then
        set Zh[i] = Zh[i] + 1
    elseif TK9 == BA then
        set Zh[i] = Zh[i] + 4
    elseif TK9 == FB then
        set Zh[i] = Zh[i] + 1
        set GU4[i] = GU4[i] + 1
    elseif TK9 == GB then
        set Zh[i] = Zh[i] + 2
        set GU4[i] = GU4[i] + 2
    elseif TK9 == JB then
        set Zh[i] = Zh[i] + 1
    elseif TK9 == QB then
        set Zh[i] = Zh[i] + 1
    elseif TK9 == YB then
        set Zh[i] = Zh[i] + 2
    elseif TK9 == YA then
        set Zh[i] = Zh[i] + 2
    elseif TK9 == LB then
        set Zh[i] = Zh[i] + 2
    elseif TK9 == IEM then
        set Zh[i] = Zh[i] + 1
    elseif TK9 == IFF then
        set Zh[i] = Zh[i] + 1
    endif
endfunction
function YVG takes unit YWG, unit YXG returns boolean
    local integer TK9
    if XC8(GetUnitTypeId(YXG)) then
        return true
    endif
    if(YWG == JU4 or YWG == JT4)and IsUnitAlly(YXG, N8[0])then
        return false
    elseif(YWG == IR4 or YWG == IO4)and IsUnitAlly(YXG, G8[0])then
        return false
    endif
    set TK9 = NL8(YXG)
    if TK9 == FB or TK9 == NW or TK9 == EC then
        return true
    endif
    return false
endfunction
function YYG takes unit YIG, unit YZG returns real
    if YIG == IO4 or YIG == IP4 or YIG == IQ4 or YIG == IR4 or YIG == IS4 or YIG == IT4 or YIG == IU4 or YIG == IV4 or YIG == IW4 or YIG == IX4 or YIG == JWH then
        return KS4[GetPlayerId(GetOwningPlayer(YZG))]
    elseif YIG == JT4 or YIG == zs or YIG == Zs or YIG == JU4 or YIG == eS or YIG == oS or YIG == rS or YIG == aS or YIG == nS or YIG == VS or YIG == THS then
        return KS4[GetPlayerId(GetOwningPlayer(YZG))]
    elseif YIG == D_7 or YIG == E87 or YIG == E67 then
        return - 7133.
    elseif YIG == E47 or YIG == E77 or YIG == E37 then
        return 7207.
    endif
    return GetUnitX(YZG)
endfunction
function YAG takes unit YIG, unit YZG returns real
    if YIG == IO4 or YIG == IP4 or YIG == IQ4 or YIG == IR4 or YIG == IS4 or YIG == IT4 or YIG == IU4 or YIG == IV4 or YIG == IW4 or YIG == IX4 or YIG == JWH then
        return KT4[GetPlayerId(GetOwningPlayer(YZG))]
    elseif YIG == JT4 or YIG == zs or YIG == Zs or YIG == JU4 or YIG == eS or YIG == oS or YIG == rS or YIG == aS or YIG == nS or YIG == VS or YIG == THS then
        return KT4[GetPlayerId(GetOwningPlayer(YZG))]
    elseif YIG == D_7 or YIG == E87 or YIG == E67 then
        return 4317.
    elseif YIG == E47 or YIG == E77 or YIG == E37 then
        return - 4243.
    endif
    return GetUnitY(YZG)
endfunction
function YBG takes unit YIG, unit YZG returns real
    if YIG == IO4 or YIG == IP4 or YIG == IQ4 or YIG == IR4 or YIG == IS4 or YIG == IT4 or YIG == IU4 or YIG == IV4 or YIG == IW4 or YIG == IX4 or YIG == JWH then
        return GetRectCenterX(QD)
    elseif YIG == JT4 or YIG == zs or YIG == Zs or YIG == JU4 or YIG == eS or YIG == oS or YIG == rS or YIG == aS or YIG == nS or YIG == VS or YIG == THS then
        return GetRectCenterX(PD)
    endif
    return GetUnitX(YZG)
endfunction
function YCG takes unit YIG, unit YZG returns real
    if YIG == IO4 or YIG == IP4 or YIG == IQ4 or YIG == IR4 or YIG == IS4 or YIG == IT4 or YIG == IU4 or YIG == IV4 or YIG == IW4 or YIG == IX4 or YIG == JWH then
        return GetRectCenterY(QD)
    elseif YIG == JT4 or YIG == zs or YIG == Zs or YIG == JU4 or YIG == eS or YIG == oS or YIG == rS or YIG == aS or YIG == nS or YIG == VS or YIG == THS then
        return GetRectCenterY(PD)
    endif
    return GetUnitY(YZG)
endfunction
function Y3G takes nothing returns nothing
    local unit u = GetSoldUnit()
    local player p = GetOwningPlayer(u)
    local integer TS9 = NL8(u)
    local real x
    local real y
    if YVG(GetSellingUnit(), u)then
        call PN8(p, (GetObjectName(('n02G'))))
        if IsUnitAlly(u, G8[0])then
            set p = N8[0]
        else
            set p = G8[0]
        endif
        set x = YBG(GetSellingUnit(), u)
        set y = YCG(GetSellingUnit(), u)
        call XIG(AU[NL8(u)], x, y, p, true, TV9(NL8(u)))
    else
        call YUG(p, TJ9(TS9))
        if BU[TS9] == 0 then
            call PN8(p, GetObjectName('n02H'))
        else
            set x = YYG(GetSellingUnit(), u)
            set y = YAG(GetSellingUnit(), u)
            if TS9 == YB then
                call YHG(p, u, GetSellingUnit(), TJ9(TS9), x, y, 2, 0)
            else
                call YHG(p, u, GetSellingUnit(), TJ9(TS9), x, y, 0, 0)
            endif
        endif
    endif
    set PlayerItemValue[GetPlayerId(p)] = PlayerItemValue[GetPlayerId(p)] + G14[TS9] + G14[FV[TS9]]
    call UnitAddAbility(u, 'Aloc')
    call ShowUnit(u, true)
    call UnitApplyTimedLife(u, 'BTLF', 2)
    set u = null
    set p = null
endfunction
function Y6G takes nothing returns boolean
    if WR4 == false then
        if GetUnitPointValue(GetSoldUnit()) >= 200 then
            call Y3G()
            if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(GetSoldUnit()))or(L8 and(GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4))then
                if GetUnitTypeId(GetSoldUnit()) == 'h02F' then
                    call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 20, W[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]) + "|r |c00ffff00" + GetObjectName('n0HU') + "|r")
                elseif GetUnitTypeId(GetSoldUnit()) == 'h03Q' then
                    call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 20, W[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]) + "|r |c00ffff00" + GetObjectName('n0KG') + "|r")
                elseif GetUnitTypeId(GetSoldUnit()) == 'h076' then
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 4, W[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]) + "|r |c00ffff00" + GetObjectName('n0KO') + "|r")
                elseif GetUnitTypeId(GetSoldUnit()) == 'h02C' then
                    call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 4, W[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]) + "|r |c00ffff00" + GetObjectName('n0KP') + "|r")
                elseif GetUnitTypeId(GetSoldUnit()) == 'h02D' then
                    call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 4, W[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]) + "|r |c00ffff00" + GetObjectName('n0KQ') + "|r")
                elseif GetUnitTypeId(GetSoldUnit()) == 'h0BA' then
                    call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 4, W[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]) + "|r |c00ffff00" + GetObjectName('n0KT') + "|r")
                elseif GetUnitTypeId(GetSoldUnit()) == 'h01G' then
                    call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 4, W[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]) + "|r |c00ffff00" + GetObjectName('n0LB') + "|r")
                elseif GetUnitTypeId(GetSoldUnit()) == 'h0D3' then
                    call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 4, W[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + (KW4[GetPlayerId((GetOwningPlayer(GetSoldUnit())))]) + "|r |c00ffff00" + GetObjectName('n0LP') + "|r")
                endif
            endif
        else
            call X2G()
        endif
    endif
    return false
endfunction
function MeleeRangedMorphEffect takes nothing returns boolean
    local integer id = GetSpellAbilityId()
    if id == 'A1RI' or id == 'A03G' then
        call XXF(GetTriggerUnit(), false)
    endif
    if id == 'A11T' or id == 'A19Z' then
        call DragonLancePostMorphDelay(GetTriggerUnit())
    endif
    return false
endfunction
function MeleeRangedMorphFinish takes nothing returns boolean
    local integer id = GetSpellAbilityId()
    if id == 'A0BE' then
        call XXF(GetTriggerUnit(), false)
    elseif id == 'A0AG' then
        call XXF(GetTriggerUnit(), true)
    endif
    if id == 'A1RI' or id == 'A0BE' or id == 'A03G' or id == 'A1C0' or id == 'A0AG' then
        call DragonLancePostMorphDelay(GetTriggerUnit())
    endif
    return false
endfunction
function AX13 takes nothing returns boolean
    local integer EC8 = GetHandleId(GetTriggeringTrigger())
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit CQE = (LoadUnitHandle(R8, (EC8), (305)))
    if p5 == null or O18(p5)or PO8() == false or AV7(p5, BU[F44]) == null then
        call ShowUnit(CQE, false)
    else
        call ShowUnit(CQE, true)
        call SetUnitX(CQE, GetUnitX(p5))
        call SetUnitY(CQE, GetUnitY(p5))
    endif
    if GetOwningPlayer(CQE) != GetOwningPlayer(p5)then
        call SetUnitOwner(CQE, GetOwningPlayer(p5), true)
    endif
    set p5 = null
    set CQE = null
    return false
endfunction
function AX23 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = LoadUnitHandle(R8, (EC8), (2))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2XR')
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call UnitRemoveAbility(p5, 'B0AA')
    call UnitRemoveAbility(p5, 'A11T')
    if GetUnitAbilityLevel(p5, 'A2KM') == 0 then
        call O68(p5, 'A2KM')
    endif
    if TA8 == 1 then
        call UnitAddAbility(p5, 'A2X4')
        call UnitRemoveAbility(p5, 'A2X4')
    elseif TA8 == 2 then
        call SetUnitAbilityLevel(p5, 'A2KM', TA8)
        call UnitAddAbility(p5, 'A2X3')
        call UnitRemoveAbility(p5, 'A2X3')
        call UnitRemoveAbility(p5, 'A11X')
        call UnitRemoveAbility(p5, 'A10U')
        call O68(p5, 'A11V')
        call O68(p5, 'A11Y')
    elseif TA8 == 3 then
        call SetUnitAbilityLevel(p5, 'A2KM', TA8)
        call UnitAddAbility(p5, 'A2X5')
        call UnitRemoveAbility(p5, 'A2X5')
        call UnitRemoveAbility(p5, 'A11X')
        call UnitRemoveAbility(p5, 'A10U')
        call UnitRemoveAbility(p5, 'A11V')
        call UnitRemoveAbility(p5, 'A11Y')
        call O68(p5, 'A11W')
        call O68(p5, 'A11Z')
    endif
    if TA8 > 0 then
        call DragonLancePostMorphDelay(p5)
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .2, true)
        call TriggerAddCondition(t, Condition(function AX13))
        call SaveUnitHandle(R8, (EC8), (2), (GetTriggerUnit()))
        call SaveUnitHandle(R8, (EC8), (305), (CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'o01A', GetUnitX(p5), GetUnitY(p5), 0)))
    endif
    set t = null
    set p5 = null
endfunction
function KotnAghanimOn takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddAction(t, function AX23)
    call SaveUnitHandle(R8, (GetHandleId(t)), (2), (H04))
    set t = null
endfunction
function HeroAghanimSkillOff takes unit YKG returns nothing
    local integer id = GetUnitTypeId(YKG)
    if id == 'H00U' then
        set H04 = YKG
        call ExecuteFunc("InvokerAghanimOff")
    elseif id == 'Hmkg' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A2KQ', false)
    elseif id == 'E032' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A2YO', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A2E6', false)
    elseif id == 'Hamg' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A01V', false)
    elseif id == 'N0MU' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A2S9', false)
    elseif id == 'H00K' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A38K', false)
    elseif id == 'E02I' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A3DF', false)
    elseif id == 'U00C' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A3DO', false)
    elseif id == 'U0A9' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(YKG), 'A3CT', false)
    elseif id == 'Emoo' then
        call SetPlayerTechResearched(GetOwningPlayer(YKG), 'R00J', 0)
    elseif id == 'U01X' then
        call UnitAddAbility(YKG, 'A2KC')
        call UnitRemoveAbility(YKG, 'A2KC')
        call AddUnitAnimationProperties(YKG, "upgrade", false)
        call SetPlayerTechResearched(GetOwningPlayer(YKG), 'R00K', 0)
    endif
endfunction
function AetherLensRestoreRange takes ability a, integer EC8 returns nothing
    local integer i = 1
    local real before
    local integer level = BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS)
    loop
        exitwhen i > level
        set before = LoadReal(R8, EC8, GetHandleId(a) + 13 * i)
        call FbSetAbilityRealLevelField(a, ABILITY_RLF_CAST_RANGE, i, before)
        set i = i + 1
    endloop
    set a = null
endfunction
function AetherLensUnitRestoreRange takes unit hero, integer EC8 returns nothing
    local integer i = 0
    local ability a
    loop
        set a = BlzGetUnitAbilityByIndex(hero, i)
        exitwhen BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS) == 0
        if BlzGetAbilityBooleanField(a, ABILITY_BF_HERO_ABILITY) or BlzGetAbilityBooleanField(a, ABILITY_BF_ITEM_ABILITY) then
            if LoadInteger(R8, EC8, GetHandleId(a)) == 2 then
                call SaveInteger(R8, EC8, GetHandleId(a), (0))
                call AetherLensRestoreRange(a, EC8)
            endif
        endif
        set i = i + 1
    endloop
    set a = null
endfunction
function AetherLensIncreaseRange takes ability a, integer EC8 returns nothing
    local integer i = 1
    local real before
    local integer level = BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS)
    loop
        exitwhen i > level
        set before = FbGetAbilityRealLevelField(a, ABILITY_RLF_CAST_RANGE, i)
        if before > 0.00001 and before < 9999. then
            call SaveInteger(R8, EC8, GetHandleId(a), (2))
            call SaveReal(R8, EC8, GetHandleId(a) + 13 * i, (before))
            call FbSetAbilityRealLevelField(a, ABILITY_RLF_CAST_RANGE, i, before + 200.)
        endif
        set i = i + 1
    endloop
endfunction
function AetherLensUnitIncreaseRange takes unit N28, integer EC8 returns nothing
    local integer i = 0
    local ability a
    loop
        set a = BlzGetUnitAbilityByIndex(N28, i)
        exitwhen BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS) == 0
        if BlzGetAbilityBooleanField(a, ABILITY_BF_HERO_ABILITY) or BlzGetAbilityBooleanField(a, ABILITY_BF_ITEM_ABILITY) then
            if LoadInteger(R8, EC8, GetHandleId(a)) == 0 then
                call SaveInteger(R8, EC8, GetHandleId(a), (1))
                call AetherLensIncreaseRange(a, EC8)
            endif
        endif
        set i = i + 1
    endloop
    set a = null
endfunction
function AetherLensEffectAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = LoadUnitHandle(R8, (EC8), (14))
    if GetTriggerEventId() == EVENT_UNIT_HERO_SKILL then
        if GetUnitAbilityLevel(N28, GetLearnedSkill()) == 1 then
            call AetherLensUnitIncreaseRange(N28, EC8)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_PICKUP_ITEM then
        if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT then
            call AetherLensUnitIncreaseRange(N28, EC8)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DROP_ITEM then
        if IsEnabledItem(GetManipulatedItem(), IAL) and AU7(GetTriggerUnit(), BU[IAL], GetManipulatedItem()) == null then
            call AetherLensUnitRestoreRange(N28, EC8)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    else
        call AetherLensUnitIncreaseRange(N28, EC8)
    endif
    set t = null
    set N28 = null
endfunction
function AetherLensEffectRegister takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_HERO_SKILL)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_PICKUP_ITEM)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DROP_ITEM)
    call TriggerAddAction(t, function AetherLensEffectAction)
    call SaveUnitHandle(R8, GetHandleId(t), (14), (N28))
    call TriggerExecute(t)
    set t = null
endfunction
function AEG takes unit hn, item x5 returns integer
    local integer i = 0
    loop
        exitwhen i >= bj_MAX_INVENTORY
        if UnitItemInSlot(hn, i) == x5 then
            return i
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function Y1G takes unit AM7, item Y98 returns boolean
    local unit u = AM7
    local integer z8 = GetUnitTypeId(u)
    local integer TS9 = ZU7(Y98)
    local real x
    local real y
    local boolean Y0G = true
    local integer AFIO = (LoadInteger(R8, (GetHandleId(GetOwningPlayer(u))), (4345)))
    local integer AF1O = 0
    local integer AFF1
    if AFIO == 0 then
        set AFIO = 10
    endif
    set x = GetUnitX(u)
    set y = GetUnitY(u)
    if(TS9 == RL and AFIO < 10)or(TS9 == WL and AFIO < 9)or(TS9 == ZL and AFIO < 8)or(TS9 == AL and AFIO < 7)or(TS9 == LL and AFIO < 6)or(TS9 == D1 and AFIO < 5)or(TS9 == E1 and AFIO < 4)then
        if AFIO == 10 then
            set AF1O = RL
        elseif AFIO == 9 then
            set AF1O = WL
        elseif AFIO == 8 then
            set AF1O = ZL
        elseif AFIO == 7 then
            set AF1O = AL
        elseif AFIO == 6 then
            set AF1O = LL
        elseif AFIO == 5 then
            set AF1O = D1
        elseif AFIO == 4 then
            set AF1O = E1
        endif
        if AF1O > 0 then
            set AFF1 = AEG(u, Y98)
            set I44 = GetItemPlayer(Y98)
            call RemoveItem(Y98)
            set HK4 = VE9(u, BU[AF1O], AFF1)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        endif
    endif
    if TS9 == UY then
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", u, "overhead"))
        call PM8(GetOwningPlayer(u), "Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
        set I44 = GetItemPlayer(Y98)
        call ZT7(Y98)
        set HK4 = UnitAddItemById(u, BU[ZY])
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if TS9 == C3 and GetItemCharges(Y98) == 0 then
        set I44 = GetItemPlayer(Y98)
        call ZT7(Y98)
        set HK4 = UnitAddItemById(u, BU[F6])
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if TS9 == YZ and GetItemCharges(Y98) == 0 then
        set I44 = GetItemPlayer(Y98)
        call ZT7(Y98)
        set HK4 = UnitAddItemById(u, BU[AZ])
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    call DisableTrigger(GW4)
    if(TS9 == AC or TS9 == ZC or TS9 == BC)and(AU7(u, BU[AC], Y98) != null or AU7(u, BU[ZC], Y98) != null or AU7(u, BU[BC], Y98) != null)then
        call PN8(GetOwningPlayer(u), (GetObjectName(('n02L'))))
        set I44 = GetItemPlayer(Y98)
        call RemoveItem(Y98)
        set HK4 = CreateItem(AU[TS9], x, y)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if(TS9 == P2 or TS9 == H2 or TS9 == S2 or TS9 == R2)and(AU7(u, BU[P2], Y98) != null or AU7(u, BU[H2], Y98) != null or AU7(u, BU[S2], Y98) != null or AU7(u, BU[R2], Y98) != null)then
        call PN8(GetOwningPlayer(u), (GetObjectName(('n02C'))))
        set I44 = GetItemPlayer(Y98)
        call RemoveItem(Y98)
        set HK4 = CreateItem(AU[TS9], x, y)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if(TS9 == J0 and IsPlayerEnemy(GetItemPlayer(Y98), GetOwningPlayer(u)))then
        set I44 = GetItemPlayer(Y98)
        call ZT7(Y98)
        set HK4 = UnitAddItemById(u, BU[N0])
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if(TS9 == F1)and(ZR7(u)or UX8(u))then
        if ZR7(u)then
            call PN8(GetOwningPlayer(u), (GetObjectName(('n02K'))))
        endif
        set I44 = GetItemPlayer(Y98)
        set HB4 = GetItemCharges(Y98)
        call RemoveItem(Y98)
        if TS9 == F1 then
            set HK4 = CreateItem(AU[TS9], GetRectCenterX(AD), GetRectCenterY(AD))
        endif
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        if TS9 == F1 then
            call SetItemCharges(HK4, HB4)
        endif
    endif
    if UX8(u)and TS9 == CZ then
        set I44 = GetItemPlayer(Y98)
        call RemoveItem(Y98)
        set HK4 = UnitAddItemById(u, BU[IA])
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if(TS9 == RL or TS9 == WL or TS9 == ZL or TS9 == AL or TS9 == LL or TS9 == D1 or TS9 == E1)and z8 == 'U00C' then
        call DisplayTimedTextToPlayer(GetOwningPlayer(u), 0, V9, 10, "|c00ff0303" + (GetObjectName(('n02P'))) + "|r")
    endif
    if TS9 == IDL and AU7(u, BU[IDL], Y98) == null and IsUnitType(u, UNIT_TYPE_RANGED_ATTACKER) then
        call IncreaseUnitWeapon1RangeFixed(u, 130)
    endif
    if TS9 == IAL and AU7(u, BU[IAL], Y98) == null then
        call AetherLensEffectRegister(u)
    endif
    call EnableTrigger(GW4)
    if Y0G then
        call XVF(AM7, Y98)
    endif
    set u = null
    set Y98 = null
    return false
endfunction
function Y5G takes integer TS9 returns boolean
    return TS9 == N6 or TS9 == R2 or TS9 == S2 or TS9 == W2 or TS9 == H6 or TS9 == H2 or TS9 == P2 or TS9 == T2 or TS9 == NW or TS9 == OW or TS9 == CC or TS9 == LC
endfunction
function Y2G takes integer TS9 returns boolean
    return TS9 == NW or TS9 == OW
endfunction
function Y_G takes unit N28, item JB9 returns boolean
    local item ZV7 = JB9
    local integer TS9 = ZX7(ZV7)
    local integer Z4G = 0
    local boolean UY9 = false
    local integer Z7G = ZY7(ZV7)
    local boolean Z8G = false
    if IsUnitType(N28, UNIT_TYPE_HERO) then
        if TS9 == N6 then
            set Z4G = H6
        elseif TS9 == LC then
            set Z4G = CC
        elseif TS9 == R2 then
            set Z4G = H2
        elseif TS9 == S2 then
            set Z4G = P2
        elseif TS9 == W2 then
            set Z4G = T2
        elseif TS9 == OW then
            set Z4G = NW
        endif
        if Z7G == OW then
            set Z4G = NW
            set Z8G = true
        endif
        if Z4G != 0 then
            set I44 = GetItemPlayer(ZV7)
            call ZT7(ZV7)
            if Z8G then
                set HK4 = UnitAddItemById(N28, LU[Z4G])
            else
                set HK4 = UnitAddItemById(N28, BU[Z4G])
            endif
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            set UY9 = true
        endif
    else
        if TS9 == H6 then
            set Z4G = N6
        elseif TS9 == CC then
            set Z4G = LC
        elseif TS9 == H2 then
            set Z4G = R2
        elseif TS9 == P2 then
            set Z4G = S2
        elseif TS9 == T2 then
            set Z4G = W2
        elseif TS9 == NW then
            set Z4G = OW
        endif
        if Z7G == NW then
            set Z4G = OW
            set Z8G = true
        endif
        if Z4G != 0 then
            set I44 = GetItemPlayer(ZV7)
            call ZT7(ZV7)
            if Z8G then
                set HK4 = UnitAddItemById(N28, LU[Z4G])
            else
                set HK4 = UnitAddItemById(N28, BU[Z4G])
            endif
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            set UY9 = true
        endif
    endif
    set ZV7 = null
    return UY9
endfunction
function Z9G takes unit N28, item JB9 returns boolean
    if Y5G(ZX7(JB9))or Y2G(ZY7(JB9))then
        return Y_G(N28, JB9)
    endif
    return false
endfunction
function ZDG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit YKG = (LoadUnitHandle(R8, (EC8), (26)))
    local integer ZEG = (LoadInteger(R8, (EC8), (97)))
    local integer TK9 = (LoadInteger(R8, (EC8), (93)))
    local boolean ZFG = (LoadBoolean(R8, (EC8), (95)))
    local item Y98
    local player p = GetOwningPlayer(YKG)
    local player ZGG
    local integer Q_G
    local boolean ZHG = false
    local item QBG
    local integer n5
    local integer A7F
    local item Z4
    local item ZIG
    local boolean ZJG = false
    call DisableTrigger(T34)
    if ZFG then
        set ZIG = null
        set ZGG = (LoadPlayerHandle(R8, (EC8), (54)))
        set Q_G = (LoadInteger(R8, (EC8), (76)))
    else
        set Y98 = (LoadItemHandle(R8, (EC8), (96)))
        set ZIG = Y98
        set ZGG = GetItemPlayer(Y98)
        set Q_G = GetItemCharges(Y98)
    endif
    set OO7 = TK9
    set ON7 = ZGG
    set g_aiStatInt[512 + GetPlayerId(ON7)] = 1
    if ZFG then
        // set OI7[288 + GetPlayerId(ZGG)] = null
    else
        // set OI7[288 + GetPlayerId(ZGG)] = Y98
    endif
    if ZFG == false and Y98 == null then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call EnableTrigger(T34)
        set t = null
        set YKG = null
        set p = null
        return false
    endif
    if ZEG == 1 then
        if p != ZGG and GetUnitTypeId(YKG) == 'ncop' then
            if TT9(TJ9(TK9))or TU9(TJ9(TK9))then
                set ZHG = true
            endif
            if IsPlayerEnemy(p, ZGG)then
                call XIG(AU[TK9], KS4[GetPlayerId(p)], KT4[GetPlayerId(p)], ZGG, ZHG, Q_G)
            else
                call XIG(AU[TK9], KS4[GetPlayerId(ZGG)], KT4[GetPlayerId(ZGG)], ZGG, ZHG, Q_G)
            endif
            call PN8(p, (GetObjectName('n0DR')))
            if ZFG == false then
                set ZJG = true
                call ZT7(Y98)
            endif
        elseif PI4 == false and ZFG == false and GetItemType(Y98) == ITEM_TYPE_CAMPAIGN and XNG(Y98) != 0 and((p == ZGG and not MUIsMessenger(YKG))or(GetPlayerSlotState((ZGG)) == PLAYER_SLOT_STATE_LEFT))then
            if TU9(TK9) or TT9(TK9)then
                set ZHG = true
            else
                set ZHG = false
            endif
            if(GetPlayerSlotState(ZGG) == PLAYER_SLOT_STATE_LEFT)and NB8(TK9)then
            else
                call ZT7(Y98)
                set ZJG = true
                set QBG = UnitAddItemById(YKG, BU[TK9])
                set ZIG = QBG
                call SetItemPlayer(QBG, ZGG, false)
                call SetItemUserData(QBG, 0)
                if ZHG then
                    call SetItemCharges(QBG, Q_G)
                endif
            endif
        elseif PI4 == false and ZFG == false and GetItemType(Y98) == ITEM_TYPE_PERMANENT and (p != ZGG or MUIsMessenger(YKG)) and LU[ZU7(Y98)] != 0 and(GetPlayerSlotState((ZGG)) == PLAYER_SLOT_STATE_LEFT) == false then
            if TU9(TK9) or TT9(TK9)then
                set ZHG = true
            else
                set ZHG = false
            endif
            call ZT7(Y98)
            set ZJG = true
            set QBG = UnitAddItemById(YKG, LU[TK9])
            set ZIG = QBG
            call SetItemPlayer(QBG, ZGG, false)
            call SetItemUserData(QBG, 0)
            if ZHG then
                call SetItemCharges(QBG, Q_G)
            endif
        elseif ZFG == false and GetItemType(Y98) == ITEM_TYPE_PERMANENT and TR9(Y98)and IsUnitType(YKG, UNIT_TYPE_HERO) then
            set n5 = BT9(YKG)
            set A7F = BU9(YKG)
            if A7F != 0 and TK9 == n5 then
                call UnitAddAbility(YKG, A7F)
                call UnitMakeAbilityPermanent(YKG, true, A7F)
                call SetPlayerAbilityAvailable(p, A7F, false)
            endif
            if TK9 != n5 then
                call ZT7(Y98)
                set QBG = UnitAddItemById(YKG, BU[n5])
                set ZIG = QBG
                call SetItemPlayer(QBG, ZGG, false)
                call SetItemUserData(QBG, 1)
            endif
        elseif ZFG == false and GetItemType(Y98) == ITEM_TYPE_ARTIFACT then
            call DisableTrigger(GW4)
            set Z4 = XJG(ZGG, YKG, TK9, Y98)
            if Z4 == null then
            else
                call SetItemCharges(Z4, Q_G + GetItemCharges(Z4))
                call ZT7(Y98)
                set ZIG = null
            endif
            call EnableTrigger(GW4)
        elseif ZFG and TK9 > 0 and TT9(TJ9(TK9))then
            call DisableTrigger(GW4)
            if XYF(YKG) == 0 and XMG(ZGG, YKG, TK9) == null then
                call PN8(p, (GetObjectName('n02O')))
                call XIG(AU[(TK9)], (LoadReal(R8, (EC8), (6))), (LoadReal(R8, (EC8), (7))), (ZGG), (true), (Q_G))
            else
                set Z4 = XMG(ZGG, YKG, TK9)
                if Z4 == null then
                    set QBG = UnitAddItemById(YKG, BU[TK9])
                    set ZIG = QBG
                    call SetItemPlayer(QBG, ZGG, false)
                    call SetItemUserData(QBG, 1)
                    call SetItemCharges(QBG, Q_G)
                else
                    call SetItemCharges(Z4, Q_G + GetItemCharges(Z4))
                    // set OI7[288 + GetPlayerId(ZGG)] = Z4
                endif
            endif
            call EnableTrigger(GW4)
        elseif ZFG and TK9 > 0 then
            call YHG(ZGG, YKG, null, TK9, (LoadReal(R8, (EC8), (6))), (LoadReal(R8, (EC8), (7))), Q_G, 1)
        elseif ZFG == false and(GetItemType(Y98) == ITEM_TYPE_PERMANENT or GetItemType(Y98) == ITEM_TYPE_CAMPAIGN)then
            call SetItemUserData(Y98, 1)
            set ZJG = Y9G(ZGG, YKG, 0)
        endif
        if ZJG == false and ZIG != null and XOG(ZIG) == false then
            set ZJG = Z9G(YKG, ZIG)
        endif
        if ZJG == false and ZIG != null and XOG(ZIG) == false then
            call Y1G(YKG, ZIG)
        endif
    else
        if GetWidgetLife(Y98) > 0 then
            set n5 = BT9(YKG)
            if AV7(YKG, BU[n5]) == null then
                set A7F = BU9(YKG)
                if GetUnitAbilityLevel(YKG, A7F) > 0 then
                    call UnitRemoveAbility(YKG, A7F)
                    call HeroAghanimSkillOff(YKG)
                endif
            endif
            if IsEnabledItem(Y98, IDL) and AV7(YKG, BU[IDL]) == null and IsUnitType(YKG, UNIT_TYPE_RANGED_ATTACKER) then
                call DecreaseUnitWeapon1RangeFixed(YKG, 130)
            endif
            if IsItemOwned(Y98) == false then
                if GetItemType(Y98) == ITEM_TYPE_ARTIFACT or TU9(TK9)or TT9(TK9)then
                    set ZHG = true
                endif
                call XIG(AU[TK9], GetItemX(Y98), GetItemY(Y98), ZGG, ZHG, Q_G)
                call ZT7(Y98)
            endif
        endif
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call EnableTrigger(T34)
    if ZIG != null then
        // set OI7[288 + GetPlayerId(ZGG)] = ZIG
    endif
    set t = null
    set Y98 = null
    set YKG = null
    set p = null
    set ZGG = null
    set QBG = null
    set Z4 = null
    set ZIG = null
    return false
endfunction
function AF71 takes unit Y47, integer TS9 returns boolean
    local item JB9
    local boolean AF81 = false
    local boolean AF91 = true
    set JB9 = CreateItem(TS9, GetUnitX(Y47), GetUnitY(Y47))
    if GetUnitAbilityLevel(Y47, 'AInv') == 0 then
        set AF81 = true
        call O68(Y47, 'AInv')
    endif
    if UnitAddItem(Y47, JB9) == false then
        call RemoveItem(JB9)
        set AF91 = false
    elseif GetWidgetLife(JB9) > 0 then
        call RemoveItem(JB9)
        set AF91 = false
    endif
    if AF81 then
        call UnitRemoveAbility(Y47, 'AInv')
    endif
    set JB9 = null
    return AF91
endfunction
function ZKG takes nothing returns boolean
    local item JB9
    local integer ZEG
    local unit YKG = GetTriggerUnit()
    local trigger t
    local integer EC8
    local integer n5
    local integer A7F
    local integer id = GetPlayerId(GetOwningPlayer(YKG))
    // if IsAiFlag[id]and(not g_aiItemBool[304 + id])and(GetManipulatedItem() != OI7[336 + id])then
    // elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_PAWN_ITEM then
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PAWN_ITEM then
        set JB9 = GetSoldItem()
        call SetItemUserData(JB9, - 2)
        set n5 = BT9(YKG)
        if AU7(YKG, BU[n5], JB9) == null then
            set A7F = BU9(YKG)
            if GetUnitAbilityLevel(YKG, A7F) > 0 then
                call UnitRemoveAbility(YKG, A7F)
                call HeroAghanimSkillOff(YKG)
            endif
        endif
        if IsEnabledItem(JB9, IDL) and AU7(YKG, BU[IDL], JB9) == null and IsUnitType(YKG, UNIT_TYPE_RANGED_ATTACKER) then
            call DecreaseUnitWeapon1RangeFixed(YKG, 130)
        endif
    elseif IsRuneOrDummyItem(GetItemTypeId(GetManipulatedItem())) == false then
        set JB9 = GetManipulatedItem()
        if IsUnitIllusion(YKG)or GetItemUserData(JB9) ==- 2 then
            set JB9 = null
            set YKG = null
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
            set ZEG = 1
        else
            set ZEG = 2
        endif
        if(ZEG == 1 or(ZEG == 2 and XOG(JB9) == false and GetWidgetLife(JB9) > 0))and GetUnitTypeId(YKG) != 'H00J' then
            set OO7 = ZU7(JB9)
            if(GetItemPlayer(JB9) != Player(PLAYER_NEUTRAL_PASSIVE))then
                set ON7 = GetItemPlayer(JB9)
            endif
            // set OI7[288 + GetPlayerId(ON7)] = null
            set t = CreateTrigger()
            set EC8 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function ZDG))
            call SaveUnitHandle(R8, (EC8), (26), (YKG))
            call SaveInteger(R8, (EC8), (97), (ZEG))
            call SaveInteger(R8, (EC8), (93), (OO7))
            if XOG(JB9)then
                call SaveBoolean(R8, (EC8), (95), (true))
                call SavePlayerHandle(R8, (EC8), (54), (ON7))
                call SaveInteger(R8, (EC8), (76), (GetItemCharges(JB9)))
                call SaveReal(R8, (EC8), (6), (GetItemX(JB9)))
                call SaveReal(R8, (EC8), (7), (GetItemY(JB9)))
            else
                call SaveBoolean(R8, (EC8), (95), (false))
                call SaveItemHandle(R8, (EC8), (96), (JB9))
                call SaveInteger(R8, (EC8), (76), (GetItemCharges(JB9)))
                call SetItemUserData(JB9, 0)
            endif
        endif
    endif
    // set g_aiItemBool[304 + id] = false
    set JB9 = null
    set YKG = null
    set t = null
    return false
endfunction
function GlobalItemCount takes nothing returns boolean
    local unit YKG = GetTriggerUnit()
    local integer id = GetPlayerId(GetOwningPlayer(YKG))
    local integer ZW7 = GetItemTypeId(GetManipulatedItem())
    if(IsUnitType(YKG, UNIT_TYPE_HERO) or UX8(YKG))and IsUnitIllusion(YKG) == false and XC8(GetUnitTypeId(YKG)) == false then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
            if ZW7 == BU[TY]then
                set SM4[id] = SM4[id] + 1
            elseif ZW7 == BU[TW]or ZW7 == BU[UW]then
                set GZ4 = GZ4 + 1
                set SN4[id] = SN4[id] + 1
            elseif ZW7 == BU[E2]then
                set GA4 = GA4 + 1
                set SO4[id] = SO4[id] + 1
            elseif ZW7 == BU[X3]or ZW7 == BU[NC]then
                set SP4[id] = SP4[id] + 1
            elseif ZW7 == BU[D0]then
                set GX4 = GX4 + 1
                set SQ4[id] = SQ4[id] + 1
                call AF71(YKG, 'I0HM')
            elseif ZW7 == BU[E0]then
                set GX4 = GX4 + 1
                set SQ4[id] = SQ4[id] + 1
            elseif ZW7 == BU[B0]or ZW7 == BU[C0]then
                set G34 = G34 + 1
                set SR4[id] = SR4[id] + 1
            elseif ZW7 == BU[A6]then
                set SS4[id] = SS4[id] + 1
            elseif ZW7 == BU[W3]then
                set ST4[id] = ST4[id] + 1
            elseif ZW7 == BU[JC]then
                set JK7[id] = JK7[id] + 1
            elseif ZW7 == BU[IBY]then
                set PSilverEdgeNum[id] = PSilverEdgeNum[id] + 1
            elseif ZW7 == BU[NZ]then
                set PQuellingBladeNum[id] = PQuellingBladeNum[id] + 1
            elseif ZW7 == BU[IIT]then
                set PIronTalonNum[id] = PIronTalonNum[id] + 1
            elseif ZW7 == BU[ER4]then
                set POrbOfVenomNum[id] = POrbOfVenomNum[id] + 1
            elseif ZW7 == BU[HL]then
                set PBattleFurryNum[id] = PBattleFurryNum[id] + 1
            elseif ZW7 == BU[CZ]or ZW7 == BU[IA]then
                set JJ7 = JJ7 + 1
                set JO7[id] = JO7[id] + 1
            elseif ZW7 == BU[IOC]then
                set POctarineNum[id] = POctarineNum[id] + 1
            elseif ZW7 == BU[IAL]then
                set PAetherLensNum[id] = PAetherLensNum[id] + 1
            elseif ZW7 == BU[C3]or ZW7 == BU[E6]or ZW7 == BU[F6]or ZW7 == BU[G6]then
                set AMI0[id] = AMI0[id] + 1
            endif
        elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_DROP_ITEM then
            if ZW7 == BU[TY]then
                set SM4[id] = SM4[id] - 1
            elseif ZW7 == BU[TW]or ZW7 == BU[UW]then
                set SN4[id] = SN4[id] - 1
                set GZ4 = GZ4 - 1
            elseif ZW7 == BU[CZ]or ZW7 == BU[IA]then
                set JO7[id] = JO7[id] - 1
                set JJ7 = JJ7 - 1
            elseif ZW7 == BU[E2]then
                set SO4[id] = SO4[id] - 1
                set GA4 = GA4 - 1
            elseif ZW7 == BU[X3]or ZW7 == BU[NC]then
                set SP4[id] = SP4[id] - 1
                if SP4[id] < 1 or AU7(YKG, BU[X3], GetManipulatedItem()) == null or AU7(YKG, BU[NC], GetManipulatedItem()) == null then
                    call UnitRemoveAbility(YKG, 'A174')
                endif
            elseif ZW7 == BU[B0]or ZW7 == BU[C0]then
                set SR4[id] = SR4[id] - 1
                set G34 = G34 - 1
            elseif ZW7 == BU[A6]then
                set SS4[id] = SS4[id] - 1
            elseif ZW7 == BU[W3]then
                set ST4[id] = ST4[id] - 1
            elseif ZW7 == BU[JC]then
                set JK7[id] = JK7[id] - 1
            elseif ZW7 == BU[D0]or ZW7 == LU[D0]then
                set GX4 = IMaxBJ(GX4 - 1, 0)
                set SQ4[id] = IMaxBJ(SQ4[id] - 1, 0)
                call UnitRemoveAbility(YKG, 'B0BI')
            elseif ZW7 == BU[E0]then
                set SQ4[id] = SQ4[id] - 1
            elseif ZW7 == BU[IBY]then
                set PSilverEdgeNum[id] = PSilverEdgeNum[id] - 1
            elseif ZW7 == BU[IOC]then
                set POctarineNum[id] = POctarineNum[id] - 1
            elseif ZW7 == BU[IAL]then
                set PAetherLensNum[id] = PAetherLensNum[id] - 1
            elseif ZW7 == BU[NZ]then
                set PQuellingBladeNum[id] = PQuellingBladeNum[id] - 1
            elseif ZW7 == BU[IIT]then
                set PIronTalonNum[id] = PIronTalonNum[id] - 1
            elseif ZW7 == BU[ER4]then
                set POrbOfVenomNum[id] = POrbOfVenomNum[id] - 1
            elseif ZW7 == BU[HL]then
                set PBattleFurryNum[id] = PBattleFurryNum[id] - 1
            elseif ZW7 == BU[C3]or ZW7 == BU[E6]or ZW7 == BU[F6]or ZW7 == BU[G6]then
                set AMI0[id] = AMI0[id] - 1
            endif
        endif
    endif
    set YKG = null
    return false
endfunction
function ZMG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    if GetUnitAbilityLevel(N28, 'B01S') == 0 then
        call UnitRemoveAbility(N28, 'B01S')
        call UnitRemoveAbility(N28, 'B04A')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetUnitState(N28, UNIT_STATE_LIFE) == GetUnitState(N28, UNIT_STATE_MAX_LIFE)and GetUnitState(N28, UNIT_STATE_MANA) == GetUnitState(N28, UNIT_STATE_MAX_MANA)then
        call UnitRemoveAbility(N28, 'B01S')
        call UnitRemoveAbility(N28, 'B04A')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function ZNG takes unit N28, item JB9 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function ZMG))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    set t = null
endfunction
function AFUO takes unit N28, item JB9 returns nothing
    local integer AG0O = R2I((TimerGetElapsed(E4)) / 60)
    local integer AAXP = 50 + 5 * AG0O
    local integer AROI = 50 + 2 * AG0O
    local boolean AGIO = (LoadBoolean(R8, (GetHandleId(JB9)), (835)))
    if AGIO then
        set AAXP = 100
        set AROI = 100
    endif
    if GetUnitAbilityLevel(N28, 'A0O3') > 0 then
        set AROI = AROI * (GetUnitAbilityLevel(N28, 'A0O3') + 3)
    endif
    call AddHeroXP(N28, AAXP, true)
    call QO9(GetOwningPlayer(N28), AROI, N28, false, true)
    call PlaySoundOnUnitBJ(AAAG, 100, N28)
endfunction
function ZOG takes unit N28, item JB9 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    if IsUnitType(N28, UNIT_TYPE_MELEE_ATTACKER) == true then
        call UnitAddAbility(AC7, 'A2XN')
    else
        call UnitAddAbility(AC7, 'A0GR')
    endif
    call IssueTargetOrderById(AC7, 852274, N28)
    call IssueTargetOrderById(AC7, 852274, N28)
    set AC7 = null
endfunction
function ArcaneRuneRestoreMC takes ability a, integer EC8 returns nothing
    local integer i = 1
    local integer before
    local integer level = BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS)
    loop
        exitwhen i > level
        set before = LoadInteger(R8, EC8, GetHandleId(a) + 17 * i)
        call FbSetAbilityIntegerLevelField(a, ABILITY_ILF_MANA_COST, i, before)
        set i = i + 1
    endloop
    set a = null
endfunction
function ArcaneRuneUnitRestoreMC takes unit hero, integer EC8 returns nothing
    local integer i = 0
    local ability a
    loop
        set a = BlzGetUnitAbilityByIndex(hero, i)
        exitwhen BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS) == 0
        if BlzGetAbilityBooleanField(a, ABILITY_BF_HERO_ABILITY) or BlzGetAbilityBooleanField(a, ABILITY_BF_ITEM_ABILITY) then
            if LoadInteger(R8, EC8, GetHandleId(a)) == 2 then
                call SaveInteger(R8, EC8, GetHandleId(a), (0))
                call ArcaneRuneRestoreMC(a, EC8)
            endif
        endif
        set i = i + 1
    endloop
    set a = null
endfunction
function ArcaneRuneReduceMC takes ability a, integer EC8 returns nothing
    local integer i = 1
    local integer before
    local integer level = BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS)
    loop
        exitwhen i > level
        set before = FbGetAbilityIntegerLevelField(a, ABILITY_ILF_MANA_COST, i)
        if before > 0 then
            call SaveInteger(R8, EC8, GetHandleId(a), (2))
            call SaveInteger(R8, EC8, GetHandleId(a) + 17 * i, (before))
            call FbSetAbilityIntegerLevelField(a, ABILITY_ILF_MANA_COST, i, before * 3 / 5)
        endif
        set i = i + 1
    endloop
endfunction
function ArcaneRuneUnitReduceMC takes unit N28, integer EC8 returns nothing
    local integer i = 0
    local ability a
    loop
        set a = BlzGetUnitAbilityByIndex(N28, i)
        exitwhen BlzGetAbilityIntegerField(a, ABILITY_IF_LEVELS) == 0
        if BlzGetAbilityBooleanField(a, ABILITY_BF_HERO_ABILITY) or BlzGetAbilityBooleanField(a, ABILITY_BF_ITEM_ABILITY) then
            if LoadInteger(R8, EC8, GetHandleId(a)) == 0 then
                call SaveInteger(R8, EC8, GetHandleId(a), (1))
                call ArcaneRuneReduceMC(a, EC8)
            endif
        endif
        set i = i + 1
    endloop
    set a = null
endfunction
function ArcaneRuneEffectAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = LoadUnitHandle(R8, (EC8), (14))
    if GetTriggerEventId() == EVENT_UNIT_HERO_SKILL or GetTriggerEventId() == EVENT_UNIT_PICKUP_ITEM then
        call ArcaneRuneUnitReduceMC(N28, EC8)
    else
        if GetUnitAbilityLevel(N28, 'B3R4') == 0 then
            call ArcaneRuneUnitRestoreMC(N28, EC8)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    endif
    set t = null
    set N28 = null
endfunction
function ArcaneRuneEffectRegister takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    call BlzSetAbilityBooleanField(BlzGetUnitAbility(N28, 'B3R4'), ABILITY_BF_ITEM_ABILITY, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_HERO_SKILL)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_PICKUP_ITEM)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddAction(t, function ArcaneRuneEffectAction)
    call SaveUnitHandle(R8, GetHandleId(t), (14), (N28))
    call TriggerExecute(t)
    set t = null
endfunction
function ArcaneRuneNewEffectCondt takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'B3R4') > 0 and IsUnitIllusion(GetFilterUnit()) == false and BlzGetAbilityBooleanField(BlzGetUnitAbility(GetFilterUnit(), 'B3R4'), ABILITY_BF_ITEM_ABILITY) == false
endfunction
function ArcaneRuneEffect takes unit N28, item JB9 returns nothing
    local group g = OG8()
    local unit u
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(N28), Condition(function ArcaneRuneNewEffectCondt))
    loop
        set u = FirstOfGroup(g)
        exitwhen u == null
        call GroupRemoveUnit(g, u)
        call ArcaneRuneEffectRegister(u)
    endloop
    call OF8(g)
    set g = null
    set u = null
endfunction
function ZQG takes unit N28, item JB9 returns nothing
    if GetItemTypeId(JB9) == 'I007' or GetItemTypeId(JB9) == 'I006' or GetItemTypeId(JB9) == 'I008' or GetItemTypeId(JB9) == 'I00K' or GetItemTypeId(JB9) == 'I00J' or GetItemTypeId(JB9) == 'I0RC' or GetItemTypeId(JB9) == 'I0V8' then
        call A29(N28, GetItemTypeId(JB9), false)
    endif
    if GetItemTypeId(JB9) == 'I007' then
        call ZOG(N28, JB9)
    elseif GetItemTypeId(JB9) == 'I00J' then
        if GetUnitAbilityLevel(N28, 'B09Y') > 0 then
            call UnitRemoveAbility(N28, 'B09Y')
            call UnitRemoveAbility(N28, 'B01Q')
            call DisableTrigger(GetTriggeringTrigger())
            call UnitAddItemById(N28, 'I00J')
            call EnableTrigger(GetTriggeringTrigger())
        endif
    elseif GetItemTypeId(JB9) == 'I008' then
        call ZNG(N28, JB9)
    elseif GetItemTypeId(JB9) == 'I0RC' then
        call AFUO(N28, JB9)
    elseif GetItemTypeId(JB9) == 'I0V8' then
        call ArcaneRuneEffect(N28, JB9)
    endif
endfunction
function ZRG takes unit AM7, item Y98 returns nothing
    local integer OL8
    local integer ML8
    call UnitRemoveAbility(AM7, 'A27S')
    call UnitRemoveAbility(AM7, 'A27Q')
    call UnitRemoveAbility(AM7, 'A27R')
    call UnitRemoveAbility(AM7, 'A27T')
    if GetUnitAbilityLevel(AM7, 'A28F') > 0 then
        call UnitRemoveAbility(AM7, 'A28F')
        call UnitAddAbility(AM7, 'A28F')
    endif
    if GetUnitTypeId(AM7) == 'Edem' then
        set OL8 = 'A0KY'
    elseif GetUnitTypeId(AM7) == 'U00F' then
        set OL8 = 'A06D'
    elseif GetUnitTypeId(AM7) == 'EC77' then
        set OL8 = 'A0MM'
    elseif GetUnitTypeId(AM7) == 'Ogrh' then
        set OL8 = 'A0YK'
    elseif GetUnitTypeId(AM7) == 'H00J' or GetUnitTypeId(AM7) == 'H00I' then
        set OL8 = 'A2QA'
    elseif GetUnitTypeId(AM7) == 'UC60' then
        set OL8 = 'A2TS'
    else
        set AM7 = null
        return
    endif
    set ML8 = GetUnitAbilityLevel(AM7, OL8)
    if ML8 > 0 then
        call UnitRemoveAbility(AM7, OL8)
        call UnitAddAbility(AM7, OL8)
        call SetUnitAbilityLevel(AM7, OL8, ML8)
    endif
endfunction
function IsWard takes unit u returns boolean
    local integer id = GetUnitTypeId(u)
    return (id == 'o004' or id == 'oeye') or id == 'otot' or (id == 'o018' or id == 'o002' or id == 'o00B' or id == 'o01B') or (id == 'n00O' or id == 'n00P' or id == 'n00Q' or id == 'n00N')
endfunction
function ZVG takes nothing returns nothing
    local integer ZTG
    local unit u = GetTriggerUnit()
    local item JB9
    set ZTG = GetIssuedOrderId() - 852008
    set JB9 = UnitItemInSlot(u, ZTG)
    if JB9 != null and GetWidgetLife(JB9) > 0 then
        if IsEnabledItem(JB9, NZ) or IsEnabledItem(JB9, HL) then
            if GetOrderTargetUnit() != null and IsWard(GetOrderTargetUnit()) then
                call FbSetAbilityRealLevelField(BlzGetUnitAbility(u, 'A1FD'), ABILITY_RLF_CAST_RANGE, 1, 450.)
            else
                call FbSetAbilityRealLevelField(BlzGetUnitAbility(u, 'A1FD'), ABILITY_RLF_CAST_RANGE, 1, 350.)
            endif
        elseif IsEnabledItem(JB9, IIT) then
            if GetOrderTargetUnit() != null then
                if IsWard(GetOrderTargetUnit()) then
                    call SetUnitAbilityLevel(u, 'A3O4', 2)
                else
                    call SetUnitAbilityLevel(u, 'A3O4', 3)
                endif
            else
                call SetUnitAbilityLevel(u, 'A3O4', 1)
            endif
        elseif IsEnabledItem(JB9, BA) or IsEnabledItem(JB9, AZ90) then
            if GetOrderTargetUnit() != null and IsWard(GetOrderTargetUnit()) then
                call SetUnitAbilityLevel(u, 'Aeat', 2)
                call SetUnitAbilityLevel(u, 'A2VG', 2)
            elseif GetOrderTargetDestructable() != null or (GetOrderTargetDestructable() == null and GetOrderTargetUnit() == null) or (GetOrderTargetUnit() != null and GetOrderTargetUnit() != u and (IsUnitType(GetOrderTargetUnit(), UNIT_TYPE_HERO) or UX8(GetOrderTargetUnit())) and IsUnitAlly(u, GetOwningPlayer(GetOrderTargetUnit()))) then
                call SetUnitAbilityLevel(u, 'Aeat', 1)
                call SetUnitAbilityLevel(u, 'A2VG', 1)
            else
                call ZN7(u)
            endif
        endif
    endif
    set JB9 = null
    set u = null
endfunction
function ZWG takes nothing returns boolean
    if GetIssuedOrderId() >= 852008 and GetIssuedOrderId() <= 852013 then
        call ZVG()
    endif
    return false
endfunction
function ZXG takes integer TK9 returns boolean
    return TK9 != J0 and TK9 != E2 and TK9 != NW and TK9 != F1
endfunction
function ZYG takes nothing returns nothing
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
        call SetItemPawnable(GetManipulatedItem(), false)
    else
        call SetItemPawnable(GetManipulatedItem(), true)
    endif
endfunction
function ZZG takes nothing returns boolean
    if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and ZXG(ZX7(GetManipulatedItem()))and ZS7(GetTriggerUnit())then
        call ZYG()
    endif
    return false
endfunction
function ZAG takes nothing returns boolean
    local unit N28 = GetTriggerUnit()
    local integer TA8 = 1
    if AV7(N28, BU[IA]) != null then
        set TA8 = 2
    endif
    if AU7(N28, BU[MV], GetManipulatedItem()) != null then
        set TA8 = 3
    endif
    if AU7(N28, BU[Z2], GetManipulatedItem()) != null then
        set TA8 = 4
    endif
    if AU7(N28, BU[ZC], GetManipulatedItem()) != null or AU7(N28, BU[AC], GetManipulatedItem()) != null or AU7(N28, BU[BC], GetManipulatedItem()) != null then
        set TA8 = 5
    endif
    if AU7(N28, BU[ET4], GetManipulatedItem()) != null then
        set TA8 = 6
    endif
    if AU7(N28, BU[CZ], GetManipulatedItem()) != null then
        set TA8 = 7
    endif
    if AU7(N28, BU[YC], GetManipulatedItem()) != null then
        set TA8 = 8
    endif
    if AU7(N28, BU[V6], GetManipulatedItem()) != null then
        call UnitAddAbility(N28, 'A0V0')
        call SetUnitAbilityLevel(N28, 'A0V0', TA8)
        call UnitMakeAbilityPermanent(N28, true, 'A0V0')
    else
        call UnitRemoveAbility(N28, 'A0V0')
    endif
    set N28 = null
    return false
endfunction
function ZBG takes nothing returns boolean
    local unit N28 = GetTriggerUnit()
    local integer TA8 = 1
    if AV7(N28, BU[IA]) != null then
        set TA8 = 2
    endif
    if AU7(N28, BU[MV], GetManipulatedItem()) != null then
        set TA8 = 3
    endif
    if AV7(N28, BU[Z2]) != null then
        set TA8 = 4
    endif
    if AV7(N28, BU[ZC]) != null or AU7(N28, BU[AC], GetManipulatedItem()) != null or AU7(N28, BU[BC], GetManipulatedItem()) != null then
        set TA8 = 5
    endif
    if AV7(N28, BU[ET4]) != null or AV7(N28, BU[IGM]) != null then
        set TA8 = 6
    endif
    if AU7(N28, BU[CZ], GetManipulatedItem()) != null then
        set TA8 = 7
    endif
    if AV7(N28, BU[YC]) != null or AV7(N28, BU[DFX]) != null then
        set TA8 = 8
    endif
    if AV7(N28, BU[V6]) != null then
        call UnitAddAbility(N28, 'A0V0')
        call SetUnitAbilityLevel(N28, 'A0V0', TA8)
        call UnitMakeAbilityPermanent(N28, true, 'A0V0')
    endif
    set N28 = null
    return false
endfunction
function ZCG takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DROP_ITEM then
        if IsEnabledItem(GetManipulatedItem(), P2) or IsEnabledItem(GetManipulatedItem(), S2) then
            call UnitRemoveAbility(AM7, 'A2QD')
        endif
        if IsEnabledItem(GetManipulatedItem(), F5) then
            call UnitRemoveAbility(AM7, 'A1BW')
        endif
        if IsEnabledItem(GetManipulatedItem(), E2) then
            call UnitRemoveAbility(AM7, 'A0G3')
            call UnitRemoveAbility(AM7, 'A09M')
            call UnitRemoveAbility(AM7, 'A0UX')
            call UnitRemoveAbility(AM7, 'A2KL')
        endif
        if IsEnabledItem(GetManipulatedItem(), H2) or IsEnabledItem(GetManipulatedItem(), R2) then
            call UnitRemoveAbility(AM7, 'A2QD')
            call UnitRemoveAbility(AM7, 'A0TC')
            call UnitRemoveAbility(AM7, 'A0UK')
        endif
        if IsEnabledItem(GetManipulatedItem(), AZ40) then
            call UnitRemoveAbility(AM7, 'A2YE')
            call UnitRemoveAbility(AM7, 'A2YF')
            call UnitRemoveAbility(AM7, 'A319')
        endif
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
        if IsEnabledItem(GetManipulatedItem(), P2) or IsEnabledItem(GetManipulatedItem(), S2) then
            call UnitAddAbility(AM7, 'A2QD')
            call UnitMakeAbilityPermanent(AM7, true, 'A2QD')
        endif
        if IsEnabledItem(GetManipulatedItem(), F5) then
            call UnitAddAbility(AM7, 'A1BW')
            call UnitMakeAbilityPermanent(AM7, true, 'A1BW')
        endif
        if IsEnabledItem(GetManipulatedItem(), AZ40) then
            call O68(AM7, 'A319')
            if IsUnitType(AM7, UNIT_TYPE_MELEE_ATTACKER) == true then
                call O68(AM7, 'A2YE')
                call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A2YE', false)
            else
                call O68(AM7, 'A2YF')
                call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A2YF', false)
            endif
        endif
        if IsEnabledItem(GetManipulatedItem(), E2) then
            call O68(AM7, 'A0G3')
            call O68(AM7, 'A09M')
            call O68(AM7, 'A0UX')
            call O68(AM7, 'A2KL')
        endif
        if IsEnabledItem(GetManipulatedItem(), H2) or IsEnabledItem(GetManipulatedItem(), R2) then
            call UnitAddAbility(AM7, 'A2QD')
            call UnitMakeAbilityPermanent(AM7, true, 'A2QD')
            call UnitAddAbility(AM7, 'A0TC')
            call UnitMakeAbilityPermanent(AM7, true, 'A0TC')
            call UnitAddAbility(AM7, 'A0UK')
            call UnitMakeAbilityPermanent(AM7, true, 'A0UK')
        endif
    endif
    set AM7 = null
endfunction
function Z3G takes nothing returns boolean
    if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and(IsEnabledItem(GetManipulatedItem(), H2) or IsEnabledItem(GetManipulatedItem(), P2) or IsEnabledItem(GetManipulatedItem(), R2) or IsEnabledItem(GetManipulatedItem(), S2) or IsEnabledItem(GetManipulatedItem(), F5) or IsEnabledItem(GetManipulatedItem(), E2) or IsEnabledItem(GetManipulatedItem(), AZ40))then
        call ZCG()
    endif
    return false
endfunction
function AVIO takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer WG8
    if d < 1 then
        call UnitRemoveAbility(u, AMG0[0])
        call UnitRemoveAbility(u, AMG0[1])
        call UnitRemoveAbility(u, AMG0[2])
        call UnitRemoveAbility(u, AMG0[3])
        call UnitRemoveAbility(u, AMG0[4])
        return
    endif
    loop
        exitwhen c == 0
        set c = a / 2
        set b[i] = a - c * 2
        set a = c
        set i = i + 1
    endloop
    set WG8 = 4
    set i = 0
    loop
        exitwhen i > WG8
        if b[i] == 1 then
            call O68(u, AMG0[i])
        else
            call UnitRemoveAbility(u, AMG0[i])
        endif
        set i = i + 1
    endloop
endfunction
function AV1O takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local item JB9 = (LoadItemHandle(R8, (EC8), (96)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    local real AVOO = GetUnitState(N28, UNIT_STATE_MAX_LIFE) - GetUnitState(N28, UNIT_STATE_LIFE)
    if GetTriggerEventId() == EVENT_UNIT_DROP_ITEM and GetManipulatedItem() == JB9 then
        call SaveInteger(R8, (GetHandleId((N28))), ((4298)), (2))
        call AVIO(N28, 0)
        call SetUnitState(N28, UNIT_STATE_LIFE, RMaxBJ(GetUnitState(N28, UNIT_STATE_MAX_LIFE) - AVOO, 1))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() != EVENT_UNIT_DROP_ITEM and C77 < 25 then
        call SaveInteger(R8, (GetHandleId((N28))), ((4298)), (1))
        set C77 = C77 + 1
        call AVIO(N28, C77)
        call SetUnitState(N28, UNIT_STATE_LIFE, RMaxBJ(GetUnitState(N28, UNIT_STATE_MAX_LIFE) - AVOO, 1))
        call SaveInteger(R8, (EC8), (34), (C77))
    else
        call SaveInteger(R8, (GetHandleId((N28))), ((4298)), (2))
    endif
    set t = null
    set N28 = null
    set JB9 = null
    return false
endfunction
function Z6G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (W57), (14)))
    local item JB9 = (LoadItemHandle(R8, (W57), (96)))
    if GetTriggerEventId() == EVENT_UNIT_DROP_ITEM and GetManipulatedItem() == JB9 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() != EVENT_UNIT_DROP_ITEM then
        if((LoadInteger(R8, (GetHandleId((N28))), ((4310)))) == 1) == false then
            call SetUnitState(N28, UNIT_STATE_LIFE, RMaxBJ(GetUnitState(N28, UNIT_STATE_LIFE) - GL4 * .1, 1))
        endif
    endif
    set t = null
    set N28 = null
    set JB9 = null
    return false
endfunction
function ZLG takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function Z6G))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveItemHandle(R8, (W57), (96), (GetManipulatedItem()))
    call TriggerEvaluate(t)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.6 / 25, true)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function AV1O))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveItemHandle(R8, (W57), (96), (GetManipulatedItem()))
    call SaveInteger(R8, (W57), (34), (0))
    set t = null
    set AM7 = null
endfunction
function Z1G takes nothing returns boolean
    if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and(IsEnabledItem(GetManipulatedItem(), H2) or IsEnabledItem(GetManipulatedItem(), R2))then
        call ZLG()
    endif
    return false
endfunction
function AV6O takes nothing returns nothing
    local unit p5 = AMH0
    local unit target = GetEnumUnit()
    if((LoadInteger(R8, (GetHandleId((target))), (4341))) == 1) == false then
        call ASCI(target, 4341, 0.99)
        call V08(p5, target, 1, 50)
        call QG8("Abilities\\Spells\\Items\\HealingSalve\\HealingSalveTarget.mdl", target, "origin", 0.9)
    endif
    set p5 = null
    set target = null
endfunction
function AV7O takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local item JB9 = (LoadItemHandle(R8, (EC8), (96)))
    local unit oA = (LoadUnitHandle(R8, (EC8), (19)))
    local group g
    if N28 == null or(GetTriggerEventId() == EVENT_UNIT_DROP_ITEM and GetManipulatedItem() == JB9)then
        call KillUnit(oA)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEventId() != EVENT_UNIT_DROP_ITEM then
        if O18(N28) == false then
            call SetUnitX(oA, GetUnitX(N28))
            call SetUnitY(oA, GetUnitY(N28))
            call IssuePointOrderById(oA, 852473, GetUnitX(N28), GetUnitY(N28))
            set g = OG8()
            set H04 = N28
            set AMH0 = N28
            call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 725, Condition(function GenericCondition_EnemyUnitsEx))
            call ForGroup(g, function AV6O)
            call OF8(g)
            set g = null
        endif
    endif
    set N28 = null
    set oA = null
    set JB9 = null
    set t = null
    return false
endfunction
function AV8O takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit oA = CreateUnit(GetOwningPlayer(N28), 'e00C', GetUnitX(N28), GetUnitY(N28), 0)
    call ShowUnit(oA, false)
    call SetUnitPathing(oA, false)
    call SetUnitInvulnerable(oA, true)
    call O68(oA, 'A3DJ')
    if KO8(GetOwningPlayer(N28)) then
        call SetUnitAbilityLevel(oA, 'A3DJ', 2)
    endif
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveItemHandle(R8, (EC8), (96), (GetManipulatedItem()))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function AV7O))
    set t = null
    set oA = null
endfunction
function GreavesAuraRemove takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A393') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A393')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A394') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A394')
    endif
endfunction
function GreavesAuraGrant takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A393') == 0 then
        call O68(GetEnumUnit(), 'A393')
    endif
    if GetWidgetLife(GetEnumUnit()) / GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) < .2 then
        call SetUnitAbilityLevel(GetEnumUnit(), 'A393', 2)
        if GetUnitAbilityLevel(GetEnumUnit(), 'A394') == 0 then
            call O68(GetEnumUnit(), 'A394')
        endif
    else
        call SetUnitAbilityLevel(GetEnumUnit(), 'A393', 1)
        if GetUnitAbilityLevel(GetEnumUnit(), 'A394') > 0 then
            call UnitRemoveAbility(GetEnumUnit(), 'A394')
        endif
    endif
endfunction
function GreavesAuraAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local group XIE = (LoadGroupHandle(R8, (EC8), (340)))
    local item JB9 = (LoadItemHandle(R8, (EC8), (96)))
    local group g
    if N28 == null or(GetTriggerEventId() == EVENT_UNIT_DROP_ITEM and GetManipulatedItem() == JB9)then
        call ForGroup(XIE, function GreavesAuraRemove)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call OF8(XIE)
    elseif GetTriggerEventId() != EVENT_UNIT_DROP_ITEM then
        set g = OG8()
        set H04 = N28
        if O18(N28) == false then
            call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 925, Condition(function GenericCondition_AllyUnitsExWithAncient))
        endif
        call BlzGroupRemoveGroupFast(g, XIE)
        call ForGroup(XIE, function GreavesAuraRemove)
        if O18(N28) == false then
            call ForGroup(g, function GreavesAuraGrant)
        endif
        call SaveGroupHandle(R8, (EC8), (340), (g))
        call OF8(XIE)
        set g = null
    endif
    set t = null
    set XIE = null
    set N28 = null
    set JB9 = null
endfunction
function GreavesAura takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.3, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DROP_ITEM)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveItemHandle(R8, (EC8), (96), (GetManipulatedItem()))
    call SaveGroupHandle(R8, (EC8), (340), (OG8()))
    call TriggerAddAction(t, function GreavesAuraAction)
    set t = null
endfunction
function PipeAuraRemove takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A3AX') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A3AX')
    endif
endfunction
function PipeAuraGrant takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A3AX') == 0 then
        call O68(GetEnumUnit(), 'A3AX')
    endif
endfunction
function PipeAuraAction takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local group XIE = (LoadGroupHandle(R8, (EC8), (340)))
    local item JB9 = (LoadItemHandle(R8, (EC8), (96)))
    local group g
    if N28 == null or(GetTriggerEventId() == EVENT_UNIT_DROP_ITEM and GetManipulatedItem() == JB9)then
        call ForGroup(XIE, function PipeAuraRemove)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call OF8(XIE)
    elseif GetTriggerEventId() != EVENT_UNIT_DROP_ITEM then
        set g = OG8()
        set H04 = N28
        if O18(N28) == false then
            call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), 925, Condition(function GenericCondition_AllyUnitsExWithAncient))
        endif
        call BlzGroupRemoveGroupFast(g, XIE)
        call ForGroup(XIE, function PipeAuraRemove)
        if O18(N28) == false then
            call ForGroup(g, function PipeAuraGrant)
        endif
        call SaveGroupHandle(R8, (EC8), (340), (g))
        call OF8(XIE)
        set g = null
    endif
    set t = null
    set XIE = null
    set N28 = null
    set JB9 = null
endfunction
function PipeAura takes unit N28 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.3, true)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DROP_ITEM)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveItemHandle(R8, (EC8), (96), (GetManipulatedItem()))
    call SaveGroupHandle(R8, (EC8), (340), (OG8()))
    call TriggerAddAction(t, function PipeAuraAction)
    call GVD('A3AX')
    set t = null
endfunction
function AV9O takes nothing returns nothing
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM and GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and IsEnabledItem(GetManipulatedItem(), X0) then
        call AV8O(GetTriggerUnit())
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SUMMON and UnitInventorySize(GetSummonedUnit()) > 0 and AV7(GetSummonedUnit(), BU[X0]) != null then
        call AV8O(GetSummonedUnit())
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM and GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and IsEnabledItem(GetManipulatedItem(), IGM) then
        call GreavesAura(GetTriggerUnit())
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SUMMON and UnitInventorySize(GetSummonedUnit()) > 0 and AV7(GetSummonedUnit(), BU[IGM]) != null then
        call GreavesAura(GetSummonedUnit())
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM and GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and IsEnabledItem(GetManipulatedItem(), D84) then
        call PipeAura(GetTriggerUnit())
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SUMMON and UnitInventorySize(GetSummonedUnit()) > 0 and AV7(GetSummonedUnit(), BU[D84]) != null then
        call PipeAura(GetSummonedUnit())
    endif
endfunction
function Z0G takes unit u returns boolean
    local item Z5G = CreateItem('I0KK', GetUnitX(u), GetUnitY(u))
    local boolean V99 = UnitAddItem(u, Z5G)
    if V99 == false then
        call RemoveItem(Z5G)
    endif
    set Z5G = null
    return V99
endfunction
function Z2G takes unit N28, item JB9, integer MWG returns item
    local real x = V89(N28)
    local real y = VD9(N28)
    local integer i = 0
    local integer VG9 = 0
    local item Z4
    loop
        exitwhen i > (UnitInventorySize(N28) - 1)
        if UnitItemInSlot(N28, i) == null and i != MWG then
            set Z4 = CreateItem('I02M', x, y)
            call UnitAddItem(N28, Z4)
            set VG9 = BlzBitOr(VG9, LSP[i])
        endif
        if i == MWG then
            call UnitAddItem(N28, JB9)
        endif
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen i > bj_MAX_INVENTORY - 1
        if BlzBitAnd(VG9, LSP[i]) != 0 then
            call RemoveItem(UnitItemInSlot(N28, i))
        endif
        set i = i + 1
    endloop
    set HK4 = JB9
    set Z4 = null
    return HK4
endfunction
function AVEO takes unit N28, integer AVFO returns nothing
    local integer i = 0
    local item A4G
    local unit AC7
    local item A7G
    if O18(N28)then
        return
    endif
    call DisableTrigger(GW4)
    if SQ4[GetPlayerId(GetOwningPlayer(N28))] > 0 and AVFO == D0 then
        call AF71(N28, 'I0HM')
    endif
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set A4G = UnitItemInSlot(N28, i)
        if IsEnabledItem(A4G, E0) or IsEnabledItem(A4G, D0) then
            set I44 = GetItemPlayer(A4G)
            call RemoveItem(A4G)
            set AC7 = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
            call UnitAddAbility(AC7, 'AInv')
            set A7G = UnitAddItemById(AC7, BU[AVFO])
            call UnitResetCooldown(AC7)
            call UnitUseItem(AC7, A7G)
            set HK4 = Z2G(N28, A7G, i)
            call SetItemPlayer(A7G, I44, false)
            call SetItemUserData(A7G, 1)
            call UnitRemoveAbility(AC7, 'AInv')
            set AC7 = null
            set A7G = null
        endif
        set A4G = null
        set i = i + 1
    endloop
    call EnableTrigger(GW4)
endfunction
function Z_G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SaveBoolean(R8, (GetHandleId(N28)), (102), (false))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif Z0G(N28) == false then
        call TriggerRegisterTimerEvent(t, 5.5, false)
    else
        call SaveBoolean(R8, (GetHandleId(N28)), (102), (false))
        call AVEO(N28, D0)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    return false
endfunction
function A8G takes unit AM7 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveBoolean(R8, (GetHandleId(AM7)), (102), (true))
    call TriggerRegisterTimerEvent(t, 13, false)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function Z_G))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl", AM7, "origin"))
    call AVEO(AM7, E0)
    set t = null
endfunction
function ADG takes nothing returns boolean
    local integer i = 1
    local unit N28
    local integer id
    if U9 then
        return false
    endif
    if GX4 > 0 then
        loop
            exitwhen i > MAX_TEAM_PLAYERS
            set id = GetPlayerId(G8[i])
            set N28 = Y7[id]
            if SQ4[id] > 0 and N28 != null and GetUnitTypeId(N28) > 1 and IsUnitType(N28, UNIT_TYPE_DEAD) == false and(LoadBoolean(R8, (GetHandleId(N28)), (102))) == false and OE8(N28) == false and(LoadBoolean(R8, (GetHandleId(N28)), (129))) == false then
                call A8G(N28)
            endif
            set id = GetPlayerId(N8[i])
            set N28 = Y7[id]
            if SQ4[id] > 0 and N28 != null and GetUnitTypeId(N28) > 1 and IsUnitType(N28, UNIT_TYPE_DEAD) == false and(LoadBoolean(R8, (GetHandleId(N28)), (102))) == false and OE8(N28) == false and(LoadBoolean(R8, (GetHandleId(N28)), (129))) == false then
                call A8G(N28)
            endif
            set i = i + 1
        endloop
    endif
    set N28 = null
    return false
endfunction
function AVXO takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or GetUnitAbilityLevel(target, 'B0BI') == 0 then
        call A8G(p5)
        if GetTriggerEventId() != EVENT_WIDGET_DEATH then
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl", target, "origin"))
        endif
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetTriggerEvalCount(t) >= R2I(13 / 0.1)then
        call SaveBoolean(R8, (GetHandleId(p5)), (102), (false))
        call AVEO(p5, D0)
        call UnitRemoveAbility(target, 'B0BI')
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function AVYO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    call AF71(target, 'I0HM')
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterDeathEvent(t, target)
    call TriggerAddCondition(t, Condition(function AVXO))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("effects\\Linkens_Main.mdx", target, "chest")))
    call SaveBoolean(R8, (GetHandleId(p5)), (102), (true))
    call UnitRemoveAbility(p5, 'B0BI')
    call AVEO(p5, E0)
    set t = null
    set p5 = null
    set target = null
endfunction
function AVJO takes nothing returns nothing
    if GetSpellAbilityId() == 'A2VE' and IsUnitIllusion(GetSpellTargetUnit()) == false then
        call AVYO()
    endif
endfunction
function AFG takes nothing returns nothing
    local unit S4 = GetTriggerUnit()
    local item Z4 = GetManipulatedItem()
    local integer TK9 = ZX7(Z4)
    local integer MWG
    call DisableTrigger(GW4)
    if TK9 == WC then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(Z4)
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[XC], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    elseif TK9 == XC then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(Z4)
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[WC], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if TK9 == QA then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(Z4)
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[VA], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    elseif TK9 == VA then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(Z4)
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[QA], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if TK9 == R0 then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(Z4)
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[T0], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    elseif TK9 == T0 then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(Z4)
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[R0], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    if TK9 == X0 then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(Z4)
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[Y0], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    elseif TK9 == Y0 then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(Z4)
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[X0], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    call EnableTrigger(GW4)
    set S4 = null
    set Z4 = null
endfunction
function AMBO takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local item Z4 = (LoadItemHandle(R8, (EC8), (96)))
    if Z4 != null then
        call BlzItemAddAbility(Z4, 'AIev')
    endif
    call UnitRemoveAbility(p5, 'A30Y')
    call UnitRemoveAbility(p5, 'B0HL')
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set Z4 = null
    set p5 = null
    set t = null
    return false
endfunction
function AMCO takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local item Z4 = GetManipulatedItem()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call BlzItemRemoveAbility(Z4, 'AIev')
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveItemHandle(R8, (EC8), (96), (Z4))
    call TriggerRegisterDeathEvent(t, p5)
    call TriggerAddCondition(t, Condition(function AMBO))
    call TriggerRegisterTimerEvent(t, 4., false)
    call O68(p5, 'A30Y')
    call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A30Y', false)
    set t = null
    set p5 = null
    set Z4 = null
endfunction
function AMDO takes nothing returns nothing
    if IsEnabledItem(GetManipulatedItem(), M5) then
        call AMCO()
    endif
endfunction
function AKG takes nothing returns nothing
    local unit S4 = GetTriggerUnit()
    local item Z4 = GetManipulatedItem()
    local integer TK9 = ZX7(Z4)
    local integer MWG
    call DisableTrigger(GW4)
    if GetUnitTypeId(S4) != 'H00J' then
        if TK9 == ZC then
            set MWG = AEG(S4, Z4)
            set I44 = GetItemPlayer(Z4)
            call RemoveItem(Z4)
            set HK4 = VE9(S4, BU[AC], MWG)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TK9 == AC then
            set MWG = AEG(S4, Z4)
            set I44 = GetItemPlayer(Z4)
            call RemoveItem(Z4)
            set HK4 = VE9(S4, BU[BC], MWG)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        elseif TK9 == BC then
            set MWG = AEG(S4, Z4)
            set I44 = GetItemPlayer(Z4)
            call RemoveItem(Z4)
            set HK4 = VE9(S4, BU[ZC], MWG)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
        endif
    endif
    call EnableTrigger(GW4)
    set S4 = null
    set Z4 = null
endfunction
function AMG takes integer n5 returns integer
    if n5 == 'I006' then
        return CY
    elseif n5 == 'I008' then
        return DZ
    elseif n5 == 'I00J' then
        return AY
    elseif n5 == 'I00K' then
        return BY
    elseif n5 == 'I007' then
        return EZ
    elseif n5 == 'I0RC' then
        return AHJ0
    elseif n5 == 'I0V8' then
        return AASP
    endif
    return - 1
endfunction
function ANG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit u = (LoadUnitHandle(R8, (W57), (26)))
    local integer ZTG = (LoadInteger(R8, (W57), (98)))
    local item Y98 = UnitItemInSlot(u, ZTG)
    local integer AOG = (LoadInteger(R8, (W57), (105)))
    local item A9G
    local integer VF9
    if Y98 != null and NB8(ZU7(Y98))and GetHandleId(Y98) == AOG and O18(u) == false then
        set A9G = CreateItem(LoadInteger(R8, GetHandleId(Y98), GetHandleId(u)), GetUnitX(u), GetUnitY(u))
        call FlushChildHashtable(R8, GetHandleId(Y98))
        set VF9 = AEG(u, Y98)
        set I44 = GetItemPlayer(Y98)
        call ZT7(Y98)
        set HK4 = VE9(u, BU[ZY], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitAddItem(u, A9G)
        call UnitRemoveAbility(u, 'B0GI')
    endif
    set t = null
    set u = null
    set Y98 = null
    set A9G = null
    return false
endfunction
function APG takes unit u, item A7G returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer ZTG = AEG(u, A7G)
    call SaveInteger(R8, (EC8), (98), (ZTG))
    call SaveInteger(R8, (EC8), (105), (GetHandleId(A7G)))
    call SaveUnitHandle(R8, (EC8), (26), (u))
    call TriggerRegisterTimerEvent(t, 120., true)
    call TriggerAddCondition(t, Condition(function ANG))
    set t = null
endfunction
function AQG takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local item Y98 = GetManipulatedItem()
    local integer TS9 = ZU7(Y98)
    local unit ARG
    local integer ASG
    local boolean TargetFrog
    local integer VF9
    local item A9G
    local integer ATG
    if TS9 == VY then
        set VF9 = AEG(u, Y98)
        set ARG = (LoadUnitHandle(R8, (GetHandleId(u)), (103)))
        set ASG = (LoadInteger(R8, (GetHandleId(u)), (104)))
        if GetUnitTypeId(ARG) == 'nfoh' or GetUnitTypeId(ARG) == 'ndfl' then
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", u, "overhead"))
            call PM8(GetOwningPlayer(u), "Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = VE9(u, BU[ZY], VF9)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call UnitRemoveAbility(u, 'B0GI')
        elseif ZV9(ASG)then
            set ATG = AMG(ASG)
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", u, "overhead"))
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            call DisableTrigger(GW4)
            if GetOwningPlayer(u) == I44 then
                set HK4 = VE9(u, BU[ATG], VF9)
            else
                set HK4 = VE9(u, LU[ATG], VF9)
            endif
            call EnableTrigger(GW4)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            set A9G = UnitItemInSlot(u, VF9)
            call SaveInteger(R8, GetHandleId(A9G), GetHandleId(u), ASG)
            call APG(u, A9G)
            call UnitRemoveAbility(u, 'B0GI')
        endif
    elseif TS9 == ZY then
        set VF9 = AEG(u, Y98)
        set I44 = GetItemPlayer(Y98)
        call ZT7(Y98)
        set HK4 = VE9(u, BU[YY], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    elseif TS9 == YY then
        set VF9 = AEG(u, Y98)
        set I44 = GetItemPlayer(Y98)
        call ZT7(Y98)
        set HK4 = VE9(u, BU[XY], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    elseif TS9 == XY then
        set VF9 = AEG(u, Y98)
        set I44 = GetItemPlayer(Y98)
        call ZT7(Y98)
        set HK4 = VE9(u, BU[VY], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 0)
    elseif NB8(TS9)then
        if LoadInteger(R8, GetHandleId(Y98), GetHandleId(u)) > 0 then
            set G64 = true
            set VF9 = AEG(u, Y98)
            set A9G = CreateItem(LoadInteger(R8, GetHandleId(Y98), GetHandleId(u)), GetUnitX(u), GetUnitY(u))
            call FlushChildHashtable(R8, GetHandleId(Y98))
            set I44 = GetItemPlayer(Y98)
            call ZT7(Y98)
            set HK4 = VE9(u, BU[ZY], VF9)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call UnitAddItem(u, A9G)
            set G64 = false
            call UnitRemoveAbility(u, 'B0GI')
        endif
    endif
    set u = null
    set Y98 = null
    set ARG = null
    set A9G = null
endfunction
function AUG takes nothing returns boolean
    local integer MWG
    local real VY8
    call DisableTrigger(GW4)
    if IsEnabledItem(GetManipulatedItem(), P2) then
        set MWG = AEG(GetTriggerUnit(), GetManipulatedItem())
        set I44 = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(GetManipulatedItem())
        set HK4 = VE9(GetTriggerUnit(), BU[H2], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        // call EW8(GetTriggerUnit(), "ArmletOfMordigan|Active")
    endif
    if IsEnabledItem(GetManipulatedItem(), H2) then
        set MWG = AEG(GetTriggerUnit(), GetManipulatedItem())
        set I44 = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(GetManipulatedItem())
        set HK4 = VE9(GetTriggerUnit(), BU[P2], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        // call EY8(GetTriggerUnit(), "ArmletOfMordigan|Active")
    endif
    call EnableTrigger(GW4)
    return false
endfunction
function AVG takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == BU[QC]then
        call PN8(GetOwningPlayer(GetTriggerUnit()), (GetObjectName(('n0G1'))))
    endif
endfunction
function AWG takes nothing returns nothing
    local unit Y47 = GetTriggerUnit()
    local item ZV7 = GetManipulatedItem()
    local integer TS9 = ZX7(ZV7)
    local integer VF9
    call DisableTrigger(GW4)
    if TS9 == RL then
        call SaveInteger(R8, (GetHandleId(GetOwningPlayer(Y47))), (4345), (9))
        set VF9 = AEG(Y47, ZV7)
        set I44 = GetItemPlayer(ZV7)
        call RemoveItem(ZV7)
        set HK4 = VE9(Y47, BU[WL], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        call BR9(HK4)
    elseif TS9 == WL then
        call SaveInteger(R8, (GetHandleId(GetOwningPlayer(Y47))), (4345), (8))
        set VF9 = AEG(Y47, ZV7)
        set I44 = GetItemPlayer(ZV7)
        call RemoveItem(ZV7)
        set HK4 = VE9(Y47, BU[ZL], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        call BR9(HK4)
    elseif TS9 == ZL then
        call SaveInteger(R8, (GetHandleId(GetOwningPlayer(Y47))), (4345), (7))
        set VF9 = AEG(Y47, ZV7)
        set I44 = GetItemPlayer(ZV7)
        call RemoveItem(ZV7)
        set HK4 = VE9(Y47, BU[AL], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        call BR9(HK4)
    elseif TS9 == AL then
        call SaveInteger(R8, (GetHandleId(GetOwningPlayer(Y47))), (4345), (6))
        set VF9 = AEG(Y47, ZV7)
        set I44 = GetItemPlayer(ZV7)
        call RemoveItem(ZV7)
        set HK4 = VE9(Y47, BU[LL], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        call BR9(HK4)
    elseif TS9 == LL then
        call SaveInteger(R8, (GetHandleId(GetOwningPlayer(Y47))), (4345), (5))
        set VF9 = AEG(Y47, ZV7)
        set I44 = GetItemPlayer(ZV7)
        call RemoveItem(ZV7)
        set HK4 = VE9(Y47, BU[D1], VF9)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
        call BR9(HK4)
    endif
    call EnableTrigger(GW4)
    set Y47 = null
    set ZV7 = null
endfunction
function AXG takes nothing returns nothing
    local unit S4 = GetTriggerUnit()
    local item Z4 = GetManipulatedItem()
    local integer TK9 = ZX7(Z4)
    local integer MWG
    call DisableTrigger(GW4)
    if TK9 == C3 and GetItemCharges(Z4) == 0 then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[F6], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    elseif TK9 == E6 and GetItemCharges(Z4) == 0 then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[G6], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    elseif TK9 == YZ and GetItemCharges(Z4) == 0 then
        set MWG = AEG(S4, Z4)
        set I44 = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(Z4)
        set HK4 = VE9(S4, BU[AZ], MWG)
        call SetItemPlayer(HK4, I44, false)
        call SetItemUserData(HK4, 1)
    endif
    call EnableTrigger(GW4)
    set S4 = null
    set Z4 = null
endfunction
function AYG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    if Z0G(p5)then
        call AF71(p5, 'I0HM')
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call SaveBoolean(R8, (GetHandleId(p5)), (129), (false))
    set t = null
    set p5 = null
    return false
endfunction
function AZG takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local item Z4 = GetManipulatedItem()
    local trigger t
    if(IsEnabledItem(Z4, H1) or IsEnabledItem(Z4, J1))and(LoadBoolean(R8, (GetHandleId(p5)), (129))) == true then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, .41, false)
        call TriggerAddCondition(t, Condition(function AYG))
        call SaveUnitHandle(R8, (GetHandleId(t)), (2), (p5))
        set t = null
    endif
    set p5 = null
    set Z4 = null
endfunction
function AAG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'Aeat' or GetSpellAbilityId() == 'A2VG' then
            if GetSpellTargetDestructable() == null or GetDestructableTypeId(GetSpellTargetDestructable()) == 'BTtc' then
                call SaveInteger(R8, (W57), (34), (32))
                if GetSpellTargetDestructable() == null then
                    call V08(Z77, GetSpellTargetUnit(), 2, 220)
                endif
            else
                call SaveInteger(R8, (W57), (34), (16))
            endif
        endif
    elseif O18(Z77)or GetTriggerEventId() == EVENT_UNIT_DEATH or C77 <= 0 then
        call UnitRemoveAbility(Z77, 'A0PV')
        call UnitRemoveAbility(Z77, 'B07L')
        call SaveInteger(R8, (GetHandleId((Z77))), ((4255)), (2))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) + 115. / 16)
        call SaveInteger(R8, (W57), (34), (C77 - 1))
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function ABG takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call SaveInteger(R8, (GetHandleId((p5))), (4255), (1))
    call O68(p5, 'A0PV')
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveInteger(R8, (EC8), (34), (16))
    if GetSpellTargetDestructable() == null or GetDestructableTypeId(GetSpellTargetDestructable()) == 'BTtc' then
        call SaveInteger(R8, (EC8), (34), (32))
        if GetSpellTargetDestructable() == null then
            call V08(p5, GetSpellTargetUnit(), 2, 220)
        endif
    else
        call SaveInteger(R8, (EC8), (34), (16))
    endif
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AAG))
    call TriggerEvaluate(t)
    set p5 = null
    set t = null
endfunction
function ACG takes nothing returns nothing
    if GetSpellAbilityId() == 'Aeat' or GetSpellAbilityId() == 'A2VG' then
        if(LoadInteger(R8, (GetHandleId(GetTriggerUnit())), (4255)) == 1) == false and (GetSpellTargetDestructable() != null or IsWard(GetSpellTargetUnit())) then
            call ABG()
        elseif GetSpellTargetUnit() != null and UX8(GetSpellTargetUnit()) and IsUnitIllusion(GetSpellTargetUnit()) == false then
            call UnitAddItemById(GetSpellTargetUnit(), 'I0Q6')
        endif
    endif
endfunction
function A3G takes integer id, real x, real y returns nothing
    if IsPointInRegion(UM4, x, y) == false then
        set UK4 = UK4 + 1
        set UG4[UK4] = Player(id)
        set UH4[UK4] = x
        set UI4[UK4] = y
        set UJ4[UK4] = (TimerGetElapsed(E4))
    endif
endfunction
function A6G takes integer id, real x, real y returns integer
    local real WR8 = (TimerGetElapsed(E4))
    local integer i = 0
    local integer P89 = 0
    if IsPointInRegion(UM4, x, y) then
        return P89
    endif
    loop
        exitwhen i > UK4
        if(WR8 < UJ4[i] + e4)and(Z87(x, y, UH4[i], UI4[i]) < o4 * 2 + 50)and IsPlayerAlly(Player(id), UG4[i]) then
            set P89 = P89 + 1
        endif
        set i = i + 1
    endloop
    return P89
endfunction
function ALG takes integer A1G returns integer
    if A1G == GetPlayerId(G8[1])then
        return'h0BI'
    elseif A1G == GetPlayerId(G8[2])then
        return'h0BK'
    elseif A1G == GetPlayerId(G8[3])then
        return'h0BG'
    elseif A1G == GetPlayerId(G8[4])then
        return'h0BF'
    elseif A1G == GetPlayerId(G8[5])then
        return'h0BL'
    elseif A1G == GetPlayerId(N8[1])then
        return'h0BH'
    elseif A1G == GetPlayerId(N8[2])then
        return'h0BJ'
    elseif A1G == GetPlayerId(N8[3])then
        return'h0BM'
    elseif A1G == GetPlayerId(N8[4])then
        return'h0A5'
    elseif A1G == GetPlayerId(N8[5])then
        return'h0BN'
    endif
    return'h0BN'
endfunction
function A0G takes integer A1G returns integer
    return'h0AX'
endfunction
function A5G takes integer A1G returns string
    if A1G == GetPlayerId(G8[1])then
        return"war3mapImported\\TeleportTarget_Blue.mdx"
    elseif A1G == GetPlayerId(G8[2])then
        return"war3mapImported\\TeleportTarget_Teal.mdx"
    elseif A1G == GetPlayerId(G8[3])then
        return"war3mapImported\\TeleportTarget_Purple.mdx"
    elseif A1G == GetPlayerId(G8[4])then
        return"war3mapImported\\TeleportTarget_Yellow.mdx"
    elseif A1G == GetPlayerId(G8[5])then
        return"war3mapImported\\TeleportTarget_Orange.mdx"
    elseif A1G == GetPlayerId(N8[1])then
        return"war3mapImported\\TeleportTarget_Pink.mdx"
    elseif A1G == GetPlayerId(N8[2])then
        return"war3mapImported\\TeleportTarget_Gray.mdx"
    elseif A1G == GetPlayerId(N8[3])then
        return"war3mapImported\\TeleportTarget_LightBlue.mdx"
    elseif A1G == GetPlayerId(N8[4])then
        return"war3mapImported\\TeleportTarget_DarkGreen.mdx"
    elseif A1G == GetPlayerId(N8[5])then
        return"war3mapImported\\TeleportTarget_Brown.mdx"
    endif
    return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"
endfunction
function A2G takes integer A1G returns string
    return"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl"
endfunction
function A_G takes nothing returns boolean
    local real d
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 0 and GetUnitAbilityLevel(GetFilterUnit(), 'Asud') == 0 and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(H54)) and GetUnitTypeId(GetFilterUnit()) != 'u00S' and GetUnitTypeId(GetFilterUnit()) != 'ncop' and IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false then
        set d = Z87(HL4, H14, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < H64 then
            set H64 = d
            set H04 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function B4G takes unit S4, real x, real y returns unit
    local group g = OG8()
    set H04 = null
    set H54 = S4
    set H64 = 99999
    set HL4 = x
    set H14 = y
    call GroupEnumUnitsInRange(g, x, y, 99999, Condition(function A_G))
    call OF8(g)
    set g = null
    return H04
endfunction
function B7G takes unit u returns boolean
    local integer id = GetUnitTypeId(u)
    return id == 'n0FH' or id == 'n0F6' or id == 'n0FI' or id == 'n0FJ'
endfunction
function B8G takes unit u returns boolean
    local integer id = GetUnitTypeId(u)
    return id == 'u00R' or id == 'umtw' or id == 'e026' or id == 'ebal'
endfunction
function AXNO takes nothing returns boolean
    local real d
    if(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 or B8G(GetFilterUnit())or GetUnitTypeId(GetFilterUnit()) == 'nfoh' or GetUnitTypeId(GetFilterUnit()) == 'ndfl' or B7G(GetFilterUnit()))and O18(GetFilterUnit()) == false and GetUnitAbilityLevel(GetFilterUnit(), 'Asud') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(H54)) and GetOwningPlayer(GetFilterUnit()) != P8 and IsUnitIllusion(GetFilterUnit()) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_FLYING) == false and GetUnitTypeId(GetFilterUnit()) != 'n0F5' then
        set d = Z87(HL4, H14, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < H64 then
            set H64 = d
            set H04 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function B9G takes nothing returns boolean
    local real d
    if(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 or B8G(GetFilterUnit())or GetUnitTypeId(GetFilterUnit()) == 'nfoh' or GetUnitTypeId(GetFilterUnit()) == 'ndfl' or B7G(GetFilterUnit()))and O18(GetFilterUnit()) == false and GetUnitAbilityLevel(GetFilterUnit(), 'Asud') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(H54)) and GetOwningPlayer(GetFilterUnit()) != P8 and IsUnitIllusion(GetFilterUnit()) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_FLYING) == false and GetUnitTypeId(GetFilterUnit()) != 'n0F5' then
        set d = Z87(HL4, H14, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < H64 and d < 325 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true then
            set H64 = d
            set H04 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function BDG takes unit Y47, real x, real y returns unit
    local group g = OG8()
    set H04 = null
    set H54 = Y47
    set H64 = 99999
    set HL4 = x
    set H14 = y
    call GroupEnumUnitsInRange(g, x, y, 99999, Condition(function B9G))
    if H04 == null then
        call GroupEnumUnitsInRange(g, x, y, 99999, Condition(function AXNO))
    endif
    call OF8(g)
    set g = null
    return H04
endfunction
function FYX takes nothing returns boolean
    local real d
    if(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 or B8G(GetFilterUnit())or GetUnitTypeId(GetFilterUnit()) == 'nfoh' or GetUnitTypeId(GetFilterUnit()) == 'ndfl' or B7G(GetFilterUnit()))and O18(GetFilterUnit()) == false and GetUnitAbilityLevel(GetFilterUnit(), 'Asud') == 0 and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(H54)) and GetOwningPlayer(GetFilterUnit()) != P8 and IsUnitIllusion(GetFilterUnit()) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_FLYING) == false and GetUnitTypeId(GetFilterUnit()) != 'n0F5' then
        set d = Z87(HL4, H14, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < H64 then
            set H64 = d
            set H04 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function ABDG takes unit Y47, real x, real y returns unit
    local group g = OG8()
    set H04 = null
    set H54 = Y47
    set H64 = 99999
    set HL4 = x
    set H14 = y
    call GroupEnumUnitsInRange(g, x, y, 99999, Condition(function B9G))
    if H04 == null then
        call GroupEnumUnitsInRange(g, x, y, 99999, Condition(function FYX))
    endif
    call OF8(g)
    set g = null
    return H04
endfunction
function BEG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local unit BFG = (LoadUnitHandle(R8, (EC8), (448)))
    local unit BGG = (LoadUnitHandle(R8, (EC8), (447)))
    local ubersplat BHG = (LoadUbersplatHandle(R8, (EC8), (131)))
    local integer P89 = (LoadInteger(R8, (EC8), (34)))
    local real TL8 = (LoadReal(R8, (EC8), (57)))
    local real WR8 = (LoadReal(R8, (EC8), (442)))
    local integer id = GetPlayerId(GetOwningPlayer(N28))
    local boolean BIG = false
    local integer i = 0
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        if GetSpellAbilityId() == 'A1R5' or GetSpellAbilityId() == 'A137' then
            set BIG = true
        endif
    else
        set P89 = P89 + 1
        call SaveInteger(R8, (EC8), (34), (P89))
        if P89 == 1 then
            if TL8 > 3 then
                call SetUnitAnimationByIndex(BFG, 1)
                call SetUnitAnimationByIndex(BGG, 1)
            endif
        elseif P89 == 2 then
            set BIG = true
        endif
    endif
    if BIG then
        call SaveInteger(R8, (GetHandleId((N28))), ((4256)), (2))
        call KillUnit(BFG)
        call KillUnit(BGG)
        call DestroyUbersplat(BHG)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        if P89 == 2 then
            call DestroyEffect(AddSpecialEffect(A2G(id), GetUnitX(N28), GetUnitY(N28)))
            call DestroyEffect(AddSpecialEffect(A5G(id), x, y))
            call SetUnitX(N28, x)
            call SetUnitY(N28, y)
            call PauseUnit(N28, true)
            call PauseUnit(N28, false)
            call SC8(x, y, 240)
            set H04 = N28
            call ExecuteFunc("BJG")
        endif
    endif
    // set g_aiStatReal[832 + GetPlayerId(GetOwningPlayer(N28))] = 0.
    set t = null
    set N28 = null
    set BFG = null
    set BGG = null
    set BHG = null
    return false
endfunction
function BKG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local unit BMG = (LoadUnitHandle(R8, (W57), (448)))
    local unit BNG = (LoadUnitHandle(R8, (W57), (447)))
    local ubersplat GRD = (LoadUbersplatHandle(R8, (W57), (131)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local real VL8 = (LoadReal(R8, (W57), (57)))
    local real PX9 = (LoadReal(R8, (W57), (442)))
    local integer id = GetPlayerId(GetOwningPlayer(AM7))
    local boolean WA7 = false
    local integer i = 0
    local integer P29
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        if GetSpellAbilityId() == 'A231' or GetSpellAbilityId() == 'A3AG' then
            call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
            call SaveInteger(R8, (GetHandleId(AM7)), (4256), (2))
            call KillUnit(BMG)
            call KillUnit(BNG)
            call DestroyUbersplat(GRD)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call UnitRemoveType(X77, UNIT_TYPE_PEON)
            // set g_aiWpt1[176 + id] = null
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
        call UnitRemoveType(X77, UNIT_TYPE_PEON)
        call SaveInteger(R8, (GetHandleId(AM7)), (4256), (2))
        call KillUnit(BMG)
        call KillUnit(BNG)
        call DestroyUbersplat(GRD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        // set g_aiWpt1[176 + id] = null
    else
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", GetUnitX(AM7), GetUnitY(AM7)))
        call SaveInteger(R8, (GetHandleId(AM7)), (4256), (2))
        call KillUnit(BMG)
        call KillUnit(BNG)
        call DestroyUbersplat(GRD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveType(X77, UNIT_TYPE_PEON)
        call SC8(GetUnitX(X77) - 1, GetUnitY(X77) - 1, 240)
        call SetUnitX(AM7, GetUnitX(X77) - 1)
        call SetUnitY(AM7, GetUnitY(X77) - 1)
        call PauseUnit(AM7, true)
        call PauseUnit(AM7, false)
        set H04 = AM7
        call ExecuteFunc("BJG")
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", GetUnitX(AM7), GetUnitY(AM7)))
        // set g_aiWpt1[176 + id] = null
    endif
    set t = null
    set AM7 = null
    set BMG = null
    set BNG = null
    set GRD = null
    set X77 = null
    return false
endfunction
function BOG takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real x
    local real y
    local real a
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit BFG
    local unit BGG
    local ubersplat BHG
    local integer id = GetPlayerId(GetOwningPlayer(N28))
    local integer P89
    local real BPG
    call SaveInteger(R8, (GetHandleId(N28)), (4256), (1))
    if target == null then
        set x = GetSpellTargetX()
        set y = GetSpellTargetY()
        if GetSpellAbilityId() == 'A1R5' then
            if x == UL4[id]and y == U14[id]then
                if KN8(GetOwningPlayer(N28))then
                    set x = GetUnitX(IN4)
                    set y = GetUnitY(IN4)
                else
                    set x = GetUnitX(JS4)
                    set y = GetUnitY(JS4)
                endif
            endif
        endif
        set target = B4G(N28, x, y)
    else
        set x = GetUnitX(target)
        set y = GetUnitY(target)
    endif
    if Z87(x, y, GetUnitX(target), GetUnitY(target)) > o4 then
        set a = Atan2(y - GetUnitY(target), x - GetUnitX(target))
        set x = GetUnitX(target) + o4 * Cos(a)
        set y = GetUnitY(target) + o4 * Sin(a)
    elseif Z87(x, y, GetUnitX(target), GetUnitY(target)) < 50 then
        set a = Atan2(y - GetUnitY(target), x - GetUnitX(target))
        set x = GetUnitX(target) + 120 * Cos(a)
        set y = GetUnitY(target) + 120 * Sin(a)
    endif
    if IsPointInRegion(IF4, x, y) then
        set a = Atan2(y - GetUnitY(target), x - GetUnitX(target))
        set x = GetUnitX(target) + 200 * Cos(a)
        set y = GetUnitY(target) + 200 * Sin(a)
    endif
    set x = PQ8(x)
    set y = PS8(y)
    if(IsUnitAlly(N28, GetLocalPlayer())and GetLocalPlayer() != GetOwningPlayer(N28))or(L8 and(GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4))then
        call PingMinimapEx(x, y, 3, 255, 255, 255, false)
    endif
    set BGG = CreateUnit(GetOwningPlayer(N28), ALG(id), x, y, 0)
    set BFG = CreateUnit(GetOwningPlayer(N28), A0G(id), GetUnitX(N28), GetUnitY(N28), 0)
    set BHG = CreateUbersplat(GetUnitX(N28), GetUnitY(N28), "SCTP", 255, 255, 255, 255, false, false)
    if IsUnitVisible(N28, GetLocalPlayer()) then
        call SetUbersplatRenderAlways(BHG, true)
    else
        call SetUbersplatRenderAlways(BHG, false)
    endif
    set P89 = A6G(GetPlayerId(GetOwningPlayer(N28)), x, y)
    set BPG = 3
    if P89 > 0 then
        set BPG = 4.5 + .5 * P89
    endif
    call A3G(GetPlayerId(GetOwningPlayer(N28)), x, y)
    if P89 > 0 then
        call SetUnitAnimationByIndex(BFG, 2)
        call SetUnitAnimationByIndex(BGG, 2)
    endif
    call TriggerRegisterTimerEvent(t, BPG - 3, false)
    call TriggerRegisterTimerEvent(t, BPG, false)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function BEG))
    call S18(GetOwningPlayer(N28), BPG, x, y, 200)
    call SaveUnitHandle(R8, (EC8), (447), (BGG))
    call SaveUnitHandle(R8, (EC8), (448), (BFG))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call SaveReal(R8, (EC8), (442), (TimerGetElapsed(E4)))
    call SaveReal(R8, (EC8), (57), (BPG))
    call SaveUbersplatHandle(R8, (EC8), (131), (BHG))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveInteger(R8, (EC8), (34), (0))
    call TS8(N28, WA4, x, y, 2400)
    // set g_aiWpt1[176 + id] = target
    set N28 = null
    set target = null
    set BFG = null
    set BGG = null
    set t = null
    set BHG = null
endfunction
function BQG takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local real x
    local real y
    local real a
    local trigger t
    local integer W57
    local unit BMG
    local unit BNG
    local ubersplat GRD
    local integer id = GetPlayerId(GetOwningPlayer(AM7))
    local integer C77
    local real BRG
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    if X77 == null then
        set x = GetSpellTargetX()
        set y = GetSpellTargetY()
        if x == UL4[id]and y == U14[id]then
            if KN8(GetOwningPlayer(AM7))then
                set x = GetUnitX(IN4)
                set y = GetUnitY(IN4)
            else
                set x = GetUnitX(JS4)
                set y = GetUnitY(JS4)
            endif
        endif
        if GetSpellAbilityId() == 'A231' then
            set X77 = BDG(AM7, x, y)
        else
            set X77 = ABDG(AM7, x, y)
        endif
    endif
    call SaveInteger(R8, (GetHandleId(AM7)), (4256), (1))
    set x = GetUnitX(X77)
    set y = GetUnitY(X77)
    if(IsUnitAlly(AM7, GetLocalPlayer())and GetLocalPlayer() != GetOwningPlayer(AM7))or(L8 and(GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4))then
        call PingMinimapEx(x, y, 3, 255, 255, 255, false)
    endif
    set GRD = CreateUbersplat(GetUnitX(AM7), GetUnitY(AM7), "SCTP", 255, 255, 255, 255, false, false)
    if IsUnitVisible(AM7, GetLocalPlayer()) then
        call SetUbersplatRenderAlways(GRD, true)
    else
        call SetUbersplatRenderAlways(GRD, false)
    endif
    set BRG = 3
    call UnitAddType(X77, UNIT_TYPE_PEON)
    call TriggerRegisterTimerEvent(t, BRG, false)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function BKG))
    call S18(GetOwningPlayer(AM7), BRG, x, y, 200)
    call SaveReal(R8, (W57), (6), ((x) * 1.))
    call SaveReal(R8, (W57), (7), ((y) * 1.))
    call SaveReal(R8, (W57), (442), (TimerGetElapsed(E4)))
    call SaveReal(R8, (W57), (57), ((BRG) * 1.))
    call SaveUbersplatHandle(R8, (W57), (131), (GRD))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl", AM7, "origin")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", AM7, "origin")))
    call SaveEffectHandle(R8, (W57), (177), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl", X77, "origin")))
    call TS8(AM7, WA4, x, y, 2400)
    set AM7 = null
    set X77 = null
    set BMG = null
    set BNG = null
    set t = null
    set GRD = null
endfunction
function BSG takes nothing returns nothing
    if(GetSpellAbilityId() == 'A1R5' or GetSpellAbilityId() == 'A137')and ZS7(GetTriggerUnit()) == false then
        call BOG()
    endif
    if GetSpellAbilityId() == 'A231' or GetSpellAbilityId() == 'A3AG' then
        call BQG()
    endif
endfunction
function BUG takes nothing returns nothing
    if JV7 == (LoadInteger(R8, (GetHandleId(GetEnumUnit())), (784)))then
        call KillUnit(GetEnumUnit())
    endif
endfunction
function AG58 takes unit u returns boolean
    local integer i = GetUnitTypeId(u)
    return i == 'n00H' or i == 'n00G' or i == 'n00K' or i == 'n00J' or i == 'n00A' or i == 'n006'
endfunction
function BVG takes nothing returns boolean
    local integer i = GetUnitTypeId(GetFilterUnit())
    return i == 'n00H' or i == 'n00G' or i == 'n00K' or i == 'n00J' or i == 'n00A' or i == 'n006'
endfunction
function BWG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit BXG
    local unit BYG
    local integer BZG
    local integer BAG
    local group g = OG8()
    local real a = GetUnitFacing(Z77) * bj_DEGTORAD
    local real x1 = GetUnitX(Z77) + 50 * Cos(a)
    local real y1 = GetUnitY(Z77) + 50 * Sin(a)
    local real x2 = GetUnitX(Z77) + 50 * Cos(a)
    local real y2 = GetUnitY(Z77) + 50 * Sin(a)
    if GetSpellAbilityId() == 'A0HB' then
        set BZG = 'n00H'
        set BAG = 'n00J'
    elseif GetSpellAbilityId() == 'A0D3' then
        set BZG = 'n00G'
        set BAG = 'n00A'
    elseif GetSpellAbilityId() == 'A0DF' then
        set BZG = 'n00K'
        set BAG = 'n006'
    endif
    set JV7 = GetUnitTypeId(Z77)
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(GetTriggerUnit()), Condition(function BVG))
    call ForGroup(g, function BUG)
    call OF8(g)
    set BXG = CreateUnit(GetOwningPlayer(Z77), BZG, x1, y1, GetUnitFacing(Z77))
    call SaveInteger(R8, (GetHandleId(BXG)), (784), (JV7))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", BXG, "origin"))
    call UnitApplyTimedLife(BXG, 'BTLF', 40)
    set BYG = CreateUnit(GetOwningPlayer(Z77), BAG, x2, y2, GetUnitFacing(Z77))
    call SaveInteger(R8, (GetHandleId(BYG)), (784), (JV7))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", BYG, "origin"))
    call UnitApplyTimedLife(BYG, 'BTLF', 40)
    set g = null
    set BXG = null
    set BYG = null
    set Z77 = null
endfunction
function BBG takes nothing returns nothing
    if GetSpellAbilityId() == 'A0HB' or GetSpellAbilityId() == 'A0D3' or GetSpellAbilityId() == 'A0DF' then
        call BWG()
    endif
endfunction
function BCG takes nothing returns nothing
    if GetSpellAbilityId() == 'A1FP' then
        call QG8("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl", GetTriggerUnit(), "origin", 3.5)
        call TZ8(GetTriggerUnit(), 'A1CN', 1, 4.5)
    endif
endfunction
function B3G takes nothing returns boolean
    return((LoadInteger(R8, (GetHandleId(GetFilterUnit())), (4323))) == 1)
endfunction
function B6G takes nothing returns nothing
    local group g
    local unit u
    if GetSpellAbilityId() == 'A2V4' and AG58(GetSpellTargetUnit()) == false then
        set g = OG8()
        call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(GetTriggerUnit()), Condition(function B3G))
        set u = FirstOfGroup(g)
        call OF8(g)
        if u != null then
            call KillUnit(u)
        endif
        call SetUnitOwner(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()), true)
        call SaveInteger(R8, (GetHandleId((GetSpellTargetUnit()))), ((4323)), (1))
        call UnitAddAbility(GetSpellTargetUnit(), 'Aeth')
        call UnitAddAbility(GetSpellTargetUnit(), 'ACrk')
        if GetUnitState(GetSpellTargetUnit(), UNIT_STATE_MAX_LIFE) < 1400 then
            call UnitAddMaxLife(GetSpellTargetUnit(), 500)
        endif
        call SetUnitState(GetSpellTargetUnit(), UNIT_STATE_MANA, GetUnitState(GetSpellTargetUnit(), UNIT_STATE_MAX_MANA))
        call BlzSetUnitRealField(GetSpellTargetUnit(), UNIT_RF_SPEED, 350.)
        set g = null
        set u = null
    endif
endfunction
function BLG takes integer i returns integer
    if i == OH4 then
        return OP4
    endif
    if i == OI4 then
        return OQ4
    endif
    if i == OJ4 then
        return OR4
    endif
    if i == OK4 then
        return OS4
    endif
    if i == OM4 then
        return OT4
    endif
    if i == ON4 then
        return OU4
    endif
    if i == OO4 then
        return OV4
    endif
    return 0
endfunction
function B1G takes integer i returns integer
    if i == OH4 then
        return 10
    endif
    if i == OI4 then
        return 9
    endif
    if i == OJ4 then
        return 8
    endif
    if i == OK4 then
        return 7
    endif
    if i == OM4 then
        return 6
    endif
    if i == ON4 then
        return 5
    endif
    if i == OO4 then
        return 4
    endif
    return 0
endfunction
function B0G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    if O18(N28) == false and N28 != null then
        call SetUnitScale(N28, PG8(N28) * ZS, PG8(N28) * ZS, PG8(N28) * ZS)
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function B5G takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(AM7), 'e00E', GetUnitX(AM7), GetUnitY(AM7), 0)
    local trigger t = CreateTrigger()
    local real VL8 = B1G(GetSpellAbilityId())
    call AO21(AM7, OW4, VL8)
    call UnitMakeAbilityPermanent(AM7, true, OW4)
    call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), OW4, false)
    call UnitAddAbility(AC7, BLG(GetSpellAbilityId()))
    call IssueTargetOrderById(AC7, 852186, AM7)
    call T99(AM7, 0, 0)
    call UnitRemoveAbility(AM7, 'BHtc')
    call UnitRemoveAbility(AM7, 'B02U')
    if ZS7(AM7)then
        call T98(AM7, VL8, 3)
    else
        call T98(AM7, VL8, 1.4)
    endif
    call TriggerRegisterTimerEvent(t, VL8 + 7., false)
    call TriggerAddCondition(t, Condition(function B0G))
    call SaveUnitHandle(R8, (GetHandleId(t)), (14), (AM7))
    set t = null
    set AM7 = null
    set AC7 = null
endfunction
function B2G takes nothing returns nothing
    if BLG(GetSpellAbilityId()) > 0 then
        call B5G()
    endif
endfunction
function B_G takes nothing returns nothing
    if GetSpellAbilityId() == 'A02W' then
        call UnitResetCooldown(GetTriggerUnit())
    endif
endfunction
function C4G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit ZC9 = (LoadUnitHandle(R8, (EC8), (124)))
    local integer A99 = (LoadInteger(R8, (EC8), (125)))
    local integer AD9 = (LoadInteger(R8, (EC8), (106)))
    local integer AE9 = (LoadInteger(R8, (EC8), (107)))
    local integer AF9 = (LoadInteger(R8, (EC8), (108)))
    local integer AG9 = (LoadInteger(R8, (EC8), (109)))
    local integer AH9 = (LoadInteger(R8, (EC8), (110)))
    local integer AI9 = (LoadInteger(R8, (EC8), (111)))
    local player AJ9 = (LoadPlayerHandle(R8, (EC8), (118)))
    local player AK9 = (LoadPlayerHandle(R8, (EC8), (119)))
    local player AM9 = (LoadPlayerHandle(R8, (EC8), (120)))
    local player AN9 = (LoadPlayerHandle(R8, (EC8), (121)))
    local player AO9 = (LoadPlayerHandle(R8, (EC8), (122)))
    local player AP9 = (LoadPlayerHandle(R8, (EC8), (123)))
    local integer AQ9 = (LoadInteger(R8, (EC8), (112)))
    local integer AR9 = (LoadInteger(R8, (EC8), (113)))
    local integer AS9 = (LoadInteger(R8, (EC8), (114)))
    local integer AT9 = (LoadInteger(R8, (EC8), (115)))
    local integer AU9 = (LoadInteger(R8, (EC8), (116)))
    local integer AV9 = (LoadInteger(R8, (EC8), (117)))
    call DisableTrigger(GW4)
    if GetTriggerEvalCount(t) == 1 then
        call UnitAddAbility(ZC9, 'S00I')
        if KT[GetPlayerId(GetOwningPlayer(ZC9))] == false then
            call UnitRemoveType(ZC9, UNIT_TYPE_PEON)
        else
            call UnitAddType(ZC9, UNIT_TYPE_PEON)
        endif
    else
        if AD9 > 0 then
            set HK4 = CreateItem(AD9, GetUnitX(ZC9), GetUnitY(ZC9))
            call UnitAddItem(ZC9, HK4)
            call SetItemPlayer(HK4, AJ9, false)
            call SetItemUserData(HK4, 1)
        endif
        if AQ9 > 0 then
            call SetItemCharges(HK4, AQ9)
        endif
        if AE9 > 0 then
            set HK4 = CreateItem(AE9, GetUnitX(ZC9), GetUnitY(ZC9))
            call UnitAddItem(ZC9, HK4)
            call SetItemPlayer(HK4, AK9, false)
            call SetItemUserData(HK4, 1)
        endif
        if AR9 > 0 then
            call SetItemCharges(HK4, AR9)
        endif
        if AF9 > 0 then
            set HK4 = CreateItem(AF9, GetUnitX(ZC9), GetUnitY(ZC9))
            call UnitAddItem(ZC9, HK4)
            call SetItemPlayer(HK4, AM9, false)
            call SetItemUserData(HK4, 1)
        endif
        if AS9 > 0 then
            call SetItemCharges(HK4, AS9)
        endif
        if AG9 > 0 then
            set HK4 = CreateItem(AG9, GetUnitX(ZC9), GetUnitY(ZC9))
            call UnitAddItem(ZC9, HK4)
            call SetItemPlayer(HK4, AN9, false)
            call SetItemUserData(HK4, 1)
        endif
        if AT9 > 0 then
            call SetItemCharges(HK4, AT9)
        endif
        if AH9 > 0 then
            set HK4 = CreateItem(AH9, GetUnitX(ZC9), GetUnitY(ZC9))
            call UnitAddItem(ZC9, HK4)
            call SetItemPlayer(HK4, AO9, false)
            call SetItemUserData(HK4, 1)
        endif
        if AU9 > 0 then
            call SetItemCharges(HK4, AU9)
        endif
        if AI9 > 0 then
            set HK4 = CreateItem(AI9, GetUnitX(ZC9), GetUnitY(ZC9))
            call UnitAddItem(ZC9, HK4)
            call SetItemPlayer(HK4, AP9, false)
            call SetItemUserData(HK4, 1)
        endif
        if AV9 > 0 then
            call SetItemCharges(HK4, AV9)
        endif
        if KT[GetPlayerId(GetOwningPlayer(ZC9))] == false then
            call UnitRemoveType(ZC9, UNIT_TYPE_PEON)
        else
            call UnitAddType(ZC9, UNIT_TYPE_PEON)
        endif
        call SetUnitFlyHeight(ZC9, 240, 0)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    call EnableTrigger(GW4)
    call BlzSetUnitSkin(ZC9, A99)
    call AddUnitAnimationProperties(ZC9, "alternate", true)
    set t = null
    set ZC9 = null
    set AJ9 = null
    set AK9 = null
    set AM9 = null
    set AN9 = null
    set AO9 = null
    set AP9 = null
    return false
endfunction
function C7G takes unit ZC9 returns nothing
    local integer AX9 = BlzGetUnitSkin(ZC9)
    local real x = GetUnitX(ZC9)
    local real y = GetUnitY(ZC9)
    local item AY9
    local item AZ9
    local item AA9
    local item AB9
    local item AC9
    local item A39
    local player AJ9
    local player AK9
    local player AM9
    local player AN9
    local player AO9
    local player AP9
    local integer AD9
    local integer AE9
    local integer AF9
    local integer AG9
    local integer AH9
    local integer AI9
    local integer AQ9 =- 1
    local integer AR9 =- 1
    local integer AS9 =- 1
    local integer AT9 =- 1
    local integer AU9 =- 1
    local integer AV9 =- 1
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer A99
    local item JB9
    local integer i
    local item C8G
    local integer TK9
    set i = 0
    loop
        exitwhen i > 5
        set C8G = UnitItemInSlot(ZC9, i)
        if IsTheItem(C8G, NW) then
            call UnitRemoveItem(ZC9, C8G)
        endif
        set i = i + 1
    endloop
    set AY9 = UnitItemInSlot(ZC9, 0)
    set AZ9 = UnitItemInSlot(ZC9, 1)
    set AA9 = UnitItemInSlot(ZC9, 2)
    set AB9 = UnitItemInSlot(ZC9, 3)
    set AC9 = UnitItemInSlot(ZC9, 4)
    set A39 = UnitItemInSlot(ZC9, 5)
    set AD9 = GetItemTypeId(AY9)
    set AE9 = GetItemTypeId(AZ9)
    set AF9 = GetItemTypeId(AA9)
    set AG9 = GetItemTypeId(AB9)
    set AH9 = GetItemTypeId(AC9)
    set AI9 = GetItemTypeId(A39)
    set AJ9 = GetItemPlayer(AY9)
    set AK9 = GetItemPlayer(AZ9)
    set AM9 = GetItemPlayer(AA9)
    set AN9 = GetItemPlayer(AB9)
    set AO9 = GetItemPlayer(AC9)
    set AP9 = GetItemPlayer(A39)
    set JB9 = AY9
    set TK9 = ZU7(JB9)
    if GetItemType(JB9) == ITEM_TYPE_ARTIFACT or TU9(TK9) or TT9(TK9) then
        set AQ9 = GetItemCharges(JB9)
    endif
    set JB9 = AZ9
    set TK9 = ZU7(JB9)
    if GetItemType(JB9) == ITEM_TYPE_ARTIFACT or TU9(TK9) or TT9(TK9) then
        set AR9 = GetItemCharges(JB9)
    endif
    set JB9 = AA9
    set TK9 = ZU7(JB9)
    if GetItemType(JB9) == ITEM_TYPE_ARTIFACT or TU9(TK9) or TT9(TK9) then
        set AS9 = GetItemCharges(JB9)
    endif
    set JB9 = AB9
    set TK9 = ZU7(JB9)
    if GetItemType(JB9) == ITEM_TYPE_ARTIFACT or TU9(TK9) or TT9(TK9) then
        set AT9 = GetItemCharges(JB9)
    endif
    set JB9 = AC9
    set TK9 = ZU7(JB9)
    if GetItemType(JB9) == ITEM_TYPE_ARTIFACT or TU9(TK9) or TT9(TK9) then
        set AU9 = GetItemCharges(JB9)
    endif
    set JB9 = A39
    set TK9 = ZU7(JB9)
    if GetItemType(JB9) == ITEM_TYPE_ARTIFACT or TU9(TK9) or TT9(TK9) then
        set AV9 = GetItemCharges(JB9)
    endif
    call ZT7(AY9)
    call ZT7(AZ9)
    call ZT7(AA9)
    call ZT7(AB9)
    call ZT7(AC9)
    call ZT7(A39)
    if KN8(GetOwningPlayer(ZC9))then
        set A99 = WB4
    else
        set A99 = W54
    endif
    if GetRandomInt(1, 3) == 1 then
        set A99 = XI4
    endif
    call SavePlayerHandle(R8, (EC8), (118), (AJ9))
    call SavePlayerHandle(R8, (EC8), (119), (AK9))
    call SavePlayerHandle(R8, (EC8), (120), (AM9))
    call SavePlayerHandle(R8, (EC8), (121), (AN9))
    call SavePlayerHandle(R8, (EC8), (122), (AO9))
    call SavePlayerHandle(R8, (EC8), (123), (AP9))
    call SaveInteger(R8, (EC8), (106), (AD9))
    call SaveInteger(R8, (EC8), (107), (AE9))
    call SaveInteger(R8, (EC8), (108), (AF9))
    call SaveInteger(R8, (EC8), (109), (AG9))
    call SaveInteger(R8, (EC8), (110), (AH9))
    call SaveInteger(R8, (EC8), (111), (AI9))
    call SaveInteger(R8, (EC8), (112), (AQ9))
    call SaveInteger(R8, (EC8), (113), (AR9))
    call SaveInteger(R8, (EC8), (114), (AS9))
    call SaveInteger(R8, (EC8), (115), (AT9))
    call SaveInteger(R8, (EC8), (116), (AU9))
    call SaveInteger(R8, (EC8), (117), (AV9))
    call SaveUnitHandle(R8, (EC8), (124), (ZC9))
    call SaveInteger(R8, (EC8), (125), (A99))
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerAddCondition(t, Condition(function C4G))
    set t = null
    set ZC9 = null
    set AY9 = null
    set AZ9 = null
    set AA9 = null
    set AB9 = null
    set AC9 = null
    set A39 = null
    set AJ9 = null
    set AK9 = null
    set AM9 = null
    set AN9 = null
    set AO9 = null
    set AP9 = null
    set JB9 = null
    set C8G = null
endfunction
function C9G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local item CDG = AV7(Z77, BU[ED4])
    if CDG == null then
        set CDG = AV7(Z77, LU[ED4])
    endif
    if CDG != null then
        call RemoveItem(CDG)
        call C7G(Z77)
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    set CDG = null
    return false
endfunction
function CEG takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call ZX9(Z77)
    call TriggerRegisterTimerEvent(t, .05, false)
    call TriggerAddCondition(t, Condition(function C9G))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
endfunction
function CGG takes nothing returns boolean
    local unit AM7 = GetTriggerUnit()
    local item Y98 = GetManipulatedItem()
    local integer id = GetItemTypeId(Y98)
    local integer i
    if(id == BU[JB]or id == BU[YC]or id == BU[DFX])and IsUnitType(AM7, UNIT_TYPE_HERO) then
        set UL4[GetPlayerId(GetOwningPlayer(AM7))] = GetItemX(Y98)
        set U14[GetPlayerId(GetOwningPlayer(AM7))] = GetItemY(Y98)
    endif
    call ZQG(AM7, Y98)
    call ZRG(AM7, Y98)
    if(id == BU[H2]or id == BU[P2])and ZS7(AM7)then
        call UnitRemoveItem(AM7, Y98)
    elseif id == BU[D44]and IsUnitType(AM7, UNIT_TYPE_HERO) then
        set i = (LoadInteger(R8, (GetHandleId(AM7)), (750)))
        if i > 0 then
            if(LoadBoolean(R8, (GetHandleId(AM7)), (751))) == false then
                call SaveBoolean(R8, (GetHandleId(AM7)), (751), (true))
                call SetItemCharges(Y98, i)
            endif
        endif
    elseif id == BU[F1]and GetUnitTypeId(AM7) != 'n00L' and NU4 == false then
        set NT4 = AM7
        set NU4 = true
        call X48("AegisOn", GetPlayerId(GetOwningPlayer(AM7)))
        call NN8(bj_FORCE_ALL_PLAYERS, 10., W[GetPlayerId(GetOwningPlayer(AM7))] + GetUnitName(AM7) + "|r " + GetObjectName('n0EQ'))
    elseif id == BU[ED4]and ZQ7(AM7)then
        call CEG(AM7)
    elseif id == BU[FB4] and GetUnitTypeId(AM7) == 'H00U' then
        set H04 = AM7
        call ExecuteFunc("A8F")
    elseif id == BU[FH4] and GetUnitTypeId(AM7) == 'Hmkg' then
        set H04 = AM7
        call ExecuteFunc("CHD")
    elseif id == BU[F44] and (GetUnitTypeId(AM7) == 'Hblm' or GetUnitTypeId(AM7) == 'H06X' or GetUnitTypeId(AM7) == 'H06Y' or GetUnitTypeId(AM7) == 'H06W' or GetUnitTypeId(AM7) == 'H0BC') then
        set H04 = AM7
        call ExecuteFunc("KotnAghanimOn")
    elseif id == BU[AJK0] and GetUnitTypeId(AM7) == 'E032' then
        set H04 = AM7
        call ExecuteFunc("AXAO")
    elseif id == BU[AL70] and GetUnitTypeId(AM7) == 'Hamg' then
        call O68(AM7, 'A01V')
        call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A01V', true)
    elseif id == BU[AL80] and GetUnitTypeId(AM7) == 'N0MU' then
        call O68(AM7, 'A2S9')
        call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A2S9', true)
    elseif id == BU[F_4] and GetUnitTypeId(AM7) == 'H00K' then
        call O68(AM7, 'A38K')
        call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A38K', true)
    elseif id == BU[AZHM] and GetUnitTypeId(AM7) == 'E02I' then
        call O68(AM7, 'A3DF')
        call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A3DF', true)
    elseif id == BU[AZXG] and GetUnitTypeId(AM7) == 'U00C' then
        call O68(AM7, 'A3DO')
        call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A3DO', true)
    elseif id == BU[AZXQ] and GetUnitTypeId(AM7) == 'U000' then
        call O68(AM7, 'A3CT')
        call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A3CT', true)
    elseif id == BU[GI4]and GetUnitTypeId(AM7) == 'Emoo' then
        call SetPlayerTechResearched(GetOwningPlayer(AM7), 'R00J', 1)
    elseif id == BU[GM4]and GetUnitTypeId(AM7) == 'H00I' then
        set H04 = AM7
        call ExecuteFunc("TCE")
    elseif id == BU[GG4]and GetUnitTypeId(AM7) == 'Ucrl' then
        call UnitAddAbility(AM7, 'A2KB')
        call UnitRemoveAbility(AM7, 'A2KB')
        call AddUnitAnimationProperties(AM7, "upgrade", true)
        call SetPlayerTechResearched(GetOwningPlayer(AM7), 'R00K', 1)
    endif
    set AM7 = null
    set Y98 = null
    return false
endfunction
function CMG takes nothing returns nothing
    local unit u = GetEnumUnit()
    local integer i = 0
    local player p = GetOwningPlayer(GetTriggerUnit())
    local item JB9
    local integer id = GetPlayerId(p)
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set JB9 = UnitItemInSlot(u, i)
        if JB9 != null and GetItemPlayer(JB9) == p then
            call UnitRemoveItem(u, JB9)
            call SetItemPosition(JB9, KS4[id], KT4[id])
        endif
        set i = i + 1
    endloop
    set u = null
    set JB9 = null
endfunction
function CNG takes nothing returns nothing
    local item JB9 = GetEnumItem()
    local unit u = OF4
    local player p = GetOwningPlayer(u)
    local integer id = GetPlayerId(p)
    if GetWidgetLife(JB9) > 0 and GetItemPlayer(JB9) == p and IsItemVisible(JB9) then
        call SetItemPosition(JB9, KS4[id], KT4[id])
        call UnitAddItem(KR4[id], JB9)
    endif
    set JB9 = null
    set u = null
    set p = null
endfunction
function COG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit u = (LoadUnitHandle(R8, (EC8), (53)))
    set OF4 = u
    if KN8(GetOwningPlayer(OF4))then
        call EnumItemsInRect(BD, Condition(function KF8), function CNG)
    else
        call EnumItemsInRect(LD, Condition(function KF8), function CNG)
    endif
    if GetTriggerEvalCount(t) == 2 then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set u = null
    return false
endfunction
function CPG takes nothing returns boolean
    return ZS7(GetFilterUnit())
endfunction
function CQG takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local integer i = 0
    local group g = OG8()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 1300, Condition(function CPG))
    call ForGroup(g, function CMG)
    call OF8(g)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function COG))
    call SaveUnitHandle(R8, (EC8), (53), (u))
    set t = null
    set u = null
    set g = null
endfunction
function CRG takes nothing returns nothing
    if GetSpellAbilityId() == 'A14D' then
        call CQG()
    endif
endfunction
function CSG takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local integer i = 0
    local item JB9
    local integer id = GetPlayerId(GetOwningPlayer(u))
    local region r = CreateRegion()
    if KN8(GetOwningPlayer(u))then
        call RegionAddRect(r, BD)
    else
        call RegionAddRect(r, LD)
    endif
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set JB9 = UnitItemInSlot(u, i)
        if NB8(ZU7(JB9)) == false and not IsTheItem(JB9, F1) and BV9(JB9) == false then
            call UnitRemoveItemFromSlot(u, i)
            if(GetUnitTypeId(u) == 'ncop' or IsUnitInRegion(r, u))and IsPlayerAlly(GetItemPlayer(JB9), GetOwningPlayer(u)) then
                set id = GetPlayerId(GetItemPlayer(JB9))
                call SetItemPosition(JB9, KS4[id], KT4[id])
            endif
        endif
        set i = i + 1
    endloop
    call RemoveRegion(r)
    set JB9 = null
    set u = null
    set r = null
endfunction
function CTG takes nothing returns nothing
    if GetSpellAbilityId() == 'A138' or GetSpellAbilityId() == 'A14C' then
        call CSG()
    endif
endfunction
function CUG takes nothing returns nothing
    if GetSpellAbilityId() == 'A12W' and GetUnitAbilityLevel(GetTriggerUnit(), 'Bpsh') > 0 then
        call UnitRemoveAbility(GetTriggerUnit(), 'Bpsh')
    endif
endfunction
function CVG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if W18(GetEventDamage())and IsUnitAlly(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) == false and IsUnitType(GetEventDamageSource(), UNIT_TYPE_STRUCTURE) == false and p3 == false then
            if GetUnitAbilityLevel(GetEventDamageSource(), 'A04R') == 0 then
                call DisableTrigger(t)
                set p3 = true
                call V08(GetTriggerUnit(), GetEventDamageSource(), A34, GetEventDamage())
                set p3 = false
                call EnableTrigger(t)
            endif
        endif
    endif
    set t = null
    return false
endfunction
function CWG takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 4.5, false)
    call TriggerAddCondition(t, Condition(function CVG))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpikeBarrier\\SpikeBarrier.mdl", p5, "chest")))
    set t = null
    set p5 = null
endfunction
function CXG takes nothing returns nothing
    if GetSpellAbilityId() == 'A15W' then
        call CWG()
    endif
endfunction
function CYG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real d = (LoadReal(R8, (EC8), (138)))
    local real x = PQ8(GetUnitX(target) + d / 10 * Cos(a * bj_DEGTORAD))
    local real y = PS8(GetUnitY(target) + d / 10 * Sin(a * bj_DEGTORAD))
    if GetTriggerEvalCount(t) == 11 or GetTriggerEventId() == EVENT_UNIT_DEATH or((LoadInteger(R8, (GetHandleId((target))), ((4260)))) == 1) == true then
        // if(EP8(EC8, "AI"))then
        //     call J3(target, false)
        // endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", x, y))
        if((LoadInteger(R8, (GetHandleId((target))), ((4306)))) == 1) == false and((LoadInteger(R8, (GetHandleId((target))), ((4324)))) == 1) == false and GetUnitAbilityLevel(target, 'B08V') == 0 and GetUnitAbilityLevel(target, 'B0FG') == 0 then
            call SC8(x, y, 150)
            call SetUnitX(target, x)
            call SetUnitY(target, y)
        endif
    endif
    set target = null
    set t = null
    return false
endfunction
function CZG takes nothing returns nothing
    local unit m5 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real x
    local real y
    local real d
    local real a
    local integer i =- 1
    local boolean CAG = false
    if GetSpellTargetItem() != null then
        set m5 = GetTriggerUnit()
    endif
    call ASCI(m5, 4414, 3)
    set a = GetUnitFacing(m5)
    loop
        exitwhen CAG or i == 23
        set i = i + 1
        set x = PQ8(GetUnitX(m5) + (600 - i * 25) * Cos(a * bj_DEGTORAD))
        set y = PS8(GetUnitY(m5) + (600 - i * 25) * Sin(a * bj_DEGTORAD))
        if(IsPointInRegion(IF4, (x), (y))) == false then
            set CAG = true
        endif
    endloop
    set d = Z87(x, y, GetUnitX(m5), GetUnitY(m5))
    call TriggerRegisterTimerEvent(t, .04, true)
    call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function CYG))
    call SaveUnitHandle(R8, (EC8), (17), (m5))
    call SaveReal(R8, (EC8), (137), ((a)))
    call SaveReal(R8, (EC8), (138), ((d)))
    // call DT8(EC8, "AI", (IsComputer(GetOwningPlayer(m5)))and(IsUnitAlly(m5, GetOwningPlayer(GetTriggerUnit()))))
    set m5 = null
    set t = null
endfunction
function CBG takes nothing returns nothing
    if GetSpellAbilityId() == 'A19M' and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' then
        if IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) or(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139))) == false then
            call CZG()
        endif
    endif
endfunction
function CCG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEvalCount(t) > 40 or GetTriggerEventId() == EVENT_UNIT_DEATH or GU8(p5)or((LoadInteger(R8, (GetHandleId((p5))), ((4256)))) == 1)then
        call UnitRemoveAbility(p5, 'Aetl')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set p5 = null
    set t = null
    return false
endfunction
function HND takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t
    local integer W57
    if ZS7(p5) == false then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call UnitAddAbility(p5, 'Aetl')
        call UnitMakeAbilityPermanent(p5, true, 'Aetl')
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'Aetl', false)
        call TriggerRegisterTimerEvent(t, .1, true)
        call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function CCG))
        call SaveUnitHandle(R8, (W57), (2), (p5))
    endif
    set p5 = null
    set t = null
endfunction
function C3G takes nothing returns nothing
    if GetSpellAbilityId() == 'A1AC' and GU8(GetTriggerUnit()) == false then
        call HND()
    endif
endfunction
function C6G takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local real x
    local real y
    if GetPlayerTeam(GetOwningPlayer(p5)) == 0 then
        set x = GetRectCenterX(QD)
        set y = GetRectCenterY(QD)
    else
        set x = GetRectCenterX(PD)
        set y = GetRectCenterY(PD)
    endif
    call IssuePointOrderById(p5, 851986, x, y)
    set p5 = null
endfunction
function CLG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x
    local real y
    if GetPlayerTeam(GetOwningPlayer(Z77)) == 0 then
        set x =- 4533
        set y = 1158
    else
        set x = 3190
        set y =- 35
    endif
    call IssuePointOrderById(Z77, 851986, x, y)
    set Z77 = null
endfunction
function C1G takes nothing returns nothing
    if GetSpellAbilityId() == 'A1AS' then
        call C6G()
    elseif GetSpellAbilityId() == 'A2KS' then
        call CLG()
    endif
endfunction
function C0G takes nothing returns nothing
    if((LoadInteger(R8, (GetHandleId((GetEnumUnit()))), ((4278)))) == 1) == true then
        call PN8(GetOwningPlayer(GetEnumUnit()), GetObjectName('n02M'))
    else
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
            call ASCI(GetEnumUnit(), 4278, 50)
        endif
        if GetUnitAbilityLevel(GetEnumUnit(), 'B0BT') == 0 and GetUnitAbilityLevel(GetEnumUnit(), 'B0BU') == 0 then
            call IssueTargetOrderById(Mw, 852186, GetEnumUnit())
        endif
    endif
endfunction
function C5G takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local group g = OG8()
    set Mw = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(p5), GetUnitY(p5), 0)
    call UnitAddAbility(Mw, 'A1EV')
    if GetSpellAbilityId() == 'A1EW' then
        call GroupEnumUnitsInRange(g, GetUnitX(p5), GetUnitY(p5), 925, Condition(function GenericCondition_AlliedHeroesAndCreepsUncycloned))
    else
        call GroupAddUnit(g, p5)
    endif
    call ForGroup(g, function C0G)
    call OF8(g)
    set p5 = null
    set g = null
endfunction
function C2G takes nothing returns nothing
    if GetSpellAbilityId() == 'A1EW' or GetSpellAbilityId() == 'A3O8' then
        call C5G()
    endif
endfunction
function C_G takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    call SaveBoolean(R8, (GetHandleId(N28)), (129), (true))
    set N28 = null
endfunction
function L4G takes nothing returns nothing
    if(GetSpellAbilityId() == 'A0B8' or GetSpellAbilityId() == 'A1WE')and OE8(GetTriggerUnit()) then
        call C_G()
    endif
endfunction
function L7G takes integer id returns boolean
    return id == 'ugho' or id == 'unec' or id == 'esen' or id == 'edry' or id == 'u001' or id == 'u002' or id == 'e00V' or id == 'e00W' or id == 'ebal' or id == 'e026' or id == 'umtw' or id == 'u00R'
endfunction
function L8G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A1MO' and GetSpellTargetUnit() == m5 then
            call SaveInteger(R8, (EC8), (34), (8))
        endif
    elseif O18(m5) or GetTriggerEventId() == EVENT_UNIT_DEATH or C77 <= 0 then
        call SaveInteger(R8, (GetHandleId(m5)), (4254), (2))
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set X64[GetPlayerId(GetOwningPlayer(m5))] = true
        call SaveInteger(R8, (EC8), (34), (C77 - 1))
        call V08(p5, m5, 3, 150. / 8.)
        set X64[GetPlayerId(GetOwningPlayer(m5))] = false
    endif
    set t = null
    set p5 = null
    set m5 = null
    return false
endfunction
function L9G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or(GetTriggerEventId() == EVENT_UNIT_DAMAGED and(L7G(GetUnitTypeId(GetEventDamageSource())) == false and(GetOwningPlayer(GetEventDamageSource()) != O8 or GetUnitTypeId(GetEventDamageSource()) == 'n00L')and GetEventDamage() > 0)or X34)then
        call UnitRemoveAbility(m5, 'B0CG')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set m5 = null
    return false
endfunction
function LDG takes nothing returns nothing
    local trigger t
    local integer EC8
    local unit p5 = GetTriggerUnit()
    local unit m5 = GetSpellTargetUnit()
    local unit AC7
    local integer i = 0
    local boolean LEG = false
    local boolean LFG = false
    local integer P29
    if m5 == null then
        set m5 = GetTriggerUnit()
    endif
    set AC7 = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(m5), GetUnitY(m5), 0)
    loop
        exitwhen i >= bj_MAX_INVENTORY or LFG
        if IsEnabledItem(UnitItemInSlot(p5, i), DE4) then
            set P29 = GetItemCharges(UnitItemInSlot(p5, i))
            if P29 > 0 then
                set LEG = true
                set P29 = P29 - 1
            else
                set LFG = true
                set LEG = false
            endif
        endif
        set i = i + 1
    endloop
    if LEG then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        if IsUnitAlly(m5, GetOwningPlayer(p5)) then
            call UnitAddAbility(AC7, 'A1MM')
            call IssueTargetOrderById(AC7, 852609, m5)
            call SaveUnitHandle(R8, (EC8), (17), (m5))
            call TriggerRegisterTimerEvent(t, L3, false)
            call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
            call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DAMAGED)
            call TriggerAddCondition(t, Condition(function L9G))
        elseif(LoadInteger(R8, (GetHandleId(m5)), (4254)) == 1) == false then
            call SaveInteger(R8, (GetHandleId(m5)), (4254), (1))
            call SaveUnitHandle(R8, (EC8), (17), (m5))
            call SaveUnitHandle(R8, (EC8), (2), (p5))
            call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("war3mapImported\\Urn_Enemy.mdx", m5, "overhead")))
            call SaveInteger(R8, (EC8), (34), (8))
            call TriggerRegisterTimerEvent(t, 1, true)
            call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
            call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
            call TriggerAddCondition(t, Condition(function L8G))
        endif
    endif
    set p5 = null
    set AC7 = null
    set m5 = null
    set t = null
endfunction
function LGG takes nothing returns nothing
    if GetSpellAbilityId() == 'A1MO' then
        call LDG()
    endif
endfunction
function LHG takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i >= bj_MAX_PLAYER_SLOTS
        set X64[i] = false
        set i = i + 1
    endloop
endfunction
function LIG takes nothing returns nothing
    if S_9(GetEnumUnit()) == false then
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A1ZX', false)
        call T68(GetEnumUnit(), 'A1ZX', 1, AE4, 'B0DX')
    endif
endfunction
function LJG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer i = 0
    local boolean LKG = false
    local boolean ZJE = false
    local integer P29
    local group g
    set g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 925, Condition(function U88))
    call ForGroup(g, function LIG)
    call OF8(g)
    set g = null
    set Z77 = null
endfunction
function LMG takes nothing returns nothing
    if GetSpellAbilityId() == 'A1ZW' then
        call LJG()
    endif
endfunction
function LNG takes unit u returns boolean
    local integer WS7 = GetUnitTypeId(u)
    return WS7 == 'H0B8' or WS7 == 'n0FJ' or WS7 == 'n0FI' or WS7 == 'n0F6' or WS7 == 'n0FH' or WS7 == 'u00S'
endfunction
function LOG takes unit u returns boolean
    local integer id = GetUnitTypeId(u)
    return NK8(id)
endfunction
function LPG takes nothing returns boolean
    return IsUnitEnemy(GetFilterUnit(), AF4)and O18(GetFilterUnit()) == false and(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) or IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) or LOG(GetFilterUnit()))and LNG(GetFilterUnit()) == false
endfunction
function LQG takes unit Z77 returns boolean
    local group g = OG8()
    local boolean LKG
    set AF4 = GetOwningPlayer(Z77)
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1050, Condition(function LPG))
    set LKG = FirstOfGroup(g) != null
    call OF8(g)
    set g = null
    return LKG
endfunction
function LRG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group g
    local integer C77
    local boolean LSG
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetAttacker() == Z77 then
            call UnitRemoveAbility(Z77, 'A20L')
            call UnitRemoveAbility(Z77, 'A20S')
            call UnitRemoveAbility(Z77, 'B0E2')
            call UnitRemoveAbility(Z77, 'B09Y')
            call AFV1(Z77)
            if((LoadInteger(R8, (GetHandleId(Z77)), (4302))) == 1) == false then
                call UnitSetUsesAltIcon(Z77, false)
            endif
            call SaveInteger(R8, (GetHandleId(Z77)), (4420), (2))
            call DestroyEffect(LoadEffectHandle(R8, (W57), (32)))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    else
        set LSG = (LoadBoolean(R8, (W57), (671)))
        set C77 = (LoadInteger(R8, (W57), (34)))
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        set g = OG8()
        set AF4 = GetOwningPlayer(Z77)
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1050, Condition(function LPG))
        if GetUnitAbilityLevel(Z77, 'B09Y') > 0 then
            call SaveBoolean(R8, (W57), (671), (true))
        elseif LSG then
            call SaveBoolean(R8, (W57), (671), (false))
            call UnitRemoveAbility(Z77, 'A20L')
            call O68(Z77, 'A20L')
        endif
        if C77 > 350 or FirstOfGroup(g) != null then
            call UnitRemoveAbility(Z77, 'A20L')
            call UnitRemoveAbility(Z77, 'A20S')
            call UnitRemoveAbility(Z77, 'B0E2')
            call UnitRemoveAbility(Z77, 'B09Y')
            call AFV1(Z77)
            if((LoadInteger(R8, (GetHandleId((Z77))), ((4302)))) == 1) == false and ((LoadInteger(R8, (GetHandleId((Z77))), ((4421)))) == 1) == false then
                call UnitSetUsesAltIcon(Z77, false)
            endif
            call SaveInteger(R8, (GetHandleId((Z77))), ((4420)), (2))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
        call OF8(g)
    endif
    set t = null
    set Z77 = null
    set g = null
    return false
endfunction
function LTG takes nothing returns nothing
    local unit Z77 = GetEnumUnit()
    local trigger t
    local integer W57
    if KP8(GetOwningPlayer(Z77))and LQG(Z77) == false then
        if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(Z77)) == false and N08(GetLocalPlayer()) == false then
            call UnitSetUsesAltIcon(Z77, true)
            call AFY1(Z77)
        endif
        call O68(Z77, 'A20L')
        call UnitMakeAbilityPermanent(Z77, true, 'A20L')
        if S_9(Z77) == false then
            call O68(Z77, 'A20S')
            call UnitMakeAbilityPermanent(Z77, true, 'A20S')
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A20S', false)
        endif
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveInteger(R8, (W57), (34), (0))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveBoolean(R8, (W57), (671), (false))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\SmokeOfDeceit.mdx", Z77, "chest")))
        call SaveInteger(R8, (GetHandleId((Z77))), ((4420)), (1))
        call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerRegisterTimerEvent(t, .1, true)
        call TriggerAddCondition(t, Condition(function LRG))
        set t = null
    endif
    set Z77 = null
endfunction
function LUG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1225, Condition(function U78))
    call ForGroup(g, function LTG)
    call OF8(g)
    set Z77 = null
    set g = null
endfunction
function LVG takes nothing returns nothing
    if GetSpellAbilityId() == 'A206' then
        call LUG()
    endif
endfunction
function LWG takes nothing returns nothing
    if S_9(GetEnumUnit()) == false then
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A28F', false)
        call T68(GetEnumUnit(), 'A28F', 1, LH4, 'B0EQ')
    endif
endfunction
function LXG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    call GroupEnumUnitsInRange(g, x, y, 600 + 25, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function LWG)
    call OF8(g)
    call DestroyEffect(AddSpecialEffect("war3mapImported\\DarkLightningNova.mdx", x, y))
    set Z77 = null
    set g = null
endfunction
function LYG takes nothing returns nothing
    if GetSpellAbilityId() == 'A28D' then
        call LXG()
    endif
endfunction
function LZG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    call UnitAddAbility(AC7, 'A2K3')
    call IssueTargetOrder(AC7, "drunkenhaze", X77)
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function LAG takes nothing returns nothing
    if GetSpellAbilityId() == 'A2EA' and OE8(GetSpellTargetUnit()) == false then
        call LZG()
    endif
endfunction
function LBG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or C77 == 20 or(GetTriggerEventId() == EVENT_UNIT_DAMAGED and GetEventDamage() > 20)then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) + 12.5)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function LCG takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function LBG))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\TranquilBootsHeal.mdx", Z77, "origin")))
    set Z77 = null
    set t = null
endfunction
function L3G takes nothing returns nothing
    if GetSpellAbilityId() == 'A2K1' then
        call LCG()
    endif
endfunction
function L6G takes nothing returns boolean
    local unit Q89 = GetSummonedUnit()
    local integer i = 0
    local item VN9
    if IsUnitIllusion(Q89) then
        loop
            exitwhen i >= bj_MAX_INVENTORY
            set VN9 = UnitItemInSlot(Q89, i)
            if IsEnabledItem(VN9, CZ) then
                call DisableTrigger(GW4)
                set I44 = GetItemPlayer(VN9)
                call RemoveItem(VN9)
                set HK4 = VE9(Q89, BU[IA], i)
                call SetItemPlayer(HK4, I44, false)
                call SetItemUserData(HK4, 1)
                call EnableTrigger(GW4)
            endif
            set i = i + 1
        endloop
    endif
    set Q89 = null
    set VN9 = null
    return false
endfunction
function L1G takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = GetTriggerEvalCount(t)
    local unit AC7
    if (GetUnitAbilityLevel(X77, 'B0GM') == 0 and C77 > 20)or C77 > (LoadInteger(R8, (W57), (34))) then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveInteger(R8, (GetHandleId((X77))), ((4337)), (2))
        call UnitRemoveAbility(X77, 'B0GL')
        call UnitRemoveAbility(X77, 'B0GM')
        call UnitRemoveAbility(X77, 'A2R3')
    elseif C77 == 20 then
        set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
        call UnitAddAbility(AC7, 'A2R2')
        call IssueTargetOrderById(AC7, 852069, X77)
        call SaveInteger(R8, (GetHandleId((X77))), ((4337)), (2))
        set AC7 = null
    endif
    set t = null
    set X77 = null
    return false
endfunction
function LLG takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = GetTriggerEvalCount(t)
    local unit AC7
    if (GetUnitAbilityLevel(X77, 'B0GM') == 0 and C77 > 30)or C77 > R2I(HJ4 / .02) then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveInteger(R8, (GetHandleId((X77))), ((4337)), (2))
        call UnitRemoveAbility(X77, 'B0GL')
        call UnitRemoveAbility(X77, 'B0GM')
        call UnitRemoveAbility(X77, 'A2R3')
        if C77 < R2I(HJ4 / .02) then
            call SaveInteger(R8, (GetHandleId((X77))), ((4337)), (1))
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call SaveInteger(R8, (W57), (34), (R2I(HJ4 / .02) - C77))
            call SaveUnitHandle(R8, (W57), (17), (X77))
            call TriggerRegisterTimerEvent(t, .02, true)
            call TriggerAddCondition(t, Condition(function L1G))
        endif
    elseif C77 == 30 then
        set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
        call UnitAddAbility(AC7, 'A2R2')
        call IssueTargetOrderById(AC7, 852069, X77)
        call SaveInteger(R8, (GetHandleId((X77))), ((4337)), (2))
        set AC7 = null
    endif
    set t = null
    set X77 = null
    return false
endfunction
function L5G takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local string L2G = "Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl"
    local unit X77
    if LoadInteger(R8, (GetHandleId(GetSpellTargetUnit())), ((4337))) == 1 then
        return
    elseif GetSpellTargetItem() != null then
        set X77 = GetTriggerUnit()
    else
        set X77 = GetSpellTargetUnit()
    endif
    call O68(X77, 'A2R3')
    call SaveInteger(R8, (GetHandleId((X77))), ((4337)), (1))
    call DestroyEffect(AddSpecialEffectTarget(L2G, X77, "overhead"))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function LLG))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set X77 = null
    set t = null
endfunction
function L_G takes nothing returns nothing
    if GetSpellAbilityId() == 'A2R1' then
        call L5G()
    endif
endfunction
function D4H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetUnitAbilityLevel(Z77, 'Bdet') == 0 then
        call UnitRemoveAbility(Z77, 'A2SJ')
        call UnitRemoveAbility(Z77, 'B0GR')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        if UN8(Z77) then
            if GetUnitAbilityLevel(Z77, 'B0GR') == 0 then
                call O68(Z77, 'A2SJ')
            endif
        else
            if GetUnitAbilityLevel(Z77, 'B0GR') > 0 then
                call UnitRemoveAbility(Z77, 'A2SJ')
                call UnitRemoveAbility(Z77, 'B0GR')
            endif
        endif
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function D7H takes nothing returns nothing
    local unit Z77 = GetEnumUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function D4H))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function D8H takes nothing returns nothing
    local group g = OG8()
    local unit Z77 = GetTriggerUnit()
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1050 + 25, Condition(function V98))
    call ForGroup(g, function D7H)
    call OF8(g)
    set g = null
    set Z77 = null
endfunction
function D9H takes nothing returns nothing
    if GetSpellAbilityId() == 'AItb' then
        call D8H()
    endif
endfunction
function DDH takes nothing returns nothing
    if IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == false then
        call V08(GetTriggerUnit(), GetSpellTargetUnit(), 2, 220)
    endif
endfunction
function IronTalonEffect takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl", X77, "chest"))
    call V08(Z77, X77, A14, GetUnitState(X77, UNIT_STATE_LIFE) * .4)
    set X77 = null
    set Z77 = null
endfunction
function DEH takes nothing returns nothing
    if GetSpellAbilityId() == 'A1FD' then
        if IsWard(GetSpellTargetUnit()) then
            call DDH()
        endif
    elseif GetSpellAbilityId() == 'A3O4' then
        if GetSpellTargetUnit() != null then
            if IsWard(GetSpellTargetUnit()) then
                call DDH()
            else
                call IronTalonEffect()
            endif
        endif
    endif
endfunction
function AII1 takes player AMDI, sound AI11, real x, real y returns nothing
    call SetSoundPosition(AI11, x, y, 0)
    call SetSoundVolume(AI11, 127)
    set bj_lastPlayedSound = AI11
    if(AI11 != null)then
        if(GetLocalPlayer() == AMDI)then
            call StartSound(AI11)
        endif
    endif
endfunction
function AM6O takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer AM7O = 0
    local integer AM8O = 0
    local item QBG
    local integer AM9O
    local integer VL8
    local unit AMAO
    if GetSpellAbilityId() == 'A2WI' then
        set AM9O = 'oeye'
        set VL8 = 60 * 4
        set AM7O = 'I05H'
        set AM8O = FB
    elseif GetSpellAbilityId() == 'A2WH' then
        set AM9O = 'o004'
        set VL8 = 60 * 7
        set AM7O = 'I05G'
        set AM8O = GB
    else
        return
    endif
    if target != null then
        if XYF(target) > 0 then
            call DisableTrigger(GW4)
            set QBG = UnitAddItemById(target, AM7O)
            call SetItemPlayer(QBG, GetOwningPlayer(target), false)
            call SetItemUserData(QBG, 1)
            call SetItemCharges(QBG, 1)
            call EnableTrigger(GW4)
        else
            call XIG(AU[AM8O], GetUnitX(target), GetUnitY(target), GetOwningPlayer(target), true, 1)
        endif
    else
        set AMAO = CreateUnit(GetOwningPlayer(p5), AM9O, GetSpellTargetX(), GetSpellTargetY(), 0)
        call UnitApplyTimedLife(AMAO, 'BTLD', VL8)
        call O68(AMAO, 'A0XB')
        call AII1(GetOwningPlayer(p5), AAUF, GetSpellTargetX(), GetSpellTargetY())
        if IsUnitInRegion(ow, AMAO)then
            call U59(p5, AMAO)
            call RemoveUnit(AMAO)
        else
            call UL9(AMAO, p5)
            if GetUnitTypeId(AMAO) == 'oeye' then
                call S18(GetOwningPlayer(AMAO), 12, GetUnitX(AMAO), GetUnitY(AMAO), 150)
            endif
        endif
    endif
    set target = null
    set p5 = null
    set QBG = null
    set AMAO = null
endfunction
function AYKO takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    call UnitRemoveAbility(p5, 'A31A')
    call UnitRemoveAbility(p5, 'A2YJ')
    call UnitRemoveAbility(p5, 'A2YH')
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    return false
endfunction
function AYLO takes nothing returns nothing
    local trigger t
    local integer EC8
    if((LoadInteger(R8, (GetHandleId((GetEnumUnit()))), ((4346)))) == 1) == true then
        call PN8(GetOwningPlayer(GetEnumUnit()), GetObjectName('n0NQ') + " " + GetUnitName(GetEnumUnit()))
    else
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
            call ASCI(GetEnumUnit(), 4346, 70)
        endif
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call O68(GetEnumUnit(), 'A31A')
        call O68(GetEnumUnit(), 'A2YJ')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A31A', false)
        call O68(GetEnumUnit(), 'A2YH')
        call TriggerRegisterTimerEvent(t, 10, false)
        call TriggerRegisterDeathEvent(t, GetEnumUnit())
        call TriggerAddCondition(t, Condition(function AYKO))
        call SaveUnitHandle(R8, (EC8), (2), (GetEnumUnit()))
        set t = null
    endif
endfunction
function AYMO takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local group g = OG8()
    call PlaySoundOnUnitBJ(AABG, 100, p5)
    call GroupEnumUnitsInRange(g, GetUnitX(p5), GetUnitY(p5), 925, Condition(function U78))
    call ForGroup(g, function AYLO)
    call OF8(g)
    set p5 = null
    set g = null
endfunction
function AYNO takes nothing returns nothing
    if GetSpellAbilityId() == 'A2YG' then
        call AYMO()
    endif
endfunction
function EnchantedMangoEffect takes nothing returns nothing
    local unit X77
    if GetSpellTargetItem() != null then
        set X77 = GetTriggerUnit()
    else
        set X77 = GetSpellTargetUnit()
    endif
    call SetUnitState(X77, UNIT_STATE_MANA, GetUnitState(X77, UNIT_STATE_MANA) + 150)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\MoonWell\\MoonWellCasterArt.mdx", X77, "origin"))
    set X77 = null
endfunction
function SilverEdgeEffectCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local unit Z77
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGED then
        set Z77 = GetEventDamageSource()
        if IsNormalAttackHero() and Z77 == (LoadUnitHandle(R8, (GetHandleId(t)), (14))) and ((LoadInteger(R8, (GetHandleId(Z77)), (2489))) == 1) == false then
            if IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(Z77))then
                call Break(Z77, GetTriggerUnit(), 5.)
            endif
            call FlushChildHashtable(R8, (GetHandleId(t)))
            call EA8(t)
        endif
        set Z77 = null
    else
        call FlushChildHashtable(R8, (GetHandleId(t)))
        call EA8(t)
    endif
    set t = null
    return false
endfunction
function SilverEdgeEffect takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call ASCI(Z77, 2489, 0.3 - 0.01)
    call TriggerRegisterTimerEvent(t, 14., false)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_CAST)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function SilverEdgeEffectCondt))
    call SaveUnitHandle(R8, (EC8), (14), (Z77))
    set t = null
    set Z77 = null
endfunction
function GetHeroScepterVisual takes unit Y47 returns integer
    local integer WP8
    set WP8 = GetUnitTypeId(Y47)
    if WP8 == 'Hblm' or WP8 == 'H06X' or WP8 == 'H06Y' or WP8 == 'H06W' or WP8 == 'H0BC' then
        return 'A0PD'
    elseif WP8 == 'H004' then
        return 'A0PC'
    elseif WP8 == 'UC18' then
        return 'A0PA'
    elseif WP8 == 'Hmkg' then
        return 'A0P9'
    elseif WP8 == 'H00H' then
        return 'A0PB'
    elseif WP8 == 'UC01' then
        return 'A0P7'
    elseif WP8 == 'Orkn' then
        return 'A0P8'
    elseif WP8 == 'Hmbr' then
        return 'A0PF'
    elseif WP8 == 'UC42' then
        return 'A0QC'
    elseif WP8 == 'Hjai' then
        return 'A1AR'
    elseif WP8 == 'Ulic' then
        return 'A01S'
    elseif WP8 == 'Ekee' then
        return 'A1NW'
    elseif WP8 == 'Emns' then
        return 'A20M'
    elseif WP8 == 'U00E' then
        return 'A1R9'
    elseif WP8 == 'E01A' then
        return 'A1V5'
    elseif WP8 == 'H00T' then
        return 'A1B9'
    elseif WP8 == 'Hvwd' then
        return 'A1V3'
    elseif WP8 == 'Nbbc' then
        return 'A1QL'
    elseif WP8 == 'H00A' then
        return 'A20V'
    elseif WP8 == 'Udre' then
        return 'A1VA'
    elseif WP8 == 'E00P' then
        return 'A1VF'
    elseif WP8 == 'U00K' then
        return 'A1VD'
    elseif WP8 == 'H00Q' then
        return 'A1NS'
    elseif WP8 == 'U00F' then
        return 'A1VB'
    elseif WP8 == 'H00U' then
        return 'A1R2'
    elseif WP8 == 'EC45' then
        return 'A1R3'
    elseif WP8 == 'O00J' then
        return 'A1VE'
    elseif WP8 == 'Oshd' then
        return 'A1R8'
    elseif WP8 == 'H00K' then
        return 'A1R7'
    elseif WP8 == 'Opgh' then
        return 'A1V9'
    elseif WP8 == 'Otch' then
        return 'A1VC'
    elseif WP8 == 'N00B' then
        return 'A1RG'
    elseif WP8 == 'E01C' then
        return 'A1UV'
    elseif WP8 == 'E002' then
        return 'A1UX'
    elseif WP8 == 'U00P' then
        return 'A1VZ'
    elseif WP8 == 'Emoo' then
        return 'A1X2'
    elseif WP8 == 'H00N' then
        return 'A21Z'
    elseif WP8 == 'E02N' or WP8 == 'E02O' then
        return 'A23E'
    elseif WP8 == 'H00D' then
        return 'A29E'
    elseif WP8 == 'E02K' then
        return 'A38O'
    endif
    return 0
endfunction
function AlcheAghanimGrant takes nothing returns nothing
    local unit X77 = GetSpellTargetUnit()
    local integer A7F = BU9(GetSpellTargetUnit())
    if A7F != 0 then
        call UnitAddAbility(X77, A7F)
        call UnitMakeAbilityPermanent(X77, true, A7F)
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), A7F, false)
        set A7F = GetHeroScepterVisual(X77)
        if A7F != 0 then
            call UnitAddAbility(X77, A7F)
            call SetPlayerAbilityAvailable(GetOwningPlayer(X77), A7F, false)
        endif
    endif
    call UnitAddAbility(X77, 'A3E7')
    call BlzUnitHideAbility(X77, 'A3E7', true)
    call UnitAddAbility(X77, 'A0TK')
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A0TK', false)
    set X77 = null
endfunction
function WSXG takes nothing returns nothing
    if ((LoadInteger(R8, (GetHandleId((GetEnumUnit()))), ((4258)))) == 1) == true then
        call PN8(GetOwningPlayer(GetEnumUnit()), (GetObjectName(('n02M'))) + " " + GetUnitName(GetEnumUnit()) + " " + (GetObjectName(('n02S'))))
    else
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
            call ASCI(GetEnumUnit(), 4258, 25)
        endif
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", GetEnumUnit(), "origin"))
        call DestroyEffect(AddSpecialEffectTarget("Unleash.mdx", GetEnumUnit(), "chest"))
        call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + 250)
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl", GetEnumUnit(), "origin"))
    call SetUnitState(GetEnumUnit(), UNIT_STATE_MANA, GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) + 150)
endfunction
function WSJJ takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 925, Condition(function V88))
    call ForGroup(g, function WSXG)
    call OF8(g)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIda\\AIdaCaster.mdl", Z77, "origin"))
    call TF9(Z77)
    call T99(Z77, 0, 0)
    set Z77 = null
    set g = null
endfunction
function YYDJ takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    call UnitRemoveAbility(p5, 'A39F')
    call UnitRemoveAbility(target, 'A39F')
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function YYYJ takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    call UnitRemoveAbility(p5, 'A39F')
    call UnitRemoveAbility(target, 'A39E')
    call UnitRemoveAbility(target, 'A39G')
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function SolarCrestEffect takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7
    if IsUnitAlly(X77, GetOwningPlayer(Z77)) == false then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 7, false)
        call TriggerAddCondition(t, Condition(function YYDJ))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", X77, "chest")))
        call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", Z77, "chest")))
        call O68(Z77, 'A39F')
        call O68(X77, 'A39F')
        if GetUnitTypeId(X77) == 'n00L' then
            call SetUnitAbilityLevel(X77, 'A39F', 2)
        endif
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        call UnitAddAbility(AC7, 'A39I')
        call IssueTargetOrderById(AC7, 852585, X77)
    else
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 7, false)
        call TriggerAddCondition(t, Condition(function YYYJ))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", X77, "chest")))
        call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", Z77, "chest")))
        call O68(Z77, 'A39F')
        call O68(X77, 'A39E')
        call O68(X77, 'A39G')
    endif
    set Z77 = null
    set X77 = null
    set AC7 = null
    set t = null
endfunction
function LotusSpellRebound takes nothing returns nothing
    local trigger t2 = GetTriggeringTrigger()
    local integer WED = GetHandleId(t2)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer TX8 = LoadInteger(R8, (WED), (59))
    local integer ML8 = LoadInteger(R8, (WED), (5))
    local unit AC7
    local trigger t
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == TX8 and X77 == LoadUnitHandle(R8, (WED), (17)) then
            set t = LoadTriggerHandle(R8, (WED), (11))
            if t != null and IsTriggerEnabled(t) then
                call UnitRemoveAbility(X77, 'A3E9')
                call UnitRemoveAbility(X77, 'B3E9')
                call FlushChildHashtable(R8, GetHandleId(t))
                call EA8(t)
                set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
                call UnitAddAbility(AC7, TX8)
                call SetUnitAbilityLevel(AC7, TX8, GetUnitAbilityLevel(Z77, TX8))
                call IssueTargetOrderById(AC7, LoadInteger(R8, (WED), (211)), Z77)
                set AC7 = null
                call FlushChildHashtable(R8, WED)
                call EA8(t2)
            endif
            set t = null
        endif
    else
        call FlushChildHashtable(R8, WED)
        call EA8(t2)
    endif
    set t2 = null
    set Z77 = null
    set X77 = null
endfunction
function LotusSpellReboundCatch takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local unit Z77 = GetTriggerUnit()
    local integer order = GetUnitCurrentOrder(Z77)
    local integer TX8 = GetSpellAbilityId()
    local trigger t2 = CreateTrigger()
    local integer WED = GetHandleId(t2)
    call TriggerRegisterTimerEvent(t2, .5, false)
    call TriggerRegisterUnitEvent(t2, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddAction(t2, function LotusSpellRebound)
    call SaveInteger(R8, (WED), (59), (TX8))
    call SaveInteger(R8, (WED), (5), (GetUnitAbilityLevel(Z77, TX8)))
    call SaveTriggerHandle(R8, (WED), (11), (t))
    call SaveUnitHandle(R8, (WED), (17), (GetSpellTargetUnit()))
    call SaveInteger(R8, (WED), (211), (order))
    set Z77 = null
    set t = null
endfunction
function LotusEffectFilter takes nothing returns nothing
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST and GetSpellTargetUnit() != null and GetUnitTypeId(GetTriggerUnit()) != 'e00E' and GetSpellTargetUnit() == LoadUnitHandle(R8, GetHandleId(GetTriggeringTrigger()), (17)) and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetSpellTargetUnit())) then
        call LotusSpellReboundCatch()
    elseif GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_CAST then
        call UnitRemoveAbility(LoadUnitHandle(R8, GetHandleId(GetTriggeringTrigger()), (17)), 'A3E9')
        call UnitRemoveAbility(LoadUnitHandle(R8, GetHandleId(GetTriggeringTrigger()), (17)), 'B3E9')
        call FlushChildHashtable(R8, GetHandleId(GetTriggeringTrigger()))
        call EA8(GetTriggeringTrigger())
    endif
endfunction
function HLFQ takes nothing returns nothing
    local unit X77
    local trigger t = CreateTrigger()
    if GetSpellTargetItem() != null then
        set X77 = GetTriggerUnit()
    else
        set X77 = GetSpellTargetUnit()
    endif
    call TF9(X77)
    call O68(X77, 'A3E9')
    call TriggerRegisterTimerEvent(t, 6., false)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerAddAction(t, function LotusEffectFilter)
    call SaveUnitHandle(R8, GetHandleId(t), (17), X77)
    set X77 = null
    set t = null
endfunction
function FaerieFireEffect takes nothing returns nothing
    call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 75.)
endfunction
function IronwoodBranchEffect takes nothing returns nothing
    call TI8(CreateDestructable('BTtc', GetSpellTargetX(), GetSpellTargetY(), GetRandomReal(0, 360), 0.4, GetRandomInt(0, 2)), 20.)
endfunction
function LDBS takes nothing returns nothing
    if GetSpellAbilityId() == 'A38R' then
        call EnchantedMangoEffect()
    elseif GetSpellAbilityId() == 'A39C' then
        call SilverEdgeEffect()
    elseif GetSpellAbilityId() == 'A3E8' then
        call AlcheAghanimGrant()
    elseif GetSpellAbilityId() == 'A397' then
        call O68(GetTriggerUnit(), 'A3OC')
        call O68(GetTriggerUnit(), 'A398')
    elseif GetSpellAbilityId() == 'A395' then
        call WSJJ()
    elseif GetSpellAbilityId() == 'A39K' then
        call SolarCrestEffect()
    elseif GetSpellAbilityId() == 'A3BP' then
        call HLFQ()
    elseif GetSpellAbilityId() == 'A3O0' then
        call FaerieFireEffect()
    elseif GetSpellAbilityId() == 'A3O9' then
        call IronwoodBranchEffect()
    endif
endfunction
function DFH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call SetItemCharges(AV7(Z77, BU[E2]), GetItemCharges(AV7(Z77, BU[E2])) + 1)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if GetUnitTypeId(Z77) == 'Npbm' then
        set BG4 = Z77
    endif
    call KillUnit(Z77)
    set Z77 = null
    set t = null
    return false
endfunction
function DGH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call TriggerAddCondition(t, Condition(function DFH))
    call TriggerRegisterTimerEvent(t, .01, false)
    set t = null
    set Z77 = null
endfunction
function DHH takes nothing returns nothing
    if GetSpellAbilityId() == 'A2TK' then
        call DGH()
    endif
endfunction
function DIH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local unit AC7
    if GetUnitX(Z77) != x or GetUnitY(Z77) != y or(GetUnitAbilityLevel(Z77, 'B0G8') == 0 and GetTriggerEvalCount(t) > R2I(1.5 / .05))then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveInteger(R8, (GetHandleId((Z77))), ((4330)), (2))
        call UnitRemoveAbility(Z77, 'B0G6')
        call UnitRemoveAbility(Z77, 'B0G8')
    elseif GetTriggerEvalCount(t) == R2I(1.5 / .05)then
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        call UnitAddAbility(AC7, 'A2N5')
        call IssueTargetOrderById(AC7, 852069, Z77)
        call SaveInteger(R8, (GetHandleId((Z77))), ((4330)), (2))
        set AC7 = null
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function DJH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local integer L0G = (LoadInteger(R8, (W57), (375)))
    local integer id = GetUnitCurrentOrder(Z77)
    if GetUnitX(Z77) != x or GetUnitY(Z77) != y then
        call IssueImmediateOrderById(Z77, 851993)
        call SaveReal(R8, (L0G), (6), (GetUnitX(Z77)))
        call SaveReal(R8, (L0G), (7), (GetUnitY(Z77)))
    elseif id == 0 or id == 851973 or id == 851983 or id == 851971 then
        call IssueImmediateOrderById(Z77, 851993)
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function DKH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local trigger t2 = CreateTrigger()
    local integer WED = GetHandleId(t2)
    local string L2G = "Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl"
    if GetLocalPlayer() != GetOwningPlayer(Z77)then
        set L2G = ""
    endif
    call SaveInteger(R8, (GetHandleId((Z77))), ((4330)), (1))
    call DestroyEffect(AddSpecialEffectTarget(L2G, Z77, "chest"))
    call DestroyEffect(AddSpecialEffectTarget(L2G, Z77, "hand left"))
    call DestroyEffect(AddSpecialEffectTarget(L2G, Z77, "hand right"))
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerAddCondition(t, Condition(function DIH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (GetUnitX(Z77)))
    call SaveReal(R8, (W57), (7), (GetUnitY(Z77)))
    call TriggerRegisterTimerEvent(t2, .01, false)
    call TriggerAddCondition(t2, Condition(function DJH))
    call SaveUnitHandle(R8, (WED), (2), (Z77))
    call SaveReal(R8, (WED), (6), (GetUnitX(Z77)))
    call SaveReal(R8, (WED), (7), (GetUnitY(Z77)))
    call SaveInteger(R8, (WED), (375), (W57))
    set Z77 = null
    set t = null
    set t2 = null
endfunction
function DMH takes nothing returns nothing
    if GetSpellAbilityId() == 'A2N1' and((LoadInteger(R8, (GetHandleId((GetTriggerUnit()))), ((4330)))) == 1) == false then
        call DKH()
    endif
endfunction
function DNH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, W57, (17)))
    local integer VID = (LoadInteger(R8, W57, (34)))
    if(GetTriggerEventId() == EVENT_WIDGET_DEATH or GetTriggerEvalCount(t) >= VID or GU8(X77))then
        call UI8(X77)
        call DestroyEffect((LoadEffectHandle(R8, W57, (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set X77 = null
    return false
endfunction
function DOH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7
    local integer ML8 = 2
    local real VL8 = 4.5
    local trigger t = CreateTrigger()
    local integer V37 = GetHandleId(t)
    if IsUnitType(X77, UNIT_TYPE_MELEE_ATTACKER) then
        set ML8 = 1
        set VL8 = 3
    endif
    call UG8(X77)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function DNH))
    call SaveUnitHandle(R8, V37, (17), (X77))
    call SaveInteger(R8, V37, (34), (R2I(VL8 * 10)))
    call SaveEffectHandle(R8, V37, (32), (AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl", X77, "overhead")))
    set Z77 = null
    set X77 = null
    set AC7 = null
    set t = null
endfunction
function DPH takes nothing returns nothing
    if GetSpellAbilityId() == 'A2K4' and OE8(GetSpellTargetUnit()) == false then
        call DOH()
    endif
endfunction
function DQH takes integer ML8, unit Z77, unit X77 returns nothing
    set I67 = true
    call V08(Z77, X77, AB4, 300 + 100 * ML8)
    set I67 = false
endfunction
function DRH takes nothing returns nothing
    local integer DSH = 0
    if GetSpellAbilityId() == 'A02O' then
        set DSH = 1
    endif
    if GetSpellAbilityId() == 'A08Y' then
        set DSH = 2
    endif
    if GetSpellAbilityId() == 'A08Z' then
        set DSH = 3
    endif
    if GetSpellAbilityId() == 'A090' then
        set DSH = 4
    endif
    if GetSpellAbilityId() == 'A092' then
        set DSH = 5
    endif
    if DSH > 0 and OE8(GetSpellTargetUnit()) == false then
        call DQH(DSH, GetTriggerUnit(), GetSpellTargetUnit())
    endif
endfunction
function DTH takes nothing returns nothing
    if GetSpellAbilityId() == 'A2HQ' then
        call QD9(GetTriggerUnit(), GetSpellTargetUnit())
    endif
endfunction
function DUH takes unit Z77, integer MB8, real x, real y returns nothing
    local unit DVH = CreateUnit(GetOwningPlayer(Z77), MB8, x, y, 0)
    call UnitApplyTimedLife(DVH, 'BTLF', 15.)
    set DVH = null
endfunction
function DWH takes nothing returns nothing
    local unit DVH
    local real x
    local real y
    if GetSpellAbilityId() == 'A1ZL' then
        set x = GetDestructableX(GetSpellTargetDestructable())
        set y = GetDestructableY(GetSpellTargetDestructable())
        call DUH(GetTriggerUnit(), 'n0LM', x, y)
    elseif GetSpellAbilityId() == 'A1ZM' then
        set x = GetDestructableX(GetSpellTargetDestructable())
        set y = GetDestructableY(GetSpellTargetDestructable())
        call DUH(GetTriggerUnit(), 'n0LN', x, y)
    endif
    set DVH = null
endfunction
function DXH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    call UnitRemoveAbility(Z77, 'A308')
    call UnitRemoveAbility(X77, 'A308')
    call DestroyEffect(LoadEffectHandle(R8, (W57), (175)))
    call DestroyEffect(LoadEffectHandle(R8, (W57), (176)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function ANIO takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    call UnitRemoveAbility(p5, 'A308')
    call UnitRemoveAbility(target, 'A309')
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function DYH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    if IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == false then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 7, false)
        call TriggerAddCondition(t, Condition(function DXH))
        call SaveUnitHandle(R8, (W57), (2), (GetTriggerUnit()))
        call SaveUnitHandle(R8, (W57), (17), (GetSpellTargetUnit()))
        call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", GetSpellTargetUnit(), "chest")))
        call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", GetTriggerUnit(), "chest")))
        call O68(GetTriggerUnit(), 'A308')
        call O68(GetSpellTargetUnit(), 'A308')
        if GetUnitTypeId(GetSpellTargetUnit()) == 'n00L' then
            call SetUnitAbilityLevel(GetSpellTargetUnit(), 'A308', 2)
        endif
    else
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 7, false)
        call TriggerAddCondition(t, Condition(function ANIO))
        call SaveUnitHandle(R8, (W57), (2), (GetTriggerUnit()))
        call SaveUnitHandle(R8, (W57), (17), (GetSpellTargetUnit()))
        call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", GetSpellTargetUnit(), "chest")))
        call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl", GetTriggerUnit(), "chest")))
        call O68(GetTriggerUnit(), 'A308')
        call O68(GetSpellTargetUnit(), 'A309')
    endif
    set t = null
endfunction
function DZH takes nothing returns nothing
    if GetSpellAbilityId() == 'A1ZI' then
        call DYH()
    endif
endfunction
function DAH takes nothing returns nothing
    local unit Y47 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7
    if GetSpellTargetUnit() == null then
        if GetSpellAbilityId() == 'AIpl' then
            set AC7 = CreateUnit(GetOwningPlayer(Y47), 'e00E', GetUnitX(Y47), GetUnitY(Y47), 0)
            call UnitAddAbility(AC7, 'A1WA')
            call IssueTargetOrderById(AC7, 852609, Y47)
            set AC7 = null
        elseif GetSpellAbilityId() == 'AIpr' then
            set AC7 = CreateUnit(GetOwningPlayer(Y47), 'e00E', GetUnitX(Y47), GetUnitY(Y47), 0)
            call UnitAddAbility(AC7, 'AIpr')
            call IssueTargetOrderById(AC7, 852609, Y47)
            set AC7 = null
        endif
    endif
    set Y47 = null
    set X77 = null
endfunction
function DBH takes nothing returns nothing
    if GetSpellAbilityId() == 'AIpl' or GetSpellAbilityId() == 'AIpr' then
        call DAH()
    endif
endfunction
function D3H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (34)))
    if(GetTriggerEventId() == EVENT_UNIT_DEATH and GetKillingUnit() == Z77)or(GetTriggerEventId() == EVENT_UNIT_DAMAGED and GetUnitAbilityLevel(X77, 'B0ES') > 0)then
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl", GetUnitX(X77), GetUnitY(X77)))
        call AddHeroXP(Z77, R2I(DCH(ML8) * 2.5), true)
        call QO9(GetOwningPlayer(Z77), 190, X77, true, false)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call KillUnit(X77)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function D6H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitLevel(X77)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (34), (ML8))
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function D3H))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function DLH takes nothing returns nothing
    if GetSpellAbilityId() == 'A28Y' and AG58(GetSpellTargetUnit()) == false then
        call D6H()
    endif
endfunction
function D1H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer NZ8 = GetHandleId(t)
    local unit W8D = (LoadUnitHandle(R8, (NZ8), (2)))
    local real D0H = (LoadReal(R8, (NZ8), (242)))
    local real D5H = (LoadReal(R8, (NZ8), (529)))
    local real D2H = (LoadReal(R8, (NZ8), (530)))
    local real D_H = GetUnitState(W8D, UNIT_STATE_MANA)
    local real E4H = GetUnitState(W8D, UNIT_STATE_MAX_MANA)
    local real AKYO = (LoadReal(R8, (NZ8), (668)))
    local real AKJO = GetUnitStatePercent(W8D, UNIT_STATE_MANA, UNIT_STATE_MAX_MANA)
    local real E7H = (AKYO - AKJO) / 100
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, NZ8)
        call EA8(t)
    elseif GetTriggerEvalCount(t) == 20 * 10 then
        call FlushChildHashtable(R8, NZ8)
        call EA8(t)
        if D5H < 150 then
            call SetUnitState(W8D, UNIT_STATE_MANA, D_H - (150 - D5H - D2H))
        endif
    else
        if E7H > 0 then
            set D5H = D5H + E7H * E4H
            if D2H > 0 then
                if E7H * E4H > D2H then
                    call SetUnitState(W8D, UNIT_STATE_MANA, D_H + D2H)
                    set D2H = 0
                else
                    if D2H > (E4H - D_H)then
                        set D2H = D2H - (E4H - D_H)
                        call SetUnitState(W8D, UNIT_STATE_MANA, E4H)
                    else
                        set D2H = D2H - E7H * E4H
                        call SetUnitState(W8D, UNIT_STATE_MANA, D_H + E7H * E4H)
                    endif
                endif
            endif
        endif
        set AKYO = AKJO
        call SaveReal(R8, (NZ8), (668), (AKYO))
        call SaveReal(R8, (NZ8), (529), (D5H))
        call SaveReal(R8, (NZ8), (530), (D2H))
    endif
    set t = null
    set W8D = null
    return false
endfunction
function E8H takes nothing returns nothing
    local unit W8D = GetTriggerUnit()
    local real WLE = GetUnitState(W8D, UNIT_STATE_LIFE)
    local trigger t = CreateTrigger()
    local integer NZ8 = GetHandleId(t)
    local real D_H = GetUnitState(W8D, UNIT_STATE_MANA)
    if WLE > 151 then
        call SetUnitState(W8D, UNIT_STATE_LIFE, WLE - 150)
    else
        call SetUnitState(W8D, UNIT_STATE_LIFE, 1)
    endif
    call QG8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl", W8D, "origin", 2)
    call SetUnitState(W8D, UNIT_STATE_MANA, D_H + 150)
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterUnitEvent(t, W8D, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function D1H))
    call SaveUnitHandle(R8, (NZ8), (2), (W8D))
    call SaveReal(R8, (NZ8), (242), ((GetUnitState(W8D, UNIT_STATE_MANA))))
    call SaveReal(R8, (NZ8), (529), (0.))
    call SaveReal(R8, (NZ8), (668), ((GetUnitStatePercent(W8D, UNIT_STATE_MANA, UNIT_STATE_MAX_MANA))))
    if(D_H + 150) > GetUnitState(W8D, UNIT_STATE_MAX_MANA)then
        call SaveReal(R8, (NZ8), (530), (((D_H + 150) - GetUnitState(W8D, UNIT_STATE_MAX_MANA))))
    endif
    set W8D = null
    set t = null
endfunction
function E9H takes nothing returns nothing
    if GetSpellAbilityId() == 'A1Q8' then
        call E8H()
    endif
endfunction
function EDH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEvalCount(t) > 30 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(Z77, 'A1QC')
        call UnitRemoveAbility(Z77, 'B0CY')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function EEH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer VL8 = (LoadInteger(R8, (W57), (34)))
    if GetTriggerEvalCount(t) > VL8 / .1 or GetTriggerEventId() == EVENT_UNIT_DEATH or((LoadInteger(R8, (GetHandleId((Z77))), ((4256)))) == 1)then
        call UnitRemoveAbility(Z77, 'Aetl')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function EFH takes unit u, integer VL8 returns nothing
    local unit Z77 = u
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call UnitAddAbility(Z77, 'Aetl')
    call UnitMakeAbilityPermanent(Z77, true, 'Aetl')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'Aetl', false)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function EEH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (34), (VL8))
    set Z77 = null
    set t = null
endfunction
function EGH takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H04
    local unit X77 = H54
    local real P08 = (LoadReal(R8, (W57), (20)))
    local trigger t
    local integer VL8 = 3
    if Z77 == X77 then
        set VL8 = 4
    endif
    if IsPlayerAlly(GetOwningPlayer(X77), GetOwningPlayer(Z77)) and Z77 != X77 then
        call EFH(X77, 4)
    elseif Z77 != X77 then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A1QC', false)
        call UnitAddAbility(X77, 'A1QC')
        call UnitMakeAbilityPermanent(X77, true, 'A1QC')
        call TriggerRegisterTimerEvent(t, .1, true)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function EDH))
        call SaveUnitHandle(R8, (W57), (2), (X77))
        call EFH(X77, VL8)
        call QM8("+" + I2S(R2I(P08)), 2, X77, .027, 3, 216, 120, 216)
        set I67 = true
        call V08(Z77, X77, AB4, P08)
        set I67 = false
    endif
    call EFH(Z77, VL8)
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function EHH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t2 = T88(Z77, X77, 'h0BS', "EGH", 1000, false)
    local integer WED = GetHandleId(t2)
    local integer EIH = N_8(Z77)
    call SaveReal(R8, (WED), (20), (EIH * 2. + 75))
    set Z77 = null
    set X77 = null
    set t2 = null
endfunction
function EJH takes nothing returns nothing
    if GetSpellAbilityId() == 'A1QD' and(IsPlayerAlly(GetOwningPlayer(GetSpellTargetUnit()), GetOwningPlayer(GetTriggerUnit())) or OE8(GetSpellTargetUnit()) == false)then
        call EHH()
    endif
endfunction
function EKH takes nothing returns nothing
    call SetUnitState(GetEnumUnit(), UNIT_STATE_MANA, GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) + 135)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl", GetEnumUnit(), "origin"))
endfunction
function EMH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group g = OG8()
    set H04 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 25 + 900, Condition(function U08))
    call ForGroup(g, function EKH)
    call OF8(g)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set g = null
    set Z77 = null
    set t = null
    return false
endfunction
function ENH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t
    if GetSpellAbilityId() == 'A0K7' then
        if GetUnitTypeId(Z77) != 'H00J' then
            set t = CreateTrigger()
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function EMH))
            call SaveUnitHandle(R8, (GetHandleId(t)), (2), (Z77))
            set t = null
        elseif GetUnitTypeId(Z77) == 'H00J' then
            call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) + 25)
        endif
    endif
    set Z77 = null
    set t = null
endfunction
function AVLO takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit X77 = (LoadUnitHandle(R8, (EC8), (17)))
    if Z77 != X77 then
        call V08(Z77, X77, AB4, 50)
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function AVMO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local unit AC7
    if X77 == null then
        set X77 = Z77
    endif
    set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    call UnitAddAbility(AC7, 'A13V')
    call IssueTargetOrder(AC7, "cyclone", X77)
    call TriggerRegisterTimerEvent(t, 2.51, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function AVLO))
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveUnitHandle(R8, (EC8), (17), (X77))
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function EOH takes nothing returns nothing
    if GetSpellAbilityId() == 'A1T7' then
        if GetTriggerUnit() == GetSpellTargetUnit()or GU8(GetSpellTargetUnit()) == false then
            if OE8(GetSpellTargetUnit()) == false or GetTriggerUnit() == GetSpellTargetUnit()then
                call AVMO()
            endif
        endif
    endif
endfunction
function EVH takes nothing returns boolean
    local real d
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE)and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(H54)) then
        set d = Z87(HL4, H14, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < H64 then
            set H64 = d
            set H04 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function EWH takes unit EXH, real x, real y returns unit
    local group g = OG8()
    set H04 = null
    set H54 = EXH
    set H64 = 99999
    set HL4 = x
    set H14 = y
    call GroupEnumUnitsInRange(g, x, y, 2000, Condition(function EVH))
    call OF8(g)
    set g = null
    return H04
endfunction
function EYH takes nothing returns boolean
    local real d
    if GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and O18(GetFilterUnit()) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(H54)) then
        set d = Z87(HL4, H14, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < H64 then
            set H64 = d
            set H04 = GetFilterUnit()
        endif
    endif
    return false
endfunction
function EZH takes unit EXH, real x, real y returns unit
    local group g = OG8()
    set H04 = null
    set H54 = EXH
    set H64 = 99999
    set HL4 = x
    set H14 = y
    call GroupEnumUnitsInRange(g, x, y, 2000, Condition(function EYH))
    call OF8(g)
    set g = null
    return H04
endfunction
function EAH takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local location l
    local real x
    local real y
    local unit m5 = GetSpellTargetUnit()
    if m5 == null then
        set l = GetSpellTargetLoc()
        set x = GetLocationX(l)
        set y = GetLocationY(l)
        call RemoveLocation(l)
        if GetSpellAbilityId() == 'A0CX' then
            set m5 = EWH(N28, x, y)
        else
            set m5 = EZH(N28, x, y)
        endif
        set x = GetUnitX(m5)
        set y = GetUnitY(m5)
    else
        set x = GetUnitX(GetSpellTargetUnit())
        set y = GetUnitY(GetSpellTargetUnit())
    endif
    if(IsUnitAlly(N28, GetLocalPlayer())and GetLocalPlayer() != GetOwningPlayer(N28))or(L8 and(GetLocalPlayer() == KU4 or GetLocalPlayer() == KV4))then
        call PingMinimapEx(x, y, 3, 255, 255, 255, false)
    endif
    set N28 = null
    set m5 = null
    set l = null
endfunction
function EBH takes nothing returns nothing
    if GetSpellAbilityId() == 'A0CX' or GetSpellAbilityId() == 'AImt' then
        call EAH()
    endif
endfunction
function EPH takes nothing returns boolean
    if GetUnitTypeId(GetTriggerUnit()) == 'e00E' then
        return false
    endif
    call B99()
    call A79()
    call AL9()
    call ACG()
    call BSG()
    call BBG()
    call B6G()
    call B2G()
    call A59()
    call BCG()
    call B_G()
    call QZG()
    call ZU9()
    call Q0G()
    call RFG()
    call Q2G()
    call CTG()
    call CRG()
    call YTG()
    call CUG()
    call CXG()
    call CBG()
    call C3G()
    call C1G()
    call C2G()
    call L4G()
    call LGG()
    call E9H()
    call EJH()
    call ENH()
    call DLH()
    call DBH()
    call DZH()
    call DWH()
    call LMG()
    call LVG()
    call LYG()
    call LAG()
    call DTH()
    call DRH()
    call DPH()
    call DMH()
    call DHH()
    call L_G()
    call D9H()
    call DEH()
    call EOH()
    call EBH()
    call AVJO()
    call AM5O()
    call AM6O()
    call AYNO()
    call LDBS()
    if GetSpellAbilityId() == 'A2K7' and OE8(GetSpellTargetUnit()) == false then
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LevelerStunFX.mdx", GetSpellTargetUnit(), "head"))
    endif
    return false
endfunction
function EQH takes nothing returns boolean
    call AFG()
    call AKG()
    call AQG()
    call BI9()
    call AUG()
    call AVG()
    call AWG()
    call AXG()
    call AZG()
    call AMDO()
    if GetItemTypeId(GetManipulatedItem()) == BU[IEM] or GetItemTypeId(GetManipulatedItem()) == BU[IFF] or GetItemTypeId(GetManipulatedItem()) == BU[SW] or GetItemTypeId(GetManipulatedItem()) == BU[AZLJ] or GetItemTypeId(GetManipulatedItem()) == BU[NA] then
        call RemoveItem(GetManipulatedItem())
    endif
    return false
endfunction
function ERH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit ESH = (LoadUnitHandle(R8, (EC8), (19)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local effect FX = (LoadEffectHandle(R8, (EC8), (32)))
    local player p = GetOwningPlayer(N28)
    call UnitShareVision(target, p, false)
    call DestroyEffect(FX)
    call RemoveUnit(ESH)
    call UnitRemoveAbility(target, 'B06H')
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    set ESH = null
    set target = null
    set FX = null
    set p = null
    return false
endfunction
function ETH takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local player p = GetOwningPlayer(N28)
    local unit ESH
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local string s = "effects\\Snipe Target.mdx"
    if IsPlayerAlly(GetLocalPlayer(), p) == false and N08(GetLocalPlayer()) == false then
        set s = ""
    endif
    call UnitShareVision(target, p, true)
    set ESH = CreateUnit(GetOwningPlayer(target), 'e01R', 0, 0, 0)
    call O68(ESH, 'A0NI')
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (19), (ESH))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget(s, target, "overhead")))
    call TriggerRegisterTimerEvent(t, 4, false)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function ERH))
    set t = null
    set N28 = null
    set target = null
    set ESH = null
    set p = null
endfunction
function EUH takes nothing returns boolean
    if GetSpellAbilityId() == 'A04P' or GetSpellAbilityId() == 'A1AU' then
        call ETH()
    endif
    return false
endfunction
function BD8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call TriggerAddCondition(t, Condition(function EUH))
    set t = null
endfunction
function ECH takes unit E3H returns nothing
    local group g = OG8()
    local real x = GetUnitX(E3H)
    local real y = GetUnitY(E3H)
    local unit E6H
    local unit ELH = CreateUnit(GetOwningPlayer(E3H), 'e00E', x, y, 0)
    local integer E1H = GetUnitAbilityLevel(E3H, 'A0Z4')
    set H04 = E3H
    call GroupEnumUnitsInRange(g, x, y, 300, Condition(function GenericCondition_EnemyUnitsExNoImmuneVisibleWithAncient))
    set E6H = GroupPickRandomUnit(g)
    call OF8(g)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", E3H, "origin"))
    if E6H != null then
        call O68(ELH, 'A0Z7')
        call SetUnitAbilityLevel(ELH, 'A0Z7', E1H)
        call IssueTargetOrderById(ELH, 852095, E6H)
    endif
    set g = null
    set E6H = null
    set ELH = null
endfunction
function E0H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer E5H = GetHandleId(t)
    local integer E2H = GetTriggerEvalCount(t)
    local unit E_H = (LoadUnitHandle(R8, (E5H), (14)))
    if E2H > 15 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, E5H)
        call EA8(t)
    else
        call ECH(E_H)
    endif
    set t = null
    set E_H = null
    return false
endfunction
function F4H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer E5H = GetHandleId(t)
    local unit E_H = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .7, true)
    call TriggerRegisterUnitEvent(t, E_H, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function E0H))
    call SaveUnitHandle(R8, (E5H), (14), (E_H))
    call TriggerEvaluate(t)
    set t = null
    set E_H = null
endfunction
function F7H takes nothing returns boolean
    if GetSpellAbilityId() == 'A0Z4' then
        call F4H()
    endif
    return false
endfunction
function F_9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function F7H))
    set t = null
endfunction
function F8H takes real s, real F9H, real FDH, real FEH returns boolean
    return s <= F9H and s <= FDH and s <= FEH
endfunction
function FFH takes unit u, real x, real y, real d returns real
    local real x2 = GetUnitX(u)
    local real y2 = GetUnitY(u)
    local real FGH = Z87(x - d, y, x2, y2)
    local real FHH = Z87(x + d, y, x2, y2)
    local real FIH = Z87(x, y + d, x2, y2)
    local real FJH = Z87(x, y - d, x2, y2)
    if F8H(FGH, FHH, FJH, FIH)then
        return 180.
    elseif F8H(FHH, FGH, FJH, FIH)then
        return .0
    elseif F8H(FJH, FHH, FGH, FIH)then
        return 270.
    endif
    return 90.
endfunction
function FKH takes real s, real F9H, real FDH, real FEH, real FMH, real FNH, real FOH, real FPH returns boolean
    return s <= F9H and s <= FDH and s <= FEH and s <= FMH and s <= FNH and s <= FOH and s <= FPH
endfunction
function FQH takes unit u, integer EC8 returns unit
    local real x1 = GetUnitX(u)
    local real y1 = GetUnitY(u)
    local unit FRH = (LoadUnitHandle(R8, (EC8), (1100 + 1)))
    local unit FSH = (LoadUnitHandle(R8, (EC8), (1100 + 2)))
    local unit FTH = (LoadUnitHandle(R8, (EC8), (1100 + 3)))
    local unit FUH = (LoadUnitHandle(R8, (EC8), (1100 + 4)))
    local unit FVH = (LoadUnitHandle(R8, (EC8), (1100 + 5)))
    local unit FWH = (LoadUnitHandle(R8, (EC8), (1100 + 6)))
    local unit FXH = (LoadUnitHandle(R8, (EC8), (1100 + 7)))
    local unit FYH = (LoadUnitHandle(R8, (EC8), (1100 + 8)))
    local real F9H = Z87(x1, y1, GetUnitX(FRH), GetUnitY(FRH))
    local real FDH = Z87(x1, y1, GetUnitX(FSH), GetUnitY(FSH))
    local real FEH = Z87(x1, y1, GetUnitX(FTH), GetUnitY(FTH))
    local real FMH = Z87(x1, y1, GetUnitX(FUH), GetUnitY(FUH))
    local real FNH = Z87(x1, y1, GetUnitX(FVH), GetUnitY(FVH))
    local real FOH = Z87(x1, y1, GetUnitX(FWH), GetUnitY(FWH))
    local real FPH = Z87(x1, y1, GetUnitX(FXH), GetUnitY(FXH))
    local real FZH = Z87(x1, y1, GetUnitX(FYH), GetUnitY(FYH))
    if FKH(F9H, FDH, FEH, FMH, FNH, FOH, FPH, FZH)then
        return FRH
    elseif FKH(FDH, F9H, FEH, FMH, FNH, FOH, FPH, FZH)then
        return FSH
    elseif FKH(FEH, FDH, F9H, FMH, FNH, FOH, FPH, FZH)then
        return FTH
    elseif FKH(FMH, FDH, FEH, F9H, FNH, FOH, FPH, FZH)then
        return FUH
    elseif FKH(FNH, FDH, FEH, FMH, F9H, FOH, FPH, FZH)then
        return FVH
    elseif FKH(FOH, FDH, FEH, FMH, FNH, F9H, FPH, FZH)then
        return FWH
    elseif FKH(FPH, FDH, FEH, FMH, FNH, FOH, F9H, FZH)then
        return FXH
    elseif FKH(FZH, FDH, FEH, FMH, FNH, FOH, FPH, F9H)then
        return FYH
    endif
    set FRH = null
    set FSH = null
    set FTH = null
    set FUH = null
    set FVH = null
    set FWH = null
    set FXH = null
    set FYH = null
    return null
endfunction
function FAH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real FBH = (LoadReal(R8, (W57), (13)))
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local real TNG = 12
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer FCH = 40 + 40 * ML8
    if GetTriggerEvalCount(t) > 21 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveInteger(R8, (GetHandleId((X77))), ((4260)), (2))
        call V08(Z77, X77, AB4, I2R(FCH))
        call SetUnitState(X77, UNIT_STATE_MANA, RMaxBJ(GetUnitState(X77, UNIT_STATE_MANA) - FCH, 0))
        call SC8(GetUnitX(X77), GetUnitY(X77), 100)
    else
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", x, y))
        call SC8(x, y, 150)
        if((LoadInteger(R8, (GetHandleId((X77))), ((4261)))) == 1) == false then
            call SetUnitPosition(X77, x + TNG * Cos(FBH * bj_DEGTORAD), y + TNG * Sin(FBH * bj_DEGTORAD))
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function F3H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = GetEnumUnit()
    local real x = H64
    local real y = HL4
    local real d = H14
    local real FBH = FFH(target, x, y, d)
    local real F6H = 200
    local real FLH = d - Z87(GetUnitX(target), GetUnitY(target), x, y) + F6H / 2
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", target, "chest"))
    call SaveInteger(R8, (GetHandleId((target))), ((4260)), (1))
    if FLH > 0 then
        call SetUnitX(target, GetUnitX(target) + FLH * Cos(FBH * bj_DEGTORAD))
        call SetUnitY(target, GetUnitY(target) + FLH * Sin(FBH * bj_DEGTORAD))
    endif
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveReal(R8, (EC8), (13), ((FBH)))
    call SaveInteger(R8, (EC8), (5), (HB4))
    call SaveUnitHandle(R8, (EC8), (2), (H04))
    call TriggerRegisterTimerEvent(t, .04, true)
    call TriggerAddCondition(t, Condition(function FAH))
    set t = null
    set target = null
endfunction
function F1H takes unit u, integer EC8 returns boolean
    local unit F0H = FQH(u, EC8)
    local boolean F5H = true
    if O18(F0H)or(LoadInteger(R8, (GetHandleId(F0H)), (156))) == 1 then
        set F5H = false
    endif
    call SaveInteger(R8, (GetHandleId(F0H)), (156), (1))
    call SetUnitVertexColor(F0H, 25, 25, 25, 175)
    set F0H = null
    return F5H
endfunction
function F2H takes nothing returns nothing
    if GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) > 0 and IsUnitInGroup(GetEnumUnit(), H24) == false and((LoadInteger(R8, (GetHandleId(GetEnumUnit())), (4260))) == 1) == false and F1H(GetEnumUnit(), HC4)then
        call SaveInteger(R8, (GetHandleId(GetEnumUnit())), (4260), (1))
        call GroupAddUnit(H_4, GetEnumUnit())
    endif
endfunction
function F_H takes trigger t, unit AM7, real x, real y, real d, integer ML8 returns nothing
    local integer W57 = GetHandleId(t)
    local real F6H = 200
    local group g1 = OG8()
    local group g2 = OG8()
    local group g3 = OG8()
    set H04 = AM7
    call GroupEnumUnitsInRange(g1, x, y, d, Condition(function GenericCondition_EnemyUnitsExNoImmune))
    call GroupEnumUnitsInRange(g2, x, y, d + F6H, Condition(function GenericCondition_EnemyUnitsExNoImmune))
    set H24 = g1
    set H_4 = g3
    set H64 = x
    set HL4 = y
    set H14 = d
    set HC4 = W57
    call ForGroup(g2, function F2H)
    set HB4 = ML8
    call ForGroup(g3, function F3H)
    call OF8(g1)
    call OF8(g2)
    call OF8(g3)
    set g1 = null
    set g2 = null
    set g3 = null
endfunction
function G4H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local boolean G7H = (LoadBoolean(R8, (EC8), (155)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    if G7H then
        call S18(p, .2, x, y, 500)
    endif
    set t = null
    set p = null
    return false
endfunction
function G8H takes unit F0H returns nothing
    call KillUnit(CreateUnit(GetOwningPlayer(F0H), 'u00W', GetUnitX(F0H), GetUnitY(F0H), 0))
endfunction
function G9H takes integer W57, real x, real y, boolean GDH, player p returns nothing
    local unit GEH = (LoadUnitHandle(R8, (W57), (1100 + 1)))
    local unit GFH = (LoadUnitHandle(R8, (W57), (1100 + 2)))
    local unit GGH = (LoadUnitHandle(R8, (W57), (1100 + 3)))
    local unit GHH = (LoadUnitHandle(R8, (W57), (1100 + 4)))
    local unit GIH = (LoadUnitHandle(R8, (W57), (1100 + 5)))
    local unit GJH = (LoadUnitHandle(R8, (W57), (1100 + 6)))
    local unit GKH = (LoadUnitHandle(R8, (W57), (1100 + 7)))
    local unit GMH = (LoadUnitHandle(R8, (W57), (1100 + 8)))
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .1, false)
    call TriggerAddCondition(t, Condition(function G4H))
    call SaveReal(R8, (GetHandleId(t)), (6), (x))
    call SaveReal(R8, (GetHandleId(t)), (7), (y))
    call SavePlayerHandle(R8, (GetHandleId(t)), (54), (p))
    call SaveBoolean(R8, (GetHandleId(t)), (155), (GDH))
    set t = null
    set J37 = true
    call G8H(GEH)
    call RemoveUnit(GEH)
    call G8H(GFH)
    call RemoveUnit(GFH)
    call G8H(GGH)
    call RemoveUnit(GGH)
    call G8H(GHH)
    call RemoveUnit(GHH)
    call G8H(GIH)
    call RemoveUnit(GIH)
    call G8H(GJH)
    call RemoveUnit(GJH)
    call G8H(GKH)
    call RemoveUnit(GKH)
    call G8H(GMH)
    call RemoveUnit(GMH)
    set GEH = null
    set GFH = null
    set GGH = null
    set GHH = null
    set GIH = null
    set GJH = null
    set GKH = null
    set GMH = null
endfunction
function PowerCog_DeathBurn takes nothing returns nothing
    local integer FCH = (40 + 40 * JL7) / 2
    call V08(J67, GetEnumUnit(), 1, I2R(FCH))
    call SetUnitState(GetEnumUnit(), UNIT_STATE_MANA, RMaxBJ(GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) - FCH, 0))
endfunction
function GNH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit GOH = (LoadUnitHandle(R8, (W57), (19)))
    local group g
    if J37 == false then
        set g = OG8()
        set H04 = GOH
        set J67 = GOH
        call GroupEnumUnitsInRange(g, GetUnitX(GOH), GetUnitY(GOH), 175 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmune))
        call OF8(g)
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set g = null
    set GOH = null
    return false
endfunction
function GPH takes unit GOH, integer W57, integer V37, player p returns nothing
    local trigger t = CreateTrigger()
    local integer WED = GetHandleId(t)
    call TriggerRegisterDeathEvent(t, GOH)
    call SaveUnitHandle(R8, (WED), (19), (GOH))
    call TriggerAddCondition(t, Condition(function GNH))
    if IsUnitVisible(GOH, p)then
        call SaveBoolean(R8, (W57), (155), (true))
    endif
    call SaveUnitHandle(R8, (W57), (1100 + V37), (GOH))
    set t = null
endfunction
function GQH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local real VL8 = (LoadReal(R8, (W57), (57)))
    local integer C77 = GetTriggerEvalCount(t)
    if C77 > R2I(VL8 * 100)then
        call G9H(W57, (LoadReal(R8, (W57), (6))), (LoadReal(R8, (W57), (7))), (LoadBoolean(R8, (W57), (155))), (LoadPlayerHandle(R8, (W57), (154))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call F_H(t, (LoadUnitHandle(R8, (W57), (14))), (LoadReal(R8, (W57), (6))), (LoadReal(R8, (W57), (7))), (LoadReal(R8, (W57), (138))), (LoadInteger(R8, (W57), (5))))
    endif
    set t = null
    return false
endfunction
function GRH takes nothing returns nothing
    call SetUnitX(GetEnumUnit(), GetUnitX(H04))
    call SetUnitY(GetEnumUnit(), GetUnitY(H04))
endfunction
function GSH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0Z5')
    local integer ID = 'u00S'
    local location l = GetUnitLoc(AM7)
    local real x1 = GetLocationX(l)
    local real y1 = GetLocationY(l)
    local real x2
    local real y2
    local real d = 150
    local unit GOH
    local real VL8 = 4 + ML8
    local real BufferDuration = 5
    local group g
    local player GUH
    local integer AHP = 2
    if ML8 == 4 then
        set AHP = 3
    endif
    set JL7 = ML8
    set J37 = false
    if KN8(GetOwningPlayer(AM7))then
        set GUH = N8[0]
    else
        set GUH = G8[0]
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SaveBoolean(R8, (W57), (155), (false))
    set x2 = x1 + d
    set y2 = y1
    call MoveLocation(l, x2, y2)
    set GOH = CreateUnitAtLoc(GetOwningPlayer(AM7), ID, l, 0)
    call GPH(GOH, W57, 1, GUH)
    call SetUnitState(GOH, UNIT_STATE_LIFE, AHP)
    // if IsComputer(GetOwningPlayer(AM7))then
    //     call DU8(GetHandleId(AM7), "AI|Cog1", GOH)
    // endif
    set x2 = x1 + .707 * d
    set y2 = y1 + .707 * d
    call MoveLocation(l, x2, y2)
    set GOH = CreateUnitAtLoc(GetOwningPlayer(AM7), ID, l, 0)
    call GPH(GOH, W57, 2, GUH)
    call SetUnitState(GOH, UNIT_STATE_LIFE, AHP)
    set x2 = x1
    set y2 = y1 + d
    call MoveLocation(l, x2, y2)
    set GOH = CreateUnitAtLoc(GetOwningPlayer(AM7), ID, l, 0)
    call GPH(GOH, W57, 3, GUH)
    call SetUnitState(GOH, UNIT_STATE_LIFE, AHP)
    // if IsComputer(GetOwningPlayer(AM7))then
    //     call DU8(GetHandleId(AM7), "AI|Cog2", GOH)
    // endif
    set x2 = x1 - .707 * d
    set y2 = y1 + .707 * d
    call MoveLocation(l, x2, y2)
    set GOH = CreateUnitAtLoc(GetOwningPlayer(AM7), ID, l, 0)
    call GPH(GOH, W57, 4, GUH)
    call SetUnitState(GOH, UNIT_STATE_LIFE, AHP)
    set x2 = x1 - d
    set y2 = y1
    call MoveLocation(l, x2, y2)
    set GOH = CreateUnitAtLoc(GetOwningPlayer(AM7), ID, l, 0)
    call GPH(GOH, W57, 5, GUH)
    call SetUnitState(GOH, UNIT_STATE_LIFE, AHP)
    // if IsComputer(GetOwningPlayer(AM7))then
    //     call DU8(GetHandleId(AM7), "AI|Cog3", GOH)
    // endif
    set x2 = x1 - .707 * d
    set y2 = y1 - .707 * d
    call MoveLocation(l, x2, y2)
    set GOH = CreateUnitAtLoc(GetOwningPlayer(AM7), ID, l, 0)
    call GPH(GOH, W57, 6, GUH)
    call SetUnitState(GOH, UNIT_STATE_LIFE, AHP)
    set x2 = x1
    set y2 = y1 - d
    call MoveLocation(l, x2, y2)
    set GOH = CreateUnitAtLoc(GetOwningPlayer(AM7), ID, l, 0)
    call GPH(GOH, W57, 7, GUH)
    call SetUnitState(GOH, UNIT_STATE_LIFE, AHP)
    // if IsComputer(GetOwningPlayer(AM7))then
    //     call DU8(GetHandleId(AM7), "AI|Cog4", GOH)
    // endif
    set x2 = x1 + .707 * d
    set y2 = y1 - .707 * d
    call MoveLocation(l, x2, y2)
    set GOH = CreateUnitAtLoc(GetOwningPlayer(AM7), ID, l, 0)
    call GPH(GOH, W57, 8, GUH)
    call SetUnitState(GOH, UNIT_STATE_LIFE, AHP)
    call TriggerRegisterTimerEvent(t, .01, true)
    call TriggerAddCondition(t, Condition(function GQH))
    call SaveReal(R8, (W57), (57), (VL8))
    call SaveReal(R8, (W57), (6), (x1))
    call SaveReal(R8, (W57), (7), (y1))
    call SaveReal(R8, (W57), (138), (d))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SavePlayerHandle(R8, (W57), (154), (GUH))
    set d = d + 110
    set g = OG8()
    set H04 = AM7
    call GroupEnumUnitsInRange(g, x1, y1, d + 25, Condition(function GenericCondition_EnemyUnitsExHeroes))
    call ForGroup(g, function GRH)
    call OF8(g)
    set t = null
    set g = null
    call RemoveLocation(l)
    set l = null
    set AM7 = null
    set GOH = null
    set GUH = null
    return false
endfunction
function GVH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .1, false)
    call TriggerAddCondition(t, Condition(function GSH))
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    set t = null
    set AM7 = null
endfunction
function GWH takes nothing returns boolean
    if GetSpellAbilityId() == 'A0Z5' then
        call GVH()
    endif
    return false
endfunction
function G49 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GWH))
    set t = null
    set J37 = false
endfunction
function GXH takes nothing returns nothing
    if ZS7(GetEnumUnit()) == false then
        call V08(H04, GetEnumUnit(), AB4, H64)
    endif
endfunction
function GYH takes unit GZH, real x, real y returns nothing
    local real x1
    local real y1
    local group g = OG8()
    local integer GAH = GetUnitAbilityLevel(GZH, 'A0Z6')
    local real GBH = 40 + 40 * GAH
    set H04 = GZH
    set H64 = GBH
    call GroupEnumUnitsInRange(g, x, y, 600, Condition(function GenericCondition_EnemyUnitsExWithAncient))
    call ForGroup(g, function GXH)
    call OF8(g)
    set x1 = x
    set y1 = y
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1))
    set x1 = x + 200
    set y1 = y + 200
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1))
    set x1 = x + 200
    set y1 = y - 200
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1))
    set x1 = x - 200
    set y1 = y + 200
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1))
    set x1 = x - 200
    set y1 = y - 200
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1))
    call S18(GetOwningPlayer(GZH), 10, x, y, 600)
    set g = null
endfunction
function GCH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7
    local unit G3H = (LoadUnitHandle(R8, (W57), (45)))
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local real G6H = (LoadReal(R8, (W57), (13)))
    local real GLH = (LoadReal(R8, (W57), (189)))
    local real G1H = (LoadReal(R8, (W57), (190)))
    local real G0H = PQ8(GLH + 42.5 * Cos(G6H))
    local real G5H = PS8(G1H + 42.5 * Sin(G6H))
    call SetUnitX(G3H, G0H)
    call SetUnitY(G3H, G5H)
    call SaveReal(R8, (W57), (189), ((G0H)))
    call SaveReal(R8, (W57), (190), ((G5H)))
    if Z87(BM7, BN7, G0H, G5H) <= 35 then
        call KillUnit(G3H)
        set AM7 = (LoadUnitHandle(R8, (W57), (14)))
        call GYH(AM7, G0H, G5H)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set AM7 = null
    set G3H = null
    return false
endfunction
function G2H takes nothing returns nothing
    local unit hn = GetTriggerUnit()
    local real GLH = PQ8(GetUnitX(hn))
    local real G1H = PS8(GetUnitY(hn))
    local real H4H = PQ8(GetSpellTargetX())
    local real H7H = PS8(GetSpellTargetY())
    local real G6H = Atan2(H7H - G1H, H4H - GLH)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit G3H = CreateUnit(GetOwningPlayer(hn), 'h03Y', GLH, G1H, G6H * bj_RADTODEG)
    call SetUnitFacing(G3H, G6H * bj_RADTODEG)
    call SetUnitPathing(G3H, false)
    call O68(G3H, 'Aloc')
    call ShowUnit(G3H, false)
    call UnitRemoveAbility(G3H, 'Aloc')
    call ShowUnit(G3H, true)
    call SaveReal(R8, (EC8), (191), ((GLH)))
    call SaveReal(R8, (EC8), (192), ((G1H)))
    call SaveReal(R8, (EC8), (189), ((GLH)))
    call SaveReal(R8, (EC8), (190), ((G1H)))
    call SaveReal(R8, (EC8), (47), ((H4H)))
    call SaveReal(R8, (EC8), (48), ((H7H)))
    call SaveReal(R8, (EC8), (13), ((G6H)))
    call SaveUnitHandle(R8, (EC8), (14), (hn))
    call SaveUnitHandle(R8, (EC8), (45), (G3H))
    call TriggerRegisterTimerEvent(t, .025, true)
    call TriggerAddCondition(t, Condition(function GCH))
    set hn = null
    set t = null
    set G3H = null
endfunction
function H8H takes nothing returns boolean
    if GetSpellAbilityId() == 'A0Z6' then
        call G2H()
    endif
    return false
endfunction
function G79 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function H8H))
    set t = null
endfunction
function H9H takes unit p5, unit m5 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(m5), GetUnitY(m5), 0)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A0Z8')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(p5, 'A1CV')
    endif
    call O68(AC7, 'A0Z9')
    call SetUnitAbilityLevel(AC7, 'A0Z9', TA8)
    call IssueTargetOrderById(AC7, 852095, m5)
    set AC7 = null
endfunction
function HDH takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call H9H(H04, GetEnumUnit())
    endif
endfunction
function HEH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    local integer HFH = (LoadInteger(R8, (EC8), (18)))
    local integer P89 = GetTriggerEvalCount(t)
    local unit HGH
    local group HHH = (LoadGroupHandle(R8, (EC8), (16)))
    local group g
    local real HIH = 200
    if m5 == null then
        set HGH = (LoadUnitHandle(R8, (EC8), (700 + HFH + 1 - P89)))
        call RemoveUnit(HGH)
    else
        set HGH = (LoadUnitHandle(R8, (EC8), (700 + P89)))
        call SetUnitX(N28, GetUnitX(HGH))
        call SetUnitY(N28, GetUnitY(HGH))
        call RemoveUnit(HGH)
        if P89 == HFH then
            set HIH = 225
        endif
        set g = OG8()
        set H04 = N28
        set H24 = HHH
        call GroupEnumUnitsInRange(g, GetUnitX(N28), GetUnitY(N28), HIH, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function HDH)
        call OF8(g)
    endif
    if P89 == HFH then
        if m5 != null then
            call PauseUnit(m5, false)
        endif
        call SC8(GetUnitX(N28), GetUnitY(N28), 100)
        call OF8(HHH)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set N28 = null
    set m5 = null
    set HGH = null
    set HHH = null
    set g = null
    return false
endfunction
function HKH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real l4 = (LoadReal(R8, (EC8), (13)))
    local integer JLE = (LoadInteger(R8, (EC8), (12)))
    local integer P89 = GetTriggerEvalCount(t)
    local real x = GetUnitX(N28) + P89 * 50 * Cos(l4 * bj_DEGTORAD)
    local real y = GetUnitY(N28) + P89 * 50 * Sin(l4 * bj_DEGTORAD)
    local boolean C7D = (LoadBoolean(R8, (EC8), (15)))
    local unit HMH
    local trigger HNH = (LoadTriggerHandle(R8, (EC8), (11)))
    local integer E9F = GetHandleId(HNH)
    local group g = OG8()
    local unit target
    local integer ID = 'u00V'
    local real HIH = 125
    if P89 == 1 then
        set HIH = 100
    endif
    set H04 = N28
    call GroupEnumUnitsInRange(g, x, y, HIH, Condition(function UZ8))
    call GroupRemoveUnit(g, N28)
    set target = GroupPickRandomUnit(g)
    call OF8(g)
    if target != null or P89 == JLE or P89 == (JLE - 1)or P89 == (JLE - 2)then
        set ID = 'u00U'
    endif
    set HMH = CreateUnit(GetOwningPlayer(N28), ID, x, y, l4)
    call SaveUnitHandle(R8, (E9F), (700 + P89), (HMH))
    if target != null then
        if(IsUnitAlly(target, GetOwningPlayer(N28)) and C7D == false)or((LoadInteger(R8, (GetHandleId((target))), ((4259)))) == 1) == true then
            set target = null
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        if target != null and IsUnitAlly(target, GetOwningPlayer(N28)) == false then
            call PauseUnit(target, true)
        endif
        call TriggerRegisterTimerEvent(HNH, .5 / JLE, true)
        call TriggerAddCondition(HNH, Condition(function HEH))
        call SaveInteger(R8, (E9F), (18), (P89))
        call SaveUnitHandle(R8, (E9F), (17), (target))
        call SaveUnitHandle(R8, (E9F), (14), (N28))
        call SaveGroupHandle(R8, (E9F), (16), (OG8()))
    elseif P89 > JLE then
        set target = null
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call TriggerRegisterTimerEvent(HNH, .5 / JLE, true)
        call TriggerAddCondition(HNH, Condition(function HEH))
        call SaveInteger(R8, (E9F), (18), (P89))
        call SaveUnitHandle(R8, (E9F), (17), (target))
        call SaveUnitHandle(R8, (E9F), (14), (N28))
        call SaveGroupHandle(R8, (E9F), (16), (OG8()))
    endif
    set t = null
    set N28 = null
    set HMH = null
    set HNH = null
    set g = null
    set target = null
    return false
endfunction
function HJH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    local real l4 = YI7(GetUnitX(N28), GetUnitY(N28), GetSpellTargetX(), GetSpellTargetY())
    local integer TA8 = GetUnitAbilityLevel(N28, 'A0Z8')
    local integer HOH
    local integer JLE
    local boolean C7D = true
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(N28, 'A1CV')
        set C7D = true
    endif
    set HOH = 1500 + 500 * TA8
    set JLE = HOH / 50
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (13), ((l4)))
    call SaveInteger(R8, (EC8), (12), (JLE))
    call SaveTriggerHandle(R8, (EC8), (11), (CreateTrigger()))
    call SaveBoolean(R8, (EC8), (15), (C7D))
    call TriggerRegisterTimerEvent(t, .5 / JLE, true)
    call TriggerAddCondition(t, Condition(function HKH))
    set t = null
    set N28 = null
endfunction
function HPH takes nothing returns boolean
    if GetSpellAbilityId() == 'A0Z8' or GetSpellAbilityId() == 'A1CV' then
        call HJH()
    endif
    return false
endfunction
function G89 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HPH))
    set t = null
endfunction
function HQH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real P08
    if ML8 == 1 then
        set P08 = 15
    elseif ML8 == 2 then
        set P08 = 30
    elseif ML8 == 3 then
        set P08 = 40
    elseif ML8 == 4 then
        set P08 = 50
    endif
    if GetTriggerEvalCount(t) == 3 or GetTriggerEvalCount(t) == 4 then
        call V08(Z77, X77, AB4, P08)
    endif
    if GetTriggerEvalCount(t) == 4 then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call UnitRemoveAbility(X77, 'A1VS')
        call UnitRemoveAbility(X77, 'B0DN')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function HRH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'AHtb')
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetEventDamageSource() == Z77 and GetEventDamage() == 0 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function HQH))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveInteger(R8, (W57), (5), (ML8))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", X77, "chest")))
        call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A1VS', false)
        call O68(X77, 'A1VS')
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function HSH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local real d = Z47(Z77, X77)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 6, false)
    call TriggerAddCondition(t, Condition(function HRH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function HTH takes nothing returns nothing
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl", GetTriggerUnit(), "weapon"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl", GetTriggerUnit(), "hand"))
endfunction
function HUH takes nothing returns boolean
    if GetSpellAbilityId() == 'AHtb' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call HTH()
        elseif OE8(GetSpellTargetUnit()) == false then
            call HSH()
        endif
    endif
    return false
endfunction
function F09 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HUH))
    set t = null
endfunction
function HVH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call SelectUnitForPlayerSingle(Z77, GetOwningPlayer(Z77))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function HWH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A01Y')
    local real VL8 = FbGetUnitAbilityCooldown(Z77, 'A01Y', ML8)
    local integer manaCost = FbGetUnitAbilityManaCost(Z77, 'A01Y', ML8)
    local unit AC7
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(Z77, 'A1AZ')
        set VL8 = FbGetUnitAbilityCooldown(Z77, 'A1AZ', ML8)
        set manaCost = FbGetUnitAbilityManaCost(Z77, 'A1AZ', ML8)
    endif
    if TimerGetRemaining(M_4[GetPlayerId(GetOwningPlayer(Z77))]) == 0 and GetUnitState(Z77, UNIT_STATE_MANA) >= manaCost then
        call ShowUnit(Z77, true)
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        call UnitAddAbility(AC7, 'A274')
        call IssueImmediateOrderById(AC7, 852096)
        call S18(GetOwningPlayer(Z77), 3., GetUnitX(Z77), GetUnitY(Z77), 900)
        call TimerStart(M_4[GetPlayerId(GetOwningPlayer(Z77))], VL8, false, null)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 3 + .01, false)
        call TriggerAddCondition(t, Condition(function HVH))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
    endif
    set t = null
    set Z77 = null
    set AC7 = null
    return false
endfunction
function ReincarnationAuraRemove takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A3I9') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A3I9')
        call UnitRemoveAbility(GetEnumUnit(), 'B3I9')
    endif
endfunction
function ReincarnationAuraGrant takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A3I9') == 0 then
        call O68(GetEnumUnit(), 'A3I9')
    endif
endfunction
function ReincarnationAura takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group XIE = (LoadGroupHandle(R8, (W57), (340)))
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    if Z77 == null then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call ForGroup(XIE, function ReincarnationAuraRemove)
        call OF8(XIE)
        call OF8(g)
        return false
    endif
    set H04 = Z77
    if O18(Z77) == false and GetUnitAbilityLevel(Z77, 'A1AZ') > 0 and IsBroken(Z77) == false then
        call GroupEnumUnitsInRange(g, x, y, 1225, Condition(function GenericCondition_AllyUnitsExHeroes))
    endif
    call GroupRemoveUnit(g, Z77)
    call BlzGroupRemoveGroupFast(g, XIE)
    call ForGroup(XIE, function ReincarnationAuraRemove)
    if O18(Z77) == false then
        call ForGroup(g, function ReincarnationAuraGrant)
    endif
    call SaveGroupHandle(R8, (W57), (340), (g))
    call OF8(XIE)
    set t = null
    set Z77 = null
    set XIE = null
    set g = null
    return false
endfunction
function HXH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function HWH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .3, true)
    call TriggerAddCondition(t, Condition(function ReincarnationAura))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveGroupHandle(R8, (W57), (340), (OG8()))
    set t = null
    set Z77 = null
endfunction
function HYH takes nothing returns boolean
    if (GetLearnedSkill() == 'A01Y' or GetLearnedSkill() == 'A1AZ') and GetUnitAbilityLevel(GetTriggerUnit(), GetLearnedSkill()) == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call HXH()
    endif
    return false
endfunction
function ReincarnationUpgradeSoulCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = (GetHandleId(t))
    local unit Z77 = LoadUnitHandle(R8, (EC8), (2))
    local unit AC7
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > GetUnitState(Z77, UNIT_STATE_LIFE) then
            call BlzSetEventDamage(GetUnitState(Z77, UNIT_STATE_LIFE) - 1.)
        endif
    else
        set AC7 = CreateUnit(LoadPlayerHandle(R8, (EC8), (54)), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call SetUnitInvulnerable(Z77, false)
        call V08(AC7, Z77, AB4, 100000)
        call V08(AC7, Z77, AC4, 100000)
        call V08(AC7, Z77, A34, 100000)
        call SaveInteger(R8, GetHandleId(Z77), (4334), (0))
        set AC7 = null
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function ReincarnationUpgradeAction takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real P08 = GetEventDamage()
    local trigger t
    if GetEventDamage() > GetUnitState(Z77, UNIT_STATE_LIFE) then
        call SaveInteger(R8, GetHandleId(Z77), (4334), (1))
        call BlzSetEventDamage(GetUnitState(Z77, UNIT_STATE_LIFE) - 1.)
        call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_MAX_LIFE))
        set t = CreateTrigger()
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
        call TriggerRegisterTimerEvent(t, 7. + .01, false)
        call TriggerAddCondition(t, Condition(function ReincarnationUpgradeSoulCondt))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl", Z77, "origin"))
        call SaveUnitHandle(R8, (GetHandleId(t)), (2), (Z77))
        call SavePlayerHandle(R8, (GetHandleId(t)), (54), (GetOwningPlayer(GetEventDamageSource())))
        set t = null
    endif
    set Z77 = null
endfunction
function ReincarnationUpgradeCondt takes nothing returns boolean
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'B3I9') > 0 and ((LoadInteger(R8, GetHandleId(GetTriggerUnit()), (4334))) == 1) == false then
        call ReincarnationUpgradeAction()
    endif
    return false
endfunction
function F29 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function HYH))
    set t = CreateTrigger()
    call AUSI(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function ReincarnationUpgradeCondt))
    set t = null
endfunction
function AKW4 takes nothing returns nothing
    local unit p5 = GetEventDamageSource()
    local real VL8 = .0
    if GetUnitAbilityLevel(p5, 'BUa4') > 0 then
        set VL8 = .3
    elseif GetUnitAbilityLevel(p5, 'BUa3') > 0 then
        set VL8 = .25
    elseif GetUnitAbilityLevel(p5, 'BUa2') > 0 then
        set VL8 = .2
    elseif GetUnitAbilityLevel(p5, 'BUa1') > 0 then
        set VL8 = .15
    endif
    call SetUnitState(p5, UNIT_STATE_LIFE, GetUnitState(p5, UNIT_STATE_LIFE) + GetEventDamage() * VL8)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", p5, "origin"))
    set p5 = null
endfunction
function AKX4 takes nothing returns boolean
    if IsNormalAttack() and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) and ((GetUnitAbilityLevel(GetEventDamageSource(), 'BUa1') > 0 or GetUnitAbilityLevel(GetEventDamageSource(), 'BUa2') > 0 or GetUnitAbilityLevel(GetEventDamageSource(), 'BUa3') > 0 or GetUnitAbilityLevel(GetEventDamageSource(), 'BUa4') > 0)) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
        call AKW4()
    endif
    return false
endfunction
function ATB1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function AKX4))
    set t = null
endfunction
function HZH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2S0')
    local real HAH = (LoadReal(R8, (W57), (797)))
    local real HBH = (LoadReal(R8, (W57), (798)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call SaveInteger(R8, (GetHandleId((Z77))), ((4338)), (2))
        call O68(Z77, 'A2RZ')
        call SetUnitAbilityLevel(Z77, 'A2RZ', ML8)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif HAH > 0 then
        call SaveInteger(R8, (GetHandleId((Z77))), ((4338)), (2))
        if GetUnitTypeId(Z77) == 'NC00' then
            call O68(Z77, 'A2RZ')
            call SetUnitAbilityLevel(Z77, 'A2RZ', ML8)
        endif
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if O18(Z77) == false then
            call SetUnitState(Z77, UNIT_STATE_LIFE, RMaxBJ(1, GetUnitState(Z77, UNIT_STATE_LIFE) - HAH))
        endif
        if O18(X77) == false then
            call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + HAH)
        endif
    else
        set HAH = GetUnitState(X77, UNIT_STATE_MAX_LIFE) * .2
        call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) + HAH)
        call SetUnitState(X77, UNIT_STATE_LIFE, RMaxBJ(1, GetUnitState(X77, UNIT_STATE_LIFE) - HAH))
        call SaveReal(R8, (W57), (797), ((HAH) * 1.))
        call SaveReal(R8, (W57), (798), ((HBH) * 1.))
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function HCH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerRegisterTimerEvent(t, 7, false)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function HZH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (W57), (797), ((0) * 1.))
    call SaveReal(R8, (W57), (798), ((0) * 1.))
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\MortalStrikeCaster.mdx", Z77, "overhead")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("war3mapImported\\MortalStrikeTarget.mdx", X77, "overhead")))
    call SaveInteger(R8, (GetHandleId((Z77))), ((4338)), (1))
    call UnitRemoveAbility(Z77, 'A2RZ')
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function H3H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A2S0')
    if ML8 == 1 then
        call O68(Z77, 'A2RZ')
    elseif((LoadInteger(R8, (GetHandleId((Z77))), ((4338)))) == 1) == false then
        call SetUnitAbilityLevel(Z77, 'A2RZ', ML8)
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2RZ', false)
    set Z77 = null
endfunction
function H6H takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_HERO_SKILL then
        if GetLearnedSkill() == 'A2S0' and IsUnitIllusion(GetTriggerUnit()) == false then
            call H3H()
        endif
    else
        if GetSpellAbilityId() == 'A2S0' then
            if OE8(GetSpellTargetUnit()) == false then
                call HCH()
            endif
        endif
    endif
    return false
endfunction
function F59 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function H6H))
    set t = null
endfunction
function HLH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call W78(p5, 0)
    set t = null
    set p5 = null
    return false
endfunction
function H1H takes nothing returns boolean
    if GetUnitTypeId(GetFilterUnit()) == GetUnitTypeId(BB)and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(BB)and IsUnitIllusion(GetFilterUnit()) then
        call SetUnitX(GetFilterUnit(), OB)
        call SetUnitY(GetFilterUnit(), AB)
        call IssueTargetOrderById(GetFilterUnit(), 851983, cB)
    endif
    return false
endfunction
function H0H takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real t5 = GetUnitX(p5)
    local real w5 = GetUnitY(p5)
    local real Y5 = GetUnitX(target)
    local real Z5 = GetUnitY(target)
    local real l4 = YI7(t5, w5, Y5, Z5)
    local real AYE = Z87(t5, w5, Y5, Z5)
    local real d = GetRandomReal(AYE * .3, AYE * .8)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A0RW')
    local real RIF = t5 + d * Cos(l4 * bj_DEGTORAD)
    local real RJF = w5 + d * Sin(l4 * bj_DEGTORAD)
    local unit u = CreateUnit(GetOwningPlayer(p5), EB, RIF, RJF, 0)
    local unit u2
    local group g
    local trigger t
    local integer EC8
    call SetUnitX(p5, RIF)
    call SetUnitY(p5, RJF)
    call SetUnitFacing(p5, - l4)
    call PlaySoundOnUnitBJ(zE, 100, target)
    if IsUnitEnemy(target, GetOwningPlayer(p5))and GetUnitTypeId(target) != 'n00L' then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 1.2, false)
        call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function HLH))
        call SaveUnitHandle(R8, (EC8), (2), (p5))
        set t = null
        call W78(p5, 20 + 40 * TA8)
        set RIF = t5 + (d - 25) * Cos(l4 * bj_DEGTORAD)
        set RJF = w5 + (d - 25) * Sin(l4 * bj_DEGTORAD)
        call ASCI(target, 4405, 1)
        call SetUnitX(target, RIF)
        call SetUnitY(target, RJF)
        call SetUnitFacing(target, l4)
        call IssueTargetOrderById(p5, 851983, target)
        set g = OG8()
        set OB = RIF
        set AB = RJF
        set BB = p5
        set cB = target
        call GroupEnumUnitsInRange(g, t5, w5, 1400, Condition(function H1H))
        call OF8(g)
        set u2 = CreateUnit(GetOwningPlayer(p5), EB, RIF, RJF, 0)
        call KillUnit(u2)
    endif
    call KillUnit(u)
    set t = null
    set p5 = null
    set target = null
    set u = null
    set u2 = null
    set g = null
endfunction
function H5H takes nothing returns boolean
    if GetSpellAbilityId() == 'A0RW' then
        call H0H()
    endif
    return false
endfunction
function H2H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local unit u = CreateUnit(GetOwningPlayer(N28), EB, GetUnitX(N28), GetUnitY(N28), 0)
    call PlaySoundOnUnitBJ(zE, 100, N28)
    call KillUnit(u)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set u = null
    set t = null
    set N28 = null
    return false
endfunction
function H_H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerAddCondition(t, Condition(function H2H))
    call TriggerRegisterTimerEvent(t, .3, false)
    call SaveUnitHandle(R8, (EC8), (14), (GetTriggerUnit()))
    set t = null
endfunction
function I4H takes nothing returns boolean
    if GetSpellAbilityId() == 'A0RW' then
        call H_H()
    endif
    return false
endfunction
function CN8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function H5H))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function I4H))
    set t = null
endfunction
function I7H takes nothing returns boolean
    return GetSpellAbilityId() == 'A065'
endfunction
function AU73 takes nothing returns nothing
    local integer i = 0
    local unit N28 = GetTriggerUnit()
    local item AHLO
    loop
        exitwhen i >= bj_MAX_INVENTORY
        set AHLO = UnitItemInSlot(N28, i)
        if IsEnabledItem(AHLO, UW) then
            call DisableTrigger(GW4)
            set I44 = GetItemPlayer(AHLO)
            call RemoveItem(AHLO)
            set HK4 = VE9(N28, BU[TW], i)
            call SetItemPlayer(HK4, I44, false)
            call SetItemUserData(HK4, 1)
            call EnableTrigger(GW4)
        endif
        set i = i + 1
    endloop
    set N28 = null
    set AHLO = null
endfunction
function I8H takes nothing returns nothing
    local integer T8 = 0
    local integer U8 = bj_MAX_INVENTORY - 1
    local integer array I9H
    local player array IDH
    local integer TS9
    local item Z4
    call SaveReal(R8, (GetHandleId(GetTriggerUnit())), (785), (0.))
    call AU73()
    set I9H[0] = 0
    set I9H[1] = 0
    set I9H[2] = 0
    set I9H[3] = 0
    set I9H[4] = 0
    set I9H[5] = 0
    call DisableTrigger(GW4)
    loop
        exitwhen T8 > U8
        set TS9 = ZX7(UnitItemInSlot(GetTriggerUnit(), T8))
        if TS9 == RL or TS9 == WL or TS9 == ZL or TS9 == AL or TS9 == LL or TS9 == D1 or TS9 == H6 or TS9 == V1 or TS9 == X1 or TS9 == A1 or TS9 == CC or TS9 == N5 or TS9 == W5 or TS9 == ET4 then
            set I9H[T8] = GetItemTypeId(UnitItemInSlot(GetTriggerUnit(), T8))
            set IDH[T8] = GetItemPlayer(UnitItemInSlot(GetTriggerUnit(), T8))
            call RemoveItem(UnitItemInSlot(GetTriggerUnit(), T8))
        endif
        set T8 = T8 + 1
    endloop
    call UnitResetCooldown(GetTriggerUnit())
    set T8 = 0
    set U8 = bj_MAX_INVENTORY - 1
    loop
        exitwhen T8 > U8
        if I9H[T8] > 0 then
            set Z4 = CreateItem(I9H[T8], 0, 0)
            call SetItemPlayer(Z4, IDH[T8], false)
            call SetItemUserData(Z4, 1)
            call UnitAddItem(GetTriggerUnit(), Z4)
        endif
        set T8 = T8 + 1
    endloop
    call EnableTrigger(GW4)
    set Z4 = null
endfunction
function BP8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function I7H))
    call TriggerAddAction(t, function I8H)
    set t = null
endfunction
function IEH takes nothing returns nothing
    call V08(A94, GetEnumUnit(), AB4, (55. + 25. * AD4) * .25)
endfunction
function IFH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer C77 = GetTriggerEvalCount(t)
    local group g
    if C77 == 20 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set H04 = Z77
        set A94 = Z77
        set AD4 = GetUnitAbilityLevel(Z77, 'A05G')
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 275, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function IEH)
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function IGH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function IFH))
    call SaveUnitHandle(R8, (W57), (2), (GetTriggerUnit()))
    call TriggerEvaluate(t)
    call ASCI(GetTriggerUnit(), 4252, 5)
    set t = null
endfunction
function IHH takes nothing returns boolean
    if GetSpellAbilityId() == 'A05G' then
        call IGH()
    endif
    return false
endfunction
function AJ8 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IHH))
    set t = null
endfunction
function DisplayOrder takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, 10, I2S(GetIssuedOrderId()) + ": " + OrderId2String(GetIssuedOrderId()))
endfunction
function IJH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer iX = GetTriggerEvalCount(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit m5 = KH8(V_8)
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real IKH
    local unit IMH
    set IKH = .6 * (iX - 25) * (iX - 25)
    if iX < 51 and GetTriggerEventId() != EVENT_UNIT_DEATH then
        if ModuloInteger(iX, 5) == 0 then
            call V08(p5, m5, AB4, 3 + 3 * TA8)
        endif
        if H7E(m5) == false then
            call SetUnitFlyHeight(m5, 500 - IKH, 0)
        endif
    else
        set IMH = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(m5), GetUnitY(m5), 0)
        call O68(IMH, 'A11L')
        call SetUnitAbilityLevel(IMH, 'A11L', TA8)
        call IssueTargetOrderById(IMH, 852075, m5)
        if H7E(m5) == false then
            call SetUnitFlyHeight(m5, GetUnitDefaultFlyHeight(m5), 0)
        endif
        if U9 == false then
            call PauseUnit(m5, false)
        endif
        call SetUnitPathing(m5, true)
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set m5 = null
    set IMH = null
    return false
endfunction
function INH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = H04
    local unit m5 = GetEnumUnit()
    local integer TA8 = HB4
    call PauseUnit(m5, true)
    call SetUnitPathing(m5, false)
    if H7E(m5) == false then
        call O68(m5, 'Amrf')
        call UnitRemoveAbility(m5, 'Amrf')
    endif
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function IJH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveInteger(R8, (EC8), (30), (KJ8(m5)))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call V08(p5, m5, AB4, 30 + 30 * TA8)
    set t = null
    set p5 = null
    set m5 = null
endfunction
function IOH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local group g = OG8()
    local ubersplat GRD = CreateUbersplat(x, y, "THNN", 255, 255, 255, 255, false, false)
    call SetUbersplatRenderAlways(GRD, true)
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (177))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (178))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (179))))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (180))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", x, y))
    call DestroyEffect(AddSpecialEffect("effects\\TidalErruption.mdx", x, y))
    set H04 = N28
    set HB4 = TA8
    call GroupEnumUnitsInRange(g, x, y, 225 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmuneWithAncient))
    call ForGroup(g, function INH)
    call OF8(g)
    set t = null
    set N28 = null
    set g = null
    return false
endfunction
function IPH takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(N28, 'A136')
    local string s = ""
    local real a
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(N28)) or N08(GetLocalPlayer())then
        set s = "Objects\\Spawnmodels\\Other\\IllidanFootprint\\IllidanWaterSpawnFootPrint.mdl"
    endif
    call RemoveLocation(l)
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call SaveInteger(R8, (EC8), (5), (TA8))
    set a = 0
    call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffect(s, x + 40 * Cos(a / 6 * 360 * bj_DEGTORAD), y + 40 * Sin(a / 6 * 360 * bj_DEGTORAD))))
    set a = 1
    call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffect(s, x + 40 * Cos(a / 6 * 360 * bj_DEGTORAD), y + 40 * Sin(a / 6 * 360 * bj_DEGTORAD))))
    set a = 2
    call SaveEffectHandle(R8, (EC8), (177), (AddSpecialEffect(s, x + 40 * Cos(a / 6 * 360 * bj_DEGTORAD), y + 40 * Sin(a / 6 * 360 * bj_DEGTORAD))))
    set a = 3
    call SaveEffectHandle(R8, (EC8), (178), (AddSpecialEffect(s, x + 40 * Cos(a / 6 * 360 * bj_DEGTORAD), y + 40 * Sin(a / 6 * 360 * bj_DEGTORAD))))
    set a = 4
    call SaveEffectHandle(R8, (EC8), (179), (AddSpecialEffect(s, x + 40 * Cos(a / 6 * 360 * bj_DEGTORAD), y + 40 * Sin(a / 6 * 360 * bj_DEGTORAD))))
    set a = 5
    call SaveEffectHandle(R8, (EC8), (180), (AddSpecialEffect(s, x + 40 * Cos(a / 6 * 360 * bj_DEGTORAD), y + 40 * Sin(a / 6 * 360 * bj_DEGTORAD))))
    call S18(GetOwningPlayer(N28), 4, x, y, 400)
    call TriggerRegisterTimerEvent(t, 1.6, false)
    call TriggerAddCondition(t, Condition(function IOH))
    set N28 = null
    set t = null
    set l = null
endfunction
function IQH takes nothing returns boolean
    if GetSpellAbilityId() == 'A136' then
        call IPH()
    endif
    return false
endfunction
function G99 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IQH))
    set t = null
endfunction
function IRH takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer KC8 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (KC8), (14)))
    if BlzGetUnitAbilityCooldownRemaining(AM7, 'A13T') <= 0. and IsBroken(AM7) == false then
        call UnitAddAbility(AM7, 'A11R')
    else
        call UnitRemoveAbility(AM7, 'A11R')
    endif
    set t = null
    set AM7 = null
endfunction
function IWH takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer KC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddAction(t, function IRH)
    call SaveUnitHandle(R8, (KC8), (14), (AM7))
    set t = null
endfunction
function IXH takes nothing returns boolean
    if GetLearnedSkill() == 'A13T' and GetUnitAbilityLevel(GetTriggerUnit(), 'A13T') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call IWH()
    endif
    return false
endfunction
function IYH takes nothing returns boolean
    return GetUnitAbilityLevel(GetTriggerUnit(), 'B13T') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A13T') > 0 and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) and IsBroken(GetEventDamageSource()) == false
endfunction
function IZH takes nothing returns nothing
    local unit Z77 = GetEventDamageSource()
    local unit X77 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A13T')
    local group g
    local unit u
    local real x
    local real y
    local real dx
    local real dy
    local real threshold
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DAMAGING then
        call BlzSetEventDamage(GetEventDamage() + 10 + 15 * TA8)
    else
        call BlzStartUnitAbilityCooldown(Z77, 'A13T', FbGetAbilityCooldown('A13T', TA8))
        call UnitRemoveAbility(X77, 'B13T')
        call UnitRemoveAbility(Z77, 'A11R')
        set g = OG8()
        set x = GetUnitX(X77)
        set y = GetUnitY(X77)
        set H04 = Z77
        call GroupEnumUnitsInRange(g, x, y, 400 + 50 * TA8 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call GroupRemoveUnit(g, X77)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WaterElementalMissile\\WaterElementalMissile.mdl", X77, "chest"))
        set dx = x - GetUnitX(Z77)
        set dy = y - GetUnitY(Z77)
        set threshold = 25 * SquareRoot(dx * dx + dy * dy)
        loop
            set u = FirstOfGroup(g)
            exitwhen u == null
            call GroupRemoveUnit(g, u)
            if dx * (x - GetUnitX(u)) + dy * (y - GetUnitY(u)) < threshold then
                call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WaterElementalMissile\\WaterElementalMissile.mdl", u, "chest"))
                call V08(Z77, u, A34, GetEventDamage())
            endif
        endloop
        call OF8(g)
    endif
    set g = null
    set u = null
    set Z77 = null
    set X77 = null
endfunction
function GD9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function IXH))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function IYH))
    call TriggerAddAction(t, function IZH)
    set t = null
endfunction
function IBH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit target = KH8(V_8)
    local image i = (LoadImageHandle(R8, (EC8), (185)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local unit Z77 = (LoadUnitHandle(R8, (EC8), (2)))
    if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A13D')then
        if GetTriggerEventId() != EVENT_UNIT_DEATH and GU8(target) == false then
            if IsUnitHidden(target) then
                call SetUnitX(target, x)
                call SetUnitY(target, y)
            else
                call SetUnitPosition(target, x, y)
            endif
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A13D', false)
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A11N' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A11N', true)
        endif
        // call DT8(GetHandleId(target), "XMarked", false)
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call ShowImage(i, false)
        call DestroyImage(i)
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set target = null
    set i = null
    set Z77 = null
    return false
endfunction
function ICH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local real I3H = 90
    local image i = CreateImage("Fonts\\X.blp", I3H, I3H, 0, x - I3H / 2, y - I3H / 2, 0, 0, 0, 0, 2)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local string fx = ""
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A11N')
    call ASCI(X77, 4401, 5)
    call O68(Z77, 'A13D')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A13D', true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A11N', false)
    call SetImageRenderAlways(i, true)
    if IsUnitAlly(Z77, GetOwningPlayer(X77)) == false or IsUnitAlly(X77, GetLocalPlayer()) or N08(GetLocalPlayer())then
        set fx = "effects\\BlackTide.mdx"
        call ShowImage(i, true)
    else
        call ShowImage(i, false)
    endif
    call SetImageColor(i, 255, 0, 0, 255)
    call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(Z77), 'o01Z', x, y, 0), 'BTLF', 5)
    if IsUnitAlly(X77, GetOwningPlayer(Z77)) == true then
        call TriggerRegisterTimerEvent(t, 8, false)
    else
        call TriggerRegisterTimerEvent(t, 4, false)
    endif
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IBH))
    // call DT8(GetHandleId(X77), "XMarked", true)
    call SaveImageHandle(R8, (W57), (185), (i))
    call SaveInteger(R8, (W57), (30), (KJ8(X77)))
    call SaveReal(R8, (W57), (6), ((x)))
    call SaveReal(R8, (W57), (7), ((y)))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget(fx, X77, "overhead")))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    // call DR8(GetHandleId(X77), "AI|XMark|X", x)
    // call DR8(GetHandleId(X77), "AI|XMark|Y", y)
    set Z77 = null
    set X77 = null
    set i = null
    set t = null
endfunction
function I6H takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A11N' and(IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit()))or OE8(GetSpellTargetUnit()) == false)then
            call ICH()
        endif
    else
        if GetLearnedSkill() == 'A11N' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A13D', false)
            call O68(GetTriggerUnit(), 'A13D')
        endif
    endif
    return false
endfunction
function ILH takes nothing returns boolean
    if GetSpellAbilityId() == 'A11N' then
        if(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139)))and IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
        endif
    endif
    return false
endfunction
function GE9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function I6H))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function ILH))
    set t = null
endfunction
function I1H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local integer I0H = 1
    local player p
    local real d
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer I5H = (LoadInteger(R8, (EC8), (136)))
    local integer Hk = (LoadInteger(R8, (EC8), (188)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > Hk then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        loop
            exitwhen I0H > I5H
            set p = (LoadPlayerHandle(R8, (EC8), (1300 + I0H)))
            set d = (LoadReal(R8, (EC8), (1200 + I0H)))
            if p == null then
                set I0H = I5H
            else
                call SetUnitState(target, UNIT_STATE_LIFE, RMaxBJ(1, GetUnitState(target, UNIT_STATE_LIFE) - d / Hk))
            endif
            set I0H = I0H + 1
        endloop
    endif
    set t = null
    set p = null
    set target = null
    return false
endfunction
function I2H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local player p = (LoadPlayerHandle(R8, (EC8), (54)))
    local trigger I_H = (LoadTriggerHandle(R8, (EC8), (135)))
    local integer I0H = GetTriggerEvalCount(t)
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call TriggerRegisterTimerEvent(I_H, 1, true)
        call TriggerAddCondition(I_H, Condition(function I1H))
        call UnitRemoveAbility(target, 'B09U')
    else
        set EC8 = GetHandleId(I_H)
        call SavePlayerHandle(R8, (EC8), (1300 + I0H), (GetOwningPlayer(GetEventDamageSource())))
        call SaveReal(R8, (EC8), (1200 + I0H), (0.5 * GetEventDamage()))
        call BlzSetEventDamage(0.5 * GetEventDamage())
        call SaveInteger(R8, (EC8), (136), (I0H))
    endif
    set t = null
    set target = null
    set p = null
    set I_H = null
    return false
endfunction
function J4H takes nothing returns nothing
    local unit p5 = DT
    local unit target = GetEnumUnit()
    local integer TA8 = ET
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer Hk = 10
    local trigger I_H = CreateTrigger()
    call TZ8(target, 'A126', 1, Hk)
    call UnitMakeAbilityPermanent(target, true, 'A126')
    call SetPlayerAbilityAvailable(GetOwningPlayer(target), 'A126', false)
    call TriggerRegisterTimerEvent(t, Hk + .01, false)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function I2H))
    call SavePlayerHandle(R8, (EC8), (54), (GetOwningPlayer(p5)))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveTriggerHandle(R8, (EC8), (135), (I_H))
    call SaveUnitHandle(R8, (GetHandleId(I_H)), (17), (target))
    call SaveInteger(R8, (GetHandleId(I_H)), (188), (Hk))
    set p5 = null
    set target = null
    set t = null
    set I_H = null
endfunction
function J7H takes nothing returns boolean
    if(IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit())) == false and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(), gN) == false then
        call GroupAddUnit(gN, GetFilterUnit())
        return true
    endif
    return false
endfunction
function J8H takes nothing returns nothing
    local unit Z77 = DT
    local unit X77 = GetEnumUnit()
    local integer ML8 = ET
    call V18(Z77, X77, 1.4)
    call V08(Z77, X77, AB4, 300 + 100 * ML8)
    set Z77 = null
    set X77 = null
endfunction
function GhostShipAghanimPull takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local real RK = Atan2(HL4 - y, H64 - x)
    call SetUnitPosition(X77, PQ8(x + 15 * Cos(RK)), PS8(y + 15 * Sin(RK)))
    set X77 = null
endfunction
function J9H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (W57), (14)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local unit JDH = (LoadUnitHandle(R8, (W57), (186)))
    local real CV7 = (LoadReal(R8, (W57), (13)))
    local real x1 = (LoadReal(R8, (W57), (66)))
    local real y1 = (LoadReal(R8, (W57), (67)))
    local real x2 = (LoadReal(R8, (W57), (47)))
    local real y2 = (LoadReal(R8, (W57), (48)))
    local integer C77 = GetTriggerEvalCount(t)
    local real S_8 = PQ8(x1 + 13.33 * C77 * Cos(CV7))
    local real T48 = PS8(y1 + 13.33 * C77 * Sin(CV7))
    local real d = Z87(S_8, T48, x2, y2)
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local boolean C7D = (LoadBoolean(R8, (W57), (15)))
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g
    if d > 300 then
        call SetUnitVertexColor(S08, 255, 255, 255, R2I(190 * 300 / d))
        call SetUnitVertexColor(JDH, 255, 255, 255, R2I(190 * 300 / d))
    endif
    set g = OG8()
    set gN = XCD
    set H04 = S08
    set DT = S08
    set ET = ML8
    call GroupEnumUnitsInRange(g, GetUnitX(S08), GetUnitY(S08), 425, Condition(function J7H))
    call ForGroup(g, function J4H)
    call OF8(g)
    call SetUnitPosition(S08, S_8, T48)
    if C7D then
        set g = OG8()
        set H04 = N28
        set H64 = x2
        set HL4 = y2
        call GroupEnumUnitsInRange(g, GetUnitX(S08), GetUnitY(S08), 225, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g, function GhostShipAghanimPull)
        call OF8(g)
    endif
    if d < 100 then
        if GetWidgetLife(JDH) > 0 then
            call KillUnit(JDH)
        endif
    else
        call SetUnitPosition(JDH, S_8, T48)
    endif
    if d < 50 or C77 > 150 then
        set g = OG8()
        set H04 = N28
        call GroupEnumUnitsInRange(g, x2, y2, 425 + 25, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g, function J8H)
        call OF8(g)
        call KillUnit(S08)
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set S08 = null
    set JDH = null
    set XCD = null
    set N28 = null
    set g = null
    return false
endfunction
function JEH takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local real iN = GetUnitX(N28)
    local real io = GetUnitY(N28)
    local real EBE = GetSpellTargetX()
    local real ECE = GetSpellTargetY()
    local real RK = Atan2(ECE - io, EBE - iN)
    local real r = ALR(N28, 1000)
    local real x1 = iN - r * Cos(RK)
    local real y1 = io - r * Sin(RK)
    local real x2 = iN + r * Cos(RK)
    local real y2 = io + r * Sin(RK)
    local trigger t
    local integer EC8
    local integer TA8 = GetUnitAbilityLevel(N28, 'A11K')
    local unit IJ
    local unit JDH
    local string s = ""
    local integer JFH = 'h06U'
    local boolean C7D = false
    if TA8 == 0 then
        set C7D = true
        set TA8 = GetUnitAbilityLevel(N28, 'A3OF')
        set JFH = 'h0DJ'
        set x1 = iN
        set y1 = io
    endif
    if IsPlayerAlly(GetOwningPlayer(N28), GetLocalPlayer())or N08(GetLocalPlayer())then
        set s = "war3mapImported\\Whirlpool.mdx"
    endif
    if EBE == GetUnitX(N28)and ECE == GetUnitY(N28)then
        set EBE = EBE + 50 * Cos(GetUnitFacing(N28) * bj_DEGTORAD)
        set ECE = ECE + 50 * Sin(GetUnitFacing(N28) * bj_DEGTORAD)
    endif
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    set IJ = CreateUnit(GetOwningPlayer(N28), JFH, x1, y1, Atan2(ECE - io, EBE - iN) * bj_RADTODEG)
    set JDH = CreateUnit(GetOwningPlayer(N28), 'h06V', x1, y1, Atan2(ECE - io, EBE - iN) * bj_RADTODEG)
    call SetUnitVertexColor(IJ, 255, 255, 255, 0)
    call SetUnitPathing(IJ, false)
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (13), (RK))
    call SaveBoolean(R8, (EC8), (15), (C7D))
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call SaveUnitHandle(R8, (EC8), (45), (IJ))
    call SaveUnitHandle(R8, (EC8), (186), (JDH))
    call SaveReal(R8, (EC8), (66), (x1))
    call SaveReal(R8, (EC8), (67), (y1))
    call SaveReal(R8, (EC8), (47), (x2))
    call SaveReal(R8, (EC8), (48), (y2))
    call SaveGroupHandle(R8, (EC8), (187), (OG8()))
    call DestroyEffect(AddSpecialEffect(s, PQ8(x2), PS8(y2)))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function J9H))
    set N28 = null
    set t = null
    set IJ = null
    set JDH = null
endfunction
function JGH takes nothing returns boolean
    if GetSpellAbilityId() == 'A11K' or GetSpellAbilityId() == 'A3OF' then
        call JEH()
    endif
    return false
endfunction
function GF9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JGH))
    call PU8('A11L')
    set t = null
endfunction
function JHH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    if(LoadLightningHandle(R8, (EC8), (196))) != null then
        call DestroyLightning((LoadLightningHandle(R8, (EC8), (196))))
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function JIH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit VA8 = (LoadUnitHandle(R8, (EC8), (45)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local real JJH = (LoadReal(R8, (EC8), (248)))
    local real l4 = Atan2(GetUnitY(target) - GetUnitY(VA8), GetUnitX(target) - GetUnitX(VA8))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local real x = GetUnitX(VA8) + 54.45 * Cos(l4)
    local real y = GetUnitY(VA8) + 54.45 * Sin(l4)
    local unit AC7
    local destructable d
    local lightning F8F
    local boolean UN9 = (LoadBoolean(R8, (EC8), (249)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call KillUnit(VA8)
    else
        call SetUnitX(VA8, x)
        call SetUnitY(VA8, y)
        call SetUnitFacing(VA8, l4 * bj_RADTODEG)
        if Z87(x, y, GetUnitX(target), GetUnitY(target)) < 45 then
            set YU4 = (LoadReal(R8, (EC8), (6)))
            set YV4 = (LoadReal(R8, (EC8), (7)))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            if GetUnitTypeId(target) != 'n00L' and UN9 then
                set AC7 = VC8(VA8, target, JJH)
                set d = VZ8(VA8, target, JJH)
                if AC7 != null then
                    set t = CreateTrigger()
                    set EC8 = GetHandleId(t)
                    call V18(VA8, target, .75 + .75 * TA8)
                    call V18(VA8, AC7, .75 + .75 * TA8)
                    call TriggerRegisterTimerEvent(t, 0.25 + TA8 * 0.75, false)
                    call TriggerAddCondition(t, Condition(function JHH))
                    set F8F = AddLightning("MFPB", true, GetUnitX(target), GetUnitY(target), GetUnitX(AC7), GetUnitY(AC7))
                    call SetLightningColor(F8F, 0.5, 0.5, 1, 1)
                    call SaveLightningHandle(R8, (EC8), (196), (F8F))
                elseif d != null then
                    set t = CreateTrigger()
                    set EC8 = GetHandleId(t)
                    call V18(VA8, target, .75 + .75 * TA8)
                    call TriggerRegisterTimerEvent(t, 0.25 + TA8 * 0.75, false)
                    call TriggerAddCondition(t, Condition(function JHH))
                    set F8F = AddLightning("MFPB", true, GetUnitX(target), GetUnitY(target), GetDestructableX(d), GetDestructableY(d))
                    call SetLightningColor(F8F, 0.5, 0.5, 1, 1)
                    call SaveLightningHandle(R8, (EC8), (196), (F8F))
                    call SetDestructableAnimation(d, "stand hit")
                else
                    call V18(VA8, target, .75)
                endif
            endif
            call KillUnit(VA8)
        endif
    endif
    set t = null
    set VA8 = null
    set target = null
    set F8F = null
    set AC7 = null
    set d = null
    return false
endfunction
function JKH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local real l4 = Atan2(GetUnitY(target) - GetUnitY(p5), GetUnitX(target) - GetUnitX(p5))
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit VA8 = CreateUnit(GetOwningPlayer(p5), 'h077', GetUnitX(p5), GetUnitY(p5), l4 * bj_RADTODEG)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A12J')
    local boolean UN9 = OE8(GetSpellTargetUnit()) == false
    call SaveUnitHandle(R8, (EC8), (45), (VA8))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveReal(R8, (EC8), (248), ((l4)))
    call SaveBoolean(R8, (EC8), (249), (UN9))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    call TriggerRegisterTimerEvent(t, 0.033, true)
    call TriggerAddCondition(t, Condition(function JIH))
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    set VA8 = null
    set p5 = null
    set target = null
    set t = null
endfunction
function JMH takes nothing returns boolean
    if GetSpellAbilityId() == 'A12J' then
        call JKH()
    endif
    return false
endfunction
function GG9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JMH))
    set t = null
endfunction
function JNH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    local integer JOH = (LoadInteger(R8, (EC8), (247)))
    call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx", GetUnitX(p5), GetUnitY(p5)))
    if GetTriggerEvalCount(t) > 10 * (2 + TA8)or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(p5, JOH)
        call UnitRemoveAbility(p5, 'B09W')
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (176))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    return false
endfunction
function JPH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A14I')
    local integer JOH
    if TA8 == 1 then
        set JOH = 'A135'
    elseif TA8 == 2 then
        set JOH = 'A12O'
    elseif TA8 == 3 then
        set JOH = 'A134'
    elseif TA8 == 4 then
        set JOH = 'A139'
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(p5), JOH, false)
    call TZ8(p5, JOH, 1, 2 + TA8)
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JNH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveInteger(R8, (EC8), (247), (JOH))
    call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffectTarget("effects\\Tornado.mdx", p5, "hand,left")))
    call SaveEffectHandle(R8, (EC8), (176), (AddSpecialEffectTarget("effects\\Tornado.mdx", p5, "hand,right")))
    set p5 = null
    set t = null
endfunction
function JQH takes nothing returns boolean
    if GetSpellAbilityId() == 'A14I' then
        call JPH()
    endif
    return false
endfunction
function GH9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JQH))
    set t = null
endfunction
function JUH takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), ZB) == false and GetUnitAbilityLevel(GetEnumUnit(), 'Bcyc') == 0 then
        call V08((vc), (GetEnumUnit()), 1, (ec) * Pow(0.9, (ac)) * Pow(0.99, (xc)))
        call GroupAddUnit(ZB, GetEnumUnit())
        set ac = ac + 1
    endif
endfunction
function JVH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit IJ = (LoadUnitHandle(R8, (EC8), (45)))
    local real i9e = (LoadReal(R8, (EC8), (47)))
    local real ave = (LoadReal(R8, (EC8), (48)))
    local real RK = (LoadReal(R8, (EC8), (13)))
    local real P99 = (LoadReal(R8, (EC8), (20)))
    local integer JTH = (LoadInteger(R8, (EC8), (354)))
    local integer JSH = (LoadInteger(R8, (EC8), (355)))
    local group JWH = (LoadGroupHandle(R8, (EC8), (187)))
    local real x = PQ8(GetUnitX(IJ) + (60 * Pow(0.99, JTH)) * Cos(RK))
    local real y = PS8(GetUnitY(IJ) + (60 * Pow(0.99, JTH)) * Sin(RK))
    local group g = OG8()
    local real d
    if GetTriggerEvalCount(t) > 2 then
        set d = 150
    else
        set d = 75
    endif
    call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx", x, y))
    set JTH = JTH + SC8(x, y, 75)
    call SaveInteger(R8, (EC8), (354), (JTH))
    set ZB = JWH
    set vc = p5
    set ec = P99
    set xc = JTH
    set ac = JSH
    set H04 = IJ
    call GroupEnumUnitsInRange(g, x, y, d, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function JUH)
    call OF8(g)
    call SaveInteger(R8, (EC8), (355), (ac))
    call SetUnitX(IJ, x)
    call SetUnitY(IJ, y)
    if GetTriggerEvalCount(t) > 42 then
        call KillUnit(IJ)
        call OF8(JWH)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set IJ = null
    set JWH = null
    set g = null
    return false
endfunction
function JXH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local real x2 = (LoadReal(R8, (GetHandleId(p5)), (356)))
    local real y2 = (LoadReal(R8, (GetHandleId(p5)), (357)))
    local real JYH = RMinBJ((TimerGetElapsed(E4)) - (LoadReal(R8, (GetHandleId(p5)), (358))), 1.0)
    local real RK = Atan2(y2 - GetUnitY(p5), x2 - GetUnitX(p5))
    local trigger t
    local integer EC8
    local unit IJ
    local integer TA8 = GetUnitAbilityLevel(p5, 'A12K')
    local real P99 = (40 + 80 * TA8) * (JYH)
    local real r = ALR(p5, 2600)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    set IJ = CreateUnit(GetOwningPlayer(p5), 'h078', GetUnitX(p5), GetUnitY(p5), RK * bj_RADTODEG)
    set x2 = GetUnitX(p5) + r * Cos(RK)
    set y2 = GetUnitY(p5) + r * Sin(RK)
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (45), (IJ))
    call SaveReal(R8, (EC8), (47), (x2))
    call SaveReal(R8, (EC8), (48), (y2))
    call SaveReal(R8, (EC8), (13), (RK))
    call SaveReal(R8, (EC8), (20), (P99))
    call SaveInteger(R8, (EC8), (354), (0))
    call SaveInteger(R8, (EC8), (355), (0))
    call SaveGroupHandle(R8, (EC8), (187), (OG8()))
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function JVH))
    set p5 = null
    set t = null
    set IJ = null
endfunction
function JZH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    call SetUnitTimeScale(N28, 1)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function AC74 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = (LoadUnitHandle(R8, (EC8), (14)))
    call SetUnitAnimation(N28, "attack")
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set N28 = null
    return false
endfunction
function JAH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit N28 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TriggerRegisterTimerEvent(t, 0., false)
    call TriggerAddCondition(t, Condition(function AC74))
    call SaveReal(R8, (GetHandleId(N28)), (356), ((x)))
    call SaveReal(R8, (GetHandleId(N28)), (357), ((y)))
    call SaveReal(R8, (GetHandleId(N28)), (358), (((TimerGetElapsed(E4)))))
    call SetUnitTimeScale(N28, 1)
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call SaveUnitHandle(R8, (EC8), (14), (N28))
    call TriggerRegisterTimerEvent(t, 1, false)
    call TriggerRegisterUnitEvent(t, N28, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JZH))
    set t = null
    set N28 = null
endfunction
function JBH takes nothing returns boolean
    if GetSpellAbilityId() == 'A12K' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CHANNEL then
            call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (360), (false))
            call JAH()
        elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (360), (true))
        elseif(LoadBoolean(R8, (GetHandleId(GetTriggerUnit())), (360))) == true then
            call JXH()
        endif
    endif
    return false
endfunction
function GI9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_ENDCAST)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JBH))
    set t = null
endfunction
function JCH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer V_8 = (LoadInteger(R8, (EC8), (30)))
    local unit m5 = KH8(V_8)
    local real J3H = (LoadReal(R8, (EC8), (193)))
    local integer TA8
    if GetTriggerEvalCount(t) == 1 then
        call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_EFFECT)
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetAttacker() == p5 and GetTriggerUnit() == m5 then
            call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx", p5, "hand,left"))
            call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx", p5, "hand,right"))
            if GetUnitAbilityLevel(p5, 'A12R') == 0 then
                call O68(p5, 'A12R')
                set TA8 = GetUnitAbilityLevel(p5, 'A1D6')
            endif
        elseif GetAttacker() == p5 and GetTriggerUnit() != m5 then
            call UnitRemoveAbility(p5, 'A12R')
            call UnitRemoveAbility(p5, 'B09X')
            call UnitRemoveAbility(p5, 'A1FK')
            call UnitRemoveAbility(p5, 'A1FL')
            call UnitRemoveAbility(p5, 'A1FJ')
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == p5 then
            call SetUnitState(m5, UNIT_STATE_LIFE, GetUnitState(m5, UNIT_STATE_LIFE) + (J3H) * GetEventDamage())
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A12P' or GetSpellAbilityId() == 'A1D6' then
            call KG8(V_8)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    else
        call UnitRemoveAbility(p5, 'A12R')
        call UnitRemoveAbility(p5, 'B09X')
        call KG8(V_8)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call UnitRemoveAbility(p5, 'A1FK')
        call UnitRemoveAbility(p5, 'A1FL')
        call UnitRemoveAbility(p5, 'A1FJ')
    endif
    set t = null
    set p5 = null
    set m5 = null
    return false
endfunction
function J6H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A12P')
    local real HHE = .6 - TA8 * .1
    call UnitRemoveAbility(Z77, 'A12R')
    call UnitRemoveAbility(Z77, 'B09X')
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(Z77, 'A1D6')
        set HHE = .45 - TA8 * .15
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A12R', false)
    call O68(Z77, 'A12R')
    call IssueTargetOrder(Z77, "attack", X77)
    call SaveUnitHandle(R8, (EC8), (2), (Z77))
    call SaveInteger(R8, (EC8), (30), (KJ8(X77)))
    call SaveReal(R8, (EC8), (193), ((HHE) * 1.))
    call SaveInteger(R8, (EC8), (361), (0))
    call TriggerRegisterTimerEvent(t, 20, false)
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JCH))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function JLH takes nothing returns boolean
    if(GetSpellAbilityId() == 'A12P' or GetSpellAbilityId() == 'A1D6')and OE8(GetSpellTargetUnit()) == false then
        call J6H()
    endif
    return false
endfunction
function GJ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JLH))
    set t = null
endfunction
function J5H takes unit N28, integer TA8 returns integer
    local integer J2H
    local integer J_H
    if TA8 == 1 then
        set J_H = 'B0B1'
        set J2H = 'A18Z'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        set J_H = 'B0B0'
        set J2H = 'A19J'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        set J_H = 'B0AY'
        set J2H = 'A19J'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        return'A18Y'
    elseif TA8 == 2 then
        set J_H = 'B0B8'
        set J2H = 'A19H'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        set J_H = 'B0B7'
        set J2H = 'A19G'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        set J_H = 'B0B2'
        set J2H = 'A19G'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        return'A19I'
    elseif TA8 == 3 then
        set J_H = 'B0B3'
        set J2H = 'A19E'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        set J_H = 'B0B9'
        set J2H = 'A19D'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        set J_H = 'B0B6'
        set J2H = 'A19D'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        return'A19K'
    elseif TA8 == 4 then
        set J_H = 'B0B5'
        set J2H = 'A196'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        set J_H = 'B0B4'
        set J2H = 'A195'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        set J_H = 'B0BA'
        set J2H = 'A195'
        if GetUnitAbilityLevel(N28, J_H) > 0 then
            call UnitRemoveAbility(N28, J_H)
            return J2H
        endif
        return'A19L'
    endif
    return 0
endfunction
function K4H takes nothing returns nothing
    local unit N28 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(N28, 'A18X')
    local integer J_H = J5H(N28, TA8)
    local unit AC7 = CreateUnit(GetOwningPlayer(N28), 'e00E', GetUnitX(N28), GetUnitY(N28), 0)
    call O68(AC7, J_H)
    call IssueTargetOrderById(AC7, 852101, N28)
    set N28 = null
    set AC7 = null
endfunction
function K7H takes nothing returns boolean
    if (GetSpellAbilityId() == 'A01F' or GetSpellAbilityId() == 'A027' or GetSpellAbilityId() == 'A01P' or GetSpellAbilityId() == 'A09Z') and IsBroken(GetTriggerUnit()) == false then
        call K4H()
    endif
    return false
endfunction
function K8H takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function K7H))
    set t = null
    set AM7 = null
endfunction
function K9H takes nothing returns boolean
    if GetLearnedSkill() == 'A18X' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A18X') == 1 then
        call K8H()
    endif
    return false
endfunction
function GK9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function K9H))
    set t = null
endfunction
function AXD3 takes nothing returns nothing
    local integer TA8 = GetUnitAbilityLevel(GetTriggerUnit(), 'A09Z')
    local real P99
    if TA8 == 1 then
        set P99 = 450
    elseif TA8 == 2 then
        set P99 = 650
    elseif TA8 == 3 then
        set P99 = 850
    endif
    call V08(GetTriggerUnit(), GetSpellTargetUnit(), 7, P99)
endfunction
function AXE3 takes nothing returns boolean
    if(GetSpellAbilityId() == 'A09Z')and (OE8(GetSpellTargetUnit()) == false)then
        call AXD3()
    endif
    return false
endfunction
function KDH takes nothing returns boolean
    if(GetSpellAbilityId() == 'A01P')and GU8(GetSpellTargetUnit())then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0LR'))
    endif
    return false
endfunction
function GM9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function KDH))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AXE3))
    set t = null
endfunction
function KEH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = (LoadInteger(R8, (GetHandleId(X77)), (281)))
    local boolean KFH = (LoadBoolean(R8, (W57), (280)))
    local real EUF
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SetUnitTurnSpeed(X77, GetUnitDefaultTurnSpeed(X77))
        call SaveInteger(R8, (GetHandleId(X77)), (281), (0))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call T99(X77, 0, 0)
    elseif C77 == 0 then
        call SetUnitTurnSpeed(X77, GetUnitDefaultTurnSpeed(X77))
        call SaveInteger(R8, (GetHandleId(X77)), (281), (0))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED and KFH == false then
        if C77 > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A1EL') > 0 and(LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2))) == GetEventDamageSource()then
            call SaveBoolean(R8, (W57), (280), (true))
            if TE4 or IsNormalAttackHero() then
                call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl", X77, "chest"))
                set EUF = .5 * (5 + 5 * GetUnitAbilityLevel(Z77, 'A1EL')) * C77
                if IsUnitType(X77, UNIT_TYPE_HERO) == false then
                    set EUF = EUF * .5
                endif
                call BlzSetEventDamage(GetEventDamage() + EUF)
            endif
            call SaveBoolean(R8, (W57), (280), (false))
        endif
    else
        call SetUnitTurnSpeed(X77, GetUnitDefaultTurnSpeed(X77) * .3)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function KGH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real U89 = (LoadReal(R8, (GetHandleId(X77)), (675)))
    local integer StickyCount = (LoadInteger(R8, (GetHandleId(X77)), (281)))
    if(TimerGetElapsed(E4)) - U89 >= 8 then
        call SetUnitTurnSpeed(X77, GetUnitDefaultTurnSpeed(X77))
        call SaveInteger(R8, (GetHandleId(X77)), (281), (0))
        call T99(X77, 0, 0)
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function KHH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEnumUnit()
    local trigger t
    local integer W57
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1EL')
    local integer C77 = IMinBJ((LoadInteger(R8, (GetHandleId(X77)), (281))) + 1, 10)
    if GU8(X77)then
        set Z77 = null
        set X77 = null
        return
    endif
    call T99(X77, ML8, C77)
    call SaveInteger(R8, (GetHandleId(X77)), (281), (C77))
    call SaveReal(R8, (GetHandleId(X77)), (675), (((TimerGetElapsed(E4)))))
    call SetUnitTurnSpeed(X77, GetUnitDefaultTurnSpeed(X77) * .3)
    if IsUnitType(X77, UNIT_TYPE_HERO) then
        call QN8(GetOwningPlayer(Z77), I2S(C77) + "!", 2, X77, .026, 50, 0, 255, 216)
    endif
    if C77 == 1 then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveBoolean(R8, (W57), (280), (false))
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function KEH))
    endif
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 8, false)
    call TriggerAddCondition(t, Condition(function KGH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function KIH takes nothing returns nothing
    local group g = OG8()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local unit p5 = GetTriggerUnit()
    call GroupEnumUnitsInRange(g, x, y, 400, Condition(function GenericCondition_EnemyUnitsWithAncient))
    call ForGroup(g, function KHH)
    call S18(GetOwningPlayer(p5), 2, x, y, 500)
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x, y))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x, y + 184))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x, y - 184))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x + 184, y))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x + 130, y + 130))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x + 130, y - 130))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x - 184, y))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x - 130, y + 130))
    call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x - 130, y - 130))
    call RemoveLocation(l)
    call OF8(g)
    set g = null
    set l = null
    set p5 = null
endfunction
function KJH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1EL' then
        call KIH()
    endif
    return false
endfunction
function GN9 takes nothing returns nothing
    local integer i
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KJH))
    set YG4[1] = 'A1XC'
    set YG4[2] = 'A1XB'
    set YG4[3] = 'A1X4'
    set YG4[4] = 'A1X5'
    set YG4[5] = 'A1X6'
    set YG4[6] = 'A1X7'
    set YG4[7] = 'A1XA'
    set YG4[8] = 'A1X8'
    set YG4[9] = 'A1X9'
    set YG4[10] = 'A1XD'
    set YH4[1] = 'A1XM'
    set YH4[2] = 'A1XE'
    set YH4[3] = 'A1XF'
    set YH4[4] = 'A1XG'
    set YH4[5] = 'A1XH'
    set YH4[6] = 'A1XI'
    set YH4[7] = 'A1XJ'
    set YH4[8] = 'A1XK'
    set YH4[9] = 'A1XN'
    set YH4[10] = 'A1XL'
    set YI4[1] = 'A1XO'
    set YI4[2] = 'A1XV'
    set YI4[3] = 'A1XW'
    set YI4[4] = 'A1XQ'
    set YI4[5] = 'A1XR'
    set YI4[6] = 'A1XS'
    set YI4[7] = 'A1XX'
    set YI4[8] = 'A1XT'
    set YI4[9] = 'A1XU'
    set YI4[10] = 'A1XP'
    set YJ4[1] = 'A1XY'
    set YJ4[2] = 'A1XZ'
    set YJ4[3] = 'A1Y5'
    set YJ4[4] = 'A1Y6'
    set YJ4[5] = 'A1Y7'
    set YJ4[6] = 'A1Y1'
    set YJ4[7] = 'A1Y2'
    set YJ4[8] = 'A1Y3'
    set YJ4[9] = 'A1Y4'
    set YJ4[10] = 'A1Y0'
    set i = 1
    loop
        exitwhen i > 10
        call PU8(YG4[i])
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > 10
        call PU8(YH4[i])
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > 10
        call PU8(YI4[i])
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > 10
        call PU8(YJ4[i])
        set i = i + 1
    endloop
    set t = null
endfunction
function KKH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit m5 = (LoadUnitHandle(R8, (EC8), (17)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real d = (LoadReal(R8, (EC8), (138)))
    local real x1 = (LoadReal(R8, (EC8), (6)))
    local real y1 = (LoadReal(R8, (EC8), (7)))
    local real x2
    local real y2
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > 10 then
        call SC8(GetUnitX(m5), GetUnitY(m5), 200)
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set x2 = x1 + d * Cos(a)
        set y2 = y1 + d * Sin(a)
        if(IsPointInRegion(IF4, ((x2)), ((y2)))) == false then
            call SaveReal(R8, (EC8), (6), ((x2)))
            call SaveReal(R8, (EC8), (7), ((y2)))
            set x = x2
            set y = y2
        else
            set x = x1
            set y = y1
        endif
        if IsUnitType(m5, UNIT_TYPE_HERO) == true then
            call SetUnitPosition(m5, x, y)
        else
            call SetUnitX(m5, x)
            call SetUnitY(m5, y)
        endif
    endif
    set t = null
    set m5 = null
    return false
endfunction
function PJSH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = (LoadInteger(R8, (EC8), (5)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > 2 + TA8 or GetUnitAbilityLevel(target, 'B37T') == 0 then
        call UnitRemoveAbility(target, 'A37T')
        call UnitRemoveAbility(target, 'B37T')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        set TE4 = true
        call V08(p5, target, 1, 40.)
        set TE4 = false
    endif
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function KMH takes nothing returns nothing
    local unit m5 = GetEnumUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local trigger t2
    local integer WED
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterUnitEvent(t, m5, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function KKH))
    call SaveUnitHandle(R8, (EC8), (17), (m5))
    call SaveReal(R8, (EC8), (137), ((Atan2(GetUnitY(m5) - C1, GetUnitX(m5) - B1))))
    call SaveReal(R8, (EC8), (138), ((RMaxBJ((400 - Z87(B1, C1, GetUnitX(m5), GetUnitY(m5))), 10) / 10)))
    call SaveReal(R8, (EC8), (6), ((GetUnitX(m5))))
    call SaveReal(R8, (EC8), (7), ((GetUnitY(m5))))
    call O68(m5, 'A37T')
    set t2 = CreateTrigger()
    set WED = GetHandleId(t2)
    call SaveInteger(R8, (WED), (5), (TG4))
    call SaveUnitHandle(R8, (WED), (2), (TF4))
    call SaveUnitHandle(R8, (WED), (17), (m5))
    call TriggerRegisterUnitEvent(t2, m5, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t2, 1., true)
    call TriggerAddCondition(t2, Condition(function PJSH))
    set m5 = null
    set t = null
    set t2 = null
endfunction
function KNH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local group g = OG8()
    local unit m5
    local real x = GetUnitX(AC7)
    local real y = GetUnitY(AC7)
    local real GJF = (LoadReal(R8, (EC8), (6)))
    local real GKF = (LoadReal(R8, (EC8), (7)))
    set x = PQ8(x + 36 * Cos(a))
    set y = PS8(y + 36 * Sin(a))
    call SetUnitX(AC7, x)
    call SetUnitY(AC7, y)
    set H04 = AC7
    call GroupEnumUnitsInRange(g, x, y, 125, Condition(function GenericCondition_EnemyUnitsExNoImmune))
    set m5 = FirstOfGroup(g)
    call OF8(g)
    if Z87(x, y, GJF, GKF) < 40 or GetTriggerEvalCount(t) > 100 then
        set m5 = null
        set x = GJF
        set y = GKF
        set TF4 = p5
        set TG4 = (LoadInteger(R8, (EC8), (5)))
        set N1 = m5
        if m5 == null then
            set B1 = x
            set C1 = y
        else
            set B1 = GetUnitX(m5)
            set C1 = GetUnitY(m5)
        endif
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, 400, Condition(function GenericCondition_EnemyUnitsExNoImmune))
        if m5 != null then
            call GroupRemoveUnit(g, m5)
            call V18(p5, m5, 0.5)
        endif
        call ForGroup(g, function KMH)
        call KillUnit(AC7)
        call OF8(g)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set m5 = null
    set AC7 = null
    set p5 = null
    set g = null
    return false
endfunction
function KOH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(p5), x - GetUnitX(p5))
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A19V')
    local unit AC7
    set AC7 = CreateUnit(GetOwningPlayer(p5), 'h0ED', GetUnitX(p5), GetUnitY(p5), a * bj_RADTODEG)
    call RemoveLocation(l)
    call SaveReal(R8, (EC8), (137), (a))
    call SaveInteger(R8, (EC8), (5), (TA8))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call TriggerRegisterTimerEvent(t, 0.04, true)
    call TriggerAddCondition(t, Condition(function KNH))
    set p5 = null
    set AC7 = null
    set l = null
    set t = null
endfunction
function KPH takes nothing returns boolean
    if GetSpellAbilityId() == 'A19V' then
        call KOH()
    endif
    return false
endfunction
function GO9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KPH))
    set t = null
endfunction
function KQH takes nothing returns nothing
    local unit Z77 = TH4
    local unit YNG = GetEnumUnit()
    local unit X77
    local group g
    if GetUnitCurrentOrder(YNG) == 0 then
        set g = OG8()
        set H04 = YNG
        call GroupEnumUnitsInRange(g, GetUnitX(YNG), GetUnitY(YNG), 825, Condition(function GenericCondition_EnemyUnitsEx))
        set X77 = FirstOfGroup(g)
        if X77 != null then
            call GroupRemoveUnit(g, X77)
        endif
        if FirstOfGroup(g) == null and X77 == Z77 then
            call IssueTargetOrderById(YNG, 851983, X77)
        endif
        call OF8(g)
        set X77 = null
        set g = null
    endif
    set Z77 = null
    set YNG = null
endfunction
function KRH takes unit Z77 returns nothing
    local group g = OG8()
    set H04 = Z77
    set TH4 = Z77
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1000, Condition(function VM8))
    call ForGroup(g, function KQH)
    call OF8(g)
    set g = null
endfunction
function KSH takes nothing returns nothing
    call V08(TH4, GetEnumUnit(), 1, TI4 * 10 - 5)
endfunction
function KTH takes unit Z77, integer W57, integer C77 returns nothing
    local group g1 = OG8()
    local group g2 = OG8()
    local integer i = 0
    set H04 = Z77
    loop
        exitwhen i > C77
        call GroupEnumUnitsInRange(g2, (LoadReal(R8, (W57), (2300 + i))), (LoadReal(R8, (W57), (2500 + i))), 225, Condition(function GenericCondition_EnemyUnitsEx))
        call BlzGroupAddGroupFast(g2, g1)
        call GroupClear(g2)
        set i = i + 1
    endloop
    call OF8(g2)
    if FirstOfGroup(g1) != null then
        set TH4 = Z77
        set TI4 = GetUnitAbilityLevel(Z77, 'A19Z')
        call ForGroup(g1, function KSH)
    endif
    call OF8(g1)
    set g1 = null
    set g2 = null
endfunction
function KUH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer i
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > 360 then
        set i = 0
        loop
            exitwhen i > C77
            call DestroyEffect((LoadEffectHandle(R8, (W57), (2700 + i))))
            set i = i + 1
        endloop
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set x = GetUnitX(Z77)
        set y = GetUnitY(Z77)
        if L8 == true then
            call KRH(Z77)
        endif
        if Z87(x, y, PND, POD) > 125 then
            set C77 = C77 + 1
            call SaveInteger(R8, (W57), (34), (C77))
            call SaveReal(R8, (W57), (23), ((x)))
            call SaveReal(R8, (W57), (24), ((y)))
            call SaveEffectHandle(R8, (W57), (2700 + C77), (AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", x, y)))
            call SaveReal(R8, (W57), (2300 + C77), ((x)))
            call SaveReal(R8, (W57), (2500 + C77), ((y)))
        endif
        if ModuloInteger(GetTriggerEvalCount(t), 10) == 0 then
            set TE4 = true
            call KTH(Z77, W57, C77)
            set TE4 = false
        endif
        call SC8(GetUnitX(Z77), GetUnitY(Z77), 100)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function KVH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function KUH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveEffectHandle(R8, (EC8), (2700), (AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", GetUnitX(p5), GetUnitY(p5))))
    call SaveReal(R8, (EC8), (23), ((GetUnitX(p5))))
    call SaveReal(R8, (EC8), (24), ((GetUnitY(p5))))
    call SaveReal(R8, (EC8), (2300), ((GetUnitX(p5))))
    call SaveReal(R8, (EC8), (2500), ((GetUnitY(p5))))
    set p5 = null
    set t = null
endfunction
function KWH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    if O18(p5)then
        return false
    endif
    if GetUnitTypeId(p5) == 'O016' then
        call SetUnitFlyHeight(p5, 170, 0)
    elseif GetUnitTypeId(p5) == 'O017' then
        call SetUnitFlyHeight(p5, 220, 0)
    endif
    set t = null
    set p5 = null
    return false
endfunction
function KXH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 2, true)
    call TriggerAddCondition(t, Condition(function KWH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    set t = null
    set p5 = null
endfunction
function KYH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    call SetTerrainPathable(x, y, PATHING_TYPE_WALKABILITY, false)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function KZH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local real x = GetUnitX(p5)
    local real y = GetUnitY(p5)
    call SetTerrainPathable(x, y, PATHING_TYPE_WALKABILITY, true)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function KYH))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    set p5 = null
    set t = null
endfunction
function KAH takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A19Z' then
            if GetUnitTypeId(GetTriggerUnit()) == 'O016' then
                call KVH()
            elseif IsTerrainPathable(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), PATHING_TYPE_WALKABILITY)then
                call KZH()
            endif
        endif
    else
        if GetLearnedSkill() == 'A19Z' and GetUnitAbilityLevel(GetTriggerUnit(), 'A19Z') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
            call KXH()
        endif
    endif
    return false
endfunction
function GP9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function KAH))
    set t = null
endfunction
function KBH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local boolean C7D = (LoadBoolean(R8, (EC8), (15)))
    local unit src = (LoadUnitHandle(R8, (EC8), (56)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit AC7 = (LoadUnitHandle(R8, (EC8), (19)))
    local real d = Z87(GetUnitX(src), GetUnitY(src), GetUnitX(target), GetUnitY(target))
    local real a
    local real TL8 = (LoadReal(R8, (EC8), (57)))
    local real FDF = (LoadReal(R8, (EC8), (282)))
    local real FEF = (LoadReal(R8, (EC8), (283)))
    local real KDE
    local real KEE
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > R2I(20 * TL8)then
        call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call KillUnit(AC7)
        call SetUnitPathing(target, true)
        call UI8(src)
        call SC8(GetUnitX(target), GetUnitY(target), 175)
        // call EY8(p5, "AI|Lasso")
    else
        call SetUnitX(AC7, GetUnitX(src))
        call SetUnitY(AC7, GetUnitY(src))
        if Z87(FDF, FEF, GetUnitX(src), GetUnitY(src)) > 400 then
            call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
            call KillUnit(AC7)
            call SetUnitPathing(target, true)
            call UI8(src)
            call SC8(GetUnitX(target), GetUnitY(target), 175)
        else
            call SaveReal(R8, (EC8), (282), ((GetUnitX(src))))
            call SaveReal(R8, (EC8), (283), ((GetUnitY(src))))
            if C7D then
                call V08(p5, target, AB4, 100 * .05)
            endif
            if d > 300 then
                set a = Atan2(GetUnitY(target) - GetUnitY(src), GetUnitX(target) - GetUnitX(src))
                set KDE = GetUnitX(src) + 300 * Cos(a)
                set KEE = GetUnitY(src) + 300 * Sin(a)
                if(IsPointInRegion(IF4, (KDE), (KEE))) == false then
                    call SetUnitX(target, KDE)
                    call SetUnitY(target, KEE)
                endif
            endif
        endif
    endif
    set t = null
    set p5 = null
    set src = null
    set target = null
    set AC7 = null
    return false
endfunction
function Lasso takes unit p5, unit src, unit target, boolean C7D returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(p5), 'u00Y', GetUnitX(src), GetUnitY(src), 0)
    local integer TA8
    if C7D == false then
        set TA8 = GetUnitAbilityLevel(p5, 'A19O')
    else
        set TA8 = GetUnitAbilityLevel(p5, 'A1MV')
    endif
    call O68(AC7, 'A19N')
    call SetUnitAbilityLevel(AC7, 'A19N', TA8)
    call IssueTargetOrderById(AC7, 852480, target)
    call SetUnitPathing(AC7, false)
    call SetUnitPathing(target, false)
    call UG8(src)
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterUnitEvent(t, src, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function KBH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveBoolean(R8, (EC8), (15), (C7D))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (19), (AC7))
    call SaveUnitHandle(R8, (EC8), (56), (src))
    call SaveReal(R8, (EC8), (57), (2.5 + TA8 * 0.5))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl", target, "chest")))
    call SaveReal(R8, (EC8), (282), (GetUnitX(src)))
    call SaveReal(R8, (EC8), (283), (GetUnitY(src)))
    set AC7 = null
    set t = null
endfunction
function KCH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A19O')
    local unit target2
    local group g
    local boolean C7D = false
    if TA8 == 0 then
        set C7D = true
        set g = OG8()
        set H04 = p5
        call GroupEnumUnitsInRange(g, GetUnitX(target), GetUnitY(target), 400 + 25, Condition(function GenericCondition_EnemyUnitsExHeroes))
        call GroupRemoveUnit(g, target)
        set target2 = GUD(g, GetUnitX(target), GetUnitY(target))
        if target2 != null then
            call Lasso(p5, target, target2, true)
        endif
        call OF8(g)
        set g = null
    endif
    call Lasso(p5, p5, target, C7D)
    // call EW8(p5, "AI|Lasso")
    set p5 = null
    set target = null
    set target2 = null
endfunction
function K3H takes nothing returns boolean
    if(GetSpellAbilityId() == 'A19O' or GetSpellAbilityId() == 'A1MV')and OE8(GetSpellTargetUnit()) == false and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' then
        call KCH()
    endif
    return false
endfunction
function GQ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function K3H))
    set t = null
endfunction
function K6H takes nothing returns boolean
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if KP8(GetOwningPlayer(GetEventDamageSource()))and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) and w1 == false then
            if W1 == false then
                call UnitRemoveAbility(GetTriggerUnit(), 'B0BM')
                call EA8(GetTriggeringTrigger())
            endif
        endif
        set W1 = false
        set w1 = false
    else
        call EA8(GetTriggeringTrigger())
    endif
    return false
endfunction
function KLH takes nothing returns nothing
    local unit target = GetEnumUnit()
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, target, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 6, false)
    call TriggerAddCondition(t, Condition(function K6H))
    set target = null
    set t = null
endfunction
function K1H takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'B0BM') > 0 and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0
endfunction
function K0H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local group g = OG8()
    call GroupEnumUnitsInRange(g, x, y, 1000, Condition(function K1H))
    call ForGroup(g, function KLH)
    call OF8(g)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    set g = null
    return false
endfunction
function K5H takes nothing returns nothing
    if TJ4 == 1 or TJ4 == 2 then
        call V08(GetTriggerUnit(), GetEnumUnit(), AC4, 70 + 10 * HB7)
    endif
    if TJ4 == 1 or TJ4 == 3 then
        call V08(GetTriggerUnit(), GetEnumUnit(), AB4, 70 + 10 * HB7)
    endif
endfunction
function K2H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'h07Z', x, y, 0)
    local group g = OG8()
    local unit u
    set HB7 = GetUnitAbilityLevel(Z77, 'A1AA')
    if((LoadInteger(R8, (GetHandleId((Z77))), ((4270)))) == 1) == false then
        call SetUnitTimeScale(AC7, 2.5)
        call UnitApplyTimedLife(AC7, 'BTLF', 2)
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
        call O68(AC7, 'A1A9')
        call SetUnitAbilityLevel(AC7, 'A1A9', GetUnitAbilityLevel(Z77, 'A1AA'))
        call IssueImmediateOrderById(AC7, 852127)
        call GroupEnumUnitsInRange(g, x, y, 525, Condition(function GenericCondition_EnemyUnitsWithAncient))
        set TJ4 = 1
        call ForGroup(g, function K5H)
        call OF8(g)
        call TriggerRegisterTimerEvent(t, .65, false)
        call TriggerAddCondition(t, Condition(function K0H))
        call SaveReal(R8, (W57), (6), ((x) * 1.))
        call SaveReal(R8, (W57), (7), ((y) * 1.))
    else
        call SetUnitTimeScale(AC7, 2.5)
        call UnitApplyTimedLife(AC7, 'BTLF', 2)
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
        call O68(AC7, 'A1A9')
        call SetUnitAbilityLevel(AC7, 'A1A9', GetUnitAbilityLevel(Z77, 'A1AA'))
        call IssueImmediateOrderById(AC7, 852127)
        call GroupEnumUnitsInRange(g, x, y, 500, Condition(function GenericCondition_EnemyUnitsWithAncient))
        set TJ4 = 2
        call ForGroup(g, function K5H)
        call TriggerRegisterTimerEvent(t, .65, false)
        call TriggerAddCondition(t, Condition(function K0H))
        call SaveReal(R8, (W57), (6), ((x) * 1.))
        call SaveReal(R8, (W57), (7), ((y) * 1.))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        set u = (TR4[GetPlayerId(GetOwningPlayer((Z77)))])
        call IssueImmediateOrderById(u, 851972)
        set x = GetUnitX(u)
        set y = GetUnitY(u)
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'h07Z', x, y, 0)
        call SetUnitTimeScale(AC7, 2.5)
        call UnitApplyTimedLife(AC7, 'BTLF', 2)
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
        call O68(AC7, 'A1A9')
        call SetUnitAbilityLevel(AC7, 'A1A9', GetUnitAbilityLevel(Z77, 'A1AA'))
        call IssueImmediateOrderById(AC7, 852127)
        call GroupEnumUnitsInRange(g, x, y, 500, Condition(function GenericCondition_EnemyUnits))
        set TJ4 = 3
        call ForGroup(g, function K5H)
        call OF8(g)
        call TriggerRegisterTimerEvent(t, .65, false)
        call TriggerAddCondition(t, Condition(function K0H))
        call SaveReal(R8, (W57), (6), ((x) * 1.))
        call SaveReal(R8, (W57), (7), ((y) * 1.))
        call SetUnitAnimationByIndex(u, 3)
    endif
    set t = null
    set u = null
    set Z77 = null
    set AC7 = null
    set g = null
endfunction
function K_H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit M4H = (LoadUnitHandle(R8, (EC8), (335)))
    local boolean M7H = (LoadBoolean(R8, (EC8), (336)))
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call SaveInteger(R8, (GetHandleId((p5))), ((4269)), (2))
        call SaveBoolean(R8, (GetHandleId(M4H)), (337), (true))
        if M7H then
            call ShowUnit(M4H, false)
            call KillUnit(M4H)
        else
            call ShowUnit(M4H, false)
            call UnitRemoveAbility(M4H, 'Aloc')
            call ShowUnit(M4H, true)
        endif
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        if M7H then
            call SetUnitFacing(M4H, GetUnitFacing(p5))
        endif
    endif
    set p5 = null
    set t = null
    set M4H = null
    return false
endfunction
function M8H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local unit M4H
    call SaveBoolean(R8, (EC8), (336), (false))
    if((LoadInteger(R8, (GetHandleId((p5))), ((4270)))) == 1) == false then
        call SaveBoolean(R8, (EC8), (336), (true))
        set M4H = CreateUnit(GetOwningPlayer(p5), 'h07U', GetUnitX(p5), GetUnitY(p5), GetUnitFacing(p5))
        call O68(M4H, 'Aloc')
        call O68(M4H, 'Aetl')
        call SetUnitPosition(M4H, GetUnitX(p5), GetUnitY(p5))
        call SetUnitScale(M4H, 1.4, 1.4, 1.4)
    else
        set M4H = TR4[GetPlayerId(GetOwningPlayer((p5)))]
        call UnitAddAbility(M4H, 'Aloc')
    endif
    call IssueImmediateOrderById(M4H, 851972)
    call SaveInteger(R8, (GetHandleId(p5)), (4269), (1))
    call SetUnitAnimation(M4H, "spell slam")
    call QueueUnitAnimation(M4H, "spell slam")
    call SaveUnitHandle(R8, (EC8), (335), (M4H))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function K_H))
    call SaveUnitHandle(R8, (EC8), (335), (M4H))
    set t = null
    set p5 = null
    set M4H = null
endfunction
function M9H takes nothing returns boolean
    if GetSpellAbilityId() == 'A1AA' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_FINISH then
            call K2H()
        else
            call M8H()
        endif
    endif
    return false
endfunction
function GU9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function M9H))
    set t = null
endfunction
function MDH takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1CA') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1CA')
        call UnitRemoveAbility(GetEnumUnit(), 'B0BP')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1C9') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1C9')
        call UnitRemoveAbility(GetEnumUnit(), 'B0BP')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1CB') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1CB')
        call UnitRemoveAbility(GetEnumUnit(), 'B0BP')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1CC') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1CC')
        call UnitRemoveAbility(GetEnumUnit(), 'B0BP')
    endif
    call WF8(GetEnumUnit(), 0)
endfunction
function MEH takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    if TK4 == 1 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A1CA') == 0 then
            call O68(GetEnumUnit(), 'A1CA')
        endif
    elseif TK4 == 2 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A1C9') == 0 then
            call O68(GetEnumUnit(), 'A1C9')
        endif
    elseif TK4 == 3 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A1CB') == 0 then
            call O68(GetEnumUnit(), 'A1CB')
        endif
    elseif TK4 == 4 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A1CC') == 0 then
            call O68(GetEnumUnit(), 'A1CC')
        endif
    endif
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
        call WF8(GetEnumUnit(), R2I((I2R(GetHeroAgi(GetEnumUnit(), true)) / 7) * I2R(TK4) / 4))
    endif
endfunction
function MFH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group PLF = (LoadGroupHandle(R8, (W57), (340)))
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    local group g2
    if Z77 == null or GetUnitTypeId(Z77) != 'O015' then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call OF8(PLF)
        call OF8(g)
        set t = null
        set PLF = null
        set g = null
        return false
    endif
    set H04 = Z77
    set TK4 = GetUnitAbilityLevel(Z77, 'A1CD')
    call GroupEnumUnitsInRange(g, x, y, 300, Condition(function GenericCondition_EnemyUnitsEx))
    if((LoadInteger(R8, (GetHandleId((Z77))), ((4270)))) == 1) then
        set g2 = OG8()
        call GroupEnumUnitsInRange(g2, GetUnitX((TR4[GetPlayerId(GetOwningPlayer((Z77)))])), GetUnitY((TR4[GetPlayerId(GetOwningPlayer((Z77)))])), 300, Condition(function GenericCondition_EnemyUnitsEx))
        call BlzGroupAddGroupFast(g2, g)
        call OF8(g2)
        set g2 = null
    endif
    call BlzGroupRemoveGroupFast(g, PLF)
    call ForGroup(PLF, function MDH)
    if O18(Z77) == false then
        call ForGroup(g, function MEH)
    endif
    call SaveGroupHandle(R8, (W57), (340), (g))
    call OF8(PLF)
    set t = null
    set Z77 = null
    set PLF = null
    return false
endfunction
function MGH takes unit Z77, boolean SY8 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(Z77, 'A1CQ')
    call TriggerRegisterTimerEvent(t, .3, true)
    call TriggerAddCondition(t, Condition(function MFH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveGroupHandle(R8, (W57), (340), (OG8()))
    call SaveTriggerHandle(R8, (GetHandleId(Z77)), (338), (t))
    call SaveBoolean(R8, (GetHandleId(Z77)), (339), (true))
    call GVD('A1CA')
    call GVD('A1C9')
    call GVD('A1CB')
    call GVD('A1CC')
    set t = null
    set Z77 = null
endfunction
function MHH takes nothing returns boolean
    if GetLearnedSkill() == 'A1CD' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1CD') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call MGH(GetTriggerUnit(), false)
    endif
    return false
endfunction
function GT9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function MHH))
    set t = null
endfunction
function ARV3 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call UI8(target)
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function MIH takes nothing returns nothing
    local real x1 = Z1
    local real y1 = v2
    local real x2 = TS4
    local real y2 = o2
    local real x3 = GetUnitX(GetEnumUnit())
    local real y3 = GetUnitY(GetEnumUnit())
    local real u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / ((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2))
    local real x4 = x1 + u * (x2 - x1)
    local real y4 = y1 + u * (y2 - y1)
    local trigger t
    local integer EC8
    local integer TA8 = GetUnitAbilityLevel(z1, 'A1A1')
    local real P99
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
        call SetUnitPosition(GetEnumUnit(), x4, y4)
    else
        call SetUnitX(GetEnumUnit(), x4)
        call SetUnitY(GetEnumUnit(), y4)
    endif
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(z1, 'A2ZH')
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call UG8(GetEnumUnit())
        call TriggerRegisterTimerEvent(t, TA8 + 3, false)
        call TriggerRegisterDeathEvent(t, GetEnumUnit())
        call TriggerAddCondition(t, Condition(function ARV3))
        call SaveUnitHandle(R8, (EC8), (2), (z1))
        call SaveUnitHandle(R8, (EC8), (17), (GetEnumUnit()))
        set t = null
    endif
    set P99 = GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * (.2 + .1 * TA8) / 2
    call IssueTargetOrderById(Y1, 852075, GetEnumUnit())
    call V08(z1, GetEnumUnit(), AB4, P99)
    call V08(z1, GetEnumUnit(), AA94, P99)
endfunction
function MJH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local real x0 = (LoadReal(R8, (EC8), (282)))
    local real y0 = (LoadReal(R8, (EC8), (283)))
    local real a0 = (LoadReal(R8, (EC8), (341)))
    local integer i = 0
    local real x
    local real y
    local group g = OG8()
    local group ZZE = OG8()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A1A1')
    local integer VID = (LoadInteger(R8, (EC8), (34)))
    local integer ARJ3 = 'A1CE'
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(p5, 'A2ZH')
        set ARJ3 = 'A2ZI'
    endif
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set H04 = p5
    set z1 = p5
    set Y1 = CreateUnit(GetOwningPlayer(p5), 'e00E', x0, y0, 0)
    call O68(Y1, ARJ3)
    call SetUnitAbilityLevel(Y1, ARJ3, TA8)
    loop
        exitwhen i > VID
        set x = x0 + i * 200 * Cos(a0)
        set y = y0 + i * 200 * Sin(a0)
        call QH8("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl", x, y, 1.6)
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", x, y - 250))
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", x, y))
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", x + 250, y))
        call SC8(x, y, 300)
        call GroupEnumUnitsInRange(g, x, y, 325, Condition(function GenericCondition_EnemyUnitsEx))
        call BlzGroupAddGroupFast(g, ZZE)
        call GroupClear(g)
        set i = i + 1
    endloop
    set Z1 = x0
    set v2 = y0
    set TS4 = x
    set o2 = y
    call ForGroup(ZZE, function MIH)
    call OF8(ZZE)
    call OF8(g)
    set ZZE = null
    set g = null
    set t = null
    set p5 = null
    return false
endfunction
function MKH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real x0 = (LoadReal(R8, (EC8), (282)))
    local real y0 = (LoadReal(R8, (EC8), (283)))
    local real a0
    local real MMH
    local real MNH
    local real MOH
    local real MPH
    local real MQH
    local real MRH
    local real MSH
    local real MTH
    local real MUH
    local real MVH
    local real MWH
    local real MXH
    local real x
    local real y
    local ubersplat BHG
    local integer P89 = GetTriggerEvalCount(t)
    local integer VID = (LoadInteger(R8, (EC8), (34)))
    set x = x0 + 200 * P89 * Cos(a)
    set y = y0 + 200 * P89 * Sin(a)
    set BHG = CreateUbersplat(x, y, "THNE", 255, 255, 255, 255, false, false)
    call SetUbersplatRenderAlways(BHG, true)
    set MMH = x + 250 * Cos(bj_DEGTORAD * (a * bj_RADTODEG - 45))
    set MNH = y + 250 * Sin(bj_DEGTORAD * (a * bj_RADTODEG - 45))
    set MOH = x + 250 * Cos(bj_DEGTORAD * (a * bj_RADTODEG + 45))
    set MPH = y + 250 * Sin(bj_DEGTORAD * (a * bj_RADTODEG + 45))
    set MQH = x - 125 * Cos(bj_DEGTORAD * (a * bj_RADTODEG - 45))
    set MRH = y - 125 * Sin(bj_DEGTORAD * (a * bj_RADTODEG - 45))
    set MSH = x - 125 * Cos(bj_DEGTORAD * (a * bj_RADTODEG + 45))
    set MTH = y - 125 * Sin(bj_DEGTORAD * (a * bj_RADTODEG + 45))
    set MUH = x
    set MVH = y
    set MWH = x
    set MXH = y
    call S18(GetOwningPlayer(p5), 4, x, y, 500)
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", MMH, MNH))
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", MOH, MPH))
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", MQH, MRH))
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", MSH, MTH))
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", MUH, MVH))
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", MWH, MXH))
    if GetTriggerEvalCount(t) > VID then
        set x0 = (LoadReal(R8, (EC8), (282)))
        set y0 = (LoadReal(R8, (EC8), (283)))
        set a0 = (LoadReal(R8, (EC8), (341)))
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .5, false)
        call TriggerAddCondition(t, Condition(function MJH))
        call SaveUnitHandle(R8, (EC8), (2), (p5))
        call SaveReal(R8, (EC8), (282), (x0))
        call SaveReal(R8, (EC8), (283), (y0))
        call SaveReal(R8, (EC8), (341), (a0))
        call SaveInteger(R8, (EC8), (34), (VID))
    endif
    set t = null
    set p5 = null
    return false
endfunction
function MYH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(p5), x - GetUnitX(p5))
    local integer VID = 11
    call TriggerRegisterTimerEvent(t, .22, true)
    call TriggerAddCondition(t, Condition(function MKH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    call SaveReal(R8, (EC8), (137), (a))
    call SaveReal(R8, (EC8), (282), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (283), (GetUnitY(p5)))
    call SaveReal(R8, (EC8), (341), (a))
    call SaveInteger(R8, (EC8), (34), (VID))
    call RemoveLocation(l)
    set l = null
    set t = null
    set p5 = null
endfunction
function MZH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1A1' or GetSpellAbilityId() == 'A2ZH' then
        call MYH()
    endif
    return false
endfunction
function GR9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MZH))
    set t = null
endfunction
function MAH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call UnitRemoveAbility(Z77, 'A2NI')
    call UnitAddAbility(Z77, 'A2NI')
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function MBH takes unit Z77 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function MAH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
endfunction
function MCH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    call DestroyEffect((LoadEffectHandle(R8, (EC8), (32))))
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    call W78(p5, 0)
    set t = null
    set p5 = null
    return false
endfunction
function M3H takes unit Z77, unit Q89, unit M6H, integer MLH, integer M1H returns nothing
    local trigger t
    local integer W57
    local unit AC7
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", Q89, "chest"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", Z77, "chest"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", Z77, "origin"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", Z77, "hand,left"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", Z77, "hand,right"))
    call ShowUnit(Q89, false)
    call KillUnit(Q89)
    call KillUnit(M6H)
    if GetPlayerController(GetOwningPlayer(Z77)) == MAP_CONTROL_COMPUTER then
        call RemoveSavedHandle(R8, GetHandleId(Z77), StringHash("AI|AncestralCharge"))
    endif
    call SaveInteger(R8, (GetHandleId((Z77))), ((4270)), (2))
    if M1H > 0 or MLH > 0 then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 9.1, false)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function MCH))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        call O68(AC7, 'A1G9')
        call SetUnitAbilityLevel(AC7, 'A1G9', M1H)
        call IssueTargetOrderById(AC7, 852101, Z77)
        call W78(Z77, MLH)
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\RadianceHands.mdx", Z77, "weapon")))
    endif
    set t = null
    set AC7 = null
endfunction
function M0H takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), M1) == false then
        if IsUnitIllusion(GetEnumUnit()) == false then
            if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
                set TP4 = TP4 + (TO4 * 10)
                set TQ4 = TQ4 + 5
            else
                set TP4 = TP4 + (TO4 * 3 + 3)
                set TQ4 = TQ4 + 1
            endif
        endif
        call GroupAddUnit(M1, GetEnumUnit())
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", GetEnumUnit(), "chest"))
        set w1 = true
        set W1 = true
        call V08(TM4, GetEnumUnit(), AB4, TN4)
        set w1 = false
        set W1 = false
    endif
endfunction
function M5H takes real M2H, real M_H, real N4H, real N7H, real N8H, real N9H returns real
    local real NDH
    local real NEH
    local real NFH
    local real NGH
    local real NHH
    local real NIH
    local real NJH
    local real REFLECTED_SCALED_V_X
    local real REFLECTED_SCALED_V_Y
    local real NKH
    local real NMH
    local real NNH
    local real NOH
    local real NPH
    local real NQH
    local real NRH
    local real NSH
    set NNH = N4H - N8H
    set NOH = N7H - N9H
    set NPH =- 1 * NOH
    set NQH = NNH
    set NRH = SquareRoot(NPH * NPH + NQH * NQH)
    set NPH = NPH / NRH
    set NQH = NQH / NRH
    set NDH = M2H - N4H
    set NEH = M_H - N7H
    set NFH = SquareRoot(NDH * NDH + NEH * NEH)
    set NGH = NDH / NFH
    set NHH = NEH / NFH
    set NSH = NDH * NPH + NEH * NQH
    set NIH =- 1 * M2H + 2 * N4H + 2 * NPH * NSH
    set NJH =- 1 * M_H + 2 * N7H + 2 * NQH * NSH
    set NKH = N8H + N4H - NIH
    set NMH = N9H + N7H - NJH
    return NKH
endfunction
function NTH takes real M2H, real M_H, real N4H, real N7H, real N8H, real N9H returns real
    local real NDH
    local real NEH
    local real NFH
    local real NGH
    local real NHH
    local real NIH
    local real NJH
    local real REFLECTED_SCALED_V_X
    local real REFLECTED_SCALED_V_Y
    local real NKH
    local real NMH
    local real NNH
    local real NOH
    local real NPH
    local real NQH
    local real NRH
    local real NSH
    set NNH = N4H - N8H
    set NOH = N7H - N9H
    set NPH =- 1 * NOH
    set NQH = NNH
    set NRH = SquareRoot(NPH * NPH + NQH * NQH)
    set NPH = NPH / NRH
    set NQH = NQH / NRH
    set NDH = M2H - N4H
    set NEH = M_H - N7H
    set NFH = SquareRoot(NDH * NDH + NEH * NEH)
    set NGH = NDH / NFH
    set NHH = NEH / NFH
    set NSH = NDH * NPH + NEH * NQH
    set NIH =- 1 * M2H + 2 * N4H + 2 * NPH * NSH
    set NJH =- 1 * M_H + 2 * N7H + 2 * NQH * NSH
    set NKH = N8H + N4H - NIH
    set NMH = N9H + N7H - NJH
    return NMH
endfunction
function NUH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit Q89 = (LoadUnitHandle(R8, (W57), (335)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local real x0 = (LoadReal(R8, (W57), (282)))
    local real y0 = (LoadReal(R8, (W57), (283)))
    local real x1 = GetUnitX(Z77)
    local real y1 = GetUnitY(Z77)
    local real x2 = GetUnitX(Q89)
    local real y2 = GetUnitY(Q89)
    local real x3
    local real y3
    local real a
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g
    local real d
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1A8')
    local real NVH = (LoadReal(R8, (W57), (342)))
    local real PX9 = (TimerGetElapsed(E4))
    call SetUnitX(AC7, GetUnitX(Q89))
    call SetUnitY(AC7, GetUnitY(Q89))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call ShowUnit(Q89, false)
        call KillUnit(Q89)
        call KillUnit(AC7)
        if GetPlayerController(GetOwningPlayer(Z77)) == MAP_CONTROL_COMPUTER then
            call RemoveSavedHandle(R8, GetHandleId(Z77), StringHash("AI|AncestralCharge"))
        endif
        call SaveInteger(R8, (GetHandleId((Z77))), ((4270)), (2))
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1A8' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1A8', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2NI', false)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A2NI' then
            call IssueImmediateOrderById(Q89, 851972)
            call SaveBoolean(R8, (W57), (249), (true))
            call SetUnitAnimationByIndex(Q89, 3)
            call MBH(GetTriggerUnit())
        elseif GetSpellAbilityId() == 'A2LK' then
            if IssueImmediateOrderById(Z77, 852581)then
                call UnitRemoveAbility(Q89, 'A2LK')
            endif
        endif
        if GetPlayerController(GetOwningPlayer(Z77)) == MAP_CONTROL_COMPUTER then
            call RemoveSavedHandle(R8, GetHandleId(Z77), StringHash("AI|AncestralCharge"))
        endif
    elseif Z87(x1, y1, x2, y2) < 100 then
        call M3H(Z77, Q89, AC7, (LoadInteger(R8, (W57), (344))), (LoadInteger(R8, (W57), (345))))
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1A8' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1A8', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2NI', false)
    elseif GetTriggerEvalCount(t) > 400 or(LoadBoolean(R8, (W57), (249))) then
        call O68(Q89, 'Aloc')
        if GetTriggerEvalCount(t) == 401 and(LoadBoolean(R8, (W57), (249))) == false then
            call IssueImmediateOrderById(Q89, 851972)
            call SetUnitAnimationByIndex(Q89, 3)
        endif
        set g = OG8()
        set TO4 = ML8
        set TP4 = (LoadInteger(R8, (W57), (344)))
        set TQ4 = (LoadInteger(R8, (W57), (345)))
        set TN4 = 30 + 30 * ML8
        set TM4 = Z77
        set H04 = Z77
        set M1 = XCD
        call GroupEnumUnitsInRange(g, GetUnitX(Q89), GetUnitY(Q89), 300, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g, function M0H)
        call OF8(g)
        set g = null
        call SaveInteger(R8, (W57), (344), (TP4))
        call SaveInteger(R8, (W57), (345), (TQ4))
        if((LoadInteger(R8, (GetHandleId((Z77))), ((4269)))) == 1) == false then
            set a = Atan2(y1 - y2, x1 - x2)
            call SetUnitFacing(Q89, a * bj_RADTODEG)
            set x3 = GetUnitX(Q89) + 12 * Cos(a)
            set y3 = GetUnitY(Q89) + 12 * Sin(a)
            call SetUnitX(Q89, PQ8(x3))
            call SetUnitY(Q89, PS8(y3))
            call SaveReal(R8, (W57), (282), (x1))
            call SaveReal(R8, (W57), (283), (y1))
        endif
    else
        call SetUnitMoveSpeed(Q89, GetUnitMoveSpeed(Z77))
        call UnitRemoveAbility(Q89, 'Aloc')
        set g = OG8()
        set TO4 = ML8
        set TP4 = (LoadInteger(R8, (W57), (344)))
        set TQ4 = (LoadInteger(R8, (W57), (345)))
        set TN4 = 30 + 30 * ML8
        set TM4 = Z77
        set H04 = Z77
        set M1 = XCD
        call GroupEnumUnitsInRange(g, GetUnitX(Q89), GetUnitY(Q89), 300, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function M0H)
        call OF8(g)
        set g = null
        call SaveInteger(R8, (W57), (344), (TP4))
        call SaveInteger(R8, (W57), (345), (TQ4))
        if x0 != x1 or y0 != y1 then
            set NVH = PX9
            call SaveReal(R8, (W57), (342), (NVH))
        endif
        if((LoadInteger(R8, (GetHandleId((Z77))), ((4269)))) == 1) == false then
            if NVH == PX9 then
                set x3 = M5H(x0, y0, x1, y1, x2, y2)
                set y3 = NTH(x0, y0, x1, y1, x2, y2)
                set a = Atan2(y3 - y2, x3 - x2) * bj_RADTODEG
                call SaveReal(R8, (W57), (282), (x1))
                call SaveReal(R8, (W57), (283), (y1))
            endif
            if(NVH + .3) < PX9 then
                call SaveInteger(R8, (W57), (343), (1))
            elseif(NVH + .3) > PX9 and(LoadInteger(R8, (W57), (343))) == 1 then
                call SaveInteger(R8, (W57), (343), (2))
            elseif(LoadInteger(R8, (W57), (343))) == 3 then
                call SaveInteger(R8, (W57), (343), (1))
            endif
        else
            call SaveInteger(R8, (W57), (343), (3))
        endif
    endif
    set t = null
    set Z77 = null
    set Q89 = null
    set XCD = null
    set AC7 = null
    return false
endfunction
function NWH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x0 = GetUnitX(Z77)
    local real y0 = GetUnitY(Z77)
    local location l = GetSpellTargetLoc()
    local real lx = GetLocationX(l)
    local real ly = GetLocationY(l)
    local real a = Atan2(ly - y0, lx - x0)
    local real d = RMaxBJ(Z87(x0, y0, lx, ly), 300)
    local real x1 = PQ8(x0 + d * Cos(a))
    local real y1 = PS8(y0 + d * Sin(a))
    local unit Q89 = CreateUnit(GetOwningPlayer(Z77), 'h07U', x1, y1, (a * bj_RADTODEG) - 180)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'o021', x1, y1, (a * bj_RADTODEG) - 180)
    call SetUnitMoveSpeed(Q89, GetUnitMoveSpeed(Z77))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", Q89, "chest"))
    if GetUnitAbilityLevel(Z77, 'A1CD') > 0 then
        call O68(Q89, 'A1CQ')
    endif
    if GetUnitAbilityLevel(Z77, 'A1AA') == 0 then
        call UnitRemoveAbility(Q89, 'A2LK')
    endif
    call UnitAddAbility(Z77, 'A2NI')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1A8', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2NI', true)
    call RemoveLocation(l)
    set TR4[GetPlayerId(GetOwningPlayer(Z77))] = Q89
    call SaveInteger(R8, (GetHandleId((Z77))), ((4270)), (1))
    call O68(Q89, 'Avul')
    call O68(Q89, 'Aetl')
    if(LoadBoolean(R8, (GetHandleId(Z77)), (339))) then
        call TriggerEvaluate((LoadTriggerHandle(R8, (W57), (338))))
    endif
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, Q89, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NUH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (335), (Q89))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveReal(R8, (W57), (282), (x0))
    call SaveReal(R8, (W57), (283), (y0))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call SaveInteger(R8, (W57), (343), (2))
    call SaveReal(R8, (W57), (342), ((TimerGetElapsed(E4)) - 5.))
    call SaveBoolean(R8, (W57), (249), (false))
    // if GetPlayerController(GetOwningPlayer(Z77)) == MAP_CONTROL_COMPUTER then
    //     call DU8(GetHandleId(Z77), "AI|AncestralCharge", Q89)
    //     call DQ8(GetHandleId(Z77), "AI|AncestralCharge|hTrig", W57)
    // endif
    set t = null
    set l = null
    set Z77 = null
    set Q89 = null
    set AC7 = null
endfunction
function NXH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1A8' then
        call NWH()
    endif
    return false
endfunction
function GS9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NXH))
    call PU8('A1G9')
    set t = null
endfunction
function NCH takes item Y98, unit Z77, boolean TBE returns nothing
    local integer TS9 = ZU7(Y98)
    local integer W57 = GetHandleId(Z77)
    local string s = ""
    if(TS9 == NW and AU7(Z77, NW, Y98) == null)or(TS9 == OW and AU7(Z77, OW, Y98) == null)then
        if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(Z77)) or N08(GetLocalPlayer())then
            set s = EE7
        endif
        if TBE then
            if XYF(Z77) > 0 or GetItemType(Y98) == ITEM_TYPE_PERMANENT or GetItemType(Y98) == ITEM_TYPE_CAMPAIGN then
                if GetUnitAbilityLevel(Z77, 'A26A') == 0 and GetUnitAbilityLevel(Z77, 'A26B') == 0 then
                    if s == EE7 then
                        call O68(Z77, 'A26A')
                    else
                        call O68(Z77, 'A26B')
                    endif
                endif
            endif
        else
            if not(GetUnitAbilityLevel(Z77, 'A26A') == 0 and GetUnitAbilityLevel(Z77, 'A26B') == 0)then
                call UnitRemoveAbility(Z77, 'A26B')
                call UnitRemoveAbility(Z77, 'A26A')
                call RemoveSavedHandle(R8, (W57), (670))
            endif
        endif
    endif
endfunction
function N3H takes nothing returns boolean
    local unit p5 = GetTriggerUnit()
    local item Y98 = GetManipulatedItem()
    local integer id = GetItemTypeId(Y98)
    if Y98 == null or IsUnitIllusion(p5) or IsUnitType(p5, UNIT_TYPE_HERO) == false or XC8(GetUnitTypeId(p5))or IsRuneOrDummyItem(GetItemTypeId(Y98)) then
        set p5 = null
        set Y98 = null
        return false
    endif
    if(GetTriggerEventId() == EVENT_PLAYER_UNIT_DROP_ITEM and GetItemType(Y98) != ITEM_TYPE_PURCHASABLE)or GetTriggerEventId() == EVENT_PLAYER_UNIT_PAWN_ITEM then
        call NCH(Y98, p5, false)
        call X48("DRI_" + I2S(GetPlayerId(GetOwningPlayer(p5))), BU[TJ9(ZU7(Y98))])
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
        call NCH(Y98, p5, true)
        call X48("PUI_" + I2S(GetPlayerId(GetOwningPlayer(p5))), BU[TJ9(ZU7(Y98))])
    endif
    set p5 = null
    set Y98 = null
    return false
endfunction
function OXH takes nothing returns nothing
    local unit O4D = GetTriggerUnit()
    local player E5D = GetOwningPlayer(O4D)
    local real x
    local real y
    local integer YX8
    set IH4[GetPlayerId(E5D)] = false
    set HA4[GetPlayerId(GetOwningPlayer((O4D)))] = false
    if KN8(GetOwningPlayer(O4D))then
        set x = GetRectCenterX(QD)
        set y = GetRectCenterY(QD)
    else
        set x = GetRectCenterX(PD)
        set y = GetRectCenterY(PD)
    endif
    if HC7 then
        set AAYS[GetPlayerId(E5D)] = R2I(TimerGetRemaining(L[GetPlayerId(E5D)]) * 0.25)
        set AAJS[GetPlayerId(E5D)] = (TimerGetElapsed(E4)) + TimerGetRemaining(L[GetPlayerId(E5D)])
    else
        set AAYS[GetPlayerId(E5D)] = 0
    endif
    call TimerStart(L[GetPlayerId(E5D)], .0, false, null)
    if YU8(O4D)then
        call Y18(O4D)
    else
        call YS8(O4D, E5D, x, y, false)
    endif
    call SetUnitX(O4D, x)
    call SetUnitY(O4D, y)
    call YP8(O4D)
    call SetUnitPathing(O4D, true)
    if GetUnitTypeId(O4D) != 'H00J' and AV7(O4D, BU[E2]) != null then
        set YX8 = (R2I(((GetItemCharges(AV7(O4D, BU[E2])) * .67) * 1.)))
        if GetItemCharges(AV7(O4D, BU[E2])) == 1 then
            set YX8 = 0
        endif
        call SetItemCharges(AV7(O4D, BU[E2]), YX8)
        call AddHeroXP(O4D, GetHeroXP(OX4[GetPlayerId(GetOwningPlayer(O4D))]), true)
        call RemoveUnit(OX4[GetPlayerId(GetOwningPlayer(O4D))])
    endif
    set O4D = null
    set E5D = null
endfunction
function OYH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = (LoadInteger(R8, (GetHandleId(X77)), (627)))
    local real OZH = (LoadReal(R8, (GetHandleId(X77)), (628)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1S4')
    local real P08 = (5 + ML8 * 15) * Pow(2, IMinBJ(C77, 5) - 1)
    set P08 = P08 + IMaxBJ(C77 - 5, 0) * 50
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if IsUnitType(X77, UNIT_TYPE_HERO) then
        endif
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveInteger(R8, (GetHandleId(X77)), (627), (0))
        call SaveReal(R8, (GetHandleId(X77)), (628), ((0) * 1.))
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A1S9' then
            if IsUnitType(X77, UNIT_TYPE_HERO) then
            endif
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call SaveInteger(R8, (GetHandleId(X77)), (627), (0))
            call SaveReal(R8, (GetHandleId(X77)), (628), ((0) * 1.))
            if((LoadInteger(R8, (GetHandleId((X77))), ((4293)))) == 1)then
                call SetUnitInvulnerable(X77, false)
            endif
            call V08(Z77, X77, AB4, P08)
            if((LoadInteger(R8, (GetHandleId((X77))), ((4293)))) == 1)then
                call SetUnitInvulnerable(X77, true)
            endif
            call QM8(I2S(R2I(P08)) + "!", 2, X77, .025, 100, 0, 200, 216)
        endif
    elseif(TimerGetElapsed(E4)) > OZH then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        if IsUnitType(X77, UNIT_TYPE_HERO) then
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveInteger(R8, (GetHandleId(X77)), (627), (0))
        call SaveReal(R8, (GetHandleId(X77)), (628), ((0) * 1.))
        if((LoadInteger(R8, (GetHandleId((X77))), ((4293)))) == 1)then
            call SetUnitInvulnerable(X77, false)
        endif
        call V08(Z77, X77, AB4, P08)
        if((LoadInteger(R8, (GetHandleId((X77))), ((4293)))) == 1)then
            call SetUnitInvulnerable(X77, true)
        endif
        call QM8(I2S(R2I(P08)) + "!", 2, X77, .025, 100, 0, 200, 216)
    else
        if IsUnitType(X77, UNIT_TYPE_HERO) then
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function OAH takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1S4')
    local unit S08
    if(LoadInteger(R8, (GetHandleId(X77)), (627))) > 0 then
        call SaveInteger(R8, (GetHandleId(X77)), (627), ((LoadInteger(R8, (GetHandleId(X77)), (627))) + 1))
        call SaveReal(R8, (GetHandleId(X77)), (628), ((TimerGetElapsed(E4)) + 10))
    else
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        if IsUnitType(X77, UNIT_TYPE_HERO) then
        endif
        call SaveInteger(R8, (GetHandleId(X77)), (627), (1))
        if IsUnitType(X77, UNIT_TYPE_HERO) then
            call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl", X77, "chest")))
        else
            call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl", X77, "origin")))
        endif
        call SaveReal(R8, (GetHandleId(X77)), (628), ((TimerGetElapsed(E4)) + 10.))
        call TriggerRegisterTimerEvent(t, .05, true)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function OYH))
        set S08 = null
    endif
    call QM8("+" + I2S((LoadInteger(R8, (GetHandleId(X77)), (627)))), 3, X77, .025, 100, 0, 200, 216)
    call V08(Z77, X77, AB4, 50)
    set t = null
    set S08 = null
endfunction
function OBH takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), WP4) == false then
        call GroupAddUnit(WP4, GetEnumUnit())
        call OAH(WO4, GetEnumUnit())
    endif
endfunction
function OCH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local integer O3H = GetTriggerEvalCount(t)
    local real a = (LoadReal(R8, (W57), (137)))
    local real x = PQ8(GetUnitX(S08) + 20. * Cos(a))
    local real y = PS8(GetUnitY(S08) + 20. * Sin(a))
    local group O6H = (LoadGroupHandle(R8, (W57), (133)))
    local group g
    if O3H >= 75 then
        call OF8(O6H)
        call KillUnit(S08)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call SetUnitX(S08, x)
        call SetUnitY(S08, y)
        set g = OG8()
        set H04 = Z77
        set WO4 = Z77
        set WP4 = O6H
        call GroupEnumUnitsInRange(g, x, y, 190 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmuneWithAncient))
        call ForGroup(g, function OBH)
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    set S08 = null
    set O6H = null
    return false
endfunction
function OLH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), x, y) * bj_DEGTORAD
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0C2', GetUnitX(Z77), GetUnitY(Z77), a * bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function OCH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveReal(R8, (W57), (137), (a))
    call SaveGroupHandle(R8, (W57), (133), (OG8()))
    call O68(Z77, 'A1S9')
    set t = null
    set Z77 = null
    set S08 = null
endfunction
function O1H takes nothing returns boolean
    if GetSpellAbilityId() == 'A1S4' then
        call OLH()
    endif
    return false
endfunction
function HD9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function O1H))
    set t = null
endfunction
function O0H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit O5H = GetSummonedUnit()
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_SUMMON then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetUnitAbilityLevel(O5H, 'B0DA') > 0 and GetOwningPlayer(GetSummoningUnit()) == GetOwningPlayer(Z77)then
        if IsUnitAlly(X77, GetOwningPlayer(Z77)) == true then
            call SelectUnitAddForPlayer(O5H, GetOwningPlayer(Z77))
        else
            call IssueTargetOrderById(O5H, 851983, X77)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set O5H = null
    return false
endfunction
function O2H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
    call SaveInteger(R8, (GetHandleId((X77))), ((4293)), (2))
    call SetUnitInvulnerable(X77, false)
    call PauseUnit(X77, false)
    call ShowUnit(X77, true)
    call RemoveSavedHandle(R8, (GetHandleId(X77)), (673))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if GetTriggerEventId() != EVENT_UNIT_DEATH then
        call ClearSelectionForPlayer(GetOwningPlayer(X77))
        call SelectUnitAddForPlayer(X77, GetOwningPlayer(X77))
        call S68(WM4, GetUnitX(X77), GetUnitY(X77))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 3, false)
        call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
        call TriggerAddCondition(t, Condition(function O0H))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call O68(AC7, 'A1S5')
        call SetUnitAbilityLevel(AC7, 'A1S5', GetUnitAbilityLevel(Z77, 'A1S8'))
        call IssueTargetOrderById(AC7, 852274, X77)
        call IssueTargetOrderById(AC7, 852274, X77)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
    return false
endfunction
function O_H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1S8')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'o019', GetUnitX(X77), GetUnitY(X77), 0)
    call UnitApplyTimedLife(AC7, 'BTLF', 2.6)
    if IsUnitAlly(X77, GetOwningPlayer(Z77)) == false then
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'o019', GetUnitX(X77), GetUnitY(X77), 0)
        call UnitApplyTimedLife(AC7, 'BTLF', 2.6)
    endif
    call SetUnitInvulnerable(X77, true)
    call PauseUnit(X77, true)
    call ShowUnit(X77, false)
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("war3mapImported\\WILLTHEALMIGHTY-Void5.mdx", GetUnitX(X77), GetUnitY(X77))))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call TriggerRegisterTimerEvent(t, 2.5, false)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function O2H))
    call SaveUnitHandle(R8, (GetHandleId(Z77)), (673), (X77))
    call SaveInteger(R8, (GetHandleId((X77))), ((4293)), (1))
    set Z77 = null
    set X77 = null
    set t = null
    set AC7 = null
endfunction
function P4H takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A1S8' and(IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == true or OE8(GetSpellTargetUnit()) == false)then
            call O_H()
        endif
    else
        if GetSpellAbilityId() == 'A1S8' and GetSpellTargetUnit() != GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == true and(LoadBoolean(R8, (GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))), (139)))then
            call ZN7(GetTriggerUnit())
            call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
        endif
    endif
    return false
endfunction
function HE9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function P4H))
    set t = null
endfunction
function P7H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1SB')
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        // call DU8(GetHandleId(Z77), "AI|SoulCatcherTgt", null)
    elseif GetEventDamage() > 5 then
        call DisableTrigger(t)
        call V08(GetEventDamageSource(), GetTriggerUnit(), A34, (.1 + .1 * ML8) * GetEventDamage())
        call EnableTrigger(t)
    endif
    set Z77 = null
    set t = null
    return false
endfunction
function P8H takes nothing returns nothing
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local group g = OG8()
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1SB')
    local unit X77
    local trigger t
    local integer W57
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 475, Condition(function GenericCondition_EnemyUnitsExNoImmune))
    set X77 = (LoadUnitHandle(R8, (GetHandleId(Z77)), (673)))
    if X77 != null then
        if Z87(GetUnitX(X77), GetUnitY(X77), x, y) < 475 and IsUnitEnemy(X77, GetOwningPlayer(Z77)) then
            call GroupAddUnit(g, X77)
        endif
    endif
    set X77 = GroupPickRandomUnit(g)
    call OF8(g)
    call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx", x, y))
    if X77 != null then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
        call TriggerRegisterTimerEvent(t, 12, false)
        call TriggerAddCondition(t, Condition(function P7H))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\void.mdx", X77, "chest")))
        if IsUnitType(X77, UNIT_TYPE_HERO)then
            // call E68(X77, "AI|SoulCatcher", 12)
            // call DU8(GetHandleId(Z77), "AI|SoulCatcherTgt", X77)
        endif
    endif
    set g = null
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function P9H takes nothing returns boolean
    if GetSpellAbilityId() == 'A1SB' then
        call P8H()
    endif
    return false
endfunction
function HF9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P9H))
    set t = null
endfunction
function PDH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer O3H = GetTriggerEvalCount(t)
    local integer ML8
    if O3H == 5 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if((LoadInteger(R8, (GetHandleId((X77))), ((4293)))) == 1)then
            call SetUnitInvulnerable(X77, false)
        endif
        set ML8 = GetUnitAbilityLevel(Z77, 'A2XI')
        if ML8 == 0 then
            set ML8 = GetUnitAbilityLevel(Z77, 'A1SA')
            call Break(Z77, X77, 2.)
        endif
        call V08(Z77, X77, AB4, 4 * (25 + 25 * ML8))
        if((LoadInteger(R8, (GetHandleId((X77))), ((4293)))) == 1)then
            call SetUnitInvulnerable(X77, true)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function PEH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function PDH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call TriggerEvaluate(t)
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function PFH takes nothing returns boolean
    if (GetSpellAbilityId() == 'A1SA' or GetSpellAbilityId() == 'A2XI') and IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) and OE8(GetSpellTargetUnit()) == false then
        call PEH()
    endif
    return false
endfunction
function AMG5 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local integer YLE = (LoadInteger(R8, (GetHandleId(p5)), (826)))
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2XE')
    if YLE > 0 then
        call UnitAddAbility(oA, 'A1SA')
        call SetUnitAbilityLevel(oA, 'A1SA', TA8)
        call IssueTargetOrder(oA, "purge", target)
        call UnitRemoveAbility(p5, AXEI[YLE])
        set YLE = YLE - 1
        call SaveInteger(R8, (GetHandleId(p5)), (826), (YLE))
        call O68(p5, AXEI[YLE])
    endif
    set p5 = null
    set target = null
    set oA = null
endfunction
function AMH5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local integer YLE = (LoadInteger(R8, (GetHandleId(p5)), (826)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    if YLE < 3 then
        set C77 = C77 - 1
        call SaveInteger(R8, (EC8), (34), (C77))
        if C77 == 0 then
            call UnitRemoveAbility(p5, AXEI[YLE])
            set C77 = 40
            call SaveInteger(R8, (EC8), (34), (C77))
            set YLE = YLE + 1
            call SaveInteger(R8, (GetHandleId(p5)), (826), (YLE))
            call O68(p5, AXEI[YLE])
        endif
    endif
    set t = null
    set p5 = null
    return false
endfunction
function AMZ5 takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2XE')
    local trigger t
    local integer EC8
    local integer AMV5 = GetUnitAbilityLevel(p5, AXEI[0])
    local integer AMW5 = GetUnitAbilityLevel(p5, AXEI[1])
    local integer AMX5 = GetUnitAbilityLevel(p5, AXEI[2])
    local integer AMY5 = GetUnitAbilityLevel(p5, AXEI[3])
    if TA8 == 0 then
        set TA8 = GetUnitAbilityLevel(p5, 'A2XI')
    endif
    if (AV7(p5, BU[AL30]) != null or GetUnitAbilityLevel(p5, 'A3E7') > 0)then
        if TA8 > 0 and(AMV5 + AMW5 + AMX5 + AMY5) == 0 then
            call UnitRemoveAbility(p5, 'A1SA')
            set t = CreateTrigger()
            set EC8 = GetHandleId(t)
            call SaveInteger(R8, (GetHandleId(p5)), (826), (3))
            call O68(p5, AXEI[3])
            call TriggerRegisterTimerEvent(t, 1, true)
            call TriggerAddCondition(t, Condition(function AMH5))
            call SaveUnitHandle(R8, (EC8), (2), (p5))
            call SaveInteger(R8, (EC8), (34), (40))
            set t = null
        endif
    else
        if TA8 > 0 then
            call O68(p5, 'A1SA')
            call SetUnitAbilityLevel(p5, 'A1SA', TA8)
        endif
    endif
    set p5 = null
endfunction
function AMJ5 takes nothing returns boolean
    if GetTriggerEventId() == EVENT_PLAYER_HERO_SKILL then
        if(GetLearnedSkill() == 'A2XI' or GetLearnedSkill() == 'A2XE')and IsUnitIllusion(GetTriggerUnit()) == false then
            call AMZ5()
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
        if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and IsEnabledItem(GetManipulatedItem(), AL30) then
            call AMZ5()
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if(GetSpellAbilityId() == AXEI[0]or GetSpellAbilityId() == AXEI[1]or GetSpellAbilityId() == AXEI[2]or GetSpellAbilityId() == AXEI[3])and IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == true and OE8(GetSpellTargetUnit()) == false then
            call AMG5()
        endif
    endif
    return false
endfunction
function HG9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PFH))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AMJ5))
    set AXEI[0] = 'A2XH'
    set AXEI[1] = 'A2XC'
    set AXEI[2] = 'A2XB'
    set AXEI[3] = 'A2Y4'
    set t = null
endfunction
function PGH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer O3H = GetTriggerEvalCount(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call UnitRemoveAbility(Z77, 'A1SP')
    set t = null
    set Z77 = null
    return false
endfunction
function PHH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call O68(Z77, 'A1SP')
    call UnitMakeAbilityPermanent(Z77, true, 'A1SP')
    call SetUnitAbilityLevel(Z77, 'A1SP', GetUnitAbilityLevel(Z77, 'A1SO'))
    call TriggerRegisterTimerEvent(t, 3, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PGH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function PIH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1SO' then
        call PHH()
    endif
    return false
endfunction
function HH9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PIH))
    set t = null
endfunction
function PJH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer C77 = GetTriggerEvalCount(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local real x
    local real y
    local real d
    local real PKH
    local real PND = (LoadReal(R8, (W57), (23)))
    local real POD = (LoadReal(R8, (W57), (24)))
    local real a = YI7(PND, POD, GetUnitX(X77), GetUnitY(X77)) * bj_DEGTORAD
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1SQ')
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitShareVision(S08, GetOwningPlayer(X77), false)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if GetTriggerUnit() != S08 then
            call KillUnit(S08)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        call UnitRemoveBuffs(S08, true, true)
    elseif C77 < 3 / .02 then
        call SetUnitFacing(S08, a * bj_RADTODEG)
    else
        if C77 == 4 / .02 then
            call UnitShareVision(S08, GetOwningPlayer(X77), true)
        endif
        call SetUnitFacing(S08, a * bj_RADTODEG)
        set x = PND + (280 + VL4 * C77 * .02) * .02 * Cos(a)
        set y = POD + (280 + VL4 * C77 * .02) * .02 * Sin(a)
        call SetUnitPosition(S08, x, y)
        call SaveReal(R8, (W57), (23), ((x) * 1.))
        call SaveReal(R8, (W57), (24), ((y) * 1.))
        if Z87(x, y, GetUnitX(X77), GetUnitY(X77)) < 20 then
            set d = RMinBJ(Z87(x, y, (LoadReal(R8, (W57), (6))), (LoadReal(R8, (W57), (7)))), 1500)
            set PKH = d / 1500 * (125 * GetUnitAbilityLevel(Z77, 'A1SQ'))
            set PKH = RMaxBJ(PKH, 50)
            call KillUnit(S08)
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call V08(Z77, X77, AB4, PKH)
            call V18(Z77, X77, 2 + .2 * ML8)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set S08 = null
    return false
endfunction
function PMH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), GetUnitX(X77), GetUnitY(X77)) * bj_DEGTORAD
    local real x = PQ8(GetUnitX(Z77) + 150 * Cos(a))
    local real y = PS8(GetUnitY(Z77) + 150 * Sin(a))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1SQ')
    local unit S08
    local integer PNH
    local string POH = "effects\\Snipe Target.mdx"
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(Z77)) == false and N08(GetLocalPlayer()) == false then
        set POH = ""
    endif
    if ML8 == 1 then
        set PNH = 'h0CG'
    elseif ML8 == 2 then
        set PNH = 'h0C1'
    elseif ML8 == 3 then
        set PNH = 'h0CF'
    elseif ML8 == 4 then
        set PNH = 'h0CH'
    endif
    set S08 = CreateUnit(GetOwningPlayer(Z77), PNH, x, y, a * bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, S08, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, S08, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function PJH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveReal(R8, (W57), (6), ((GetUnitX(Z77)) * 1.))
    call SaveReal(R8, (W57), (7), ((GetUnitY(Z77)) * 1.))
    call SaveReal(R8, (W57), (23), ((GetUnitX(S08)) * 1.))
    call SaveReal(R8, (W57), (24), ((GetUnitY(S08)) * 1.))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget(POH, X77, "overhead")))
    set t = null
    set Z77 = null
    set X77 = null
    set S08 = null
endfunction
function PPH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1SQ' and OE8(GetSpellTargetUnit()) == false then
        call PMH()
    endif
    return false
endfunction
function HI9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PPH))
    call PU8('A0X6')
    set t = null
endfunction
function PQH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call UnitRemoveAbility(X77, 'A1SS')
    call UnitRemoveAbility(X77, 'B0DE')
    set t = null
    set X77 = null
    return false
endfunction
function PRH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    call UnitRemoveAbility(X77, 'A1T4')
    call UnitRemoveAbility(X77, 'B0DG')
    set t = null
    set X77 = null
    return false
endfunction
function PSH takes nothing returns nothing
    local trigger t
    local integer W57
    local integer ML8 = GetUnitAbilityLevel(VY4, 'A1T5')
    local boolean PPE = false
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(VY4, 'A235')
        set PPE = true
    endif
    if S_9(GetEnumUnit()) == false then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 2, false)
        call TriggerRegisterUnitEvent(t, GetEnumUnit(), EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function PQH))
        call SaveUnitHandle(R8, (W57), (17), (GetEnumUnit()))
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A1SS', false)
        call O68(GetEnumUnit(), 'A1SS')
    endif
    call V08(VY4, GetEnumUnit(), AB4, ML8 * 75 + 125)
    set t = null
endfunction
function PTH takes nothing returns nothing
    local trigger t
    local integer W57
    local integer ML8 = GetUnitAbilityLevel(VY4, 'A1T5')
    local boolean PPE = false
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(VY4, 'A235')
        set PPE = true
    endif
    if S_9(GetEnumUnit()) == false then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 4, false)
        call TriggerRegisterUnitEvent(t, GetEnumUnit(), EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function PRH))
        call SaveUnitHandle(R8, (W57), (17), (GetEnumUnit()))
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A1T4', false)
        call O68(GetEnumUnit(), 'A1T4')
    endif
    if PPE then
        call V08(VY4, GetEnumUnit(), AB4, ML8 * 50 + 50 + 75)
    else
        call V08(VY4, GetEnumUnit(), AB4, ML8 * 50 + 50)
    endif
    set t = null
endfunction
function PUH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local group g
    local integer O3H = GetTriggerEvalCount(t)
    local fogmodifier PVH = (LoadFogModifierHandle(R8, (W57), (42)))
    if O3H == 1 then
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx", Z77, "chest"))
    elseif O3H == 2 then
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx", Z77, "chest"))
    elseif O3H == 3 then
        call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx", x, y))
    elseif O3H == 4 then
        set g = OG8()
        set H04 = Z77
        set VY4 = Z77
        call GroupEnumUnitsInRange(g, x, y, 450 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmuneWithAncient))
        call ForGroup(g, function PSH)
        call OF8(g)
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl", x, y))
    elseif O3H == 5 then
        call DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx", x, y))
    elseif O3H == 6 then
        set g = OG8()
        set H04 = Z77
        set VY4 = Z77
        call GroupEnumUnitsInRange(g, x, y, 450 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmuneWithAncient))
        call ForGroup(g, function PTH)
        call OF8(g)
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl", x, y))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FogModifierStop(PVH)
        call DestroyFogModifier(PVH)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set g = null
    set PVH = null
    return false
endfunction
function PWH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local string s = ""
    local fogmodifier N4E = CreateFogModifierRadius(GetOwningPlayer(Z77), FOG_OF_WAR_VISIBLE, x, y, 350, true, true)
    call FogModifierStart(N4E)
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(Z77)) or N08(GetLocalPlayer())then
        set s = "war3mapImported\\CallDown_4.mdx"
    endif
    call TriggerRegisterTimerEvent(t, .1, false)
    call TriggerRegisterTimerEvent(t, .8, false)
    call TriggerRegisterTimerEvent(t, 1.6, false)
    call TriggerRegisterTimerEvent(t, 2, false)
    call TriggerRegisterTimerEvent(t, 3.6, false)
    call TriggerRegisterTimerEvent(t, 4, false)
    call TriggerAddCondition(t, Condition(function PUH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), ((x) * 1.))
    call SaveReal(R8, (W57), (7), ((y) * 1.))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect(s, x, y)))
    call SaveFogModifierHandle(R8, (W57), (42), (N4E))
    set t = null
    set Z77 = null
    set N4E = null
endfunction
function PXH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1T5' or GetSpellAbilityId() == 'A235' then
        call PWH()
    endif
    return false
endfunction
function HJ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PXH))
    set t = null
endfunction
function PYH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer KC8 = GetHandleId(t)
    local integer AUT3 = (LoadInteger(R8, (KC8), (375)))
    local unit Z77 = (LoadUnitHandle(R8, (KC8), (2)))
    local integer HQE
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == Z77 and(GetEventDamage() > 20 or IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE))then
            set HQE = (LoadInteger(R8, (AUT3), (34)))
            if HQE > 0 then
                call SaveInteger(R8, (AUT3), (34), (HQE + 1))
            endif
            call FlushChildHashtable(R8, KC8)
            call EA8(t)
        endif
    else
        call FlushChildHashtable(R8, KC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function PZH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if NJ8(Z77) == false then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(Z77, 'A237')
        call UnitAddAbility(Z77, 'A22B')
        call UnitRemoveAbility(Z77, 'A22B')
        if(AV7((Z77), BU[GK4]) != null)then
            call UnitAddAbility(Z77, 'A237')
        endif
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function PAH takes unit Z77 returns nothing
    local trigger t
    local integer KC8
    if NJ8(Z77) == false then
        call UnitRemoveAbility(Z77, 'A237')
        call UnitAddAbility(Z77, 'A22B')
        call UnitRemoveAbility(Z77, 'A22B')
        call DragonLancePostMorphDelay(Z77)
        if(AV7((Z77), BU[GK4]) != null)then
            call UnitAddAbility(Z77, 'A237')
        endif
    else
        set t = CreateTrigger()
        set KC8 = GetHandleId(t)
        call SaveUnitHandle(R8, (KC8), (2), (Z77))
        call TriggerRegisterTimerEvent(t, .1, true)
        call TriggerAddCondition(t, Condition(function PZH))
        set t = null
    endif
endfunction
function PBH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer KC8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (KC8), (2)))
    local integer C77 = (LoadInteger(R8, (KC8), (34)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A229')
    local integer AUT3 = KC8
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if IsUnitIllusion(GetAttacker()) == true and GetUnitAbilityLevel(GetAttacker(), 'A1TW') > 0 then
            call PAH(GetAttacker())
            call UnitRemoveAbility(GetAttacker(), 'A1TW')
        endif
        if GetAttacker() == Z77 then
            set C77 = C77 + 1
            if C77 > 3 + ML8 then
                call UnitRemoveAbility(Z77, 'A1TW')
                call UnitRemoveAbility(Z77, 'B0DJ')
                call PAH(Z77)
                call FlushChildHashtable(R8, KC8)
                call EA8(t)
            else
                set t = CreateTrigger()
                set KC8 = GetHandleId(t)
                call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
                call TriggerRegisterTimerEvent(t, 2, false)
                call TriggerAddCondition(t, Condition(function PYH))
                call SaveUnitHandle(R8, (KC8), (2), (Z77))
                call SaveInteger(R8, (KC8), (375), (AUT3))
            endif
        endif
    else
        call UnitRemoveAbility(Z77, 'A1TW')
        call UnitRemoveAbility(Z77, 'B0DJ')
        call PAH(Z77)
        call FlushChildHashtable(R8, KC8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function P6H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer KC8 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 15, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function PBH))
    call SaveUnitHandle(R8, (KC8), (2), (Z77))
    call SaveInteger(R8, (KC8), (34), (1))
    call UnitRemoveAbility(Z77, 'A237')
    call UnitAddAbility(Z77, 'A22A')
    call UnitRemoveAbility(Z77, 'A22A')
    call DragonLancePostMorphDelay(Z77)
    if(AV7((Z77), BU[GK4]) != null)then
        call UnitAddAbility(Z77, 'A237')
    endif
    set t = null
    set Z77 = null
endfunction
function PLH takes nothing returns boolean
    if IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit()) == 'E02O' then
        call PAH(GetTriggerUnit())
    endif
    return false
endfunction
function P1H takes nothing returns boolean
    if GetSpellAbilityId() == 'A229' and GetUnitTypeId(GetTriggerUnit()) == 'E02N' then
        call P6H()
    endif
    return false
endfunction
function HK9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P1H))
    set t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, GetWorldBounds())
    call TriggerAddCondition(t, Condition(function PLH))
    set t = null
endfunction
function P0H takes nothing returns boolean
    local unit X77 = GetFilterUnit()
    local unit Z77 = VZ4
    local real P5H = VA4
    local real P2H = VB4
    local real ON2 = VC4
    local real OS2 = V34
    local real x
    local real y
    local real a
    local real d
    if(GU8(GetFilterUnit()) == false and IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false))then
        if((LoadInteger(R8, (GetHandleId((X77))), ((4324)))) == 1) == false then
            call ASCI(X77, 4324, 0.3)
        endif
        set d = Z87(P5H, P2H, GetUnitX(X77), GetUnitY(X77))
        set a = YI7(P5H, P2H, GetUnitX(X77), GetUnitY(X77)) * bj_DEGTORAD
        if d > V64 then
            set x = GetUnitX(X77) + 11 * Cos(a)
            set y = GetUnitY(X77) + 11 * Sin(a)
        else
            set x = GetUnitX(X77) - 11 * Cos(a)
            set y = GetUnitY(X77) - 11 * Sin(a)
        endif
        call SetUnitX(X77, x)
        call SetUnitY(X77, y)
    endif
    set X77 = null
    set Z77 = null
    return false
endfunction
function P_H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real P5H = (LoadReal(R8, (W57), (6)))
    local real P2H = (LoadReal(R8, (W57), (7)))
    local real x
    local real y
    local integer i = 0
    local group g
    if GetTriggerEvalCount(t) > (50 * (2 + .6 * GetUnitAbilityLevel(Z77, 'A1SU')))then
        loop
            exitwhen i > 16
            set i = i + 1
        endloop
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set g = OG8()
        set VA4 = P5H
        set VB4 = P2H
        set VZ4 = Z77
        set H04 = Z77
        loop
            exitwhen i > 16
            set x = P5H + V64 * Cos(bj_DEGTORAD * 360. * i / 16.)
            set y = P2H + V64 * Sin(bj_DEGTORAD * 360. * i / 16.)
            set VC4 = x
            set V34 = y
            call GroupEnumUnitsInRange(g, x, y, 75, Condition(function P0H))
            set i = i + 1
        endloop
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function Q4H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real P5H = (LoadReal(R8, (W57), (6)))
    local real P2H = (LoadReal(R8, (W57), (7)))
    local real x
    local real y
    local integer i = 0
    call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    loop
        exitwhen i > 16
        set x = P5H + V64 * Cos(bj_DEGTORAD * 360. * i / 16.)
        set y = P2H + V64 * Sin(bj_DEGTORAD * 360. * i / 16.)
        set i = i + 1
    endloop
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("war3mapImported\\KineticField_FX_Stand.mdx", P5H, P2H)))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (P5H))
    call SaveReal(R8, (W57), (7), (P2H))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function P_H))
    set t = null
    set Z77 = null
    return false
endfunction
function Q7H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real P5H = GetSpellTargetX()
    local real P2H = GetSpellTargetY()
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("war3mapImported\\KineticField_FX_Start.mdx", P5H, P2H)))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (P5H))
    call SaveReal(R8, (W57), (7), (P2H))
    call TriggerRegisterTimerEvent(t, 1.2, false)
    call TriggerAddCondition(t, Condition(function Q4H))
    call S18(GetOwningPlayer(Z77), 5.5, P5H, P2H, 300)
    set t = null
    set Z77 = null
endfunction
function Q8H takes nothing returns boolean
    if GetSpellAbilityId() == 'A1SU' then
        call Q7H()
    endif
    return false
endfunction
function HM9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Q8H))
    set t = null
endfunction
function Q9H takes nothing returns nothing
    local unit oA
    if AXTI then
        set oA = CreateUnit(GetOwningPlayer(GetEnumUnit()), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
        call UnitRemoveAbility(GetEnumUnit(), 'B0H3')
        call O68(oA, 'A2VF')
        call IssueTargetOrder(oA, "doom", GetEnumUnit())
        set oA = null
    endif
    call V08(WG4, GetEnumUnit(), AB4, WF4)
    call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Purge_NoBirth.mdx", GetEnumUnit(), "origin"))
endfunction
function QDH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local boolean C7D = (LoadBoolean(R8, (W57), (15)))
    local group g
    local integer O3H = GetTriggerEvalCount(t)
    local integer AMKO = 20
    if C7D then
        set AMKO = 28
    endif
    if O3H > AMKO then
        call StopSound(WN4, false, true)
        call KillUnit(S08)
        call ShowUnit(S08, false)
        call KillUnit(AC7)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set g = OG8()
        set H04 = Z77
        set WG4 = Z77
        set WF4 = .25 * (150 + 50 * ML8) * (O3H / I2R(AMKO))
        set WH4 = false
        set AXTI = C7D
        if ModuloInteger(O3H, 4) == 0 then
            set WH4 = true
        endif
        call GroupEnumUnitsInRange(g, GetUnitX(S08), GetUnitY(S08), 475, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(g, function Q9H)
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    set S08 = null
    set AC7 = null
    return false
endfunction
function QEH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real QFH = GetSpellTargetX()
    local real QGH = GetSpellTargetY()
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0CK', QFH, QGH, 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1U6')
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', QFH, QGH, 0)
    local boolean C7D = false
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(Z77, 'A2V8')
        set C7D = true
    endif
    call SetSoundVolume(WN4, 200)
    call StartSound(WN4)
    call SetSoundPosition(WN4, QFH, QGH, 100)
    if KO8(GetOwningPlayer(Z77))then
        call O68(AC7, 'A1U5')
        if C7D then
            call SetUnitAbilityLevel(AC7, 'A1U5', 2)
        endif
    else
        call O68(AC7, 'A1U4')
        if C7D then
            call SetUnitAbilityLevel(AC7, 'A1U4', 2)
        endif
    endif
    call IssuePointOrderById(AC7, 852473, QFH, QGH)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveBoolean(R8, (W57), (15), (C7D))
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function QDH))
    set t = null
    set Z77 = null
    set S08 = null
    set AC7 = null
endfunction
function QHH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1U6' or GetSpellAbilityId() == 'A2V8' then
        call QEH()
    endif
    return false
endfunction
function HN9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QHH))
    set t = null
endfunction
function QIH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local real QFH = (LoadReal(R8, (W57), (6)))
    local real QGH = (LoadReal(R8, (W57), (7)))
    local real x = GetUnitX(S08)
    local real y = GetUnitY(S08)
    local real a = YI7(x, y, QFH, QGH)
    local real d = Z87(x, y, QFH, QGH)
    local real r = (LoadReal(R8, (W57), (671)))
    call SetUnitFacing(S08, a)
    set x = x + r * Cos(a * bj_DEGTORAD)
    set y = y + r * Sin(a * bj_DEGTORAD)
    call SetUnitX(S08, x)
    call SetUnitY(S08, y)
    if d < 40 then
        call KillUnit(S08)
        call DestroyEffect(LoadEffectHandle(R8, (W57), (175)))
        call DestroyEffect(LoadEffectHandle(R8, (W57), (176)))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call ASCI(X77, 4411, 1)
        call SetUnitPosition(X77, QFH, QGH)
        call PanCameraToTimedForPlayer(GetOwningPlayer(X77), QFH, QGH, 0)
    elseif GU8(X77)then
        call KillUnit(S08)
        call DestroyEffect(LoadEffectHandle(R8, (W57), (175)))
        call DestroyEffect(LoadEffectHandle(R8, (W57), (176)))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set X77 = null
    set S08 = null
    return false
endfunction
function QJH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local real x = (LoadReal(R8, (GetHandleId(X77)), (7400)))
    local real y = (LoadReal(R8, (GetHandleId(X77)), (7500)))
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0C6', GetUnitX(X77), GetUnitY(X77), 0)
    local real d = Z87(x, y, GetUnitX(X77), GetUnitY(X77))
    local real r = .02 * (RMaxBJ(d / 1.8, 600))
    call TriggerAddCondition(t, Condition(function QIH))
    call TriggerRegisterTimerEvent(t, .02, true)
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    call SaveReal(R8, (W57), (671), (r))
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx", X77, "overhead")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffect("effects\\Lightning_Ball_Tail_FX.mdx", x, y)))
    call TriggerEvaluate(t)
    set Z77 = null
    set X77 = null
    set S08 = null
    set t = null
endfunction
function QKH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1SW' and OE8(GetSpellTargetUnit()) == false then
        if IsUnitIllusion(GetSpellTargetUnit())then
            call KillUnit(GetSpellTargetUnit())
        else
            call QJH()
        endif
    endif
    return false
endfunction
function BJG takes nothing returns nothing
    local unit X77 = H04
    local integer i = 0
    loop
        exitwhen i > 15
        set i = i + 1
    endloop
    set X77 = null
endfunction
function QMH takes nothing returns nothing
    local unit X77 = GetEnumUnit()
    local integer W57 = GetHandleId(X77)
    local integer i = 1
    loop
        exitwhen i > MAX_TEAM_PLAYERS * 2 + 5
        call SaveReal(R8, (W57), (7400 + i - 1), (LoadReal(R8, (W57), (7400 + i))))
        call SaveReal(R8, (W57), (7500 + i - 1), (LoadReal(R8, (W57), (7500 + i))))
        set i = i + 1
    endloop
    call SaveReal(R8, (W57), (7400 + MAX_TEAM_PLAYERS * 2 + 5), (GetUnitX(X77)))
    call SaveReal(R8, (W57), (7500 + MAX_TEAM_PLAYERS * 2 + 5), (GetUnitY(X77)))
    set X77 = null
endfunction
function QNH takes nothing returns boolean
    local group g = OG8()
    call GroupEnumUnitsInRange(g, 0, 0, 99999, Condition(function U58))
    call ForGroup(g, function QMH)
    call OF8(g)
    set g = null
    return false
endfunction
function HO9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QKH))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function QNH))
    set t = null
endfunction
function QOH takes nothing returns nothing
    if V14 != GetEnumUnit()then
        call V08(V04, GetEnumUnit(), AB4, V54 * 20 + 20)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl", GetEnumUnit(), "chest"))
    endif
endfunction
function QPH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit AC7 = (LoadUnitHandle(R8, (W57), (19)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local group g
    local integer C77 = GetTriggerEvalCount(t)
    local unit XAD = null
    call SetUnitX(AC7, GetUnitX(X77))
    call SetUnitY(AC7, GetUnitY(X77))
    call SetUnitX(S08, GetUnitX(X77))
    call SetUnitY(S08, GetUnitY(X77))
    if C77 == 1 or C77 == 100 or C77 == 200 or C77 == 300 then
        set g = OG8()
        if O18(X77)then
            set XAD = CreateUnit(GetOwningPlayer(X77), 'e00C', GetUnitX(X77), GetUnitY(X77), 0)
            call UnitApplyTimedLife(XAD, 'BTLF', .2)
            call IssueTargetOrderById(AC7, 852119, XAD)
        else
            call IssueTargetOrderById(AC7, 852119, X77)
            call V08(Z77, X77, AB4, ML8 * 20 + 20)
        endif
        call QG8("war3mapImported\\ThunderStorm_Groundeffect.mdx", X77, "origin", .6)
        set H04 = Z77
        set V04 = Z77
        set V14 = X77
        set V54 = ML8
        call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 240 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function QOH)
        call OF8(g)
        if GetTriggerEvalCount(t) == 300 then
            call KillUnit(AC7)
            call KillUnit(S08)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
    set g = null
    set XAD = null
    set S08 = null
    return false
endfunction
function R98 takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1TV')
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'e02P', GetUnitX(X77), GetUnitY(X77), 0)
    call O68(S08, 'Aloc')
    call O68(AC7, 'A1U7')
    call SetUnitAbilityLevel(AC7, 'A1U7', ML8)
    call O68(AC7, 'Aloc')
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function QPH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (19), (AC7))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveInteger(R8, (W57), (5), (ML8))
    set Z77 = null
    set X77 = null
    set AC7 = null
    set t = null
    set S08 = null
endfunction
function QQH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1TV' and OE8(GetSpellTargetUnit()) == false then
        call R98()
    endif
    return false
endfunction
function HP9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QQH))
    set t = null
endfunction
function QRH takes nothing returns nothing
    local integer QSH = W84
    local unit X77 = GetEnumUnit()
    local integer QTH = 662 - 1 + QSH
    local real QUH = (LoadReal(R8, (GetHandleId(X77)), (QTH)))
    local real QVH = (TimerGetElapsed(E4))
    if QUH < QVH then
        call SaveReal(R8, (GetHandleId(X77)), (QTH), ((QVH + 2) * 1.))
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false then
            call V08(VV4, X77, AB4, 2 + 6 * W94)
        endif
    endif
    set X77 = null
endfunction
function Spirits_DamageHeroes takes nothing returns nothing
    local integer QWH = W84
    local unit X77 = GetEnumUnit()
    local integer QXH = 662 - 1 + QWH
    local real QYH = (LoadReal(R8, (GetHandleId(X77)), (QXH)))
    local real QZH = (TimerGetElapsed(E4))
    if QYH < QZH then
        call SaveReal(R8, (GetHandleId(X77)), (QXH), ((QZH + 2) * 1.))
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false then
            call V08(VV4, X77, AB4, 15 + 10 * W94)
        endif
    endif
    set X77 = null
endfunction
function QAH takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false then
        call V08(VV4, GetEnumUnit(), AB4, W44)
    endif
endfunction
function QBH takes unit Z77, unit QCH returns nothing
    local group g = OG8()
    set H04 = Z77
    set W44 = 25 * W94
    set VV4 = Z77
    set VW4 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(QCH), GetUnitY(QCH), 0)
    call GroupEnumUnitsInRange(g, GetUnitX(QCH), GetUnitY(QCH), 325, Condition(function U18))
    call O68(VW4, 'A1TO')
    call ForGroup(g, function QAH)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl", GetUnitX(QCH), GetUnitY(QCH)))
    call KillUnit(QCH)
    call OF8(g)
    call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(Z77), 'o00Q', GetUnitX(QCH), GetUnitY(QCH), 0), 'BTLF', 2)
    set g = null
endfunction
function Q3H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit Q6H = (LoadUnitHandle(R8, (W57), (393)))
    local unit QLH = (LoadUnitHandle(R8, (W57), (394)))
    local unit Q1H = (LoadUnitHandle(R8, (W57), (395)))
    local unit Q0H = (LoadUnitHandle(R8, (W57), (396)))
    local unit Q5H = (LoadUnitHandle(R8, (W57), (397)))
    local real x
    local real y
    local real a
    local real d = (LoadReal(R8, (W57), (138)))
    local real P5H = GetUnitX(Z77)
    local real P2H = GetUnitY(Z77)
    local real AQD
    local integer C77 = GetTriggerEvalCount(t)
    local real KQD
    local group g
    local integer Q2H = 0
    local real RF8 = 2.25
    local real Q_H
    if O18(Q6H) == false then
        set Q2H = Q2H + 1
    endif
    if O18(QLH) == false then
        set Q2H = Q2H + 1
    endif
    if O18(Q1H) == false then
        set Q2H = Q2H + 1
    endif
    if O18(Q0H) == false then
        set Q2H = Q2H + 1
    endif
    if O18(Q5H) == false then
        set Q2H = Q2H + 1
    endif
    if Q2H == 5 then
        set RF8 = 2.25
    elseif Q2H == 4 then
        set RF8 = 2.1
    elseif Q2H == 3 then
        set RF8 = 1.95
    elseif Q2H == 2 then
        set RF8 = 1.8
    elseif Q2H == 1 then
        set RF8 = 1.65
    endif
    set AQD =- 1 * 360 * .02 / RF8
    set Q_H = (LoadReal(R8, (W57), (137))) + AQD
    call SaveReal(R8, (W57), (137), ((Q_H) * 1.))
    set W94 = GetUnitAbilityLevel(Z77, 'A1T8')
    set VV4 = Z77
    if C77 == 50 then
        call ShowUnit(QLH, true)
        call SaveBoolean(R8, (W57), (512), (true))
        call O68(QLH, 'Aloc')
    endif
    if C77 == 100 then
        call ShowUnit(Q1H, true)
        call SaveBoolean(R8, (W57), (513), (true))
        call O68(Q1H, 'Aloc')
    endif
    if C77 == 150 then
        call ShowUnit(Q0H, true)
        call SaveBoolean(R8, (W57), (514), (true))
        call O68(Q0H, 'Aloc')
    endif
    if C77 == 200 then
        call ShowUnit(Q5H, true)
        call SaveBoolean(R8, (W57), (515), (true))
        call O68(Q5H, 'Aloc')
    endif
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A24A' then
            if(LoadBoolean(R8, (W57), (655))) then
                call SaveBoolean(R8, (W57), (655), (false))
                call SaveBoolean(R8, (W57), (656), (false))
            else
                call SaveBoolean(R8, (W57), (655), (true))
                call SaveBoolean(R8, (W57), (656), (false))
            endif
        elseif GetSpellAbilityId() == 'A24B' then
            if(LoadBoolean(R8, (W57), (656))) then
                call SaveBoolean(R8, (W57), (655), (false))
                call SaveBoolean(R8, (W57), (656), (false))
            else
                call SaveBoolean(R8, (W57), (655), (false))
                call SaveBoolean(R8, (W57), (656), (true))
            endif
        endif
    endif
    if(LoadBoolean(R8, (W57), (655)))then
        set d = RMaxBJ(d - 5, 100)
        call SaveReal(R8, (W57), (138), ((d) * 1.))
    elseif(LoadBoolean(R8, (W57), (656)))then
        set d = RMinBJ(d + 5, 875)
        call SaveReal(R8, (W57), (138), ((d) * 1.))
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH or C77 == 950 or(O18(Q6H)and O18(QLH)and O18(Q1H)and O18(Q0H)and O18(Q5H))or(C77 > 1 and GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A1T8')then
        if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT then
            call UnitRemoveAbility(Z77, 'A24A')
            call UnitRemoveAbility(Z77, 'A24B')
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if O18(Q6H) == false then
            call QBH(Z77, Q6H)
        endif
        if O18(QLH) == false then
            call QBH(Z77, QLH)
        endif
        if O18(Q1H) == false then
            call QBH(Z77, Q1H)
        endif
        if O18(Q0H) == false then
            call QBH(Z77, Q0H)
        endif
        if O18(Q5H) == false then
            call QBH(Z77, Q5H)
        endif
    else
        set g = OG8()
        if O18(Q6H) == false and(LoadBoolean(R8, (W57), (511)))then
            set KQD = 360 * 5 / 5.
            set a = KQD + Q_H
            set x = PQ8(P5H + d * Cos(a * bj_DEGTORAD))
            set y = PS8(P2H + d * Sin(a * bj_DEGTORAD))
            call SetUnitX(Q6H, x)
            call SetUnitY(Q6H, y)
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 95, Condition(function GenericCondition_EnemyHeroesExNoImmune))
            if FirstOfGroup(g) != null then
                call QBH(Z77, Q6H)
            endif
            call GroupClear(g)
            set VX4 = Q6H
            set W84 = 1
            set VV4 = Z77
            call GroupEnumUnitsInRange(g, x, y, 175, Condition(function U_8))
            call ForGroup(g, function QRH)
            call GroupClear(g)
        endif
        if O18(QLH) == false and(LoadBoolean(R8, (W57), (512)))then
            set KQD = 360 * 4 / 5.
            set a = KQD + Q_H
            set x = PQ8(P5H + d * Cos(a * bj_DEGTORAD))
            set y = PS8(P2H + d * Sin(a * bj_DEGTORAD))
            call SetUnitX(QLH, x)
            call SetUnitY(QLH, y)
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 95, Condition(function GenericCondition_EnemyHeroesExNoImmune))
            if FirstOfGroup(g) != null then
                call QBH(Z77, QLH)
            endif
            call GroupClear(g)
            set VX4 = QLH
            set W84 = 2
            set VV4 = Z77
            call GroupEnumUnitsInRange(g, x, y, 175, Condition(function U_8))
            call ForGroup(g, function QRH)
            call GroupClear(g)
        endif
        if O18(Q1H) == false and(LoadBoolean(R8, (W57), (513)))then
            set KQD = 360 * 3 / 5.
            set a = KQD + Q_H
            set x = PQ8(P5H + d * Cos(a * bj_DEGTORAD))
            set y = PS8(P2H + d * Sin(a * bj_DEGTORAD))
            call SetUnitX(Q1H, x)
            call SetUnitY(Q1H, y)
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 95, Condition(function GenericCondition_EnemyHeroesExNoImmune))
            if FirstOfGroup(g) != null then
                call QBH(Z77, Q1H)
            endif
            call GroupClear(g)
            set VX4 = Q1H
            set W84 = 3
            set VV4 = Z77
            call GroupEnumUnitsInRange(g, x, y, 175, Condition(function U_8))
            call ForGroup(g, function QRH)
            call GroupClear(g)
        endif
        if O18(Q0H) == false and(LoadBoolean(R8, (W57), (514)))then
            set KQD = 360 * 2 / 5.
            set a = KQD + Q_H
            set x = PQ8(P5H + d * Cos(a * bj_DEGTORAD))
            set y = PS8(P2H + d * Sin(a * bj_DEGTORAD))
            call SetUnitX(Q0H, x)
            call SetUnitY(Q0H, y)
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 95, Condition(function GenericCondition_EnemyHeroesExNoImmune))
            if FirstOfGroup(g) != null then
                call QBH(Z77, Q0H)
            endif
            call GroupClear(g)
            set VX4 = Q0H
            set W84 = 4
            set VV4 = Z77
            call GroupEnumUnitsInRange(g, x, y, 175, Condition(function U_8))
            call ForGroup(g, function QRH)
            call GroupClear(g)
        endif
        if O18(Q5H) == false and(LoadBoolean(R8, (W57), (515)))then
            set KQD = 360 * 1 / 5.
            set a = KQD + Q_H
            set x = PQ8(P5H + d * Cos(a * bj_DEGTORAD))
            set y = PS8(P2H + d * Sin(a * bj_DEGTORAD))
            call SetUnitX(Q5H, x)
            call SetUnitY(Q5H, y)
            set H04 = Z77
            call GroupEnumUnitsInRange(g, x, y, 95, Condition(function GenericCondition_EnemyHeroesExNoImmune))
            if FirstOfGroup(g) != null then
                call QBH(Z77, Q5H)
            endif
            call GroupClear(g)
            set VX4 = Q5H
            set W84 = 5
            set VV4 = Z77
            call GroupEnumUnitsInRange(g, x, y, 175, Condition(function U_8))
            call ForGroup(g, function QRH)
            call GroupClear(g)
        endif
        call OF8(g)
    endif
    set t = null
    set Z77 = null
    set Q6H = null
    set QLH = null
    set Q1H = null
    set Q0H = null
    set Q5H = null
    set g = null
    return false
endfunction
function R4H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Q6H
    local unit QLH
    local unit Q1H
    local unit Q0H
    local unit R7H
    local real x
    local real y
    set x = GetUnitX(Z77) + 250 * Cos(bj_DEGTORAD * 360 * 5 / 5. *- 1.)
    set y = GetUnitY(Z77) + 250 * Sin(bj_DEGTORAD * 360 * 5 / 5. *- 1.)
    set Q6H = CreateUnit(GetOwningPlayer(Z77), 'h0CJ', x, y, 360 * 5 / 5. *- 1.)
    call O68(Q6H, 'Aloc')
    set x = GetUnitX(Z77) + 250 * Cos(bj_DEGTORAD * 360 * 4 / 5. *- 1.)
    set y = GetUnitY(Z77) + 250 * Sin(bj_DEGTORAD * 360 * 4 / 5. *- 1.)
    set QLH = CreateUnit(GetOwningPlayer(Z77), 'h0CJ', x, y, 360 * 4 / 5. *- 1.)
    call ShowUnit(QLH, false)
    call SetUnitInvulnerable(QLH, true)
    set x = GetUnitX(Z77) + 250 * Cos(bj_DEGTORAD * 360 * 3 / 5. *- 1.)
    set y = GetUnitY(Z77) + 250 * Sin(bj_DEGTORAD * 360 * 3 / 5. *- 1.)
    set Q1H = CreateUnit(GetOwningPlayer(Z77), 'h0CJ', x, y, 360 * 3 / 5. *- 1.)
    call ShowUnit(Q1H, false)
    call SetUnitInvulnerable(QLH, true)
    set x = GetUnitX(Z77) + 250 * Cos(bj_DEGTORAD * 360 * 2 / 5. *- 1.)
    set y = GetUnitY(Z77) + 250 * Sin(bj_DEGTORAD * 360 * 2 / 5. *- 1.)
    set Q0H = CreateUnit(GetOwningPlayer(Z77), 'h0CJ', x, y, 360 * 2 / 5. *- 1.)
    call ShowUnit(Q0H, false)
    call SetUnitInvulnerable(Q0H, true)
    set x = GetUnitX(Z77) + 250 * Cos(bj_DEGTORAD * 360 * 1 / 5. *- 1.)
    set y = GetUnitY(Z77) + 250 * Sin(bj_DEGTORAD * 360 * 1 / 5. *- 1.)
    set R7H = CreateUnit(GetOwningPlayer(Z77), 'h0CJ', x, y, 360 * 1 / 5. *- 1.)
    call ShowUnit(R7H, false)
    call SetUnitInvulnerable(R7H, true)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (393), (Q6H))
    call SaveUnitHandle(R8, (W57), (394), (QLH))
    call SaveUnitHandle(R8, (W57), (395), (Q1H))
    call SaveUnitHandle(R8, (W57), (396), (Q0H))
    call SaveUnitHandle(R8, (W57), (397), (R7H))
    call SaveBoolean(R8, (W57), (511), (true))
    call SaveBoolean(R8, (W57), (512), (false))
    call SaveBoolean(R8, (W57), (513), (false))
    call SaveBoolean(R8, (W57), (514), (false))
    call SaveBoolean(R8, (W57), (515), (false))
    call SaveBoolean(R8, (W57), (655), (false))
    call SaveBoolean(R8, (W57), (656), (false))
    call SaveReal(R8, (W57), (138), ((150) * 1.))
    call O68(Z77, 'A24B')
    call O68(Z77, 'A24A')
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Q3H))
    set Z77 = null
    set t = null
    set Q6H = null
    set QLH = null
    set Q1H = null
    set Q0H = null
    set R7H = null
endfunction
function R8H takes nothing returns boolean
    if GetSpellAbilityId() == 'A1T8' then
        call R4H()
    endif
    return false
endfunction
function HQ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function R8H))
    set t = null
endfunction
function R9H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    call BlzSetEventDamage(GetEventDamage() * (1. - 0.05 * ML8))
    set t = null
    set Z77 = null
    return false
endfunction
function RDH takes unit u returns nothing
    local trigger t
    call UnitRemoveAbility(u, 'A1TS')
    call UnitRemoveAbility(u, 'A1TR')
    call UnitRemoveAbility(u, 'A1TT')
    call UnitRemoveAbility(u, 'A1TP')
    if(LoadBoolean(R8, (GetHandleId(u)), (708)))then
        call SaveBoolean(R8, (GetHandleId(u)), (708), (false))
        set t = (LoadTriggerHandle(R8, (GetHandleId(u)), (709)))
        call FlushChildHashtable(R8, (GetHandleId(t)))
        call EA8(t)
        call RemoveSavedHandle(R8, (GetHandleId(u)), (709))
        set t = null
    endif
endfunction
function REH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call RDH(Z77)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set Z77 = null
    set t = null
    return false
endfunction
function RFH takes unit u, integer i returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (2), (u))
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function REH))
    if i == 1 then
        call O68(u, 'A1TS')
        call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A1TS', false)
    elseif i == 2 then
        call O68(u, 'A1TR')
        call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A1TR', false)
    elseif i == 3 then
        call O68(u, 'A1TT')
        call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A1TT', false)
    elseif i == 4 then
        call O68(u, 'A1TP')
        call SetPlayerAbilityAvailable(GetOwningPlayer(u), 'A1TP', false)
    endif
    if(LoadBoolean(R8, (GetHandleId(u)), (708))) == false then
        call SaveBoolean(R8, (GetHandleId(u)), (708), (true))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function R9H))
        call SaveTriggerHandle(R8, (GetHandleId(u)), (709), (t))
        call SaveUnitHandle(R8, (GetHandleId(t)), (2), (u))
        call SaveInteger(R8, (GetHandleId(t)), (5), (i))
    endif
    set t = null
endfunction
function RGH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A28Q')
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit RHH = (LoadUnitHandle(R8, (GetHandleId(Z77)), (652)))
    local boolean RIH = false
    local real RJH = .2 * (GetUnitState(Z77, UNIT_STATE_LIFE) * .045)
    local real RKH = .2 * (GetUnitState(Z77, UNIT_STATE_MANA) * .045)
    if GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if GetIssuedOrderId() == 852589 then
            call RFH(Z77, ML8)
        elseif GetIssuedOrderId() == 852590 then
            call RDH(Z77)
        endif
    endif
    if GetUnitAbilityLevel(Z77, 'A1TS') > 0 or GetUnitAbilityLevel(Z77, 'A1TR') > 0 or GetUnitAbilityLevel(Z77, 'A1TT') > 0 or GetUnitAbilityLevel(Z77, 'A1TP') > 0 then
        set RIH = true
        call SetUnitState(Z77, UNIT_STATE_LIFE, RMaxBJ(GetUnitState(Z77, UNIT_STATE_LIFE) - RJH, 1))
        call SetUnitState(Z77, UNIT_STATE_MANA, RMaxBJ(GetUnitState(Z77, UNIT_STATE_MANA) - RKH, 1))
    endif
    if RHH == null then
        if X77 != null then
            call RDH(X77)
            set X77 = null
            call SaveUnitHandle(R8, (W57), (17), (X77))
        endif
    else
        if X77 == null then
            set X77 = RHH
            if RIH then
                call SaveUnitHandle(R8, (W57), (17), (X77))
                call RFH(X77, ML8)
            else
                call RDH(X77)
            endif
        elseif X77 != RHH then
            call RDH(X77)
            if RIH then
                set X77 = RHH
                call SaveUnitHandle(R8, (W57), (17), (X77))
                call RFH(X77, ML8)
            endif
        elseif RIH == false then
            call RDH(X77)
        elseif X77 == RHH then
            if RIH then
                set X77 = RHH
                call SaveUnitHandle(R8, (W57), (17), (X77))
                call RFH(X77, ML8)
            endif
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set RHH = null
    return false
endfunction
function RMH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A28Q')
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (null))
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function RGH))
    set Z77 = null
    set t = null
endfunction
function RNH takes nothing returns boolean
    if GetLearnedSkill() == 'A28Q' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A28Q') == 1 then
        call RMH()
    endif
    return false
endfunction
function HR9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function RNH))
    set t = null
endfunction
function ROH takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), V24) == false then
        call GroupAddUnit(V24, GetEnumUnit())
        call O68(GetEnumUnit(), 'A2TP')
        call T68(GetEnumUnit(), 'A2TP', 1, .25 + .5 * W74, 'B0GU')
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl", GetEnumUnit(), "chest"))
    endif
endfunction
function RPH takes unit Z77, unit X77, group O6H returns nothing
    local real x1 = GetUnitX(Z77)
    local real y1 = GetUnitY(Z77)
    local real x2 = GetUnitX(X77)
    local real y2 = GetUnitY(X77)
    local real a = YI7(x1, y1, x2, y2) * bj_DEGTORAD
    local real x
    local real y
    local real d = Z87(x1, y1, x2, y2)
    local group g = OG8()
    local integer i = 1
    set V24 = O6H
    set VU4 = Z77
    set W74 = GetUnitAbilityLevel(Z77, 'A1TA')
    set V_4 = W74 * 50 + 50
    loop
        exitwhen i > 8
        set H04 = Z77
        set x = x1 + d * i / 8 * Cos(a)
        set y = y1 + d * i / 8 * Sin(a)
        call GroupEnumUnitsInRange(g, x, y, 100, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function ROH)
        call GroupClear(g)
        set i = i + 1
    endloop
    call OF8(g)
    set g = null
endfunction
function RQH takes unit Z77, unit X77 returns boolean
    return((LoadInteger(R8, (GetHandleId(Z77)), ((4294)))) == 1)
endfunction
function RRH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real d = Z47(Z77, X77)
    local real a = YH7(Z77, X77) * bj_DEGTORAD
    local real x = GetUnitX(Z77) + 20 * Cos(a)
    local real y = GetUnitY(Z77) + 20 * Sin(a)
    local location l
    if d < 300 or d > 2150 then
        set l = T89(x, y)
        set x = GetLocationX(l)
        set y = GetLocationY(l)
        call SetUnitX(Z77, PQ8(x))
        call SetUnitY(Z77, PQ8(y))
        call SC8(x, y, 350)
        call RemoveLocation(l)
        set l = null
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SaveInteger(R8, (GetHandleId(Z77)), ((4295)), (2))
    else
        call SetUnitX(Z77, x)
        call SetUnitY(Z77, y)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function RSH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local group O6H = (LoadGroupHandle(R8, (W57), (133)))
    local lightning F4F = (LoadLightningHandle(R8, (W57), (196)))
    local integer C77 = GetTriggerEvalCount(t)
    local real d = Z47(Z77, X77)
    local real a = 1
    local real WSD = GetUnitState(Z77, UNIT_STATE_LIFE)
    local real ATD = GetUnitState(Z77, UNIT_STATE_MANA)
    local real RTH = (LoadReal(R8, (W57), (670)))
    local real RUH = (LoadReal(R8, (W57), (667)))
    local real RVH
    local real RWH
    local real RXH = 1.5
    if X77 == null or Z77 == null or O18(Z77) or(C77 > 600 and RQH(Z77, X77) == false and((LoadInteger(R8, (GetHandleId((Z77))), ((4295)))) == 1) == false)or(d > 925 and((LoadInteger(R8, (GetHandleId((Z77))), ((4295)))) == 1) == false)or GetTriggerEventId() == EVENT_UNIT_DEATH or(GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A1TU')then
        call OF8(O6H)
        call DestroyLightning(F4F)
        call UnitRemoveAbility(X77, 'A1TH')
        call UnitRemoveAbility(X77, 'A1TI')
        call UnitRemoveAbility(X77, 'A1TG')
        call UnitRemoveAbility(X77, 'A1TJ')
        call UnitRemoveAbility(X77, 'B0DH')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(Z77, 'A1TH')
        call UnitRemoveAbility(Z77, 'A1TI')
        call UnitRemoveAbility(Z77, 'A1TG')
        call UnitRemoveAbility(Z77, 'A1TJ')
        call UnitRemoveAbility(Z77, 'B0DH')
        call UnitRemoveAbility(Z77, 'A1TU')
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A1TA' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1TA', true)
        endif
        call RemoveSavedHandle(R8, GetHandleId(Z77), (652))
        call RemoveSavedHandle(R8, GetHandleId(X77), StringHash("AI|TetherSource"))
    else
        set RVH = WSD / GetUnitState(Z77, UNIT_STATE_MAX_LIFE)
        set RWH = ATD / GetUnitState(Z77, UNIT_STATE_MAX_MANA)
        if RVH - RTH > 0 and(RVH - RTH) < .5 then
            if((LoadInteger(R8, (GetHandleId((Z77))), ((4298)))) == 1) == false then
                call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + RXH * (RVH - RTH) * GetUnitState(Z77, UNIT_STATE_MAX_LIFE))
            endif
        endif
        if RWH - RUH > 0 and(RWH - RUH) < .5 then
            call SetUnitState(X77, UNIT_STATE_MANA, GetUnitState(X77, UNIT_STATE_MANA) + RXH * (RWH - RUH) * GetUnitState(Z77, UNIT_STATE_MAX_MANA))
        endif
        call SaveReal(R8, (W57), (670), ((GetUnitState(Z77, UNIT_STATE_LIFE) / GetUnitState(Z77, UNIT_STATE_MAX_LIFE)) * 1.))
        call SaveReal(R8, (W57), (667), ((GetUnitState(Z77, UNIT_STATE_MANA) / GetUnitState(Z77, UNIT_STATE_MAX_MANA)) * 1.))
        call MoveLightning(F4F, true, GetUnitX(Z77), GetUnitY(Z77), GetUnitX(X77), GetUnitY(X77))
        call RPH(Z77, X77, O6H)
        if IsUnitVisible(Z77, GetLocalPlayer()) == false and IsUnitVisible(X77, GetLocalPlayer()) == false then
            set a = 0
        endif
        if N08(GetLocalPlayer())then
            set a = 1
        endif
        if d < 700 or((LoadInteger(R8, (GetHandleId((Z77))), ((4295)))) == 1) then
            call SetLightningColor(F4F, .0, 1., 1., a)
        else
            call SetLightningColor(F4F, .8, .7, .4, a)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set O6H = null
    set F4F = null
    return false
endfunction
function RYH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local lightning RZH = AddLightning("CHIM", true, GetUnitX(Z77), GetUnitY(Z77), GetUnitX(X77), GetUnitY(X77))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1TA')
    local integer RAH
    local real d = Z47(Z77, X77)
    local real a = YH7(Z77, X77) * bj_DEGTORAD
    local location l
    local real x
    local real y
    call SetLightningColor(RZH, .0, 1., 1., 1)
    call O68(Z77, 'A1TU')
    if ML8 == 1 then
        set RAH = 'A1TH'
    elseif ML8 == 2 then
        set RAH = 'A1TI'
    elseif ML8 == 3 then
        set RAH = 'A1TG'
    elseif ML8 == 4 then
        set RAH = 'A1TJ'
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A1TA', false)
    call O68(Z77, RAH)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), RAH, false)
    call O68(X77, RAH)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), RAH, false)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveGroupHandle(R8, (W57), (133), (OG8()))
    call SaveLightningHandle(R8, (W57), (196), (RZH))
    call SaveReal(R8, (W57), (670), ((GetUnitState(Z77, UNIT_STATE_LIFE) / GetUnitState(Z77, UNIT_STATE_MAX_LIFE)) * 1.))
    call SaveReal(R8, (W57), (667), ((GetUnitState(Z77, UNIT_STATE_MANA) / GetUnitState(Z77, UNIT_STATE_MAX_MANA)) * 1.))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RSH))
    call SaveUnitHandle(R8, (GetHandleId(Z77)), (652), (X77))
    // if IsUnitType(X77, UNIT_TYPE_HERO)then
    //     call DU8((GetHandleId(X77)), "AI|TetherSource", Z77)
    // endif
    if d > 700 then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl", Z77, "chest")))
        call TriggerRegisterTimerEvent(t, .02, true)
        call TriggerAddCondition(t, Condition(function RRH))
        call SaveInteger(R8, (GetHandleId((Z77))), ((4295)), (1))
    endif
    set Z77 = null
    set X77 = null
    set t = null
    set l = null
endfunction
function RBH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1TA' then
        call RYH()
    endif
    return false
endfunction
function HS9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RBH))
    set t = null
endfunction
function RCH takes unit Z77, real x, real y returns boolean
    local boolean LTD = false
    local player p = GetOwningPlayer(Z77)
    local unit AC7 = CreateUnit(p, 'e02Q', GetUnitX(Z77), GetUnitY(Z77), 0)
    call O68(AC7, 'A1V4')
    if IssuePointOrderById(AC7, 852525, x, y) then
        call KillUnit(AC7)
        set AC7 = null
        return true
    else
        call KillUnit(AC7)
        set AC7 = null
        return false
    endif
endfunction
function R3H takes string R6H, unit X77 returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, R6H, .033)
    call SetTextTagPosUnit(tt, X77, 64)
    call SetTextTagColor(tt, 0, 50, 255, 255)
    call SetTextTagVelocity(tt, 0, .0355)
    call SetTextTagFadepoint(tt, .15)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, .85)
    call SetTextTagVisibility(tt, true)
    set tt = null
endfunction
function RLH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer O3H = GetTriggerEvalCount(t)
    if O18(Z77) == false and O3H < 12 then
        call R3H(I2S(12 - O3H), Z77)
    endif
    if O3H == 12 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function R1H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (GetHandleId(Z77)), (652)))
    local real QFH = (LoadReal(R8, (W57), (47)))
    local real QGH = (LoadReal(R8, (W57), (48)))
    local real P5H = (LoadReal(R8, (W57), (189)))
    local real P2H = (LoadReal(R8, (W57), (190)))
    local fogmodifier PVH = (LoadFogModifierHandle(R8, (W57), (42)))
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SaveInteger(R8, (GetHandleId((Z77))), ((4294)), (2))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FogModifierStop(PVH)
        call DestroyFogModifier(PVH)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call SC8(QFH, QGH, 250)
        call SC8(P5H, P2H, 250)
        if GetTriggerEvalCount(t) == 1 then
            if O18(Z77) == false then
                call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(Z77), GetUnitY(Z77)))
                call SetUnitPosition(Z77, QFH, QGH)
                call PanCameraToTimedForPlayer(GetOwningPlayer(Z77), QFH, QGH, 0)
                call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(Z77), GetUnitY(Z77)))
                // call MH8(Z77)
            endif
            if X77 != null and O18(X77) == false and GetOwningPlayer(X77) != G8[0]and GetOwningPlayer(X77) != N8[0]and((LoadBoolean(R8, (GetHandleId(GetOwningPlayer((X77)))), (139))) == false)then
                call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(X77), GetUnitY(X77)))
                call ASCI(X77, 4402, 1)
                call SetUnitPosition(X77, QFH, QGH)
                if IsUnitType(X77, UNIT_TYPE_HERO) and O18(X77) == false then
                    call PanCameraToTimedForPlayer(GetOwningPlayer(X77), QFH, QGH, 0)
                endif
                call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(X77), GetUnitY(X77)))
                // call MH8(X77)
            endif
        else
            if O18(Z77) == false then
                call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(Z77), GetUnitY(Z77)))
                call SetUnitPosition(Z77, P5H, P2H)
                call PanCameraToTimedForPlayer(GetOwningPlayer(Z77), P5H, P2H, 0)
                call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(Z77), GetUnitY(Z77)))
                // call MH8(Z77)
            endif
            if X77 != null and O18(X77) == false and GetOwningPlayer(X77) != G8[0]and GetOwningPlayer(X77) != N8[0]and((LoadBoolean(R8, (GetHandleId(GetOwningPlayer((X77)))), (139))) == false)then
                call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(X77), GetUnitY(X77)))
                call ASCI(X77, 4402, 1)
                call SetUnitPosition(X77, P5H, P2H)
                if IsUnitType(X77, UNIT_TYPE_HERO) and O18(X77) == false then
                    call PanCameraToTimedForPlayer(GetOwningPlayer(X77), P5H, P2H, 0)
                endif
                call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", GetUnitX(X77), GetUnitY(X77)))
                // call MH8(X77)
            endif
            call SaveInteger(R8, (GetHandleId((Z77))), ((4294)), (2))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call FogModifierStop(PVH)
            call DestroyFogModifier(PVH)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set PVH = null
    return false
endfunction
function R0H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real QFH = (LoadReal(R8, (W57), (47)))
    local real QGH = (LoadReal(R8, (W57), (48)))
    local fogmodifier PVH
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1TB')
    if S69(Z77)or UD8(Z77)or O18(Z77)then
        call SaveInteger(R8, (GetHandleId((Z77))), ((4294)), (2))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEvalCount(t) == (2.75 - .25 * ML8) / .05 then
        set PVH = CreateFogModifierRadius(GetOwningPlayer(Z77), FOG_OF_WAR_VISIBLE, GetUnitX(Z77), GetUnitY(Z77), 400, true, true)
        call FogModifierStart(PVH)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call TriggerRegisterTimerEvent(t, .01, false)
        call TriggerRegisterTimerEvent(t, 12, false)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function R1H))
        call SaveReal(R8, (W57), (189), (GetUnitX(Z77)))
        call SaveReal(R8, (W57), (190), (GetUnitY(Z77)))
        call SaveReal(R8, (W57), (47), (QFH))
        call SaveReal(R8, (W57), (48), (QGH))
        call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl", GetUnitX(Z77), GetUnitY(Z77))))
        call SaveFogModifierHandle(R8, (W57), (42), (PVH))
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function RLH))
    endif
    set Z77 = null
    set t = null
    set PVH = null
    return false
endfunction
function R5H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit X77 = (LoadUnitHandle(R8, (GetHandleId(Z77)), (652)))
    local integer id = GetPlayerId(GetOwningPlayer(Z77))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1TB')
    call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl", Z77, "chest"))
    if X77 != null then
    endif
    call PingMinimapEx(x, y, 4., 255, 0, 0, false)
    call S18(G8[1], 2.5, x, y, 300)
    call S18(N8[1], 2.5, x, y, 300)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerAddCondition(t, Condition(function R0H))
    call SaveReal(R8, (W57), (47), ((x) * 1.))
    call SaveReal(R8, (W57), (48), ((y) * 1.))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl", x, y)))
    call SaveInteger(R8, (GetHandleId((Z77))), ((4294)), (1))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function R2H takes nothing returns boolean
    if GetSpellAbilityId() == 'A1TB' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call R5H()
        else
            if RCH(GetTriggerUnit(), GetSpellTargetX(), GetSpellTargetY()) == false then
                call ZN7(GetTriggerUnit())
                call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0KX'))
            else
                if KN8(GetOwningPlayer(GetTriggerUnit()))then
                    if IsPointInRegion(WE4, GetSpellTargetX(), GetSpellTargetY()) then
                        call ZN7(GetTriggerUnit())
                        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n03Y'))
                    endif
                else
                    if IsPointInRegion(WD4, GetSpellTargetX(), GetSpellTargetY()) then
                        call ZN7(GetTriggerUnit())
                        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n03Y'))
                    endif
                endif
            endif
        endif
    endif
    return false
endfunction
function HT9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function R2H))
    set WD4 = CreateRegion()
    call RegionAddRect(WD4, XD)
    call RegionAddRect(WD4, BD)
    set WE4 = CreateRegion()
    call RegionAddRect(WE4, WD)
    call RegionAddRect(WE4, LD)
    set t = null
endfunction
function R_H takes unit Z77, unit T_F, real S4H, real S7H, real a2 returns nothing
    local integer i = 0
    local real S8H
    local real S9H = GetUnitY(T_F)
    local real a
    local real x
    local real y
    local real SDH
    if T_F != null then
        set S8H = GetUnitX(T_F)
        set S9H = GetUnitY(T_F)
        set a = YI7(S4H, S7H, S8H, S9H)
    else
        set a = a2
        set S8H = S4H + 50 * Cos(a * bj_DEGTORAD)
        set S9H = S7H + 50 * Sin(a * bj_DEGTORAD)
    endif
    set SDH = a
    set x = S8H + 200 * Cos(SDH * bj_DEGTORAD)
    set y = S9H + 200 * Sin(SDH * bj_DEGTORAD)
    call TI8(CreateDestructable('B006', x, y, - 1 * SDH, .6, 1), 7)
    set SDH = a - 40
    set x = S8H + 200 * Cos(SDH * bj_DEGTORAD)
    set y = S9H + 200 * Sin(SDH * bj_DEGTORAD)
    call TI8(CreateDestructable('B006', x, y, - 1 * SDH, .6, 1), 7)
    set SDH = a - 80
    set x = S8H + 200 * Cos(SDH * bj_DEGTORAD)
    set y = S9H + 200 * Sin(SDH * bj_DEGTORAD)
    call TI8(CreateDestructable('B006', x, y, - 1 * SDH, .6, 1), 7)
    set SDH = a + 40
    set x = S8H + 200 * Cos(SDH * bj_DEGTORAD)
    set y = S9H + 200 * Sin(SDH * bj_DEGTORAD)
    call TI8(CreateDestructable('B006', x, y, - 1 * SDH, .6, 1), 7)
    set SDH = a + 80
    set x = S8H + 200 * Cos(SDH * bj_DEGTORAD)
    set y = S9H + 200 * Sin(SDH * bj_DEGTORAD)
    call TI8(CreateDestructable('B006', x, y, - 1 * SDH, .6, 1), 7)
    if T_F != null then
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx", T_F, "chest"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl", T_F, "chest"))
        call V08(ZU4, T_F, AB4, ZY4 * 60)
    endif
endfunction
function SEH takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), ZZ4) == false then
        call GroupAddUnit(ZZ4, GetEnumUnit())
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx", GetEnumUnit(), "chest"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl", GetEnumUnit(), "chest"))
        call V08(ZU4, GetEnumUnit(), AB4, ZY4 * 60)
    endif
endfunction
function SFH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer TG8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (TG8), (2)))
    local unit T_F = (LoadUnitHandle(R8, (TG8), (17)))
    local unit SGH = (LoadUnitHandle(R8, (TG8), (45)))
    local real SHH = (LoadReal(R8, (TG8), (683)))
    local real SIH = (LoadReal(R8, (TG8), (684)))
    local real S4H = GetUnitX(SGH)
    local real S7H = GetUnitY(SGH)
    local real SJH = Atan2(SIH - S7H, SHH - S4H)
    local real SKH = S4H + 22 * Cos(SJH)
    local real SMH = S7H + 22 * Sin(SJH)
    local group SNH = (LoadGroupHandle(R8, (TG8), (133)))
    local integer QFH = GetUnitAbilityLevel(Z77, 'A1YO')
    local group g = OG8()
    set H04 = Z77
    set ZU4 = Z77
    set ZZ4 = SNH
    set ZY4 = QFH
    set ZX4 = null
    call GroupEnumUnitsInRange(g, SKH, SMH, 225, Condition(function GenericCondition_EnemyUnitsEx))
    call ForGroup(g, function SEH)
    call OF8(g)
    call SetUnitPosition(SGH, SKH, SMH)
    if Z87(SKH, SMH, SHH, SIH) < 40 then
        call KillUnit(SGH)
        call ShowUnit(SGH, false)
        call SetUnitPathing(SGH, true)
        call R_H(Z77, null, SKH, SMH, SJH * bj_RADTODEG)
        call OF8(SNH)
        call FlushChildHashtable(R8, TG8)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set T_F = null
    set SGH = null
    set SNH = null
    set g = null
    return false
endfunction
function SOH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer TG8 = GetHandleId(t)
    local unit SGH = CreateUnit(GetOwningPlayer(Z77), 'h0CS', GetUnitX(Z77), GetUnitY(Z77), 0)
    local real S4H = GetUnitX(Z77)
    local real S7H = GetUnitY(Z77)
    local real S8H = GetSpellTargetX()
    local real S9H = GetSpellTargetY()
    local real SJH = Atan2(S9H - S7H, S8H - S4H)
    local real SHH = PQ8(S8H)
    local real SIH = PS8(S9H)
    call SetUnitFacing(SGH, SJH * bj_RADTODEG)
    call SetUnitPathing(SGH, false)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function SFH))
    call SaveUnitHandle(R8, (TG8), (2), (Z77))
    call SaveReal(R8, (TG8), (683), (SHH))
    call SaveReal(R8, (TG8), (684), (SIH))
    call SaveReal(R8, (TG8), (13), (SJH))
    call SaveUnitHandle(R8, (TG8), (45), (SGH))
    call SaveGroupHandle(R8, (TG8), (133), (OG8()))
    set Z77 = null
    set SGH = null
    set t = null
endfunction
function SPH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1YO' then
        call SOH()
    endif
    return false
endfunction
function HU9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SPH))
    set t = null
endfunction
function SQH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A1YQ')
    local integer C77 = GetTriggerEvalCount(t)
    local real y = (C77 - 50) * (C77 - 50) / 4.3
    local real P08
    if ML8 == 1 then
        set P08 = 75
    elseif ML8 == 2 then
        set P08 = 150
    else
        set P08 = 225
    endif
    if C77 == 1 then
        call IssueTargetOrderById(Z77, 851983, X77)
    endif
    if C77 < 50 then
        if H7E(X77) == false then
            call SetUnitFlyHeight(X77, 700 * C77 / 50, 0)
        endif
    elseif C77 < 100 then
        if H7E(X77) == false then
            call SetUnitFlyHeight(X77, 700 - 700 * (C77 - 50) / 50, 0)
        endif
    else
        if H7E(X77) == false then
            call SetUnitFlyHeight(X77, GetUnitDefaultFlyHeight(X77), 0)
        endif
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call T68(X77, 'A204', 1, 1 + ML8, 'B0DY')
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function SRH takes unit p5, unit target returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A1YQ')
    call QM8("海象神拳！！", 3.5, p5, 0.03, 255, 0, 0, 255)
    call S68(YZ4, GetUnitX(target), GetUnitY(target))
    call V18(p5, target, 1.)
    if H7E(target) == false then
        call O68(target, 'Amrf')
        call UnitRemoveAbility(target, 'Amrf')
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "overhead"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "head"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "left,hand"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "right,hand"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "chest"))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", target, "origin"))
    call TriggerRegisterTimerEvent(t, .01, true)
    call TriggerAddCondition(t, Condition(function SQH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveEffectHandle(R8, (EC8), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl", target, "chest")))
    set t = null
endfunction
function SVH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local effect FX = (LoadEffectHandle(R8, (EC8), (32)))
    local trigger t2
    local integer WED
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_DAMAGED then
        call DestroyEffect(FX)
        call UnitRemoveAbility(p5, 'A1UH')
        call UnitRemoveAbility(p5, 'A1UI')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    elseif GetEventDamageSource() == p5 and IsNormalAttackHero() and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(p5)) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
        call SRH(p5, GetTriggerUnit())
        call DestroyEffect(FX)
        call UnitRemoveAbility(p5, 'A1UH')
        call UnitRemoveAbility(p5, 'A1UI')
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    set FX = null
    set t2 = null
    return false
endfunction
function SWH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function SVH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveEffectHandle(R8, (EC8), (32), (AddSpecialEffectTarget("war3mapImported\\WalrusPunchWeaponFX.mdx", p5, "weapon")))
    call O68(p5, 'A1UH')
    set t = null
    set p5 = null
endfunction
function SXH takes nothing returns boolean
    if GetSpellAbilityId() == 'A1YQ' then
        call SWH()
    endif
    return false
endfunction
function HV9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SXH))
    call GVD('A1UH')
    call GVD('A1UI')
    call GVD('A204')
    set t = null
endfunction
function SYH takes nothing returns nothing
    call ShowUnit(GetEnumUnit(), true)
    call UnitRemoveAbility(GetEnumUnit(), 'A04R')
    call SetUnitInvulnerable(GetEnumUnit(), false)
    call PauseUnit(GetEnumUnit(), false)
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
        call SetUnitPosition(GetEnumUnit(), ZL4, Z14)
        call SelectUnitForPlayerSingle(GetEnumUnit(), GetOwningPlayer(GetEnumUnit()))
    else
        call SetUnitX(GetEnumUnit(), ZL4)
        call SetUnitY(GetEnumUnit(), Z14)
    endif
    if GetEnumUnit() == ZB4 and ZC4 != null then
        call IssueTargetOrder(ZB4, "attack", ZC4)
    endif
    if GetUnitTypeId(GetEnumUnit()) == 'E02I' then
        call SetUnitVertexColor(GetEnumUnit(), 255, 255, 255, 255)
    endif
    call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
    call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())))
endfunction
function Snowball_Slow takes nothing returns nothing
    local integer id
    if Z64 == 1 then
        set id = 'A20F'
    elseif Z64 == 2 then
        set id = 'A20E'
    elseif Z64 == 3 then
        set id = 'A1SL'
    elseif Z64 == 4 then
        set id = 'A20D'
    endif
    if IsUnitInGroup(GetEnumUnit(), ZA4) == false then
        call GroupAddUnit(ZA4, GetEnumUnit())
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), id, false)
        call T68(GetEnumUnit(), id, 1, 5, 'B0DC')
    endif
endfunction
function SZH takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), ZA4) == false then
        call GroupAddUnit(ZA4, GetEnumUnit())
        call V08(ZB4, GetEnumUnit(), 1, 40 * Z64 + 40 + Z54 * (10 + 10 * Z64))
        call V18(ZB4, GetEnumUnit(), .25 * Z64 + .25)
    endif
endfunction
function ATB5 takes nothing returns nothing
    call SetUnitX(GetEnumUnit(), ZL4)
    call SetUnitY(GetEnumUnit(), Z14)
endfunction
function ATC5 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit S08 = (LoadUnitHandle(R8, (EC8), (45)))
    local real BM7 = GetUnitX(target)
    local real BN7 = GetUnitY(target)
    local real r = (LoadReal(R8, (EC8), (671)))
    local real a = YI7(GetUnitX(S08), GetUnitY(S08), BM7, BN7) * bj_DEGTORAD
    local real x = GetUnitX(S08) + r * Cos(a)
    local real y = GetUnitY(S08) + r * Sin(a)
    local group PBD = (LoadGroupHandle(R8, (EC8), (133)))
    local group g
    local integer C77 = GetTriggerEvalCount(t)
    local real UXF = RMinBJ(2.5 + (C77 * .02), 10)
    local real QFF = 225 + 40 * (C77 * .02)
    local integer ATD5 = (LoadInteger(R8, (EC8), (34)))
    set Z54 = ATD5
    set Z64 = GetUnitAbilityLevel(p5, 'A1S7')
    set H04 = p5
    set ZA4 = PBD
    set ZB4 = p5
    set ZC4 = target
    call SetUnitX(S08, x)
    call SetUnitY(S08, y)
    call SetUnitX(p5, x)
    call SetUnitY(p5, y)
    call SetUnitFacing(S08, a * bj_RADTODEG - 180)
    call SetUnitScale(S08, UXF, UXF, UXF)
    set ZL4 = x
    set Z14 = y
    call ForGroup((LoadGroupHandle(R8, (EC8), (22))), function ATB5)
    if Z87(x, y, BM7, BN7) < r * 2 or C77 == 150 then
        call SC8(x, y, 300)
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, QFF, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function SZH)
        call OF8(g)
        set g = null
        set ZL4 = x
        set Z14 = y
        call ForGroup((LoadGroupHandle(R8, (EC8), (22))), function SYH)
        call OF8((LoadGroupHandle(R8, (EC8), (22))))
        call OF8(PBD)
        call KillUnit(S08)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
        call SetUnitInvulnerable(p5, false)
        call UI8(p5)
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A1YO', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A1YQ', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A1YR', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A1S7', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A2XK', false)
    else
        if ModuloInteger(GetTriggerEvalCount(t), 5) == 0 then
            call SC8(x, y, 300)
            set g = OG8()
            call GroupEnumUnitsInRange(g, x, y, QFF, Condition(function GenericCondition_EnemyUnitsEx))
            call ForGroup(g, function SZH)
            call OF8(g)
            set g = null
        endif
    endif
    set t = null
    set p5 = null
    set target = null
    set S08 = null
    set PBD = null
    return false
endfunction
function ATE5 takes unit p5, group g, unit ATF5 returns nothing
    if IsUnitInGroup(ATF5, g) == false then
        call GroupAddUnit(g, ATF5)
        call DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx", GetUnitX(ATF5), GetUnitY(ATF5)))
        call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl", GetUnitX(ATF5), GetUnitY(ATF5)))
        if p5 != ATF5 then
            call ShowUnit(ATF5, false)
            call O68(ATF5, 'A04R')
            call SetUnitInvulnerable(ATF5, true)
            call PauseUnit(ATF5, true)
        endif
        if p5 != ATF5 then
            set Z54 = Z54 + 1
        endif
    endif
endfunction
function SnowballLoadCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit ATF5
    local group g
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER then
        if (GetTriggerUnit() == p5 or GetOrderTargetUnit() == p5) and GetIssuedOrderId() == 851971 then
            if GetTriggerUnit() == p5 then
                set ATF5 = GetOrderTargetUnit()
            else
                set ATF5 = GetTriggerUnit()
            endif
            set g = (LoadGroupHandle(R8, (EC8), (22)))
            if g != null and Z47(p5, ATF5) < 375 and IsUnitAlly(ATF5, GetOwningPlayer(p5)) and(IsUnitType(ATF5, UNIT_TYPE_HERO) or GetOwningPlayer(ATF5) == GetOwningPlayer(p5)) and GetUnitAbilityLevel(ATF5, 'B08V') == 0 and GetUnitAbilityLevel(ATF5, 'B08V') == 0 and((LoadInteger(R8, (GetHandleId(ATF5)), (4306))) == 1) == false then
                call ATE5(p5, g, ATF5)
            endif
            set ATF5 = null
        endif
    else
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    set t = null
    set p5 = null
    return false
endfunction
function ATZ5 takes unit p5, unit target, unit S08, integer ATD5 returns nothing
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real PPD = GetUnitX(p5)
    local real PQD = GetUnitY(p5)
    local real BM7 = GetUnitX(target)
    local real BN7 = GetUnitY(target)
    local real a = Atan2(BN7 - PQD, BM7 - PPD)
    local group g = OG8()
    set Z54 = ATD5
    set ZB4 = p5
    call SetUnitVertexColor(p5, 255, 255, 255, 0)
    call SetUnitTimeScale(S08, 2)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function ATC5))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (45), (S08))
    call SaveReal(R8, (EC8), (137), (a))
    call SaveReal(R8, (EC8), (671), (675 * .02))
    call SaveReal(R8, (EC8), (47), (BM7))
    call SaveReal(R8, (EC8), (48), (BN7))
    call SaveInteger(R8, (EC8), (34), (ATD5))
    call SaveGroupHandle(R8, (EC8), (22), (AYBI))
    call SaveGroupHandle(R8, (EC8), (133), (OG8()))
    set g = null
endfunction
function SAH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local unit S08 = (LoadUnitHandle(R8, (EC8), (45)))
    local integer C77 = (LoadInteger(R8, (EC8), (34)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local real UXF = RMinBJ(2.5 + (C77 * .02), 10)
    call SetUnitX(p5, x)
    call SetUnitY(p5, y)
    set Z64 = GetUnitAbilityLevel(p5, 'A1S7')
    set H04 = p5
    set ZB4 = p5
    set ZC4 = target
    call SetUnitScale(S08, UXF, UXF, UXF)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A2XK' then
            call ATZ5(p5, target, S08, Z54)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    else
        set AYBI = (LoadGroupHandle(R8, (EC8), (22)))
        call ATE5(p5, AYBI, p5)
        set C77 = C77 + 1
        call SaveInteger(R8, (EC8), (34), (C77))
        if C77 >= 150 then
            call ATZ5(p5, target, S08, Z54)
            call FlushChildHashtable(R8, EC8)
            call EA8(t)
        endif
    endif
    set t = null
    set p5 = null
    set target = null
    set S08 = null
    return false
endfunction
function S3H takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local unit target = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local unit S08 = CreateUnit(GetOwningPlayer(p5), 'h0C3', GetUnitX(p5), GetUnitY(p5), GetUnitFacing(p5))
    set Z54 = 0
    set ZB4 = p5
    set AYBI = OG8()
    set H04 = p5
    call SetUnitInvulnerable(p5, true)
    call UG8(p5)
    call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A1YO', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A1YQ', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A1YR', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A1S7', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A2XK', true)
    call O68(p5, 'A2XK')
    call SetUnitTimeScale(S08, 2)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterUnitEvent(t, p5, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SAH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call SaveUnitHandle(R8, (EC8), (45), (S08))
    call SaveReal(R8, (EC8), (6), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (7), (GetUnitY(p5)))
    call SaveGroupHandle(R8, (EC8), (22), (AYBI))
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call AUSI(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, S08, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function SnowballLoadCondt))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveGroupHandle(R8, (EC8), (22), (AYBI))
    set t = null
    set p5 = null
    set target = null
    set S08 = null
endfunction
function S6H takes nothing returns boolean
    if GetSpellAbilityId() == 'A1S7' then
        call S3H()
    endif
    return false
endfunction
function HW9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function S6H))
    call PU8('A0X6')
    set t = null
endfunction
function SLH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer TG8 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (TG8), (2)))
    local unit T_F = (LoadUnitHandle(R8, (TG8), (17)))
    call FlushChildHashtable(R8, TG8)
    call EA8(t)
    call IssueTargetOrderById(Z77, 851986, T_F)
    set t = null
    set Z77 = null
    set T_F = null
    return false
endfunction
function S1H takes nothing returns nothing
    local unit Z77 = GetSummonedUnit()
    local unit T_F = GetSummoningUnit()
    local trigger t = CreateTrigger()
    local integer TG8 = GetHandleId(t)
    call TriggerAddCondition(t, Condition(function SLH))
    call TriggerRegisterTimerEvent(t, .2, false)
    call SaveUnitHandle(R8, (TG8), (2), (Z77))
    call SaveUnitHandle(R8, (TG8), (17), (T_F))
    set t = null
    set Z77 = null
    set T_F = null
endfunction
function S0H takes nothing returns boolean
    local integer id = GetUnitTypeId(GetSummonedUnit())
    if id == 'o01J' or id == 'o01K' or id == 'o01L' or id == 'o01M' then
        call S1H()
    endif
    return false
endfunction
function HX9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function S0H))
    set t = null
endfunction
function WalrusKick_Action takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (EC8), (17)))
    local real a = (LoadReal(R8, (EC8), (137)))
    local real d = (LoadReal(R8, (EC8), (138)))
    local real x = PQ8(GetUnitX(X77) + d / 20 * Cos(a))
    local real y = PS8(GetUnitY(X77) + d / 20 * Sin(a))
    if GetTriggerEvalCount(t) == 21 or GetTriggerEventId() == EVENT_UNIT_DEATH or GetUnitAbilityLevel(X77, 'B08V') > 0 then
        call T68(X77, 'A3DG', 1, 4., 'B3DG')
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", X77, "overhead"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", X77, "head"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", X77, "left,hand"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", X77, "right,hand"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", X77, "chest"))
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", X77, "origin"))
        call QG8("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl", X77, "chest", .1)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call SC8(x, y, 150)
        call SetUnitX(X77, x)
        call SetUnitY(X77, y)
    endif
    set X77 = null
    set t = null
    return false
endfunction
function WalrusKick_Effect takes nothing returns nothing
    local unit X77 = GetSpellTargetUnit()
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local real a = YH7(Z77, X77) * bj_DEGTORAD
    local real d
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local integer i =- 1
    local boolean CAG = false
    loop
        exitwhen CAG or i == 23
        set i = i + 1
        set x = PQ8(GetUnitX(X77) + (900 - i * 25) * Cos(a))
        set y = PS8(GetUnitY(X77) + (900 - i * 25) * Sin(a))
        if(IsPointInRegion(IF4, (x), (y))) == false then
            set CAG = true
        endif
    endloop
    set d = Z87(x, y, GetUnitX(X77), GetUnitY(X77))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function WalrusKick_Action))
    call SaveUnitHandle(R8, (EC8), (17), (X77))
    call SaveReal(R8, (EC8), (137), (a))
    call SaveReal(R8, (EC8), (138), (d))
    call V08(Z77, X77, 1, 200)
    set X77 = null
    set Z77 = null
    set t = null
endfunction
function WalrusKick_Cast takes nothing returns nothing
    if GetUnitTypeId(GetSpellTargetUnit()) == 'n00L' then
        call ZN7(GetTriggerUnit())
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0K9'))
    else
        call QG8("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl", GetTriggerUnit(), "hand", .2)
    endif
endfunction
function WalrusKick_Condt takes nothing returns boolean
    if GetSpellAbilityId() == 'A3DF' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            if OE8(GetSpellTargetUnit()) == false then
                call WalrusKick_Effect()
            endif
        else
            call WalrusKick_Cast()
        endif
    endif
    return false
endfunction
function Register_WalrusKick takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function WalrusKick_Condt))
    set t = null
endfunction
function ARI5 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (EC8), (14)))
    local real ISH = (TimerGetElapsed(E4))
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A0MX')
    local real ITH = (LoadReal(R8, (GetHandleId(AM7)), (184)))
    local boolean IUH = (LoadBoolean(R8, (GetHandleId(AM7)), (183)))
    if ISH - ITH > 18 - ML8 * 2 and IUH == false and GetUnitTypeId(AM7) == 'Npbm' and O18(AM7) == false then
        call SaveBoolean(R8, (GetHandleId(AM7)), (183), (true))
        call O68(AM7, 'A2XS')
        call O68(AM7, 'A2XU')
        call SetPlayerAbilityAvailable(GetOwningPlayer(AM7), 'A2XS', false)
    elseif IUH == false and(GetUnitAbilityLevel(AM7, 'A2XS') > 0 or GetUnitAbilityLevel(AM7, 'A2XU') > 0)then
        call UnitRemoveAbility(AM7, 'A2XS')
        call UnitRemoveAbility(AM7, 'A2XU')
    endif
    set t = null
    set AM7 = null
endfunction
function ATU5 takes nothing returns boolean
    local unit AM7 = GetTriggerUnit()
    call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (183), (false))
    call SaveReal(R8, (GetHandleId(GetTriggerUnit())), (184), (TimerGetElapsed(E4)))
    call UnitRemoveAbility(AM7, 'A2XS')
    call UnitRemoveAbility(AM7, 'A2XU')
    set AM7 = null
    return false
endfunction
function ARO5 takes nothing returns nothing
    local unit AM7 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddAction(t, function ARI5)
    call SaveUnitHandle(R8, (EC8), (14), (AM7))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function ATU5))
    set AM7 = null
    set t = null
endfunction
function AR25 takes nothing returns boolean
    if GetLearnedSkill() == 'A0MX' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0MX') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call ARO5()
    endif
    return false
endfunction
function S_H takes nothing returns boolean
    return GetUnitAbilityLevel(GetEventDamageSource(), 'A0MX') > 0 and IsNormalAttackHero() and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit()))
endfunction
function S2H takes nothing returns nothing
    local unit AM7 = GetEventDamageSource()
    if (LoadBoolean(R8, (GetHandleId(AM7)), (183))) then
        call SaveBoolean(R8, (GetHandleId(AM7)), (183), (false))
        call SaveReal(R8, (GetHandleId(AM7)), (184), (TimerGetElapsed(E4)))
        call UnitRemoveAbility(AM7, 'A2XS')
        call UnitRemoveAbility(AM7, 'A2XU')
    endif
    set AM7 = null
endfunction
function HZ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AR25))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function S_H))
    call TriggerAddAction(t, function S2H)
    set t = null
endfunction
function T9H takes nothing returns nothing
    call V18(L44, GetEnumUnit(), .75 + .25 * GetUnitAbilityLevel(L44, 'A27F'))
endfunction
function TDH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real a = (LoadReal(R8, (W57), (137)))
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local real BJ7 = (LoadReal(R8, (W57), (189)))
    local real BK7 = (LoadReal(R8, (W57), (190)))
    local group g
    local real d = Z87(BJ7, BK7, BM7, BN7) / 25
    local location l
    local integer C77 = GetTriggerEvalCount(t)
    local real x = BJ7 + d * C77 * Cos(a)
    local real y = BK7 + d * C77 * Sin(a)
    call SetUnitX(X77, PQ8(x))
    call SetUnitY(X77, PS8(y))
    if H7E(X77) == false then
        call SetUnitFlyHeight(X77, 325 - 13 * C77, 0)
    endif
    if C77 == 25 then
        call SetUnitX(X77, PQ8(BM7))
        call SetUnitY(X77, PS8(BN7))
        if IsPointInRegion(IF4, GetUnitX(X77), GetUnitY(X77)) then
            set l = T89(GetUnitX(X77), GetUnitY(X77))
            call SetUnitX(X77, PR8(GetLocationX(l)))
            call SetUnitY(X77, PT8(GetLocationY(l)))
            call RemoveLocation(l)
            set l = null
        endif
        set H04 = Z77
        set L44 = Z77
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 350, Condition(function GenericCondition_EnemyUnitsEx))
        call GroupRemoveUnit(g, X77)
        call ForGroup(g, function T9H)
        call OF8(g)
        call SC8(GetUnitX(X77), GetUnitY(X77), 150)
        call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", GetUnitX(X77), GetUnitY(X77)))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        if H7E(X77) == false then
            call SetUnitFlyHeight(X77, GetUnitDefaultFlyHeight(X77), 0)
        endif
        call SetUnitPathing(X77, true)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set g = null
    return false
endfunction
function TEH takes unit Z77, unit X77, unit Target2, real TFH, real TGH, effect FX, effect THH returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real BM7 = TFH
    local real BN7 = TGH
    local real a = YI7(GetUnitX(X77), GetUnitY(X77), TFH, TGH) * bj_DEGTORAD
    if Z87(GetUnitX(X77), GetUnitY(X77), TFH, TGH) > 375 then
        set BM7 = GetUnitX(X77) + 375 * Cos(a)
        set BN7 = GetUnitY(X77) + 375 * Sin(a)
    endif
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (W57), (137), (a))
    call SaveReal(R8, (W57), (47), (BM7))
    call SaveReal(R8, (W57), (48), (BN7))
    call SaveReal(R8, (W57), (189), (GetUnitX(X77)))
    call SaveReal(R8, (W57), (190), (GetUnitY(X77)))
    call SaveEffectHandle(R8, (W57), (32), (FX))
    call SaveEffectHandle(R8, (W57), (176), (THH))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function TDH))
    set t = null
endfunction
function TIH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer VID = (LoadInteger(R8, (W57), (12)))
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local integer TJH = (LoadInteger(R8, (W57), (706)))
    local real a
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or(GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT and S69(X77) == false)then
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A27F', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A27X', false)
        call TEH(Z77, X77, (LoadUnitHandle(R8, (W57), (711))), BM7, BN7, (LoadEffectHandle(R8, (W57), (32))), (LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A27X' then
            call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
            set a = YI7(GetUnitX(X77), GetUnitY(X77), GetSpellTargetX(), GetSpellTargetY()) * bj_DEGTORAD
            if Z87(GetUnitX(X77), GetUnitY(X77), GetSpellTargetX(), GetSpellTargetY()) > 375 then
                set BM7 = GetUnitX(X77) + 375 * Cos(a)
                set BN7 = GetUnitY(X77) + 375 * Sin(a)
            else
                set BM7 = GetSpellTargetX()
                set BN7 = GetSpellTargetY()
            endif
            call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl", BM7, BN7)))
            call SaveReal(R8, (W57), (47), (BM7))
            call SaveReal(R8, (W57), (48), (BN7))
            call SaveUnitHandle(R8, (W57), (711), (GetSpellTargetUnit()))
            call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl", GetSpellTargetUnit(), "origin"))
        endif
    else
        set C77 = C77 + 1
        call SaveInteger(R8, (W57), (34), (C77))
        call SetUnitPathing(X77, false)
        if(LoadInteger(R8, (W57), (707))) == 1 then
            set TJH = TJH + 3
        else
            set TJH = TJH - 3
        endif
        call SaveInteger(R8, (W57), (706), (TJH))
        if TJH == 30 then
            call SaveInteger(R8, (W57), (707), (- 1))
        elseif TJH ==- 30 then
            call SaveInteger(R8, (W57), (707), (1))
        endif
        if H7E(X77) == false then
            if C77 < 15 then
                call SetUnitFlyHeight(X77, C77 * 20, 0)
            else
                call SetUnitFlyHeight(X77, 300 + TJH, 0)
            endif
        endif
        if C77 > (VID - 25)then
            if H7E(X77) == false then
                call SetUnitFlyHeight(X77, 300, 0)
            endif
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A27F', true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A27X', false)
            call TEH(Z77, X77, (LoadUnitHandle(R8, (W57), (711))), BM7, BN7, (LoadEffectHandle(R8, (W57), (32))), (LoadEffectHandle(R8, (W57), (176))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function TKH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A27F')
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    call UnitAddAbility(AC7, 'A282')
    call SetUnitAbilityLevel(AC7, 'A282', ML8)
    call IssueTargetOrderById(AC7, 852095, X77)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A27F', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A27X', true)
    call UnitAddAbility(Z77, 'A27X')
    call SetUnitPathing(X77, false)
    if H7E(X77) == false then
        call O68(X77, 'Amrf')
        call UnitRemoveAbility(X77, 'Amrf')
    endif
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (711), (X77))
    call SaveInteger(R8, (W57), (12), (R2I((1.25 + .25 * ML8) / .02)))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveInteger(R8, (W57), (706), (0))
    call SaveInteger(R8, (W57), (707), (1))
    call SaveReal(R8, (W57), (47), (GetUnitX(X77)))
    call SaveReal(R8, (W57), (48), (GetUnitY(X77)))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\AntiGravityTarget.mdx", X77, "origin")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl", GetUnitX(X77), GetUnitY(X77))))
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TIH))
    set Z77 = null
    set X77 = null
    set AC7 = null
    set t = null
endfunction
function TMH takes nothing returns boolean
    if GetSpellAbilityId() == 'A27F' and OE8(GetSpellTargetUnit()) == false then
        call TKH()
    endif
    return false
endfunction
function HA9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TMH))
    call PU8('A0X6')
    call PU8('A282')
    set t = null
endfunction
function TNH takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A27G')
    if IsUnitType(X77, UNIT_TYPE_HERO) then
        if ML8 == 1 then
            call TZ8(X77, 'A27W', 1, 10)
        elseif ML8 == 2 then
            call TZ8(X77, 'A286', 1, 10)
        elseif ML8 == 3 then
            call TZ8(X77, 'A285', 1, 10)
        elseif ML8 == 4 then
            call TZ8(X77, 'A287', 1, 10)
        endif
    else
        if ML8 == 1 then
            call TZ8(X77, 'A291', 1, 10)
        elseif ML8 == 2 then
            call TZ8(X77, 'A28Z', 1, 10)
        elseif ML8 == 3 then
            call TZ8(X77, 'A292', 1, 10)
        elseif ML8 == 4 then
            call TZ8(X77, 'A290', 1, 10)
        endif
    endif
    call S68(B_4, GetUnitX(X77), GetUnitY(X77))
endfunction
function TOH takes nothing returns nothing
    local real d
    if IsUnitInGroup(GetEnumUnit(), L94) == false then
        set d = Z47(GetEnumUnit(), L84)
        if d < LD4 then
            set LD4 = d
            set L74 = GetEnumUnit()
        endif
    endif
endfunction
function TPH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local group g = OG8()
    call GroupAddUnit(XCD, X77)
    call TNH(Z77, X77)
    set H04 = Z77
    set L74 = null
    set L84 = X77
    set L94 = XCD
    set LD4 = 999999
    call GroupEnumUnitsInRange(g, x, y, 440 + 25, Condition(function GenericCondition_EnemyUnitsExNoImmuneVisible))
    call ForGroup(g, function TOH)
    call OF8(g)
    if L74 == null or GetTriggerEvalCount(t) > 26 then
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set X77 = L74
        call SaveUnitHandle(R8, (W57), (17), (X77))
    endif
    set g = null
    set t = null
    set Z77 = null
    set X77 = null
    set XCD = null
    return false
endfunction
function TQH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local group XCD = OG8()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), GetUnitFacing(Z77))
    call S68(B_4, GetUnitX(Z77), GetUnitY(Z77))
    call O68(AC7, 'A284')
    call SetUnitAbilityLevel(AC7, 'A284', GetUnitAbilityLevel(Z77, 'A27G'))
    call IssueTargetOrderById(AC7, 852119, X77)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveGroupHandle(R8, (W57), (187), (XCD))
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerAddCondition(t, Condition(function TPH))
    set Z77 = null
    set X77 = null
    set t = null
    set AC7 = null
    set XCD = null
endfunction
function TRH takes nothing returns boolean
    if GetSpellAbilityId() == 'A27G' and OE8(GetSpellTargetUnit()) == false then
        call TQH()
    endif
    return false
endfunction
function HB9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TRH))
    set t = null
endfunction
function TSH takes nothing returns boolean
    if IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), GetLearnedSkill()) == 1 then
        if GetLearnedSkill() == 'A27F' then
            call UnitRemoveAbility(GetTriggerUnit(), 'A27I')
        elseif GetLearnedSkill() == 'A27G' then
            call UnitRemoveAbility(GetTriggerUnit(), 'A27K')
        elseif GetLearnedSkill() == 'A27V' then
            call UnitRemoveAbility(GetTriggerUnit(), 'A27J')
        endif
    endif
    return false
endfunction
function ARZ5 takes integer ARV5, integer ARW5 returns nothing
    set AYTI[AYPI] = ARV5
    set AYRI[AYPI] = ARW5
    set AYPI = AYPI + 1
endfunction
function ARX5 takes integer id returns integer
    local integer i = 0
    loop
        exitwhen i == AYPI
        if id == AYTI[i]or id == AYRI[i]then
            return i
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function TTH takes integer id returns nothing
    set LE4[LF4] = id
    set LF4 = LF4 + 1
endfunction
function TUH takes integer id returns boolean
    local integer i = 0
    loop
        exitwhen i == LF4
        if id == LE4[i]then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction
function TVH takes nothing returns boolean
    local integer i1 = GetSpellAbilityId()
    local ability a = GetSpellAbility()
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) and TUH(i1) == false and BlzGetAbilityBooleanField(a, ABILITY_BF_ITEM_ABILITY) == false then
        call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (705), (i1))
        call SaveInteger(R8, (GetHandleId(GetTriggerUnit())), (712), (GetUnitAbilityLevel(GetTriggerUnit(), i1)))
    endif
    return false
    set a = null
endfunction
function TWH takes unit u returns nothing
    call UnitRemoveAbility(u, 'A13D')
    call UnitRemoveAbility(u, 'A2NI')
    call UnitRemoveAbility(u, 'A1QV')
    call UnitRemoveAbility(u, 'A1TU')
    call UnitRemoveAbility(u, 'A24A')
    call UnitRemoveAbility(u, 'A24B')
    call UnitRemoveAbility(u, 'A1NH')
    call UnitRemoveAbility(u, 'A20N')
    call UnitRemoveAbility(u, 'A1Z2')
    call UnitRemoveAbility(u, 'A1Z3')
    call UnitRemoveAbility(u, 'A205')
    call UnitRemoveAbility(u, 'A1VU')
    call UnitRemoveAbility(u, 'A0GC')
    call UnitRemoveAbility(u, 'A24E')
    call UnitRemoveAbility(u, 'A1RA')
    call UnitRemoveAbility(u, 'A0HA')
    call UnitRemoveAbility(u, 'A0SA')
    call UnitRemoveAbility(u, 'A121')
    call UnitRemoveAbility(u, 'A1WF')
    call UnitRemoveAbility(u, 'A02T')
    call UnitRemoveAbility(u, 'A1S9')
    call UnitRemoveAbility(u, 'A21H')
    call UnitRemoveAbility(u, 'A1MN')
    call UnitRemoveAbility(u, 'A06K')
    call UnitRemoveAbility(u, 'A0NE')
    call UnitRemoveAbility(u, 'A0MP')
    call UnitRemoveAbility(u, 'A2MB')
    call UnitRemoveAbility(u, 'A2XJ')
endfunction
function TXH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer TYH = (LoadInteger(R8, (W57), (704)))
    local integer SSG = (LoadInteger(R8, (W57), (713)))
    if TYH == (LoadInteger(R8, (GetHandleId(Z77)), (704)))then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEvalCount(t) > (15 - SSG)and O18(Z77) == false then
        call UnitRemoveAbility(Z77, TYH)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function TZH takes unit Z77, integer TYH, real U89 returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function TXH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (704), (TYH))
    call SaveInteger(R8, (GetHandleId(Z77)), (704), (- 1))
    call SaveInteger(R8, (W57), (713), (R2I((TimerGetElapsed(E4)) - U89)))
    set t = null
endfunction
function TAH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer TYH = (LoadInteger(R8, (W57), (704)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A27H')
    local real U89 = (LoadReal(R8, (W57), (411)))
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(Z77, 'A2V9')
    endif
    if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT and GetTriggerEventId() != EVENT_WIDGET_DEATH then
        if C77 == 0 then
            call SaveInteger(R8, (W57), (34), (1))
            call DisplayTimedTextToPlayer(GetOwningPlayer(Z77), 0, 0, 10, "|c00ff0303" + GetObjectName('n0LW') + "|r")
        else
            call TWH(Z77)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), TYH, false)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call TZH(Z77, TYH, U89)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A27H' or GetSpellAbilityId() == 'A2V9' then
            call TWH(Z77)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), TYH, false)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call TZH(Z77, TYH, U89)
        elseif GetSpellAbilityId() == TYH then
            call SaveReal(R8, (W57), (411), (TimerGetElapsed(E4)))
        endif
    elseif GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call TWH(Z77)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), TYH, false)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call TZH(Z77, TYH, U89)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function TBH takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer TYH = (LoadInteger(R8, (W57), (704)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real TCH = 60 * (2 + GetUnitAbilityLevel(Z77, 'A27H'))
    if GetUnitAbilityLevel(Z77, 'A27H') == 0 then
        set TCH = 60 * (2 + GetUnitAbilityLevel(Z77, 'A2V9'))
    endif
    if(LoadInteger(R8, (GetHandleId(X77)), (3000))) > 0 then
        call SaveInteger(R8, (GetHandleId(Z77)), (3000), ((LoadInteger(R8, (GetHandleId(X77)), (3000)))))
    endif
    if(LoadInteger(R8, (GetHandleId(X77)), (3001))) > 0 then
        call SaveInteger(R8, (GetHandleId(Z77)), (3001), ((LoadInteger(R8, (GetHandleId(X77)), (3001)))))
    endif
    if(LoadInteger(R8, (GetHandleId(X77)), (3002))) > 0 then
        call SaveInteger(R8, (GetHandleId(Z77)), (3002), ((LoadInteger(R8, (GetHandleId(X77)), (3002)))))
    endif
    if(LoadInteger(R8, (GetHandleId(X77)), (710))) > 0 then
        call SaveInteger(R8, (GetHandleId(Z77)), (710), ((LoadInteger(R8, (GetHandleId(X77)), (710)))))
    endif
    call S68(B04, GetUnitX(Z77), GetUnitY(Z77))
    call QM8(GetObjectName(TYH), 3.5, Z77, .024, 170, 0, 255, 216)
    call SaveInteger(R8, (GetHandleId(Z77)), (704), (TYH))
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), TYH, true)
    call O68(Z77, TYH)
    call SetUnitAbilityLevel(Z77, TYH, ML8)
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveInteger(R8, (W57), (704), (TYH))
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEvent(t, TCH, false)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterTimerEvent(t, TCH - 20, false)
    call TriggerAddCondition(t, Condition(function TAH))
    // if IsComputer(GetOwningPlayer(Z77))then
    //     call KSG(Z77, TYH, X77)
    // endif
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function TLH takes unit Z77, unit X77, integer TYH, integer ML8 returns nothing
    local trigger t = T88(X77, Z77, 'h0DB', "TBH", 900, false)
    local integer W57 = GetHandleId(t)
    call S68(B14, GetUnitX(X77), GetUnitY(X77))
    call QM8(GetObjectName(TYH), 3.75, X77, .024, 170, 0, 255, 216)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (704), (TYH))
    call SaveInteger(R8, (W57), (5), (ML8))
    set t = null
endfunction
function T0H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer API5
    local integer AP15 = (LoadInteger(R8, (GetHandleId(X77)), (705)))
    if AP15 != 0 then
        call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Nebula.mdx", X77, "origin"))
        set API5 = ARX5(AP15)
        if API5 !=- 1 then
            if GetSpellAbilityId() == 'A27H' then
                set AP15 = AYTI[API5]
            else
                set AP15 = AYRI[API5]
            endif
        endif
        call TLH(Z77, X77, AP15, (LoadInteger(R8, (GetHandleId(X77)), (712))))
    endif
    set Z77 = null
    set X77 = null
endfunction
function T5H takes nothing returns boolean
    if (GetSpellAbilityId() == 'A27H' or GetSpellAbilityId() == 'A2V9') and OE8(GetSpellTargetUnit()) == false then
        call T0H()
    endif
    return false
endfunction
function T2H takes nothing returns nothing
    call TTH('A1WH')
    call TTH('ANcr')
    call TTH('A03G')
    call TTH('A093')
    call TTH('A15J')
    call TTH('A0AG')
    call TTH('A0BE')
    call TTH('A1TX')
    call TTH('A229')
    call TTH('A1RI')
    call TTH('A1C0')
    call TTH('A11T')
    call TTH('A19Z')
    call TTH('A2NE')
    call TTH('A13D')
    call TTH('A2NI')
    call TTH('A1QV')
    call TTH('A1TU')
    call TTH('A24A')
    call TTH('A24B')
    call TTH('A1NH')
    call TTH('A20N')
    call TTH('A1Z2')
    call TTH('A1Z3')
    call TTH('A205')
    call TTH('A1VU')
    call TTH('A0GC')
    call TTH('A24E')
    call TTH('A2XJ')
    call TTH('A1RA')
    call TTH('A0HA')
    call TTH('A0SA')
    call TTH('A121')
    call TTH('A1WF')
    call TTH('A02T')
    call TTH('A1S9')
    call TTH('A21H')
    call TTH('A1MN')
    call TTH('A0KX')
    call TTH('A0KW')
    call TTH('A0A5')
    call TTH('A0BG')
    call TTH('A21W')
    call TTH('A21X')
    call TTH('A21V')
    call TTH('A21Y')
    call TTH('A1GU')
    call TTH('A1VH')
    call TTH('A1VG')
    call TTH('A2M0')
    call TTH('A2MB')
    call TTH('A2O2')
    call TTH('A2O9')
    call TTH('A1S7')
    call TTH('A2XK')
    call TTH('A0QN')
    call TTH('A026')
    call TTH('AHfa')
    call TTH('A09V')
    call TTH('A0DY')
    call TTH('A1WB')
    call TTH('A0LZ')
    call TTH('A0OI')
    call TTH('A2UM')
    call TTH('A1NA')
    call TTH('A1EA')
    call TTH('A0NS')
    call TTH('A1DA')
    call TTH('A28Q')
    call TTH('A0WQ')
    call TTH('A1T8')
    call TTH('A10R')
    call TTH('A11N')
    call TTH('A0EY')
    call TTH('A0FH')
    call TTH('A0VK')
    call TTH('A0VQ')
    call TTH('A073')
    call TTH('A27F')
    call TTH('A27X')
    call TTH('A27G')
    call TTH('A27H')
    call TTH('A02X')
    call TTH('A28F')
    call TTH('A2E6')
    call TTH('A2JO')
    call TTH('A2JQ')
    call TTH('A2JP')
    call TTH('A2JR')
    call TTH('A2JL')
    call TTH('A2FX')
    call TTH('A2TH')
    call TTH('A2TJ')
    call TTH('A3E7')
    call TTH('A3Q6')
    call TTH('A13T')
    call ARZ5('A1W8', 'A1W9')
    call ARZ5('A21F', 'A21G')
    call ARZ5('A05T', 'A08H')
    call ARZ5('A01P', 'A09Z')
    call ARZ5('A095', 'A09W')
    call ARZ5('A0MU', 'A0A2')
    call ARZ5('A054', 'A00U')
    call ARZ5('A067', 'A08P')
    call ARZ5('A0CC', 'A02Z')
    call ARZ5('A28R', 'A28S')
    call ARZ5('A00H', 'A0A1')
    call ARZ5('A03R', 'A0AV')
    call ARZ5('A013', 'A0A6')
    call ARZ5('A0NT', 'A0NX')
    call ARZ5('A29G', 'A29H')
    call ARZ5('A0Z8', 'A1CV')
    call ARZ5('A0IN', 'A1AW')
    call ARZ5('A0M1', 'A1AX')
    call ARZ5('A03O', 'A1AY')
    call ARZ5('A0LT', 'A1CS')
    call ARZ5('A03K', 'A1B0')
    call ARZ5('A0O5', 'A1B1')
    call ARZ5('A06O', 'A1B4')
    call ARZ5('A0QR', 'A1B3')
    call ARZ5('A21Y', 'A1GU')
    call ARZ5('A01Y', 'A1AZ')
    call ARZ5('A0MQ', 'A1B6')
    call ARZ5('A06I', 'A1CX')
    call ARZ5('A12P', 'A1D6')
    call ARZ5('A0J1', 'A1D7')
    call ARZ5('A0G4', 'A1D8')
    call ARZ5('A02Q', 'A1D9')
    call ARZ5('A0NS', 'A1DA')
    call ARZ5('A10Q', 'A1DB')
    call ARZ5('A0AK', 'A1FY')
    call ARZ5('A0E2', 'A1MR')
    call ARZ5('A0CT', 'A3DM')
    call ARZ5('A19O', 'A1MV')
    call ARZ5('A0DH', 'A1OB')
    call ARZ5('A0S8', 'A1QP')
    call ARZ5('S008', 'S00U')
    call ARZ5('A1AO', 'A1UV')
    call ARZ5('A080', 'A1UZ')
    call ARZ5('A0OK', 'A1VW')
    call ARZ5('A0DY', 'A1WB')
    call ARZ5('A0QK', 'A21Q')
    call ARZ5('A1T5', 'A235')
    call ARZ5('A0MW', 'A27C')
    call ARZ5('A0O2', 'A289')
    call ARZ5('A1NE', 'A2IG')
    call ARZ5('A0L3', 'A2QC')
    call ARZ5('A1MI', 'A2QE')
    call ARZ5('A0ER', 'A2S8')
    call ARZ5('A2BG', 'A2TU')
    call ARZ5('A1BX', 'A2TX')
    call ARZ5('A27H', 'A2V9')
    call ARZ5('A1U6', 'A2V8')
    call ARZ5('A1A1', 'A2ZH')
    call ARZ5('A049', 'A2WB')
    call ARZ5('A05E', 'A2WA')
    call ARZ5('A2O6', 'A384')
    call ARZ5('A2CI', 'A38C')
    call ARZ5('A306', 'A307')
    call ARZ5('A11K', 'A3OF')
    call ARZ5('A29J', 'A1MP')
    call ARZ5('A046', 'A3OH')
    call ARZ5('A0LC', 'A3NY')
    call ARZ5('A07U', 'A38E')
    call ARZ5('A28T', 'A2YN')
endfunction
function HC9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function T5H))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TVH))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function TSH))
    set t = null
    call T2H()
endfunction
function T_H takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A27S') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A27S')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A27Q') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A27Q')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A27R') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A27R')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A27T') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A27T')
    endif
endfunction
function U4H takes nothing returns nothing
    if S_9(GetEnumUnit())then
        return
    endif
    if LG4 == 1 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A27S') == 0 then
            call O68(GetEnumUnit(), 'A27S')
        endif
    elseif LG4 == 2 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A27Q') == 0 then
            call UnitRemoveAbility(GetEnumUnit(), 'A27S')
            call O68(GetEnumUnit(), 'A27Q')
        endif
    elseif LG4 == 3 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A27R') == 0 then
            call UnitRemoveAbility(GetEnumUnit(), 'A27S')
            call UnitRemoveAbility(GetEnumUnit(), 'A27Q')
            call O68(GetEnumUnit(), 'A27R')
        endif
    elseif LG4 == 4 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A27T') == 0 then
            call UnitRemoveAbility(GetEnumUnit(), 'A27S')
            call UnitRemoveAbility(GetEnumUnit(), 'A27Q')
            call UnitRemoveAbility(GetEnumUnit(), 'A27R')
            call O68(GetEnumUnit(), 'A27T')
        endif
    endif
endfunction
function U7H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local group XIE = (LoadGroupHandle(R8, (W57), (340)))
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    if Z77 == null or GetUnitTypeId(Z77) != 'E02X' then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call ForGroup(XIE, function T_H)
        call OF8(XIE)
        call OF8(g)
        return false
    endif
    set H04 = Z77
    set LG4 = GetUnitAbilityLevel(Z77, 'A27V')
    if O18(Z77) == false and IsBroken(Z77) == false then
        call GroupEnumUnitsInRange(g, x, y, 925, Condition(function GenericCondition_AllyUnitsExHeroes))
    endif
    call BlzGroupRemoveGroupFast(g, XIE)
    call ForGroup(XIE, function T_H)
    if O18(Z77) == false and IsBroken(Z77) == false then
        call ForGroup(g, function U4H)
    endif
    call SaveGroupHandle(R8, (W57), (340), (g))
    call OF8(XIE)
    set t = null
    set Z77 = null
    set XIE = null
    set g = null
    return false
endfunction
function U8H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .3, true)
    call TriggerAddCondition(t, Condition(function U7H))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveGroupHandle(R8, (W57), (340), (OG8()))
    call GVD('A27S')
    call GVD('A27Q')
    call GVD('A27R')
    call GVD('A27T')
    set t = null
    set Z77 = null
endfunction
function U9H takes nothing returns boolean
    if GetLearnedSkill() == 'A27V' and GetUnitAbilityLevel(GetTriggerUnit(), 'A27V') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call U8H()
    endif
    return false
endfunction
function H39 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function U9H))
    set t = null
endfunction
function UDH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call AddUnitAnimationProperties(Z77, "alternate", false)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function UEH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function UDH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function UFH takes nothing returns boolean
    if(GetSpellAbilityId() == 'A073')and GetUnitTypeId(GetTriggerUnit()) == 'E02X' then
        call UEH()
    endif
    return false
endfunction
function H69 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UFH))
    set t = null
endfunction
function SpiritSiphonActionCondt takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit Z77 = LoadUnitHandle(R8, (EC8), (2))
    local unit X77 = LoadUnitHandle(R8, (EC8), (17))
    local integer ML8 = LoadInteger(R8, (EC8), (5))
    local real P08
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or not IsUnitInRange(Z77, X77, 500 + 300)or GetTriggerEvalCount(t) > 5 / 0.25 then
        call UnitRemoveAbility(X77, 'A3N6')
        call UnitRemoveAbility(X77, 'B3N6')
        call EA8(t)
    else
        call GMD("BANS", Z77, X77, .65, .65, .65, 1, .25)
        set P08 = (20 + GetUnitState(X77, UNIT_STATE_MAX_LIFE) * 0.01 * (1. * ML8)) * 0.25
        call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) + P08)
        call V08(Z77, X77, AB4, P08)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function SpiritSiphonAction takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A3N5')
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    call UnitAddAbility(X77, 'A3N6')
    call SetUnitAbilityLevel(X77, 'A3N6', ML8)
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function SpiritSiphonActionCondt))
    call SaveUnitHandle(R8, (EC8), (2), Z77)
    call SaveUnitHandle(R8, (EC8), (17), X77)
    call SaveInteger(R8, (EC8), (5), ML8)
    call TriggerEvaluate(t)
    set t = null
    set Z77 = null
    set X77 = null
endfunction
function SpiritSiphonCondt takes nothing returns boolean
    if GetSpellAbilityId() == 'A3N5' then
        call SpiritSiphonAction()
    endif
    return false
endfunction
function SpiritSiphonRegChargedCondt takes nothing returns boolean
    if GetLearnedSkill() == 'A3N5' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A3N5') == 1 then
        call RegisterChargedSkill(GetTriggerUnit(), 'A3N5', 1, 1, 2, 3, 4)
    endif
    return false
endfunction
function Register_SpiritSiphon takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SpiritSiphonCondt))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function SpiritSiphonRegChargedCondt))
    set t = null
endfunction
function UGH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A29V')
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A29W' then
            call UnitRemoveAbility(Z77, 'A29W')
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A29W', false)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A29V', true)
            call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            call V18(Z77, X77, .5 + .5 * ML8)
            call SetUnitX(Z77, GetUnitX(X77))
            call SetUnitY(Z77, GetUnitY(X77))
            call IssueTargetOrderById(Z77, 851983, X77)
            call UnitShareVision(X77, GetOwningPlayer(Z77), false)
        endif
    else
        call UnitRemoveAbility(Z77, 'A29W')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A29W', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A29V', true)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call UnitShareVision(X77, GetOwningPlayer(Z77), false)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function UHH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEvalCount(GetTriggeringTrigger()) > 30 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call TF9(Z77)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function UIH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A29V')
    if C77 > 60 then
        call UnitRemoveAbility(Z77, 'B0EV')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 100 and IsUnitType(GetEventDamageSource(), UNIT_TYPE_STRUCTURE) == false then
            call BlzSetEventDamage(0.)
            set X77 = Y7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]
            call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
            call TF9(Z77)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            if O18(X77) == false then
                call UnitShareVision(X77, GetOwningPlayer(Z77), true)
                call O68(Z77, 'A29W')
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A29W', true)
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A29V', false)
                set t = CreateTrigger()
                set W57 = GetHandleId(t)
                call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
                call TriggerRegisterTimerEvent(t, 4, false)
                call TriggerAddCondition(t, Condition(function UGH))
                call SaveUnitHandle(R8, (W57), (2), (Z77))
                call SaveUnitHandle(R8, (W57), (17), (X77))
                call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx", Z77, "origin")))
                call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx", X77, "origin")))
                set t = CreateTrigger()
                set W57 = GetHandleId(t)
                call TriggerRegisterTimerEvent(t, .1, true)
                call TriggerAddCondition(t, Condition(function UHH))
                call SaveUnitHandle(R8, (W57), (2), (Z77))
            endif
        endif
    else
        call SaveInteger(R8, (W57), (34), (C77 + 1))
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function UJH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function UIH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (34), (0))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\RetaliationShield.mdx", Z77, "chest")))
    set Z77 = null
    set t = null
endfunction
function UKH takes nothing returns boolean
    if GetSpellAbilityId() == 'A29V' then
        call UJH()
    endif
    return false
endfunction
function Register_Retaliation takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UKH))
    set t = null
endfunction
function UMH takes nothing returns nothing
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl", GetEnumUnit(), "chest"))
    call V08(IG7, GetEnumUnit(), AB4, (20 + 10 * IH7) / 5)
endfunction
function UNH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2HS')
    local group g
    if GetUnitAbilityLevel(Z77, 'B0FP') == 0 and GetUnitAbilityLevel(Z77, 'B0FQ') == 0 then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(Z77, 'A2H7')
        call UnitRemoveAbility(Z77, 'B0FO')
        call UnitRemoveAbility(Z77, 'A2IX')
        call UnitRemoveAbility(Z77, 'A2IW')
        call UnitRemoveAbility(Z77, 'A2IV')
        call UnitRemoveAbility(Z77, 'A2IY')
    else
        set H04 = Z77
        set IG7 = Z77
        set IH7 = ML8
        set g = OG8()
        call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 400 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function UMH)
        call OF8(g)
    endif
    set g = null
    set t = null
    set Z77 = null
    return false
endfunction
function UOH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2HS')
    call UnitAddAbility(AC7, 'A2H5')
    call SetUnitAbilityLevel(AC7, 'A2H5', ML8)
    call IssueTargetOrderById(AC7, 852186, Z77)
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddCondition(t, Condition(function UNH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("war3mapImported\\FlameGuard.mdx", Z77, "origin")))
    set Z77 = null
    set AC7 = null
    set t = null
endfunction
function UPH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2HS' then
        call UOH()
    endif
    return false
endfunction
function H19 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UPH))
    set t = null
endfunction
function UQH takes unit p5 returns nothing
    call UnitRemoveAbility(p5, 'BOhx')
    call UnitRemoveAbility(p5, 'B00H')
endfunction
function URH takes unit p5 returns nothing
    call UnitRemoveAbility(p5, 'A2H9')
    call UnitRemoveAbility(p5, 'B0FM')
endfunction
function USH takes unit p5 returns nothing
    call UnitRemoveAbility(p5, 'A2JH')
    call UnitRemoveAbility(p5, 'A2JG')
    call UnitRemoveAbility(p5, 'A2JJ')
    call UnitRemoveAbility(p5, 'A2JI')
    call UnitRemoveAbility(p5, 'B0FL')
endfunction
function UTH takes unit p5 returns nothing
    call O68(p5, 'A2H9')
endfunction
function UUH takes unit p5 returns nothing
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2H0')
    if TA8 == 1 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A2JH', false)
        call O68(p5, 'A2JH')
    elseif TA8 == 2 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A2JG', false)
        call O68(p5, 'A2JG')
    elseif TA8 == 3 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A2JJ', false)
        call O68(p5, 'A2JJ')
    elseif TA8 == 4 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A2JI', false)
        call O68(p5, 'A2JI')
    endif
endfunction
function UVH takes unit p5, unit target returns nothing
    local real a = GetRandomReal(0, 360)
    local real x = GetUnitX(target) + 50 * Cos(a * bj_DEGTORAD)
    local real y = GetUnitY(target) + 50 * Sin(a * bj_DEGTORAD)
    call SetUnitPosition(p5, x, y)
    call SetUnitFacing(p5, bj_RADTODEG * Atan2(GetUnitY(target) - GetUnitY(p5), GetUnitX(target) - GetUnitX(p5)))
    call SetUnitAnimation(p5, "Attack")
    call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Fire_Blink_2.mdx", p5, "chest"))
    call USH(p5)
    if IsUnitType(target, UNIT_TYPE_HERO) == true or IsUnitIllusion(target) == true then
        call UUH(p5)
        call UnitRemoveAbility(p5, 'A2JF')
    else
        call O68(p5, 'A2JF')
        call SetPlayerAbilityAvailable(GetOwningPlayer(p5), 'A2JF', false)
    endif
    call IssueTargetOrder(p5, "attack", target)
endfunction
function UWH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local real x = (LoadReal(R8, (EC8), (6)))
    local real y = (LoadReal(R8, (EC8), (7)))
    local real PPD = (LoadReal(R8, (EC8), (189)))
    local real PQD = (LoadReal(R8, (EC8), (190)))
    local group XCD = (LoadGroupHandle(R8, (EC8), (187)))
    local group g = (LoadGroupHandle(R8, (EC8), (22)))
    local unit target = null
    local boolean LKG = false
    local fogmodifier N4E = (LoadFogModifierHandle(R8, (EC8), (42)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2H0')
    loop
        exitwhen FirstOfGroup(g) == null or LKG
        set target = FirstOfGroup(g)
        call GroupRemoveUnit(g, target)
        if IsUnitInGroup(target, XCD)and target != null then
            set target = null
            set LKG = false
        else
            set LKG = true
        endif
    endloop
    call SetUnitPathing(p5, false)
    call SetUnitInvulnerable(p5, true)
    call UE8(p5)
    if LKG == false or((LoadInteger(R8, (GetHandleId((p5))), ((4319)))) == 1) == true then
        call SaveInteger(R8, (GetHandleId((p5))), ((4318)), (2))
        call URH(p5)
        call UnitRemoveAbility(p5, 'A2JF')
        call USH(p5)
        call UE8(p5)
        call UQH(p5)
        call UnitAddAbility(p5, 'A2H2')
        call UnitRemoveAbility(p5, 'A2H2')
        call UE8(p5)
        if((LoadInteger(R8, (GetHandleId((p5))), ((4319)))) == 1) == false then
            call SetUnitX(p5, PPD)
            call SetUnitY(p5, PQD)
        endif
        call SetUnitVertexColor(p5, 255, 255, 255, 255)
        call SetUnitPathing(p5, true)
        call SetUnitInvulnerable(p5, false)
        call SetUnitTimeScale(p5, 1)
        call OF8(XCD)
        call OF8(g)
        call RemoveUnit((LoadUnitHandle(R8, (EC8), (19))))
        call FogModifierStop(N4E)
        call DestroyFogModifier(N4E)
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    else
        call GroupAddUnit(XCD, target)
        call UVH(p5, target)
    endif
    set t = null
    set p5 = null
    set target = null
    set g = null
    set XCD = null
    set N4E = null
    return false
endfunction
function UXH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local fogmodifier N4E = CreateFogModifierRadius(GetOwningPlayer(p5), FOG_OF_WAR_VISIBLE, x, y, 600, true, true)
    local unit oA = CreateUnit(GetOwningPlayer(p5), 'h0E7', GetUnitX(p5), GetUnitY(p5), GetUnitFacing(p5))
    local group g = OG8()
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2H0')
    call SetUnitVertexColor(oA, 255, 255, 255, 100)
    call FogModifierStart(N4E)
    call SaveInteger(R8, (GetHandleId((p5))), ((4318)), (1))
    set H04 = p5
    call GroupEnumUnitsInRange(g, x, y, 150 + 100 * TA8 + 25, Condition(function T_8))
    call UE8(p5)
    call UQH(p5)
    call UnitAddAbility(p5, 'A2H1')
    call UnitRemoveAbility(p5, 'A2H1')
    call SetUnitVertexColor(p5, 255, 255, 255, 125)
    call SetUnitPathing(p5, false)
    call SetUnitInvulnerable(p5, true)
    call SetUnitTimeScale(p5, 3)
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddCondition(t, Condition(function UWH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveReal(R8, (EC8), (6), (x))
    call SaveReal(R8, (EC8), (7), (y))
    call SaveReal(R8, (EC8), (189), (GetUnitX(p5)))
    call SaveReal(R8, (EC8), (190), (GetUnitY(p5)))
    call SaveGroupHandle(R8, (EC8), (187), (OG8()))
    call SaveGroupHandle(R8, (EC8), (22), (g))
    call SaveFogModifierHandle(R8, (EC8), (42), (N4E))
    call SaveUnitHandle(R8, (EC8), (19), (oA))
    call UTH(p5)
    call TriggerEvaluate(t)
    set p5 = null
    set t = null
    set N4E = null
    set oA = null
    set g = null
endfunction
function UYH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2H0' then
        call UXH()
    endif
    return false
endfunction
function UZH takes nothing returns boolean
    local unit Q89 = GetSummonedUnit()
    if IsUnitIllusion(Q89) == true and GetUnitTypeId(Q89) == 'N0MH' then
        call URH(Q89)
        call UnitRemoveAbility(Q89, 'A2JF')
        call USH(Q89)
        call UnitAddAbility(Q89, 'A2H2')
        call UnitRemoveAbility(Q89, 'A2H2')
    endif
    set Q89 = null
    return false
endfunction
function H09 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UYH))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function UZH))
    call GVD('A2H9')
    set t = null
endfunction
function UAH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit p5 = (LoadUnitHandle(R8, (EC8), (2)))
    local unit target = (LoadUnitHandle(R8, (EC8), (17)))
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2H3')
    local integer VID = 1
    local real P99
    if TA8 == 1 then
        set VID = 1
        set P99 = 80
    endif
    if TA8 == 2 then
        set VID = 2
        set P99 = 60
    endif
    if TA8 == 3 then
        set VID = 2
        set P99 = 120
    endif
    if TA8 == 4 then
        set VID = 3
        set P99 = 100
    endif
    if GetTriggerEvalCount(t) == VID then
        call FlushChildHashtable(R8, EC8)
        call EA8(t)
    endif
    call V08(p5, target, 1, P99)
    set t = null
    set p5 = null
    set target = null
    return false
endfunction
function UBH takes nothing returns nothing
    local unit p5 = H04
    local unit target = H54
    local unit oA = CreateUnit(GetOwningPlayer(target), 'e00E', GetUnitX(target), GetUnitY(target), 0)
    local trigger t = CreateTrigger()
    local integer EC8 = GetHandleId(t)
    local integer TA8 = GetUnitAbilityLevel(p5, 'A2H3')
    call UnitAddAbility(oA, 'A2H4')
    call SetUnitAbilityLevel(oA, 'A2H4', TA8)
    call IssueTargetOrder(oA, "ensnare", target)
    call TriggerAddCondition(t, Condition(function UAH))
    call SaveUnitHandle(R8, (EC8), (2), (p5))
    call SaveUnitHandle(R8, (EC8), (17), (target))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerRegisterTimerEvent(t, 1, true)
    set oA = null
    set p5 = null
    set target = null
    set t = null
endfunction
function UCH takes nothing returns nothing
    local unit p5 = GetTriggerUnit()
    local group g = OG8()
    local real x = GetUnitX(p5)
    local real y = GetUnitY(p5)
    local unit u1 = null
    local unit u2 = null
    local unit u3 = null
    local integer IM8 = 0
    local unit u
    set H04 = p5
    call GroupEnumUnitsInRange(g, x, y, 425, Condition(function GenericCondition_EnemyUnitsExNoImmuneVisible))
    loop
        exitwhen FirstOfGroup(g) == null or IM8 == 2
        set u = GroupPickRandomUnit(g)
        if u != null then
            if IM8 == 0 then
                set u1 = u
            elseif IM8 == 1 then
                set u2 = u
            elseif IM8 == 2 then
                set u3 = u
            endif
            set IM8 = IM8 + 1
            call GroupRemoveUnit(g, u)
        endif
    endloop
    call OF8(g)
    if u1 != null then
        call T88(p5, u1, 'h0E0', "UBH", 9000, false)
    endif
    if u2 != null then
        call T88(p5, u2, 'h0E0', "UBH", 9000, false)
    endif
    if u3 != null then
    endif
    set g = null
    set p5 = null
    set u = null
    set u1 = null
    set u2 = null
    set u3 = null
endfunction
function U3H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2H3' then
        call UCH()
    endif
    return false
endfunction
function HL9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U3H))
    set t = null
endfunction
function U6H takes nothing returns boolean
    local unit Z77 = (LoadUnitHandle(R8, (GetHandleId(GetTriggeringTrigger())), (2)))
    local integer W57 = GetHandleId(Z77)
    local integer i = 0
    local real QZH = (TimerGetElapsed(E4))
    local integer ULH = (LoadInteger(R8, (W57), (749)))
    local real x
    local real y
    local real t
    loop
        exitwhen i > ULH
        set t = (LoadReal(R8, (W57), (10000 + i)))
        if t + 10 > QZH then
            set x = (LoadReal(R8, (W57), (11000 + i)))
            set y = (LoadReal(R8, (W57), (12000 + i)))
        endif
        set i = i + 1
    endloop
    set Z77 = null
    return false
endfunction
function U1H takes integer W57, integer ULH, real S_8, real T48 returns boolean
    local real x
    local real y
    local real t
    local integer i = 0
    local real QZH = (TimerGetElapsed(E4))
    loop
        exitwhen i > ULH
        set t = (LoadReal(R8, (W57), (10000 + i)))
        if t + 10 > QZH then
            set x = (LoadReal(R8, (W57), (11000 + i)))
            set y = (LoadReal(R8, (W57), (12000 + i)))
            if Z87(x, y, S_8, T48) < 75 then
                return true
            endif
        endif
        set i = i + 1
    endloop
    return false
endfunction
function U0H takes integer W57, integer ULH returns integer
    local real t
    local integer i = 0
    local real QZH = (TimerGetElapsed(E4))
    loop
        exitwhen i > ULH
        set t = (LoadReal(R8, (W57), (10000 + i)))
        if t + 10 < QZH then
            return i
        endif
        set i = i + 1
    endloop
    return - 1
endfunction
function U5H takes unit Z77, integer U2H, real x, real y returns nothing
    local integer W57 = GetHandleId(Z77)
    local integer ULH = (LoadInteger(R8, (W57), (749)))
    local integer U_H
    if U1H(W57, ULH, x, y)then
        return
    endif
    set U_H = U0H(W57, ULH)
    if U_H ==- 1 then
        set U_H = ULH
        set ULH = ULH + 1
        call SaveInteger(R8, (W57), (749), (ULH))
    endif
    call SaveInteger(R8, (W57), (13000), (U2H))
    call SaveReal(R8, (W57), (10000), (TimerGetElapsed(E4)))
    call SaveReal(R8, (W57), (11000), (x))
    call SaveReal(R8, (W57), (11000), (y))
endfunction
function V4H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function U6H))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set Z77 = null
    set t = null
endfunction
function V7H takes nothing returns nothing
    call V08(IJ7, GetEnumUnit(), 1, 50 + II7 * 50)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl", GetEnumUnit(), "origin"))
endfunction
function V8H takes unit Z77, unit ETE, real x, real y returns nothing
    local group g
    call KillUnit(ETE)
    call QH8("war3mapImported\\Firaga_2.mdx", x, y, 2)
    set g = OG8()
    set H04 = Z77
    set IJ7 = Z77
    set II7 = GetUnitAbilityLevel(Z77, 'A2JK')
    call GroupEnumUnitsInRange(g, x, y, 450 + 25, Condition(function GenericCondition_EnemyUnitsEx))
    call UnitRemoveAbility(Z77, 'A04R')
    call ForGroup(g, function V7H)
    call O68(Z77, 'A04R')
    call OF8(g)
    set g = null
endfunction
function V9H takes unit Z77, unit VDH returns nothing
    local integer W57 = GetHandleId(Z77)
    local integer VEH = (LoadInteger(R8, (W57), (746)))
    local unit VFH
    local integer i = 1
    local integer x
    loop
        exitwhen i > VEH
        set VFH = (LoadUnitHandle(R8, (W57), (1450 + i)))
        if VFH == VDH then
            set VEH = VEH - 1
            call SaveUnitHandle(R8, (W57), (1450 + i), ((LoadUnitHandle(R8, (W57), (1450 + i + 1)))))
            call SaveInteger(R8, (W57), (746), (VEH))
            set x = i + 1
            loop
                exitwhen x > VEH
                call SaveUnitHandle(R8, (W57), (1450 + x), ((LoadUnitHandle(R8, (W57), (1450 + x + 1)))))
                set x = x + 1
            endloop
        endif
        set i = i + 1
    endloop
    set VFH = null
endfunction
function VGH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit ETE = (LoadUnitHandle(R8, (W57), (19)))
    local real PPD = GetUnitX(ETE)
    local real PQD = GetUnitY(ETE)
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local real a = YI7(PPD, PQD, BM7, BN7) * bj_DEGTORAD
    local real S_8
    local real T48
    local real d = Z87(PPD, PQD, BM7, BN7)
    local real AQD = GetUnitMoveSpeed(Z77) * 2.5 * .02
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call V9H(Z77, ETE)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif d < 2 then
        call SetUnitAnimationByIndex(ETE, 1)
    else
        if d < AQD then
            set S_8 = BM7
            set T48 = BN7
        else
            set S_8 = PPD + AQD * Cos(a)
            set T48 = PQD + AQD * Sin(a)
        endif
        call SetUnitX(ETE, S_8)
        call SetUnitY(ETE, T48)
    endif
    set t = null
    set Z77 = null
    set ETE = null
    return false
endfunction
function VHH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), GetSpellTargetX(), GetSpellTargetY()) * bj_DEGTORAD
    local integer W57 = GetHandleId(Z77)
    local integer VEH = (LoadInteger(R8, (W57), (746)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2JK')
    local unit VFH = (LoadUnitHandle(R8, (W57), (1450 + 1)))
    local unit VIH = CreateUnit(GetOwningPlayer(Z77), 'h0E8', GetUnitX(Z77), GetUnitY(Z77), a * bj_RADTODEG)
    local trigger t
    local integer i = 1
    set VEH = VEH + 1
    call SaveUnitHandle(R8, (W57), (1450 + VEH), (VIH))
    call SaveInteger(R8, (W57), (746), (VEH))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call SetUnitVertexColor(VIH, 255, 255, 255, 75)
    call SetUnitTimeScale(VIH, 2)
    call SetUnitAnimationByIndex(VIH, 0)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function VGH))
    call TriggerRegisterDeathEvent(t, VIH)
    call UnitApplyTimedLife(VIH, 'BTLF', 45)
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx", VIH, "hand right alternate")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx", VIH, "hand left alternate")))
    call SaveEffectHandle(R8, (W57), (177), (AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx", VIH, "origin")))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (19), (VIH))
    call SaveReal(R8, (W57), (47), (GetSpellTargetX()))
    call SaveReal(R8, (W57), (48), (GetSpellTargetY()))
    set Z77 = null
    set t = null
    set VFH = null
    set VIH = null
endfunction
function VJH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local integer YLE = (LoadInteger(R8, (GetHandleId(Z77)), (747)))
    if YLE > 0 then
        call VHH()
        call UnitRemoveAbility(Z77, IP7[YLE])
        set YLE = YLE - 1
        call SaveInteger(R8, (GetHandleId(Z77)), (747), (YLE))
        call O68(Z77, IP7[YLE])
    else
        call PN8(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0NY'))
    endif
    set Z77 = null
endfunction
function VKH takes nothing returns boolean
    return GetUnitTypeId(GetFilterUnit()) == 'h0E8'
endfunction
function FireRemnant_FindTargetClosest takes nothing returns nothing
    local real LW7 = Z87(GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), IK7, IM7)
    if LW7 > IN7 and O18(GetEnumUnit()) == false then
        set IO7 = GetEnumUnit()
        set IN7 = LW7
    endif
endfunction
function VNH takes unit Z77, real x, real y returns unit
    local group g = OG8()
    set IO7 = null
    set IN7 =- 1
    set IK7 = x
    set IM7 = y
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(Z77), Condition(function VKH))
    call ForGroup(g, function FireRemnant_FindTargetClosest)
    call OF8(g)
    set g = null
    return IO7
endfunction
function VOH takes unit u1, unit u2 returns real
    local real UFD = Z47(u1, u2)
    local real RF8 = UFD / 1300.
    if RF8 > .4 then
        return UFD / .4
    endif
    return 1300.
endfunction
function VPH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real GJF = (LoadReal(R8, (W57), (47)))
    local real GKF = (LoadReal(R8, (W57), (48)))
    local unit ETE = (LoadUnitHandle(R8, (W57), (19)))
    local real PPD = GetUnitX(Z77)
    local real PQD = GetUnitY(Z77)
    local real BM7 = (LoadReal(R8, (W57), (6)))
    local real BN7 = (LoadReal(R8, (W57), (7)))
    local real a
    local real S_8
    local real T48
    local real d
    local real VQH = (LoadReal(R8, (W57), (44)))
    local real AQD = VQH * .02
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if ETE != null then
        set BM7 = GetUnitX(ETE)
        set BN7 = GetUnitY(ETE)
        call SaveReal(R8, (W57), (6), ((BM7) * 1.))
        call SaveReal(R8, (W57), (7), ((BN7) * 1.))
    endif
    set a = YI7(PPD, PQD, BM7, BN7) * bj_DEGTORAD
    set d = Z87(PPD, PQD, BM7, BN7)
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call SaveInteger(R8, (GetHandleId((Z77))), ((4319)), (2))
        call SetUnitVertexColor(Z77, 255, 255, 255, 255)
        call SetUnitTimeScale(Z77, 1)
        call SetUnitAnimationByIndex(Z77, 0)
        call SetUnitPathing(Z77, true)
        call SetUnitInvulnerable(Z77, false)
        call UnitRemoveAbility(Z77, 'A04R')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif d < AQD then
        call SetUnitX(Z77, BM7)
        call SetUnitY(Z77, BN7)
        call V8H(Z77, ETE, BM7, BN7)
        set ETE = VNH(Z77, GJF, GKF)
        if ETE == null then
            call SaveInteger(R8, (GetHandleId((Z77))), ((4319)), (2))
            call SC8(BM7, BN7, 100)
            call SetUnitVertexColor(Z77, 255, 255, 255, 255)
            call SetUnitTimeScale(Z77, 1)
            call SetUnitAnimationByIndex(Z77, 1)
            call SetUnitPathing(Z77, true)
            call SetUnitInvulnerable(Z77, false)
            call UnitRemoveAbility(Z77, 'A04R')
            call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (177))))
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        else
            call SaveInteger(R8, (W57), (34), (C77 + 1))
            call SaveUnitHandle(R8, (W57), (19), (ETE))
            call SaveReal(R8, (W57), (44), ((VOH(Z77, ETE)) * 1.))
            call SaveReal(R8, (W57), (6), ((GetUnitX(ETE)) * 1.))
            call SaveReal(R8, (W57), (7), ((GetUnitY(ETE)) * 1.))
        endif
    else
        call SetUnitAnimationByIndex(Z77, 0)
        call SetUnitPathing(Z77, false)
        set S_8 = PPD + AQD * Cos(a)
        set T48 = PQD + AQD * Sin(a)
        call SetUnitX(Z77, S_8)
        call SetUnitY(Z77, T48)
        call SetUnitFacing(Z77, a * bj_RADTODEG)
        call SC8(S_8, T48, 100)
    endif
    call U5H(Z77, C77, GetUnitX(Z77), GetUnitY(Z77))
    set t = null
    set Z77 = null
    set ETE = null
    return false
endfunction
function VRH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) + 150)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function VSH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t
    local integer W57 = GetHandleId(Z77)
    local integer VEH = (LoadInteger(R8, (W57), (746)))
    local unit ETE
    if VEH > 0 and((LoadInteger(R8, (GetHandleId((Z77))), ((4319)))) == 1) == false then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call SetUnitVertexColor(Z77, 255, 0, 0, 75)
        call SetUnitTimeScale(Z77, 2)
        call SetUnitAnimationByIndex(Z77, 0)
        call SetUnitPathing(Z77, false)
        call SetUnitInvulnerable(Z77, true)
        call O68(Z77, 'A04R')
        call SaveInteger(R8, (GetHandleId(Z77)), (4319), (1))
        call TriggerRegisterTimerEvent(t, .02, true)
        call TriggerAddCondition(t, Condition(function VPH))
        call TriggerRegisterDeathEvent(t, Z77)
        call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx", Z77, "hand right alternate")))
        call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx", Z77, "hand left alternate")))
        call SaveEffectHandle(R8, (W57), (177), (AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx", Z77, "origin")))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveReal(R8, (W57), (47), (GetSpellTargetX()))
        call SaveReal(R8, (W57), (48), (GetSpellTargetY()))
        set ETE = VNH(Z77, GetSpellTargetX(), GetSpellTargetY())
        call SaveUnitHandle(R8, (W57), (19), (ETE))
        call SaveReal(R8, (W57), (44), (VOH(Z77, ETE)))
        call SaveReal(R8, (W57), (6), (GetUnitX(ETE)))
        call SaveReal(R8, (W57), (7), (GetUnitY(ETE)))
        call SaveInteger(R8, (W57), (34), (1))
    else
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, .0, false)
        call TriggerAddCondition(t, Condition(function VRH))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
    endif
    set t = null
    set Z77 = null
    set ETE = null
endfunction
function VTH takes nothing returns boolean
    if GetSpellAbilityId() == IP7[0]or GetSpellAbilityId() == IP7[1]or GetSpellAbilityId() == IP7[2]or GetSpellAbilityId() == IP7[3]then
        call VJH()
    elseif GetSpellAbilityId() == 'A2JL' then
        call VSH()
    endif
    return false
endfunction
function VUH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer YLE = (LoadInteger(R8, (GetHandleId(Z77)), (747)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if YLE < 3 then
        set C77 = C77 - 1
        call SaveInteger(R8, (W57), (34), (C77))
        if C77 == 0 then
            call UnitRemoveAbility(Z77, IP7[YLE])
            set C77 = 35
            call SaveInteger(R8, (W57), (34), (C77))
            set YLE = YLE + 1
            call SaveInteger(R8, (GetHandleId(Z77)), (747), (YLE))
            call O68(Z77, IP7[YLE])
        endif
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function VVH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SaveInteger(R8, (GetHandleId(Z77)), (747), (3))
    call O68(Z77, IP7[3])
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function VUH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (34), (30))
    set Z77 = null
    set t = null
endfunction
function VWH takes nothing returns boolean
    if GetLearnedSkill() == 'A2JK' and IsUnitIllusion(GetTriggerUnit()) == false then
        call O68(GetTriggerUnit(), 'A2JL')
        call SetUnitAbilityLevel(GetTriggerUnit(), 'A2JL', GetUnitAbilityLevel(GetTriggerUnit(), 'A2JK'))
        if GetUnitAbilityLevel(GetTriggerUnit(), 'A2JK') == 1 then
            call VVH()
            call V4H()
        endif
    endif
    return false
endfunction
function H59 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VTH))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function VWH))
    set t = null
    set IP7[0] = 'A2JO'
    set IP7[1] = 'A2JQ'
    set IP7[2] = 'A2JP'
    set IP7[3] = 'A2JR'
endfunction
function VXH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 2 and IQ7 then
            set IQ7 = false
            call V08(GetEventDamageSource(), X77, 3, GetEventDamage() * .25)
            set IQ7 = true
        endif
    else
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function VYH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2A8')
    set IQ7 = true
    call UnitAddAbility(AC7, 'A2A7')
    call SetUnitAbilityLevel(AC7, 'A2A7', ML8)
    call IssueTargetOrderById(AC7, 852668, X77)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterTimerEvent(t, 2 + ML8, false)
    call TriggerAddCondition(t, Condition(function VXH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set Z77 = null
    set X77 = null
    set AC7 = null
    set t = null
endfunction
function VZH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2A8' then
        call VYH()
    endif
    return false
endfunction
function Register_ArcaneSeal takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VZH))
    set t = null
endfunction
function VAH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real a = (LoadReal(R8, (W57), (137)))
    local real d = (LoadReal(R8, (W57), (138)))
    local real x = PQ8(GetUnitX(X77) + d / 10 * Cos(a))
    local real y = PS8(GetUnitY(X77) + d / 10 * Sin(a))
    if GetTriggerEvalCount(t) == 11 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call DestroyEffect(AddSpecialEffect("war3mapImported\\ThrustMovement.mdx", x, y))
        call SC8(x, y, 150)
        call SetUnitX(X77, x)
        call SetUnitY(X77, y)
    endif
    set X77 = null
    set t = null
    return false
endfunction
function VBH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2A9')
    local real a
    local real x
    local real y
    local real d
    local integer i =- 1
    local boolean ZJE = false
    if Z77 == X77 then
        set a = GetUnitFacing(Z77) * bj_DEGTORAD
    else
        set a = YH7(Z77, X77) * bj_DEGTORAD
    endif
    loop
        exitwhen ZJE or i == 13
        set i = i + 1
        set x = PQ8(GetUnitX(X77) + (350 - i * 25) * Cos(a))
        set y = PS8(GetUnitY(X77) + (350 - i * 25) * Sin(a))
        if(IsPointInRegion(IF4, (x), (y))) == false then
            set ZJE = true
        endif
    endloop
    set d = Z87(x, y, GetUnitX(X77), GetUnitY(X77))
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function VAH))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveReal(R8, (W57), (137), ((a) * 1.))
    call SaveReal(R8, (W57), (138), ((d) * 1.))
    if IsUnitAlly(Z77, GetOwningPlayer(X77)) then
        call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + 50 + 50 * ML8)
    else
        call V08(Z77, X77, 3, 50 + 50 * ML8)
    endif
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function VCH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2A9' then
        call VBH()
    endif
    return false
endfunction
function Register_Thrust takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VCH))
    set t = null
endfunction
function V3H takes nothing returns nothing
    call IssueTargetOrderById(IR7, 852106, GetEnumUnit())
    call V08(GetTriggerUnit(), GetEnumUnit(), 1, 60 * IS7)
endfunction
function V6H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g1 = OG8()
    local group g2 = OG8()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2A6')
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    set IS7 = ML8
    set IR7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    call UnitAddAbility(IR7, 'A2AE')
    call SetUnitAbilityLevel(IR7, 'A2AE', ML8)
    call GroupEnumUnitsInRange(g1, x, y, 425, Condition(function GenericCondition_EnemyUnits))
    call GroupEnumUnitsInRange(g2, x, y, 825, Condition(function GenericCondition_EnemyUnits))
    call BlzGroupRemoveGroupFast(g1, g2)
    call ForGroup(g2, function V3H)
    call OF8(g1)
    call OF8(g2)
    call DestroyEffect(AddSpecialEffect("war3mapImported\\ConjureForceAoE.mdx", x, y))
    set Z77 = null
    set g1 = null
    set g2 = null
endfunction
function VLH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2A6' then
        call V6H()
    endif
    return false
endfunction
function Register_ConjureForce takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VLH))
    set t = null
endfunction
function V1H takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), IU7) == false then
        call GroupAddUnit(IU7, GetEnumUnit())
        call V08(IT7, GetEnumUnit(), 3, IV7)
    endif
endfunction
function V0H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local group g = (LoadGroupHandle(R8, (W57), (22)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real CV7 = (LoadReal(R8, (W57), (13)))
    local real P08 = (LoadReal(R8, (W57), (20)))
    local group V5H
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x
    local real y
    if GetTriggerEvalCount(t) > 67 then
        call OF8(g)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call KillUnit(S08)
    else
        set x = GetUnitX(S08)
        set y = GetUnitY(S08)
        set V5H = OG8()
        set IU7 = g
        set H04 = S08
        set IT7 = Z77
        set IV7 = P08
        call GroupEnumUnitsInRange(V5H, x, y, 225, Condition(function GenericCondition_EnemyUnitsExWithAncient))
        call ForGroup(V5H, function V1H)
        call OF8(V5H)
        call SetUnitX(S08, PQ8(x + 15 * Cos(CV7 * bj_DEGTORAD)))
        call SetUnitY(S08, PS8(y + 15 * Sin(CV7 * bj_DEGTORAD)))
    endif
    set t = null
    set g = null
    set V5H = null
    set Z77 = null
    set S08 = null
    return false
endfunction
function V2H takes unit Z77, real P08, real x, real y returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local group g = OG8()
    local real x1 = GetUnitX(Z77)
    local real y1 = GetUnitY(Z77)
    local real x2 = x
    local real y2 = y
    local real CV7 = YI7(x1, y1, x2, y2)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2AA')
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0DI', x1, y1, CV7)
    call SetUnitScale(S08, 1.5, 1.5, 1.5)
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveGroupHandle(R8, (W57), (22), (g))
    call SaveReal(R8, (W57), (13), (CV7))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (20), (P08))
    call TriggerRegisterTimerEvent(t, .015, true)
    call TriggerAddCondition(t, Condition(function V0H))
    set t = null
    set S08 = null
    set g = null
endfunction
function V_H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local boolean W4H = (LoadBoolean(R8, (W57), (95)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AB', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AA', true)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if W4H == false and GetEventDamage() > 2 and GetEventDamage() < 3000 and IsUnitIllusion(X77) == false then
            call SaveReal(R8, (W57), (20), ((LoadReal(R8, (W57), (20))) + GetEventDamage()))
            call BlzSetEventDamage(0.)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        if GetSpellAbilityId() == 'A2AA' then
            call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
            call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
            call SaveBoolean(R8, (W57), (95), (true))
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A2AB' then
            call V2H(Z77, (LoadReal(R8, (W57), (20))), GetSpellTargetX(), GetSpellTargetY())
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AB', false)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AA', true)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    else
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AB', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AA', true)
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function W7H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call O68(Z77, 'A2AB')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AB', true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2AA', false)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterTimerEvent(t, 20, false)
    call TriggerAddCondition(t, Condition(function V_H))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveBoolean(R8, (W57), (95), (false))
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\WispShellBlue_2.mdx", Z77, "origin")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("war3mapImported\\DivineWrathTarget.mdx", X77, "origin")))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function W8H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2AA' then
        call W7H()
    endif
    return false
endfunction
function Register_DivineWrath takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W8H))
    set t = null
endfunction
function W9H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT or GetSpellAbilityId() == 'A2BD' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2BC', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2BD', false)
        call UnitRemoveAbility(Z77, 'Aetl')
        call UnitRemoveAbility(Z77, 'A2B3')
        call UnitRemoveAbility(Z77, 'A2B0')
        call UnitRemoveAbility(Z77, 'A2B1')
        call UnitRemoveAbility(Z77, 'A2B2')
        call UnitRemoveAbility(Z77, 'B0F2')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function WDH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2BC')
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W9H))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call UnitAddAbility(Z77, 'A2BD')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2BC', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2BD', true)
    call UnitAddAbility(Z77, 'Aetl')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'Aetl', false)
    if ML8 == 1 then
        call UnitAddAbility(Z77, 'A2B3')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2B3', false)
    elseif ML8 == 2 then
        call UnitAddAbility(Z77, 'A2B0')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2B0', false)
    elseif ML8 == 3 then
        call UnitAddAbility(Z77, 'A2B1')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2B1', false)
    elseif ML8 == 4 then
        call UnitAddAbility(Z77, 'A2B2')
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2B2', false)
    endif
    set t = null
    set Z77 = null
endfunction
function WEH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2BC' then
        call WDH()
    endif
    return false
endfunction
function Register_Wraith takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WEH))
    set t = null
endfunction
function WFH takes unit Z77, unit OZF, unit X77, integer ML8 returns nothing
    call V18(Z77, X77, 1.25 + .25 * ML8)
    call V08(Z77, X77, 1, 40 * ML8)
    call KillUnit(OZF)
endfunction
function WGH takes nothing returns boolean
    if(IsUnitEnemy(H04, GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and O18(GetFilterUnit()) == false)and(IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or T18(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(), GetOwningPlayer(H04)) or UN8(GetFilterUnit()) == false)then
        return IsUnitInGroup(GetFilterUnit(), KN7) == false
    endif
    return false
endfunction
function WHH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local group g
    local integer i = 1
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local real a = (LoadReal(R8, (W57), (137)))
    local unit OZF
    local unit X77
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    set KN7 = XCD
    set x = PQ8(x + 12 * Cos(a))
    set y = PS8(y + 12 * Sin(a))
    call SaveReal(R8, (W57), (6), ((x) * 1.))
    call SaveReal(R8, (W57), (7), ((y) * 1.))
    if GetTriggerEvalCount(t) > 39 then
        loop
            exitwhen i > 3
            call KillUnit((LoadUnitHandle(R8, (W57), (393 + i - 1))))
            set i = i + 1
        endloop
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set g = OG8()
        set H04 = Z77
        call GroupEnumUnitsInRange(g, x, y, 275, Condition(function WGH))
        loop
            exitwhen i > 3
            if(LoadBoolean(R8, (W57), (511 + i - 1))) == false then
                set OZF = (LoadUnitHandle(R8, (W57), (393 + i - 1)))
                set x = (LoadReal(R8, (W57), (549 + i - 1)))
                set y = (LoadReal(R8, (W57), (567 + i - 1)))
                set x = PQ8(x + 12 * Cos(a))
                set y = PS8(y + 12 * Sin(a))
                call SaveReal(R8, (W57), (549 + i - 1), ((x) * 1.))
                call SaveReal(R8, (W57), (567 + i - 1), ((y) * 1.))
                call SetUnitX(OZF, x)
                call SetUnitY(OZF, y)
                set X77 = GroupPickRandomUnit(g)
                if X77 != null then
                    call GroupRemoveUnit(g, X77)
                    call SaveInteger(R8, (GetHandleId((X77))), ((4314)), (1))
                    call SaveBoolean(R8, (W57), (511 + i - 1), (true))
                    call WFH(Z77, OZF, X77, GetUnitAbilityLevel(Z77, 'A2B4'))
                endif
            endif
            set i = i + 1
        endloop
        call OF8(g)
        set g = null
        set OZF = null
        set X77 = null
    endif
    set t = null
    set XCD = null
    set Z77 = null
    return false
endfunction
function WIH takes nothing returns nothing
    local real BM7 = GetSpellTargetX()
    local real BN7 = GetSpellTargetY()
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local real a = YI7(x, y, BM7, BN7) * bj_DEGTORAD
    local real b
    local unit AC7
    local real S_8 = PQ8(x + 500 * Cos(a))
    local real T48 = PS8(y + 500 * Sin(a))
    local integer i = 0
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real KQD
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2B4')
    local integer MB8 = 'h0DN'
    set i = i + 1
    set b = a * bj_RADTODEG + 90
    if b > 360 then
        set b = b - 360
    endif
    set b = b * bj_DEGTORAD
    set AC7 = CreateUnit(GetOwningPlayer(Z77), MB8, x + 100 * Cos(a) + 100 * Cos(b), y + 100 * Sin(a) + 100 * Sin(b), a * bj_RADTODEG)
    call SaveUnitHandle(R8, (W57), (393 + i - 1), (AC7))
    call SaveBoolean(R8, (W57), (511 + i - 1), (false))
    call SaveReal(R8, (W57), (549 + i - 1), ((GetUnitX(AC7)) * 1.))
    call SaveReal(R8, (W57), (567 + i - 1), ((GetUnitY(AC7)) * 1.))
    set i = i + 1
    set b = a * bj_RADTODEG - 90
    if b < 0 then
        set b = 360 + b
    endif
    set b = b * bj_DEGTORAD
    set AC7 = CreateUnit(GetOwningPlayer(Z77), MB8, x + 100 * Cos(a) + 100 * Cos(b), y + 100 * Sin(a) + 100 * Sin(b), a * bj_RADTODEG)
    call SaveUnitHandle(R8, (W57), (393 + i - 1), (AC7))
    call SaveBoolean(R8, (W57), (511 + i - 1), (false))
    call SaveReal(R8, (W57), (549 + i - 1), ((GetUnitX(AC7)) * 1.))
    call SaveReal(R8, (W57), (567 + i - 1), ((GetUnitY(AC7)) * 1.))
    set i = i + 1
    set AC7 = CreateUnit(GetOwningPlayer(Z77), MB8, x + 100 * Cos(a), y + 100 * Sin(a), a * bj_RADTODEG)
    call SaveUnitHandle(R8, (W57), (393 + i - 1), (AC7))
    call SaveBoolean(R8, (W57), (511 + i - 1), (false))
    call SaveReal(R8, (W57), (549 + i - 1), ((GetUnitX(AC7)) * 1.))
    call SaveReal(R8, (W57), (567 + i - 1), ((GetUnitY(AC7)) * 1.))
    call TriggerRegisterTimerEvent(t, .015, true)
    call TriggerAddCondition(t, Condition(function WHH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), ((x) * 1.))
    call SaveReal(R8, (W57), (7), ((y) * 1.))
    call SaveReal(R8, (W57), (137), ((a) * 1.))
    call SaveReal(R8, (W57), (47), ((S_8) * 1.))
    call SaveReal(R8, (W57), (48), ((T48) * 1.))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    set Z77 = null
    set AC7 = null
    set t = null
endfunction
function WJH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2B4' then
        call WIH()
    endif
    return false
endfunction
function IV9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WJH))
    set t = null
endfunction
function WKH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = GetTriggerEvalCount(t)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2B5')
    if C77 == 6 then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitShareVision(X77, GetOwningPlayer(Z77), false)
    endif
    call V08(Z77, X77, 1, 20 + 10 * ML8)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function WMH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function WKH))
    call SaveUnitHandle(R8, (W57), (2), (GetTriggerUnit()))
    call SaveUnitHandle(R8, (W57), (17), (GetEnumUnit()))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl", GetEnumUnit(), "overhead")))
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", GetEnumUnit(), "origin"))
    call UnitShareVision(GetEnumUnit(), GetOwningPlayer(GetTriggerUnit()), true)
    set t = null
endfunction
function WNH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    call UnitAddAbility(AC7, 'A2B7')
    call IssueImmediateOrderById(AC7, 852625)
    call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", GetUnitX(Z77), GetUnitY(Z77)))
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 625, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function WMH)
    call OF8(g)
    set g = null
    set Z77 = null
    set AC7 = null
endfunction
function WOH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2B5' then
        call WNH()
    endif
    return false
endfunction
function Register_Miasma takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WOH))
    set t = null
endfunction
function GetTotalMinutes takes nothing returns integer
    return R2I((TimerGetElapsed(E4)) / 60)
endfunction
function WPH takes unit Z77, integer WQD returns nothing
    local integer ARD = GetHeroAgi(Z77, false)
    local integer ASD = GetHeroStr(Z77, false)
    local integer WQH = GetHeroInt(Z77, false)
    call SetHeroAgi(Z77, ARD - WQD, true)
    call SetHeroStr(Z77, ASD - WQD, true)
    call SetHeroInt(Z77, WQH - WQD, true)
endfunction
function WRH takes unit Z77, integer WQD returns nothing
    local integer ARD = GetHeroAgi(Z77, false)
    local integer ASD = GetHeroStr(Z77, false)
    local integer WQH = GetHeroInt(Z77, false)
    call SetHeroAgi(Z77, ARD + WQD, true)
    call SetHeroStr(Z77, ASD + WQD, true)
    call SetHeroInt(Z77, WQH + WQD, true)
endfunction
function WSH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer WTH = (LoadInteger(R8, (W57), (744)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2G2')
    local integer S59 = (R2I((TimerGetElapsed(E4)) / 60))
    local real WUH = ML8 + 1 + (.1 + .1 * ML8) * S59
    local integer WVH = 3 + 3 * ML8 + R2I((.1 + .1 * ML8) * S59)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A2G2' then
            if X77 != null and X77 != GetSpellTargetUnit()then
                call UnitRemoveAbility(X77, 'A2IO')
                call WPH(X77, WTH)
                call WPH(Z77, WTH)
                call SaveInteger(R8, (W57), (744), (0))
            endif
            set X77 = GetSpellTargetUnit()
            call SaveUnitHandle(R8, (W57), (17), (X77))
            call O68(X77, 'A2IO')
            call QG8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl", Z77, "chest", 1.9)
            call QG8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl", X77, "chest", 1.9)
            return false
        else
            return false
        endif
    endif
    if X77 == null then
    elseif O18(X77)or O18(Z77)or Z47(Z77, X77) > 1400 then
        call WPH(Z77, WTH)
        call WPH(X77, WTH)
        call SaveInteger(R8, (W57), (744), (0))
        call UnitRemoveAbility(Z77, 'A2IO')
        call UnitRemoveAbility(X77, 'A2IO')
    else
        if GetUnitAbilityLevel(Z77, 'A2IO') == 0 then
            call O68(Z77, 'A2IO')
        endif
        if GetUnitAbilityLevel(X77, 'A2IO') == 0 then
            call O68(X77, 'A2IO')
        endif
        if WTH != WVH then
            call WRH(Z77, WVH - WTH)
            call WRH(X77, WVH - WTH)
            call SaveInteger(R8, (W57), (744), (WVH))
        endif
        call SetUnitState(Z77, UNIT_STATE_LIFE, GetUnitState(Z77, UNIT_STATE_LIFE) + WUH)
        call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + WUH)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function WWH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WSH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (null))
    call SaveInteger(R8, (W57), (744), (0))
    set t = null
    set Z77 = null
endfunction
function WXH takes nothing returns boolean
    if GetLearnedSkill() == 'A2G2' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A2G2') == 1 then
        call WWH()
    endif
    return false
endfunction
function Register_Brotherhood takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function WXH))
    set t = null
endfunction
function WYH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED or(GetEventDamage() > 30 and GetEventDamageSource() != GetTriggerUnit()and KP8(GetOwningPlayer(GetEventDamageSource())))then
        if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
            call BlzSetEventDamage(0.)
        endif
        call UnitRemoveAbility(Z77, 'A2IL')
        call UnitRemoveAbility(Z77, 'A2IM')
        call UnitRemoveAbility(Z77, 'A2BY')
        call UnitRemoveAbility(Z77, 'A2IN')
        call UnitRemoveAbility(Z77, 'B0F4')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function WZH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEnumUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2BV')
    local real d
    local integer id
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    if ML8 == 1 then
        set d = 4
        set id = 'A2IL'
    elseif ML8 == 2 then
        set d = 5
        set id = 'A2IM'
    elseif ML8 == 3 then
        set d = 6
        set id = 'A2BY'
    elseif ML8 == 4 then
        set d = 7
        set id = 'A2IN'
    endif
    call O68(X77, id)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), id, false)
    call TriggerAddCondition(t, Condition(function WYH))
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterTimerEvent(t, d, false)
    call SaveUnitHandle(R8, (W57), (2), (X77))
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl", X77, "origin")))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function WAH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 375, Condition(function VI8))
    call ForGroup(g, function WZH)
    call OF8(g)
    set g = null
    set Z77 = null
endfunction
function WBH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2BV' then
        call WAH()
    endif
    return false
endfunction
function Register_Gallop takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WBH))
    set t = null
endfunction
function WCH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer W3H = (LoadInteger(R8, (W57), (59)))
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(Z77, W3H)
        call UnitRemoveAbility(Z77, 'B0FJ')
        call UnitRemoveAbility(Z77, 'B0FK')
    elseif GetEventDamageSource() == Z77 and GetEventDamage() > 0 then
        call TriggerRegisterTimerEvent(t, .3, false)
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function W6H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X47 = GetEventDamageSource()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2EY')
    local integer id
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    if IsNormalAttack() and Z77 == GetTriggerUnit() and ((LoadInteger(R8, (GetHandleId((Z77))), ((4316)))) == 1) == false and IsUnitEnemy(Z77, GetOwningPlayer(X47)) then
        if GetRandomInt(0, 100) <= (C77 + 1) * 5.975 then
            call SaveInteger(R8, (W57), (34), (0))
            call ASCI(Z77, 4316, 3.2 - .6 * ML8)
            if ML8 == 1 then
                set id = 'A2GD'
            elseif ML8 == 2 then
                set id = 'A2GE'
            elseif ML8 == 3 then
                set id = 'A2GF'
            elseif ML8 == 4 then
                set id = 'A2GC'
            endif
            call O68(Z77, id)
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call TriggerRegisterDeathEvent(t, Z77)
            call TriggerRegisterUnitEvent(t, X47, EVENT_UNIT_DAMAGED)
            call TriggerRegisterTimerEvent(t, 1., false)
            call TriggerAddCondition(t, Condition(function WCH))
            call SaveUnitHandle(R8, (W57), (2), (Z77))
            call SaveInteger(R8, (W57), (59), (id))
        else
            call SaveInteger(R8, (W57), (34), (C77 + 1))
        endif
    endif
    set t = null
    set Z77 = null
    set X47 = null
    return false
endfunction
function WLH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function W6H))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveInteger(R8, (W57), (34), (3))
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2GD', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2GE', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2GF', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2GC', false)
    set Z77 = null
    set t = null
endfunction
function W1H takes nothing returns boolean
    if GetLearnedSkill() == 'A2EY' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A2EY') == 1 then
        call WLH()
    endif
    return false
endfunction
function I49 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function W1H))
    set t = null
endfunction
function W0H takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer QNE
    if d < 1 then
        call UnitRemoveAbility(u, IW7[0])
        call UnitRemoveAbility(u, IW7[1])
        call UnitRemoveAbility(u, IW7[2])
        call UnitRemoveAbility(u, IW7[3])
        call UnitRemoveAbility(u, IW7[4])
        call UnitRemoveAbility(u, IW7[5])
        call UnitRemoveAbility(u, IW7[6])
        call UnitRemoveAbility(u, IW7[7])
        call UnitRemoveAbility(u, IW7[8])
        return
    endif
    loop
        exitwhen c == 0
        set c = a / 2
        set b[i] = a - c * 2
        set a = c
        set i = i + 1
    endloop
    set QNE = 8
    set i = 0
    loop
        exitwhen i > QNE
        if b[i] == 1 then
            call O68(u, IW7[i])
        else
            call UnitRemoveAbility(u, IW7[i])
        endif
        set i = i + 1
    endloop
endfunction
function W5H takes unit Z77, integer ML8, unit X77 returns nothing
    local integer W57 = GetHandleId(Z77)
    local integer W2H = (LoadInteger(R8, (W57), (739)))
    if IsUnitType(X77, UNIT_TYPE_HERO) then
        set W2H = W2H + 6 + 4 * ML8
        call SaveInteger(R8, (W57), (739), (W2H))
        call QM8(GetUnitName(Z77) + GetObjectName('n0O4'), 5, Z77, .03, 255, 0, 0, 255)
        call W0H(Z77, W2H)
    endif
endfunction
function W_H takes unit u returns boolean
    return NH8(u) == false
endfunction
function X4H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local real PX9 = (LoadReal(R8, (W57), (442)))
    local unit AC7
    call UI8(Z77)
    call UI8(X77)
    if GetTriggerEvalCount(t) == 1 then
        set AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
        call UnitAddAbility(AC7, 'A2G5')
        call IssueTargetOrderById(AC7, 852583, X77)
        set AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
        call UnitAddAbility(AC7, 'A2G5')
        call IssueTargetOrderById(AC7, 852583, Z77)
        set AC7 = null
    endif
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or PX9 < (TimerGetElapsed(E4))or W_H(Z77) == false or W_H(X77) == false or Z47(Z77, X77) > 2000 then
        if GetTriggerEventId() == EVENT_WIDGET_DEATH then
            if GetTriggerUnit() == Z77 then
                call W5H(X77, ML8, GetTriggerUnit())
            else
                call W5H(Z77, ML8, GetTriggerUnit())
            endif
        endif
        call UnitRemoveAbility(Z77, 'B0FG')
        call UnitRemoveAbility(X77, 'B0FG')
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call SetUnitPathing(Z77, true)
        call SetUnitPathing(X77, true)
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() != Z77 and GetEventDamageSource() != X77 then
            call BlzSetEventDamage(0.)
        endif
    elseif GetIssuedOrderId() != 851973 then
        call SetUnitPathing(Z77, false)
        call SetUnitPathing(X77, false)
        call DisableTrigger(t)
        call IssueTargetOrderById(Z77, 851983, X77)
        call IssueTargetOrderById(X77, 851983, Z77)
        call EnableTrigger(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function X7H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2CI')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local real PX9 = .75 * ML8 + 3.25
    call SetUnitPathing(Z77, false)
    call SetUnitPathing(X77, false)
    call IssueTargetOrderById(Z77, 851983, X77)
    call IssueTargetOrderById(X77, 851983, Z77)
    if ML8 == 0 then
        set ML8 = GetUnitAbilityLevel(Z77, 'A38C')
        set PX9 = .75 * ML8 + 4.
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
        call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    endif
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx", Z77, "overhead")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx", X77, "overhead")))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveReal(R8, (W57), (442), (TimerGetElapsed(E4) + PX9))
    call TriggerAddCondition(t, Condition(function X4H))
    call TriggerRegisterTimerEvent(t, .05, true)
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_ISSUED_ORDER)
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function X8H takes nothing returns boolean
    if(GetSpellAbilityId() == 'A2CI' or GetSpellAbilityId() == 'A38C')and OE8(GetSpellTargetUnit()) == false then
        call X7H()
    endif
    return false
endfunction
function I89 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function X8H))
    set t = null
    set IW7[0] = 'A2GK'
    set IW7[1] = 'A2GJ'
    set IW7[2] = 'A2GI'
    set IW7[3] = 'A2GH'
    set IW7[4] = 'A2GN'
    set IW7[5] = 'A2GO'
    set IW7[6] = 'A2GM'
    set IW7[7] = 'A2GL'
    set IW7[8] = 'A2GP'
endfunction
function X9H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local real d
    local unit X47
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        set d = GetEventDamage()
        if W18(d)and d > 50 then
            set C77 = C77 + 1
            call SaveInteger(R8, (W57), (34), (C77))
            set X47 = GetEventDamageSource()
            if IsUnitType(X47, UNIT_TYPE_HERO) == false and GetUnitAbilityLevel(X47, 'A04R') != 0 then
                set X47 = Y7[GetPlayerId(GetOwningPlayer(X47))]
            endif
            call BlzSetEventDamage(GetEventDamage() - d)
            set d = d * (.4 + .2 * ML8)
            if IsUnitAlly(X77, GetOwningPlayer(Z77)) then
                call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + d)
            else
                call V08(Z77, X77, 3, d)
            endif
        endif
    endif
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED or C77 == 3 then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (175))))
        call DestroyEffect((LoadEffectHandle(R8, (W57), (176))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    set X47 = null
    return false
endfunction
function XDH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2IQ')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call QG8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl", Z77, "chest", 1.9)
    call QG8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl", X77, "chest", 1.9)
    call SaveEffectHandle(R8, (W57), (175), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl", Z77, "chest")))
    call SaveEffectHandle(R8, (W57), (176), (AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl", X77, "chest")))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (34), (0))
    call TriggerAddCondition(t, Condition(function X9H))
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function XEH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2IQ' then
        call XDH()
    endif
    return false
endfunction
function Register_Deflection takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XEH))
    set t = null
endfunction
function XFH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = (LoadInteger(R8, (W57), (5)))
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local integer VID = 5
    set C77 = C77 + 1
    call SaveInteger(R8, (W57), (34), (C77))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or C77 > VID then
        call UnitRemoveAbility(X77, IX7[ML8])
        call DestroyEffect(LoadEffectHandle(R8, (W57), (32)))
        call DisableTrigger(t)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + 20 + 10 * ML8)
        call QG8("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl", X77, "chest", 1.9)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function XGH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2J2')
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TF9(X77)
    call T99(X77, 0, 0)
    call O68(X77, IX7[ML8])
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), IX7[ML8], false)
    call TriggerAddCondition(t, Condition(function XFH))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterDeathEvent(t, X77)
    call SaveEffectHandle(R8, (W57), (32), (AddSpecialEffectTarget("Abilities\\Spells\\Human\\InnerFire\\InnerFireTarget.mdl", X77, "overhead")))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveInteger(R8, (W57), (34), (0))
    call TriggerEvaluate(t)
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function XHH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2J2' then
        call XGH()
    endif
    return false
endfunction
function H_9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XHH))
    set IX7[1] = 'A2J9'
    set IX7[2] = 'A2JA'
    set IX7[3] = 'A2J8'
    set IX7[4] = 'A2J7'
    set t = null
endfunction
function XIH takes unit Z77, integer ML8 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', GetUnitX(Z77), GetUnitY(Z77), 0)
    call O68(AC7, 'A2JC')
    call SetUnitAbilityLevel(AC7, 'A2JC', ML8 / 3)
    call IssueTargetOrderById(AC7, 852101, Z77)
    set AC7 = null
endfunction
function XJH takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_SUMMONED) or IsUnitIllusion(GetEnumUnit()) then
        call V08(GetTriggerUnit(), GetEnumUnit(), 1, GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE) * .25)
    endif
    call V08(GetTriggerUnit(), GetEnumUnit(), 1, 40 * IA7 + (12 + 2 * IA7) * IY7 + (5 + 15 * IA7) * IZ7)
endfunction
function XKH takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
        set IZ7 = IZ7 + 1
    else
        set IY7 = IY7 + 1
    endif
endfunction
function XMH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2JB')
    local group g = OG8()
    call DestroyEffect(AddSpecialEffect("war3mapImported\\OverwhelmingOdds.mdx", x, y))
    call GroupEnumUnitsInRange(g, x, y, 330 + 25, Condition(function GenericCondition_EnemyUnitsWithAncient))
    set IY7 = 0
    set IZ7 = 0
    set IA7 = ML8
    call ForGroup(g, function XKH)
    call ForGroup(g, function XJH)
    call OF8(g)
    call XIH(Z77, 9 * IZ7 + 3 * IY7)
    set Z77 = null
    set g = null
endfunction
function XNH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2JB' then
        call XMH()
    endif
    return false
endfunction
function I79 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XNH))
    call PU8('A2JC')
    set t = null
endfunction
function XOH takes nothing returns nothing
    set I67 = true
    call V08(IB7, GetEnumUnit(), 1, ((200 + 400 * I37) / IC7) / 22)
    set I67 = false
endfunction
function XPH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real x = (LoadReal(R8, (W57), (6)))
    local real y = (LoadReal(R8, (W57), (7)))
    local group g
    if GetTriggerEvalCount(t) > 22 then
        call DestroyEffect((LoadEffectHandle(R8, (W57), (32))))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        set g = OG8()
        set H04 = Z77
        call GroupEnumUnitsInRange(g, x, y, 170 + 25, Condition(function GenericCondition_EnemyHeroesExNoImmune))
        set I37 = GetUnitAbilityLevel(Z77, 'A2BG')
        if I37 == 0 then
            set I37 = GetUnitAbilityLevel(Z77, 'A2TU')
        endif
        set IB7 = Z77
        set IC7 = BlzGroupGetSize(g)
        call ForGroup(g, function XOH)
        call OF8(g)
        set g = null
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function XQH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local string s = "war3mapImported\\DivineWrathTarget.mdx"
    local location l = GetSpellTargetLoc()
    call PlaySoundAtPointBJ(JP7, 100, l, 0)
    call RemoveLocation(l)
    set l = null
    call TriggerRegisterTimerEvent(t, .1, true)
    call TriggerAddCondition(t, Condition(function XPH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    call DestroyEffect(AddSpecialEffect(s, x, y))
    set t = null
    set Z77 = null
endfunction
function XRH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2BG' or GetSpellAbilityId() == 'A2TU' then
        call XQH()
    endif
    return false
endfunction
function ID9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XRH))
    set t = null
endfunction
function XSH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2BT')
    local real d
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        set d = GetEventDamage() * (.2 + .05 * ML8)
    else
        call SaveInteger(R8, (GetHandleId(X77)), (4317), (2))
        call UnitRemoveAbility(X77, 'A2I6')
        call UnitRemoveAbility(X77, 'A2I5')
        call UnitRemoveAbility(X77, 'A2I7')
        call UnitRemoveAbility(X77, 'A2I8')
        call UnitRemoveAbility(X77, 'B0FS')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function XTH takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2BT')
    local unit LastTarget = (LoadUnitHandle(R8, (GetHandleId(Z77)), (741)))
    local integer C77 = (LoadInteger(R8, (GetHandleId(X77)), (742)))
    local integer id
    if((LoadInteger(R8, (GetHandleId((X77))), ((4317)))) == 1) then
        call SaveInteger(R8, (GetHandleId(X77)), (742), (0))
        call SaveReal(R8, (GetHandleId(X77)), (743), (TimerGetElapsed(E4)))
    else
        if(LoadReal(R8, (GetHandleId(X77)), (743))) + 10 < (TimerGetElapsed(E4))then
            set C77 = 1
        else
            set C77 = C77 + 1
        endif
        if IsUnitType(X77, UNIT_TYPE_HERO) or IsUnitIllusion(X77) then
            call QN8(GetOwningPlayer(Z77), I2S(C77) + "!", 2, X77, .026, 50, 0, 255, 216)
        endif
        call SaveInteger(R8, (GetHandleId(X77)), (742), (C77))
        call SaveReal(R8, (GetHandleId(X77)), (743), (TimerGetElapsed(E4)))
        if C77 == 4 then
            call SaveInteger(R8, (GetHandleId(X77)), (742), (0))
            call SaveInteger(R8, (GetHandleId((X77))), ((4317)), (1))
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, .5 + .5 * ML8, false)
            call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
            call TriggerRegisterDeathEvent(t, X77)
            call TriggerAddCondition(t, Condition(function XSH))
            call SaveUnitHandle(R8, (W57), (2), (Z77))
            call SaveUnitHandle(R8, (W57), (17), (X77))
            if ML8 == 1 then
                set id = 'A2I6'
            elseif ML8 == 2 then
                set id = 'A2I5'
            elseif ML8 == 3 then
                set id = 'A2I7'
            elseif ML8 == 4 then
                set id = 'A2I8'
            endif
            call O68(X77, id)
            call SetPlayerAbilityAvailable(GetOwningPlayer(X77), id, false)
            call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FarseerMissile_Purple_2.mdx", X77, "chest"))
        endif
    endif
    set LastTarget = null
    set t = null
endfunction
function XUH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == Z77 then
            call DisableTrigger(t)
            call XTH(Z77, X77)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
        endif
    else
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function XVH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit X77 = GetTriggerUnit()
    local unit Z77 = GetAttacker()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 1.2, false)
    call TriggerAddCondition(t, Condition(function XUH))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set X77 = null
    set Z77 = null
    set t = null
endfunction
function XWH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetAttacker() == Z77 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(Z77))then
        if ((LoadInteger(R8, (GetHandleId((Z77))), ((4315)))) == 1) == false then
            call ASCI(Z77, 4315, 0.3)
            call XVH()
        endif
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function XXH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function XWH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function XYH takes nothing returns boolean
    if GetLearnedSkill() == 'A2BT' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A2BT') == 1 then
        call XXH()
    endif
    return false
endfunction
function Register_Amp takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function XYH))
    set t = null
endfunction
function XZH takes nothing returns nothing
    local unit Z77 = H04
    local unit X77 = H54
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2BE')
    local real P08 = 40 + 20 * ML8 + 1.6 * GetHeroInt(Z77, true)
    set I67 = true
    call V08(Z77, X77, 1, P08)
    set I67 = false
    set Z77 = null
    set X77 = null
endfunction
function XAH takes nothing returns nothing
    call T88(GetTriggerUnit(), GetSpellTargetUnit(), 'h0DQ', "XZH", 500, false)
endfunction
function XBH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2BE' and OE8(GetSpellTargetUnit()) == false then
        call XAH()
    endif
    return false
endfunction
function IE9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XBH))
    set t = null
endfunction
function XCH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real d
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
    else
        call UnitRemoveAbility(X77, 'A2HX')
        call UnitRemoveAbility(X77, 'A2I0')
        call UnitRemoveAbility(X77, 'A2HY')
        call UnitRemoveAbility(X77, 'A2HZ')
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set X77 = null
    set t = null
    return false
endfunction
function X3H takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2HN')
    local real VN7 = 2 + ML8
    local integer id = 'A2HX'
    if ML8 == 1 then
        set id = 'A2HX'
    elseif ML8 == 2 then
        set id = 'A2I0'
    elseif ML8 == 3 then
        set id = 'A2HY'
    elseif ML8 == 4 then
        set id = 'A2HZ'
    endif
    call O68(X77, id)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), id, false)
    call TriggerRegisterTimerEvent(t, VN7, false)
    call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function XCH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function X6H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2HN' and IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_HERO) and OE8(GetSpellTargetUnit()) == false then
        call X3H()
    endif
    return false
endfunction
function IF9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function X6H))
    set t = null
endfunction
function XLH takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = H04
    local unit X77 = H54
    local real x = GetUnitX(X77)
    local real y = GetUnitY(X77)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2IT')
    local unit AC7 = CreateUnit(GetOwningPlayer(Z77), 'e00E', x, y, 0)
    call UnitAddAbility(AC7, 'A2IU')
    call SetUnitAbilityLevel(AC7, 'A2IU', ML8)
    call IssueImmediateOrderById(AC7, 852096)
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function X5H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = null
    local group g = OG8()
    call GroupEnumUnitsInRange(g, GetUnitX(Z77), GetUnitY(Z77), 1600 + 25, Condition(function VD8))
    set X77 = GUD(g, GetUnitX(Z77), GetUnitY(Z77))
    call OF8(g)
    if X77 != null then
        call T88(Z77, X77, 'h0E6', "XLH", 800, false)
    endif
    set g = null
    set X77 = null
    set Z77 = null
endfunction
function X2H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2IT' then
        call X5H()
    endif
    return false
endfunction
function I99 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function X2H))
    set t = null
endfunction
function X_H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer QLF = (LoadInteger(R8, (W57), (422)))
    local integer Q1F = (LoadInteger(R8, (W57), (423)))
    local integer OAE = (LoadInteger(R8, (W57), (424)))
    call SetHeroAgi(X77, GetHeroAgi(X77, false) + QLF, true)
    call SetHeroStr(X77, GetHeroStr(X77, false) + Q1F, true)
    call SetHeroInt(X77, GetHeroInt(X77, false) + OAE, true)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set X77 = null
    return false
endfunction
function Y4H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEnumUnit()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2FK')
    local trigger t
    local integer W57
    local integer VWD
    local integer QLF
    local integer Q1F
    local integer OAE
    local real AQD
    if IsUnitType(X77, UNIT_TYPE_HERO) then
        set VWD = N58(X77)
        set AQD = .15
        if VWD == 2 then
            set QLF = R2I(AQD * GetHeroAgi(X77, false)) - 1
            set Q1F = 0
            set OAE = 0
        elseif VWD == 3 then
            set QLF = 0
            set Q1F = R2I(AQD * GetHeroStr(X77, false)) - 1
            set OAE = 0
        elseif VWD == 1 then
            set QLF = 0
            set Q1F = 0
            set OAE = R2I(AQD * GetHeroInt(X77, false)) - 1
        endif
        call SetHeroAgi(X77, GetHeroAgi(X77, false) - QLF, true)
        call SetHeroStr(X77, GetHeroStr(X77, false) - Q1F, true)
        call SetHeroInt(X77, GetHeroInt(X77, false) - OAE, true)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 11, false)
        call TriggerRegisterDeathEvent(t, X77)
        call TriggerAddCondition(t, Condition(function X_H))
        call SaveInteger(R8, (W57), (422), (QLF))
        call SaveInteger(R8, (W57), (424), (OAE))
        call SaveInteger(R8, (W57), (423), (Q1F))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        set t = null
    endif
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", X77, "chest"))
    call V08(Z77, X77, I17, 50 + 50 * ML8)
    set Z77 = null
    set X77 = null
endfunction
function Y7H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), x, y) * bj_DEGTORAD
    set x = GetUnitX(Z77)
    set y = GetUnitY(Z77)
    if SC8(x, y, IL7) > 0 then
        set I17 = 3
    else
        set I17 = 1
    endif
    call GroupEnumUnitsInRange(g, x, y, IL7 + 25, Condition(function GenericCondition_EnemyUnits))
    call ForGroup(g, function Y4H)
    call OF8(g)
    call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\WhirlingDeath_01.mdx", Z77, "origin"))
    set Z77 = null
    set g = null
endfunction
function Y8H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2FK' then
        call Y7H()
    endif
    return false
endfunction
function IG9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Y8H))
    set t = null
endfunction
function Y9H takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2E3')
    call V08(Z77, X77, 3, 60 + 40 * ML8)
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", X77, "origin"))
endfunction
function YDH takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call Y9H(H04, GetEnumUnit())
    endif
endfunction
function YEH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer YFH = (LoadInteger(R8, (W57), (18)))
    local integer C77 = GetTriggerEvalCount(t)
    local unit YGH
    local group YHH = (LoadGroupHandle(R8, (W57), (16)))
    local group g
    local boolean YIH = (LoadBoolean(R8, (W57), (727)))
    local boolean YJH = (LoadBoolean(R8, (W57), (740)))
    if S69(AM7)then
        set YJH = true
        call SaveBoolean(R8, (W57), (740), (YJH))
    endif
    if YIH == false then
        set YGH = (LoadUnitHandle(R8, (W57), (700 + YFH + 1 - C77)))
        call RemoveUnit(YGH)
    else
        set YGH = (LoadUnitHandle(R8, (W57), (700 + C77)))
        if YJH == false then
            call SetUnitX(AM7, GetUnitX(YGH))
            call SetUnitY(AM7, GetUnitY(YGH))
        endif
        call RemoveUnit(YGH)
        set g = OG8()
        set H04 = AM7
        set H24 = YHH
        call GroupEnumUnitsInRange(g, GetUnitX(AM7), GetUnitY(AM7), 250, Condition(function UT8))
        call ForGroup(g, function YDH)
        call OF8(g)
    endif
    if C77 == (YFH)then
        call SC8(GetUnitX(AM7), GetUnitY(AM7), 90)
        call OF8(YHH)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set AM7 = null
    set X77 = null
    set YGH = null
    set YHH = null
    set g = null
    return false
endfunction
function YKH takes nothing returns nothing
    if NG8(GetEnumDestructable())and IsDestructableDeadBJ(GetEnumDestructable()) == false then
        set I07 = I07 + 1
    endif
endfunction
function YMH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    local real CV7 = (LoadReal(R8, (W57), (13)))
    local integer VID = (LoadInteger(R8, (W57), (12)))
    local integer C77 = GetTriggerEvalCount(t)
    local real x = (LoadReal(R8, (W57), (6))) + C77 * 50 * Cos(CV7 * bj_DEGTORAD)
    local real y = (LoadReal(R8, (W57), (7))) + C77 * 50 * Sin(CV7 * bj_DEGTORAD)
    local boolean PPE = (LoadBoolean(R8, (W57), (15)))
    local unit YNH
    local trigger YOH = (LoadTriggerHandle(R8, (W57), (11)))
    local integer YPH = GetHandleId(YOH)
    local integer ID = 'u01Q'
    local real QFF = 250
    local rect r
    local real d = 90
    set r = Rect(x - d, y - d, x + d, y + d)
    set I07 = 0
    call EnumDestructablesInRect(r, Condition(function KF8), function YKH)
    if I07 > 0 or C77 == VID or C77 == (VID - 1)or C77 == (VID - 2)then
        set ID = 'u01P'
    endif
    set YNH = CreateUnit(GetOwningPlayer(AM7), ID, x, y, CV7)
    call SaveUnitHandle(R8, (YPH), (700 + C77), (YNH))
    if I07 > 0 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call TriggerRegisterTimerEvent(YOH, .5 / VID, true)
        call TriggerAddCondition(YOH, Condition(function YEH))
        call SaveInteger(R8, (YPH), (18), (C77))
        call SaveBoolean(R8, (YPH), (727), (true))
        call SaveUnitHandle(R8, (YPH), (14), (AM7))
        call SaveGroupHandle(R8, (YPH), (16), (OG8()))
        call SaveReal(R8, (YPH), (6), (x))
        call SaveReal(R8, (YPH), (7), (y))
        call SaveBoolean(R8, (YPH), (740), (false))
    elseif C77 > VID then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call TriggerRegisterTimerEvent(YOH, .5 / VID, true)
        call TriggerAddCondition(YOH, Condition(function YEH))
        call SaveInteger(R8, (YPH), (18), (C77))
        call SaveBoolean(R8, (YPH), (727), (false))
        call SaveUnitHandle(R8, (YPH), (14), (AM7))
        call SaveGroupHandle(R8, (YPH), (16), (OG8()))
        call SaveBoolean(R8, (YPH), (740), (false))
    endif
    call RemoveRect(r)
    set r = null
    set t = null
    set AM7 = null
    set YNH = null
    set YOH = null
    return false
endfunction
function YQH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    local real CV7 = YI7(GetUnitX(AM7), GetUnitY(AM7), GetSpellTargetX(), GetSpellTargetY())
    local integer ML8 = GetUnitAbilityLevel(AM7, 'A2E3')
    local integer YRH
    local integer VID
    local trigger YSH = CreateTrigger()
    set YRH = R2I(ALR(AM7, 600 + 200 * ML8))
    set VID = YRH / 50
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call SaveInteger(R8, (W57), (5), (ML8))
    call SaveReal(R8, (W57), (13), (CV7))
    call SaveInteger(R8, (W57), (12), (VID))
    call SaveTriggerHandle(R8, (W57), (11), (YSH))
    call SaveReal(R8, (W57), (6), (GetUnitX(AM7)))
    call SaveReal(R8, (W57), (7), (GetUnitY(AM7)))
    call TriggerRegisterTimerEvent(t, .5 / VID, true)
    call TriggerAddCondition(t, Condition(function YMH))
    set t = null
    set AM7 = null
    set YSH = null
endfunction
function YTH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2E3' then
        call YQH()
    endif
    return false
endfunction
function IH9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YTH))
    set t = null
endfunction
function YUH takes unit Z77 returns nothing
    local integer C77 = (LoadInteger(R8, (GetHandleId(Z77)), (728)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2E4')
    local integer i = 1
    set C77 = IMinBJ(C77, 5 * ML8)
    loop
        exitwhen i > 20
        if C77 == i then
            call O68(Z77, I57[i])
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), I57[i], false)
        else
            call UnitRemoveAbility(Z77, I57[i])
        endif
        set i = i + 1
    endloop
endfunction
function YVH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer C77 = (LoadInteger(R8, (GetHandleId(Z77)), (728))) - 1
    call SaveInteger(R8, (GetHandleId(Z77)), (728), (C77))
    call YUH(Z77)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function YWH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local integer C77 = (LoadInteger(R8, (GetHandleId(Z77)), (728))) + 1
    local integer TA8 = GetUnitAbilityLevel(Z77, 'A2E4')
    if IsNormalAttack() and IsUnitEnemy(GetEventDamageSource(), GetOwningPlayer(Z77)) then
        call SaveInteger(R8, (GetHandleId(Z77)), (728), (C77))
        call YUH(Z77)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 12 + 2 * TA8, false)
        call TriggerRegisterDeathEvent(t, Z77)
        call TriggerAddCondition(t, Condition(function YVH))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function YXH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function YWH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set t = null
    set Z77 = null
endfunction
function YYH takes nothing returns boolean
    if GetLearnedSkill() == 'A2E4' and GetUnitAbilityLevel(GetTriggerUnit(), 'A2E4') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call YXH()
    endif
    return false
endfunction
function II9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function YYH))
    set t = null
    set I57[1] = 'A2DG'
    set I57[2] = 'A2DF'
    set I57[3] = 'A2DL'
    set I57[4] = 'A2DM'
    set I57[5] = 'A2DJ'
    set I57[6] = 'A2DI'
    set I57[7] = 'A2DN'
    set I57[8] = 'A2DO'
    set I57[9] = 'A2DH'
    set I57[10] = 'A2DU'
    set I57[11] = 'A2DP'
    set I57[12] = 'A2DQ'
    set I57[13] = 'A2DR'
    set I57[14] = 'A2DS'
    set I57[15] = 'A2DT'
    set I57[16] = 'A2DK'
    set I57[17] = 'A2OT'
    set I57[18] = 'A2OS'
    set I57[19] = 'A2OU'
    set I57[20] = 'A2OV'
endfunction
function YZH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call UnitRemoveAbility(Z77, 'Bpig')
    call UnitRemoveAbility(Z77, 'BEia')
    call UnitRemoveAbility(Z77, 'A2FX')
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function YAH takes unit Z77, unit X77 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local integer WTD = R2I(100 * GetUnitState(X77, UNIT_STATE_LIFE) / GetUnitState(X77, UNIT_STATE_MAX_LIFE))
    local integer ML8 = IMaxBJ(IMinBJ(R2I(100 - WTD) / 5, 20), 1)
    call UnitAddAbility(AC7, 'A2DV')
    call SetUnitAbilityLevel(AC7, 'A2DV', ML8)
    call IssueTargetOrderById(AC7, 852075, X77)
    set AC7 = null
endfunction
function YBH takes nothing returns nothing
    if U9 == false and((LoadInteger(R8, (GetHandleId(GetEnumUnit())), (4349))) == 1) == false then
        call ASCI(GetEnumUnit(), 4348, .49)
        call V08(J77, GetEnumUnit(), 3, (25 + 25 * J87) * .5)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetEnumUnit(), "origin"))
        call YAH(J77, GetEnumUnit())
    endif
endfunction
function YCH takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), J47) == false then
        call GroupAddUnit(J47, GetEnumUnit())
        call V08(J77, GetEnumUnit(), 3, 60 + 40 * J87)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetEnumUnit(), "origin"))
        call YAH(J77, GetEnumUnit())
    endif
endfunction
function Y3H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local real BM7 = (LoadReal(R8, (W57), (6)))
    local real BN7 = (LoadReal(R8, (W57), (7)))
    local real x
    local real y
    local real a
    local integer Y6H = (LoadInteger(R8, (W57), (33)))
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local real YLH
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A2FX' then
            call SaveInteger(R8, (W57), (33), (2))
            call GroupClear(XCD)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2FX', false)
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function YZH))
            call SaveUnitHandle(R8, (W57), (2), (Z77))
        endif
    elseif GetTriggerEventId() == EVENT_WIDGET_DEATH or(LoadInteger(R8, (GetHandleId(Z77)), (704))) ==- 1 then
        call UI8(Z77)
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A2E5' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2E5', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2FX', false)
        call UnitRemoveAbility(Z77, 'A2FX')
        call UnitRemoveAbility(Z77, 'Bpig')
        call UnitRemoveAbility(Z77, 'BEia')
        call KillUnit(S08)
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif Y6H == 0 then
        set a = YI7(GetUnitX(S08), GetUnitY(S08), BM7, BN7) * bj_DEGTORAD
        set x = GetUnitX(S08) + 18 * Cos(a)
        set y = GetUnitY(S08) + 18 * Sin(a)
        call SC8(x, y, 175)
        if Z87(x, y, BM7, BN7) < 40 then
            set x = BM7
            set y = BN7
        endif
        call SetUnitX(S08, x)
        call SetUnitY(S08, y)
        set H04 = Z77
        set J77 = Z77
        set J87 = GetUnitAbilityLevel(Z77, 'A2E5')
        set J47 = XCD
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, I27 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function YCH)
        call OF8(g)
        if x == BM7 and y == BN7 then
            call SaveInteger(R8, (W57), (33), (1))
            call GroupClear(XCD)
        endif
    elseif Y6H == 1 then
        set C77 = C77 + 1
        if C77 == 25 then
            set x = GetUnitX(S08)
            set y = GetUnitY(S08)
            call SC8(x, y, 175)
            set C77 = 0
            set H04 = Z77
            set J77 = Z77
            set J87 = GetUnitAbilityLevel(Z77, 'A2E5')
            set g = OG8()
            call GroupEnumUnitsInRange(g, x, y, I_7 + 25, Condition(function GenericCondition_EnemyUnitsEx))
            call ForGroup(g, function YBH)
            call OF8(g)
            set YLH = (15 + 5 * J87) / 2
            if GetUnitState(Z77, UNIT_STATE_MANA) < YLH or Z47(Z77, S08) > 2000 then
                call SaveInteger(R8, (W57), (33), (2))
                call GroupClear(XCD)
                call UnitRemoveAbility(Z77, 'A2FX')
                call UnitRemoveAbility(Z77, 'Bpig')
                call UnitRemoveAbility(Z77, 'BEia')
            else
                call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) - YLH)
            endif
        endif
        call SaveInteger(R8, (W57), (34), (C77))
    elseif Y6H == 2 then
        set a = YI7(GetUnitX(S08), GetUnitY(S08), GetUnitX(Z77), GetUnitY(Z77)) * bj_DEGTORAD
        set x = GetUnitX(S08) + 16 * Cos(a)
        set y = GetUnitY(S08) + 16 * Sin(a)
        call SC8(x, y, 175)
        call SetUnitX(S08, x)
        call SetUnitY(S08, y)
        set H04 = Z77
        set J77 = Z77
        set J87 = GetUnitAbilityLevel(Z77, 'A2E5')
        set J47 = XCD
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, I27 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function YCH)
        call OF8(g)
        if Z87(x, y, GetUnitX(Z77), GetUnitY(Z77)) < 40 then
            call UI8(Z77)
            call KillUnit(S08)
            call OF8(XCD)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A2E5' then
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2E5', true)
            endif
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2FX', false)
        endif
    endif
    set t = null
    set Z77 = null
    set S08 = null
    set XCD = null
    set g = null
    return false
endfunction
function Y1H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), x, y) * bj_DEGTORAD
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0DS', GetUnitX(Z77), GetUnitY(Z77), a * bj_RADTODEG)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Y3H))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    call SaveInteger(R8, (W57), (33), (0))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call UG8(Z77)
    call O68(Z77, 'A2FX')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2E5', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2FX', true)
    // if IsComputer(GetOwningPlayer(Z77)) then
    //     call DU8(GetHandleId(Y7[GetPlayerId(GetOwningPlayer(Z77))]), "AI|ShredChakram", Z77)
    // endif
    set Z77 = null
    set t = null
    set S08 = null
endfunction
function Y0H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2E5' then
        call Y1H()
    endif
    return false
endfunction
function IJ9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Y0H))
    call PU8('A2DV')
    set t = null
endfunction
function SetHeroAghanimDroppable takes unit hero, boolean flag returns nothing
    local integer item_index = BT9(hero)
    local integer i = 0
    local item JB9
    if item_index > 0 then
        loop
            exitwhen i > 5
            set JB9 = UnitItemInSlot(hero, i)
            if JB9 != null and GetItemTypeId(JB9) == BU[item_index] then
                call SetItemDroppable(JB9, flag)
            endif
            set i = i + 1
        endloop
    endif
    set JB9 = null
endfunction
function AOP6 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    call UnitRemoveAbility(Z77, 'Bpig')
    call UnitRemoveAbility(Z77, 'BEia')
    call UnitRemoveAbility(Z77, 'A2E6')
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function AOQ6 takes unit Z77, unit X77 returns nothing
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local integer WTD = R2I(100 * GetUnitState(X77, UNIT_STATE_LIFE) / GetUnitState(X77, UNIT_STATE_MAX_LIFE))
    local integer ML8 = IMaxBJ(IMinBJ(R2I(100 - WTD) / 5, 20), 1)
    call UnitAddAbility(AC7, 'A2DV')
    call SetUnitAbilityLevel(AC7, 'A2DV', ML8)
    call IssueTargetOrderById(AC7, 852075, X77)
    set AC7 = null
endfunction
function AOU6 takes nothing returns nothing
    if U9 == false and((LoadInteger(R8, (GetHandleId((GetEnumUnit()))), ((4348)))) == 1) == false then
        call ASCI(GetEnumUnit(), 4349, .49)
        call V08(H04, GetEnumUnit(), 3, (25 + 25 * HB4) * .5)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetEnumUnit(), "origin"))
        call AOQ6(H04, GetEnumUnit())
    endif
endfunction
function AA06 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), H24) == false then
        call GroupAddUnit(H24, GetEnumUnit())
        call V08(H04, GetEnumUnit(), 3, 60 + 40 * HB4)
        call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetEnumUnit(), "origin"))
        call AOQ6(H04, GetEnumUnit())
    endif
endfunction
function AAI6 takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local real BM7 = (LoadReal(R8, (W57), (6)))
    local real BN7 = (LoadReal(R8, (W57), (7)))
    local real x
    local real y
    local real a
    local integer Y6H = (LoadInteger(R8, (W57), (33)))
    local group XCD = (LoadGroupHandle(R8, (W57), (187)))
    local group g
    local integer C77 = (LoadInteger(R8, (W57), (34)))
    local real YLH
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A2E6' then
            call SaveInteger(R8, (W57), (33), (2))
            call GroupClear(XCD)
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2E6', false)
            set t = CreateTrigger()
            set W57 = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function AOP6))
            call SaveUnitHandle(R8, (W57), (2), (Z77))
        endif
    elseif GetTriggerEventId() == EVENT_WIDGET_DEATH or(LoadInteger(R8, (GetHandleId(Z77)), (704))) ==- 1 then
        call UI8(Z77)
        if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A2YO' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2YO', true)
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2E6', false)
        call SetHeroAghanimDroppable(Z77, true)
        call UnitRemoveAbility(Z77, 'A2E6')
        call UnitRemoveAbility(Z77, 'Bpig')
        call UnitRemoveAbility(Z77, 'BEia')
        call KillUnit(S08)
        call OF8(XCD)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    elseif Y6H == 0 then
        set a = YI7(GetUnitX(S08), GetUnitY(S08), BM7, BN7) * bj_DEGTORAD
        set x = GetUnitX(S08) + 18 * Cos(a)
        set y = GetUnitY(S08) + 18 * Sin(a)
        call SC8(x, y, 175)
        if Z87(x, y, BM7, BN7) < 40 then
            set x = BM7
            set y = BN7
        endif
        call SetUnitX(S08, x)
        call SetUnitY(S08, y)
        set H04 = Z77
        set HB4 = GetUnitAbilityLevel(Z77, 'A2YO')
        set H24 = XCD
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, I27 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function AA06)
        call OF8(g)
        if x == BM7 and y == BN7 then
            call SaveInteger(R8, (W57), (33), (1))
            call GroupClear(XCD)
        endif
    elseif Y6H == 1 then
        set C77 = C77 + 1
        if C77 == 25 then
            set x = GetUnitX(S08)
            set y = GetUnitY(S08)
            call SC8(x, y, 175)
            set C77 = 0
            set H04 = Z77
            set HB4 = GetUnitAbilityLevel(Z77, 'A2YO')
            set g = OG8()
            call GroupEnumUnitsInRange(g, x, y, I_7 + 25, Condition(function GenericCondition_EnemyUnitsEx))
            call ForGroup(g, function AOU6)
            call OF8(g)
            set YLH = (15 + 5 * HB4) / 2
            if GetUnitState(Z77, UNIT_STATE_MANA) < YLH or Z47(Z77, S08) > 2000 then
                call SaveInteger(R8, (W57), (33), (2))
                call GroupClear(XCD)
                call UnitRemoveAbility(Z77, 'A2E6')
                call UnitRemoveAbility(Z77, 'Bpig')
                call UnitRemoveAbility(Z77, 'BEia')
            else
                call SetUnitState(Z77, UNIT_STATE_MANA, GetUnitState(Z77, UNIT_STATE_MANA) - YLH)
            endif
        endif
        call SaveInteger(R8, (W57), (34), (C77))
    elseif Y6H == 2 then
        set a = YI7(GetUnitX(S08), GetUnitY(S08), GetUnitX(Z77), GetUnitY(Z77)) * bj_DEGTORAD
        set x = GetUnitX(S08) + 16 * Cos(a)
        set y = GetUnitY(S08) + 16 * Sin(a)
        call SC8(x, y, 175)
        call SetUnitX(S08, x)
        call SetUnitY(S08, y)
        set H04 = Z77
        set HB4 = GetUnitAbilityLevel(Z77, 'A2YO')
        set H24 = XCD
        set g = OG8()
        call GroupEnumUnitsInRange(g, x, y, I27 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        call ForGroup(g, function AA06)
        call OF8(g)
        if Z87(x, y, GetUnitX(Z77), GetUnitY(Z77)) < 40 then
            call UI8(Z77)
            call KillUnit(S08)
            call OF8(XCD)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            if(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 0 or(LoadInteger(R8, (GetHandleId(Z77)), (704))) == 'A2YO' then
                call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2YO', true)
            endif
            call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2E6', false)
            call SetHeroAghanimDroppable(Z77, true)
        endif
    endif
    set t = null
    set Z77 = null
    set S08 = null
    set XCD = null
    set g = null
    return false
endfunction
function AA16 takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = YI7(GetUnitX(Z77), GetUnitY(Z77), x, y) * bj_DEGTORAD
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0DS', GetUnitX(Z77), GetUnitY(Z77), a * bj_RADTODEG)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerRegisterUnitEvent(t, Z77, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AAI6))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (6), (x))
    call SaveReal(R8, (W57), (7), (y))
    call SaveInteger(R8, (W57), (33), (0))
    call SaveGroupHandle(R8, (W57), (187), (OG8()))
    call UG8(Z77)
    call O68(Z77, 'A2E6')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2YO', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2E6', true)
    call SetHeroAghanimDroppable(Z77, false)
    // if IsComputer(GetOwningPlayer(Z77)) then
    //     call DU8(GetHandleId(Y7[GetPlayerId(GetOwningPlayer(Z77))]), "AI|ShredChakram2", Z77)
    // endif
    set Z77 = null
    set t = null
    set S08 = null
endfunction
function AAO6 takes nothing returns boolean
    if GetSpellAbilityId() == 'A2YO' then
        call AA16()
    endif
    return false
endfunction
function AA26 takes nothing returns boolean
    if GetLearnedSkill() == 'A2E5' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A2YO') > 0 then
        call SetUnitAbilityLevel(GetTriggerUnit(), 'A2YO', GetUnitAbilityLevel(GetTriggerUnit(), 'A2E5'))
    endif
    return false
endfunction
function APS1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AAO6))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AA26))
    call PU8('A2DV')
    set t = null
endfunction
function AXAO takes nothing returns nothing
    local unit Z77 = H04
    call O68(Z77, 'A2YO')
    call SetPlayerAbilityAvailable(GetOwningPlayer(Z77), 'A2YO', true)
    call SetUnitAbilityLevel(Z77, 'A2YO', GetUnitAbilityLevel(Z77, 'A2E5'))
    set Z77 = null
endfunction
function Trap_RemoveBonus takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if((LoadInteger(R8, (GetHandleId(Z77)), (754))) == (LoadInteger(R8, (W57), (754))))then
        call W78((Z77), (0))
    endif
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    set t = null
    set Z77 = null
    return false
endfunction
function Y5H takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
        set KP7 = KP7 + 60
    else
        set KP7 = KP7 + 20
    endif
    call UnitRemoveAbility(GetEnumUnit(), 'A2LE')
    call UnitRemoveAbility(GetEnumUnit(), 'B0G1')
endfunction
function Y2H takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) then
        set KP7 = KP7 + 60
    else
        set KP7 = KP7 + 20
    endif
endfunction
function Y_H takes nothing returns nothing
    call V18(KQ7, GetEnumUnit(), .5 + KR7 * .5)
    call V08(KQ7, GetEnumUnit(), AB4, KP7)
endfunction
function Z4H takes nothing returns boolean
    return GetUnitAbilityLevel(GetFilterUnit(), 'B0G1') > 0
endfunction
function Z7H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local group g = OG8()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    set KQ7 = Z77
    set KR7 = GetUnitAbilityLevel(Z77, 'A2L9')
    set KP7 = 0
    call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function Z4H))
    call ForGroup(g, function Y5H)
    call ForGroup(g, function Y_H)
    call OF8(g)
    set g = null
    set Z77 = null
    set t = null
endfunction
function Z8H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2L9' then
        call Z7H()
    endif
    return false
endfunction
function Z9H takes string QO8, unit X77, unit AM7 returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, QO8, .033)
    call SetTextTagPosUnit(tt, X77, 64)
    call SetTextTagColor(tt, 0, 75, 255, 255)
    call SetTextTagVelocity(tt, 0, .0355)
    call SetTextTagFadepoint(tt, .15)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, 1.)
    if IsUnitAlly(AM7, GetLocalPlayer())or N08(GetLocalPlayer())then
        call SetTextTagVisibility(tt, true)
    else
        call SetTextTagVisibility(tt, false)
    endif
    set tt = null
endfunction
function ZDH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local real U89 = (LoadReal(R8, (GetHandleId(X77)), (753)))
    if GetTriggerEventId() == EVENT_WIDGET_DEATH or U89 < (TimerGetElapsed(E4))then
        call UnitRemoveAbility(X77, 'A2LE')
        call UnitRemoveAbility(X77, 'B0G1')
        call SaveReal(R8, (GetHandleId(X77)), (753), (0.))
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set X77 = null
    return false
endfunction
function ZEH takes unit Z77, unit X77 returns nothing
    local trigger t
    local integer W57
    local group g = OG8()
    call SaveReal(R8, (GetHandleId(X77)), (753), (((TimerGetElapsed(E4)) + KO7) * 1.))
    set t = CreateTrigger()
    set W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .25, true)
    call TriggerRegisterDeathEvent(t, X77)
    call TriggerAddCondition(t, Condition(function ZDH))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call O68(X77, 'A2LE')
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2LE', false)
    set KQ7 = Z77
    set KR7 = GetUnitAbilityLevel(Z77, 'A2L9')
    set KP7 = 0
    call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function Z4H))
    call ForGroup(g, function Y2H)
    call OF8(g)
    call Z9H(I2S(KP7), X77, Z77)
    set g = null
    set t = null
endfunction
function ZFH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    else
        if GetEventDamageSource() == Z77 and GetEventDamage() > 0 then
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            if S_9(X77) == false then
                call ZEH(Z77, X77)
            endif
        endif
    endif
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function ZGH takes nothing returns nothing
    local unit Z77 = GetAttacker()
    local unit X77 = GetTriggerUnit()
    local trigger t
    local integer W57
    if((LoadInteger(R8, (GetHandleId(Z77)), (4325))) == 1) == false then
        call ASCI(Z77, 4325, 0.2)
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, X77, EVENT_UNIT_DAMAGED)
        call TriggerRegisterTimerEvent(t, 2.5, false)
        call TriggerAddCondition(t, Condition(function ZFH))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (X77))
        set t = null
    endif
    set Z77 = null
    set X77 = null
endfunction
function ZHH takes nothing returns boolean
    if GetUnitAbilityLevel(GetAttacker(), 'A2L9') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker()))then
        call ZGH()
    endif
    return false
endfunction
function IO9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z8H))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function ZHH))
    set t = null
endfunction
function ZIH takes nothing returns nothing
    local integer W57 = GetHandleId(GetTriggeringTrigger())
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit ZJH = H04
    local unit X77 = H54
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2LA')
    if GU8(X77) == false then
        call V08(Z77, X77, AB4, 20 + 80 * ML8)
        call T68(X77, 'A2MK', 1, 4, 'B0G4')
        call UnitMakeAbilityPermanent(X77, true, 'A2MJ')
    endif
    set Z77 = null
    set X77 = null
    set ZJH = null
endfunction
function ZKH takes nothing returns nothing
    local unit Z77 = KY7
    local unit X77 = GetEnumUnit()
    local trigger t = T88(KZ7, X77, 'h0EE', "ZIH", 650, false)
    local integer W57 = GetHandleId(t)
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function ZMH takes unit Z77, unit X77 returns nothing
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2LA')
    local group g = OG8()
    set H04 = Z77
    set KY7 = Z77
    set KZ7 = X77
    call GroupEnumUnitsInRange(g, GetUnitX(X77), GetUnitY(X77), 500 + 25, Condition(function GenericCondition_EnemyUnitsEx))
    call GroupRemoveUnit(g, X77)
    call ForGroup(g, function ZKH)
    call OF8(g)
    set Z77 = null
    set X77 = null
    set g = null
endfunction
function ZNH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local unit S08 = (LoadUnitHandle(R8, (W57), (45)))
    local real x = GetUnitX(S08)
    local real y = GetUnitY(S08)
    local real BM7 = GetUnitX(X77)
    local real BN7 = GetUnitY(X77)
    local real ZOH = Z87(BM7, BN7, x, y)
    local integer C77 = GetTriggerEvalCount(t)
    local real S28 = YI7(x, y, BM7, BN7)
    local real S_8
    local real T48
    local real S58 = ZOH / ((1.35 / .02) - C77)
    if S58 < KB7 * .02 then
        set S58 = KB7 * .02
    endif
    set S_8 = x + S58 * Cos(S28 * bj_DEGTORAD)
    set T48 = y + S58 * Sin(S28 * bj_DEGTORAD)
    call SetUnitX(S08, S_8)
    call SetUnitY(S08, T48)
    call SetUnitFacing(S08, S28)
    if Z87(BM7, BN7, S_8, T48) <= S58 then
        call KillUnit(S08)
        call ZMH(Z77, X77)
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set X77 = null
    set Z77 = null
    set S08 = null
    return false
endfunction
function ZPH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit S08 = CreateUnit(GetOwningPlayer(Z77), 'h0EJ', GetUnitX(Z77), GetUnitY(Z77), 0)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function ZNH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    call SaveUnitHandle(R8, (W57), (45), (S08))
    set Z77 = null
    set X77 = null
    set S08 = null
    set t = null
endfunction
function ZQH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2LA' and OE8(GetSpellTargetUnit()) == false then
        call ZPH()
    endif
    return false
endfunction
function IN9 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZQH))
    call GVD('A2MK')
    set t = null
endfunction
function ZRH takes nothing returns nothing
    call V18(J97, GetEnumUnit(), 1.5)
    call V08(J97, GetEnumUnit(), 2, 50 + 50 * JD7)
endfunction
function ZSH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local real a = (LoadReal(R8, (W57), (137)))
    local real BM7 = (LoadReal(R8, (W57), (47)))
    local real BN7 = (LoadReal(R8, (W57), (48)))
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local group g = OG8()
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2F4')
    set x = PQ8(x + 32 * Cos(a))
    set y = PS8(y + 32 * Sin(a))
    if Z87(x, y, BM7, BN7) < 40 then
        set x = BM7
        set y = BN7
    endif
    call SetUnitX(Z77, x)
    call SetUnitY(Z77, y)
    call SetUnitFacing(Z77, a * bj_RADTODEG)
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 125 + 25, Condition(function GenericCondition_EnemyUnitsEx))
    if FirstOfGroup(g) != null or(x == BM7 and y == BN7)or GetTriggerEvalCount(t) > 200 or GetTriggerEventId() == EVENT_WIDGET_DEATH then
        call DestroyEffect(AddSpecialEffect("war3mapImported\\BlackDragonMissile.mdx", x, y))
        call GroupEnumUnitsInRange(g, x, y, 300 + 25, Condition(function GenericCondition_EnemyUnitsEx))
        set JD7 = ML8
        set J97 = Z77
        if GetTriggerEventId() != EVENT_WIDGET_DEATH then
            call ForGroup(g, function ZRH)
        endif
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    call OF8(g)
    set t = null
    set Z77 = null
    set g = null
    return false
endfunction
function ZTH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real x = GetUnitX(Z77)
    local real y = GetUnitY(Z77)
    local real BM7 = GetSpellTargetX()
    local real BN7 = GetSpellTargetY()
    local real a = YI7(x, y, BM7, BN7) * bj_DEGTORAD
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerRegisterDeathEvent(t, Z77)
    call TriggerAddCondition(t, Condition(function ZSH))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveReal(R8, (W57), (137), (a))
    call SaveReal(R8, (W57), (47), (BM7))
    call SaveReal(R8, (W57), (48), (BN7))
    set Z77 = null
    set t = null
endfunction
function ZUH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2F4' then
        call ZTH()
    endif
    return false
endfunction
function Register_SonicBoom takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZUH))
    set t = null
endfunction
function ZVH takes nothing returns nothing
    local unit Z77 = JE7
    local unit X77 = GetEnumUnit()
    call TZ8(X77, 'A2F3', 1, 10)
    call V08(Z77, X77, 2, 50 * JF7 + 2 * GetHeroAgi(Z77, true))
    set Z77 = null
    set X77 = null
endfunction
function ZWH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real WPE = RMinBJ((TimerGetElapsed(E4)) - (LoadReal(R8, (GetHandleId(Z77)), (358))), 5.)
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2EE')
    local real P08 = (40 + 80 * ML8) * (WPE)
    local group g = OG8()
    local real d = WPE * 600
    local real a = (LoadReal(R8, (GetHandleId(Z77)), (736)))
    local real x = GetUnitX(Z77) + d * Cos(a)
    local real y = GetUnitY(Z77) + d * Sin(a)
    set H04 = Z77
    call GroupEnumUnitsInRange(g, x, y, 325, Condition(function GenericCondition_EnemyUnitsEx))
    set JF7 = ML8
    set JE7 = Z77
    call ForGroup(g, function ZVH)
    call OF8(g)
    call QH8("effects\\BasicWaterFlash.mdx", x, y, 1)
    set Z77 = null
    set g = null
endfunction
function ZXH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = (LoadUnitHandle(R8, (W57), (14)))
    call SetUnitTimeScale(AM7, 1)
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if GetTriggerEventId() != EVENT_UNIT_DEATH then
        call ZN7(AM7)
    endif
    set t = null
    set AM7 = null
    return false
endfunction
function ZYH takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit AM7 = GetTriggerUnit()
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local real a = YI7(GetUnitX(AM7), GetUnitY(AM7), x, y) * bj_DEGTORAD
    local real RF8 = RMaxBJ(Z87(GetUnitX(AM7), GetUnitY(AM7), x, y) / 600, .32)
    call SaveReal(R8, (GetHandleId(AM7)), (356), (x))
    call SaveReal(R8, (GetHandleId(AM7)), (357), (y))
    call SaveReal(R8, (GetHandleId(AM7)), (736), (a))
    call SaveReal(R8, (GetHandleId(AM7)), (358), (TimerGetElapsed(E4)))
    call SetUnitTimeScale(AM7, .75)
    call SaveUnitHandle(R8, (W57), (14), (AM7))
    call TriggerRegisterTimerEvent(t, RF8 - .01, false)
    call TriggerRegisterUnitEvent(t, AM7, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function ZXH))
    set t = null
    set AM7 = null
endfunction
function ZZH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2EE' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (360), (false))
            call ZYH()
        elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call SaveBoolean(R8, (GetHandleId(GetTriggerUnit())), (360), (true))
        elseif(LoadBoolean(R8, (GetHandleId(GetTriggerUnit())), (360))) then
            call ZWH()
        endif
    endif
    return false
endfunction
function Register_WindBlast takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_ENDCAST)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZZH))
    set t = null
endfunction
function ZAH takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetUnitAbilityLevel(Z77, 'B086') == 0 and GetUnitAbilityLevel(Z77, 'B087') == 0 then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call UnitRemoveAbility(Z77, 'A2F2')
        call UnitRemoveAbility(Z77, 'B0F7')
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function ZBH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    local unit X77 = GetSpellTargetUnit()
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2F2', false)
    call O68(X77, 'A2F2')
    call TriggerRegisterTimerEvent(t, .2, true)
    call TriggerAddCondition(t, Condition(function ZAH))
    call SaveUnitHandle(R8, (W57), (2), (X77))
    set Z77 = null
    set X77 = null
    set t = null
endfunction
function ZCH takes nothing returns boolean
    if GetSpellAbilityId() == 'A2F0' then
        call ZBH()
    endif
    return false
endfunction
function Register_WindBarrier takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZCH))
    set t = null
endfunction
function Z3H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer ML8 = GetUnitAbilityLevel(Z77, 'A2F5')
    local integer id
    local integer Q38
    call FlushChildHashtable(R8, W57)
    call EA8(t)
    if IsUnitAlly(X77, GetOwningPlayer(Z77)) then
        set Q38 = 'B0F8'
        if ML8 == 1 then
            set id = 'A2FG'
        elseif ML8 == 2 then
            set id = 'A2FF'
        elseif ML8 == 3 then
            set id = 'A2FH'
        endif
        call SetUnitState(X77, UNIT_STATE_LIFE, GetUnitState(X77, UNIT_STATE_LIFE) + 100 + 50 * ML8)
    else
        set Q38 = 'B0F9'
        if ML8 == 1 then
            set id = 'A2FD'
        elseif ML8 == 2 then
            set id = 'A2FC'
        elseif ML8 == 3 then
            set id = 'A2FE'
        endif
        call V08(Z77, X77, 1, 100 + 50 * ML8)
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), id, false)
    call T68(X77, id, 1, 4, Q38)
    set t = null
    set Z77 = null
    set X77 = null
    return false
endfunction
function Z6H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetEnumUnit()
    local unit AC7 = CreateUnit(GetOwningPlayer(X77), 'e00E', GetUnitX(X77), GetUnitY(X77), 0)
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call TF9(X77)
    call T99(X77, 0, 0)
    call UnitAddAbility(AC7, 'A2FI')
    call IssueTargetOrderById(AC7, 852144, X77)
    call TriggerRegisterTimerEvent(t, 4, false)
    call TriggerAddCondition(t, Condition(function Z3H))
    call SaveUnitHandle(R8, (W57), (2), (Z77))
    call SaveUnitHandle(R8, (W57), (17), (X77))
    set t = null
    set Z77 = null
    set X77 = null
    set AC7 = null
endfunction
function ZLH takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local real BM7 = GetSpellTargetX()
    local real BN7 = GetSpellTargetY()
    local group g = OG8()
    call S18(GetOwningPlayer(Z77), 4, BM7, BN7, 300)
    call GroupEnumUnitsInRange(g, BM7, BN7, 400 + 25, Condition(function T08))
    call ForGroup(g, function Z6H)
    call OF8(g)
    set Z77 = null
    set g = null
endfunction
function Z1H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2F5' then
        call ZLH()
    endif
    return false
endfunction
function Register_PrevailingWinds takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z1H))
    set t = null
endfunction
function Z_H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local integer V_8 = (LoadInteger(R8, (W57), (30)))
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    local unit X77 = (LoadUnitHandle(R8, (W57), (17)))
    local integer C77 = (LoadInteger(R8, (GetHandleId(Z77)), (737)))
    local trigger A4H = (LoadTriggerHandle(R8, (GetHandleId(Z77)), (738)))
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == Z77 then
            call DisableTrigger(t)
            call FlushChildHashtable(R8, W57)
            call EA8(t)
            set C77 = C77 - 1
            if C77 == 0 then
                call FlushChildHashtable(R8, (GetHandleId(A4H)))
                call EA8(A4H)
                call RemoveSavedHandle(R8, (GetHandleId(Z77)), (738))
                call SaveInteger(R8, (GetHandleId(Z77)), (737), (- 1))
                call UnitRemoveAbility(Z77, 'A2FN')
                call UnitRemoveAbility(Z77, 'B0FA')
            else
                call SaveInteger(R8, (GetHandleId(Z77)), (737), (C77))
            endif
        endif
    else
        call FlushChildHashtable(R8, W57)
        call EA8(t)
    endif
    set t = null
    set X77 = null
    set Z77 = null
    set A4H = null
    return false
endfunction
function A7H takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer W57 = GetHandleId(t)
    local unit Z77 = (LoadUnitHandle(R8, (W57), (2)))
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_ATTACKED then
        call FlushChildHashtable(R8, W57)
        call EA8(t)
        call RemoveSavedHandle(R8, (GetHandleId(Z77)), (738))
        call SaveInteger(R8, (GetHandleId(Z77)), (737), (- 1))
        call UnitRemoveAbility(Z77, 'A2FN')
        call UnitRemoveAbility(Z77, 'B0FA')
    elseif GetAttacker() == Z77 then
        set t = CreateTrigger()
        set W57 = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
        call TriggerRegisterTimerEvent(t, 2, false)
        call TriggerAddCondition(t, Condition(function Z_H))
        call SaveUnitHandle(R8, (W57), (2), (Z77))
        call SaveUnitHandle(R8, (W57), (17), (GetTriggerUnit()))
    endif
    set t = null
    set Z77 = null
    return false
endfunction
function A8H takes nothing returns nothing
    local unit Z77 = GetTriggerUnit()
    local unit X77 = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer W57 = GetHandleId(t)
    call SetPlayerAbilityAvailable(GetOwningPlayer(X77), 'A2FN', false)
    call O68(X77, 'A2FN')
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterTimerEvent(t, 12, false)
    call TriggerAddCondition(t, Condition(function A7H))
    call SaveUnitHandle(R8, (W57), (2), (X77))
    call SaveInteger(R8, (GetHandleId(X77)), (737), (GetUnitAbilityLevel(Z77, 'A2FQ') + 1))
    call SaveTriggerHandle(R8, (GetHandleId(X77)), (738), (t))
    set X77 = null
    set t = null
    set Z77 = null
endfunction
function A9H takes nothing returns boolean
    if GetSpellAbilityId() == 'A2FQ' then
        call A8H()
    endif
    return false
endfunction
function Register_Focus takes nothing returns nothing
    local trigger t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function A9H))
    set t = null
endfunction
function InitCustomTeams takes nothing returns nothing
    //! textmacro InitCustomTeamsMac takes PLAYER_RANK, PLAYER_ID, TEAM
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call SetPlayerTeam(Player($PLAYER_ID$), $TEAM$)
        endif
    //! endtextmacro
    //! runtextmacro InitCustomTeamsMac("1","1","0")
    //! runtextmacro InitCustomTeamsMac("2","2","0")
    //! runtextmacro InitCustomTeamsMac("3","3","0")
    //! runtextmacro InitCustomTeamsMac("4","4","0")
    //! runtextmacro InitCustomTeamsMac("5","5","0")
    //! runtextmacro InitCustomTeamsMac("6","12","0")
    //! runtextmacro InitCustomTeamsMac("7","13","0")
    //! runtextmacro InitCustomTeamsMac("8","14","0")
    //! runtextmacro InitCustomTeamsMac("9","15","0")
    //! runtextmacro InitCustomTeamsMac("10","16","0")
    //! runtextmacro InitCustomTeamsMac("11","17","0")
    //! runtextmacro InitCustomTeamsMac("1","7","1")
    //! runtextmacro InitCustomTeamsMac("2","8","1")
    //! runtextmacro InitCustomTeamsMac("3","9","1")
    //! runtextmacro InitCustomTeamsMac("4","10","1")
    //! runtextmacro InitCustomTeamsMac("5","11","1")
    //! runtextmacro InitCustomTeamsMac("6","18","1")
    //! runtextmacro InitCustomTeamsMac("7","19","1")
    //! runtextmacro InitCustomTeamsMac("8","20","1")
    //! runtextmacro InitCustomTeamsMac("9","21","1")
    //! runtextmacro InitCustomTeamsMac("10","22","1")
    //! runtextmacro InitCustomTeamsMac("11","23","1")
endfunction
function C5H takes nothing returns nothing
    local location YG9 = GetRectCenter(AD)
    set C4 = CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE), 'n00L', YG9, bj_UNIT_FACING)
    call SetUnitAcquireRange(C4, 150)
    call RL9(C4)
    call RemoveLocation(YG9)
    call UnitAddItem(C4, CreateItem(BU[F1], 0, 0))
    call UnitAddAbility(C4, 'A142')
    set YG9 = GetRectCenter(Br)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(cr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(Cr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(fr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(Fr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(Hr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(jr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(Jr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(lr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(mr)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(Ni)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(Bi)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(rect_neutral_7_scrg)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = GetRectCenter(rect_neutral_7_sent)
    call RemoveUnit(CreateUnitAtLoc(O8, 'u001', YG9, 0))
    call RemoveLocation(YG9)
    set YG9 = null
endfunction
function InitItemButtons takes framehandle shopBackdrop returns nothing
    local framehandle firstButton = BlzCreateFrameByType("GLUEBUTTON", "first_button", shopBackdrop, "DotaItemButtonTemplate", 0)
    call BlzFrameSetPoint(firstButton, FRAMEPOINT_TOPLEFT, shopBackdrop, FRAMEPOINT_TOPLEFT, 0.01, - 0.01)
endfunction
function DotaShopButtonClicked takes nothing returns nothing
    local framehandle shopFrame = LoadFrameHandle(R8, (GetHandleId(GetTriggeringTrigger())), (8001))
    if BlzFrameIsVisible(shopFrame) then
        call BlzFrameSetVisible(shopFrame, false)
    else
        call BlzFrameSetVisible(shopFrame, true)
    endif
endfunction
function InitializeFrames takes nothing returns nothing
    local framehandle gameFrame = BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0)
    local framehandle shopFrame = BlzCreateFrame("DotaShop", gameFrame, 0, 0)
    local trigger t = CreateTrigger()
    call BlzFrameSetText(BlzGetFrameByName("DotaShopTitle", 0), "商店")
    call BlzFrameSetPoint(shopFrame, FRAMEPOINT_TOPLEFT, gameFrame, FRAMEPOINT_TOPLEFT, 0., 0.)
    call BlzFrameSetPoint(shopFrame, FRAMEPOINT_BOTTOMLEFT, gameFrame, FRAMEPOINT_BOTTOMLEFT, 0., 0.)
    call BlzTriggerRegisterFrameEvent(t, BlzGetFrameByName("DotaShopTitle", 0), FRAMEEVENT_CONTROL_CLICK)
    call TriggerAddAction(t, function DotaShopButtonClicked)
    call SaveFrameHandle(R8, (GetHandleId(t)), (8001), BlzGetFrameByName("DotaShopBackdrop", 0))
    call BlzFrameSetVisible(BlzGetFrameByName("DotaShopBackdrop", 0), false)
    call InitItemButtons(BlzGetFrameByName("DotaShopBackdrop", 0))
endfunction
function CooldownDelayAction takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer EC8 = GetHandleId(t)
    local unit AM7 = LoadUnitHandle(R8, (EC8), (14))
    local integer TX8 = LoadInteger(R8, (EC8), (59))
    call StartHeroCooldownReduced(AM7, TX8)
    call FlushChildHashtable(R8, EC8)
    call EA8(t)
    set t = null
    return false
endfunction
function CooldownDetectCondt takes nothing returns boolean
    return POctarineNum[GetPlayerId(GetTriggerPlayer())] > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B3R4') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B3DU') > 0
endfunction
function CooldownDetectExempt takes integer id returns boolean
    return id == 'A3N5' or id == 'A0BG' or id == 'A064' or id == 'A0E2' or id == 'A1MR'
endfunction
function CooldownDetectMorphExempt takes integer abilId, integer unitId returns boolean
    return (abilId == 'A11T' and unitId != 'Hblm') or (abilId == 'A1RI' and unitId != 'Eevi') or (abilId == 'A03G' and unitId != 'Hlgr') or (abilId == 'ANcr' and unitId != 'N01I') or (abilId == 'A093' and unitId != 'U008')
endfunction
function CooldownDetect takes nothing returns nothing
    local integer TX8 = GetSpellAbilityId()
    local trigger t
    local integer EC8
    if not CooldownDetectExempt(TX8) and not CooldownDetectMorphExempt(TX8, GetUnitTypeId(GetTriggerUnit())) then
        set t = CreateTrigger()
        set EC8 = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0., false)
        call TriggerAddCondition(t, Condition(function CooldownDelayAction))
        call SaveInteger(R8, (EC8), (59), (TX8))
        call SaveUnitHandle(R8, (EC8), (14), (GetTriggerUnit()))
    endif
    set t = null
endfunction
function main takes nothing returns nothing
    local integer i
    local player p
    local unit u
    local integer unitID
    local trigger t
    local real life
    local integer index
    local integer userControlledPlayers
    local integer iLevel
    local real L8H
    local real L9H
    local real LDH
    local real LEH
    local real LFH
    local real LGH
    local real LHH
    local real LIH
    local real LJH
    local real LKH
    local real circle_of_power_sent_6_x
    local real circle_of_power_sent_6_y
    local real circle_of_power_sent_7_x
    local real circle_of_power_sent_7_y
    local real circle_of_power_sent_8_x
    local real circle_of_power_sent_8_y
    local real circle_of_power_sent_9_x
    local real circle_of_power_sent_9_y
    local real circle_of_power_sent_10_x
    local real circle_of_power_sent_10_y
    local real circle_of_power_sent_11_x
    local real circle_of_power_sent_11_y
    local real LMH
    local real LNH
    local real LOH
    local real LPH
    local real LQH
    local real LRH
    local real LSH
    local real LTH
    local real LUH
    local real LVH
    local real circle_of_power_scrg_6_x
    local real circle_of_power_scrg_6_y
    local real circle_of_power_scrg_7_x
    local real circle_of_power_scrg_7_y
    local real circle_of_power_scrg_8_x
    local real circle_of_power_scrg_8_y
    local real circle_of_power_scrg_9_x
    local real circle_of_power_scrg_9_y
    local real circle_of_power_scrg_10_x
    local real circle_of_power_scrg_10_y
    local real circle_of_power_scrg_11_x
    local real circle_of_power_scrg_11_y
    local integer XQ8
    local region HZE
    local integer EC8
    set LSP[0] = 1
    set LSP[1] = 2
    set LSP[2] = 4
    set LSP[3] = 8
    set LSP[4] = 16
    set LSP[5] = 32
    set LSP[6] = 64
    set LSP[7] = 128
    set LSP[8] = 256
    set LSP[9] = 512
    set LSP[10] = 1024
    set LSP[11] = 2048
    set LSP[12] = 4096
    set LSP[13] = 8192
    set LSP[14] = 16384
    set LSP[15] = 32768
    // call AQH()
    // set R17[0] = CreateTrigger()
    // set R07 = GetHandleId(R17[0])
    // set i = 1
    // loop
    //     exitwhen i > 9
    //     set R17[i] = CreateTrigger()
    //     set i = i + 1
    // endloop
    call InitializeYD()
    call SetCameraBounds(- 7552. + GetCameraMargin(CAMERA_MARGIN_LEFT), - 7936. + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 7552. - GetCameraMargin(CAMERA_MARGIN_RIGHT), 7424. - GetCameraMargin(CAMERA_MARGIN_TOP), - 7552. + GetCameraMargin(CAMERA_MARGIN_LEFT), 7424. - GetCameraMargin(CAMERA_MARGIN_TOP), 7552. - GetCameraMargin(CAMERA_MARGIN_RIGHT), - 7936. + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl", "Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")
    call SetWaterBaseColor(0, 0, 255, 255)
    call NewSoundEnvironment("Default")
    call SetAmbientDaySound("FelwoodDay")
    call SetAmbientNightSound("FelwoodNight")
    call SetMapMusic("Music", true, 0)
    set yE = CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(yE, "Avatar")
    call SetSoundDuration(yE, 3199)
    set zE = CreateSound("Abilities\\Spells\\NightElf\\Blink\\BlinkArrival1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(zE, "BlinkTarget")
    call SetSoundDuration(zE, 1466)
    call SetSoundPitch(zE, 1.6)
    set vX = CreateSound("Abilities\\Spells\\Human\\Blizzard\\BlizzardLoop1.wav", true, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(vX, "BlizzardLoop")
    call SetSoundDuration(vX, 4000)
    set AN = CreateSound("Buildings\\Undead\\TempleOfTheDamned\\TempleOfTheDamnedWhat.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(AN, "TempleOfTheDamnedWhat")
    call SetSoundDuration(AN, 3518)
    call SetSoundDistanceCutoff(AN, 2000.)
    set BN = CreateSound("Abilities\\Spells\\Human\\Flare\\FlareTarget2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(BN, "Flare2")
    call SetSoundDuration(BN, 1344)
    call SetSoundDistanceCutoff(BN, 2000.)
    set CN = CreateSound("Sounds\\Dominating.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(CN, 1802)
    call SetSoundChannel(CN, 0)
    call SetSoundVolume(CN, 127)
    call SetSoundPitch(CN, 1.)
    set nX = CreateSound("Sounds\\Double_Kill.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(nX, 2012)
    call SetSoundChannel(nX, 0)
    call SetSoundVolume(nX, 127)
    call SetSoundPitch(nX, 1.)
    set EX = CreateSound("Sounds\\firstblood.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(EX, 1567)
    call SetSoundChannel(EX, 0)
    call SetSoundVolume(EX, 127)
    call SetSoundPitch(EX, 1.)
    set OX = CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(OX, "GoblinSapperPissed")
    call SetSoundDuration(OX, 1515)
    call SetSoundChannel(OX, 0)
    set DO = CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(DO, "GoblinSapperYesAttack")
    call SetSoundDuration(DO, 813)
    call SetSoundChannel(DO, 0)
    set JO = CreateSound("Sounds\\GodLike.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(JO, 1828)
    call SetSoundChannel(JO, 0)
    call SetSoundVolume(JO, 127)
    call SetSoundPitch(JO, 1.)
    set bX = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(bX, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(bX, 1948)
    set BX = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(BX, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(BX, 1733)
    set cX = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(cX, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(cX, 3570)
    set CX = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(CX, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(CX, 3576)
    set fX = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(fX, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(fX, 3558)
    set kX = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(kX, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(kX, 10867)
    set LX = CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(LX, "HeroBladeMasterPissed")
    call SetSoundDuration(LX, 2235)
    set mX = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(mX, "HeroDreadLordPissed")
    call SetSoundDuration(mX, 2921)
    set MX = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(MX, "HeroDreadLordPissed")
    call SetSoundDuration(MX, 7125)
    set PX = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(PX, "HeroDreadLordPissed")
    call SetSoundDuration(PX, 3998)
    set qX = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(qX, "HeroDreadLordPissed")
    call SetSoundDuration(qX, 1727)
    set QX = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(QX, "HeroDreadLordPissed")
    call SetSoundDuration(QX, 8893)
    set tX = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(tX, "HeroDreadLordPissed")
    call SetSoundDuration(tX, 6066)
    set TX = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(TX, "HeroDreadLordPissed")
    call SetSoundDuration(TX, 1277)
    set PO = CreateSound("Sounds\\HolyShit.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(PO, 2325)
    call SetSoundChannel(PO, 0)
    call SetSoundVolume(PO, 127)
    call SetSoundPitch(PO, 1.)
    set UX = CreateSound("Buildings\\NightElf\\MoonWell\\MoonWellWhat1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(UX, "MoonWellWhat")
    call SetSoundDuration(UX, 2972)
    call SetSoundDistances(UX, 600., 10000.)
    call SetSoundDistanceCutoff(UX, 2000.)
    set TO = CreateSound("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaos.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(TO, "MarkOfChaos")
    call SetSoundDuration(TO, 4000)
    set VO = CreateSound("Sounds\\Killing_Spree.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(VO, 2377)
    call SetSoundChannel(VO, 0)
    call SetSoundVolume(VO, 127)
    call SetSoundPitch(VO, 1.)
    set oO = CreateSound("Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(oO, "DeathNightElfBuildingCancel")
    call SetSoundDuration(oO, 3675)
    set YO = CreateSound("Sounds\\MegaKill.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(YO, 2612)
    call SetSoundChannel(YO, 0)
    call SetSoundVolume(YO, 127)
    call SetSoundPitch(YO, 1.)
    set aO = CreateSound("Abilities\\Spells\\NightElf\\ShadowMeld\\ShadowMeld1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(aO, "ShadowMeld")
    call SetSoundDuration(aO, 941)
    set ZO = CreateSound("Sounds\\MonsterKill.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(ZO, 3344)
    call SetSoundChannel(ZO, 0)
    call SetSoundVolume(ZO, 127)
    call SetSoundPitch(ZO, 1.)
    set EO = CreateSound("Units\\Creeps\\Ogre\\OgrePissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(EO, "OgrePissed")
    call SetSoundDuration(EO, 3309)
    set XO = CreateSound("Sounds\\Ownage.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(XO, 2586)
    call SetSoundChannel(XO, 0)
    call SetSoundVolume(XO, 127)
    call SetSoundPitch(XO, 1.)
    set OO = CreateSound("Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(OO, "PandarenBrewmasterPissed")
    call SetSoundDuration(OO, 2316)
    set AO = CreateSound("Abilities\\Spells\\Human\\Polymorph\\PolymorphDone.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(AO, "PolymorphDone")
    call SetSoundDuration(AO, 1498)
    set NO = CreateSound("Buildings\\Naga\\TempleofTides\\TempleOfTidesWhat1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(NO, "TempleOfTidesWhat")
    call SetSoundDuration(NO, 3483)
    call SetSoundDistanceCutoff(NO, 2000.)
    set bO = CreateSound("Buildings\\Undead\\TombOfRelics\\TombOfRelicsWhat1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(bO, "TombOfRelicsWhat")
    call SetSoundDuration(bO, 3065)
    call SetSoundDistanceCutoff(bO, 2000.)
    set BO = CreateSound("Abilities\\Spells\\Orc\\Disenchant\\Disenchant.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(BO, "Disenchant")
    call SetSoundDuration(BO, 2043)
    set cO = CreateSound("Sound\\Interface\\Rescue.wav", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(cO, "Rescue")
    call SetSoundDuration(cO, 3796)
    set CO = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(CO, "RiflemanPissed")
    call SetSoundDuration(CO, 3158)
    set fO = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(fO, "RiflemanPissed")
    call SetSoundDuration(fO, 1306)
    set FO = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed3.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(FO, "RiflemanPissed")
    call SetSoundDuration(FO, 2624)
    set gO = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed4.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(gO, "RiflemanPissed")
    call SetSoundDuration(gO, 3785)
    set hO = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed5.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(hO, "RiflemanPissed")
    call SetSoundDuration(hO, 4168)
    set HO = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed6.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(HO, "RiflemanPissed")
    call SetSoundDuration(HO, 2810)
    set kO = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed7.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(kO, "RiflemanPissed")
    call SetSoundDuration(kO, 4609)
    set lO = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed8.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(lO, "RiflemanPissed")
    call SetSoundDuration(lO, 5480)
    set mO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(mO, "HeroShadowHunterPissed")
    call SetSoundDuration(mO, 2293)
    set pO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(pO, "HeroShadowHunterPissed")
    call SetSoundDuration(pO, 1789)
    set qO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(qO, "HeroShadowHunterPissed")
    call SetSoundDuration(qO, 2301)
    set QO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(QO, "HeroShadowHunterPissed")
    call SetSoundDuration(QO, 2752)
    set tO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(tO, "HeroShadowHunterPissed")
    call SetSoundDuration(tO, 3129)
    set UO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(UO, "HeroShadowHunterPissed")
    call SetSoundDuration(UO, 1666)
    set wO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(wO, "HeroShadowHunterPissed")
    call SetSoundDuration(wO, 1187)
    set WO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(WO, "HeroShadowHunterPissed")
    call SetSoundDuration(WO, 2148)
    set zO = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(zO, "HeroShadowHunterPissed")
    call SetSoundDuration(zO, 2026)
    set vR = CreateSound("Abilities\\Spells\\Undead\\Sleep\\SleepBirth1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(vR, "Sleep")
    call SetSoundDuration(vR, 3203)
    set eR = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(eR, "SpellBreakerPissed")
    call SetSoundDuration(eR, 3901)
    set oR = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(oR, "SpellBreakerPissed")
    call SetSoundDuration(oR, 3367)
    set rR = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(rR, "SpellBreakerPissed")
    call SetSoundDuration(rR, 3651)
    set aR = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(aR, "SpellBreakerPissed")
    call SetSoundDuration(aR, 2490)
    set RR = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(RR, "SpellBreakerPissed")
    call SetSoundDuration(RR, 14402)
    set bR = CreateSound("Abilities\\Spells\\Undead\\DevourMagic\\DevourMagic.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(bR, "DevourMagicLaunch")
    call SetSoundDuration(bR, 1225)
    set BR = CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(BR, "BlackArrowHit")
    call SetSoundDuration(BR, 1776)
    call SetSoundVolume(BR, 50)
    set LO = CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(LO, "HornOfCenariusSound")
    call SetSoundDuration(LO, 12121)
    call SetSoundVolume(LO, 115)
    set CR = CreateSound("Sounds\\triple_kill.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(CR, 1907)
    call SetSoundChannel(CR, 0)
    call SetSoundVolume(CR, 127)
    call SetSoundPitch(CR, 1.)
    set DP = CreateSound("Sounds\\Unstoppable.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(DP, 2038)
    call SetSoundChannel(DP, 0)
    call SetSoundVolume(DP, 127)
    call SetSoundPitch(DP, 1.)
    set EP = CreateSound("Abilities\\Spells\\Human\\DivineShield\\PaladinDivineShieldDeath1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(EP, "DivineShieldDeath")
    call SetSoundDuration(EP, 1043)
    call SetSoundDistanceCutoff(EP, 1500.)
    set hR = CreateSound("Abilities\\Spells\\Items\\AIso\\SoulGem.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(hR, "SoulGem")
    call SetSoundDuration(hR, 4474)
    set GP = CreateSound("Sounds\\WhickedSick.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(GP, 2612)
    call SetSoundChannel(GP, 0)
    call SetSoundVolume(GP, 127)
    call SetSoundPitch(GP, 1.)
    set JR = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(JR, "WitchDoctorPissed")
    call SetSoundDuration(JR, 1282)
    set lR = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(lR, "WitchDoctorPissed")
    call SetSoundDuration(lR, 1248)
    set LR = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(LR, "WitchDoctorPissed")
    call SetSoundDuration(LR, 1524)
    set mR = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(mR, "WitchDoctorPissed")
    call SetSoundDuration(mR, 1200)
    set pR = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(pR, "WitchDoctorPissed")
    call SetSoundDuration(pR, 2762)
    set PR = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(PR, "WitchDoctorPissed")
    call SetSoundDuration(PR, 2849)
    set qR = CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(qR, "GoblinSapperYesAttack")
    call SetSoundDuration(qR, 1091)
    call SetSoundChannel(qR, 0)
    set QR = CreateSound("Abilities\\Spells\\NightElf\\shadowstrike\\ShadowStrikeBirth1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(QR, "ShadowStrikeBirth")
    call SetSoundDuration(QR, 2194)
    call SetSoundPitch(QR, 1.2)
    set sR = CreateSound("Abilities\\Spells\\NightElf\\CorrosiveBreath\\CorrosiveBreathMissileLaunch1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(sR, "CorrosiveBreathMissileLaunch")
    call SetSoundDuration(sR, 1301)
    call SetSoundPitch(sR, 1.2)
    set SR = CreateSound("Sound\\Interface\\Warning\\NightElf\\SentinelAllyHeroDies1.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(SR, "AllyHeroDiesNightElf")
    call SetSoundDuration(SR, 1963)
    call SetSoundVolume(SR, 127)
    set UR = CreateSound("Sound\\Interface\\Warning\\Undead\\NecromancerAllyHeroDies1.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(UR, "AllyHeroDiesUndead")
    call SetSoundDuration(UR, 1933)
    call SetSoundVolume(UR, 127)
    set WR = CreateSound("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(WR, "ReviveHuman")
    call SetSoundDuration(WR, 3196)
    call SetSoundChannel(WR, 8)
    set zR = CreateSound("Sound\\Interface\\SecretFound.wav", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(zR, "SecretFound")
    call SetSoundDuration(zR, 2525)
    set IP = CreateSound("Sounds\\UltraKill.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(IP, 1958)
    call SetSoundChannel(IP, 0)
    call SetSoundVolume(IP, 127)
    call SetSoundPitch(IP, 1.)
    set JP = CreateSound("Sounds\\Rampage.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(JP, 1195)
    call SetSoundChannel(JP, 0)
    call SetSoundVolume(JP, 127)
    call SetSoundPitch(JP, 1.)
    set eI = CreateSound("Units\\Orc\\AncestralGuardian\\AncestralGuardianAttack1.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(eI, "AncestralGuardianAttack1")
    call SetSoundDuration(eI, 1181)
    set oI = CreateSound("Abilities\\Spells\\Human\\Feedback\\Feedback.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(oI, "Feedback")
    call SetSoundDuration(oI, 1222)
    set KP = CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(KP, "AbominationPissed")
    call SetSoundDuration(KP, 1735)
    set OP = CreateSound("Sound\\Units\\Death\\ArtilleryCorpseExplodeDeath1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(OP, "ArtilleryExplodeDeath")
    call SetSoundDuration(OP, 1486)
    set RI = CreateSound("Units\\Undead\\CryptFiend\\CryptFiendPissed2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(RI, "CryptFiendPissed")
    call SetSoundDuration(RI, 3541)
    set PP = CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(PP, "BansheeDeath")
    call SetSoundDuration(PP, 2380)
    set WI4 = CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(WI4, "FlameStrikeTarget")
    call SetSoundDuration(WI4, 1927)
    set WJ4 = CreateSound("Abilities\\Spells\\Other\\Volcano\\VolcanoLoop.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(WJ4, "VolcanoLoop")
    call SetSoundDuration(WJ4, 7616)
    set AAUF = CreateSound("Units\\Orc\\SentryWard\\SentryWard.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(AAUF, "SentryWardBirth")
    call SetSoundDuration(AAUF, 1499)
    set WK4 = CreateSound("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.wav", false, false, false, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(WK4, "ThunderClap")
    call SetSoundDuration(WK4, 3451)
    set WM4 = CreateSound("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImage.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(WM4, "MirrorImage")
    call SetSoundDuration(WM4, 1756)
    set WN4 = CreateSound("Abilities\\Spells\\Human\\CloudOfFog\\CloudOfFogLoop1.wav", true, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(WN4, "CloudOfFogLoop")
    call SetSoundDuration(WN4, 2038)
    call SetSoundPitch(WN4, .9)
    set WU4 = CreateSound("Units\\Human\\Gyrocopter\\GyrocopterPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(WU4, "GyrocopterPissed")
    call SetSoundDuration(WU4, 3913)
    set WV4 = "Sound\\Music\\mp3Music\\Tension.mp3"
    set WW4 = "Sound\\Music\\mp3Music\\ArthasTheme.mp3"
    set WX4 = "Sound\\Music\\mp3Music\\NightElfDefeat.mp3"
    set WY4 = "Sound\\Music\\mp3Music\\NightElfVictory.mp3"
    set WZ4 = CreateSound("Sound\\Interface\\SecretFound.wav", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(WZ4, "SecretFound")
    call SetSoundDuration(WZ4, 2525)
    set WA4 = CreateSound("Sound\\Interface\\Hint.wav", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(WA4, "Hint")
    call SetSoundDuration(WA4, 2006)
    set YZ4 = CreateSound("war3mapImported\\pl_impact_stun.mp3", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundDuration(YZ4, 1340)
    call SetSoundChannel(YZ4, 11)
    call SetSoundVolume(YZ4, 127)
    call SetSoundPitch(YZ4, 1.)
    call SetSoundDistances(YZ4, 600., 10000.)
    call SetSoundDistanceCutoff(YZ4, 2000.)
    call SetSoundConeAngles(YZ4, .0, .0, 127)
    call SetSoundConeOrientation(YZ4, .0, .0, .0)
    set YA4 = CreateSound("Sound\\Buildings\\Fire\\OrcHumanLargeBuildingFire1.wav", true, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(YA4, "HumanFireLarge")
    call SetSoundDuration(YA4, 3471)
    set YB4 = CreateSound("Units\\Human\\Phoenix\\PhoenixEggWhat1.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(YB4, "PhoenixEggWhat")
    call SetSoundDuration(YB4, 1579)
    call SetSoundChannel(YB4, 0)
    set B64 = CreateSound("Abilities\\Spells\\NightElf\\BattleRoar\\BattleRoar.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(B64, "BattleRoar")
    call SetSoundDuration(B64, 1991)
    set BL4 = CreateSound("Buildings\\Undead\\Ziggurat\\ZigguratUpgrade.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(BL4, "ZigguratUpgradeWhat")
    call SetSoundDuration(BL4, 4203)
    call SetSoundDistances(BL4, 600., 10000.)
    call SetSoundDistanceCutoff(BL4, 3000.)
    set B14 = CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(B14, "SpellStealMissileLaunch")
    call SetSoundDuration(B14, 1541)
    set B04 = CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(B04, "SpellStealTarget")
    call SetSoundDuration(B04, 984)
    set B54 = CreateSound("Abilities\\Spells\\Undead\\UndeadMine\\AcolyteMining.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(B54, "AcolyteMining")
    call SetSoundDuration(B54, 4233)
    call SetSoundChannel(B54, 0)
    set B24 = CreateSound("Abilities\\Weapons\\AvengerMissile\\DestroyerMissile.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(B24, "DestroyerMissileLaunch")
    call SetSoundDuration(B24, 817)
    set B_4 = CreateSound("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouch.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(B_4, "SpiritTouch")
    call SetSoundDuration(B_4, 2043)
    call SetSoundChannel(B_4, 11)
    set CK4 = CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(CK4, "FlameStrikeTarget")
    call SetSoundDuration(CK4, 1927)
    set JP7 = CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget2.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(JP7, "StarfallTarget")
    call SetSoundDuration(JP7, 3000)
    set AAIG = CreateSound("Buildings\\Orc\\TaurenTotem\\TaurenTotemWhat1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(AAIG, "TaurenTotemWhat")
    call SetSoundDuration(AAIG, 3785)
    set AAOG = CreateSound("Abilities\\Weapons\\GargoyleMissile\\GargoyleMissileLaunch3.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(AAOG, "GargoyleMissileLaunch")
    call SetSoundDuration(AAOG, 919)
    set AAAG = CreateSound("Abilities\\Spells\\Items\\ResourceItems\\ReceiveGold.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(AAAG, "ReceiveGold")
    call SetSoundDuration(AAAG, 589)
    set AABG = CreateSound("Abilities\\Spells\\Human\\InnerFire\\InnerFireBirth.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(AABG, "InnerFire")
    call SetSoundDuration(AABG, 2096)
    set go = Rect(6176., 3136., 6400., 3392.)
    set jo = Rect(3616., 3584., 3872., 3872.)
    set lo = Rect(2304., 5280., 2752., 5728.)
    set PD = Rect(6176., 5952., 6624., 6240.)
    set Qo = Rect(- 4224., - 6848., - 3968., - 6592.)
    set to = Rect(- 6304., - 4384., - 6080., - 4224.)
    set Uo = Rect(- 4928., - 5760., - 4736., - 5536.)
    set wo = Rect(6048., 3424., 6304., 3776.)
    set zo = Rect(4128., 3776., 4352., 4032.)
    set er = Rect(2752., 5408., 3040., 5632.)
    set QD = Rect(- 7040., - 6912., - 6688., - 6656.)
    set ar = Rect(- 3648., - 6880., - 3424., - 6688.)
    set Er = Rect(- 6336., - 4224., - 5984., - 3904.)
    set Xr = Rect(- 4896., - 5504., - 4608., - 5184.)
    set TD = Rect(2912., - 2944., 3104., - 2720.)
    set WD = Rect(5696., 5504., 7296., 7392.)
    set XD = Rect(- 7680., - 8032., - 6176., - 6240.)
    set YD = Rect(- 2464., 1536., - 2240., 1760.)
    set Br = Rect(4310., - 978., 4438., - 817.)
    set cr = Rect(- 3232., - 704., - 3072., - 544.)
    set Cr = Rect(1440., - 4096., 1728., - 3872.)
    set fr = Rect(- 4576., 3328., - 4448., 3488.)
    set Fr = Rect(- 3264., 4192., - 2912., 4320.)
    set Hr = Rect(2880., - 5152., 3104., - 4992.)
    set jr = Rect(- 1760., 2304., - 1472., 2464.)
    set Jr = Rect(4312., - 3968., 4460., - 3820.)
    set lr = Rect(1152., 2976., 1344., 3104.)
    set mr = Rect(- 522., - 3608., - 330., - 3480.)
    set ZD = Rect(- 7104., 6656., - 6848., 6912.)
    set qr = Rect(- 7104., 6656., - 6880., 6880.)
    set Sr = Rect(3520., - 1440., 4640., - 768.)
    set Ur = Rect(- 3328., - 1280., - 2272., 64.)
    set AD = Rect(4032., - 2432., 4320., - 2144.)
    set Wr = Rect(1056., - 5216., 2368., - 3744.)
    set zr = Rect(- 5120., 3008., - 3648., 4320.)
    set Zr = Rect(- 3456., 3808., - 2656., 4864.)
    set vi = Rect(2272., - 6080., 3776., - 4928.)
    set ei = Rect(- 1920., 2176., - 992., 3040.)
    set xi = Rect(416., 2624., 1632., 3648.)
    set oi = Rect(3660., - 4864., 5004., - 3584.)
    set ai = Rect(- 1024., - 3808., 96., - 2848.)
    set BD = Rect(- 7936., - 7776., - 5920., - 5760.)
    set LD = Rect(5504., 5184., 7744., 7136.)
    set Ai = Rect(- 800., 3072., 64., 4032.)
    set Ni = Rect(- 384., 3392., - 192., 3520.)
    set bi = Rect(- 2080., - 5024., - 1152., - 3936.)
    set Bi = Rect(- 1696., - 4923., - 1472., - 4763.)
    set rect_neutral_7_scrg_respawn = Rect(3520., - 436., 4768., 766.)
    set rect_neutral_7_scrg = Rect(4384., 97., 4512., 286.)
    set rect_neutral_7_sent_respawn = Rect(- 4438., - 211., - 3338., 921.)
    set rect_neutral_7_sent = Rect(- 3712., 230., - 3584., 420.)
    set KE = Rect(- 480., - 800., - 256., - 512.)
    set RE = Rect(3744.0, - 2464.0, 4416.0, - 1984.0)
    set di = Rect(3456.0, - 2624.0, 4416.0, - 2112.0)
    set fi = Rect(3584.0, - 2560.0, 4192.0, - 2336.0)
    set Fi = Rect(4096.0, - 2528.0, 4192.0, - 2144.0)
    set Gi = Rect(3968.0, - 2624.0, 4096.0, - 1920.0)
    set Ji = Rect(3936.0, - 2528.0, 4192.0, - 2240.0)
    set li = Rect(3968.0, - 2624.0, 4032.0, - 2048.0)
    set Li = Rect(3872.0, - 2592.0, 4480.0, - 2240.0)
    set pi = Rect(3936.0, - 2528.0, 4448.0, - 1984.0)
    set SE = Rect(- 8160., - 8192., - 3712., - 4352.)
    set TE = Rect(- 8192., - 4960., - 4640., - 3552.)
    set WE = Rect(- 4000., - 7744., - 3072., - 5152.)
    set YE = Rect(2304., 4064., 8032., 7776.)
    set ZE = Rect(4640., 1952., 8000., 4384.)
    set EF = Rect(3136., 2816., 5216., 4960.)
    set FF = Rect(- 7968., 5216., - 7456., 5920.)
    set GF = Rect(- 8064., 2880., - 7648., 4512.)
    set HF = Rect(- 3296., 3712., - 2688., 3968.)
    set JF = Rect(- 2400., 2016., - 1952., 2624.)
    set KF = Rect(- 2016., 1600., - 1216., 2048.)
    set MF = Rect(- 2144., 2528., - 1888., 2944.)
    set NF = Rect(- 1280., 1728., - 736., 2176.)
    set OF = Rect(- 1696., - 768., - 1376., - 448.)
    set PF = Rect(- 576., .0, - 352., 256.)
    set QF = Rect(3104., - 2784., 3680., - 2304.)
    set RF = Rect(3264., - 3040., 3872., - 2656.)
    set SF = Rect(4960., - 3104., 5632., - 2816.)
    set TF = Rect(4896., - 3744., 5280., - 3456.)
    set UF = Rect(7488., - 3520., 8192., - 2336.)
    set WF = Rect(6656., - 3328., 7808., - 2656.)
    set XF = Rect(7104., - 8192., 8192., - 5920.)
    set YF = Rect(5952., - 8192., 7200., - 7712.)
    set ZF = Rect(7168., - 6240., 8128., - 5184.)
    set BF = Rect(5824., - 8032., 6400., - 7776.)
    set CF = Rect(6976., - 6560., 7488., - 5920.)
    set LF = Rect(- 5856., 2944., - 5600., 3200.)
    set DG = Rect(6784., - 7776., 7264., - 7456.)
    set EG = Rect(- 8128., - 8192., 5536., - 7744.)
    set FG = Rect(2368., - 7904., 2688., - 7584.)
    set GG = Rect(- 1664., - 7808., - 1344., - 7552.)
    set JG = Rect(- 2944., - 8192., - 1664., - 7680.)
    set MG = Rect(- 4000., - 8192., - 3168., - 7616.)
    set OG = Rect(- 5760., - 8000., - 5184., - 7584.)
    set PG = Rect(- 3296., 3744., - 3104., 3872.)
    set QG = Rect(- 8192., - 8192., - 6720., - 7744.)
    set RG = Rect(- 8192., - 6432., - 7456., - 4928.)
    set SG = Rect(- 8192., - 8128., - 7904., 8160.)
    set TG = Rect(- 7744., 3936., - 7328., 5600.)
    set UG = Rect(- 7680., 1984., - 6560., 2816.)
    set VG = Rect(- 7776., 1696., - 6944., 2176.)
    set WG = Rect(- 8032., - 3040., - 7680., - 2720.)
    set XG = Rect(- 7904., - 2656., - 7552., - 2336.)
    set ZG = Rect(- 3936., - 2720., - 3584., - 2400.)
    set AG = Rect(- 3168., - 1952., - 2912., - 1696.)
    set BG = Rect(- 4128., - 1632., - 3776., - 1152.)
    set CG = Rect(- 4992., - 1792., - 3968., - 1440.)
    set LG = Rect(- 5536., - 1664., - 4832., - 1280.)
    set DH = Rect(- 2304., 3872., - 2048., 4096.)
    set EH = Rect(- 5664., - 1440., - 5344., .0)
    set FH = Rect(- 5824., - 1504., - 5472., - 544.)
    set GH = Rect(- 5216., - 1216., - 4480., - 384.)
    set HH = Rect(- 5632., 448., - 5152., 1856.)
    set JH = Rect(- 5856., 1440., - 5248., 2592.)
    set MH = Rect(- 5408., 1888., - 4928., 2368.)
    set NH = Rect(- 5056., 1664., - 4064., 2144.)
    set OH = Rect(- 4320., 1344., - 3808., 1952.)
    set PH = Rect(- 4224., 1440., - 3200., 2016.)
    set QH = Rect(- 2112., 3424., - 1856., 3744.)
    set RH = Rect(- 2400., 640., - 2208., 896.)
    set TH = Rect(- 3392., 640., - 3200., 896.)
    set UH = Rect(- 3744., - 1024., - 3232., 384.)
    set WH = Rect(- 2016., - 5504., - 1664., - 4768.)
    set XH = Rect(- 1760., - 5248., - 1312., - 4800.)
    set YH = Rect(896., - 3328., 1088., - 3072.)
    set ZH = Rect(2368., - 3808., 2688., - 3360.)
    set AH = Rect(1952., - 3744., 2208., - 3456.)
    set CH = Rect(- 768., - 1344., - 480., - 1024.)
    set LH = Rect(1152., - 6560., 1376., - 6272.)
    set DI = Rect(1216., - 6368., 1504., - 6176.)
    set EI = Rect(- 1376., - 6784., - 1184., - 6528.)
    set GI = Rect(7616., - 6528., 8192., 8160.)
    set HI = Rect(7072., - 2304., 7264., - 2048.)
    set II = Rect(- 7872., 7872., 8192., 8192.)
    set JI = Rect(1792., 7776., 2112., 8192.)
    set NI = Rect(- 2656., .0, - 2496., 256.)
    set PI = Rect(- 768., 7232., - 416., 7424.)
    set SI = Rect(- 7968., 5472., - 7648., 5792.)
    set TI = Rect(1120., 7904., 1312., 8160.)
    set UI = Rect(736., 4480., 1120., 4800.)
    set WI = Rect(2208., 4928., 2400., 5152.)
    set XI = Rect(576., 4384., 1120., 4928.)
    set YI = Rect(2560., 4160., 2784., 4576.)
    set BI = Rect(- 5984., - 3776., - 5504., - 3232.)
    set CI = Rect(576., 4256., 1024., 4672.)
    set LI = Rect(544., 4352., 992., 4768.)
    set TJ = Rect(704., 2496., 1376., 2784.)
    set XJ = Rect(- 2240., 1792., - 1856., 2240.)
    set MK = Rect(- 1472., 1472., - 992., 1728.)
    set UK = Rect(2368., - 3200., 2656., - 2880.)
    set YK = Rect(2624., - 3584., 2816., - 2848.)
    set SM = Rect(2464., - 3392., 2656., - 3136.)
    set TM = Rect(2784., - 3232., 2976., - 2976.)
    set UM = Rect(2784., - 3424., 2976., - 3168.)
    set WM = Rect(7328., 7808., 8192., 8192.)
    set YM = Rect(1984., 7584., 3296., 8192.)
    set JN = Rect(2240., 7392., 2560., 8192.)
    set MN = Rect(- 1888., 416., - 1696., 576.)
    set TN = Rect(7776., 2720., 8192., 3648.)
    set UN = Rect(5280., 640., 5664., 1184.)
    set WN = Rect(- 3104., 2720., - 2624., 3232.)
    set ZH = Rect(2816., - 3488., 3008., - 3232.)
    set AH = Rect(1568., - 2976., 1760., - 2656.)
    set UK = Rect(2368., - 3264., 2656., - 2944.)
    set YK = Rect(2624., - 3648., 2816., - 2912.)
    set SM = Rect(2464., - 3456., 2656., - 3200.)
    set EG = Rect(- 8192., - 8128., 5472., - 7648.)
    set eE = Rect(- 8192., - 3712., - 7008., - 2144.)
    set oE = Rect(- 3360., - 8192., - 1472., - 7648.)
    set aE = Rect(- 2528., - 7840., - 1696., - 7488.)
    set nE = Rect(- 2336., - 7584., - 1600., - 7456.)
    set VE = Rect(- 8192., 2016., - 6816., 2880.)
    set EE = Rect(6880., - 3328., 8000., - 2624.)
    set XE = Rect(3904., 2976., 4160., 3264.)
    set OE = Rect(2336., 5952., 2592., 6240.)
    set IE = Rect(6304., 1984., 6560., 2272.)
    set AE = Rect(- 3328., - 6912., - 3072., - 6624.)
    set bE = Rect(- 4384., - 4800., - 4128., - 4512.)
    set BE = Rect(- 6432., - 3840., - 6176., - 3552.)
    set cE = Rect(- 7584., 6176., - 6304., 7552.)
    set CE = Rect(3616., - 2656., 3968., - 2080.)
    set dE = Rect(4000., - 2592., 4416., - 2016.)
    set APB = Rect(3456.0, - 2624.0, 4384.0, - 2112.0)
    set fE = Rect(- 1088., 5376., 768., 6624.)
    set FE = Rect(1600., 1024., 3456., 2432.)
    set gE = Rect(5504., - 1056., 7200., 512.)
    set GE = Rect(- 6944., - 1792., - 5248., - 224.)
    set JE = Rect(- 1536., - 7424., 640., - 6048.)
    set lE = Rect(- 3328., - 7200., - 2464., - 6368.)
    set LE = Rect(- 4288., - 4544., - 3424., - 3712.)
    set ME = Rect(- 6784., - 3616., - 5920., - 2784.)
    set pE = Rect(1472., 5440., 2336., 6272.)
    set PE = Rect(2656., 2336., 3520., 3168.)
    set qE = Rect(5984., 1152., 6848., 1984.)
    set QE = Rect(- 4128., - 3712., - 2496., - 2272.)
    set YN = Rect(- 8192., - 8128., - 5120., - 5536.)
    set ZN = Rect(4608., 4352., 8192., 8192.)
    set cz = Rect(3536., 3148., 6248., 5832.)
    set Cz = Rect(- 6348., - 6900., - 3628., - 4480.)
    set AQB = Rect(608.0, 4320.0, 1120.0, 4768.0)
    set AIC = Rect(- 3840.0, 1440.0, - 3328.0, 1888.0)
    set AOC = Rect(2400.0, - 3360.0, 2912.0, - 2912.0)
    set AAC = Rect(- 1888.0, - 5280.0, - 1376.0, - 4832.0)
    set He = Rect(.0, .0, .0, .0)
    set p = Player(PLAYER_NEUTRAL_PASSIVE)
    set E47 = CreateUnit(p, 'u00Z', 7360., - 4416., 270.)
    call SetUnitColor(E47, ConvertPlayerColor(24))
    set D_7 = CreateUnit(p, 'u00Z', - 7296., 4224., 270.)
    call SetUnitColor(D_7, ConvertPlayerColor(24))
    static if MAX_TEAM_PLAYERS_GE_1 then
        set wJ = CreateUnit(p, 'n01F', - 7424., - 6976., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set ZJ = CreateUnit(p, 'n01F', - 7424., - 6848., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set zJ = CreateUnit(p, 'n01F', - 7424., - 6720., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set WJ = CreateUnit(p, 'n01F', - 7424., - 6592., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set yJ = CreateUnit(p, 'n01F', - 7424., - 6464., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        set circle_of_power_sent_6_placeholder = CreateUnit(p, 'n01F', - 7552., - 6976., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        set circle_of_power_sent_7_placeholder = CreateUnit(p, 'n01F', - 7552., - 6848., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        set circle_of_power_sent_8_placeholder = CreateUnit(p, 'n01F', - 7552., - 6720., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        set circle_of_power_sent_9_placeholder = CreateUnit(p, 'n01F', - 7552., - 6592., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        set circle_of_power_sent_10_placeholder = CreateUnit(p, 'n01F', - 7552., - 6464., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        set circle_of_power_sent_11_placeholder = CreateUnit(p, 'n01F', - 7552., - 6336., 270.)
    endif
    set vk = CreateUnit(p, 'nfoh', - 7296., - 7200., 270.)
    set u = CreateUnit(p, 'uC74', 3200., - 64., 270.)
    static if MAX_TEAM_PLAYERS_GE_1 then
        set FK = CreateUnit(p, 'n01F', 7040., 6272., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set fK = CreateUnit(p, 'n01F', 7040., 6144., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set JK = CreateUnit(p, 'n01F', 7040., 6016., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set gK = CreateUnit(p, 'n01F', 7040., 5888., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set GK = CreateUnit(p, 'n01F', 7040., 5760., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        set circle_of_power_scrg_6_placeholder = CreateUnit(p, 'n01F', 7168., 6272., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        set circle_of_power_scrg_7_placeholder = CreateUnit(p, 'n01F', 7168., 6144., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        set circle_of_power_scrg_8_placeholder = CreateUnit(p, 'n01F', 7168., 6016., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        set circle_of_power_scrg_9_placeholder = CreateUnit(p, 'n01F', 7168., 5888., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        set circle_of_power_scrg_10_placeholder = CreateUnit(p, 'n01F', 7168., 5760., 270.)
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        set circle_of_power_scrg_11_placeholder = CreateUnit(p, 'n01F', 7168., 5632., 270.)
    endif
    set lK = CreateUnit(p, 'ndfl', 6784., 6368., 270.)
    set u = CreateUnit(p, 'uC74', - 4544., 1152., 270.)
    set E87 = CreateUnit(p, 'u010', - 7296., 4416., 270.)
    call SetUnitColor(E87, ConvertPlayerColor(24))
    set E77 = CreateUnit(p, 'u010', 7360., - 4224., 270.)
    call SetUnitColor(E77, ConvertPlayerColor(24))
    set E67 = CreateUnit(p, 'n12K', - 7392., 4358., 270.)
    call SetUnitColor(E67, ConvertPlayerColor(24))
    set E37 = CreateUnit(p, 'n12K', 7484., - 4274., 270.)
    call SetUnitColor(E37, ConvertPlayerColor(24))
    set p = Player(0)
    set ek = CreateUnit(p, 'nC38', - 7264., - 6944., 270.)
    call SetUnitColor(ek, ConvertPlayerColor(24))
    set xk = CreateUnit(p, 'n01K', - 7264., - 6752., 270.)
    call SetUnitColor(xk, ConvertPlayerColor(24))
    set ak = CreateUnit(p, 'n009', - 6624., - 6560., 270.)
    call SetUnitColor(ak, ConvertPlayerColor(24))
    set LJ = CreateUnit(p, 'n00X', - 7136., - 6496., 270.)
    call SetUnitColor(LJ, ConvertPlayerColor(1))
    set JJ = CreateUnit(p, 'n00V', - 6880., - 6496., 270.)
    call SetUnitColor(JJ, ConvertPlayerColor(24))
    set GJ = CreateUnit(p, 'n00W', - 7264., - 6560., 270.)
    call SetUnitColor(GJ, ConvertPlayerColor(24))
    set dJ = CreateUnit(p, 'n002', - 6752., - 6496., 270.)
    call SetUnitColor(dJ, ConvertPlayerColor(24))
    set Wk = CreateUnit(p, 'e025', - 6624., - 7200., 270.)
    set ik = CreateUnit(p, 'hC95', - 6944., - 7200., 270.)
    call SetUnitColor(ik, ConvertPlayerColor(0))
    set BJ = CreateUnit(p, 'etol', - 5632., - 6144., 270.)
    set Ak = CreateUnit(p, 'e00S', - 4448., - 4960., 270.)
    set bk = CreateUnit(p, 'e00S', - 5280., - 6112., 270.)
    set Nk = CreateUnit(p, 'e00S', - 6368., - 4256., 270.)
    set Bk = CreateUnit(p, 'e00S', - 5600., - 5728., 270.)
    set ck = CreateUnit(p, 'eaom', - 6080., - 4480., 270.)
    set Ck = CreateUnit(p, 'eaoe', - 6656., - 4480., 270.)
    set fk = CreateUnit(p, 'eaom', - 4416., - 5312., 270.)
    set Gk = CreateUnit(p, 'eaoe', - 4864., - 4992., 270.)
    set Fk = CreateUnit(p, 'e00S', - 3744., - 6816., 270.)
    set dk = CreateUnit(p, 'eaom', - 4032., - 7040., 270.)
    set gk = CreateUnit(p, 'eaoe', - 4032., - 6528., 270.)
    set lk = CreateUnit(p, 'emow', - 5792., - 5408., 270.)
    set Jk = CreateUnit(p, 'emow', - 6624., - 5088., 270.)
    set jk = CreateUnit(p, 'emow', - 5088., - 5536., 270.)
    set Lk = CreateUnit(p, 'emow', - 5344., - 3936., 270.)
    set pk = CreateUnit(p, 'emow', - 5088., - 4576., 270.)
    set Pk = CreateUnit(p, 'emow', - 3936., - 5344., 270.)
    set qk = CreateUnit(p, 'emow', - 4512., - 7072., 270.)
    set Qk = CreateUnit(p, 'emow', - 4896., - 6240., 270.)
    set Sk = CreateUnit(p, 'emow', - 3808., - 5856., 270.)
    set tk = CreateUnit(p, 'emow', - 5472., - 4704., 270.)
    set Uk = CreateUnit(p, 'emow', - 4512., - 5856., 270.)
    set wk = CreateUnit(p, 'eaow', - 4544., - 6528., 270.)
    set Rk = CreateUnit(p, 'e00S', - 6112., - 1248., 270.)
    set ok = CreateUnit(p, 'eaow', - 6080., - 5120., 270.)
    set Ok = CreateUnit(p, 'e00S', - 6112., 1568., 270.)
    set Ek = CreateUnit(p, 'e00S', - 1504., - 1824., 270.)
    set Vk = CreateUnit(p, 'e00S', - 544., - 6688., 270.)
    set nk = CreateUnit(p, 'e00S', 4960., - 6752., 270.)
    set MJ = CreateUnit(p, 'e00S', - 3488., - 3296., 270.)
    set dl = CreateUnit(p, 'n0HE', - 7008., - 6496., 270.)
    call SetUnitColor(dl, ConvertPlayerColor(24))
    set zk = CreateUnit(p, 'edob', - 6400., - 5696., 270.)
    set yk = CreateUnit(p, 'edob', - 5248., - 6848., 270.)
    set p = Player(6)
    set XK = CreateUnit(p, 'n002', 5984., 6112., 270.)
    call SetUnitColor(XK, ConvertPlayerColor(24))
    set OK = CreateUnit(p, 'n00W', 6048., 6624., 270.)
    call SetUnitColor(OK, ConvertPlayerColor(24))
    set AK = CreateUnit(p, 'n00V', 5984., 6240., 270.)
    call SetUnitColor(AK, ConvertPlayerColor(24))
    set NK = CreateUnit(p, 'n00X', 5984., 6496., 270.)
    call SetUnitColor(NK, ConvertPlayerColor(1))
    set dK = CreateUnit(p, 'nC38', 6560., 6624., 270.)
    call SetUnitColor(dK, ConvertPlayerColor(24))
    set CK = CreateUnit(p, 'n01K', 6368., 6624., 270.)
    call SetUnitColor(CK, ConvertPlayerColor(24))
    set QK = CreateUnit(p, 'usep', 4352., 3584., 270.)
    set BK = CreateUnit(p, 'n009', 6048., 5984., 270.)
    call SetUnitColor(BK, ConvertPlayerColor(24))
    set cK = CreateUnit(p, 'nC35', 6816., 5984., 270.)
    call SetUnitColor(cK, ConvertPlayerColor(24))
    set bK = CreateUnit(p, 'u00Q', 6816., 5664., 270.)
    set qJ = CreateUnit(p, 'u00M', 6240., - 2080., 270.)
    set PJ = CreateUnit(p, 'u00D', 6304., - 96., 270.)
    set ol = CreateUnit(p, 'uzig', 4384., 4256., 270.)
    set WK = CreateUnit(p, 'unpl', 5184., 4864., 220.)
    set zK = CreateUnit(p, 'utod', 3904., 3904., 270.)
    set ZK = CreateUnit(p, 'u00M', 1056., - 96., 270.)
    set vl = CreateUnit(p, 'u00D', 2528., 1824., 270.)
    set el = CreateUnit(p, 'u00N', 3936., 3488., 270.)
    set xl = CreateUnit(p, 'u00T', 4832., 4832., 270.)
    set SK = CreateUnit(p, 'u00T', 5152., 4512., 270.)
    set rl = CreateUnit(p, 'uzig', 3168., 4064., 270.)
    set al = CreateUnit(p, 'uzig', 5728., 4000., 270.)
    set EK = CreateUnit(p, 'u00N', 2976., 5792., 270.)
    set VK = CreateUnit(p, 'usep', 3392., 5504., 270.)
    set aK = CreateUnit(p, 'utod', 3392., 6080., 270.)
    set xK = CreateUnit(p, 'uzig', 4128., 6240., 270.)
    set eK = CreateUnit(p, 'usap', 3968., 5888., 270.)
    set Vl = CreateUnit(p, 'ubon', 4992., 5952., 270.)
    set El = CreateUnit(p, 'uzig', 2656., 4704., 270.)
    set Xl = CreateUnit(p, 'uzig', 5536., 2464., 270.)
    set Ol = CreateUnit(p, 'uzig', 4064., 5280., 270.)
    set Rl = CreateUnit(p, 'uzig', 3488., 4832., 270.)
    set Al = CreateUnit(p, 'usap', 6400., 3584., 270.)
    set Nl = CreateUnit(p, 'utod', 6080., 2944., 270.)
    set bl = CreateUnit(p, 'usep', 6656., 2880., 270.)
    set Bl = CreateUnit(p, 'u00N', 6368., 2528., 270.)
    set cl = CreateUnit(p, 'uzig', 5024., 3744., 270.)
    set vK = CreateUnit(p, 'uzig', 6880., 3936., 270.)
    set wK = CreateUnit(p, 'ubon', 6464., 4608., 270.)
    set TK = CreateUnit(p, 'uzig', 4640., 2848., 270.)
    set HJ = CreateUnit(p, 'u00M', - 4704., 5920., 270.)
    set UJ = CreateUnit(p, 'u00D', 32., 5920., 270.)
    set QJ = CreateUnit(p, 'n0HE', 5984., 6368., 270.)
    call SetUnitColor(QJ, ConvertPlayerColor(24))
    set p = Player(PLAYER_NEUTRAL_PASSIVE)
    set DJ = CreateUnit(p, 'e00D', - 6005.1, 5458.6, 212.15)
    set lJ = CreateUnit(p, 'e00B', - 561.7, - 651.7, 325.6)
    set FJ = CreateUnit(p, 'e00A', 5801.5, - 6377.9, 64.)
    set fJ = CreateUnit(p, 'e008', - 5467.9, - 5891.1, 307.304)
    set CJ = CreateUnit(p, 'e001', 4901.8, 4536.6, 212.11)
    call ConfigureNeutralVictim()
    set bH = Filter(function KF8)
    set filterIssueHauntOrderAtLocBJ = Filter(function IssueHauntOrderAtLocBJFilter)
    set filterEnumDestructablesInCircleBJ = Filter(function L4)
    set filterGetUnitsInRectOfPlayer = Filter(function GetUnitsInRectOfPlayerFilter)
    set filterGetUnitsOfTypeIdAll = Filter(function GetUnitsOfTypeIdAllFilter)
    set filterGetUnitsOfPlayerAndTypeId = Filter(function GetUnitsOfPlayerAndTypeIdFilter)
    set filterMeleeTrainedUnitIsHeroBJ = Filter(function MeleeTrainedUnitIsHeroBJFilter)
    set filterLivingPlayerUnitsOfTypeId = Filter(function LivingPlayerUnitsOfTypeIdFilter)
    set bj_FORCE_ALL_PLAYERS = CreateForce()
    call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS, null)
    set bj_cineModePriorSpeed = GetGameSpeed()
    set bj_cineModePriorFogSetting = IsFogEnabled()
    set bj_cineModePriorMaskSetting = IsFogMaskEnabled()
    set bj_isSinglePlayer = false
    set userControlledPlayers = 0
    set index = 0
    loop
        exitwhen index >= 12
        if(GetPlayerController(Player(index)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(index)) == PLAYER_SLOT_STATE_PLAYING)then
            set userControlledPlayers = userControlledPlayers + 1
        endif
        set index = index + 1
    endloop
    set bj_isSinglePlayer = (userControlledPlayers == 1)
    set V84[0] = ""
    set V84[1] = "招租001"
    set V84[2] = "招租002"
    set V84[3] = "招租003"
    set V84[4] = "招租004"
    set V84[5] = "招租005"
    set V84[6] = "招租006"
    set V84[7] = "招租007"
    set V84[8] = "牛蛙de茶"
    set V84[9] = "招租008"
    set V84[10] = "招租009"
    set V84[11] = "招租010"
    set V84[12] = "招租011"
    set V84[13] = "少年乖"
    set V84[14] = "招租012"
    set V84[15] = "招租013"
    set V84[16] = "招租014"
    set V84[17] = "招租015"
    set V84[18] = "招租016"
    set V84[19] = "招租017"
    set V84[20] = "招租018"
    set V84[21] = "招租019"
    set V84[22] = "招租020"
    set V84[23] = "招租021"
    set V84[24] = "招租022"
    set V84[25] = "招租023"
    set V84[26] = "招租024"
    set V84[27] = "招租025"
    set V84[28] = "招租026"
    set V84[29] = "招租027"
    set V84[30] = "招租028"
    set V84[31] = "招租029"
    set V84[32] = "招租030"
    set V84[33] = "招租031"
    set V84[34] = "招租032"
    set V84[35] = "招租033"
    set V84[36] = "招租034"
    set V84[37] = "天涯明月狂"
    set V84[38] = "招租035"
    set V84[39] = "招租036"
    set V84[40] = "招租037"
    set V84[41] = "招租038"
    set V84[42] = "招租039"
    set V84[43] = "招租040"
    set V84[44] = "招租041"
    set V84[45] = "MM_DANCE"
    set V84[46] = "招租042"
    set V84[47] = "补刀的烦恼"
    set V84[48] = "招租043"
    set V84[49] = "招租044"
    set V84[50] = "招租045"
    set V84[51] = "沉沦2009"
    set V84[52] = "上头欢乐送"
    set V84[53] = "高手坟墓灬"
    set V84[54] = "一只大文旦"
    set V84[55] = "招租046"
    set V84[56] = "招租047"
    set V84[57] = ""
    set V84[58] = ""
    set V84[59] = ""
    set V84[60] = ""
    set V84[61] = ""
    set V84[62] = ""
    set V84[63] = ""
    set V84[64] = ""
    set V84[65] = ""
    set V84[66] = ""
    set V84[67] = ""
    set V84[68] = ""
    set V84[69] = ""
    set V84[70] = ""
    set V84[71] = ""
    set V84[72] = ""
    set V84[73] = ""
    set V84[74] = ""
    set V84[75] = ""
    set V84[76] = "半夜一千分"
    set V84[77] = "半夜背单词"
    set V84[78] = ""
    set V84[79] = ""
    set V84[80] = ""
    set V84[81] = ""
    set V84[82] = ""
    set V84[83] = ""
    set V84[84] = ""
    set V84[85] = "传"
    set V84[86] = ""
    set V84[87] = ""
    set V84[88] = ""
    set V84[89] = ""
    set V84[90] = ""
    set V84[91] = ""
    set V84[92] = ""
    set V84[93] = ""
    set V84[94] = ""
    set V84[95] = ""
    set V84[96] = ""
    set V84[97] = ""
    set V84[98] = ""
    set V84[99] = ""
    set V84[100] = ""
    set V84[101] = ""
    set V84[102] = ""
    set V84[103] = ""
    set V84[104] = ""
    set V84[105] = ""
    set V84[106] = ""
    set V84[107] = ""
    set V84[108] = ""
    set V84[109] = ""
    set V84[110] = ""
    set V84[111] = "PleaseBugMeNot"
    set V84[112] = ""
    set V84[113] = ""
    set V84[114] = ""
    set V84[115] = ""
    set V84[116] = ""
    set V84[117] = ""
    set V84[118] = ""
    set V84[119] = ""
    set V84[120] = ""
    set V84[121] = ""
    set V84[122] = ""
    set V84[123] = ""
    set V84[124] = ""
    set V84[125] = ""
    set V84[126] = ""
    set bj_rescueSound = CreateSoundFromLabel("Rescue", false, false, false, 10000, 10000)
    set bj_questDiscoveredSound = CreateSoundFromLabel("QuestNew", false, false, false, 10000, 10000)
    set bj_questUpdatedSound = CreateSoundFromLabel("QuestUpdate", false, false, false, 10000, 10000)
    set bj_questCompletedSound = CreateSoundFromLabel("QuestCompleted", false, false, false, 10000, 10000)
    set bj_questFailedSound = CreateSoundFromLabel("QuestFailed", false, false, false, 10000, 10000)
    set bj_questHintSound = CreateSoundFromLabel("Hint", false, false, false, 10000, 10000)
    set bj_questSecretSound = CreateSoundFromLabel("SecretFound", false, false, false, 10000, 10000)
    set bj_questItemAcquiredSound = CreateSoundFromLabel("ItemReward", false, false, false, 10000, 10000)
    set bj_questWarningSound = CreateSoundFromLabel("Warning", false, false, false, 10000, 10000)
    set bj_victoryDialogSound = CreateSoundFromLabel("QuestCompleted", false, false, false, 10000, 10000)
    set bj_defeatDialogSound = CreateSoundFromLabel("QuestFailed", false, false, false, 10000, 10000)
    call InitDNCSounds()
    call InitMapRects()
    call V5()
    set iLevel = 0
    loop
        set bj_stockAllowedPermanent[iLevel] = false
        set bj_stockAllowedCharged[iLevel] = false
        set bj_stockAllowedArtifact[iLevel] = false
        set iLevel = iLevel + 1
        exitwhen iLevel > bj_MAX_ITEM_LEVEL
    endloop
    call SetAllItemTypeSlots(bj_MAX_STOCK_ITEM_SLOTS)
    call SetAllUnitTypeSlots(bj_MAX_STOCK_UNIT_SLOTS)
    set bj_stockUpdateTimer = CreateTimer()
    call TimerStart(bj_stockUpdateTimer, bj_STOCK_RESTOCK_INITIAL_DELAY, false, function XEG)
    set bj_stockItemPurchased = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_SELL_ITEM, null)
    call TriggerAddAction(bj_stockItemPurchased, function RemovePurchasedItem)
    call DetectGameStarted()
    set i = 0
    loop
        exitwhen(i >= bj_MAX_PLAYER_SLOTS)
        set P[i] = 0
        set Q[i] = 0
        set H[i] = 0
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen(i > 100)
        set O[i] = false
        set je[i] = 0
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen(i > 4)
        set T[i] = 0
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen(i > 2)
        set R4[i] = 0
        set B7[i] = 0
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen(i >= MAX_TEAM_PLAYERS * 2 + 2)
        set W[i] = ""
        set A[i] = CreateTimer()
        set C[i] = 0
        set D4[i] = 0
        // set g_aiStatBool[i] = false
        // set g_aiStatBool[256 + i] = false
        // set g_aiStatBool[272 + i] = false
        // set g_aiStatBool[304 + i] = false
        // set g_aiStatBool[320 + i] = false
        // set g_aiPushBool[48 + i] = false
        // set g_aiPushBool[i] = false
        // set g_aiStatInt[80 + i] = 3
        // set g_aiStatInt[i] = 0
        // set g_aiStatInt[544 + i] = 0
        // set g_aiTarget[i] = null
        // set RJ7[i] = null
        // set g_aiStatReal[288 + i] = .0
        // set g_aiStatReal[304 + i] = .0
        // set g_aiStatReal[640 + i] = .0
        // set g_aiStatReal[656 + i] = .0
        // set HC[i] = Location(.0, .0)
        // set HC[16 + i] = Location(.0, .0)
        // set HC[32 + i] = Location(.0, .0)
        // set HC[48 + i] = Location(.0, .0)
        // set HC[240 + i] = Location(.0, .0)
        // set g_aiWpt2[i] = null
        // set g_aiWpt1[i] = null
        // set g_aiStatInt[208 + i] = 0
        // set g_aiStatInt[224 + i] = 0
        // set g_aiStatInt[240 + i] = 999999
        // set hG[i] = 0
        // set g_aiStatReal[624 + i] = 0
        // set SystemSwitch[i] = true
        // set SystemSwitch[16 + i] = true
        // set SystemSwitch[32 + i] = false
        // set SystemSwitch[48 + i] = false
        // set SystemSwitch[64 + i] = true
        // set SystemSwitch[112 + i] = true
        // set GM7[48 + i] =- 1
        // set GM7[64 + i] =- 1
        // set g_aiPushBool[128 + i] = true
        // set g_aiPushBool[224 + i] = false
        // set g_aiWpt1[144 + i] = null
        // set g_aiStatBool[176 + i] = false
        // set g_aiItemInt[i] = 0
        // set g_aiItemInt[16 + i] = 0
        // set g_aiItemInt[32 + i] = 0
        // set g_aiItemInt[48 + i] = 0
        // set g_aiItemInt[96 + i] = 0
        // set g_aiItemInt[112 + i] = 0
        // set g_aiItemInt[160 + i] = 0
        // set g_aiItemInt[176 + i] = 0
        // set g_aiItemInt[240 + i] = 0
        // set g_aiItemInt[272 + i] = 0
        // set g_aiItemInt[288 + i] = 0
        // set g_aiItemInt[464 + i] = 0
        // set g_aiItemBool[48 + i] = false
        // set g_aiItemBool[320 + i] = true
        // set g_aiItemInt[128 + i] = 0
        // set g_aiItemInt[208 + i] = StringHash("aiBuy|" + I2S(i))
        // set g_aiItemInt[224 + i] = StringHash("aiBuyS|" + I2S(i))
        // set g_aiItemInt[256 + i] = StringHash("aiBuyBear|" + I2S(i))
        // set g_aiItemInt[352 + i] = StringHash("aiIt#|" + I2S(i))
        // set g_aiItemInt[368 + i] = StringHash("aiIt#copy|" + I2S(i))
        // set g_aiItemInt[448 + i] = StringHash("aiBuyLux|" + I2S(i))
        // set g_aiStatReal[464 + i] = 0.
        // set g_aiStatReal[832 + i] = 0.
        // set g_aiStatReal[896 + i] = 0.
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen(i > 13)
        set B[i] = false
        set L[i] = CreateTimer()
        set D7[i] = false
        set C7[i] = 0
        set L7[i] = 0
        set Be[i] = 0
        set oo[i] = false
        set i = i + 1
    endloop
    set E4 = CreateTimer()
    set i = 0
    loop
        exitwhen(i > 1)
        set F[i] = 0
        set mx[i] = false
        set P9[i] = 0
        set eo[i] = false
        set i = i + 1
    endloop
    set E7 = 150
    set av = true
    set Ev = true
    set Ov = true
    set Rv = true
    set Av = true
    set Nv = true
    set O7 = true
    set Bv = true
    set P7 = true
    set Cv = true
    set Dv = true
    set fv = true
    set S7 = 3
    set T7 = 1
    set i = 0
    loop
        exitwhen(i >= bj_MAX_PLAYER_SLOTS)
        set Y7[i] = null
        set i = i + 1
    endloop
    set E8 = CreateForce()
    set F8 = CreateForce()
    set C8 = CreateGroup()
    set T9 = CreateForce()
    set V9 = .0
    set W9 = true
    set X9 = true
    set i = 0
    loop
        exitwhen(i >= bj_MAX_PLAYER_SLOTS)
        set Z9[i] = false
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen(i >= bj_MAX_PLAYER_SLOTS)
        set OD[i] = "Here"
        set i = i + 1
    endloop
    call OB8()
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15., true)
    call TriggerAddCondition(t, Condition(function l8))
    set t = null
    set HA4[0] = false
    set HA4[1] = false
    set HA4[2] = false
    set HA4[3] = false
    set HA4[4] = false
    set HA4[5] = false
    set HA4[6] = false
    set HA4[7] = false
    set HA4[8] = false
    set HA4[9] = false
    set HA4[10] = false
    set HA4[11] = false
    set HA4[12] = false
    set HA4[13] = false
    set HA4[14] = false
    set HA4[15] = false
    set HA4[16] = false
    //! textmacro SetPlayerSentMac takes PLAYER_RANK, PLAYER_ID
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            set G8[$PLAYER_RANK$] = Player($PLAYER_ID$)
        endif
    //! endtextmacro
    //! runtextmacro SetPlayerSentMac("0","0")
    //! runtextmacro SetPlayerSentMac("1","1")
    //! runtextmacro SetPlayerSentMac("2","2")
    //! runtextmacro SetPlayerSentMac("3","3")
    //! runtextmacro SetPlayerSentMac("4","4")
    //! runtextmacro SetPlayerSentMac("5","5")
    //! runtextmacro SetPlayerSentMac("6","12")
    //! runtextmacro SetPlayerSentMac("7","13")
    //! runtextmacro SetPlayerSentMac("8","14")
    //! runtextmacro SetPlayerSentMac("9","15")
    //! runtextmacro SetPlayerSentMac("10","16")
    //! runtextmacro SetPlayerSentMac("11","17")
    //! textmacro SetPlayerScrgMac takes PLAYER_RANK, PLAYER_ID
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            set N8[$PLAYER_RANK$] = Player($PLAYER_ID$)
        endif
    //! endtextmacro
    //! runtextmacro SetPlayerScrgMac("0","6")
    //! runtextmacro SetPlayerScrgMac("1","7")
    //! runtextmacro SetPlayerScrgMac("2","8")
    //! runtextmacro SetPlayerScrgMac("3","9")
    //! runtextmacro SetPlayerScrgMac("4","10")
    //! runtextmacro SetPlayerScrgMac("5","11")
    //! runtextmacro SetPlayerScrgMac("6","18")
    //! runtextmacro SetPlayerScrgMac("7","19")
    //! runtextmacro SetPlayerScrgMac("8","20")
    //! runtextmacro SetPlayerScrgMac("9","21")
    //! runtextmacro SetPlayerScrgMac("10","22")
    //! runtextmacro SetPlayerScrgMac("11","23")
    set O8 = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    set P8 = Player(PLAYER_NEUTRAL_PASSIVE)
    set YO4 = CreateRegion()
    call RegionAddRect(YO4, BD)
    set YP4 = CreateRegion()
    call RegionAddRect(YP4, LD)
    set YQ4 = CreateRegion()
    call RegionAddRect(YQ4, SE)
    call RegionAddRect(YQ4, TE)
    call RegionAddRect(YQ4, WE)
    set YR4 = CreateRegion()
    call RegionAddRect(YR4, YE)
    call RegionAddRect(YR4, ZE)
    call RegionAddRect(YR4, EF)
    set IF4 = CreateRegion()
    call RegionAddRect(IF4, FF)
    call RegionAddRect(IF4, GF)
    call RegionAddRect(IF4, HF)
    call RegionAddRect(IF4, JF)
    call RegionAddRect(IF4, KF)
    call RegionAddRect(IF4, MF)
    call RegionAddRect(IF4, NF)
    call RegionAddRect(IF4, OF)
    call RegionAddRect(IF4, PF)
    call RegionAddRect(IF4, QF)
    call RegionAddRect(IF4, RF)
    call RegionAddRect(IF4, SF)
    call RegionAddRect(IF4, TF)
    call RegionAddRect(IF4, UF)
    call RegionAddRect(IF4, WF)
    call RegionAddRect(IF4, XF)
    call RegionAddRect(IF4, YF)
    call RegionAddRect(IF4, ZF)
    call RegionAddRect(IF4, BF)
    call RegionAddRect(IF4, CF)
    call RegionAddRect(IF4, LF)
    call RegionAddRect(IF4, DG)
    call RegionAddRect(IF4, EG)
    call RegionAddRect(IF4, FG)
    call RegionAddRect(IF4, GG)
    call RegionAddRect(IF4, JG)
    call RegionAddRect(IF4, MG)
    call RegionAddRect(IF4, OG)
    call RegionAddRect(IF4, PG)
    call RegionAddRect(IF4, QG)
    call RegionAddRect(IF4, RG)
    call RegionAddRect(IF4, SG)
    call RegionAddRect(IF4, TG)
    call RegionAddRect(IF4, UG)
    call RegionAddRect(IF4, VG)
    call RegionAddRect(IF4, WG)
    call RegionAddRect(IF4, XG)
    call RegionAddRect(IF4, ZG)
    call RegionAddRect(IF4, AG)
    call RegionAddRect(IF4, BG)
    call RegionAddRect(IF4, CG)
    call RegionAddRect(IF4, LG)
    call RegionAddRect(IF4, DH)
    call RegionAddRect(IF4, EH)
    call RegionAddRect(IF4, FH)
    call RegionAddRect(IF4, GH)
    call RegionAddRect(IF4, HH)
    call RegionAddRect(IF4, JH)
    call RegionAddRect(IF4, MH)
    call RegionAddRect(IF4, NH)
    call RegionAddRect(IF4, OH)
    call RegionAddRect(IF4, PH)
    call RegionAddRect(IF4, QH)
    call RegionAddRect(IF4, RH)
    call RegionAddRect(IF4, TH)
    call RegionAddRect(IF4, UH)
    call RegionAddRect(IF4, WH)
    call RegionAddRect(IF4, XH)
    call RegionAddRect(IF4, YH)
    call RegionAddRect(IF4, ZH)
    call RegionAddRect(IF4, AH)
    call RegionAddRect(IF4, CH)
    call RegionAddRect(IF4, LH)
    call RegionAddRect(IF4, DI)
    call RegionAddRect(IF4, EI)
    call RegionAddRect(IF4, GI)
    call RegionAddRect(IF4, HI)
    call RegionAddRect(IF4, II)
    call RegionAddRect(IF4, JI)
    call RegionAddRect(IF4, NI)
    call RegionAddRect(IF4, PI)
    call RegionAddRect(IF4, SI)
    call RegionAddRect(IF4, TI)
    call RegionAddRect(IF4, UI)
    call RegionAddRect(IF4, WI)
    call RegionAddRect(IF4, XI)
    call RegionAddRect(IF4, YI)
    call RegionAddRect(IF4, BI)
    call RegionAddRect(IF4, CI)
    call RegionAddRect(IF4, LI)
    call RegionAddRect(IF4, TJ)
    call RegionAddRect(IF4, XJ)
    call RegionAddRect(IF4, MK)
    call RegionAddRect(IF4, UK)
    call RegionAddRect(IF4, YK)
    call RegionAddRect(IF4, SM)
    call RegionAddRect(IF4, TM)
    call RegionAddRect(IF4, UM)
    call RegionAddRect(IF4, WM)
    call RegionAddRect(IF4, YM)
    call RegionAddRect(IF4, JN)
    call RegionAddRect(IF4, MN)
    call RegionAddRect(IF4, TN)
    call RegionAddRect(IF4, UN)
    call RegionAddRect(IF4, WN)
    set AMN = CreateRegion()
    call RegionAddRect(AMN, AQB)
    call RegionAddRect(AMN, AIC)
    call RegionAddRect(AMN, AOC)
    call RegionAddRect(AMN, AAC)
    call TE9('B06Z')
    call TE9('BPSE')
    call TE9('B06Q')
    call TE9('BSTN')
    call TE9('BHtc')
    call TE9('B0BM')
    call TE9('B0BR')
    call TE9('B0C1')
    call TE9('BEer')
    call TE9('B02U')
    call TE9('B07E')
    call TE9('B0CF')
    call TE9('B06M')
    call TE9('B07N')
    call TE9('B08S')
    call TE9('B00Q')
    call TE9('B072')
    call TE9('BUan')
    call TE9('B095')
    call TE9('B083')
    call TE9('B02V')
    call TE9('B01Y')
    call TE9('BNab')
    call TE9('B08R')
    call TE9('B066')
    call TE9('B03I')
    call TE9('B063')
    call TE9('Bena')
    call TE9('Beng')
    call TE9('B03C')
    call TE9('B00L')
    call TE9('BHca')
    call TE9('Bcsd')
    call TE9('B079')
    call TE9('B0BQ')
    call TE9('B0B9')
    call TE9('Bprg')
    call TE9('B08M')
    call TE9('B02G')
    call TE9('B01X')
    call TE9('B01D')
    call TE9('B092')
    call TE9('B0AQ')
    call TE9('BEsh')
    call TE9('B017')
    call TE9('B0AE')
    call TE9('B0AD')
    call TE9('B08O')
    call TE9('Bfro')
    call TE9('B027')
    call TE9('B028')
    call TE9('B05H')
    call TE9('B0BS')
    call TE9('Bcri')
    call TE9('B0BF')
    call TE9('B0BE')
    call TE9('B090')
    call TE9('B008')
    call TE9('B04B')
    call TE9('B02F')
    call TE9('BUsp')
    call TE9('Bust')
    call TE9('B0CC')
    call TE9('BCri')
    call TE9('B03J')
    call TE9('BEsh')
    call TE9('B0AQ')
    call TE9('Bena')
    call TE9('Beng')
    call TE9('B078')
    call TE9('Bdet')
    call TE9('B00T')
    call TE9('Bslo')
    call TE9('BNdh')
    call TE9('B0C8')
    call TE9('B08O')
    call TE9('B07V')
    call TE9('B07U')
    call TE9('B01X')
    call TE9('BNsi')
    call TE9('B031')
    call TE9('BNso')
    call TE9('B00P')
    call TE9('B02M')
    call TE9('A1LD')
    call TE9('B0CD')
    call TE9('A1JA')
    call TE9('B043')
    call TE9('BNpa')
    call TE9('B01N')
    call TE9('BIcb')
    call TE9('B04Q')
    call TE9('B00C')
    call TE9('B09K')
    call TE9('B033')
    call TE9('B08F')
    call TE9('B08E')
    call TE9('Bpoi')
    call TE9('B0AM')
    call TE9('BNrd')
    call TE9('B00H')
    call TE9('BOhx')
    call TE9('B03F')
    call TE9('B02N')
    call TE9('B0E7')
    call TE9('B06D')
    call TE9('B0BN')
    call TE9('B09Q')
    call TE9('B0DI')
    call TE9('B0BB')
    call TE9('B09J')
    call TE9('B0AF')
    call TE9('B08B')
    call TE9('B071')
    call TE9('B08N')
    call TE9('B02I')
    call TE9('B08Q')
    call TE9('B0C2')
    call TE9('B06S')
    call TE9('B02S')
    call TE9('B02W')
    call TE9('B05Q')
    call TE9('B02D')
    call TE9('B0BY')
    call TE9('B02P')
    call TE9('B05F')
    call TE9('B0EP')
    call TE9('B0ER')
    call TE9('B0ET')
    call TE9('B0FN')
    call TE9('B0FY')
    call TE9('B0FT')
    call TE9('B0FZ')
    call TE9('B0G0')
    call TE9('B0GT')
    call TE9('B0F5')
    call TE9('A1W3')
    call TE9('B0DO')
    call TE9('B02U')
    call TE9('B37T')
    call TE9('A2T4')
    call TE9('B0GM')
    call FlushGameCache(InitGameCache("dr.x"))
    set IG4 = InitGameCache("dr.x")
    set HP4[0] = 'A17F'
    set HP4[1] = 'A17G'
    set HP4[2] = 'A17H'
    set HP4[3] = 'A17C'
    set HP4[4] = 'A17D'
    set HP4[5] = 'A17E'
    set HP4[6] = 'A17J'
    set HP4[7] = 'A17I'
    set HP4[8] = 'A17L'
    set UU4[0] = 'A1QE'
    set UU4[1] = 'A1QF'
    set UU4[2] = 'A1QI'
    set UU4[3] = 'A1QK'
    set UU4[4] = 'A1QJ'
    set UU4[5] = 'A1QH'
    set UU4[6] = 'A1QO'
    set UU4[7] = 'A1QN'
    set UU4[8] = 'A1QM'
    set UU4[9] = 'A1QG'
    set UU4[10] = 'A1QQ'
    set HQ4[0] = 'A1GK'
    set HQ4[1] = 'A1GL'
    set HQ4[2] = 'A1GJ'
    set HQ4[3] = 'A1GP'
    set HQ4[4] = 'A1GM'
    set HQ4[5] = 'A1GN'
    set HQ4[6] = 'A1GO'
    set HQ4[7] = 'A1GI'
    set HQ4[8] = 'A1GQ'
    set HR4[0] = 'A1CM'
    set HR4[1] = 'A1CK'
    set HR4[2] = 'A1CF'
    set HR4[3] = 'A1CI'
    set HR4[4] = 'A1CG'
    set HR4[5] = 'A1CH'
    set C9 = CreateTrigger()
    call TriggerAddCondition(C9, Condition(function WZ8))
    set L9[0] = 'h09G'
    set FD[0] = 50
    set L9[1] = 'h09T'
    set FD[1] = 100
    set L9[2] = 'h09F'
    set FD[2] = 150
    set L9[3] = 'h09H'
    set FD[3] = 200
    set L9[4] = 'h09E'
    set FD[4] = 250
    set L9[5] = 'h09D'
    set FD[5] = 300
    set L9[6] = 'h09C'
    set FD[6] = 350
    set L9[7] = 'h09B'
    set FD[7] = 400
    set L9[8] = 'h099'
    set FD[8] = 450
    set L9[9] = 'h09A'
    set FD[9] = 500
    set L9[10] = 'h09J'
    set FD[10] = 550
    set L9[11] = 'h09K'
    set FD[11] = 600
    set L9[12] = 'h09L'
    set FD[12] = 650
    set L9[13] = 'h09M'
    set FD[13] = 700
    set L9[14] = 'h09N'
    set FD[14] = 750
    set L9[15] = 'h09O'
    set FD[15] = 800
    set L9[16] = 'h09P'
    set FD[16] = 850
    set L9[17] = 'h09Q'
    set FD[17] = 900
    set L9[18] = 'h09R'
    set FD[18] = 950
    set L9[19] = 'h09S'
    set FD[19] = 1000
    set L9[20] = 'h09I'
    set FD[20] = 1050
    set L9[21] = 'h09Z'
    set FD[21] = 1100
    set L9[22] = 'h09X'
    set FD[22] = 1150
    set L9[23] = 'h0A1'
    set FD[23] = 1200
    set L9[24] = 'h0A2'
    set FD[24] = 1250
    set L9[25] = 'h0A6'
    set FD[25] = 1300
    set L9[26] = 'h0A3'
    set FD[26] = 1350
    set L9[27] = 'h0A4'
    set FD[27] = 1400
    set L9[28] = 'h09Y'
    set FD[28] = 1450
    set L9[29] = 'h09V'
    set FD[29] = 1500
    set L9[30] = 'h0A0'
    set FD[30] = 1550
    set L9[31] = 'h09U'
    set FD[31] = 1600
    set L9[32] = 'h0AF'
    set FD[32] = 1650
    set L9[33] = 'h0AD'
    set FD[33] = 1700
    set L9[34] = 'h0AE'
    set FD[34] = 1750
    set L9[35] = 'h0AC'
    set FD[35] = 1800
    set L9[36] = 'h0AB'
    set FD[36] = 1850
    set L9[37] = 'h0AA'
    set FD[37] = 1900
    set L9[38] = 'h0A9'
    set FD[38] = 1950
    set L9[39] = 'h0AG'
    set FD[39] = 2000
    set L9[40] = 'h0A7'
    set FD[40] = 2050
    set L9[41] = 'h0AO'
    set FD[41] = 2100
    set L9[42] = 'h0AY'
    set FD[42] = 2150
    set L9[43] = 'h0AH'
    set FD[43] = 2200
    set L9[44] = 'h0AI'
    set FD[44] = 2250
    set L9[45] = 'h0AJ'
    set FD[45] = 2300
    set L9[46] = 'h0AP'
    set FD[46] = 2350
    set L9[47] = 'h0AQ'
    set FD[47] = 2400
    set L9[48] = 'h0AK'
    set FD[48] = 2450
    set L9[49] = 'h0AR'
    set FD[49] = 2500
    set L9[50] = 'h0AL'
    set FD[50] = 2550
    set L9[51] = 'h0AS'
    set FD[51] = 2600
    set L9[52] = 'h09W'
    set FD[52] = 2650
    set L9[53] = 'h0AM'
    set FD[53] = 2700
    set L9[54] = 'h0A8'
    set FD[54] = 2750
    set L9[55] = 'h0AT'
    set FD[55] = 2800
    set L9[56] = 'h0AU'
    set FD[56] = 2850
    set L9[57] = 'h0AN'
    set FD[57] = 2900
    set L9[58] = 'h0AV'
    set FD[58] = 2950
    set L9[59] = 'h0AW'
    set FD[59] = 3000
    set ED[0] = L9[WQ8(1)]
    set ED[1] = L9[WQ8(1)]
    set ED[2] = L9[WQ8(1)]
    set ED[3] = L9[WQ8(1)]
    set ED[4] = L9[WQ8(1)]
    set ED[5] = L9[WQ8(1)]
    set ED[6] = L9[WQ8(1)]
    set ED[7] = L9[WQ8(1)]
    set ED[8] = L9[WQ8(1)]
    set ED[9] = L9[WQ8(1)]
    set ED[10] = L9[WQ8(1)]
    set ED[11] = L9[WQ8(1)]
    set ED[12] = L9[WQ8(1)]
    set ED[13] = L9[WQ8(1)]
    set ED[14] = L9[WQ8(1)]
    set IH4[0] = false
    set IH4[1] = false
    set IH4[2] = false
    set IH4[3] = false
    set IH4[4] = false
    set IH4[5] = false
    set IH4[6] = false
    set IH4[7] = false
    set IH4[8] = false
    set IH4[9] = false
    set IH4[10] = false
    set IH4[11] = false
    set IH4[12] = false
    set IH4[13] = false
    set IH4[14] = false
    set R8 = InitHashtable()
    set E4 = CreateTimer()
    set IJ4 = Rect(- 7040, - 7680, 7040, 7168)
    call SetFloatGameState(GAME_STATE_TIME_OF_DAY, 6.)
    call SuspendTimeOfDay(false)
    call SetTimeOfDayScale(.5)
    call SetSkyModel("Environment\\Sky\\FoggedSky\\FoggedSky.mdl")
    call SetCreepCampFilterState(true)
    set vo = "Normal Mode"
    call TimerStart(E4, 99999., false, null)
    set Bo = AddWeatherEffect(bj_mapInitialPlayableArea, 'RAhr')
    set bo = AddWeatherEffect(bj_mapInitialPlayableArea, 'SNbs')
    set fL = AddWeatherEffect(bj_mapInitialPlayableArea, 'LRma')
    set FL = AddWeatherEffect(bj_mapInitialPlayableArea, 'WOlw')
    call SetUnitPathing(fJ, false)
    call SetUnitPathing(FJ, false)
    call SetUnitPathing(lJ, false)
    call SetUnitPathing(DJ, false)
    call SetUnitPathing(CJ, false)
    call T49(CJ, true)
    call T49(DJ, true)
    call T49(lJ, true)
    call T49(FJ, true)
    call T49(fJ, true)
    set Z = GetUnitLoc(CJ)
    set vv = GetUnitLoc(fJ)
    set ev = GetUnitLoc(lJ)
    set ov = GetUnitLoc(DJ)
    set rv = GetUnitLoc(FJ)
    set A8 = 'A06G'
    set B8[1] = vv
    set B8[2] = ov
    set B8[3] = ev
    set B8[4] = rv
    set B8[5] = Z
    set Jv = GetRectCenter(jo)
    set lv = GetRectCenter(lo)
    set Lv = GetRectCenter(go)
    set mv = GetRectCenter(zo)
    set qv = GetRectCenter(er)
    set pv = GetRectCenter(wo)
    set Qv = GetRectCenter(Xr)
    set tv = GetRectCenter(Er)
    set sv = GetRectCenter(ar)
    set Tv = GetRectCenter(Uo)
    set U7 = GetRectCenter(to)
    set Uv = GetRectCenter(Qo)
    set W7 = GetRectCenter(YD)
    set X7 = GetRectCenter(TD)
    set F9 = true
    set IK4 = GetUnitX(vk)
    set IM4 = GetUnitY(vk)
    set ML = GetUnitX(ik)
    set PL = GetUnitY(ik)
    set QL = GetUnitX(xk)
    set SL = GetUnitY(xk)
    set tL = GetUnitX(ek)
    set TL = GetUnitY(ek)
    set UL = GetUnitX(Wk)
    set wL = GetUnitY(Wk)
    set zL = GetUnitX(JJ)
    set vm = GetUnitY(JJ)
    set em = GetUnitX(GJ)
    set xm = GetUnitY(GJ)
    set om = GetUnitX(dJ)
    set rm = GetUnitY(dJ)
    set im = GetUnitX(LJ)
    set am = GetUnitY(LJ)
    set Vm = GetUnitX(ak)
    set Em = GetUnitY(ak)
    set Xm = GetUnitX(dl)
    set Om = GetUnitY(dl)
    set Am = GetUnitX(BJ)
    set Nm = GetUnitY(BJ)
    set bm = GetUnitX(Ok)
    set Bm = GetUnitY(Ok)
    set cm = GetUnitX(Ek)
    set Cm = GetUnitY(Ek)
    set dm = GetUnitX(nk)
    set fm = GetUnitY(nk)
    set Fm = GetUnitX(Rk)
    set hm = GetUnitY(Rk)
    set Jm = GetUnitX(MJ)
    set lm = GetUnitY(MJ)
    set Mm = GetUnitX(Vk)
    set pm = GetUnitY(Vk)
    set Pm = GetUnitX(Nk)
    set Qm = GetUnitY(Nk)
    set Tm = GetUnitX(Ak)
    set Um = GetUnitY(Ak)
    set wm = GetUnitX(Fk)
    set Wm = GetUnitY(Fk)
    set zm = GetUnitX(Bk)
    set vM = GetUnitY(Bk)
    set eM = GetUnitX(bk)
    set oM = GetUnitY(bk)
    set rM = GetUnitX(ck)
    set iM = GetUnitY(ck)
    set aM = GetUnitX(fk)
    set nM = GetUnitY(fk)
    set VM = GetUnitX(dk)
    set XM = GetUnitY(dk)
    set AM = GetUnitX(Ck)
    set bM = GetUnitY(Ck)
    set BM = GetUnitX(Gk)
    set cM = GetUnitY(Gk)
    set dM = GetUnitX(gk)
    set fM = GetUnitY(gk)
    set gM = GetUnitX(lk)
    set hM = GetUnitY(lk)
    set HM = GetUnitX(Jk)
    set JM = GetUnitY(Jk)
    set kM = GetUnitX(Lk)
    set lM = GetUnitY(Lk)
    set pM = GetUnitX(pk)
    set sM = GetUnitY(pk)
    set tM = GetUnitX(Pk)
    set wM = GetUnitY(Pk)
    set zM = GetUnitX(jk)
    set vp = GetUnitY(jk)
    set ep = GetUnitX(Qk)
    set op = GetUnitY(Qk)
    set rp = GetUnitX(Sk)
    set ap = GetUnitY(Sk)
    set Vp = GetUnitX(qk)
    set Ep = GetUnitY(qk)
    set Xp = GetUnitX(tk)
    set Rp = GetUnitY(tk)
    set Ap = GetUnitX(Uk)
    set bp = GetUnitY(Uk)
    set Bp = GetUnitX(ok)
    set cp = GetUnitY(ok)
    set Cp = GetUnitX(wk)
    set dp = GetUnitY(wk)
    set fp = GetUnitX(zk)
    set Fp = GetUnitY(zk)
    set gp = GetUnitX(yk)
    set Hp = GetUnitY(yk)
    call RemoveUnit(Nk)
    call RemoveUnit(Ck)
    call RemoveUnit(ck)
    call RemoveUnit(Ak)
    call RemoveUnit(Gk)
    call RemoveUnit(fk)
    call RemoveUnit(Fk)
    call RemoveUnit(gk)
    call RemoveUnit(dk)
    call RemoveUnit(ok)
    call RemoveUnit(wk)
    call RemoveUnit(BJ)
    call RemoveUnit(Bk)
    call RemoveUnit(bk)
    call RemoveUnit(lk)
    call RemoveUnit(Jk)
    call RemoveUnit(Lk)
    call RemoveUnit(pk)
    call RemoveUnit(Pk)
    call RemoveUnit(jk)
    call RemoveUnit(Qk)
    call RemoveUnit(Sk)
    call RemoveUnit(qk)
    call RemoveUnit(tk)
    call RemoveUnit(Uk)
    call RemoveUnit(ak)
    call RemoveUnit(dl)
    call RemoveUnit(LJ)
    call RemoveUnit(dJ)
    call RemoveUnit(GJ)
    call RemoveUnit(JJ)
    call RemoveUnit(xk)
    call RemoveUnit(ek)
    call RemoveUnit(vk)
    call RemoveUnit(ik)
    call RemoveUnit(Wk)
    call RemoveUnit(Ok)
    call RemoveUnit(Ek)
    call RemoveUnit(nk)
    call RemoveUnit(Rk)
    call RemoveUnit(MJ)
    call RemoveUnit(Vk)
    call RemoveUnit(zk)
    call RemoveUnit(yk)
    set IN4 = CreateUnit(G8[0], 'nfoh', IK4, IM4, 270)
    set IO4 = CreateUnit(P8, 'hC95', ML, PL, 270)
    set IP4 = CreateUnit(P8, 'n01K', QL, SL, 270)
    set IQ4 = CreateUnit(P8, 'nC38', tL, TL, 270)
    set IR4 = CreateUnit(P8, 'e025', UL, wL, 270)
    set IS4 = CreateUnit(P8, 'n00V', zL, vm, 270)
    set IT4 = CreateUnit(P8, 'n00W', em, xm, 270)
    set IU4 = CreateUnit(P8, 'n002', om, rm, 270)
    set IV4 = CreateUnit(P8, 'n00X', im, am, 270)
    set IW4 = CreateUnit(P8, 'n009', Vm, Em, 270)
    set IX4 = CreateUnit(P8, 'n0HE', Xm, Om, 270)
    set JWH = CreateUnit(P8, 'n90B', - 6522, - 6944, 270)
    set IY4 = CreateUnit(G8[0], 'etol', Am, Nm, 270)
    set IZ4 = CreateUnit(G8[0], 'e00R', bm, Bm, 90)
    set I34 = CreateUnit(G8[0], 'e00R', cm, Cm, 45)
    set IL4 = CreateUnit(G8[0], 'e00R', dm, fm, 0)
    set I04 = CreateUnit(G8[0], 'e011', Fm, hm, 90)
    set I24 = CreateUnit(G8[0], 'e011', Jm, lm, 45)
    set I_4 = CreateUnit(G8[0], 'e011', Mm, pm, 0)
    set J44 = CreateUnit(G8[0], 'e00S', Pm, Qm, 90)
    set J74 = CreateUnit(G8[0], 'e00S', Tm, Um, 45)
    set J84 = CreateUnit(G8[0], 'e00S', wm, Wm, 0)
    set J94 = CreateUnit(G8[0], 'e019', zm, vM, 45)
    set JD4 = CreateUnit(G8[0], 'e019', eM, oM, 45)
    set JE4 = CreateUnit(G8[0], 'eaom', rM, iM, 90)
    set JF4 = CreateUnit(G8[0], 'eaom', aM, nM, 45)
    set JG4 = CreateUnit(G8[0], 'eaom', VM, XM, 0)
    set JH4 = CreateUnit(G8[0], 'eaoe', AM, bM, 90)
    set JI4 = CreateUnit(G8[0], 'eaoe', BM, cM, 45)
    set JJ4 = CreateUnit(G8[0], 'eaoe', dM, fM, 0)
    set fP = CreateUnit(G8[0], 'emow', gM, hM, 270)
    set FP = CreateUnit(G8[0], 'emow', HM, JM, 270)
    set lP = CreateUnit(G8[0], 'emow', kM, lM, 270)
    set LP = CreateUnit(G8[0], 'emow', pM, sM, 270)
    set MP = CreateUnit(G8[0], 'emow', tM, wM, 270)
    set pP = CreateUnit(G8[0], 'emow', zM, vp, 270)
    set JK4 = CreateUnit(G8[0], 'emow', ep, op, 270)
    set JM4 = CreateUnit(G8[0], 'emow', rp, ap, 270)
    set JN4 = CreateUnit(G8[0], 'emow', Vp, Ep, 270)
    set JO4 = CreateUnit(G8[0], 'emow', Xp, Rp, 270)
    set JP4 = CreateUnit(G8[0], 'emow', Ap, bp, 270)
    set WP = CreateUnit(G8[0], 'eaow', Bp, cp, 270)
    set zP = CreateUnit(G8[0], 'eaow', Cp, dp, 270)
    set vq = CreateUnit(G8[0], 'edob', fp, Fp, 270)
    set eq = CreateUnit(G8[0], 'edob', gp, Hp, 270)
    call SetPlayerAbilityAvailable(P8, 'Aro1', false)
    call SetUnitColor(IO4, gL)
    call SetUnitColor(IR4, gL)
    call SetUnitColor(IQ4, JL)
    call SetUnitColor(IP4, JL)
    call SetUnitColor(IS4, JL)
    call SetUnitColor(IT4, JL)
    call SetUnitColor(IU4, JL)
    call SetUnitColor(IV4, JL)
    call SetUnitColor(IW4, JL)
    call T49(IZ4, true)
    call T49(I34, true)
    call T49(IL4, true)
    call T49(I04, true)
    call T49(I24, true)
    call T49(I_4, true)
    call T49(J44, true)
    call T49(J74, true)
    call T49(J84, true)
    call T49(J94, true)
    call T49(JD4, true)
    call T49(IY4, true)
    call T49(JE4, true)
    call T49(JF4, true)
    call T49(JG4, true)
    call T49(JH4, true)
    call T49(JI4, true)
    call T49(JJ4, true)
    call T49(WP, true)
    call T49(zP, true)
    call T49(vq, true)
    call T49(eq, true)
    call T49(fP, true)
    call T49(FP, true)
    call T49(lP, true)
    call T49(LP, true)
    call T49(MP, true)
    call T49(pP, true)
    call T49(JK4, true)
    call T49(JM4, true)
    call T49(JN4, true)
    call T49(JO4, true)
    call T49(JP4, true)
    call AddUnitToStock(IR4, 'h02C', 0, 0)
    set JQ4 = GetUnitX(lK)
    set JR4 = GetUnitY(lK)
    set rq = GetUnitX(cK)
    set iq = GetUnitY(cK)
    set aq = GetUnitX(CK)
    set Eq = GetUnitY(CK)
    set Rq = GetUnitX(dK)
    set Aq = GetUnitY(dK)
    set Nq = GetUnitX(bK)
    set bq = GetUnitY(bK)
    set Bq = GetUnitX(AK)
    set cq = GetUnitY(AK)
    set Cq = GetUnitX(OK)
    set Dq = GetUnitY(OK)
    set fq = GetUnitX(XK)
    set Fq = GetUnitY(XK)
    set Hq = GetUnitX(NK)
    set jq = GetUnitY(NK)
    set Jq = GetUnitX(BK)
    set Mq = GetUnitY(BK)
    set qq = GetUnitX(QJ)
    set Qq = GetUnitY(QJ)
    set Sq = GetUnitX(WK)
    set tq = GetUnitY(WK)
    set Uq = GetUnitX(HJ)
    set zq = GetUnitY(HJ)
    set Zq = GetUnitX(ZK)
    set vQ = GetUnitY(ZK)
    set eQ = GetUnitX(qJ)
    set xQ = GetUnitY(qJ)
    set oQ = GetUnitX(UJ)
    set iQ = GetUnitY(UJ)
    set aQ = GetUnitX(vl)
    set EQ = GetUnitY(vl)
    set OQ = GetUnitX(PJ)
    set RQ = GetUnitY(PJ)
    set AQ = GetUnitX(EK)
    set NQ = GetUnitY(EK)
    set bQ = GetUnitX(el)
    set BQ = GetUnitY(el)
    set cQ = GetUnitX(Bl)
    set CQ = GetUnitY(Bl)
    set fQ = GetUnitX(xl)
    set FQ = GetUnitY(xl)
    set hQ = GetUnitX(SK)
    set HQ = GetUnitY(SK)
    set lQ = GetUnitX(VK)
    set LQ = GetUnitY(VK)
    set mQ = GetUnitX(QK)
    set MQ = GetUnitY(QK)
    set PQ = GetUnitX(bl)
    set QQ = GetUnitY(bl)
    set SQ = GetUnitX(aK)
    set UQ = GetUnitY(aK)
    set WQ = GetUnitX(zK)
    set zQ = GetUnitY(zK)
    set ZQ = GetUnitX(Nl)
    set vs = GetUnitY(Nl)
    set es = GetUnitX(El)
    set os = GetUnitY(El)
    set rs = GetUnitX(rl)
    set as = GetUnitY(rl)
    set ns = GetUnitX(Rl)
    set Vs = GetUnitY(Rl)
    set Es = GetUnitX(xK)
    set Xs = GetUnitY(xK)
    set Rs = GetUnitX(Ol)
    set As = GetUnitY(Ol)
    set Ns = GetUnitX(ol)
    set bs = GetUnitY(ol)
    set Bs = GetUnitX(al)
    set cs = GetUnitY(al)
    set Cs = GetUnitX(Xl)
    set Ds = GetUnitY(Xl)
    set fs = GetUnitX(cl)
    set Fs = GetUnitY(cl)
    set Hs = GetUnitX(vK)
    set js = GetUnitY(vK)
    set Js = GetUnitX(TK)
    set Ks = GetUnitY(TK)
    set ls = GetUnitX(eK)
    set Ls = GetUnitY(eK)
    set ms = GetUnitX(Al)
    set Ms = GetUnitY(Al)
    set ps = GetUnitX(Vl)
    set Ps = GetUnitY(Vl)
    set Qs = GetUnitX(wK)
    set Ss = GetUnitY(wK)
    call RemoveUnit(El)
    call RemoveUnit(rl)
    call RemoveUnit(Rl)
    call RemoveUnit(xK)
    call RemoveUnit(Ol)
    call RemoveUnit(ol)
    call RemoveUnit(al)
    call RemoveUnit(Xl)
    call RemoveUnit(cl)
    call RemoveUnit(vK)
    call RemoveUnit(TK)
    call RemoveUnit(HJ)
    call RemoveUnit(UJ)
    call RemoveUnit(EK)
    call RemoveUnit(ZK)
    call RemoveUnit(vl)
    call RemoveUnit(el)
    call RemoveUnit(qJ)
    call RemoveUnit(PJ)
    call RemoveUnit(Bl)
    call RemoveUnit(xl)
    call RemoveUnit(SK)
    call RemoveUnit(VK)
    call RemoveUnit(QK)
    call RemoveUnit(bl)
    call RemoveUnit(aK)
    call RemoveUnit(zK)
    call RemoveUnit(Nl)
    call RemoveUnit(eK)
    call RemoveUnit(Al)
    call RemoveUnit(Vl)
    call RemoveUnit(wK)
    call RemoveUnit(WK)
    call RemoveUnit(AK)
    call RemoveUnit(OK)
    call RemoveUnit(XK)
    call RemoveUnit(NK)
    call RemoveUnit(BK)
    call RemoveUnit(QJ)
    call RemoveUnit(dK)
    call RemoveUnit(CK)
    call RemoveUnit(lK)
    call RemoveUnit(cK)
    call RemoveUnit(bK)
    set JS4 = CreateUnit(N8[0], 'ndfl', JQ4, JR4, 270)
    set JT4 = CreateUnit(P8, 'nC35', rq, iq, 270)
    set zs = CreateUnit(P8, 'n01K', aq, Eq, 270)
    set Zs = CreateUnit(P8, 'nC38', Rq, Aq, 270)
    set JU4 = CreateUnit(P8, 'u00Q', Nq, bq, 270)
    set eS = CreateUnit(P8, 'n00V', Bq, cq, 0)
    set oS = CreateUnit(P8, 'n00W', Cq, Dq, 0)
    set rS = CreateUnit(P8, 'n002', fq, Fq, 0)
    set aS = CreateUnit(P8, 'n00X', Hq, jq, 0)
    set nS = CreateUnit(P8, 'n009', Jq, Mq, 0)
    set VS = CreateUnit(P8, 'n0HE', qq, Qq, 0)
    set THS = CreateUnit(P8, 'n90B', 6459, 5667, 270)
    set JV4 = CreateUnit(N8[0], 'unpl', Sq, tq, 220)
    set JW4 = CreateUnit(N8[0], 'u00M', Uq, zq, 270)
    set JX4 = CreateUnit(N8[0], 'u00M', Zq, vQ, 270)
    set JY4 = CreateUnit(N8[0], 'u00M', eQ, xQ, 270)
    set JZ4 = CreateUnit(N8[0], 'u00D', oQ, iQ, 270)
    set JA4 = CreateUnit(N8[0], 'u00D', aQ, EQ, 270)
    set JB4 = CreateUnit(N8[0], 'u00D', OQ, RQ, 270)
    set JC4 = CreateUnit(N8[0], 'u00N', AQ, NQ, 270)
    set J34 = CreateUnit(N8[0], 'u00N', bQ, BQ, 270)
    set J64 = CreateUnit(N8[0], 'u00N', cQ, CQ, 270)
    set JL4 = CreateUnit(N8[0], 'u00T', fQ, FQ, 270)
    set J14 = CreateUnit(N8[0], 'u00T', hQ, HQ, 270)
    set J04 = CreateUnit(N8[0], 'usep', lQ, LQ, 270)
    set J54 = CreateUnit(N8[0], 'usep', mQ, MQ, 270)
    set J24 = CreateUnit(N8[0], 'usep', PQ, QQ, 270)
    set J_4 = CreateUnit(N8[0], 'utod', SQ, UQ, 270)
    set K44 = CreateUnit(N8[0], 'utod', WQ, zQ, 270)
    set K74 = CreateUnit(N8[0], 'utod', ZQ, vs, 270)
    set PS = CreateUnit(N8[0], 'uzig', es, os, 270)
    set QS = CreateUnit(N8[0], 'uzig', rs, as, 270)
    set SS = CreateUnit(N8[0], 'uzig', ns, Vs, 270)
    set tS = CreateUnit(N8[0], 'uzig', Es, Xs, 270)
    set TS = CreateUnit(N8[0], 'uzig', Rs, As, 270)
    set US = CreateUnit(N8[0], 'uzig', Ns, bs, 270)
    set K84 = CreateUnit(N8[0], 'uzig', Bs, cs, 270)
    set K94 = CreateUnit(N8[0], 'uzig', Cs, Ds, 270)
    set KD4 = CreateUnit(N8[0], 'uzig', fs, Fs, 270)
    set KE4 = CreateUnit(N8[0], 'uzig', Hs, js, 270)
    set KF4 = CreateUnit(N8[0], 'uzig', Js, Ks, 270)
    set ot = CreateUnit(N8[0], 'usap', ls, Ls, 270)
    set rt = CreateUnit(N8[0], 'usap', ms, Ms, 270)
    set at = CreateUnit(N8[0], 'ubon', ps, Ps, 270)
    set Vt = CreateUnit(N8[0], 'ubon', Qs, Ss, 270)
    call SetUnitColor(JT4, hL)
    call SetUnitColor(Zs, JL)
    call SetUnitColor(zs, JL)
    call SetUnitColor(eS, JL)
    call SetUnitColor(oS, JL)
    call SetUnitColor(rS, JL)
    call SetUnitColor(aS, JL)
    call SetUnitColor(nS, JL)
    call T49(JW4, true)
    call T49(JX4, true)
    call T49(JY4, true)
    call T49(JZ4, true)
    call T49(JA4, true)
    call T49(JB4, true)
    call T49(JC4, true)
    call T49(J34, true)
    call T49(J64, true)
    call T49(JL4, true)
    call T49(J14, true)
    call T49(JV4, true)
    call T49(J04, true)
    call T49(J54, true)
    call T49(J24, true)
    call T49(J_4, true)
    call T49(K44, true)
    call T49(K74, true)
    call T49(ot, true)
    call T49(rt, true)
    call T49(at, true)
    call T49(Vt, true)
    call T49(PS, true)
    call T49(QS, true)
    call T49(SS, true)
    call T49(tS, true)
    call T49(TS, true)
    call T49(US, true)
    call T49(K84, true)
    call T49(K94, true)
    call T49(KD4, true)
    call T49(KE4, true)
    call T49(KF4, true)
    call AddUnitToStock(JU4, 'h02C', 0, 0)
    static if MAX_TEAM_PLAYERS_GE_1 then
        set L8H = GetUnitX(wJ)
        set L9H = GetUnitY(wJ)
        call RemoveUnit(wJ)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set LDH = GetUnitX(ZJ)
        set LEH = GetUnitY(ZJ)
        call RemoveUnit(ZJ)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set LFH = GetUnitX(zJ)
        set LGH = GetUnitY(zJ)
        call RemoveUnit(zJ)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set LHH = GetUnitX(WJ)
        set LIH = GetUnitY(WJ)
        call RemoveUnit(WJ)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set LJH = GetUnitX(yJ)
        set LKH = GetUnitY(yJ)
        call RemoveUnit(yJ)
    endif
    //! textmacro CircleOfPowerSentXY takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            set circle_of_power_sent_$PLAYER_RANK$_x = GetUnitX(circle_of_power_sent_$PLAYER_RANK$_placeholder)
            set circle_of_power_sent_$PLAYER_RANK$_y = GetUnitY(circle_of_power_sent_$PLAYER_RANK$_placeholder)
            call RemoveUnit(circle_of_power_sent_$PLAYER_RANK$_placeholder)
        endif
    //! endtextmacro
    //! runtextmacro CircleOfPowerSentXY("6")
    //! runtextmacro CircleOfPowerSentXY("7")
    //! runtextmacro CircleOfPowerSentXY("8")
    //! runtextmacro CircleOfPowerSentXY("9")
    //! runtextmacro CircleOfPowerSentXY("10")
    //! runtextmacro CircleOfPowerSentXY("11")
    static if MAX_TEAM_PLAYERS_GE_1 then
        set LMH = GetUnitX(FK)
        set LNH = GetUnitY(FK)
        call RemoveUnit(FK)
    endif
    static if MAX_TEAM_PLAYERS_GE_1 then
        set LOH = GetUnitX(fK)
        set LPH = GetUnitY(fK)
        call RemoveUnit(fK)
    endif
    static if MAX_TEAM_PLAYERS_GE_1 then
        set LQH = GetUnitX(JK)
        set LRH = GetUnitY(JK)
        call RemoveUnit(JK)
    endif
    static if MAX_TEAM_PLAYERS_GE_1 then
        set LSH = GetUnitX(gK)
        set LTH = GetUnitY(gK)
        call RemoveUnit(gK)
    endif
    static if MAX_TEAM_PLAYERS_GE_1 then
        set LUH = GetUnitX(GK)
        set LVH = GetUnitY(GK)
        call RemoveUnit(GK)
    endif
    //! textmacro CircleOfPowerScrgXY takes PLAYER_RANK
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            set circle_of_power_scrg_$PLAYER_RANK$_x = GetUnitX(circle_of_power_scrg_$PLAYER_RANK$_placeholder)
            set circle_of_power_scrg_$PLAYER_RANK$_y = GetUnitY(circle_of_power_scrg_$PLAYER_RANK$_placeholder)
            call RemoveUnit(circle_of_power_scrg_$PLAYER_RANK$_placeholder)
        endif
    //! endtextmacro
    //! runtextmacro CircleOfPowerScrgXY("6")
    //! runtextmacro CircleOfPowerScrgXY("7")
    //! runtextmacro CircleOfPowerScrgXY("8")
    //! runtextmacro CircleOfPowerScrgXY("9")
    //! runtextmacro CircleOfPowerScrgXY("10")
    //! runtextmacro CircleOfPowerScrgXY("11")
    set XQ8 = 25
    static if MAX_TEAM_PLAYERS_GE_1 then
        set KG4 = CreateUnit(Player(1), 'ncop', L8H, L9H, 270)
        call UnitAddAbility(KG4, 'A141')
        call ClearSelectionForPlayer(Player(1))
        call SelectUnitAddForPlayer(KG4, Player(1))
        if GetLocalPlayer() == Player(1)then
            call SetUnitVertexColor(KG4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KG4, 255, 255, 255, XQ8)
        endif
        set KR4[1] = KG4
        set KS4[1] = GetUnitX(KG4)
        set KT4[1] = GetUnitY(KG4)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set KH4 = CreateUnit(Player(2), 'ncop', LDH, LEH, 270)
        call UnitAddAbility(KH4, 'A141')
        call ClearSelectionForPlayer(Player(2))
        call SelectUnitAddForPlayer(KH4, Player(2))
        if GetLocalPlayer() == Player(2)then
            call SetUnitVertexColor(KH4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KH4, 255, 255, 255, XQ8)
        endif
        set KR4[2] = KH4
        set KS4[2] = GetUnitX(KH4)
        set KT4[2] = GetUnitY(KH4)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set KI4 = CreateUnit(Player(3), 'ncop', LFH, LGH, 270)
        call UnitAddAbility(KI4, 'A141')
        call ClearSelectionForPlayer(Player(3))
        call SelectUnitAddForPlayer(KI4, Player(3))
        if GetLocalPlayer() == Player(3)then
            call SetUnitVertexColor(KI4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KI4, 255, 255, 255, XQ8)
        endif
        set KR4[3] = KI4
        set KS4[3] = GetUnitX(KI4)
        set KT4[3] = GetUnitY(KI4)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set KJ4 = CreateUnit(Player(4), 'ncop', LHH, LIH, 270)
        call UnitAddAbility(KJ4, 'A141')
        call ClearSelectionForPlayer(Player(4))
        call SelectUnitAddForPlayer(KJ4, Player(4))
        if GetLocalPlayer() == Player(4)then
            call SetUnitVertexColor(KJ4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KJ4, 255, 255, 255, XQ8)
        endif
        set KR4[4] = KJ4
        set KS4[4] = GetUnitX(KJ4)
        set KT4[4] = GetUnitY(KJ4)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set KK4 = CreateUnit(Player(5), 'ncop', LJH, LKH, 270)
        call UnitAddAbility(KK4, 'A141')
        call ClearSelectionForPlayer(Player(5))
        call SelectUnitAddForPlayer(KK4, Player(5))
        if GetLocalPlayer() == Player(5)then
            call SetUnitVertexColor(KK4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KK4, 255, 255, 255, XQ8)
        endif
        set KR4[5] = KK4
        set KS4[5] = GetUnitX(KK4)
        set KT4[5] = GetUnitY(KK4)
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        set circle_of_power_sent_6 = CreateUnit(Player(12), 'ncop', circle_of_power_sent_6_x, circle_of_power_sent_6_y, 270)
        call UnitAddAbility(circle_of_power_sent_6, 'A141')
        call ClearSelectionForPlayer(Player(12))
        call SelectUnitAddForPlayer(circle_of_power_sent_6, Player(12))
        if GetLocalPlayer() == Player(12)then
            call SetUnitVertexColor(circle_of_power_sent_6, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_sent_6, 255, 255, 255, XQ8)
        endif
        set KR4[12] = circle_of_power_sent_6
        set KS4[12] = GetUnitX(circle_of_power_sent_6)
        set KT4[12] = GetUnitY(circle_of_power_sent_6)
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        set circle_of_power_sent_7 = CreateUnit(Player(13), 'ncop', circle_of_power_sent_7_x, circle_of_power_sent_7_y, 270)
        call UnitAddAbility(circle_of_power_sent_7, 'A141')
        call ClearSelectionForPlayer(Player(13))
        call SelectUnitAddForPlayer(circle_of_power_sent_7, Player(13))
        if GetLocalPlayer() == Player(13)then
            call SetUnitVertexColor(circle_of_power_sent_7, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_sent_7, 255, 255, 255, XQ8)
        endif
        set KR4[13] = circle_of_power_sent_7
        set KS4[13] = GetUnitX(circle_of_power_sent_7)
        set KT4[13] = GetUnitY(circle_of_power_sent_7)
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        set circle_of_power_sent_8 = CreateUnit(Player(14), 'ncop', circle_of_power_sent_8_x, circle_of_power_sent_8_y, 270)
        call UnitAddAbility(circle_of_power_sent_8, 'A141')
        call ClearSelectionForPlayer(Player(14))
        call SelectUnitAddForPlayer(circle_of_power_sent_8, Player(14))
        if GetLocalPlayer() == Player(14)then
            call SetUnitVertexColor(circle_of_power_sent_8, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_sent_8, 255, 255, 255, XQ8)
        endif
        set KR4[14] = circle_of_power_sent_8
        set KS4[14] = GetUnitX(circle_of_power_sent_8)
        set KT4[14] = GetUnitY(circle_of_power_sent_8)
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        set circle_of_power_sent_9 = CreateUnit(Player(15), 'ncop', circle_of_power_sent_9_x, circle_of_power_sent_9_y, 270)
        call UnitAddAbility(circle_of_power_sent_9, 'A141')
        call ClearSelectionForPlayer(Player(15))
        call SelectUnitAddForPlayer(circle_of_power_sent_9, Player(15))
        if GetLocalPlayer() == Player(15)then
            call SetUnitVertexColor(circle_of_power_sent_9, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_sent_9, 255, 255, 255, XQ8)
        endif
        set KR4[15] = circle_of_power_sent_9
        set KS4[15] = GetUnitX(circle_of_power_sent_9)
        set KT4[15] = GetUnitY(circle_of_power_sent_9)
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        set circle_of_power_sent_10 = CreateUnit(Player(16), 'ncop', circle_of_power_sent_10_x, circle_of_power_sent_10_y, 270)
        call UnitAddAbility(circle_of_power_sent_10, 'A141')
        call ClearSelectionForPlayer(Player(16))
        call SelectUnitAddForPlayer(circle_of_power_sent_10, Player(16))
        if GetLocalPlayer() == Player(16)then
            call SetUnitVertexColor(circle_of_power_sent_10, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_sent_10, 255, 255, 255, XQ8)
        endif
        set KR4[16] = circle_of_power_sent_10
        set KS4[16] = GetUnitX(circle_of_power_sent_10)
        set KT4[16] = GetUnitY(circle_of_power_sent_10)
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        set circle_of_power_sent_11 = CreateUnit(Player(17), 'ncop', circle_of_power_sent_11_x, circle_of_power_sent_11_y, 270)
        call UnitAddAbility(circle_of_power_sent_11, 'A141')
        call ClearSelectionForPlayer(Player(17))
        call SelectUnitAddForPlayer(circle_of_power_sent_11, Player(17))
        if GetLocalPlayer() == Player(17)then
            call SetUnitVertexColor(circle_of_power_sent_11, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_sent_11, 255, 255, 255, XQ8)
        endif
        set KR4[17] = circle_of_power_sent_11
        set KS4[17] = GetUnitX(circle_of_power_sent_11)
        set KT4[17] = GetUnitY(circle_of_power_sent_11)
    endif
    static if MAX_TEAM_PLAYERS_GE_1 then
        set KM4 = CreateUnit(Player(7), 'ncop', LMH, LNH, 270)
        call UnitAddAbility(KM4, 'A1WI')
        call ClearSelectionForPlayer(Player(7))
        call SelectUnitAddForPlayer(KM4, Player(7))
        if GetLocalPlayer() == Player(7)then
            call SetUnitVertexColor(KM4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KM4, 255, 255, 255, XQ8)
        endif
        set KR4[7] = KM4
        set KS4[7] = GetUnitX(KM4)
        set KT4[7] = GetUnitY(KM4)
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        set KN4 = CreateUnit(Player(8), 'ncop', LOH, LPH, 270)
        call UnitAddAbility(KN4, 'A1WI')
        call ClearSelectionForPlayer(Player(8))
        call SelectUnitAddForPlayer(KN4, Player(8))
        if GetLocalPlayer() == Player(8)then
            call SetUnitVertexColor(KN4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KN4, 255, 255, 255, XQ8)
        endif
        set KR4[8] = KN4
        set KS4[8] = GetUnitX(KN4)
        set KT4[8] = GetUnitY(KN4)
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        set KO4 = CreateUnit(Player(9), 'ncop', LQH, LRH, 270)
        call UnitAddAbility(KO4, 'A1WI')
        call ClearSelectionForPlayer(Player(9))
        call SelectUnitAddForPlayer(KO4, Player(9))
        if GetLocalPlayer() == Player(9)then
            call SetUnitVertexColor(KO4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KO4, 255, 255, 255, XQ8)
        endif
        set KR4[9] = KO4
        set KS4[9] = GetUnitX(KO4)
        set KT4[9] = GetUnitY(KO4)
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        set KP4 = CreateUnit(Player(10), 'ncop', LSH, LTH, 270)
        call UnitAddAbility(KP4, 'A1WI')
        call ClearSelectionForPlayer(Player(10))
        call SelectUnitAddForPlayer(KP4, Player(10))
        if GetLocalPlayer() == Player(10)then
            call SetUnitVertexColor(KP4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KP4, 255, 255, 255, XQ8)
        endif
        set KR4[10] = KP4
        set KS4[10] = GetUnitX(KP4)
        set KT4[10] = GetUnitY(KP4)
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        set KQ4 = CreateUnit(Player(11), 'ncop', LUH, LVH, 270)
        call UnitAddAbility(KQ4, 'A1WI')
        call ClearSelectionForPlayer(Player(11))
        call SelectUnitAddForPlayer(KQ4, Player(11))
        if GetLocalPlayer() == Player(11)then
            call SetUnitVertexColor(KQ4, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(KQ4, 255, 255, 255, XQ8)
        endif
        set KR4[11] = KQ4
        set KS4[11] = GetUnitX(KQ4)
        set KT4[11] = GetUnitY(KQ4)
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        set circle_of_power_scrg_6 = CreateUnit(Player(18), 'ncop', circle_of_power_scrg_6_x, circle_of_power_scrg_6_y, 270)
        call UnitAddAbility(circle_of_power_scrg_6, 'A141')
        call ClearSelectionForPlayer(Player(18))
        call SelectUnitAddForPlayer(circle_of_power_scrg_6, Player(18))
        if GetLocalPlayer() == Player(18)then
            call SetUnitVertexColor(circle_of_power_scrg_6, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_scrg_6, 255, 255, 255, XQ8)
        endif
        set KR4[18] = circle_of_power_scrg_6
        set KS4[18] = GetUnitX(circle_of_power_scrg_6)
        set KT4[18] = GetUnitY(circle_of_power_scrg_6)
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        set circle_of_power_scrg_7 = CreateUnit(Player(19), 'ncop', circle_of_power_scrg_7_x, circle_of_power_scrg_7_y, 270)
        call UnitAddAbility(circle_of_power_scrg_7, 'A141')
        call ClearSelectionForPlayer(Player(19))
        call SelectUnitAddForPlayer(circle_of_power_scrg_7, Player(19))
        if GetLocalPlayer() == Player(19)then
            call SetUnitVertexColor(circle_of_power_scrg_7, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_scrg_7, 255, 255, 255, XQ8)
        endif
        set KR4[19] = circle_of_power_scrg_7
        set KS4[19] = GetUnitX(circle_of_power_scrg_7)
        set KT4[19] = GetUnitY(circle_of_power_scrg_7)
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        set circle_of_power_scrg_8 = CreateUnit(Player(20), 'ncop', circle_of_power_scrg_8_x, circle_of_power_scrg_8_y, 270)
        call UnitAddAbility(circle_of_power_scrg_8, 'A141')
        call ClearSelectionForPlayer(Player(20))
        call SelectUnitAddForPlayer(circle_of_power_scrg_8, Player(20))
        if GetLocalPlayer() == Player(20)then
            call SetUnitVertexColor(circle_of_power_scrg_8, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_scrg_8, 255, 255, 255, XQ8)
        endif
        set KR4[20] = circle_of_power_scrg_8
        set KS4[20] = GetUnitX(circle_of_power_scrg_8)
        set KT4[20] = GetUnitY(circle_of_power_scrg_8)
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        set circle_of_power_scrg_9 = CreateUnit(Player(21), 'ncop', circle_of_power_scrg_9_x, circle_of_power_scrg_9_y, 270)
        call UnitAddAbility(circle_of_power_scrg_9, 'A141')
        call ClearSelectionForPlayer(Player(21))
        call SelectUnitAddForPlayer(circle_of_power_scrg_9, Player(21))
        if GetLocalPlayer() == Player(21)then
            call SetUnitVertexColor(circle_of_power_scrg_9, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_scrg_9, 255, 255, 255, XQ8)
        endif
        set KR4[21] = circle_of_power_scrg_9
        set KS4[21] = GetUnitX(circle_of_power_scrg_9)
        set KT4[21] = GetUnitY(circle_of_power_scrg_9)
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        set circle_of_power_scrg_10 = CreateUnit(Player(22), 'ncop', circle_of_power_scrg_10_x, circle_of_power_scrg_10_y, 270)
        call UnitAddAbility(circle_of_power_scrg_10, 'A141')
        call ClearSelectionForPlayer(Player(22))
        call SelectUnitAddForPlayer(circle_of_power_scrg_10, Player(22))
        if GetLocalPlayer() == Player(22)then
            call SetUnitVertexColor(circle_of_power_scrg_10, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_scrg_10, 255, 255, 255, XQ8)
        endif
        set KR4[22] = circle_of_power_scrg_10
        set KS4[22] = GetUnitX(circle_of_power_scrg_10)
        set KT4[22] = GetUnitY(circle_of_power_scrg_10)
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        set circle_of_power_scrg_11 = CreateUnit(Player(23), 'ncop', circle_of_power_scrg_11_x, circle_of_power_scrg_11_y, 270)
        call UnitAddAbility(circle_of_power_scrg_11, 'A141')
        call ClearSelectionForPlayer(Player(23))
        call SelectUnitAddForPlayer(circle_of_power_scrg_11, Player(23))
        if GetLocalPlayer() == Player(23)then
            call SetUnitVertexColor(circle_of_power_scrg_11, 255, 255, 255, 255)
        else
            call SetUnitVertexColor(circle_of_power_scrg_11, 255, 255, 255, XQ8)
        endif
        set KR4[23] = circle_of_power_scrg_11
        set KS4[23] = GetUnitX(circle_of_power_scrg_11)
        set KT4[23] = GetUnitY(circle_of_power_scrg_11)
    endif
    call XU8()
    call XZ8()
    call PH8('esen', "stand 4")
    call PH8('e00V', "stand 4")
    call PH8('edry', "spell")
    call PH8('e00W', "spell")
    call PH8('ugho', "stand victory")
    call PH8('u001', "stand victory")
    call PH8('unec', "stand channel")
    call PH8('u002', "stand channel")
    call PD8(XG4, .4, XG4)
    call PD8(XI4, .5, XI4)
    call PD8(XD4, 1.2, XD4)
    call PD8(XE4, .5, XE4)
    call PD8(XF4, .5, XF4)
    call PD8(XJ4, 1, XJ4)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerAddCondition(t, Condition(function X58))
    set ZR = CreateTrigger()
    call TriggerRegisterTimerEvent(ZR, .01, false)
    call TriggerAddAction(ZR, function X_8)
    call JBD()
    call JAD()
    set t = null
    //! textmacro MainGeneralPlayerRankMac takes LEFT_PART, RIGHT_PART
        static if MAX_TEAM_PLAYERS_GE_1 then
            $LEFT_PART$G8[1]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_2 then
            $LEFT_PART$G8[2]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_3 then
            $LEFT_PART$G8[3]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_4 then
            $LEFT_PART$G8[4]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_5 then
            $LEFT_PART$G8[5]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_6 then
            $LEFT_PART$G8[6]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_7 then
            $LEFT_PART$G8[7]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_8 then
            $LEFT_PART$G8[8]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_9 then
            $LEFT_PART$G8[9]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_10 then
            $LEFT_PART$G8[10]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_11 then
            $LEFT_PART$G8[11]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_1 then
            $LEFT_PART$N8[1]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_2 then
            $LEFT_PART$N8[2]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_3 then
            $LEFT_PART$N8[3]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_4 then
            $LEFT_PART$N8[4]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_5 then
            $LEFT_PART$N8[5]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_6 then
            $LEFT_PART$N8[6]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_7 then
            $LEFT_PART$N8[7]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_8 then
            $LEFT_PART$N8[8]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_9 then
            $LEFT_PART$N8[9]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_10 then
            $LEFT_PART$N8[10]$RIGHT_PART$
        endif
        static if MAX_TEAM_PLAYERS_GE_11 then
            $LEFT_PART$N8[11]$RIGHT_PART$
        endif
    //! endtextmacro
    set t = CreateTrigger()
    //! runtextmacro MainGeneralPlayerRankMac("call TriggerRegisterPlayerEvent(t, ",", EVENT_PLAYER_LEAVE)")
    call TriggerAddAction(t, function YJ8)
    if L8 then
        call Y78()
        set t = CreateTrigger()
        if IsPlayerObserver(KU4)then
            call TriggerRegisterPlayerEvent(t, KU4, EVENT_PLAYER_LEAVE)
        endif
        if IsPlayerObserver(KV4)then
            call TriggerRegisterPlayerEvent(t, KV4, EVENT_PLAYER_LEAVE)
        endif
        call TriggerAddAction(t, function YD8)
    endif
    set U2[0] = false
    set U2[1] = false
    set U2[2] = false
    set U2[3] = false
    set U2[4] = false
    set U2[5] = false
    set U2[6] = false
    set U2[7] = false
    set U2[8] = false
    set U2[9] = false
    set U2[10] = false
    set U2[11] = false
    set U2[12] = false
    set U2[13] = false
    set U2[14] = false
    set U2[15] = false
    set AAYS[0] = 0
    set AAYS[1] = 0
    set AAYS[2] = 0
    set AAYS[3] = 0
    set AAYS[4] = 0
    set AAYS[5] = 0
    set AAYS[6] = 0
    set AAYS[7] = 0
    set AAYS[8] = 0
    set AAYS[9] = 0
    set AAYS[10] = 0
    set AAYS[11] = 0
    set AAYS[12] = 0
    set AAYS[13] = 0
    set AAYS[14] = 0
    set AAYS[15] = 0
    set AAJS[0] = 0.
    set AAJS[1] = 0.
    set AAJS[2] = 0.
    set AAJS[3] = 0.
    set AAJS[4] = 0.
    set AAJS[5] = 0.
    set AAJS[6] = 0.
    set AAJS[7] = 0.
    set AAJS[8] = 0.
    set AAJS[9] = 0.
    set AAJS[10] = 0.
    set AAJS[11] = 0.
    set AAJS[12] = 0.
    set AAJS[13] = 0.
    set AAJS[14] = 0.
    set AAJS[15] = 0.
    set AEK0[0] = 0
    set AEK0[1] = 0
    set AEK0[2] = 0
    set AEK0[3] = 0
    set AEK0[4] = 0
    set AEK0[5] = 0
    set AEK0[6] = 0
    set AEK0[7] = 0
    set AEK0[8] = 0
    set AEK0[9] = 0
    set AEK0[10] = 0
    set AEK0[11] = 0
    set AEK0[12] = 0
    set AEK0[13] = 0
    set AEK0[14] = 0
    set AEK0[15] = 0
    set WQ4[0] = 0
    set WQ4[1] = 0
    set WQ4[2] = 0
    set WQ4[3] = 0
    set WQ4[4] = 0
    set WQ4[5] = 0
    set WQ4[6] = 0
    set WQ4[7] = 0
    set WQ4[8] = 0
    set WQ4[9] = 0
    set WQ4[10] = 0
    set WQ4[11] = 0
    set WQ4[12] = 0
    set WQ4[13] = 0
    set WQ4[14] = 0
    set WQ4[15] = 0
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_HERO_REVIVE_FINISH)
    call TriggerAddAction(t, function OXH)
    set t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, bj_mapInitialPlayableArea)
    call TriggerAddCondition(t, Condition(function J89))
    call TriggerAddAction(t, function JZ9)
    set MC4 = t
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SELL)
    call TriggerAddAction(t, function JL9)
    call TriggerAddCondition(t, Condition(function J69))
    set M64 = t
    set ML4 = CreateTrigger()
    call TriggerRegisterTimerEvent(ML4, .6, true)
    call TriggerAddCondition(ML4, Condition(function J19))
    call DisableTrigger(ML4)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddAction(t, function TM9)
    set M14 = t
    call S09(0, 0, false)
    call J29()
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call QQ8(t, EVENT_PLAYER_UNIT_SELL)
    call TriggerAddCondition(t, Condition(function J_9))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function UB1))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PAWN_ITEM)
    call TriggerAddCondition(t, Condition(function UA1))
    set t = null
    call PU8('A27F')
    call PU8('A27X')
    call PU8('A27H')
    call PU8('A2V9')
    call PU8('A27V')
    call PU8('A27G')
    call PU8('A27I')
    call PU8('A27K')
    call PU8('A27J')
    set DS = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(DS, G8[0], EVENT_PLAYER_UNIT_DEATH, Condition(function KF8))
    call TriggerRegisterPlayerUnitEvent(DS, N8[0], EVENT_PLAYER_UNIT_DEATH, Condition(function KF8))
    call TriggerRegisterPlayerUnitEvent(DS, O8, EVENT_PLAYER_UNIT_DEATH, Condition(function KF8))
    call TriggerAddAction(DS, function K89)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function PA9))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function Q39))
    call TriggerAddAction(t, function R49)
    set ES = t
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function AARO))
    set t = null
    set PlayerItemValue[0] = 0
    set PlayerItemValue[1] = 0
    set PlayerItemValue[2] = 0
    set PlayerItemValue[3] = 0
    set PlayerItemValue[4] = 0
    set PlayerItemValue[5] = 0
    set PlayerItemValue[6] = 0
    set PlayerItemValue[7] = 0
    set PlayerItemValue[8] = 0
    set PlayerItemValue[9] = 0
    set PlayerItemValue[10] = 0
    set PlayerItemValue[11] = 0
    set PlayerItemValue[12] = 0
    set PlayerItemValue[13] = 0
    set PlayerItemValue[14] = 0
    set PlayerItemValue[15] = 0
    call AAXO('nstl', 62)
    call AAXO('nsth', 119)
    call AAXO('n026', 42)
    call AAXO('n127', 23)
    call AAXO('ndtw', 119)
    call AAXO('efon', 30)
    call AAXO('n004', 300)
    call AAXO('n018', 300)
    call AAXO('n01C', 300)
    call AAXO('n01G', 300)
    call AAXO('o00T', 20)
    call AAXO('o00U', 25)
    call AAXO('o00V', 30)
    call AAXO('o00W', 35)
    call AAXO('n00H', 200)
    call AAXO('n00G', 300)
    call AAXO('n00K', 400)
    call AAXO('n00J', 200)
    call AAXO('n00A', 300)
    call AAXO('n006', 400)
    call AAXO('o004', 100)
    call AAXO('efo2', 30)
    call SetPlayerAbilityAvailable(O8, 'A37I', false)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function RA9))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function R39))
    set t = null
    set NW4 = CreateTrigger()
    call TriggerAddCondition(NW4, Condition(function R59))
    set ZI = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(ZI, O8, EVENT_PLAYER_UNIT_DEATH, Condition(function KF8))
    call TriggerAddCondition(ZI, Condition(function S89))
    call TriggerAddAction(ZI, function SE9)
    set t = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(t, G8[0], EVENT_PLAYER_UNIT_DEATH, Condition(function KF8))
    call TriggerRegisterPlayerUnitEvent(t, N8[0], EVENT_PLAYER_UNIT_DEATH, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function SN9))
    set t = null
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function SZ9))
    call TriggerRegisterTimerEvent(t, 6, false)
    set t = null
    set JV = JV + 1
    set AU[JV] = 'I0FF'
    set BU[JV] = 'I0FG'
    set CU[JV] = 0
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I02Q'
    set BU[JV] = 'I02O'
    set CU[JV] = 'h011'
    set LU[JV] = 'I00A'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"
    set EV[JV] = 0
    set MV = JV
    set JV = JV + 1
    set AU[JV] = 'I02S'
    set BU[JV] = 'I02P'
    set CU[JV] = 'h012'
    set LU[JV] = 'I0CA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
    set EV[JV] = 0
    set NV = JV
    set JV = JV + 1
    set AU[JV] = 'I02N'
    set BU[JV] = 'I02R'
    set CU[JV] = 'h013'
    set LU[JV] = 'I0CS'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
    set EV[JV] = 0
    set OV = JV
    set JV = JV + 1
    set AU[JV] = 'I02X'
    set BU[JV] = 'I02Y'
    set CU[JV] = 'h015'
    set LU[JV] = 'I0D4'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNCirclet.blp"
    set EV[JV] = 0
    set QV = JV
    set JV = JV + 1
    set AU[JV] = 'I02Z'
    set BU[JV] = 'I043'
    set CU[JV] = 'h016'
    set LU[JV] = 'I0CV'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
    set EV[JV] = 0
    set SV = JV
    set JV = JV + 1
    set AU[JV] = 'I030'
    set BU[JV] = 'I044'
    set CU[JV] = 'h017'
    set LU[JV] = 'I0D2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_03.blp"
    set EV[JV] = 0
    set TV = JV
    set JV = JV + 1
    set AU[JV] = 'I031'
    set BU[JV] = 'I045'
    set CU[JV] = 'h018'
    set LU[JV] = 'I0D5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
    set EV[JV] = 0
    set UV = JV
    set JV = JV + 1
    set AU[JV] = 'I032'
    set BU[JV] = 'I046'
    set CU[JV] = 'h019'
    set LU[JV] = 'I0CZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"
    set EV[JV] = 0
    set XV = JV
    set JV = JV + 1
    set AU[JV] = 'I033'
    set BU[JV] = 'I047'
    set CU[JV] = 'h01A'
    set LU[JV] = 'I0D7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_12.blp"
    set EV[JV] = 0
    set AV = JV
    set JV = JV + 1
    set AU[JV] = 'I034'
    set BU[JV] = 'I048'
    set CU[JV] = 'h01B'
    set LU[JV] = 'I0CX'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_19.blp"
    set EV[JV] = 0
    set BV = JV
    set JV = JV + 1
    set AU[JV] = 'I035'
    set BU[JV] = 'I049'
    set CU[JV] = 'h01C'
    set LU[JV] = 'I0CI'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNFrostMourne.blp"
    set EV[JV] = 0
    set CV = JV
    set JV = JV + 1
    set AU[JV] = 'I036'
    set BU[JV] = 'I04A'
    set CU[JV] = 'h01D'
    set LU[JV] = 'I0CH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Bow_06.blp"
    set EV[JV] = 0
    set LV = JV
    set JV = JV + 1
    set AU[JV] = 'I037'
    set BU[JV] = 'I04B'
    set CU[JV] = 'h01E'
    set LU[JV] = 'I0CR'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
    set EV[JV] = 0
    set EW = JV
    set JV = JV + 1
    set AU[JV] = 'I038'
    set BU[JV] = 'I04C'
    set CU[JV] = 'h01F'
    set LU[JV] = 'I0CJ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGauntletsOfOgrePower.blp"
    set EV[JV] = 0
    set HW = JV
    set JV = JV + 1
    set AU[JV] = 'I039'
    set BU[JV] = 'I04D'
    set CU[JV] = 'h01G'
    set LU[JV] = 'I0DG'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGem.blp"
    set EV[JV] = 0
    set NW = JV
    set JV = JV + 1
    set AU[JV] = 'I0MS'
    set BU[JV] = 'I0MR'
    set CU[JV] = 0
    set LU[JV] = 'I0MT'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGem.blp"
    set EV[JV] = 0
    set OW = JV
    set JV = JV + 1
    set AU[JV] = 'I03B'
    set BU[JV] = 'I04E'
    set CU[JV] = 'h01H'
    set LU[JV] = 'I0DA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
    set EV[JV] = 0
    set QW = JV
    set JV = JV + 1
    set AU[JV] = 'I03C'
    set BU[JV] = 'I04F'
    set CU[JV] = 'h01I'
    set LU[JV] = 'I0CQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNPeriapt1.blp"
    set EV[JV] = 0
    set RW = JV
    set JV = JV + 1
    set AU[JV] = 'I03D'
    set BU[JV] = 'I04G'
    set CU[JV] = 'h01J'
    set LU[JV] = 'I0CU'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNNatureTouchGrow.blp"
    set EV[JV] = 0
    set SW = JV
    set JV = JV + 1
    set AU[JV] = 'I03E'
    set BU[JV] = 'I04H'
    set CU[JV] = 'h01K'
    set LU[JV] = 'I0C7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
    set EV[JV] = 12
    set TW = JV
    set JV = JV + 1
    set AU[JV] = 'I03E'
    set BU[JV] = 'I04I'
    set CU[JV] = 'h01K'
    set LU[JV] = 'I0DH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
    set EV[JV] = 0
    set UW = JV
    set JV = JV + 1
    set AU[JV] = 'I03F'
    set BU[JV] = 'I04J'
    set CU[JV] = 'h01L'
    set LU[JV] = 'I0CM'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNMantleOfIntelligence.blp"
    set EV[JV] = 0
    set VW = JV
    set JV = JV + 1
    set AU[JV] = 'I03G'
    set BU[JV] = 'I04K'
    set CU[JV] = 'h01M'
    set LU[JV] = 'I0CD'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
    set EV[JV] = 0
    set YW = JV
    set JV = JV + 1
    set AU[JV] = 'I03H'
    set BU[JV] = 'I04L'
    set CU[JV] = 'h01N'
    set LU[JV] = 'I0CG'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerMasterTraining.blp"
    set EV[JV] = 0
    set ZW = JV
    set JV = JV + 1
    set AU[JV] = 'I03I'
    set BU[JV] = 'I04M'
    set CU[JV] = 'h01O'
    set LU[JV] = 'I0D0'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHammer.blp"
    set EV[JV] = 0
    set GX = JV
    set JV = JV + 1
    set AU[JV] = 'I03J'
    set BU[JV] = 'I04N'
    set CU[JV] = 'h01P'
    set LU[JV] = 'I0CN'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNStaffOfNegation.blp"
    set EV[JV] = 0
    set NX = JV
    set JV = JV + 1
    set AU[JV] = 'I03K'
    set BU[JV] = 'I04O'
    set CU[JV] = 'h01Q'
    set LU[JV] = 'I0D8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerAdeptTraining.tga"
    set EV[JV] = 0
    set RX = JV
    set JV = JV + 1
    set AU[JV] = 'I03L'
    set BU[JV] = 'I04P'
    set CU[JV] = 'h01R'
    set LU[JV] = 'I0CE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
    set EV[JV] = 0
    set SX = JV
    set JV = JV + 1
    set AU[JV] = 'I03M'
    set BU[JV] = 'I04Q'
    set CU[JV] = 'h01S'
    set LU[JV] = 'I0DB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate13.blp"
    set EV[JV] = 0
    set WX = JV
    set JV = JV + 1
    set AU[JV] = 'I03N'
    set BU[JV] = 'I04R'
    set CU[JV] = 'h01T'
    set LU[JV] = 'I0CL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp"
    set EV[JV] = 0
    set YX = JV
    set JV = JV + 1
    set AU[JV] = 'I03P'
    set BU[JV] = 'I04S'
    set CU[JV] = 'h01U'
    set LU[JV] = 'I0CY'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
    set EV[JV] = 0
    set ZX = JV
    set JV = JV + 1
    set AU[JV] = 'I03Q'
    set BU[JV] = 'I04T'
    set CU[JV] = 'h01V'
    set LU[JV] = 'I0DI'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
    set EV[JV] = 0
    set AX = JV
    set JV = JV + 1
    set AU[JV] = 'I03R'
    set BU[JV] = 'I04U'
    set CU[JV] = 'h01W'
    set LU[JV] = 'I0CW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRingPurple.blp"
    set EV[JV] = 0
    set DY = JV
    set JV = JV + 1
    set AU[JV] = 'I03S'
    set BU[JV] = 'I04V'
    set CU[JV] = 'h01X'
    set LU[JV] = 'I0DJ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
    set EV[JV] = 0
    set EY = JV
    set JV = JV + 1
    set AU[JV] = 'I03T'
    set BU[JV] = 'I04W'
    set CU[JV] = 'h01Y'
    set LU[JV] = 'I0CP'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
    set EV[JV] = 0
    set FY = JV
    set JV = JV + 1
    set AU[JV] = 'I03U'
    set BU[JV] = 'I04X'
    set CU[JV] = 'h01Z'
    set LU[JV] = 'I0CC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNStaffOfTeleportation.blp"
    set EV[JV] = 0
    set GY = JV
    set JV = JV + 1
    set AU[JV] = 'I03V'
    set BU[JV] = 'I04Y'
    set CU[JV] = 'h020'
    set LU[JV] = 'I0C5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
    set EV[JV] = 0
    set HY = JV
    set JV = JV + 1
    set AU[JV] = 'I03W'
    set BU[JV] = 'I04Z'
    set CU[JV] = 'h021'
    set LU[JV] = 'I0DK'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
    set EV[JV] = 0
    set IY = JV
    set JV = JV + 1
    set AU[JV] = 'I03X'
    set BU[JV] = 'I050'
    set CU[JV] = 'h022'
    set LU[JV] = 'I0D1'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNWandOfCyclone.blp"
    set EV[JV] = 0
    set JY = JV
    set JV = JV + 1
    set AU[JV] = 'I03A'
    set BU[JV] = 'I051'
    set CU[JV] = 'h023'
    set LU[JV] = 'I0D9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
    set EV[JV] = 0
    set MY = JV
    set JV = JV + 1
    set AU[JV] = 'I0KB'
    set BU[JV] = 'I0KA'
    set CU[JV] = 0
    set LU[JV] = 'I0KC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
    set EV[JV] = 0
    set OY = JV
    set JV = JV + 1
    set AU[JV] = 'I03Y'
    set BU[JV] = 'I052'
    set CU[JV] = 'h024'
    set LU[JV] = 'I0C9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
    set EV[JV] = 0
    set PY = JV
    set JV = JV + 1
    set AU[JV] = 'I03Z'
    set BU[JV] = 'I053'
    set CU[JV] = 'h025'
    set LU[JV] = 'I0CK'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp"
    set EV[JV] = 0
    set QY = JV
    set JV = JV + 1
    set AU[JV] = 'I040'
    set BU[JV] = 'I054'
    set CU[JV] = 'h026'
    set LU[JV] = 'I0DL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNPeriapt.blp"
    set EV[JV] = 0
    set SY = JV
    set JV = JV + 1
    set AU[JV] = 'I041'
    set BU[JV] = 'I055'
    set CU[JV] = 'h027'
    set LU[JV] = 'I0D6'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSteelRanged.blp"
    set EV[JV] = 0
    set TY = JV
    set JV = JV + 1
    set AU[JV] = 'I00L'
    set BU[JV] = 'I0AV'
    set CU[JV] = 'h02B'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
    set EV[JV] = 0
    set UY = JV
    set JV = JV + 1
    set AU[JV] = 'I05E'
    set BU[JV] = 'I0AM'
    set CU[JV] = 0
    set LU[JV] = 'I0DN'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
    set EV[JV] = 0
    set VY = JV
    set JV = JV + 1
    set AU[JV] = 'I0AU'
    set BU[JV] = 'I0AN'
    set CU[JV] = 0
    set LU[JV] = 'I0DO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"
    set EV[JV] = 0
    set XY = JV
    set JV = JV + 1
    set AU[JV] = 'I0AS'
    set BU[JV] = 'I0AO'
    set CU[JV] = 0
    set LU[JV] = 'I0DP'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle2.blp"
    set EV[JV] = 0
    set YY = JV
    set JV = JV + 1
    set AU[JV] = 'I0AT'
    set BU[JV] = 'I0AP'
    set CU[JV] = 0
    set LU[JV] = 'I0DQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle3.blp"
    set EV[JV] = 0
    set ZY = JV
    set JV = JV + 1
    set AU[JV] = 'I0GW'
    set BU[JV] = 'I0GY'
    set CU[JV] = 0
    set LU[JV] = 'I0H3'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"
    set EV[JV] = 0
    set EZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0H2'
    set BU[JV] = 'I0GX'
    set CU[JV] = 0
    set LU[JV] = 'I0DR'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Regeneration.blp"
    set EV[JV] = 0
    set DZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0GV'
    set BU[JV] = 'I0H1'
    set CU[JV] = 0
    set LU[JV] = 'I0H4'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Haste.blp"
    set EV[JV] = 0
    set CY = JV
    set JV = JV + 1
    set AU[JV] = 'I0RD'
    set BU[JV] = 'I0RE'
    set CU[JV] = 0
    set LU[JV] = 'I0RF'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBountyBottle.blp"
    set EV[JV] = 0
    set AHJ0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AR'
    set BU[JV] = 'I0H0'
    set CU[JV] = 0
    set LU[JV] = 'I0H6'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle_DoubleDamage.blp"
    set EV[JV] = 0
    set BY = JV
    set JV = JV + 1
    set AU[JV] = 'I0AQ'
    set BU[JV] = 'I0GZ'
    set CU[JV] = 0
    set LU[JV] = 'I0H5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Invisibility.blp"
    set EV[JV] = 0
    set AY = JV
    set JV = JV + 1
    set AU[JV] = 'I0VB'
    set BU[JV] = 'I0VA'
    set CU[JV] = 0
    set LU[JV] = 'I0VC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Arcane.blp"
    set EV[JV] = 0
    set AASP = JV
    set JV = JV + 1
    set AU[JV] = 'I0GD'
    set BU[JV] = 'I0GC'
    set CU[JV] = 'h074'
    set LU[JV] = 'I0GE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNWand.blp"
    set EV[JV] = 17
    set HZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0HC'
    set BU[JV] = 'I0HB'
    set CU[JV] = 0
    set LU[JV] = 'I0HA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
    set EV[JV] = 17
    set D44 = JV
    set JV = JV + 1
    set AU[JV] = 'I0HT'
    set BU[JV] = 'I0HR'
    set CU[JV] = 'h07W'
    set LU[JV] = 'I0HV'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
    set EV[JV] = 5
    set NZ = JV
    set OZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0N4'
    set BU[JV] = 'I0N3'
    set CU[JV] = 0
    set LU[JV] = 'I0N5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
    set EV[JV] = 30
    set UZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0N7'
    set BU[JV] = 'I0N6'
    set CU[JV] = 0
    set LU[JV] = 'I0N8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"
    set EV[JV] = 30
    set XZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0J7'
    set BU[JV] = 'I0J6'
    set CU[JV] = 'h083'
    set LU[JV] = 'I0J8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
    set EV[JV] = 0
    set RZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0JJ'
    set BU[JV] = 'I0JI'
    set CU[JV] = 'h087'
    set LU[JV] = 'I0JK'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_04.blp"
    set EV[JV] = 30
    set DG4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0P9'
    set BU[JV] = 'I0PB'
    set CU[JV] = 'h0EI'
    set LU[JV] = 'I0PA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"
    set EV[JV] = 0
    set OC = JV
    set JV = JV + 1
    set AU[JV] = 'I0PN'
    set BU[JV] = 'I0PM'
    set CU[JV] = 0
    set LU[JV] = 'I0PO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_02.blp"
    set EV[JV] = 10
    set PC = JV
    set JV = JV + 1
    set AU[JV] = 'I0MA'
    set BU[JV] = 'I0M9'
    set CU[JV] = 'h0CM'
    set LU[JV] = 'I0MB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
    set EV[JV] = 0
    set ER4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0MD'
    set BU[JV] = 'I0ME'
    set CU[JV] = 0
    set LU[JV] = 'I0MC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
    set EV[JV] = 0
    set ES4 = JV
    set JV = JV + 1
    set AU[JV] = 'I057'
    set BU[JV] = 'I05C'
    set CU[JV] = 'h02A'
    set LU[JV] = 'I0Q8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"
    set EV[JV] = 0
    set BA = JV
    set JV = JV + 1
    set AU[JV] = 'I0Q7'
    set BU[JV] = 'I0Q6'
    set CU[JV] = 0
    set LU[JV] = 'I0Q9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"
    set EV[JV] = 0
    set AZ90 = JV
    set JV = JV + 1
    set AU[JV] = 'I042'
    set BU[JV] = 'I05D'
    set CU[JV] = 'h028'
    set LU[JV] = 'I0PY'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNLesserClarityPotion.blp"
    set EV[JV] = 0
    set WA = JV
    set JV = JV + 1
    set AU[JV] = 'I0HO'
    set BU[JV] = 'I0HN'
    set CU[JV] = 'h07V'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNVialFull.blp"
    set EV[JV] = 0
    set YA = JV
    set JV = JV + 1
    set AU[JV] = 'I056'
    set BU[JV] = 'I05F'
    set CU[JV] = 'h029'
    set LU[JV] = 'I0PZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHealingSalve.blp"
    set EV[JV] = 0
    set ZA = JV
    set JV = JV + 1
    set AU[JV] = 'I058'
    set BU[JV] = 'I05G'
    set CU[JV] = 'h02C'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSentryWard.blp"
    set EV[JV] = 0
    set FB = JV
    set JV = JV + 1
    set AU[JV] = 'I059'
    set BU[JV] = 'I05H'
    set CU[JV] = 'h02D'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBlueSentryWard.blp"
    set EV[JV] = 0
    set GB = JV
    set JV = JV + 1
    set AU[JV] = 'I05A'
    set BU[JV] = 'I05I'
    set CU[JV] = 'h02E'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
    set EV[JV] = 0
    set JB = JV
    set JV = JV + 1
    set AU[JV] = 'I05B'
    set BU[JV] = 'I05J'
    set CU[JV] = 'h02F'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp"
    set EV[JV] = 0
    set RB = JV
    set JV = JV + 1
    set AU[JV] = 'I0B0'
    set BU[JV] = 'I0B1'
    set CU[JV] = 0
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNCheese.blp"
    set EV[JV] = 0
    set VB = JV
    set JV = JV + 1
    set AU[JV] = 'I0GG'
    set BU[JV] = 'I0GF'
    set CU[JV] = 'h075'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNPotionOfDivinity.blp"
    set EV[JV] = 30
    set WB = JV
    set JV = JV + 1
    set AU[JV] = 'I0GI'
    set BU[JV] = 'I0GH'
    set CU[JV] = 'h076'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNDustOfAppearance.blp"
    set EV[JV] = 60
    set YB = JV
    set JV = JV + 1
    set AU[JV] = 'I0KT'
    set BU[JV] = 'I0KS'
    set CU[JV] = 'h0B9'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNWandOfManaSteal.blp"
    set EV[JV] = 0
    set LB = JV
    set JV = JV + 1
    set AU[JV] = 'I0NF'
    set BU[JV] = 'I0NG'
    set CU[JV] = 'h0D3'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSmokePotion.blp"
    set EV[JV] = 90
    set EC = JV
    set JV = JV + 1
    set AU[JV] = 'I061'
    set BU[JV] = 'I062'
    set CU[JV] = 0
    set LU[JV] = 'I01J'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"
    set EV[JV] = 0
    set QC = JV
    set JV = JV + 1
    set AU[JV] = 'I064'
    set BU[JV] = 'I063'
    set CU[JV] = 0
    set LU[JV] = 'I01K'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_17.blp"
    set EV[JV] = 0
    set TC = JV
    set JV = JV + 1
    set AU[JV] = 'I065'
    set BU[JV] = 'I066'
    set CU[JV] = 0
    set LU[JV] = 'I01L'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNThoriumArmor.blp"
    set EV[JV] = 25
    set VC = JV
    set JV = JV + 1
    set AU[JV] = 'I068'
    set BU[JV] = 'I067'
    set CU[JV] = 0
    set LU[JV] = 'I01M'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
    set EV[JV] = 0
    set WC = JV
    set JV = JV + 1
    set AU[JV] = 'I069'
    set BU[JV] = 'I06A'
    set CU[JV] = 0
    set LU[JV] = 'I0C6'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
    set EV[JV] = 0
    set XC = JV
    set JV = JV + 1
    set AU[JV] = 'I06C'
    set BU[JV] = 'I06B'
    set CU[JV] = 0
    set LU[JV] = 'I01P'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAbility_Rogue_Sprint.blp"
    set EV[JV] = 45
    set YC = JV
    set JV = JV + 1
    set AU[JV] = 'I0SZ'
    set BU[JV] = 'I0T0'
    set CU[JV] = 0
    set LU[JV] = 'I0T1'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSpell_Fire_BurningSpeed.blp"
    set EV[JV] = 45
    set DFX = JV
    set JV = JV + 1
    set AU[JV] = 'I03O'
    set BU[JV] = 'I02T'
    set CU[JV] = 0
    set LU[JV] = 'I01R'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNWirtsLegGreen.blp"
    set EV[JV] = 0
    set ZC = JV
    set JV = JV + 1
    set AU[JV] = 'I02U'
    set BU[JV] = 'I05Y'
    set CU[JV] = 0
    set LU[JV] = 'I01Q'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNWirtsLeg.blp"
    set EV[JV] = 0
    set AC = JV
    set JV = JV + 1
    set AU[JV] = 'I060'
    set BU[JV] = 'I05Z'
    set CU[JV] = 0
    set LU[JV] = 'I01S'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNWirtsLegBlue.blp"
    set EV[JV] = 0
    set BC = JV
    set JV = JV + 1
    set AU[JV] = 'I06E'
    set BU[JV] = 'I06D'
    set CU[JV] = 0
    set LU[JV] = 'I01T'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
    set EV[JV] = 100
    set CC = JV
    set JV = JV + 1
    set AU[JV] = 'I0NO'
    set BU[JV] = 'I0NN'
    set CU[JV] = 0
    set LU[JV] = 'I0NP'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
    set EV[JV] = 100
    set LC = JV
    set JV = JV + 1
    set AU[JV] = 'I06G'
    set BU[JV] = 'I06F'
    set CU[JV] = 0
    set LU[JV] = 'I01U'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Mace_10.blp"
    set EV[JV] = 0
    set H3 = JV
    set JV = JV + 1
    set AU[JV] = 'I06I'
    set BU[JV] = 'I06H'
    set CU[JV] = 0
    set LU[JV] = 'I01V'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRunedBracers.blp"
    set EV[JV] = 0
    set M3 = JV
    set JV = JV + 1
    set AU[JV] = 'I06K'
    set BU[JV] = 'I06J'
    set CU[JV] = 0
    set LU[JV] = 'I01W'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
    set EV[JV] = 0
    set N3 = JV
    set JV = JV + 1
    set AU[JV] = 'I06M'
    set BU[JV] = 'I06L'
    set CU[JV] = 0
    set LU[JV] = 'I01X'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNTalisman.tga"
    set EV[JV] = 0
    set R3 = JV
    set JV = JV + 1
    set AU[JV] = 'I08F'
    set BU[JV] = 'I08G'
    set CU[JV] = 0
    set LU[JV] = 'I01Y'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_10.blp"
    set EV[JV] = 0
    set U3 = JV
    set JV = JV + 1
    set AU[JV] = 'I08I'
    set BU[JV] = 'I08H'
    set CU[JV] = 0
    set LU[JV] = 'I01Z'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNJapaneseSword.blp"
    set EV[JV] = 0
    set W3 = JV
    set JV = JV + 1
    set AU[JV] = 'I08J'
    set BU[JV] = 'I08K'
    set CU[JV] = 0
    set LU[JV] = 'I020'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
    set EV[JV] = 0
    set X3 = JV
    set JV = JV + 1
    set AU[JV] = 'I08M'
    set BU[JV] = 'I08L'
    set CU[JV] = 0
    set LU[JV] = 'I0C8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
    set EV[JV] = 0
    set Y3 = JV
    set JV = JV + 1
    set AU[JV] = 'I08N'
    set BU[JV] = 'I08O'
    set CU[JV] = 0
    set LU[JV] = 'I021'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate06.blp"
    set EV[JV] = 17
    set Z3 = JV
    set JV = JV + 1
    set AU[JV] = 'I08Q'
    set BU[JV] = 'I08P'
    set CU[JV] = 0
    set LU[JV] = 'I022'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNStormHammer.blp"
    set EV[JV] = 0
    set B3 = JV
    set JV = JV + 1
    set AU[JV] = 'I08S'
    set BU[JV] = 'I08R'
    set CU[JV] = 0
    set LU[JV] = 'I023'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
    set EV[JV] = 12
    set C3 = JV
    set JV = JV + 1
    set AU[JV] = 'I0JB'
    set BU[JV] = 'I0J9'
    set CU[JV] = 0
    set LU[JV] = 'I0JD'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
    set EV[JV] = 12
    set E6 = JV
    set JV = JV + 1
    set AU[JV] = 'I0EW'
    set BU[JV] = 'I0EV'
    set CU[JV] = 0
    set LU[JV] = 'I0EX'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
    set EV[JV] = 0
    set F6 = JV
    set JV = JV + 1
    set AU[JV] = 'I0JC'
    set BU[JV] = 'I0JA'
    set CU[JV] = 0
    set LU[JV] = 'I0JE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"
    set EV[JV] = 0
    set G6 = JV
    set JV = JV + 1
    set AU[JV] = 'I08U'
    set BU[JV] = 'I08T'
    set CU[JV] = 0
    set LU[JV] = 'I024'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
    set EV[JV] = 60
    set H6 = JV
    set JV = JV + 1
    set AU[JV] = 'I08W'
    set BU[JV] = 'I08V'
    set CU[JV] = 0
    set LU[JV] = 'I0CO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
    set EV[JV] = 0
    set N6 = JV
    set JV = JV + 1
    set AU[JV] = 'I08X'
    set BU[JV] = 'I08Y'
    set CU[JV] = 0
    set LU[JV] = 'I025'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHelmOfValor.blp"
    set EV[JV] = 22
    set S6 = JV
    set JV = JV + 1
    set AU[JV] = 'I090'
    set BU[JV] = 'I08Z'
    set CU[JV] = 0
    set LU[JV] = 'I026'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNStaffofpurification.blp"
    set EV[JV] = 30
    set V6 = JV
    set JV = JV + 1
    set AU[JV] = 'I092'
    set BU[JV] = 'I091'
    set CU[JV] = 0
    set LU[JV] = 'I027'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNPhilosophersStone.blp"
    set EV[JV] = 0
    set W6 = JV
    set JV = JV + 1
    set AU[JV] = 'I094'
    set BU[JV] = 'I093'
    set CU[JV] = 0
    set LU[JV] = 'I028'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"
    set EV[JV] = 45
    set X6 = JV
    set JV = JV + 1
    set AU[JV] = 'I096'
    set BU[JV] = 'I095'
    set CU[JV] = 0
    set LU[JV] = 'I029'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSpell_Holy_BlessingOfStrength.blp"
    set EV[JV] = 0
    set A6 = JV
    set JV = JV + 1
    set AU[JV] = 'I098'
    set BU[JV] = 'I097'
    set CU[JV] = 0
    set LU[JV] = 'I02A'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAbility_Gouge.blp"
    set EV[JV] = 0
    set DL = JV
    set JV = JV + 1
    set AU[JV] = 'I09A'
    set BU[JV] = 'I099'
    set CU[JV] = 0
    set LU[JV] = 'I02B'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_06.blp"
    set EV[JV] = 0
    set HL = JV
    set JV = JV + 1
    set AU[JV] = 'I09B'
    set BU[JV] = 'I09C'
    set CU[JV] = 0
    set LU[JV] = 'I02C'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp"
    set EV[JV] = 0
    set OL = JV
    set JV = JV + 1
    set AU[JV] = 'I0G2'
    set BU[JV] = 'I0FZ'
    set CU[JV] = 0
    set LU[JV] = 'I0G8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set EV[JV] = 80
    set RL = JV
    set JV = JV + 1
    set AU[JV] = 'I0G6'
    set BU[JV] = 'I0G0'
    set CU[JV] = 0
    set LU[JV] = 'I0G9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set EV[JV] = 75
    set WL = JV
    set JV = JV + 1
    set AU[JV] = 'I09E'
    set BU[JV] = 'I0FY'
    set CU[JV] = 0
    set LU[JV] = 'I0G7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set EV[JV] = 70
    set ZL = JV
    set JV = JV + 1
    set AU[JV] = 'I0G5'
    set BU[JV] = 'I0FS'
    set CU[JV] = 0
    set LU[JV] = 'I02D'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set EV[JV] = 65
    set AL = JV
    set JV = JV + 1
    set AU[JV] = 'I0G3'
    set BU[JV] = 'I09D'
    set CU[JV] = 0
    set LU[JV] = 'I0GB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set EV[JV] = 60
    set LL = JV
    set JV = JV + 1
    set AU[JV] = 'I0G4'
    set BU[JV] = 'I0G1'
    set CU[JV] = 0
    set LU[JV] = 'I0GA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set EV[JV] = 55
    set D1 = JV
    set JV = JV + 1
    set AU[JV] = 'I0P6'
    set BU[JV] = 'I0P8'
    set CU[JV] = 0
    set LU[JV] = 'I0P7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set EV[JV] = 50
    set E1 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AX'
    set BU[JV] = 'I0AW'
    set CU[JV] = 0
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp"
    set EV[JV] = 0
    set F1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09G'
    set BU[JV] = 'I09F'
    set CU[JV] = 0
    set LU[JV] = 'I02E'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
    set EV[JV] = 35
    set H1 = JV
    set JV = JV + 1
    set AU[JV] = 'I0MV'
    set BU[JV] = 'I0MU'
    set CU[JV] = 0
    set LU[JV] = 'I0MW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
    set EV[JV] = 50
    set J1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09I'
    set BU[JV] = 'I09H'
    set CU[JV] = 0
    set LU[JV] = 'I02F'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Axe_16.BLP"
    set EV[JV] = 22
    set O1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09K'
    set BU[JV] = 'I09M'
    set CU[JV] = 0
    set LU[JV] = 'I01G'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set EV[JV] = 40
    set P1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09J'
    set BU[JV] = 'I09P'
    set CU[JV] = 0
    set LU[JV] = 'I02G'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set EV[JV] = 36
    set Q1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09Q'
    set BU[JV] = 'I09N'
    set CU[JV] = 0
    set LU[JV] = 'I0DC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set EV[JV] = 32
    set R1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09S'
    set BU[JV] = 'I09O'
    set CU[JV] = 0
    set LU[JV] = 'I0DD'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set EV[JV] = 28
    set T1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09R'
    set BU[JV] = 'I09L'
    set CU[JV] = 0
    set LU[JV] = 'I0D3'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set EV[JV] = 24
    set U1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09U'
    set BU[JV] = 'I09T'
    set CU[JV] = 0
    set LU[JV] = 'I02H'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNNecromancerAdept.blp"
    set EV[JV] = 90
    set V1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09V'
    set BU[JV] = 'I09X'
    set CU[JV] = 0
    set LU[JV] = 'I02I'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBookOfTheDead.blp"
    set EV[JV] = 90
    set X1 = JV
    set JV = JV + 1
    set AU[JV] = 'I09W'
    set BU[JV] = 'I09Y'
    set CU[JV] = 0
    set LU[JV] = 'I02J'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNNecromancerMaster.blp"
    set EV[JV] = 90
    set A1 = JV
    set JV = JV + 1
    set AU[JV] = 'I0A0'
    set BU[JV] = 'I09Z'
    set CU[JV] = 0
    set LU[JV] = 'I0BO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
    set EV[JV] = 0
    set D0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0HK'
    set BU[JV] = 'I0HJ'
    set CU[JV] = 0
    set LU[JV] = 'I0HL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
    set EV[JV] = 0
    set E0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0A2'
    set BU[JV] = 'I0A1'
    set CU[JV] = 0
    set LU[JV] = 'I0BP'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
    set EV[JV] = 0
    set J0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0LI'
    set BU[JV] = 'I0LJ'
    set CU[JV] = 0
    set LU[JV] = 'I0LK'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
    set EV[JV] = 0
    set N0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0A4'
    set BU[JV] = 'I0A3'
    set CU[JV] = 0
    set LU[JV] = 'I0BQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Crossbow_10.blp"
    set EV[JV] = 0
    set O0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0A6'
    set BU[JV] = 'I0A5'
    set CU[JV] = 0
    set LU[JV] = 'I0BR'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
    set EV[JV] = 0
    set R0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0K8'
    set BU[JV] = 'I0K7'
    set CU[JV] = 0
    set LU[JV] = 'I0K9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
    set EV[JV] = 0
    set T0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0A7'
    set BU[JV] = 'I0A8'
    set CU[JV] = 0
    set LU[JV] = 'I0BS'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
    set EV[JV] = 0
    set X0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0KQ'
    set BU[JV] = 'I0KP'
    set CU[JV] = 0
    set LU[JV] = 'I0KR'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
    set EV[JV] = 0
    set Y0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AA'
    set BU[JV] = 'I0A9'
    set CU[JV] = 0
    set LU[JV] = 'I0BT'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
    set EV[JV] = 0
    set B0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AA'
    set BU[JV] = 'I0KL'
    set CU[JV] = 0
    set LU[JV] = 'I0KM'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNInactiveHeart.blp"
    set EV[JV] = 0
    set C0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AC'
    set BU[JV] = 'I0AB'
    set CU[JV] = 0
    set LU[JV] = 'I0BU'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHornOfDoom.blp"
    set EV[JV] = 35
    set F5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AD'
    set BU[JV] = 'I0AE'
    set CU[JV] = 0
    set LU[JV] = 'I0BV'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
    set EV[JV] = 0
    set G5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AG'
    set BU[JV] = 'I0AF'
    set CU[JV] = 0
    set LU[JV] = 'I0CT'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
    set EV[JV] = 0
    set J5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AH'
    set BU[JV] = 'I0AI'
    set CU[JV] = 0
    set LU[JV] = 'I0BW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"
    set EV[JV] = 25
    set M5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0B8'
    set BU[JV] = 'I0AY'
    set CU[JV] = 0
    set LU[JV] = 'I00B'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set E24 = JV
    set JV = JV + 1
    set AU[JV] = 'I0AK'
    set BU[JV] = 'I0AJ'
    set CU[JV] = 0
    set LU[JV] = 'I0BX'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHeartOfSearinox.blp"
    set EV[JV] = 210
    set N5 = JV
    set JV = JV + 1
    set AU[JV] = 'I07K'
    set BU[JV] = 'I0AL'
    set CU[JV] = 0
    set LU[JV] = 'I0BY'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_09.blp"
    set EV[JV] = 35
    set R5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0BB'
    set BU[JV] = 'I0BA'
    set CU[JV] = 0
    set LU[JV] = 'I0BZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
    set EV[JV] = 0
    set S5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0LE'
    set BU[JV] = 'I0LC'
    set CU[JV] = 0
    set LU[JV] = 'I0LD'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
    set EV[JV] = 0
    set T5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0BC'
    set BU[JV] = 'I0BD'
    set CU[JV] = 0
    set LU[JV] = 'I00C'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNArcaneRing.blp"
    set EV[JV] = 33
    set W5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0BF'
    set BU[JV] = 'I0BE'
    set CU[JV] = 0
    set LU[JV] = 'I0C0'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNThunderMallet.blp"
    set EV[JV] = 35
    set A5 = JV
    set JV = JV + 1
    set AU[JV] = 'I014'
    set BU[JV] = 'I01D'
    set CU[JV] = 0
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRavenForm.blp"
    set EV[JV] = 0
    set B5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0BH'
    set BU[JV] = 'I0BG'
    set CU[JV] = 0
    set LU[JV] = 'I0C1'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNCloakOfFlames.blp"
    set EV[JV] = 0
    set C5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0BI'
    set BU[JV] = 'I0BJ'
    set CU[JV] = 0
    set LU[JV] = 'I0C2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_14.blp"
    set EV[JV] = 0
    set L5 = JV
    set JV = JV + 1
    set AU[JV] = 'I0BL'
    set BU[JV] = 'I0BK'
    set CU[JV] = 0
    set LU[JV] = 'I0C3'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Bloodstone_02.blp"
    set EV[JV] = 70
    set E2 = JV
    set JV = JV + 1
    set AU[JV] = 'I0QX'
    set BU[JV] = 'I0QY'
    set CU[JV] = 0
    set LU[JV] = 'I0QZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNCrimsonGuard.blp"
    set EV[JV] = 0
    set AZ40 = JV
    set JV = JV + 1
    set AU[JV] = 'I0BN'
    set BU[JV] = 'I0BM'
    set CU[JV] = 0
    set LU[JV] = 'I0C4'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHoodOfCunning.blp"
    set EV[JV] = 60
    set F2 = JV
    set JV = JV + 1
    set AU[JV] = 'I00S'
    set BU[JV] = 'I00M'
    set CU[JV] = 0
    set LU[JV] = 'I01C'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
    set EV[JV] = 0
    set H2 = JV
    set JV = JV + 1
    set AU[JV] = 'I00T'
    set BU[JV] = 'I00Q'
    set CU[JV] = 0
    set LU[JV] = 'I01E'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
    set EV[JV] = 0
    set P2 = JV
    set JV = JV + 1
    set AU[JV] = 'I00V'
    set BU[JV] = 'I00N'
    set CU[JV] = 0
    set LU[JV] = 'I01F'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
    set EV[JV] = 0
    set R2 = JV
    set JV = JV + 1
    set AU[JV] = 'I00W'
    set BU[JV] = 'I00R'
    set CU[JV] = 0
    set LU[JV] = 'I0DE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
    set EV[JV] = 0
    set S2 = JV
    set JV = JV + 1
    set AU[JV] = 'I00X'
    set BU[JV] = 'I00Z'
    set CU[JV] = 0
    set LU[JV] = 'I0CF'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
    set EV[JV] = 30
    set T2 = JV
    set JV = JV + 1
    set AU[JV] = 'I00Y'
    set BU[JV] = 'I010'
    set CU[JV] = 0
    set LU[JV] = 'I0DF'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
    set EV[JV] = 0
    set W2 = JV
    set JV = JV + 1
    set AU[JV] = 'I013'
    set BU[JV] = 'I012'
    set CU[JV] = 0
    set LU[JV] = 'I0CB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNStaffOfSilence.blp"
    set EV[JV] = 18
    set X2 = JV
    set JV = JV + 1
    set AU[JV] = 'I0GK'
    set BU[JV] = 'I0GJ'
    set CU[JV] = 0
    set LU[JV] = 'I0GL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Boots_Chain_08.blp"
    set EV[JV] = 8
    set Z2 = JV
    set JV = JV + 1
    set AU[JV] = 'I0HG'
    set BU[JV] = 'I0HI'
    set CU[JV] = 0
    set LU[JV] = 'I0HH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNForceStaff.blp"
    set EV[JV] = 20
    set D74 = JV
    set JV = JV + 1
    set AU[JV] = 'I0I0'
    set BU[JV] = 'I0K6'
    set CU[JV] = 0
    set LU[JV] = 'I0I2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNPipeOfInsight.blp"
    set EV[JV] = 60
    set D84 = JV
    set JV = JV + 1
    set AU[JV] = 'I0JG'
    set BU[JV] = 'I0JF'
    set CU[JV] = 0
    set LU[JV] = 'I0JH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
    set EV[JV] = 12
    set D94 = JV
    set JV = JV + 1
    set AU[JV] = 'I0KD'
    set BU[JV] = 'I0KF'
    set CU[JV] = 0
    set LU[JV] = 'I0KE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
    set EV[JV] = 12
    set DD4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0KX'
    set BU[JV] = 'I0KY'
    set CU[JV] = 0
    set LU[JV] = 'I0KZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
    set EV[JV] = 8
    set DE4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0LG'
    set BU[JV] = 'I0LF'
    set CU[JV] = 0
    set LU[JV] = 'I0LH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
    set EV[JV] = 0
    set DF4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0LP'
    set BU[JV] = 'I0LL'
    set CU[JV] = 0
    set LU[JV] = 'I0LQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSoulRing.blp"
    set EV[JV] = 30
    set EP4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0LR'
    set BU[JV] = 'I0LT'
    set CU[JV] = 0
    set LU[JV] = 'I0LS'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_60.blp"
    set EV[JV] = 30
    set EQ4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0MJ'
    set BU[JV] = 'I0MI'
    set CU[JV] = 0
    set LU[JV] = 'I0MK'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNArcaneBoots.blp"
    set EV[JV] = 55
    set ET4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0N1'
    set BU[JV] = 'I0N0'
    set CU[JV] = 0
    set LU[JV] = 'I0N2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNMedalionOfCourage.blp"
    set EV[JV] = 7
    set FC = JV
    set JV = JV + 1
    set AU[JV] = 'I0ND'
    set BU[JV] = 'I0NE'
    set CU[JV] = 0
    set LU[JV] = 'I0NC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
    set EV[JV] = 30
    set YZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0NL'
    set BU[JV] = 'I0NK'
    set CU[JV] = 0
    set LU[JV] = 'I0NM'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"
    set EV[JV] = 0
    set AZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0O2'
    set BU[JV] = 'I0O3'
    set CU[JV] = 0
    set LU[JV] = 'I0O4'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
    set EV[JV] = 20
    set GC = JV
    set JV = JV + 1
    set AU[JV] = 'I0OC'
    set BU[JV] = 'I0OE'
    set CU[JV] = 0
    set LU[JV] = 'I0OD'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"
    set EV[JV] = 30
    set BZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0OF'
    set BU[JV] = 'I0OG'
    set CU[JV] = 0
    set LU[JV] = 'I0OH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
    set EV[JV] = 60
    set CZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0OJ'
    set BU[JV] = 'I0OI'
    set CU[JV] = 0
    set LU[JV] = 'I0OK'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"
    set EV[JV] = 60
    set IA = JV
    set JV = JV + 1
    set AU[JV] = 'I0OM'
    set BU[JV] = 'I0OL'
    set CU[JV] = 0
    set LU[JV] = 'I0ON'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNWitchDoctorMaster.blp"
    set EV[JV] = 16
    set JA = JV
    set JV = JV + 1
    set AU[JV] = 'I0OP'
    set BU[JV] = 'I0OO'
    set CU[JV] = 0
    set LU[JV] = 'I0OQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNMoonStone.blp"
    set EV[JV] = 20
    set NA = JV
    set JV = JV + 1
    set AU[JV] = 'I0OU'
    set BU[JV] = 'I0OV'
    set CU[JV] = 0
    set LU[JV] = 'I0OW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_05.blp"
    set EV[JV] = 30
    set JC = JV
    set JV = JV + 1
    set AU[JV] = 'I0OY'
    set BU[JV] = 'I0OX'
    set CU[JV] = 0
    set LU[JV] = 'I0OZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAnnihilator.blp"
    set EV[JV] = 60
    set NC = JV
    set JV = JV + 1
    set AU[JV] = 'I0P0'
    set BU[JV] = 'I0P1'
    set CU[JV] = 0
    set LU[JV] = 'I0P2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
    set EV[JV] = 0
    set QA = JV
    set JV = JV + 1
    set AU[JV] = 'I0P3'
    set BU[JV] = 'I0P4'
    set CU[JV] = 0
    set LU[JV] = 'I0P5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"
    set EV[JV] = 0
    set VA = JV
    set JV = JV + 1
    set AU[JV] = 'PBMM'
    set BU[JV] = 'PBMN'
    set CU[JV] = 0
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
    set EV[JV] = 0
    set QB = JV
    set JV = JV + 1
    set AU[JV] = 'I0S6'
    set BU[JV] = 'I0S7'
    set CU[JV] = 'n12A'
    set LU[JV] = 'I0S8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSpell_Shadow_Brainwash.blp"
    set EV[JV] = 0
    set IEM = JV
    set JV = JV + 1
    set AU[JV] = 'I0SC'
    set BU[JV] = 'I0SD'
    set CU[JV] = 0
    set LU[JV] = 'I0SE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Boots_Plate_03.blp"
    set EV[JV] = 45
    set IGM = JV
    set JV = JV + 1
    set AU[JV] = 'I0SL'
    set BU[JV] = 'I0SM'
    set CU[JV] = 0
    set LU[JV] = 'I0SN'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_ShortBlade_29.blp"
    set EV[JV] = 24
    set IBY = JV
    set JV = JV + 1
    set AU[JV] = 'I0SR'
    set BU[JV] = 'I0SS'
    set CU[JV] = 0
    set LU[JV] = 'I0ST'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Neck_HyjalDaily_04.blp"
    set EV[JV] = 7
    set ISC = JV
    set JV = JV + 1
    set AU[JV] = 'I0SU'
    set BU[JV] = 'I0SV'
    set CU[JV] = 0
    set LU[JV] = 'I0SW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Sapphire_02.blp"
    set EV[JV] = 0
    set IOC = JV
    set JV = JV + 1
    set AU[JV] = 'I0T5'
    set BU[JV] = 'I0T6'
    set CU[JV] = 0
    set LU[JV] = 'I0T7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNLotusOrb.blp"
    set EV[JV] = 17
    set ILO = JV
    set JV = JV + 1
    set AU[JV] = 'I0U8'
    set BU[JV] = 'I0U9'
    set CU[JV] = 'n12U'
    set LU[JV] = 'I0UA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Obliterum_Ash.blp"
    set EV[JV] = 5
    set IFF = JV
    set JV = JV + 1
    set AU[JV] = 'I0UB'
    set BU[JV] = 'I0UC'
    set CU[JV] = 0
    set LU[JV] = 'I0UD'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_1h_DraenorCrafted_d_01_c_Horde.blp"
    set EV[JV] = 0
    set IDL = JV
    set JV = JV + 1
    set AU[JV] = 'I0UE'
    set BU[JV] = 'I0UF'
    set CU[JV] = 0
    set LU[JV] = 'I0UG'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Jewelcrafting_Necklace3_Blue.blp"
    set EV[JV] = 0
    set IAL = JV
    set JV = JV + 1
    set AU[JV] = 'I0UH'
    set BU[JV] = 'I0UI'
    set CU[JV] = 0
    set LU[JV] = 'I0UJ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Staff_2h_pvp410_c_01.blp"
    set EV[JV] = 0
    set IIT = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h02G'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h086'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I05L'
    set BU[JV] = 'I05R'
    set CU[JV] = 'h02H'
    set LU[JV] = 'I0DS'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DH4 = JV
    set JV = JV + 1
    set AU[JV] = 'I05M'
    set BU[JV] = 'I05S'
    set CU[JV] = 'h02I'
    set LU[JV] = 'I0DT'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DI4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h02J'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I05O'
    set BU[JV] = 'I05T'
    set CU[JV] = 'h02K'
    set LU[JV] = 'I0DU'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DJ4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h014'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DK4 = JV
    set JV = JV + 1
    set AU[JV] = 'I05P'
    set BU[JV] = 'I05U'
    set CU[JV] = 'h02L'
    set LU[JV] = 'I0DW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DM4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h02M'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I05K'
    set BU[JV] = 'I05V'
    set CU[JV] = 'h02N'
    set LU[JV] = 'I0DX'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DN4 = JV
    set JV = JV + 1
    set AU[JV] = 'I05N'
    set BU[JV] = 'I05W'
    set CU[JV] = 'h02O'
    set LU[JV] = 'I0DY'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DO4 = JV
    set JV = JV + 1
    set AU[JV] = 'I05Q'
    set BU[JV] = 'I05X'
    set CU[JV] = 'h02P'
    set LU[JV] = 'I0DZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DP4 = JV
    set JV = JV + 1
    set AU[JV] = 'I06N'
    set BU[JV] = 'I06O'
    set CU[JV] = 'h02Q'
    set LU[JV] = 'I0E0'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DQ4 = JV
    set JV = JV + 1
    set AU[JV] = 'I06Q'
    set BU[JV] = 'I06P'
    set CU[JV] = 'h02R'
    set LU[JV] = 'I0E1'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DR4 = JV
    set JV = JV + 1
    set AU[JV] = 'I06R'
    set BU[JV] = 'I06S'
    set CU[JV] = 'h02S'
    set LU[JV] = 'I0E2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DS4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h02T'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I06W'
    set BU[JV] = 'I06V'
    set CU[JV] = 'h02U'
    set LU[JV] = 'I0E4'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DT4 = JV
    set JV = JV + 1
    set AU[JV] = 'I06X'
    set BU[JV] = 'I06Y'
    set CU[JV] = 'h02V'
    set LU[JV] = 'I0E5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DU4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h02W'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I070'
    set BU[JV] = 'I06Z'
    set CU[JV] = 'h02X'
    set LU[JV] = 'I0E6'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DV4 = JV
    set JV = JV + 1
    set AU[JV] = 'I071'
    set BU[JV] = 'I072'
    set CU[JV] = 'h02Y'
    set LU[JV] = 'I0E7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DW4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h02Z'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I074'
    set BU[JV] = 'I073'
    set CU[JV] = 'h030'
    set LU[JV] = 'I0E8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DX4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h031'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set DY4 = JV
    set JV = JV + 1
    set AU[JV] = 'I076'
    set BU[JV] = 'I07V'
    set CU[JV] = 'h032'
    set LU[JV] = 'I0EA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DZ4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h033'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I077'
    set BU[JV] = 'I07W'
    set CU[JV] = 'h034'
    set LU[JV] = 'I0EB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DA4 = JV
    set JV = JV + 1
    set AU[JV] = 'I078'
    set BU[JV] = 'I07X'
    set CU[JV] = 'h035'
    set LU[JV] = 'I0EC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DB4 = JV
    set JV = JV + 1
    set AU[JV] = 'I079'
    set BU[JV] = 'I07Y'
    set CU[JV] = 'h036'
    set LU[JV] = 'I0ED'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DC4 = JV
    set JV = JV + 1
    set AU[JV] = 'I07A'
    set BU[JV] = 'I07Z'
    set CU[JV] = 0
    set LU[JV] = 'I0EE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set D34 = JV
    set JV = JV + 1
    set AU[JV] = 'I07B'
    set BU[JV] = 'I080'
    set CU[JV] = 'h038'
    set LU[JV] = 'I0EF'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set D64 = JV
    set JV = JV + 1
    set AU[JV] = 'I07C'
    set BU[JV] = 'I081'
    set CU[JV] = 'h039'
    set LU[JV] = 'I0EG'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set DL4 = JV
    set JV = JV + 1
    set AU[JV] = 'I07D'
    set BU[JV] = 'I082'
    set CU[JV] = 'h03A'
    set LU[JV] = 'I0EH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set D04 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h03C'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I07E'
    set BU[JV] = 'I083'
    set CU[JV] = 'h03D'
    set LU[JV] = 'I0EI'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set D54 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h03E'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I07G'
    set BU[JV] = 'I07F'
    set CU[JV] = 'h03F'
    set LU[JV] = 'I0EJ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set D24 = JV
    set JV = JV + 1
    set AU[JV] = 'I07H'
    set BU[JV] = 'I084'
    set CU[JV] = 'h03G'
    set LU[JV] = 'I0EK'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set D_4 = JV
    set JV = JV + 1
    set AU[JV] = 'I07O'
    set BU[JV] = 'I085'
    set CU[JV] = 'h03H'
    set LU[JV] = 'I0EL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set E44 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h03J'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set E74 = JV
    set JV = JV + 1
    set AU[JV] = 'I07J'
    set BU[JV] = 'I088'
    set CU[JV] = 'h03L'
    set LU[JV] = 'I0EO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set E84 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h03M'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h03N'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I07M'
    set BU[JV] = 'I089'
    set CU[JV] = 'h03O'
    set LU[JV] = 'I0EP'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set E94 = JV
    set JV = JV + 1
    set AU[JV] = 'I07P'
    set BU[JV] = 'I08A'
    set CU[JV] = 'h03Q'
    set LU[JV] = 'I0EQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set ED4 = JV
    set JV = JV + 1
    set AU[JV] = 'I07Q'
    set BU[JV] = 'I08B'
    set CU[JV] = 'h03R'
    set LU[JV] = 'I0ER'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EE4 = JV
    set JV = JV + 1
    set AU[JV] = 'I07R'
    set BU[JV] = 'I08C'
    set CU[JV] = 'h03S'
    set LU[JV] = 'I0ES'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EF4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h03U'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I07S'
    set BU[JV] = 'I08D'
    set CU[JV] = 'h03V'
    set LU[JV] = 'I0ET'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EG4 = JV
    set JV = JV + 1
    set AU[JV] = 'I07T'
    set BU[JV] = 'I08E'
    set CU[JV] = 'h03W'
    set LU[JV] = 'I0EU'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EH4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h079'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h07S'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set EI4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0HD'
    set BU[JV] = 'I0HF'
    set CU[JV] = 'h07T'
    set LU[JV] = 'I0HE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EJ4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0QR'
    set BU[JV] = 'I0QS'
    set CU[JV] = 'h03T'
    set LU[JV] = 'I0QT'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set AJ10 = JV
    set JV = JV + 1
    set AU[JV] = 'I0QU'
    set BU[JV] = 'I0QV'
    set CU[JV] = 'h0EU'
    set LU[JV] = 'I0QW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set AJO0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0PD'
    set BU[JV] = 'I0PE'
    set CU[JV] = 0
    set LU[JV] = 'I0PF'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EA4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0HX'
    set BU[JV] = 'I0HZ'
    set CU[JV] = 'h07X'
    set LU[JV] = 'I0HY'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EK4 = JV
    set JV = JV + 1
    set AU[JV] = 'I07L'
    set BU[JV] = 'I0KN'
    set CU[JV] = 'h03P'
    set LU[JV] = 'I0KO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EM4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0KW'
    set BU[JV] = 'I0KV'
    set CU[JV] = 'h0BA'
    set LU[JV] = 'I0KU'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EN4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0LM'
    set BU[JV] = 'I0LN'
    set CU[JV] = 'h0BQ'
    set LU[JV] = 'I0LO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EO4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0N9'
    set BU[JV] = 'I0NA'
    set CU[JV] = 'h0D1'
    set LU[JV] = 'I0NB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EU4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0NH'
    set BU[JV] = 'I0NI'
    set CU[JV] = 'h0CY'
    set LU[JV] = 'I0NJ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EV4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0OB'
    set BU[JV] = 'I0OA'
    set CU[JV] = 'h03X'
    set LU[JV] = 'I0O9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set EX4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0SF'
    set BU[JV] = 'I0SG'
    set CU[JV] = 'n12C'
    set LU[JV] = 'I0SH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set IMM = JV
    set JV = JV + 1
    set AU[JV] = 'I0SO'
    set BU[JV] = 'I0SP'
    set CU[JV] = 'n12D'
    set LU[JV] = 'I0SQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set IBM = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'n12E'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'n12F'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'n12V'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 'I0T2'
    set BU[JV] = 'I0T3'
    set CU[JV] = 'n12H'
    set LU[JV] = 'I0T4'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set ILM = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h0DD'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set EW4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0UK'
    set BU[JV] = 'I0UL'
    set CU[JV] = 'n12X'
    set LU[JV] = 'I0UM'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set ITS = JV
    set JV = JV + 1
    set AU[JV] = 'I0V3'
    set BU[JV] = 'I0V4'
    set CU[JV] = 'n12W'
    set LU[JV] = 'I0V5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set EV[JV] = 0
    set ALS = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h0DY'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h0DT'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set EY4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h0DU'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set EZ4 = JV
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h0E9'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h0EA'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set JV = JV + 1
    set AU[JV] = 0
    set BU[JV] = 0
    set CU[JV] = 'h0EC'
    set LU[JV] = 0
    set DV[JV] = ""
    set EV[JV] = 0
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function BM9))
    set HS4 = t
    set t = null
    set E54 = E54 + 1
    set EC4[E54] = AX
    set E34[E54] = SY
    set E04[E54] = QC
    set E54 = E54 + 1
    set EC4[E54] = EY
    set E34[E54] = SW
    set E64[E54] = DH4
    set E04[E54] = TC
    set E54 = E54 + 1
    set EC4[E54] = AV
    set E34[E54] = SW
    set E64[E54] = DI4
    set E04[E54] = VC
    set E54 = E54 + 1
    set EC4[E54] = DY
    set E34[E54] = IY
    set E04[E54] = WC
    set E54 = E54 + 1
    set EC4[E54] = MV
    set E34[E54] = DJ4
    set E04[E54] = YC
    set E54 = E54 + 1
    set EC4[E54] = YC
    set E34[E54] = DJ4
    set E04[E54] = DFX
    set E54 = E54 + 1
    set EC4[E54] = MV
    set E34[E54] = OV
    set E64[E54] = NV
    set E04[E54] = ZC
    set E54 = E54 + 1
    set EC4[E54] = MV
    set E34[E54] = SV
    set E64[E54] = NV
    set E04[E54] = AC
    set E54 = E54 + 1
    set EC4[E54] = MV
    set E34[E54] = FY
    set E64[E54] = NV
    set E04[E54] = BC
    set E54 = E54 + 1
    set EC4[E54] = NV
    set E34[E54] = DM4
    set E04[E54] = CC
    set E54 = E54 + 1
    set EC4[E54] = ZX
    set E34[E54] = FY
    set E64[E54] = IY
    set E04[E54] = H3
    set E54 = E54 + 1
    set EC4[E54] = QV
    set E34[E54] = HW
    set E64[E54] = DN4
    set E04[E54] = M3
    set E54 = E54 + 1
    set EC4[E54] = QV
    set E34[E54] = HY
    set E64[E54] = DO4
    set E04[E54] = N3
    set E54 = E54 + 1
    set EC4[E54] = QV
    set E34[E54] = VW
    set E64[E54] = DP4
    set E04[E54] = R3
    set E54 = E54 + 1
    set EC4[E54] = TV
    set E34[E54] = OV
    set E64[E54] = DQ4
    set E04[E54] = U3
    set E54 = E54 + 1
    set EC4[E54] = RX
    set E34[E54] = SV
    set E64[E54] = DR4
    set E04[E54] = W3
    set E54 = E54 + 1
    set EC4[E54] = TY
    set E34[E54] = SV
    set E64[E54] = DS4
    set E04[E54] = X3
    set E54 = E54 + 1
    set EC4[E54] = XV
    set E34[E54] = AV
    set E64[E54] = FY
    set E04[E54] = Z3
    set E54 = E54 + 1
    set EC4[E54] = GX
    set E34[E54] = NV
    set E64[E54] = DT4
    set E04[E54] = B3
    set E54 = E54 + 1
    set EC4[E54] = TV
    set E34[E54] = TV
    set E64[E54] = FY
    set EL4[E54] = DU4
    set E04[E54] = C3
    set E54 = E54 + 1
    set EC4[E54] = C3
    set E34[E54] = DU4
    set E04[E54] = E6
    set E54 = E54 + 1
    set EC4[E54] = F6
    set E34[E54] = DU4
    set E04[E54] = E6
    set E54 = E54 + 1
    set EC4[E54] = QW
    set E34[E54] = YW
    set E04[E54] = H6
    set E54 = E54 + 1
    set EC4[E54] = YW
    set E34[E54] = DV4
    set E04[E54] = S6
    set E54 = E54 + 1
    set EC4[E54] = SY
    set E34[E54] = JY
    set E64[E54] = IY
    set EL4[E54] = DW4
    set E04[E54] = V6
    set E54 = E54 + 1
    set EC4[E54] = YX
    set E34[E54] = EW
    set E64[E54] = QY
    set E04[E54] = W6
    set E54 = E54 + 1
    set EC4[E54] = TC
    set E34[E54] = VC
    set E64[E54] = DX4
    set E04[E54] = X6
    set E54 = E54 + 1
    set EC4[E54] = W3
    set E34[E54] = U3
    set E04[E54] = A6
    set E54 = E54 + 1
    set EC4[E54] = GX
    set E34[E54] = GX
    set E64[E54] = DZ4
    set E04[E54] = DL
    set E54 = E54 + 1
    set EC4[E54] = QC
    set E34[E54] = XV
    set E64[E54] = BV
    set EL4[E54] = NZ
    set E04[E54] = HL
    set E54 = E54 + 1
    set EC4[E54] = UV
    set E34[E54] = XV
    set E64[E54] = DA4
    set E04[E54] = OL
    set E54 = E54 + 1
    set EC4[E54] = GX
    set E34[E54] = RX
    set E64[E54] = DB4
    set E04[E54] = RL
    set E54 = E54 + 1
    set EC4[E54] = U3
    set E34[E54] = PY
    set E64[E54] = DC4
    set E04[E54] = J1
    set E54 = E54 + 1
    set EC4[E54] = BV
    set E34[E54] = OC
    set E04[E54] = O1
    set E54 = E54 + 1
    set EC4[E54] = SX
    set E34[E54] = OC
    set E04[E54] = PC
    set E54 = E54 + 1
    set EC4[E54] = JY
    set E34[E54] = R3
    set E64[E54] = D64
    set E04[E54] = P1
    set E54 = E54 + 1
    set EC4[E54] = P1
    set E34[E54] = D64
    set E04[E54] = Q1
    set E54 = E54 + 1
    set EC4[E54] = Q1
    set E34[E54] = D64
    set E04[E54] = R1
    set E54 = E54 + 1
    set EC4[E54] = R1
    set E34[E54] = D64
    set E04[E54] = T1
    set E54 = E54 + 1
    set EC4[E54] = T1
    set E34[E54] = D64
    set E04[E54] = U1
    set E54 = E54 + 1
    set EC4[E54] = JY
    set E34[E54] = SV
    set E64[E54] = DL4
    set E04[E54] = V1
    set E54 = E54 + 1
    set EC4[E54] = V1
    set E34[E54] = DL4
    set E04[E54] = X1
    set E54 = E54 + 1
    set EC4[E54] = X1
    set E34[E54] = DL4
    set E04[E54] = A1
    set E54 = E54 + 1
    set EC4[E54] = PY
    set E34[E54] = QC
    set E64[E54] = D04
    set E04[E54] = D0
    set E54 = E54 + 1
    set EC4[E54] = CV
    set E34[E54] = GY
    set E04[E54] = J0
    set E54 = E54 + 1
    set EC4[E54] = OL
    set E34[E54] = CV
    set E64[E54] = D54
    set E04[E54] = O0
    set E54 = E54 + 1
    set EC4[E54] = CV
    set E34[E54] = TY
    set E64[E54] = TY
    set E04[E54] = R0
    set E54 = E54 + 1
    set EC4[E54] = GY
    set E34[E54] = D24
    set E04[E54] = X0
    set E54 = E54 + 1
    set EC4[E54] = ZW
    set E34[E54] = QY
    set E64[E54] = D_4
    set E04[E54] = B0
    set E54 = E54 + 1
    set EC4[E54] = ZW
    set E34[E54] = H6
    set E64[E54] = E44
    set E04[E54] = F5
    set E54 = E54 + 1
    set EC4[E54] = ZW
    set E34[E54] = N6
    set E64[E54] = E44
    set E04[E54] = F5
    set E54 = E54 + 1
    set EC4[E54] = PY
    set E34[E54] = PY
    set E64[E54] = YX
    set EL4[E54] = ER4
    set E04[E54] = G5
    set E54 = E54 + 1
    set EC4[E54] = LV
    set E34[E54] = ZX
    set E64[E54] = RZ
    set E04[E54] = M5
    set E54 = E54 + 1
    set EC4[E54] = IY
    set E34[E54] = AV
    set E64[E54] = EV4
    set E04[E54] = FC
    set E54 = E54 + 1
    set EC4[E54] = TV
    set E34[E54] = RX
    set E64[E54] = YX
    set EL4[E54] = JY
    set E04[E54] = E24
    set E54 = E54 + 1
    set EC4[E54] = QC
    set E34[E54] = QC
    set E64[E54] = E84
    set E04[E54] = N5
    set E54 = E54 + 1
    set EC4[E54] = PY
    set E34[E54] = NX
    set E64[E54] = SY
    set E04[E54] = R5
    set E54 = E54 + 1
    set EC4[E54] = QY
    set E34[E54] = AX
    set E64[E54] = MY
    set E04[E54] = S5
    set E54 = E54 + 1
    set EC4[E54] = QY
    set E34[E54] = AX
    set E64[E54] = OY
    set E04[E54] = S5
    set E54 = E54 + 1
    set EC4[E54] = EW
    set E34[E54] = DY
    set E64[E54] = E94
    set E04[E54] = W5
    set E54 = E54 + 1
    set EC4[E54] = RW
    set E34[E54] = B3
    set E64[E54] = EM4
    set E04[E54] = A5
    set E54 = E54 + 1
    set EC4[E54] = RB
    set E64[E54] = ED4
    set E04[E54] = B5
    set E54 = E54 + 1
    set EC4[E54] = TC
    set E34[E54] = WC
    set E64[E54] = YW
    set EL4[E54] = EE4
    set E04[E54] = C5
    set E54 = E54 + 1
    set EC4[E54] = TC
    set E34[E54] = XC
    set E64[E54] = YW
    set EL4[E54] = EE4
    set E04[E54] = C5
    set E54 = E54 + 1
    set EC4[E54] = RW
    set E34[E54] = WX
    set E64[E54] = AV
    set EL4[E54] = EF4
    set E04[E54] = L5
    set E54 = E54 + 1
    set EC4[E54] = W6
    set E34[E54] = EP4
    set E64[E54] = AJ10
    set E04[E54] = E2
    set E54 = E54 + 1
    set EC4[E54] = S5
    set E34[E54] = VC
    set E64[E54] = AJO0
    set E04[E54] = AZ40
    set E54 = E54 + 1
    set EC4[E54] = T5
    set E34[E54] = VC
    set E64[E54] = AJO0
    set E04[E54] = AZ40
    set E54 = E54 + 1
    set EC4[E54] = EY
    set E34[E54] = EY
    set E64[E54] = AX
    set EL4[E54] = SX
    set E04[E54] = F2
    set E54 = E54 + 1
    set EC4[E54] = NV
    set E34[E54] = QW
    set E64[E54] = UV
    set EL4[E54] = EG4
    set E04[E54] = P2
    set E54 = E54 + 1
    set EC4[E54] = NX
    set E34[E54] = WX
    set E64[E54] = EH4
    set E04[E54] = T2
    set E54 = E54 + 1
    set EC4[E54] = H3
    set E34[E54] = H3
    set E64[E54] = EX4
    set E04[E54] = X2
    set E54 = E54 + 1
    set EC4[E54] = MV
    set E34[E54] = UV
    set E64[E54] = UV
    set E04[E54] = Z2
    set E54 = E54 + 1
    set EC4[E54] = HZ
    set E34[E54] = SW
    set E64[E54] = SW
    set EL4[E54] = QV
    set E04[E54] = D44
    set E54 = E54 + 1
    set EC4[E54] = JY
    set E34[E54] = EY
    set E64[E54] = EJ4
    set E04[E54] = D74
    set E54 = E54 + 1
    set EC4[E54] = F2
    set E34[E54] = TC
    set E64[E54] = EK4
    set E04[E54] = D84
    set E54 = E54 + 1
    set EC4[E54] = MY
    set E34[E54] = HY
    set E64[E54] = HY
    set E04[E54] = D94
    set E54 = E54 + 1
    set EC4[E54] = OY
    set E34[E54] = HY
    set E64[E54] = HY
    set E04[E54] = D94
    set E54 = E54 + 1
    set EC4[E54] = IY
    set E34[E54] = HW
    set E64[E54] = HW
    set EL4[E54] = EN4
    set E04[E54] = DE4
    set E54 = E54 + 1
    set EC4[E54] = IY
    set E34[E54] = EY
    set E64[E54] = EO4
    set E04[E54] = EP4
    set E54 = E54 + 1
    set EC4[E54] = LV
    set E34[E54] = DG4
    set E04[E54] = EQ4
    set E54 = E54 + 1
    set EC4[E54] = MV
    set E34[E54] = EW
    set E04[E54] = ET4
    set E54 = E54 + 1
    set EC4[E54] = FY
    set E34[E54] = M3
    set E64[E54] = EU4
    set E04[E54] = YZ
    set E54 = E54 + 1
    set EC4[E54] = YZ
    set E34[E54] = EU4
    set E04[E54] = YZ
    set E54 = E54 + 1
    set EC4[E54] = AZ
    set E34[E54] = EU4
    set E04[E54] = YZ
    set E54 = E54 + 1
    set EC4[E54] = QW
    set E34[E54] = R3
    set E64[E54] = FY
    set EL4[E54] = FY
    set E04[E54] = GC
    set E54 = E54 + 1
    set EC4[E54] = MV
    set E34[E54] = DY
    set E64[E54] = EY
    set E04[E54] = CZ
    set E54 = E54 + 1
    set EC4[E54] = JY
    set E34[E54] = JY
    set E64[E54] = QY
    set E04[E54] = JA
    set E54 = E54 + 1
    set EC4[E54] = W3
    set E34[E54] = RZ
    set E04[E54] = JC
    set E54 = E54 + 1
    set EC4[E54] = X3
    set E34[E54] = GY
    set E04[E54] = NC
    set E54 = E54 + 1
    set EC4[E54] = N3
    set E34[E54] = WC
    set E04[E54] = QA
    set E54 = E54 + 1
    set EC4[E54] = N3
    set E34[E54] = XC
    set E04[E54] = VA
    set E54 = E54 + 1
    set EC4[E54] = RW
    set E34[E54] = RW
    set E04[E54] = NA
    set E54 = E54 + 1
    set EC4[E54] = ET4
    set E34[E54] = X6
    set E64[E54] = IMM
    set E04[E54] = IGM
    set E54 = E54 + 1
    set EC4[E54] = O1
    set E34[E54] = W3
    set E64[E54] = IBM
    set E04[E54] = IBY
    set E54 = E54 + 1
    set EC4[E54] = FC
    set E34[E54] = RZ
    set E04[E54] = ISC
    set E54 = E54 + 1
    set EC4[E54] = QC
    set E34[E54] = WX
    set E64[E54] = ILM
    set E04[E54] = ILO
    set E54 = E54 + 1
    set EC4[E54] = NX
    set E34[E54] = W6
    set E04[E54] = IOC
    set E54 = E54 + 1
    set EC4[E54] = RX
    set E34[E54] = ZX
    set E04[E54] = IDL
    set E54 = E54 + 1
    set EC4[E54] = EW
    set E34[E54] = AX
    set E64[E54] = ALS
    set E04[E54] = IAL
    set E54 = E54 + 1
    set EC4[E54] = NZ
    set E34[E54] = DY
    set E64[E54] = ITS
    set E04[E54] = IIT
    set JV = JV + 1
    set AU[JV] = 'I0AZ'
    set BU[JV] = 'I011'
    set CU[JV] = 0
    set LU[JV] = 'I0EY'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set E_4 = JV
    set JV = JV + 1
    set AU[JV] = 'I00F'
    set BU[JV] = 'I00D'
    set CU[JV] = 0
    set LU[JV] = 'I0EZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F44 = JV
    set JV = JV + 1
    set AU[JV] = 'I0R9'
    set BU[JV] = 'I0RA'
    set CU[JV] = 0
    set LU[JV] = 'I0RB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL60 = JV
    set JV = JV + 1
    set AU[JV] = 'I0R6'
    set BU[JV] = 'I0R7'
    set CU[JV] = 0
    set LU[JV] = 'I0R8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL50 = JV
    set JV = JV + 1
    set AU[JV] = 'I018'
    set BU[JV] = 'I009'
    set CU[JV] = 0
    set LU[JV] = 'I0F0'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F74 = JV
    set JV = JV + 1
    set AU[JV] = 'I019'
    set BU[JV] = 'I005'
    set CU[JV] = 0
    set LU[JV] = 'I0F6'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F84 = JV
    set JV = JV + 1
    set AU[JV] = 'I01A'
    set BU[JV] = 'I00G'
    set CU[JV] = 0
    set LU[JV] = 'I0F1'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F94 = JV
    set JV = JV + 1
    set AU[JV] = 'I01B'
    set BU[JV] = 'I004'
    set CU[JV] = 0
    set LU[JV] = 'I0F2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FD4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0R3'
    set BU[JV] = 'I0R4'
    set CU[JV] = 0
    set LU[JV] = 'I0R5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL40 = JV
    set JV = JV + 1
    set AU[JV] = 'I01H'
    set BU[JV] = 'I003'
    set CU[JV] = 0
    set LU[JV] = 'I0F3'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FE4 = JV
    set JV = JV + 1
    set AU[JV] = 'I01I'
    set BU[JV] = 'I002'
    set CU[JV] = 0
    set LU[JV] = 'I0F5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FF4 = JV
    set JV = JV + 1
    set AU[JV] = 'I02K'
    set BU[JV] = 'I001'
    set CU[JV] = 0
    set LU[JV] = 'I0F4'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FG4 = JV
    set JV = JV + 1
    set AU[JV] = 'I02L'
    set BU[JV] = 'I00I'
    set CU[JV] = 0
    set LU[JV] = 'I0FE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FH4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0R1'
    set BU[JV] = 'I0R0'
    set CU[JV] = 0
    set LU[JV] = 'I0R2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AJK0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0B2'
    set BU[JV] = 'I00H'
    set CU[JV] = 0
    set LU[JV] = 'I0F9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FJ4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0B3'
    set BU[JV] = 'I00P'
    set CU[JV] = 0
    set LU[JV] = 'I0FA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FK4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0B4'
    set BU[JV] = 'I00U'
    set CU[JV] = 0
    set LU[JV] = 'I0F7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FM4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0B7'
    set BU[JV] = 'I000'
    set CU[JV] = 0
    set LU[JV] = 'I0FD'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FN4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0B6'
    set BU[JV] = 'I016'
    set CU[JV] = 0
    set LU[JV] = 'I0FC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FO4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0B5'
    set BU[JV] = 'I017'
    set CU[JV] = 0
    set LU[JV] = 'I0FB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FP4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0B9'
    set BU[JV] = 'I00O'
    set CU[JV] = 0
    set LU[JV] = 'I0F8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FQ4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0J5'
    set BU[JV] = 'I0IT'
    set CU[JV] = 0
    set LU[JV] = 'I0IJ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FR4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0IV'
    set BU[JV] = 'I0IU'
    set CU[JV] = 0
    set LU[JV] = 'I0I9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FS4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0IW'
    set BU[JV] = 'I0IS'
    set CU[JV] = 0
    set LU[JV] = 'I0II'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FT4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0IX'
    set BU[JV] = 'I0IR'
    set CU[JV] = 0
    set LU[JV] = 'I0IA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FU4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0IY'
    set BU[JV] = 'I0IQ'
    set CU[JV] = 0
    set LU[JV] = 'I0IH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FV4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0IZ'
    set BU[JV] = 'I0IK'
    set CU[JV] = 0
    set LU[JV] = 'I0IG'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FW4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0J0'
    set BU[JV] = 'I0IL'
    set CU[JV] = 0
    set LU[JV] = 'I0IF'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FX4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0J1'
    set BU[JV] = 'I0IM'
    set CU[JV] = 0
    set LU[JV] = 'I0IE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FY4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0J2'
    set BU[JV] = 'I0IP'
    set CU[JV] = 0
    set LU[JV] = 'I0ID'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FZ4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0J3'
    set BU[JV] = 'I0IO'
    set CU[JV] = 0
    set LU[JV] = 'I0IC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FA4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0J4'
    set BU[JV] = 'I0IN'
    set CU[JV] = 0
    set LU[JV] = 'I0IB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FB4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0I6'
    set BU[JV] = 'I0I7'
    set CU[JV] = 0
    set LU[JV] = 'I0I8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FC4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0JZ'
    set BU[JV] = 'I0JS'
    set CU[JV] = 0
    set LU[JV] = 'I0JR'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F34 = JV
    set JV = JV + 1
    set AU[JV] = 'I0K0'
    set BU[JV] = 'I0JT'
    set CU[JV] = 0
    set LU[JV] = 'I0JL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F64 = JV
    set JV = JV + 1
    set AU[JV] = 'I0K1'
    set BU[JV] = 'I0JU'
    set CU[JV] = 0
    set LU[JV] = 'I0JM'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FL4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0K2'
    set BU[JV] = 'I0JW'
    set CU[JV] = 0
    set LU[JV] = 'I0JN'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F14 = JV
    set JV = JV + 1
    set AU[JV] = 'I0K3'
    set BU[JV] = 'I0JV'
    set CU[JV] = 0
    set LU[JV] = 'I0JQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F04 = JV
    set JV = JV + 1
    set AU[JV] = 'I0K4'
    set BU[JV] = 'I0JY'
    set CU[JV] = 0
    set LU[JV] = 'I0JP'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F54 = JV
    set JV = JV + 1
    set AU[JV] = 'I0K5'
    set BU[JV] = 'I0JX'
    set CU[JV] = 0
    set LU[JV] = 'I0JO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F24 = JV
    set JV = JV + 1
    set AU[JV] = 'I0KI'
    set BU[JV] = 'I0KH'
    set CU[JV] = 0
    set LU[JV] = 'I0KJ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set F_4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0L4'
    set BU[JV] = 'I0L5'
    set CU[JV] = 0
    set LU[JV] = 'I0L8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set FI4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0L3'
    set BU[JV] = 'I0L0'
    set CU[JV] = 0
    set LU[JV] = 'I0L9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set G44 = JV
    set JV = JV + 1
    set AU[JV] = 'I0L2'
    set BU[JV] = 'I0L7'
    set CU[JV] = 0
    set LU[JV] = 'I0LA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set G74 = JV
    set JV = JV + 1
    set AU[JV] = 'I0L1'
    set BU[JV] = 'I0L6'
    set CU[JV] = 0
    set LU[JV] = 'I0LB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZBF = JV
    set JV = JV + 1
    set AU[JV] = 'I0LU'
    set BU[JV] = 'I0LV'
    set CU[JV] = 0
    set LU[JV] = 'I0LW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set G84 = JV
    set JV = JV + 1
    set AU[JV] = 'I0M1'
    set BU[JV] = 'I0M0'
    set CU[JV] = 0
    set LU[JV] = 'I0M2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set G94 = JV
    set JV = JV + 1
    set AU[JV] = 'I0M5'
    set BU[JV] = 'I0M4'
    set CU[JV] = 0
    set LU[JV] = 'I0M3'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GD4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0M6'
    set BU[JV] = 'I0M7'
    set CU[JV] = 0
    set LU[JV] = 'I0M8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GE4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0MF'
    set BU[JV] = 'I0MG'
    set CU[JV] = 0
    set LU[JV] = 'I0MH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GG4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0MM'
    set BU[JV] = 'I0ML'
    set CU[JV] = 0
    set LU[JV] = 'I0MN'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GH4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0MO'
    set BU[JV] = 'I0MP'
    set CU[JV] = 0
    set LU[JV] = 'I0MQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GI4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0NQ'
    set BU[JV] = 'I0NR'
    set CU[JV] = 0
    set LU[JV] = 'I0NS'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GJ4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0NT'
    set BU[JV] = 'I0NU'
    set CU[JV] = 0
    set LU[JV] = 'I0NV'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GK4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0NW'
    set BU[JV] = 'I0NX'
    set CU[JV] = 0
    set LU[JV] = 'I0NY'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GM4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0NZ'
    set BU[JV] = 'I0O0'
    set CU[JV] = 0
    set LU[JV] = 'I0O1'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GN4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0OR'
    set BU[JV] = 'I0OS'
    set CU[JV] = 0
    set LU[JV] = 'I0OT'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GO4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0PG'
    set BU[JV] = 'I0PH'
    set CU[JV] = 0
    set LU[JV] = 'I0PI'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GP4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0PJ'
    set BU[JV] = 'I0PK'
    set CU[JV] = 0
    set LU[JV] = 'I0PL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GQ4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0PP'
    set BU[JV] = 'I0PQ'
    set CU[JV] = 0
    set LU[JV] = 'I0PR'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set GR4 = JV
    set JV = JV + 1
    set AU[JV] = 'I0PS'
    set BU[JV] = 'I0PT'
    set CU[JV] = 0
    set LU[JV] = 'I0PU'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL00 = JV
    set JV = JV + 1
    set AU[JV] = 'I0PV'
    set BU[JV] = 'I0PW'
    set CU[JV] = 0
    set LU[JV] = 'I0PX'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set ALI0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0Q0'
    set BU[JV] = 'I0Q2'
    set CU[JV] = 0
    set LU[JV] = 'I0Q4'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set ALO0 = JV
    set JV = JV + 1
    set AU[JV] = 'I0Q1'
    set BU[JV] = 'I0Q3'
    set CU[JV] = 0
    set LU[JV] = 'I0Q5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL10 = JV
    set JV = JV + 1
    set AU[JV] = 'I0QL'
    set BU[JV] = 'I0QM'
    set CU[JV] = 0
    set LU[JV] = 'I0QN'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL20 = JV
    set JV = JV + 1
    set AU[JV] = 'I0QO'
    set BU[JV] = 'I0QP'
    set CU[JV] = 0
    set LU[JV] = 'I0QQ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL30 = JV
    set JV = JV + 1
    set AU[JV] = 'I0RJ'
    set BU[JV] = 'I0RK'
    set CU[JV] = 0
    set LU[JV] = 'I0RL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL70 = JV
    set JV = JV + 1
    set AU[JV] = 'I0RM'
    set BU[JV] = 'I0RN'
    set CU[JV] = 0
    set LU[JV] = 'I0RO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AL80 = JV
    set JV = JV + 1
    set AU[JV] = 'I0RU'
    set BU[JV] = 'I0RV'
    set CU[JV] = 0
    set LU[JV] = 'I0RW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZRM = JV
    set JV = JV + 1
    set AU[JV] = 'I0RX'
    set BU[JV] = 'I0RY'
    set CU[JV] = 0
    set LU[JV] = 'I0RZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZJT = JV
    set JV = JV + 1
    set AU[JV] = 'I0S0'
    set BU[JV] = 'I0S1'
    set CU[JV] = 0
    set LU[JV] = 'I0S2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZXD = JV
    set JV = JV + 1
    set AU[JV] = 'I0S3'
    set BU[JV] = 'I0S4'
    set CU[JV] = 0
    set LU[JV] = 'I0S5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZNJ = JV
    set JV = JV + 1
    set AU[JV] = 'I0TA'
    set BU[JV] = 'I0TB'
    set CU[JV] = 0
    set LU[JV] = 'I0TC'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZXQ = JV
    set JV = JV + 1
    set AU[JV] = 'I0TD'
    set BU[JV] = 'I0TE'
    set CU[JV] = 0
    set LU[JV] = 'I0TF'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AKLW = JV
    set JV = JV + 1
    set AU[JV] = 'I0TG'
    set BU[JV] = 'I0TH'
    set CU[JV] = 0
    set LU[JV] = 'I0TI'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZHM = JV
    set JV = JV + 1
    set AU[JV] = 'I0TJ'
    set BU[JV] = 'I0TK'
    set CU[JV] = 0
    set LU[JV] = 'I0TL'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZMY = JV
    set JV = JV + 1
    set AU[JV] = 'I0TM'
    set BU[JV] = 'I0TN'
    set CU[JV] = 0
    set LU[JV] = 'I0TO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZXG = JV
    set JV = JV + 1
    set AU[JV] = 'I0TP'
    set BU[JV] = 'I0TQ'
    set CU[JV] = 0
    set LU[JV] = 'I0TR'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZLJ = JV
    set JV = JV + 1
    set AU[JV] = 'I0UR'
    set BU[JV] = 'I0US'
    set CU[JV] = 0
    set LU[JV] = 'I0UT'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZCZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0UU'
    set BU[JV] = 'I0UV'
    set CU[JV] = 0
    set LU[JV] = 'I0UW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZCX = JV
    set JV = JV + 1
    set AU[JV] = 'I0UX'
    set BU[JV] = 'I0UY'
    set CU[JV] = 0
    set LU[JV] = 'I0UZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZYM = JV
    set JV = JV + 1
    set AU[JV] = 'I0V0'
    set BU[JV] = 'I0V1'
    set CU[JV] = 0
    set LU[JV] = 'I0V2'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZXZ = JV
    set JV = JV + 1
    set AU[JV] = 'I0WF'
    set BU[JV] = 'I0WG'
    set CU[JV] = 0
    set LU[JV] = 'I0WH'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZMM = JV
    set JV = JV + 1
    set AU[JV] = 'I0WL'
    set BU[JV] = 'I0WM'
    set CU[JV] = 0
    set LU[JV] = 'I0WN'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set EV[JV] = 60
    set AZXH = JV
    set JV = JV + 1
    set AU[JV] = 'I03A'
    set BU[JV] = 'I051'
    set CU[JV] = 'h08K'
    set LU[JV] = 'I0D9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
    set EV[JV] = 0
    set FV[JV] = MY
    set JV = JV + 1
    set AU[JV] = 'I03Y'
    set BU[JV] = 'I052'
    set CU[JV] = 'h08X'
    set LU[JV] = 'I0C9'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
    set EV[JV] = 0
    set FV[JV] = PY
    set JV = JV + 1
    set AU[JV] = 'I02S'
    set BU[JV] = 'I02P'
    set CU[JV] = 'h08S'
    set LU[JV] = 'I0CA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
    set EV[JV] = 0
    set FV[JV] = NV
    set JV = JV + 1
    set AU[JV] = 'I02N'
    set BU[JV] = 'I02R'
    set CU[JV] = 'h08P'
    set LU[JV] = 'I0CS'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
    set EV[JV] = 0
    set FV[JV] = OV
    set JV = JV + 1
    set AU[JV] = 'I02Z'
    set BU[JV] = 'I043'
    set CU[JV] = 'h08Q'
    set LU[JV] = 'I0CV'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
    set EV[JV] = 0
    set FV[JV] = SV
    set JV = JV + 1
    set AU[JV] = 'I031'
    set BU[JV] = 'I045'
    set CU[JV] = 'h08T'
    set LU[JV] = 'I0D5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
    set EV[JV] = 0
    set FV[JV] = UV
    set JV = JV + 1
    set AU[JV] = 'I03B'
    set BU[JV] = 'I04E'
    set CU[JV] = 'h08N'
    set LU[JV] = 'I0DA'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
    set EV[JV] = 0
    set FV[JV] = QW
    set JV = JV + 1
    set AU[JV] = 'I03E'
    set BU[JV] = 'I04H'
    set CU[JV] = 'h08W'
    set LU[JV] = 'I0C7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
    set EV[JV] = 18
    set FV[JV] = TW
    set JV = JV + 1
    set AU[JV] = 'I03G'
    set BU[JV] = 'I04K'
    set CU[JV] = 'h08O'
    set LU[JV] = 'I0CD'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
    set EV[JV] = 0
    set FV[JV] = YW
    set JV = JV + 1
    set AU[JV] = 'I03P'
    set BU[JV] = 'I04S'
    set CU[JV] = 'h08U'
    set LU[JV] = 'I0CY'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
    set EV[JV] = 0
    set FV[JV] = ZX
    set JV = JV + 1
    set AU[JV] = 'I03Q'
    set BU[JV] = 'I04T'
    set CU[JV] = 'h08G'
    set LU[JV] = 'I0DI'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
    set EV[JV] = 0
    set FV[JV] = AX
    set JV = JV + 1
    set AU[JV] = 'I03S'
    set BU[JV] = 'I04V'
    set CU[JV] = 'h08L'
    set LU[JV] = 'I0DJ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
    set EV[JV] = 0
    set FV[JV] = EY
    set JV = JV + 1
    set AU[JV] = 'I03T'
    set BU[JV] = 'I04W'
    set CU[JV] = 'h08R'
    set LU[JV] = 'I0CP'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
    set EV[JV] = 0
    set FV[JV] = FY
    set JV = JV + 1
    set AU[JV] = 'I03V'
    set BU[JV] = 'I04Y'
    set CU[JV] = 'h08E'
    set LU[JV] = 'I0C5'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
    set EV[JV] = 0
    set FV[JV] = HY
    set JV = JV + 1
    set AU[JV] = 'I03W'
    set BU[JV] = 'I04Z'
    set CU[JV] = 'h08J'
    set LU[JV] = 'I0DK'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
    set EV[JV] = 0
    set FV[JV] = IY
    set JV = JV + 1
    set AU[JV] = 'I0GD'
    set BU[JV] = 'I0GC'
    set CU[JV] = 'h08I'
    set LU[JV] = 'I0GE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNWand.blp"
    set EV[JV] = 0
    set FV[JV] = HZ
    set JV = JV + 1
    set AU[JV] = 'I0HT'
    set BU[JV] = 'I0HR'
    set CU[JV] = 'h08F'
    set LU[JV] = 'I0HW'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
    set EV[JV] = 0
    set FV[JV] = NZ
    set JV = JV + 1
    set AU[JV] = 'I0J7'
    set BU[JV] = 'I0J6'
    set CU[JV] = 'h08V'
    set LU[JV] = 'I0J8'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
    set EV[JV] = 0
    set FV[JV] = RZ
    set JV = JV + 1
    set AU[JV] = 'I03L'
    set BU[JV] = 'I04P'
    set CU[JV] = 'h08M'
    set LU[JV] = 'I0CE'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
    set EV[JV] = 0
    set FV[JV] = SX
    set JV = JV + 1
    set AU[JV] = 'I05A'
    set BU[JV] = 'I05I'
    set CU[JV] = 'h08H'
    set LU[JV] = 0
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
    set EV[JV] = 0
    set FV[JV] = JB
    set JV = JV + 1
    set AU[JV] = 'I037'
    set BU[JV] = 'I04B'
    set CU[JV] = 'h093'
    set LU[JV] = 'I0CR'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
    set EV[JV] = 0
    set FV[JV] = EW
    set JV = JV + 1
    set AU[JV] = 'I02Q'
    set BU[JV] = 'I02O'
    set CU[JV] = 'h0BO'
    set LU[JV] = 'I00A'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"
    set EV[JV] = 0
    set FV[JV] = MV
    set JV = JV + 1
    set AU[JV] = 'I032'
    set BU[JV] = 'I046'
    set CU[JV] = 'h0EV'
    set LU[JV] = 'I0CZ'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"
    set EV[JV] = 0
    set FV[JV] = XV
    set JV = JV + 1
    set AU[JV] = 'I0MA'
    set BU[JV] = 'I0M9'
    set CU[JV] = 'h0CN'
    set LU[JV] = 'I0MB'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"
    set EV[JV] = 0
    set FV[JV] = ER4
    set JV = JV + 1
    set AU[JV] = 'I033'
    set BU[JV] = 'I047'
    set CU[JV] = 'h0D0'
    set LU[JV] = 'I0D7'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
    set EV[JV] = 0
    set FV[JV] = AV
    set JV = JV + 1
    set AU[JV] = 'I0AU'
    set BU[JV] = 'I0AN'
    set CU[JV] = 'n12Y'
    set LU[JV] = 'I0DO'
    set DV[JV] = "ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"
    set EV[JV] = 0
    set FV[JV] = XY
    call E5()
    set FY7 = InitHashtable()
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AB11))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function AH01))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TI9))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SELL)
    call TriggerAddCondition(t, Condition(function Y6G))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_PAWN_ITEM)
    call TriggerAddCondition(t, Condition(function ZKG))
    set GW4 = t
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function GlobalItemCount))
    set t = null
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function MeleeRangedMorphEffect))
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function MeleeRangedMorphFinish))
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_PAWN_ITEM)
    call TriggerAddCondition(t, Condition(function N3H))
    set T34 = t
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddCondition(t, Condition(function BS9))
    set BH = t
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function BQ9))
    set t = null
    set t = CreateTrigger()
    call AUSI(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QCG))
    set t = null
    set t = CreateTrigger()
    call AUSI(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call AUSI(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function ZZG))
    set cH = t
    set t = null
    set t = CreateTrigger()
    set t = CreateTrigger()
    call AUSI(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function ZK9)
    call TriggerAddCondition(t, Condition(function ZG9))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function ZO9))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddAction(t, function V79)
    call TriggerAddCondition(t, Condition(function U09))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .33, true)
    call TriggerAddCondition(t, Condition(function VX9))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .75, true)
    call TriggerAddCondition(t, Condition(function VB9))
    set t = null
    //! runtextmacro MainGeneralPlayerRankMac("call SetPlayerAbilityAvailable(",", 'A174', false)")
    set t = CreateTrigger()
    call AUSI(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function V39))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(t, Condition(function ZBG))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function ZAG))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function Z3G))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(t, Condition(function Z1G))
    set AMG0[0] = 'A2VP'
    set AMG0[1] = 'A2VQ'
    set AMG0[2] = 'A2VR'
    set AMG0[3] = 'A2VS'
    set AMG0[4] = 'A2VT'
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddAction(t, function AV9O)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function ADG))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(t, Condition(function CGG))
    set t = null
    call LHG()
    call SetAltMinimapIcon("war3mapImported\\black.blp")
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function L6G))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EPH))
    //! runtextmacro MainGeneralPlayerRankMac("call SetPlayerAbilityAvailable(",", 'A1VV', false)")
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddAction(t, function EQH)
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function X79)
    call TriggerAddCondition(t, Condition(function X49))
    call C5H()
    set t = CreateTrigger()
    call TriggerRegisterUnitInRange(t, FJ, 300, Condition(function KF8))
    call TriggerRegisterUnitInRange(t, lJ, 300, Condition(function KF8))
    call TriggerRegisterUnitInRange(t, DJ, 300, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function X89))
    set t = null
    set GS = CreateTrigger()
    call TriggerAddAction(GS, function X99)
    set HS = CreateTrigger()
    call TriggerAddAction(HS, function XD9)
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, Xr)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, Uo)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, bE)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function XE9))
    set t = null
    set HZE = null
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, zo)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, jo)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, XE)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function XF9))
    set t = null
    set HZE = null
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, Er)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, to)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, BE)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function XG9))
    set t = null
    set HZE = null
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, er)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, lo)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, OE)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function XH9))
    set t = null
    set HZE = null
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, Qo)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, ar)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, AE)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function XI9))
    set t = null
    set HZE = null
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, wo)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, go)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    set HZE = CreateRegion()
    call RegionAddRect(HZE, IE)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function XJ9))
    set t = null
    set HZE = null
    set JS = CreateTrigger()
    call TriggerAddAction(JS, function XV9)
    set cA = CreateTrigger()
    call TriggerRegisterUnitEvent(cA, JH4, EVENT_UNIT_DEATH)
    call TriggerAddAction(cA, function XX9)
    set CA = CreateTrigger()
    call TriggerRegisterUnitEvent(CA, JI4, EVENT_UNIT_DEATH)
    call TriggerAddAction(CA, function XY9)
    set dA = CreateTrigger()
    call TriggerRegisterUnitEvent(dA, JJ4, EVENT_UNIT_DEATH)
    call TriggerAddAction(dA, function XZ9)
    set DA = CreateTrigger()
    call TriggerRegisterUnitEvent(DA, JE4, EVENT_UNIT_DEATH)
    call TriggerAddAction(DA, function XA9)
    set fA = CreateTrigger()
    call TriggerRegisterUnitEvent(fA, JF4, EVENT_UNIT_DEATH)
    call TriggerAddAction(fA, function XB9)
    set FA = CreateTrigger()
    call TriggerRegisterUnitEvent(FA, JG4, EVENT_UNIT_DEATH)
    call TriggerAddAction(FA, function XC9)
    set gA = CreateTrigger()
    call TriggerRegisterUnitEvent(gA, J_4, EVENT_UNIT_DEATH)
    call TriggerAddAction(gA, function X39)
    set GA = CreateTrigger()
    call TriggerRegisterUnitEvent(GA, K44, EVENT_UNIT_DEATH)
    call TriggerAddAction(GA, function X69)
    set LA = CreateTrigger()
    call TriggerRegisterUnitEvent(LA, K74, EVENT_UNIT_DEATH)
    call TriggerAddAction(LA, function XL9)
    set mA = CreateTrigger()
    call TriggerRegisterUnitEvent(mA, J04, EVENT_UNIT_DEATH)
    call TriggerAddAction(mA, function X19)
    set MA = CreateTrigger()
    call TriggerRegisterUnitEvent(MA, J54, EVENT_UNIT_DEATH)
    call TriggerAddAction(MA, function X09)
    set PA = CreateTrigger()
    call TriggerRegisterUnitEvent(PA, J24, EVENT_UNIT_DEATH)
    call TriggerAddAction(PA, function X59)
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, IY4, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function X29))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JV4, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function Y49))
    set t = null
    set SA = CreateTrigger()
    call QQ8(SA, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(SA, Condition(function Y79))
    call TriggerAddAction(SA, function Y89)
    set TA = CreateTrigger()
    call QQ8(TA, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(TA, Condition(function Y99))
    call TriggerAddAction(TA, function YD9)
    set KS = CreateTrigger()
    call TriggerAddAction(KS, function YE9)
    set wA = CreateTrigger()
    call TriggerRegisterTimerEvent(wA, 75., false)
    call TriggerAddAction(wA, function YF9)
    set MS = CreateTrigger()
    call TriggerAddCondition(MS, Condition(function ZE9))
    set OS = CreateTrigger()
    call TriggerAddAction(OS, function ZF9)
    set vA = CreateTrigger()
    call TriggerAddAction(vA, function KI9)
    set eA = CreateTrigger()
    call QQ8(eA, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(eA, Condition(function KK9))
    call TriggerAddAction(eA, function KM9)
    set xA = CreateTrigger()
    call QQ8(xA, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(xA, Condition(function KN9))
    call TriggerAddAction(xA, function KO9)
    set FS = CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(FS, 1.)
    call TriggerAddAction(FS, function KT9)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SELECTED)
    call TriggerAddCondition(t, Condition(function NOD))
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DESELECTED)
    call TriggerAddCondition(t, Condition(function NMD))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I04, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I04, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MO9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I24, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I24, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MP9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I_4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I_4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MQ9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J44, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J44, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MR9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J74, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J74, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MS9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J84, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J84, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MT9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J94, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J94, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MU9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JD4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JD4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MV9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JE4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JE4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MW9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JF4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JF4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MX9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JG4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JG4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MY9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JH4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JH4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MZ9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JI4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JI4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MA9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JJ4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JJ4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MB9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, IY4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, IY4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MC9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JZ4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JZ4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function K_9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JA4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JA4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M49))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JB4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JB4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M79))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JC4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JC4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M89))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J34, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J34, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M99))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J64, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J64, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MD9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JL4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JL4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function ME9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J14, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J14, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MF9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J04, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J04, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MG9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J54, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J54, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MH9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J24, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J24, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MI9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, J_4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, J_4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MJ9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, K44, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, K44, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MK9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, K74, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, K74, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MM9))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, JV4, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, JV4, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MN9))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1., true)
    call TriggerAddCondition(t, Condition(function K09))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 5., true)
    call TriggerAddCondition(t, Condition(function N49))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 4., true)
    call TriggerAddCondition(t, Condition(function NE9))
    set t = null
    set KU = OG8()
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, bj_mapInitialPlayableArea)
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function NK9))
    set t = null
    set HZE = null
    call DestroyFogModifier(CreateFogModifierRadius(G8[0], FOG_OF_WAR_VISIBLE, - 4550, 1250, 300, true, true))
    call DestroyFogModifier(CreateFogModifierRadius(N8[0], FOG_OF_WAR_VISIBLE, - 4550, 1250, 300, true, true))
    call DestroyFogModifier(CreateFogModifierRadius(G8[0], FOG_OF_WAR_VISIBLE, 3200, 1, 300, true, true))
    call DestroyFogModifier(CreateFogModifierRadius(N8[0], FOG_OF_WAR_VISIBLE, 3200, 1, 300, true, true))
    call DestroyFogModifier(CreateFogModifierRadius(G8[0], FOG_OF_WAR_VISIBLE, - 7292, 4186, 450, true, true))
    call DestroyFogModifier(CreateFogModifierRadius(N8[0], FOG_OF_WAR_VISIBLE, - 7292, 4186, 450, true, true))
    call DestroyFogModifier(CreateFogModifierRadius(G8[0], FOG_OF_WAR_VISIBLE, 7348, - 4334, 450, true, true))
    call DestroyFogModifier(CreateFogModifierRadius(N8[0], FOG_OF_WAR_VISIBLE, 7348, - 4334, 450, true, true))
    call DestroyFogModifier(CreateFogModifierRect(G8[0], FOG_OF_WAR_VISIBLE, IJ4, true, true))
    call DestroyFogModifier(CreateFogModifierRect(N8[0], FOG_OF_WAR_VISIBLE, IJ4, true, true))
    set O84 = CreateTrigger()
    call TriggerRegisterUnitEvent(O84, JV4, EVENT_UNIT_DEATH)
    call TriggerAddAction(O84, function T19)
    set O94 = CreateTrigger()
    call TriggerRegisterUnitEvent(O94, IY4, EVENT_UNIT_DEATH)
    call TriggerAddAction(O94, function T69)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddAction(t, function UT9)
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGING)
    call TriggerAddCondition(t, Condition(function GlobalAttackEffectCondition))
    call TriggerAddAction(t, function GlobalAttackEffect)
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function GlobalDamagedEffectCondition))
    call TriggerAddAction(t, function GlobalDamagedEffect)
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function AA12))
    set t = null
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function VJF)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UW9))
    set t = null
    set OE4 = CreateTrigger()
    call TriggerAddAction(OE4, function UA9)
    set t = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(t, O8, EVENT_PLAYER_UNIT_ATTACKED, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function UC9))
    set t = null
    set ow = CreateRegion()
    call RegionAddRect(ow, RE)
    call RegionAddRect(ow, di)
    call RegionAddRect(ow, fi)
    call RegionAddRect(ow, Fi)
    call RegionAddRect(ow, Gi)
    call RegionAddRect(ow, Ji)
    call RegionAddRect(ow, li)
    call RegionAddRect(ow, Li)
    call RegionAddRect(ow, pi)
    set UM4 = CreateRegion()
    call RegionAddRect(UM4, YN)
    call RegionAddRect(UM4, ZN)
    set EA = CreateTrigger()
    call TriggerRegisterEnterRectSimple(EA, bj_mapInitialPlayableArea)
    call TriggerAddCondition(EA, Condition(function V69))
    call TriggerAddAction(EA, function VL9)
    set OA = CreateTrigger()
    call QQ8(OA, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(OA, Condition(function V19))
    call TriggerAddAction(OA, function V09)
    set RA = CreateTrigger()
    call QQ8(RA, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(RA, Condition(function V59))
    call TriggerAddAction(RA, function V29)
    if(bj_isSinglePlayer and V_9())then
        call W19()
    endif
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, V8, "-wtf", true)
    call TriggerAddAction(t, function W59)
    call TriggerAddCondition(t, Condition(function W09))
    set t = CreateTrigger()
    //! runtextmacro MainGeneralPlayerRankMac("call TriggerRegisterPlayerUnitEvent(t, ",", EVENT_PLAYER_HERO_LEVEL, Condition(function KF8))")
    call TriggerAddCondition(t, Condition(function W29))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, V8, "-test", true)
    call TriggerAddCondition(t, Condition(function W_9))
    set t = null
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function WBF))
    set t = null
    set HZE = null
    set t = CreateTrigger()
    call TriggerRegisterUnitInRange(t, FJ, 300, Condition(function KF8))
    call TriggerRegisterUnitInRange(t, lJ, 300, Condition(function KF8))
    call TriggerRegisterUnitInRange(t, DJ, 300, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function CI9))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 25., false)
    call TriggerAddAction(t, function CS9)
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 2., false)
    call TriggerAddCondition(t, Condition(function CG9))
    set t = null
    set U44 = CreateRegion()
    call RegionAddRect(U44, XD)
    call RegionAddRect(U44, WD)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 25., false)
    call TriggerAddAction(t, function CQ9)
    set t = null
    set t = CreateTrigger()
    //! runtextmacro MainGeneralPlayerRankMac("call TriggerRegisterPlayerChatEvent(t, ",", \"-\", false)")
    call TriggerAddAction(t, function CZ9)
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function FOD))
    call TriggerAddAction(t, function FSD)
    set AW[0] = false
    set AW[1] = false
    set AW[2] = false
    set AW[3] = false
    set AW[4] = false
    set AW[5] = false
    set AW[6] = false
    set AW[7] = false
    set AW[8] = false
    set AW[9] = false
    set AW[10] = false
    set AW[11] = false
    set AW[12] = false
    set AW[13] = false
    set AW[14] = false
    set AW[15] = false
    set AW[16] = false
    set Ob[0] = false
    set Ob[1] = false
    set Ob[2] = false
    set Ob[3] = false
    set Ob[4] = false
    set Ob[5] = false
    set Ob[6] = false
    set Ob[7] = false
    set Ob[8] = false
    set Ob[9] = false
    set Ob[10] = false
    set Ob[11] = false
    set Ob[12] = false
    set Ob[13] = false
    set Ob[14] = false
    set Ob[15] = false
    set Ob[16] = false
    set Ab[0] = true
    set Ab[1] = true
    set Ab[2] = true
    set Ab[3] = true
    set Ab[4] = true
    set Ab[5] = true
    set Ab[6] = true
    set Ab[7] = true
    set Ab[8] = true
    set Ab[9] = true
    set Ab[10] = true
    set Ab[11] = true
    set Ab[12] = true
    set Ab[13] = true
    set Ab[14] = true
    set Ab[15] = true
    set Ab[16] = true
    set OC4[0] = false
    set OC4[1] = false
    set OC4[2] = false
    set OC4[3] = false
    set OC4[4] = false
    set OC4[5] = false
    set OC4[6] = false
    set OC4[7] = false
    set OC4[8] = false
    set OC4[9] = false
    set OC4[10] = false
    set OC4[11] = false
    set OC4[12] = false
    set OC4[13] = false
    set OC4[14] = false
    set OC4[15] = false
    set OC4[16] = false
    //! runtextmacro MainGeneralPlayerRankMac("set OC4[GetPlayerId(",")] = true")
    call FLD()
    set MT[0] = true
    set MT[1] = true
    set MT[2] = true
    set MT[3] = true
    set MT[4] = true
    set MT[5] = true
    set MT[6] = true
    set MT[7] = true
    set MT[8] = true
    set MT[9] = true
    set MT[10] = true
    set MT[11] = true
    set MT[12] = true
    set MT[13] = true
    set MT[14] = true
    set MT[15] = true
    set ib[0] = false
    set ib[1] = false
    set ib[2] = false
    set ib[3] = false
    set ib[4] = false
    set ib[5] = false
    set ib[6] = false
    set ib[7] = false
    set ib[8] = false
    set ib[9] = false
    set ib[10] = false
    set ib[11] = false
    set ib[12] = false
    set ib[13] = false
    set ib[14] = false
    //! runtextmacro MainGeneralPlayerRankMac("set CW[GetPlayerId(",")] = false")
    //! runtextmacro MainGeneralPlayerRankMac("set ab[GetPlayerId(",")] = false")
    set t = CreateTrigger()
    call AUSI(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call AUSI(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call AUSI(t, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerAddCondition(t, Condition(function CY9))
    call TriggerAddCondition(t, Condition(function ZWG))
    //! runtextmacro MainGeneralPlayerRankMac("set PT[GetPlayerId(",")] = false")
    //! runtextmacro MainGeneralPlayerRankMac("set KT[GetPlayerId(",")] = false")
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerAddCondition(t, Condition(function F_D))
    set Nb[0] = false
    set Nb[1] = false
    set Nb[2] = false
    set Nb[3] = false
    set Nb[4] = false
    set Nb[5] = false
    set Nb[6] = false
    set Nb[7] = false
    set Nb[8] = false
    set Nb[9] = false
    set Nb[10] = false
    set Nb[11] = false
    set Nb[12] = false
    set Nb[13] = false
    set Nb[14] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\Rifleman\\RiflemanPissed1.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\Rifleman\\RiflemanPissed2.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\Rifleman\\RiflemanPissed3.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\Rifleman\\RiflemanPissed4.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\Rifleman\\RiflemanPissed5.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\Rifleman\\RiflemanPissed6.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\Rifleman\\RiflemanPissed7.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Human\\Rifleman\\RiflemanPissed8.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav"
    set db[Fb] = false
    set Fb = Fb + 1
    set Cb[Fb] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\Ogre\\OgrePissed1.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\Ogre\\OgrePissed2.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\Ogre\\OgrePissed3.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\Ogre\\OgrePissed4.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\Ogre\\OgrePissed5.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed2.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed3.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed4.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed5.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed6.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed7.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed2.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed3.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed4.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed2.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed3.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed4.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed5.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed6.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed7.wav"
    set db[Fb] = false
    set Cb[Fb] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed8.wav"
    set db[Fb] = false
    set t = CreateTrigger()
    set EC8 = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .02, true)
    call TriggerAddCondition(t, Condition(function HTD))
    call SaveReal(R8, (EC8), (149), (0.))
    call SaveReal(R8, (EC8), (150), (0.))
    call SaveReal(R8, (EC8), (151), (160.))
    set fb[0] = false
    set fb[1] = false
    set fb[2] = false
    set fb[3] = false
    set fb[4] = false
    set fb[5] = false
    set fb[6] = false
    set fb[7] = false
    set fb[8] = false
    set fb[9] = false
    set fb[10] = false
    set fb[11] = false
    set fb[12] = false
    set t = null
    set t = CreateTrigger()
    call TriggerAddAction(t, function JND)
    call TriggerAddCondition(t, Condition(function HAD))
    set BD4 = t
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .01, false)
    call TriggerAddCondition(t, Condition(function JOD))
    set t = null
    if L8 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 1., true)
        call TriggerAddCondition(t, Condition(function NKD))
    endif
    set t = null
    set Tj = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(Tj, A[1])
    call TriggerAddAction(Tj, function NRD)
    set Uj = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(Uj, A[2])
    call TriggerAddAction(Uj, function NSD)
    set wj = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(wj, A[3])
    call TriggerAddAction(wj, function NTD)
    set zj = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(zj, A[4])
    call TriggerAddAction(zj, function NUD)
    set Zj = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(Zj, A[5])
    call TriggerAddAction(Zj, function NVD)
    set vJ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(vJ, A[7])
    call TriggerAddAction(vJ, function NWD)
    set eJ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(eJ, A[8])
    call TriggerAddAction(eJ, function NXD)
    set xJ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(xJ, A[9])
    call TriggerAddAction(xJ, function NYD)
    set oJ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(oJ, A[10])
    call TriggerAddAction(oJ, function NZD)
    set iJ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(iJ, A[11])
    call TriggerAddAction(iJ, function NAD)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15., false)
    call TriggerAddCondition(t, Condition(function NCD))
    set YS4 = CreateTrigger()
    call TriggerRegisterTimerEvent(YS4, 65., false)
    call TriggerAddAction(YS4, function NLD)
    set YT4 = CreateTrigger()
    call TriggerRegisterTimerEvent(YT4, 90., false)
    call TriggerAddAction(YT4, function N1D)
    set HT4 = CreateTrigger()
    call TriggerRegisterTimerEvent(HT4, 120., false)
    call TriggerAddAction(HT4, function N0D)
    set t = CreateTrigger()
    set HZE = CreateRegion()
    call RegionAddRect(HZE, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, HZE, Condition(function KF8))
    call TriggerAddCondition(t, Condition(function SDG))
    set YS[1] = 'A0VS'
    set YS[2] = 'A0VK'
    set YS[3] = 'A0VQ'
    set YS[4] = 'A0XL'
    set YS[5] = 'A0VM'
    set YS[6] = 'A0VN'
    set YS[7] = 'A0VO'
    set YS[8] = 'A0VP'
    set YS[9] = 'A0VG'
    set YS[10] = 'A0VZ'
    set t = null
    set HZE = null
    if bool_TestVersion then
        call BlzLoadTOCFile("UI\\FrameDef\\DotaFrameDef.toc")
        call InitializeFrames()
    endif
    set t = CreateTrigger()
    call QQ8(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CooldownDetectCondt))
    call TriggerAddAction(t, function CooldownDetect)
endfunction
function config takes nothing returns nothing
    call SetMapName("TRIGSTR_50000")
    call SetMapDescription("TRIGSTR_50001")
    call SetPlayers(MAX_TEAM_PLAYERS * 2)
    call SetTeams(MAX_TEAM_PLAYERS * 2)
    if bool_TestVersion then
        call SetPlayers(MAX_TEAM_PLAYERS * 2 + 1)
        call SetTeams(MAX_TEAM_PLAYERS * 2 + 1)
    endif
    call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
    call DefineStartLocation(0, - 6990., 6840.)
    call DefineStartLocation(1, - 6990., 6840.)
    call DefineStartLocation(2, - 6990., 6840.)
    call DefineStartLocation(3, - 6990., 6840.)
    call DefineStartLocation(4, - 6990., 6840.)
    call DefineStartLocation(5, - 6990., 6840.)
    call DefineStartLocation(6, - 6990., 6840.)
    call DefineStartLocation(7, - 6990., 6840.)
    call DefineStartLocation(8, - 6990., 6840.)
    call DefineStartLocation(9, - 6990., 6840.)
    if bool_TestVersion then
        call SetPlayerStartLocation(Player(0), 0)
        call ForcePlayerStartLocation(Player(0), 0)
        call SetPlayerColor(Player(0), ConvertPlayerColor(0))
        call SetPlayerRacePreference(Player(0), RACE_PREF_NIGHTELF)
        call SetPlayerRaceSelectable(Player(0), false)
        call SetPlayerController(Player(0), MAP_CONTROL_USER)
        call SetPlayerTeam(Player(0), 0)
    endif
    //! textmacro ConfigPlayerSent takes PLAYER_ID
        call SetPlayerStartLocation(Player($PLAYER_ID$), 0)
        call ForcePlayerStartLocation(Player($PLAYER_ID$), 0)
        call SetPlayerColor(Player($PLAYER_ID$), ConvertPlayerColor($PLAYER_ID$))
        call SetPlayerRacePreference(Player($PLAYER_ID$), RACE_PREF_NIGHTELF)
        call SetPlayerRaceSelectable(Player($PLAYER_ID$), false)
        call SetPlayerController(Player($PLAYER_ID$), MAP_CONTROL_USER)
    //! endtextmacro
    static if MAX_TEAM_PLAYERS_GE_1 then
        //! runtextmacro ConfigPlayerSent("1")
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        //! runtextmacro ConfigPlayerSent("2")
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        //! runtextmacro ConfigPlayerSent("3")
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        //! runtextmacro ConfigPlayerSent("4")
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        //! runtextmacro ConfigPlayerSent("5")
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        //! runtextmacro ConfigPlayerSent("12")
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        //! runtextmacro ConfigPlayerSent("13")
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        //! runtextmacro ConfigPlayerSent("14")
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        //! runtextmacro ConfigPlayerSent("15")
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        //! runtextmacro ConfigPlayerSent("16")
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        //! runtextmacro ConfigPlayerSent("17")
    endif
    //! textmacro ConfigPlayerScrg takes PLAYER_ID
        call SetPlayerStartLocation(Player($PLAYER_ID$), 0)
        call ForcePlayerStartLocation(Player($PLAYER_ID$), 0)
        call SetPlayerColor(Player($PLAYER_ID$), ConvertPlayerColor($PLAYER_ID$))
        call SetPlayerRacePreference(Player($PLAYER_ID$), RACE_PREF_UNDEAD)
        call SetPlayerRaceSelectable(Player($PLAYER_ID$), false)
        call SetPlayerController(Player($PLAYER_ID$), MAP_CONTROL_USER)
    //! endtextmacro
    static if MAX_TEAM_PLAYERS_GE_1 then
        //! runtextmacro ConfigPlayerScrg("7")
    endif
    static if MAX_TEAM_PLAYERS_GE_2 then
        //! runtextmacro ConfigPlayerScrg("8")
    endif
    static if MAX_TEAM_PLAYERS_GE_3 then
        //! runtextmacro ConfigPlayerScrg("9")
    endif
    static if MAX_TEAM_PLAYERS_GE_4 then
        //! runtextmacro ConfigPlayerScrg("10")
    endif
    static if MAX_TEAM_PLAYERS_GE_5 then
        //! runtextmacro ConfigPlayerScrg("11")
    endif
    static if MAX_TEAM_PLAYERS_GE_6 then
        //! runtextmacro ConfigPlayerScrg("18")
    endif
    static if MAX_TEAM_PLAYERS_GE_7 then
        //! runtextmacro ConfigPlayerScrg("19")
    endif
    static if MAX_TEAM_PLAYERS_GE_8 then
        //! runtextmacro ConfigPlayerScrg("20")
    endif
    static if MAX_TEAM_PLAYERS_GE_9 then
        //! runtextmacro ConfigPlayerSent("21")
    endif
    static if MAX_TEAM_PLAYERS_GE_10 then
        //! runtextmacro ConfigPlayerScrg("22")
    endif
    static if MAX_TEAM_PLAYERS_GE_11 then
        //! runtextmacro ConfigPlayerScrg("23")
    endif
    call InitCustomTeams()
    //! textmacro SPNPASCMac takes PLAYER_RANK, PLAYER_ID
        static if MAX_TEAM_PLAYERS_GE_$PLAYER_RANK$ then
            call SetPlayerAlliance(Player(PLAYER_NEUTRAL_PASSIVE), Player($PLAYER_ID$), ALLIANCE_SHARED_CONTROL, true)
        endif
    //! endtextmacro
    //! runtextmacro SPNPASCMac("1","1")
    //! runtextmacro SPNPASCMac("2","2")
    //! runtextmacro SPNPASCMac("3","3")
    //! runtextmacro SPNPASCMac("4","4")
    //! runtextmacro SPNPASCMac("5","5")
    //! runtextmacro SPNPASCMac("6","12")
    //! runtextmacro SPNPASCMac("7","13")
    //! runtextmacro SPNPASCMac("8","14")
    //! runtextmacro SPNPASCMac("9","15")
    //! runtextmacro SPNPASCMac("10","16")
    //! runtextmacro SPNPASCMac("11","17")
    //! runtextmacro SPNPASCMac("1","7")
    //! runtextmacro SPNPASCMac("2","8")
    //! runtextmacro SPNPASCMac("3","9")
    //! runtextmacro SPNPASCMac("4","10")
    //! runtextmacro SPNPASCMac("5","11")
    //! runtextmacro SPNPASCMac("6","18")
    //! runtextmacro SPNPASCMac("7","19")
    //! runtextmacro SPNPASCMac("8","20")
    //! runtextmacro SPNPASCMac("9","21")
    //! runtextmacro SPNPASCMac("10","22")
    //! runtextmacro SPNPASCMac("11","23")
    call SetStartLocPrioCount(0, 9)
    call SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(1, 9)
    call SetStartLocPrio(1, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(2, 9)
    call SetStartLocPrio(2, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(3, 9)
    call SetStartLocPrio(3, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(4, 9)
    call SetStartLocPrio(4, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(5, 9)
    call SetStartLocPrio(5, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(6, 9)
    call SetStartLocPrio(6, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(7, 9)
    call SetStartLocPrio(7, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 6, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(8, 9)
    call SetStartLocPrio(8, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 6, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 7, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(9, 9)
    call SetStartLocPrio(9, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 6, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 7, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 8, 8, MAP_LOC_PRIO_HIGH)
endfunction
